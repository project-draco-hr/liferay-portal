{
  JobState jobState=getJobState(jobName,groupName);
  if (trigger != null) {
    message.put(END_TIME,trigger.getEndTime());
    message.put(FINAL_FIRE_TIME,trigger.getFinalFireTime());
    message.put(NEXT_FIRE_TIME,trigger.getNextFireTime());
    message.put(PREVIOUS_FIRE_TIME,trigger.getPreviousFireTime());
    message.put(START_TIME,trigger.getStartTime());
  }
 else {
    TriggerState triggerState=jobState.getTriggerState();
    if (triggerState.equals(TriggerState.NORMAL)) {
      jobState.setTriggerState(TriggerState.COMPLETE);
    }
  }
  message.put(JOB_STATE,jobState.clone());
}
