{
  if (_classLoader != null) {
    return _classLoader;
  }
  try {
    File coreDir=new File(PropsValues.MODULE_FRAMEWORK_CORE_DIR);
    File[] files=coreDir.listFiles();
    URL[] urls=new URL[files.length];
    for (int i=0; i < urls.length; i++) {
      urls[i]=new URL("file:" + files[i].getAbsolutePath());
    }
    _classLoader=new ModuleFrameworkClassLoader(urls,ClassLoaderUtil.getPortalClassLoader());
    return _classLoader;
  }
 catch (  Exception e) {
    _log.error("Unable to configure the class loader for the module " + "framework");
    throw new RuntimeException(e);
  }
}
