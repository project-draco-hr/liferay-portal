{
  if (Validator.isNull(screenName)) {
    screenName=String.valueOf(userId);
  }
  UserModel userModel=new UserModelImpl();
  userModel.setUuid(SequentialUUID.generate());
  userModel.setUserId(userId);
  userModel.setCompanyId(_companyId);
  userModel.setCreateDate(new Date());
  userModel.setModifiedDate(new Date());
  userModel.setDefaultUser(defaultUser);
  userModel.setContactId(_counter.get());
  userModel.setPassword("test");
  userModel.setPasswordModifiedDate(new Date());
  userModel.setReminderQueryQuestion("What is your screen name?");
  userModel.setReminderQueryAnswer(screenName);
  userModel.setEmailAddress(screenName + "@liferay.com");
  userModel.setScreenName(screenName);
  userModel.setLanguageId("en_US");
  userModel.setGreeting("Welcome " + screenName + StringPool.EXCLAMATION);
  userModel.setFirstName(firstName);
  userModel.setLastName(lastName);
  userModel.setLoginDate(new Date());
  userModel.setLastLoginDate(new Date());
  userModel.setLastFailedLoginDate(new Date());
  userModel.setLockoutDate(new Date());
  userModel.setAgreedToTermsOfUse(true);
  userModel.setEmailAddressVerified(true);
  userModel.setLastPublishDate(new Date());
  return userModel;
}
