{
  httpServletResponse.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
  try {
    ServletOutputStream outputStream=httpServletResponse.getOutputStream();
    httpServletResponse.setContentType(StringPool.UTF8);
    PrintWriter printWriter=new PrintWriter(outputStream);
    throwable.printStackTrace(printWriter);
    printWriter.flush();
  }
 catch (  IOException ioe) {
    if (_log.isErrorEnabled()) {
      _log.error("Unexpected error while signaling " + throwable.getMessage(),ioe);
    }
  }
}
