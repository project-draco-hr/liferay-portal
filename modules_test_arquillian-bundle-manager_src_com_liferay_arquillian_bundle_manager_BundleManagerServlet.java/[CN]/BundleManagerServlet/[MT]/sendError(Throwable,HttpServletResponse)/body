{
  response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
  try {
    ServletOutputStream outputStream=response.getOutputStream();
    response.setContentType(StringPool.UTF8);
    PrintWriter printWriter=new PrintWriter(outputStream);
    throwable.printStackTrace(printWriter);
    printWriter.flush();
  }
 catch (  IOException ioe) {
    _log.error("Unexpected error while signaling " + throwable.getMessage(),ioe);
  }
}
