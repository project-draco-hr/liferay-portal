{
  GroupPermissionUtil.check(getPermissionChecker(),stagingGroupId,ActionKeys.MANAGE_LAYOUTS);
  GroupPermissionUtil.check(getPermissionChecker(),liveGroupId,ActionKeys.MANAGE_LAYOUTS);
  String command=StringPool.BLANK;
  if (scope.equals("all-pages")) {
    command=LayoutsPublisherRequest.COMMAND_ALL_PAGES;
  }
 else   if (scope.equals("selected-pages")) {
    command=LayoutsPublisherRequest.COMMAND_SELECTED_PAGES;
  }
  LayoutsPublisherRequest layoutsPublisherRequest=new LayoutsPublisherRequest(command,getUserId(),stagingGroupId,liveGroupId,privateLayout,layoutIdMap,parameterMap);
  SchedulerEngineUtil.schedule(getSchedulerGroupName(liveGroupId),cronText,startDate,endDate,description,DestinationNames.LAYOUTS_PUBLISHER,JSONUtil.serialize(layoutsPublisherRequest));
}
