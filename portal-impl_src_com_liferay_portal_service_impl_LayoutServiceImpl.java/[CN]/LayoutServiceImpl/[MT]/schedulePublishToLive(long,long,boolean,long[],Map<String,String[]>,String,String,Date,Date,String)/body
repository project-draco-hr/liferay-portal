{
  GroupPermissionUtil.check(getPermissionChecker(),targetGroupId,ActionKeys.PUBLISH_STAGING);
  Trigger trigger=TriggerFactoryUtil.createTrigger(PortalUUIDUtil.generate(),groupName,schedulerStartDate,schedulerEndDate,cronText);
  User user=userPersistence.findByPrimaryKey(getUserId());
  Map<String,Serializable> publishLayoutLocalSettingsMap=ExportImportConfigurationSettingsMapFactory.buildPublishLayoutLocalSettingsMap(user,sourceGroupId,targetGroupId,privateLayout,layoutIds,parameterMap);
  ExportImportConfiguration exportImportConfiguration=exportImportConfigurationLocalService.addDraftExportImportConfiguration(getUserId(),trigger.getJobName(),ExportImportConfigurationConstants.TYPE_SCHEDULED_PUBLISH_LAYOUT_LOCAL,publishLayoutLocalSettingsMap);
  SchedulerEngineHelperUtil.schedule(trigger,StorageType.PERSISTED,description,DestinationNames.LAYOUTS_LOCAL_PUBLISHER,exportImportConfiguration.getExportImportConfigurationId(),0);
}
