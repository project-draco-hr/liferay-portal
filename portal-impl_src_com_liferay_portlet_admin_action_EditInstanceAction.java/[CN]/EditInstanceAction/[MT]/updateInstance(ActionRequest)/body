{
  long companyId=ParamUtil.getLong(req,"companyId");
  String webId=ParamUtil.getString(req,"webId");
  String virtualHost=ParamUtil.getString(req,"virtualHost");
  boolean allowWildcard=ParamUtil.getBoolean(req,"allowWildcard");
  String aliases=ParamUtil.getString(req,"aliases");
  String mx=ParamUtil.getString(req,"mx");
  if (companyId <= 0) {
    Company company=CompanyServiceUtil.addCompany(webId,virtualHost,allowWildcard,aliases,mx);
    ServletContext ctx=(ServletContext)req.getAttribute(WebKeys.CTX);
    PortalInstances.initCompany(ctx,company.getWebId());
  }
 else {
    CompanyServiceUtil.updateCompany(companyId,virtualHost,allowWildcard,aliases,mx);
  }
}
