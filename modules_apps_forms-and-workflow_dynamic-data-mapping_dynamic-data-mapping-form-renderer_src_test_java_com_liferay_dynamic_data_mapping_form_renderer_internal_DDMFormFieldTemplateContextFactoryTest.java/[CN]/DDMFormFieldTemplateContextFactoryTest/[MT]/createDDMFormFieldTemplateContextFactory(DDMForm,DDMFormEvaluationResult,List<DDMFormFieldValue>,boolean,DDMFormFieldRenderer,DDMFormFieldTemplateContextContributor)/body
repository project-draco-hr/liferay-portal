{
  DDMFormRenderingContext ddmFormRenderingContext=new DDMFormRenderingContext();
  ddmFormRenderingContext.setLocale(_LOCALE);
  ddmFormRenderingContext.setPortletNamespace(_PORTLET_NAMESPACE);
  ddmFormRenderingContext.setReadOnly(ddmFormReadOnly);
  DDMFormFieldTemplateContextFactory ddmFormFieldTemplateContextFactory=new DDMFormFieldTemplateContextFactory(ddmForm.getDDMFormFieldsMap(true),ddmFormEvaluationResult,ddmFormFieldValues,ddmFormRenderingContext);
  DDMFormFieldTypeServicesTracker ddmFormFieldTypeServicesTracker=mockDDMFormFieldTypeServicesTracker(ddmFormFieldRenderer,ddmFormFieldTemplateContextContributor);
  ddmFormFieldTemplateContextFactory.setDDMFormFieldTypeServicesTracker(ddmFormFieldTypeServicesTracker);
  return ddmFormFieldTemplateContextFactory;
}
