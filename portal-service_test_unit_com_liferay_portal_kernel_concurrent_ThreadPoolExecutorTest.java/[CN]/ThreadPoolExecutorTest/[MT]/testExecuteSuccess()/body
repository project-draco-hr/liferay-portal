{
  ThreadPoolExecutor threadPoolExecutor=new ThreadPoolExecutor(1,2,TestUtil.KEEPALIVE_TIME,TimeUnit.MILLISECONDS,true,3);
  try {
    MarkerBlockingJob markerBlockingJob=new MarkerBlockingJob();
    threadPoolExecutor.execute(markerBlockingJob);
    markerBlockingJob.waitUntilEnded();
    Assert.assertTrue(markerBlockingJob.isEnded());
  }
  finally {
    TestUtil.closePool(threadPoolExecutor);
  }
}
