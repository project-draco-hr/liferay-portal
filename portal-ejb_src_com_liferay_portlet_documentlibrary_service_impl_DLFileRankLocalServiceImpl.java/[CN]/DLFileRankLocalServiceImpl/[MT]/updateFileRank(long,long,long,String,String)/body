{
  DLFileRankPK pk=new DLFileRankPK(companyId,userId,folderId,name);
  try {
    DLFileRankUtil.remove(pk);
  }
 catch (  NoSuchFileRankException nsfre) {
  }
  DLFileRank rank=DLFileRankUtil.create(pk);
  rank.setCreateDate(new Date());
  DLFileRankUtil.update(rank);
  if (DLFileRankFinder.countByG_U(groupId,userId) > 5) {
    List ranks=DLFileRankFinder.findByG_U(groupId,userId);
    DLFileRank lastRank=(DLFileRank)ranks.get(ranks.size() - 1);
    DLFileRankUtil.remove(lastRank.getPrimaryKey());
  }
  return rank;
}
