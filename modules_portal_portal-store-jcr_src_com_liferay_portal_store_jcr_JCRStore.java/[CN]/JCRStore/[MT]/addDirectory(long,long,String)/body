{
  Session session=null;
  try {
    session=_jcrFactoryWrapper.createSession();
    Node rootNode=getRootNode(session,companyId);
    Node repositoryNode=getFolderNode(rootNode,repositoryId);
    if (repositoryNode.hasNode(dirName)) {
      return;
    }
    String[] dirNameArray=StringUtil.split(dirName,'/');
    Node dirNode=repositoryNode;
    for (    String nodeName : dirNameArray) {
      if (Validator.isNotNull(nodeName)) {
        if (dirNode.hasNode(nodeName)) {
          dirNode=dirNode.getNode(nodeName);
        }
 else {
          dirNode=dirNode.addNode(nodeName,JCRConstants.NT_FOLDER);
        }
      }
    }
    session.save();
  }
 catch (  RepositoryException re) {
    throw new SystemException(re);
  }
 finally {
    _jcrFactoryWrapper.closeSession(session);
  }
}
