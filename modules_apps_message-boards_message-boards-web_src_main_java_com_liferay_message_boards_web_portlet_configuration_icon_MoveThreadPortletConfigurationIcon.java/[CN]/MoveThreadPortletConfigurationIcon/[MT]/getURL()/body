{
  try {
    MBMessageDisplay messageDisplay=ActionUtil.getMessageDisplay(portletRequest);
    MBCategory category=messageDisplay.getCategory();
    MBThread thread=messageDisplay.getThread();
    PortletURL portletURL=PortletURLFactoryUtil.create(portletRequest,MBPortletKeys.MESSAGE_BOARDS_ADMIN,themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
    portletURL.setParameter("mvcRenderCommandName","/message_boards/move_thread");
    portletURL.setParameter("redirect",PortalUtil.getCurrentURL(portletRequest));
    portletURL.setParameter("mbCategoryId",String.valueOf(getCategoryId(category)));
    portletURL.setParameter("threadId",String.valueOf(thread.getThreadId()));
    return portletURL.toString();
  }
 catch (  PortalException pe) {
  }
  return StringPool.BLANK;
}
