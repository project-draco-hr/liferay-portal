{
  String newFileName=DLUtil.getSanitizedFileName(newTitle,dlFileEntry.getExtension());
  String title=dlFileEntry.getTitle();
  dlFileEntry.setTitle(newTitle);
  dlFileEntry.setFileName(newFileName);
  DLFileEntryLocalServiceUtil.updateDLFileEntry(dlFileEntry);
  DLFileVersion dlFileVersion=dlFileEntry.getFileVersion();
  dlFileVersion.setTitle(newTitle);
  dlFileVersion.setFileName(newFileName);
  DLFileVersionLocalServiceUtil.updateDLFileVersion(dlFileVersion);
  if (_log.isDebugEnabled()) {
    _log.debug("Invalid document title " + title + " renamed to "+ newTitle+ " for file entry "+ dlFileEntry.getFileEntryId());
  }
}
