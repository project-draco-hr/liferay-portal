{
  try {
    if (!response.isCommitted()) {
      if (contentLength == 0) {
        contentLength=bytes.length;
      }
      response.setContentLength(contentLength);
      ServletOutputStream servletOutputStream=response.getOutputStream();
      servletOutputStream.write(bytes,0,contentLength);
    }
  }
 catch (  IOException ioe) {
    if (ioe instanceof SocketException || ioe.getClass().getName().equals(_CLIENT_ABORT_EXCEPTION)) {
      if (_log.isWarnEnabled()) {
        _log.warn(ioe);
      }
    }
 else {
      throw ioe;
    }
  }
}
