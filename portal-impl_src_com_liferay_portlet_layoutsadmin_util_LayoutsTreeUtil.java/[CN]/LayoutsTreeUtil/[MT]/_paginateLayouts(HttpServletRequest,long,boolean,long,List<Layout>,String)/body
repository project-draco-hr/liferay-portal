{
  if (!_isPaginationEnabled(request)) {
    return layouts;
  }
  HttpSession session=request.getSession();
  int loadedLayoutsCount=_getLoadedLayoutsCount(session,groupId,privateLayout,parentLayoutId,treeId);
  int start=ParamUtil.getInteger(request,"start");
  start=Math.max(0,Math.min(start,layouts.size()));
  int end=ParamUtil.getInteger(request,"end",start + PropsValues.LAYOUT_MANAGE_PAGES_INITIAL_CHILDREN);
  if (loadedLayoutsCount > end) {
    end=loadedLayoutsCount;
  }
  end=Math.max(start,Math.min(end,layouts.size()));
  if (_log.isDebugEnabled()) {
    StringBundler sb=new StringBundler(7);
    sb.append("_paginateLayouts(loadedLayoutsCount=");
    sb.append(loadedLayoutsCount);
    sb.append(", start=");
    sb.append(start);
    sb.append(", end=");
    sb.append(end);
    sb.append(StringPool.CLOSE_PARENTHESIS);
    _log.debug(sb.toString());
  }
  return layouts.subList(start,end);
}
