{
  for (  Element stagedModelsParentElement : stagedModelsParentElements) {
    String className=stagedModelsParentElement.getName();
    List<StagedModel> stagedModelList=dependentStagedModelsMap.get(className);
    if (stagedModelList == null) {
      stagedModelList=new ArrayList<StagedModel>();
    }
 else {
      stagedModelList=ListUtil.copy(stagedModelList);
    }
    if (className.equals(getStagedModelClassName())) {
      stagedModelList.add(stagedModel);
    }
    List<Element> stagedModelElements=stagedModelsParentElement.elements();
    Assert.assertEquals("The number of exported elements in the xml is not right",stagedModelList.size(),stagedModelElements.size());
    for (    Element stagedModelElement : stagedModelElements) {
      String path=stagedModelElement.attributeValue("path");
      if (Validator.isNull(path)) {
        Assert.fail("Path is not defined for an element in the exported " + "xml");
      }
      Iterator<StagedModel> iterator=stagedModelList.iterator();
      while (iterator.hasNext()) {
        StagedModel curModel=iterator.next();
        String curPath=StagedModelPathUtil.getPath(curModel);
        if (path.equals(curPath)) {
          iterator.remove();
        }
      }
    }
    if (!stagedModelList.isEmpty()) {
      Assert.fail("There is more than one element exported with the same " + "path");
    }
  }
}
