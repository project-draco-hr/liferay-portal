{
  try {
    ServiceContext serviceContext=ServiceTestUtil.getServiceContext();
    Group group=ServiceTestUtil.addGroup("BlogsEntryTrashHandlerTest#testMoveBlogsEntryToTrash");
    serviceContext.setScopeGroupId(group.getGroupId());
    BlogsEntry blogsEntry=addBlogsEntry(serviceContext);
    int initialTrashEntriesCount=getTrashEntriesCount(group.getGroupId());
    BlogsEntryServiceUtil.moveEntryToTrash(blogsEntry.getEntryId());
    Assert.assertEquals(WorkflowConstants.STATUS_IN_TRASH,blogsEntry.getStatus());
    TrashEntry trashEntry=TrashEntryLocalServiceUtil.getEntry(BlogsEntry.class.getName(),blogsEntry.getEntryId());
    Assert.assertEquals(blogsEntry.getEntryId(),trashEntry.getClassPK());
    int finalTrashEntriesCount=getTrashEntriesCount(group.getGroupId());
    Assert.assertEquals(initialTrashEntriesCount + 1,finalTrashEntriesCount);
  }
 catch (  Exception e) {
    Assert.fail("Unexpected error moving blogs entry to trash " + e.getMessage());
  }
}
