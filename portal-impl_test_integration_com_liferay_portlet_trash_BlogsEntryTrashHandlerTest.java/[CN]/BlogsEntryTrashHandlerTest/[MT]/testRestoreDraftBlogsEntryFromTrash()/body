{
  try {
    ServiceContext serviceContext=ServiceTestUtil.getServiceContext();
    Group group=ServiceTestUtil.addGroup("Restore BlogsEntry Group");
    serviceContext.setScopeGroupId(group.getGroupId());
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
    BlogsEntry blogsEntry=createBlogsEntry(serviceContext);
    int originalStatus=blogsEntry.getStatus();
    BlogsEntryServiceUtil.moveEntryToTrash(blogsEntry.getEntryId());
    int afterMovingToTrashBlogsEntryCount=getBlogsEntriesNotInTrashCount(blogsEntry.getGroupId());
    TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(blogsEntry.getModelClassName());
    trashHandler.restoreTrashEntry(blogsEntry.getEntryId());
    blogsEntry=BlogsEntryServiceUtil.getEntry(blogsEntry.getEntryId());
    Assert.assertEquals(originalStatus,blogsEntry.getStatus());
    int afterRestoringFromTrashBlogsEntryCount=getBlogsEntriesNotInTrashCount(blogsEntry.getGroupId());
    Assert.assertEquals(afterMovingToTrashBlogsEntryCount + 1,afterRestoringFromTrashBlogsEntryCount);
  }
 catch (  Exception e) {
    Assert.fail("Unexpected error restoring blogsEntry from Trash: " + e.getMessage());
  }
}
