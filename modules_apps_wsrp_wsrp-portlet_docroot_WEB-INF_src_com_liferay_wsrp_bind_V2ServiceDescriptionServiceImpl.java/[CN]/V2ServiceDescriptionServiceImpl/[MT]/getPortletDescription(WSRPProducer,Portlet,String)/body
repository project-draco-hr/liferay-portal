{
  PortletDescription portletDescription=new PortletDescription();
  portletDescription.setGroupID("liferay");
  portletDescription.setPortletHandle(portletId);
  portletDescription.setMarkupTypes(getMarkupTypes(portlet));
  HttpServletRequest request=ServletUtil.getRequest();
  ServletContext servletContext=request.getSession().getServletContext();
  String title=PortalUtil.getPortletTitle(portlet,servletContext,LocaleUtil.getDefault());
  portletDescription.setTitle(getLocalizedString(title));
  PortletInfo portletInfo=portlet.getPortletInfo();
  String shortTitle=portletInfo.getShortTitle();
  if (shortTitle == null) {
    shortTitle=title;
  }
  portletDescription.setShortTitle(getLocalizedString(shortTitle));
  String[] keywords=StringUtil.split(portletInfo.getKeywords());
  portletDescription.setKeywords(getLocalizedStrings(keywords));
  String displayName=GetterUtil.getString(portlet.getDisplayName(),title);
  portletDescription.setDisplayName(getLocalizedString(displayName));
  setExtensions(portletDescription,portlet);
  return portletDescription;
}
