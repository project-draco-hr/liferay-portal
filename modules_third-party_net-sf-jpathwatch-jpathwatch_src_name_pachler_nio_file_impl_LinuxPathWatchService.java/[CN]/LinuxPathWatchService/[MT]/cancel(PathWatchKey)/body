{
  if (inotifyFd == -1)   throw new ClosedWatchServiceException();
  int wd=-1;
  for (  Entry<Integer,LinuxPathWatchKey> entry : keys.entrySet()) {
    if (entry.getValue() == pathWatchKey) {
      wd=entry.getKey().intValue();
      if ((pathWatchKey.getFlags() & FLAG_FILTER_KEY_INVALID) != 0)       inotifyEventHandler(wd,IN_IGNORED,0,null);
      pathWatchKey.invalidate();
      keys.remove(entry.getKey());
      break;
    }
  }
  if (pathWatchKey == null)   return;
  int result=inotify_rm_watch(inotifyFd,wd);
  if (result == -1)   Logger.getLogger(getClass().getName()).log(Level.WARNING,"inotify_rm_watch() failed: {0}",strerror(errno()));
}
