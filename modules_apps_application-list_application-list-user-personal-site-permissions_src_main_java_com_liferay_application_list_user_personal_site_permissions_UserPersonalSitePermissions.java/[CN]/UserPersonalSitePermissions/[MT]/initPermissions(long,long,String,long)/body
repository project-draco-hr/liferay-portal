{
  String primaryKey=String.valueOf(userPersonalSiteGroupId);
  if (_resourcePermissionLocalService.getResourcePermissionsCount(companyId,rootPortletId,ResourceConstants.SCOPE_GROUP,primaryKey) == 0) {
    List<String> portletActionIds=ResourceActionsUtil.getPortletResourceActions(rootPortletId);
    _resourcePermissionLocalService.setResourcePermissions(companyId,rootPortletId,ResourceConstants.SCOPE_GROUP,String.valueOf(userPersonalSiteGroupId),powerUserRoleId,portletActionIds.toArray(new String[0]));
  }
  String rootModelName=ResourceActionsUtil.getPortletRootModelResource(rootPortletId);
  if (Validator.isBlank(rootModelName)) {
    return;
  }
  if (_resourcePermissionLocalService.getResourcePermissionsCount(companyId,rootModelName,ResourceConstants.SCOPE_GROUP,primaryKey) == 0) {
    List<String> modelActionIds=ResourceActionsUtil.getModelResourceActions(rootModelName);
    _resourcePermissionLocalService.setResourcePermissions(companyId,rootModelName,ResourceConstants.SCOPE_GROUP,String.valueOf(userPersonalSiteGroupId),powerUserRoleId,modelActionIds.toArray(new String[0]));
  }
}
