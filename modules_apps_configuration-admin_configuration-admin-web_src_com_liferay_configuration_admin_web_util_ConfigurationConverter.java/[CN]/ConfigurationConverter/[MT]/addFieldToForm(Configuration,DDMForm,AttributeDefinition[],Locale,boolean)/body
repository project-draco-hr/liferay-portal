{
  if (attributeDefinitions == null) {
    return;
  }
  List<DDMFormField> ddmFormFields=ddmForm.getDDMFormFields();
  for (  AttributeDefinition attributeDefinition : attributeDefinitions) {
    if (attributeDefinition == null) {
      continue;
    }
    String id=attributeDefinition.getID();
    String type=attributeToDDMType(attributeDefinition,locale);
    DDMFormField ddmFormField=new DDMFormField(id,type);
    ddmFormField.setDataType(attributeToDDMDataType(attributeDefinition));
    ddmFormField.setDDMForm(ddmForm);
    ddmFormField.setLabel(attributeToLabel(attributeDefinition,locale));
    ddmFormField.setTip(attributeToTip(attributeDefinition,locale));
    ddmFormField.setLocalizable(true);
    LocalizedValue predefinedValue=attributeDefaultValue(configuration,attributeDefinition,locale);
    DDMFormFieldOptions ddmFormFieldOptions=_getDDMFieldOptions(attributeDefinition,locale);
    if ((type.equals("radio") || type.equals("select")) && hasDDMFormFieldOptionsAvailable(ddmFormFieldOptions)) {
      setDDMFormFieldOptions(type,ddmFormField,ddmFormFieldOptions);
      if (predefinedValue != null) {
        String value=predefinedValue.getValues().get(locale);
        JSONArray defaultValueJSON=JSONFactoryUtil.createJSONArray();
        defaultValueJSON.put(value);
        LocalizedValue localizedDefaultValue=new LocalizedValue(locale);
        localizedDefaultValue.addString(locale,defaultValueJSON.toString());
        ddmFormField.setPredefinedValue(localizedDefaultValue);
      }
    }
 else {
      ddmFormField.setPredefinedValue(predefinedValue);
    }
    if (!type.equals("checkbox")) {
      ddmFormField.setRequired(required);
    }
    ddmFormField.setShowLabel(true);
    int cardinality=attributeDefinition.getCardinality();
    if (cardinality != 0) {
      ddmFormField.setRepeatable(true);
    }
    ddmFormFields.add(ddmFormField);
  }
}
