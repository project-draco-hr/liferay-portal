{
  if (commandArgument.getCurrentFolder().equals(StringPool.SLASH)) {
    return;
  }
  Element filesElement=document.createElement("Files");
  rootNode.appendChild(filesElement);
  Group group=commandArgument.getCurrentGroup();
  List<Layout> layouts=LayoutLocalServiceUtil.getLayouts(group.getGroupId(),false,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID);
  if (("/" + commandArgument.getCurrentGroupName() + "/").equals(commandArgument.getCurrentFolder())) {
    for (    Layout layout : layouts) {
      Element fileElement=document.createElement("File");
      filesElement.appendChild(fileElement);
      fileElement.setAttribute("name",_getLayoutName(layout));
      fileElement.setAttribute("desc",_getLayoutName(layout));
      fileElement.setAttribute("size",StringPool.BLANK);
      fileElement.setAttribute("url",PortalUtil.getLayoutURL(layout,commandArgument.getThemeDisplay(),false));
    }
  }
 else {
    String layoutName=_getLayoutName(commandArgument.getCurrentFolder());
    Layout layout=null;
    for (int i=0; i < layouts.size(); i++) {
      layout=_getLayout(layoutName,layouts.get(i));
      if (layout != null) {
        break;
      }
    }
    if (layout == null) {
      return;
    }
    List<Layout> layoutChildren=layout.getChildren();
    for (int i=0; i < layoutChildren.size(); i++) {
      layout=layoutChildren.get(i);
      Element fileElement=document.createElement("File");
      filesElement.appendChild(fileElement);
      fileElement.setAttribute("name",_getLayoutName(layout));
      fileElement.setAttribute("desc",_getLayoutName(layout));
      fileElement.setAttribute("size",getSize());
      fileElement.setAttribute("url",PortalUtil.getLayoutURL(layout,commandArgument.getThemeDisplay(),false));
    }
  }
}
