{
  initExport();
  addRepositoryEntries();
  portletDataContext.setEndDate(getEndDate());
  portletDataHandler.prepareManifestSummary(portletDataContext);
  ManifestSummary manifestSummary=portletDataContext.getManifestSummary();
  Map<String,LongWrapper> modelAdditionCounters=manifestSummary.getModelAdditionCounters();
  LongWrapper foldersCount=modelAdditionCounters.get(Folder.class.getName());
  Assert.assertEquals(0,foldersCount.getValue());
  LongWrapper fileEntriesCount=modelAdditionCounters.get(FileEntry.class.getName());
  Assert.assertEquals(0,fileEntriesCount.getValue());
  modelAdditionCounters.clear();
  portletDataHandler.exportData(portletDataContext,portletId,new PortletPreferencesImpl());
  manifestSummary=portletDataContext.getManifestSummary();
  modelAdditionCounters=manifestSummary.getModelAdditionCounters();
  Assert.assertNull(modelAdditionCounters.get(Folder.class.getName()));
  fileEntriesCount=modelAdditionCounters.get(FileEntry.class.getName());
  Assert.assertEquals(0,fileEntriesCount.getValue());
}
