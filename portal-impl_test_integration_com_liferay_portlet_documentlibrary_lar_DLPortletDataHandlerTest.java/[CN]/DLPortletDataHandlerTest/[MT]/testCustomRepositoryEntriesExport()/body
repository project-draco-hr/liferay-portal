{
  initExport();
  addRepositoryEntries();
  portletDataContext.setEndDate(getEndDate());
  portletDataHandler.prepareManifestSummary(portletDataContext);
  ManifestSummary manifestSummary=portletDataContext.getManifestSummary();
  Map<String,LongWrapper> modelAdditionCounters=manifestSummary.getModelAdditionCounters();
  LongWrapper folderModelAdditionCounter=modelAdditionCounters.get(Folder.class.getName());
  Assert.assertEquals(0,folderModelAdditionCounter.getValue());
  LongWrapper fileEntryModelAdditionCounter=modelAdditionCounters.get(FileEntry.class.getName());
  Assert.assertEquals(0,fileEntryModelAdditionCounter.getValue());
  modelAdditionCounters.clear();
  portletDataHandler.exportData(portletDataContext,portletId,new PortletPreferencesImpl());
  manifestSummary=portletDataContext.getManifestSummary();
  modelAdditionCounters=manifestSummary.getModelAdditionCounters();
  Assert.assertNull(modelAdditionCounters.get(Folder.class.getName()));
  fileEntryModelAdditionCounter=modelAdditionCounters.get(FileEntry.class.getName());
  Assert.assertEquals(0,fileEntryModelAdditionCounter.getValue());
}
