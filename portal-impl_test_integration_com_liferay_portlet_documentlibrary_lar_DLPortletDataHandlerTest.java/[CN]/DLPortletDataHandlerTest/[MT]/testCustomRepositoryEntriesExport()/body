{
  initExport();
  addRepositoryEntries();
  portletDataContext.setEndDate(getEndDate());
  portletDataHandler.prepareManifestSummary(portletDataContext);
  ManifestSummary manifestSummary=portletDataContext.getManifestSummary();
  Map<String,LongWrapper> modelAdditionCounters=manifestSummary.getModelAdditionCounters();
  LongWrapper fileEntryModelAdditionCounter=modelAdditionCounters.get(DLFileEntry.class.getName());
  Assert.assertEquals(0,fileEntryModelAdditionCounter.getValue());
  LongWrapper folderModelAdditionCounter=modelAdditionCounters.get(DLFolder.class.getName());
  Assert.assertEquals(0,folderModelAdditionCounter.getValue());
  modelAdditionCounters.clear();
  portletDataHandler.exportData(portletDataContext,portletId,new PortletPreferencesImpl());
  manifestSummary=portletDataContext.getManifestSummary();
  modelAdditionCounters=manifestSummary.getModelAdditionCounters();
  fileEntryModelAdditionCounter=modelAdditionCounters.get(DLFileEntry.class.getName());
  Assert.assertEquals(0,fileEntryModelAdditionCounter.getValue());
  folderModelAdditionCounter=modelAdditionCounters.get(DLFolder.class.getName());
  Assert.assertEquals(0,folderModelAdditionCounter.getValue());
}
