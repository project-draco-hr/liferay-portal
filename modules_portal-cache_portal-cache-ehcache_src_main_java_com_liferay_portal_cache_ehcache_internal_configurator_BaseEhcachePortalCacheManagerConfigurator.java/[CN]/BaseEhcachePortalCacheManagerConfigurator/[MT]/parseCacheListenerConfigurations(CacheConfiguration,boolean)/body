{
  if (cacheConfiguration == null) {
    return null;
  }
  String portalCacheName=cacheConfiguration.getName();
  if (portalCacheName == null) {
    portalCacheName=PortalCacheConfiguration.DEFAULT_PORTAL_CACHE_NAME;
  }
  Set<Properties> portalCacheListenerPropertiesSet=parseCacheEventListenerConfigurations((List<CacheEventListenerFactoryConfiguration>)cacheConfiguration.getCacheEventListenerConfigurations(),usingDefault);
  Properties portalCacheBootstrapLoaderProperties=parseBootstrapCacheLoaderConfigurations(cacheConfiguration.getBootstrapCacheLoaderFactoryConfiguration());
  boolean requireSerialization=isRequireSerialization(cacheConfiguration);
  return new EhcachePortalCacheConfiguration(portalCacheName,portalCacheListenerPropertiesSet,portalCacheBootstrapLoaderProperties,requireSerialization);
}
