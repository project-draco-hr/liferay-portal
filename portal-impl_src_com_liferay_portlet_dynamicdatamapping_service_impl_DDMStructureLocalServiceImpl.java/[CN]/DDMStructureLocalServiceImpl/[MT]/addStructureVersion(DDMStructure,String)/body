{
  long structureVersionId=counterLocalService.increment();
  DDMStructureVersion structureVersion=ddmStructureVersionPersistence.create(structureVersionId);
  structureVersion.setGroupId(structure.getGroupId());
  structureVersion.setCompanyId(structure.getCompanyId());
  structureVersion.setUserId(structure.getUserId());
  structureVersion.setUserName(structure.getUserName());
  structureVersion.setCreateDate(structure.getModifiedDate());
  structureVersion.setStructureId(structure.getStructureId());
  structureVersion.setVersion(version);
  structureVersion.setName(structure.getName());
  structureVersion.setDescription(structure.getDescription());
  structureVersion.setDefinition(structure.getDefinition());
  structureVersion.setStorageType(structure.getStorageType());
  structureVersion.setType(structure.getType());
  ddmStructureVersionPersistence.update(structureVersion);
  return structureVersion;
}
