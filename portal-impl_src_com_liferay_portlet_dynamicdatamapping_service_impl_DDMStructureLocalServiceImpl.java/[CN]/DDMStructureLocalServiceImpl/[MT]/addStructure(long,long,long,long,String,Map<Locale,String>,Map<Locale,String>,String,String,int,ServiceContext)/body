{
  try {
    definition=DDMXMLUtil.validateXML(definition);
    definition=DDMXMLUtil.formatXML(definition);
    validate(definition);
  }
 catch (  Exception e) {
    throw new StructureDefinitionException();
  }
  DDMForm ddmForm=DDMFormXSDDeserializerUtil.deserialize(definition);
  return addStructure(userId,groupId,parentStructureId,classNameId,structureKey,nameMap,descriptionMap,ddmForm,storageType,type,serviceContext);
}
