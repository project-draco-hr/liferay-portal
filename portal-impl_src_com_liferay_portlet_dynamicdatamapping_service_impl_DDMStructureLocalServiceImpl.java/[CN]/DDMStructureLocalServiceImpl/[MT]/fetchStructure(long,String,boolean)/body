{
  structureKey=structureKey.trim().toUpperCase();
  DDMStructure structure=ddmStructurePersistence.fetchByG_S(groupId,structureKey);
  if ((structure != null) || !includeGlobalStructures) {
    return structure;
  }
  Group group=groupPersistence.findByPrimaryKey(groupId);
  Group companyGroup=groupLocalService.getCompanyGroup(group.getCompanyId());
  return ddmStructurePersistence.fetchByG_S(companyGroup.getGroupId(),structureKey);
}
