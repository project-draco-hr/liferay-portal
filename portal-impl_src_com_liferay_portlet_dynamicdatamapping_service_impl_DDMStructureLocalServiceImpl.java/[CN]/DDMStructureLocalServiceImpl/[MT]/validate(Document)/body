{
  XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-element");
  List<Node> nodes=xPathSelector.selectNodes(document);
  Set<String> elementNames=new HashSet<String>();
  for (  Node node : nodes) {
    Element element=(Element)node;
    String name=element.attributeValue("name");
    if (name.startsWith(DDMStructureConstants.XSD_NAME_RESERVED)) {
      throw new StructureXsdException();
    }
    Element parentElement=element.getParent();
    while (!parentElement.isRootElement()) {
      name=parentElement.attributeValue("name") + StringPool.SLASH + name;
      parentElement=parentElement.getParent();
    }
    name=StringUtil.toLowerCase(name);
    if (elementNames.contains(name)) {
      throw new StructureDuplicateElementException();
    }
    elementNames.add(name);
  }
}
