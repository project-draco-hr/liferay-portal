{
  if (configurationURL == null) {
    return null;
  }
  Configuration configuration=ConfigurationFactory.parseConfiguration(configurationURL);
  List<CacheConfiguration> cacheConfigurations=_getAllCacheConfigurations(configuration);
  if (!PropsValues.EHCACHE_BOOTSTRAP_CACHE_LOADER_ENABLED) {
    _clearBootstrapCacheLoaderConfigurations(cacheConfigurations);
  }
  if (!clusterAware || (PropsValues.CLUSTER_LINK_ENABLED && !PropsValues.EHCACHE_CLUSTER_LINK_REPLICATION_ENABLED)) {
    return configuration;
  }
  _configureEhcacheReplication(configuration,cacheConfigurations,usingDefault);
  return configuration;
}
