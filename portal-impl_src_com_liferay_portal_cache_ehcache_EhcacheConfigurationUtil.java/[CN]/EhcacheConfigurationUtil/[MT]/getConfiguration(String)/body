{
  if (Validator.isNull(configurationResourcePath)) {
    return null;
  }
  URL url=EhcacheConfigurationUtil.class.getResource(configurationResourcePath);
  Configuration configuration=ConfigurationFactory.parseConfiguration(url);
  if (PropsValues.EHCACHE_CLUSTER_LINK_REPLICATION_ENABLED) {
    configuration.getCacheManagerPeerProviderFactoryConfiguration().clear();
    configuration.getCacheManagerPeerListenerFactoryConfigurations().clear();
    CacheConfiguration defaultCacheConfiguration=configuration.getDefaultCacheConfiguration();
    _processCacheConfiguration(defaultCacheConfiguration);
    for (    CacheConfiguration cacheConfiguration : configuration.getCacheConfigurations().values()) {
      _processCacheConfiguration(cacheConfiguration);
    }
  }
  return configuration;
}
