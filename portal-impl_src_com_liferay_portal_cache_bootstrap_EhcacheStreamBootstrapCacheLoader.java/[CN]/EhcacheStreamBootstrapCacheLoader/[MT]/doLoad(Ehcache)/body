{
synchronized (EhcacheStreamBootstrapCacheLoader.class) {
    if (!_started) {
      CacheManager cacheManager=ehcache.getCacheManager();
      String cacheManagerName=cacheManager.getName();
      List<String> cacheNames=_deferredEhcaches.get(cacheManagerName);
      if (cacheNames == null) {
        cacheNames=new ArrayList<String>();
        _deferredEhcaches.put(cacheManagerName,cacheNames);
      }
      cacheNames.add(ehcache.getName());
      return;
    }
  }
  if (_skipBootstrapThreadLocal.get()) {
    return;
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Bootstraping " + ehcache.getName());
  }
  CacheManager cacheManager=ehcache.getCacheManager();
  try {
    StreamBootstrapHelpUtil.loadCachesFromCluster(cacheManager.getName(),ehcache.getName());
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to load cache data from the cluster",e);
    }
  }
}
