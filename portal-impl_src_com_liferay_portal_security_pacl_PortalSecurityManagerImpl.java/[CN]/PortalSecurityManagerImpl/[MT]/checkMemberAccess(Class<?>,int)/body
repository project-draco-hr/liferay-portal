{
  if (clazz == null) {
    throw new NullPointerException("Class cannot be null");
  }
  ClassLoader clazzClassLoader=clazz.getClassLoader();
  if (accessibility == Member.PUBLIC) {
    _checkMemberAccessClassLoader.set(clazzClassLoader);
    return;
  }
  Class<?> stack[]=getClassContext();
  if ((stack.length < 4) || (stack[3].getClassLoader() != clazzClassLoader)) {
    _checkMemberAccessClassLoader.set(null);
    checkPermission(SecurityConstants.CHECK_MEMBER_ACCESS_PERMISSION);
  }
 else {
    _checkMemberAccessClassLoader.set(clazzClassLoader);
  }
}
