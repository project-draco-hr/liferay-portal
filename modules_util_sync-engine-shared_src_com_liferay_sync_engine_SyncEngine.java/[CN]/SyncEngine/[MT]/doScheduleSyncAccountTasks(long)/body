{
  if (!_running) {
    return;
  }
  SyncWatchEventService.deleteSyncWatchEvents(syncAccountId);
  SyncAccount syncAccount=SyncAccountService.synchronizeSyncAccount(syncAccountId,0);
  if (syncAccount.getState() == SyncAccount.STATE_CONNECTED) {
    SyncSiteService.synchronizeSyncSites(syncAccountId);
  }
  Path filePath=Paths.get(syncAccount.getFilePathName());
  SyncWatchEventProcessor syncWatchEventProcessor=new SyncWatchEventProcessor(syncAccountId);
  _syncWatchEventProcessorExecutorService.scheduleAtFixedRate(syncWatchEventProcessor,0,3,TimeUnit.SECONDS);
  WatchEventListener watchEventListener=new SyncSiteWatchEventListener(syncAccountId);
  synchronizeSyncFiles(filePath,syncAccountId,watchEventListener);
  Watcher watcher=new Watcher(filePath,true,watchEventListener);
  _executorService.execute(watcher);
  scheduleGetSyncDLObjectUpdateEvent(syncAccount,syncWatchEventProcessor,watcher);
}
