{
  ByteArrayOutputStream outstream=new ByteArrayOutputStream(_totalSize > 0 ? (int)_totalSize : _DEFAULT_INITIAL_BUFFER_SIZE);
  byte[] buffer=new byte[_DEFAULT_INITIAL_BUFFER_SIZE];
  int len;
  while ((len=read(buffer)) > 0) {
    outstream.write(buffer,0,len);
  }
  outstream.close();
  return outstream.toByteArray();
}
