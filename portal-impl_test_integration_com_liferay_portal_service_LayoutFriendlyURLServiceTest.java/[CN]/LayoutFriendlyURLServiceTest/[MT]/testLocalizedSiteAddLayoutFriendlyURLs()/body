{
  Group group=GroupTestUtil.addGroup();
  Locale enLocale=Locale.US;
  Locale esLocale=new Locale("es","ES");
  Locale deLocale=new Locale("de","DE");
  Locale[] availableLocales=new Locale[]{enLocale,esLocale};
  group=GroupTestUtil.updateDisplaySettings(group.getGroupId(),availableLocales,esLocale);
  String name=ServiceTestUtil.randomString();
  Map<Locale,String> nameMap=new HashMap<Locale,String>();
  nameMap.put(enLocale,name);
  nameMap.put(esLocale,name);
  nameMap.put(deLocale,name);
  Map<Locale,String> friendlyURLMap=new HashMap<Locale,String>();
  friendlyURLMap.put(enLocale,"/englishurl");
  friendlyURLMap.put(esLocale,"/spanishurl");
  friendlyURLMap.put(deLocale,"/germanurl");
  Layout layout=LayoutTestUtil.addLayout(group.getGroupId(),false,nameMap,friendlyURLMap);
  List<LayoutFriendlyURL> layoutFriendlyURLs=LayoutFriendlyURLLocalServiceUtil.getLayoutFriendlyURLs(layout.getPlid());
  Assert.assertEquals(availableLocales.length,layoutFriendlyURLs.size());
  String[] availableLanguageIds=LocaleUtil.toLanguageIds(availableLocales);
  for (  LayoutFriendlyURL layoutFriendlyURL : layoutFriendlyURLs) {
    if (!ArrayUtil.contains(availableLanguageIds,layoutFriendlyURL.getLanguageId())) {
      Assert.fail();
    }
  }
}
