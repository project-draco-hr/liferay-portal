{
  String contextName=(String)serviceReference.getProperty("json.web.service.context.name");
  String contextPath=(String)serviceReference.getProperty("json.web.service.context.path");
  Object service=getService(serviceReference);
  ClassLoader contextClassLoader=ClassLoaderUtil.getContextClassLoader();
  ClassLoader classLoader=getBundleClassLoader(serviceReference.getBundle());
  ClassLoaderUtil.setContextClassLoader(classLoader);
  try {
    _jsonWebServiceActionsManager.registerService(contextName,contextPath,service,_jsonWebServiceRegistrator);
  }
  finally {
    ClassLoaderUtil.setContextClassLoader(contextClassLoader);
  }
  return service;
}
