{
  _singleDestinationMessageSender=_singleDestinationMessageSenderFactory.createSingleDestinationMessageSender(DestinationNames.DOCUMENT_LIBRARY_SYNC_EVENT_PROCESSOR);
  try {
    for (    DLSyncEvent dlSyncEvent : _dlSyncEventLocalService.getLatestDLSyncEvents()) {
      Message message=new Message();
      Map<String,Object> values=new HashMap<>(4);
      values.put("event",dlSyncEvent.getEvent());
      values.put("modifiedTime",dlSyncEvent.getModifiedTime());
      values.put("syncEventId",dlSyncEvent.getSyncEventId());
      values.put("type",dlSyncEvent.getType());
      values.put("typePK",dlSyncEvent.getTypePK());
      message.setValues(values);
      _singleDestinationMessageSender.send(message);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
