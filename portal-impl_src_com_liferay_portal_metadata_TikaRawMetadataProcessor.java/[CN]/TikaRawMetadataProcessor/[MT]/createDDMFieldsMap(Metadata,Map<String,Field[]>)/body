{
  Map<String,Fields> ddmFieldsMap=new HashMap<String,Fields>();
  for (  String key : fieldsMap.keySet()) {
    Field[] fields=fieldsMap.get(key);
    Fields ddmFields=createDDMFields(metadata,fields);
    Set<String> names=ddmFields.getNames();
    if (!names.isEmpty()) {
      ddmFieldsMap.put(key,ddmFields);
    }
  }
  return ddmFieldsMap;
}
