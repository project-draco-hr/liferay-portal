{
  ThemeDisplay themeDisplay=(ThemeDisplay)renderRequest.getAttribute(com.liferay.portal.util.WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  renderRequest.setAttribute(XSLContentConfiguration.class.getName(),_xslContentConfiguration);
  try {
    XSLContentPortletInstanceConfiguration xslContentPortletInstanceConfiguration=_settingsFactory.getSettings(XSLContentPortletInstanceConfiguration.class,new ParameterMapSettingsLocator(renderRequest.getParameterMap(),new PortletInstanceSettingsLocator(themeDisplay.getLayout(),portletDisplay.getPortletResource())));
    renderRequest.setAttribute(XSLContentPortletInstanceConfiguration.class.getName(),xslContentPortletInstanceConfiguration);
  }
 catch (  PortalException pe) {
    throw new SystemException(pe);
  }
  return super.render(portletConfig,renderRequest,renderResponse);
}
