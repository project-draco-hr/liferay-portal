{
  MessageBus messageBus=getMessageBus();
  for (  SearchEngine searchEngine : _searchEngines) {
    SearchEngineRegistration searchEngineRegistration=new SearchEngineRegistration(searchEngine);
    _searchEngineRegistrations.add(searchEngineRegistration);
    Destination searchReaderDestination=getSearchReaderDestination(messageBus,searchEngine);
    searchEngineRegistration.setSearchReaderDestinationName(searchReaderDestination.getName());
    Destination searchWriterDestination=getSearchWriterDestination(messageBus,searchEngine);
    searchEngineRegistration.setSearchWriterDestinationName(searchWriterDestination.getName());
    SearchEngine originalSearchEngine=SearchEngineUtil.getSearchEngine(searchEngine.getName());
    if (originalSearchEngine != null) {
      searchEngineRegistration.setOverride(true);
      searchEngineRegistration.setOriginalSearchEngineProxyWrapper((SearchEngineProxyWrapper)originalSearchEngine);
      savePreviousSearchEngineListeners(searchReaderDestination,searchWriterDestination,searchEngineRegistration);
      messageBus.removeDestination(searchReaderDestination.getName());
      messageBus.removeDestination(searchWriterDestination.getName());
      searchReaderDestination=getSearchReaderDestination(messageBus,originalSearchEngine);
      searchWriterDestination=getSearchWriterDestination(messageBus,originalSearchEngine);
    }
    createSearchEngineListeners(searchEngine,searchReaderDestination,searchWriterDestination);
    SearchEngineProxyWrapper searchEngineProxyWrapper=new SearchEngineProxyWrapper(searchEngine,getIndexSearcher(),getIndexWriter());
    SearchEngineUtil.addSearchEngine(searchEngineProxyWrapper);
  }
  _searchEngines.clear();
}
