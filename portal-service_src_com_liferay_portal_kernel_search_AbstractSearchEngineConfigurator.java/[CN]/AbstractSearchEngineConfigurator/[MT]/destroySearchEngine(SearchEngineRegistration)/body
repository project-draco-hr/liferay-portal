{
  MessageBus messageBus=getMessageBus();
  Destination searchReaderDestination=messageBus.removeDestination(searchEngineRegistration.getSearchReaderDestinationName());
  searchReaderDestination.close(true);
  Destination searchWriterDestination=messageBus.removeDestination(searchEngineRegistration.getSearchWriterDestinationName());
  searchWriterDestination.close(true);
  SearchEngineUtil.removeSearchEngine(searchEngineRegistration.getSearchEngineId());
  if (!searchEngineRegistration.isOverride()) {
    return;
  }
  SearchEngineProxyWrapper originalSearchEngineProxy=searchEngineRegistration.getOriginalSearchEngineProxyWrapper();
  SearchEngine originalSearchEngine=originalSearchEngineProxy.getSearchEngine();
  searchReaderDestination=getSearchReaderDestination(messageBus,searchEngineRegistration.getSearchEngineId(),originalSearchEngine);
  registerInvokerMessageListener(searchReaderDestination,searchEngineRegistration.getOriginalSearchReaderMessageListeners());
  searchWriterDestination=getSearchWriterDestination(messageBus,searchEngineRegistration.getSearchEngineId(),originalSearchEngine);
  registerInvokerMessageListener(searchWriterDestination,searchEngineRegistration.getOriginalSearchWriterMessageListeners());
  SearchEngineUtil.setSearchEngine(searchEngineRegistration.getSearchEngineId(),originalSearchEngineProxy);
}
