{
  MessageBus messageBus=getMessageBus();
  Destination searchReaderDestination=messageBus.removeDestination(searchEngineRegistration.getSearchReaderDestinationName());
  searchReaderDestination.close(true);
  Destination searchWriterDestination=messageBus.removeDestination(searchEngineRegistration.getSearchWriterDestinationName());
  searchWriterDestination.close(true);
  SearchEngine searchEngine=searchEngineRegistration.getSearchEngine();
  SearchEngineUtil.removeSearchEngine(searchEngine.getName());
  if (!searchEngineRegistration.isOverride()) {
    return;
  }
  SearchEngineProxyWrapper originalSearchEngineProxy=searchEngineRegistration.getOriginalSearchEngineProxyWrapper();
  SearchEngine originalSearchEngine=originalSearchEngineProxy.getSearchEngine();
  searchReaderDestination=getSearchReaderDestination(messageBus,originalSearchEngine);
  registerInvokerMessageListener(searchReaderDestination,searchEngineRegistration.getOriginalSearchReaderMessageListeners());
  searchWriterDestination=getSearchWriterDestination(messageBus,originalSearchEngine);
  registerInvokerMessageListener(searchWriterDestination,searchEngineRegistration.getOriginalSearchWriterMessageListeners());
  SearchEngineUtil.addSearchEngine(originalSearchEngineProxy);
}
