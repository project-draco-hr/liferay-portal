{
  Bundle bundle=currentServiceReference.getBundle();
  BundleWiring bundleWiring=bundle.adapt(BundleWiring.class);
  ClassLoader bundleClassLoader=bundleWiring.getClassLoader();
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  currentThread.setContextClassLoader(bundleClassLoader);
  try {
    super.invokeSwappedCallback(callbackInstances,component,previousReference,previous,currentServiceReference,current,swapCallback);
  }
  finally {
    currentThread.setContextClassLoader(contextClassLoader);
  }
}
