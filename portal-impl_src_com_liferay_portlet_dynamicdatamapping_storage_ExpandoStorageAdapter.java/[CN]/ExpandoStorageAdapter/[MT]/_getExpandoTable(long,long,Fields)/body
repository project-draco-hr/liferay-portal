{
  ExpandoTable expandoTable=null;
  long classNameId=PortalUtil.getClassNameId(ExpandoStorageAdapter.class.getName());
  try {
    expandoTable=ExpandoTableLocalServiceUtil.getTable(companyId,classNameId,String.valueOf(ddmStructureId));
  }
 catch (  NoSuchTableException nste) {
    expandoTable=ExpandoTableLocalServiceUtil.addTable(companyId,classNameId,String.valueOf(ddmStructureId));
  }
  _checkExpandoColumns(ddmStructureId,expandoTable,fields);
  return expandoTable;
}
