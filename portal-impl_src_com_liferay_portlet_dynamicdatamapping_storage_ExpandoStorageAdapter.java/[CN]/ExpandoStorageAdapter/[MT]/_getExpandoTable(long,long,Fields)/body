{
  ExpandoTable table=null;
  long classNameId=PortalUtil.getClassNameId(ExpandoStorageAdapter.class.getName());
  try {
    table=ExpandoTableLocalServiceUtil.getTable(companyId,classNameId,String.valueOf(structureId));
  }
 catch (  NoSuchTableException nste) {
    table=ExpandoTableLocalServiceUtil.addTable(companyId,classNameId,String.valueOf(structureId));
  }
  _checkSchema(table,fields);
  return table;
}
