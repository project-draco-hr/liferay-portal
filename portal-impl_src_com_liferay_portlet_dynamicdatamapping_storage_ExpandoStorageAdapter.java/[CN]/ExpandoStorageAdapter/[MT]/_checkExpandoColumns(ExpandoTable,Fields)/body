{
  for (  String name : fields.getNames()) {
    ExpandoColumn expandoColumn=ExpandoColumnLocalServiceUtil.getColumn(expandoTable.getTableId(),name);
    if (expandoColumn != null) {
      continue;
    }
    int type=ExpandoColumnConstants.STRING_LOCALIZED;
    Field field=fields.get(name);
    if (field.isRepeatable()) {
      type=ExpandoColumnConstants.STRING_ARRAY_LOCALIZED;
    }
    ExpandoColumnLocalServiceUtil.addColumn(expandoTable.getTableId(),name,type);
  }
}
