{
  updateFileEntries();
  synchronizeFileVersions();
  UpgradeColumn nameColumn=new DLFileEntryNameUpgradeColumnImpl("name");
  UpgradeColumn titleColumn=new DLFileEntryTitleUpgradeColumnImpl(nameColumn,"title");
  UpgradeColumn versionColumn=new DLFileEntryVersionUpgradeColumnImpl("version");
  upgradeTable(DLFileEntryTable.TABLE_NAME,DLFileEntryTable.TABLE_COLUMNS,DLFileEntryTable.TABLE_SQL_CREATE,DLFileEntryTable.TABLE_SQL_ADD_INDEXES,nameColumn,titleColumn,versionColumn);
  upgradeTable(DLFileRankTable.TABLE_NAME,DLFileRankTable.TABLE_COLUMNS,DLFileRankTable.TABLE_SQL_CREATE,DLFileRankTable.TABLE_SQL_ADD_INDEXES,nameColumn);
  UpgradeColumn toNameColumn=new DLFileEntryNameUpgradeColumnImpl("toName");
  upgradeTable(DLFileShortcutTable.TABLE_NAME,DLFileShortcutTable.TABLE_COLUMNS,DLFileShortcutTable.TABLE_SQL_CREATE,DLFileShortcutTable.TABLE_SQL_ADD_INDEXES,toNameColumn);
  String tableSqlCreate=StringUtil.replace(DLFileVersionTable.TABLE_SQL_CREATE,new String[]{",extraSettings VARCHAR(75) null",",title VARCHAR(75) null"},new String[]{",extraSettings STRING null",",title VARCHAR(255) null"});
  upgradeTable(DLFileVersionTable.TABLE_NAME,DLFileVersionTable.TABLE_COLUMNS,tableSqlCreate,DLFileVersionTable.TABLE_SQL_ADD_INDEXES,nameColumn,versionColumn);
}
