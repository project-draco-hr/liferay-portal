{
  String symbol=_symbol;
  double rate=0.0;
  try {
    if (symbol.length() == 6) {
      String fromSymbol=symbol.substring(0,3);
      String toSymbol=symbol.substring(3,6);
      if (!CurrencyConverterUtil.isCurrency(fromSymbol) || !CurrencyConverterUtil.isCurrency(toSymbol)) {
        throw new WebCacheException(symbol);
      }
    }
 else     if (symbol.length() == 3) {
      if (!CurrencyConverterUtil.isCurrency(symbol)) {
        throw new WebCacheException(symbol);
      }
    }
 else {
      throw new WebCacheException(symbol);
    }
    String text=HttpUtil.URLtoString("http://finance.yahoo.com/d/quotes.csv?s=" + symbol + "=X&f=sl1d1t1c1ohgv&e=.csv");
    StringTokenizer st=new StringTokenizer(text,StringPool.COMMA);
    st.nextToken();
    String token=st.nextToken();
    token=token.replace('"',' ');
    rate=GetterUtil.getDouble(token.trim());
  }
 catch (  Exception e) {
    throw new WebCacheException(e);
  }
  return new CurrencyConverter(symbol,rate);
}
