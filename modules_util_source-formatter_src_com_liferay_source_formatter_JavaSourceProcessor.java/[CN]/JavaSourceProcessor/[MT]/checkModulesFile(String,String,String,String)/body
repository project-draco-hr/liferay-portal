{
  if (fileName.endsWith("Test.java")) {
    if (absolutePath.contains("/test/integration/") || absolutePath.contains("/src/testIntegration/java/")) {
      if (content.contains("@RunWith(Arquillian.class)") && content.contains("import org.powermock.")) {
        processErrorMessage(fileName,"Do not use PowerMock inside Arquillian tests: " + fileName);
      }
      if (!packagePath.endsWith(".test")) {
        processErrorMessage(fileName,"Module integration test must be under a test " + "subpackage" + fileName);
      }
    }
 else     if ((absolutePath.contains("/test/unit/") || absolutePath.contains("/src/test/java/")) && packagePath.endsWith(".test")) {
      processErrorMessage(fileName,"Module unit test should not be under a test subpackage" + fileName);
    }
  }
  if (content.contains("ProxyFactory.newServiceTrackedInstance(")) {
    processErrorMessage(fileName,"Do not use ProxyFactory.newServiceTrackedInstance in " + "modules: " + fileName);
  }
  if (_checkModulesServiceUtil) {
    if (!fileName.endsWith("MessageListener.java") && content.contains("@Component") && content.contains("ServiceUtil.")) {
      processErrorMessage(fileName,"OSGI Component should not call ServiceUtil: " + fileName);
    }
    if (!absolutePath.contains("/modules/core/") && !absolutePath.contains("/test/") && !absolutePath.contains("/testIntegration/")&& content.contains("import com.liferay.registry.Registry")) {
      processErrorMessage(fileName,"Do not use Registry in modules: " + fileName);
    }
  }
}
