{
  ThreadLocalCache<Object[]> threadLocalCache=ThreadLocalCacheManager.getThreadLocalCache(Lifecycle.REQUEST,AssetEntryServiceImpl.class.getName());
  threadLocalCache.removeAll();
  Group group=GroupTestUtil.addGroup();
  for (int i=0; i < viewCounts.length; i++) {
    BlogsEntry entry=BlogsTestUtil.addEntry(TestPropsValues.getUserId(),group,true);
    AssetEntry assetEntry=AssetEntryLocalServiceUtil.getEntry(BlogsEntry.class.getName(),entry.getEntryId());
    assetEntry.setViewCount(viewCounts[i]);
    AssetEntryLocalServiceUtil.updateAssetEntry(assetEntry);
  }
  threadLocalCache.removeAll();
  AssetEntryQuery assetEntryQuery=buildAssetEntryQuery(group.getGroupId(),null,null,false,false);
  assetEntryQuery.setOrderByCol1("viewCount");
  assetEntryQuery.setOrderByType1(orderByType);
  List<AssetEntry> assetEntries=AssetEntryServiceUtil.getEntries(assetEntryQuery);
  for (int i=0; i < assetEntries.size(); i++) {
    AssetEntry assetEntry=assetEntries.get(i);
    Assert.assertEquals(assetEntry.getViewCount(),orderedViewCounts[i]);
  }
}
