{
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  List<JournalContentSearch> contentSearches=JournalContentSearchLocalServiceUtil.getArticleContentSearches(articleId);
  for (  JournalContentSearch contentSearch : contentSearches) {
    if (LayoutPermissionUtil.contains(permissionChecker,contentSearch.getGroupId(),contentSearch.isPrivateLayout(),contentSearch.getLayoutId(),ActionKeys.VIEW)) {
      if (contentSearch.isPrivateLayout()) {
        if (!GroupLocalServiceUtil.hasUserGroup(themeDisplay.getUserId(),contentSearch.getGroupId())) {
          continue;
        }
      }
      Layout hitLayout=LayoutLocalServiceUtil.getLayout(contentSearch.getGroupId(),contentSearch.isPrivateLayout(),contentSearch.getLayoutId());
      return PortalUtil.getLayoutURL(hitLayout,themeDisplay);
    }
  }
  return null;
}
