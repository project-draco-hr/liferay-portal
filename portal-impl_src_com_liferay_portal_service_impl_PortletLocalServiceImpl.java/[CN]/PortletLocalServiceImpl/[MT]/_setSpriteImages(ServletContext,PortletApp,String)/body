{
  Set<String> resourcePaths=servletContext.getResourcePaths(resourcePath);
  for (  String curResourcePath : resourcePaths) {
    if (Validator.isNull(portletApp.getServletContextName())) {
      if (curResourcePath.equals("/html/themes/")) {
        continue;
      }
    }
    if (curResourcePath.endsWith(StringPool.SLASH)) {
      _setSpriteImages(servletContext,portletApp,curResourcePath);
    }
 else     if (curResourcePath.endsWith(".sprite")) {
      Properties properties=PropertiesUtil.load(StringUtil.read(servletContext.getResourceAsStream(curResourcePath)));
      String spriteFileName=curResourcePath.substring(0,curResourcePath.length() - 7) + ".png";
      portletApp.setSpriteImages(spriteFileName,properties);
    }
  }
}
