{
  Set<String> resourcePaths=servletContext.getResourcePaths(resourcePath);
  if (resourcePaths == null) {
    return;
  }
  List<File> images=new ArrayList<File>(resourcePaths.size());
  for (  String curResourcePath : resourcePaths) {
    if (curResourcePath.endsWith(StringPool.SLASH)) {
      _setSpriteImages(servletContext,portletApp,curResourcePath);
    }
 else     if (curResourcePath.endsWith(".png")) {
      images.add(new File(servletContext.getRealPath(curResourcePath)));
    }
  }
  String spriteFileName=".sprite.png";
  String spritePropertiesFileName=".sprite.properties";
  String spritePropertiesRootPath=servletContext.getRealPath(StringPool.SLASH);
  Properties spriteProperties=SpriteProcessorUtil.generate(images,spriteFileName,spritePropertiesFileName,spritePropertiesRootPath,16,16,10);
  if (spriteProperties == null) {
    return;
  }
  spriteFileName=resourcePath.substring(0,resourcePath.length()) + spriteFileName;
  portletApp.setSpriteImages(spriteFileName,spriteProperties);
}
