{
  int pos=portletName.indexOf(CharPool.STAR);
  if (pos == -1) {
    String portletId=portletName;
    if (Validator.isNotNull(servletContextName)) {
      portletId=portletId + PortletConstants.WAR_SEPARATOR + servletContextName;
    }
    portletId=PortalUtil.getJsSafePortletId(portletId);
    Portlet portlet=portletsMap.get(portletId);
    if (portlet == null) {
      return Collections.emptyList();
    }
    return Collections.singletonList(portlet);
  }
  return getPortletsByServletContextName(servletContextName,portletName.substring(0,pos),portletsMap);
}
