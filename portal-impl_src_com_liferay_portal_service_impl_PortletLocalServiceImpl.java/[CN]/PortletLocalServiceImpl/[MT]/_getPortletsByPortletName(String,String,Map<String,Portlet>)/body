{
  List<Portlet> portlets=null;
  int pos=portletName.indexOf(CharPool.STAR);
  if (pos == -1) {
    portlets=new ArrayList<Portlet>();
    String portletId=portletName;
    if (Validator.isNotNull(servletContextName)) {
      portletId=portletId + PortletConstants.WAR_SEPARATOR + servletContextName;
    }
    portletId=PortalUtil.getJsSafePortletId(portletId);
    Portlet portlet=portletsPool.get(portletId);
    if (portlet != null) {
      portlets.add(portlet);
    }
    return portlets;
  }
  String portletNamePrefix=portletName.substring(0,pos);
  portlets=_getPortletsByServletContextName(servletContextName,portletsPool);
  Iterator<Portlet> itr=portlets.iterator();
  while (itr.hasNext()) {
    Portlet portlet=itr.next();
    String portletId=portlet.getPortletId();
    if (!portletId.startsWith(portletNamePrefix)) {
      itr.remove();
    }
  }
  return portlets;
}
