{
  portletId=PortalUtil.getJsSafePortletId(portletId);
  Map<String,Portlet> companyPortletsMap=getPortletsMap(companyId);
  String rootPortletId=PortletConstants.getRootPortletId(portletId);
  if (portletId.equals(rootPortletId)) {
    return companyPortletsMap.get(portletId);
  }
  Portlet portlet=companyPortletsMap.get(rootPortletId);
  if (portlet != null) {
    portlet=portlet.getClonedInstance(portletId);
  }
  return portlet;
}
