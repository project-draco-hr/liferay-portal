{
  while (true) {
    String[] friendlyURLMapperRootPortletIds=_friendlyURLMapperRootPortletIds.get();
    String[] newFriendlyURLMapperRootPortletIds=friendlyURLMapperRootPortletIds;
    for (    String rootPortletId : rootPortletIds) {
      newFriendlyURLMapperRootPortletIds=ArrayUtil.remove(newFriendlyURLMapperRootPortletIds,rootPortletId);
    }
    if (_friendlyURLMapperRootPortletIds.compareAndSet(friendlyURLMapperRootPortletIds,newFriendlyURLMapperRootPortletIds)) {
      break;
    }
  }
}
