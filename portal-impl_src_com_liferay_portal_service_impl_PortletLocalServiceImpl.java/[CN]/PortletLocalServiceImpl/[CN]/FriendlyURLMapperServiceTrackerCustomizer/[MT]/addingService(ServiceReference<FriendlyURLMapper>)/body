{
  Object propertyValue=serviceReference.getProperty("javax.portlet.name");
  if (propertyValue == null) {
    return null;
  }
  if (propertyValue instanceof String) {
    String portletId=(String)propertyValue;
    String rootPortletId=PortletConstants.getRootPortletId(portletId);
    _friendlyURLMapperRootPortletIds.add(rootPortletId);
    return new String[]{portletId};
  }
  if (propertyValue instanceof String[]) {
    String[] portletIds=(String[])propertyValue;
    for (    String portletId : portletIds) {
      String rootPortletId=PortletConstants.getRootPortletId(portletId);
      _friendlyURLMapperRootPortletIds.add(rootPortletId);
    }
    return portletIds;
  }
  return null;
}
