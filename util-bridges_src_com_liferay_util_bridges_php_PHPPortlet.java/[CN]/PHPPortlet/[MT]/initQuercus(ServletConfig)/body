{
  if (quercusServlet == null) {
    try {
      com.caucho.vfs.SchemeMap defaultSchemeMap=com.caucho.vfs.Vfs.getDefaultScheme();
      URI rootURI=ServletContextUtil.getRootURI(servletConfig.getServletContext());
      defaultSchemeMap.put(rootURI.getScheme(),new ServletContextPath(servletConfig.getServletContext()));
      com.caucho.vfs.Path.setDefaultSchemeMap(defaultSchemeMap);
      quercusServlet=(HttpServlet)Class.forName(_QUERCUS_SERVLET).newInstance();
      Map<String,String> params=new HashMap<String,String>();
      Enumeration<String> enu=servletConfig.getInitParameterNames();
      while (enu.hasMoreElements()) {
        String name=enu.nextElement();
        if (!name.equals("portlet-class")) {
          params.put(name,servletConfig.getInitParameter(name));
        }
      }
      servletConfig=new DynamicServletConfig(servletConfig,params);
      quercusServlet.init(servletConfig);
    }
 catch (    Exception e) {
      throw new PortletException(e);
    }
  }
}
