{
  Registry registry=RegistryUtil.getRegistry();
  String namespace=(String)serviceReference.getProperty("namespace");
  DataSampleProcessor<DataSample> dataSampleProcessor=registry.getService(serviceReference);
  if (Validator.isNotNull(namespace)) {
    registerDataSampleProcessor(namespace,dataSampleProcessor);
  }
 else {
    if (_log.isWarnEnabled()) {
      _log.warn("No namespace defined for service: " + dataSampleProcessor.getClass());
    }
  }
  return dataSampleProcessor;
}
