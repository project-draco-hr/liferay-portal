{
  String innerSelectFrom=selectFrom;
  if (Validator.isNotNull(innerOrderBy)) {
    Matcher matcher=_SELECT_PATTERN.matcher(innerSelectFrom);
    innerSelectFrom=matcher.replaceAll("select top ".concat(String.valueOf(limit)).concat(StringPool.SPACE));
  }
  String outerSelectFrom=selectFrom;
  while (outerSelectFrom.charAt(0) == CharPool.OPEN_PARENTHESIS) {
    outerSelectFrom=outerSelectFrom.substring(1);
  }
  Matcher matcher=_COLUMN_ALIAS_PATTERN.matcher(outerSelectFrom);
  outerSelectFrom=matcher.replaceAll("$1");
  matcher=_DISTINCT_PATTERN.matcher(outerSelectFrom);
  outerSelectFrom=matcher.replaceAll(StringPool.SPACE);
  matcher=_QUALIFIED_COLUMN_PATTERN.matcher(outerSelectFrom);
  outerSelectFrom=matcher.replaceAll("$1");
  return new String[]{innerSelectFrom,outerSelectFrom};
}
