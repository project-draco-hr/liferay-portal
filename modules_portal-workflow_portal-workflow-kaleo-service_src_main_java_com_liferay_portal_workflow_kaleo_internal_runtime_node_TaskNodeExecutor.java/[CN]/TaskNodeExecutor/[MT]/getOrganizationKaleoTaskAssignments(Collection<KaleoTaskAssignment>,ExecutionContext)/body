{
  long userId=executionContext.getKaleoInstanceToken().getUserId();
  User user=UserLocalServiceUtil.getUser(userId);
  List<Organization> organizations=user.getOrganizations();
  Collection<KaleoTaskAssignment> organizationKaleoTaskAssignments=new HashSet<>();
  for (  KaleoTaskAssignment kaleoTaskAssignment : kaleoTaskAssignments) {
    String assigneeClassName=kaleoTaskAssignment.getAssigneeClassName();
    if (!assigneeClassName.equals(Role.class.getName())) {
      continue;
    }
    long roleId=kaleoTaskAssignment.getAssigneeClassPK();
    Role role=RoleLocalServiceUtil.getRole(roleId);
    if (role.getType() != RoleConstants.TYPE_ORGANIZATION) {
      continue;
    }
    for (    Organization organization : organizations) {
      KaleoTaskAssignment organizationKaleoTaskAssignment=new KaleoTaskAssignmentImpl();
      organizationKaleoTaskAssignment.setGroupId(organization.getGroup().getGroupId());
      organizationKaleoTaskAssignment.setCompanyId(kaleoTaskAssignment.getCompanyId());
      organizationKaleoTaskAssignment.setAssigneeClassName(kaleoTaskAssignment.getAssigneeClassName());
      organizationKaleoTaskAssignment.setAssigneeClassPK(kaleoTaskAssignment.getAssigneeClassPK());
      organizationKaleoTaskAssignments.add(organizationKaleoTaskAssignment);
    }
  }
  return organizationKaleoTaskAssignments;
}
