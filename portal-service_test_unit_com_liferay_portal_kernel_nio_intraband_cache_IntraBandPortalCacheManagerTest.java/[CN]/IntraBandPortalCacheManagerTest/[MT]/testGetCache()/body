{
  IntraBandPortalCacheManager<String,String> intraBandPortalCacheManager=new IntraBandPortalCacheManager<String,String>(_mockRegistrationReference);
  Map<String,PortalCache<?,?>> portalCaches=getPortalCaches(intraBandPortalCacheManager);
  Assert.assertTrue(portalCaches.isEmpty());
  String portalCacheName="portalCacheName";
  PortalCache<?,?> portalCache=intraBandPortalCacheManager.getCache(portalCacheName);
  Assert.assertNotNull(portalCache);
  Assert.assertEquals(portalCacheName,portalCache.getName());
  Assert.assertEquals(1,portalCaches.size());
  Assert.assertSame(portalCache,portalCaches.get(portalCacheName));
  PortalCache<?,?> portalCache2=intraBandPortalCacheManager.getCache(portalCacheName);
  Assert.assertNotNull(portalCache2);
  Assert.assertEquals(portalCacheName,portalCache2.getName());
  Assert.assertEquals(1,portalCaches.size());
  Assert.assertSame(portalCache,portalCache2);
}
