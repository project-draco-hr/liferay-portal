{
  List<Layout> layouts=LayoutLocalServiceUtil.getLayouts(entry.getGroupId(),false,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID);
  for (  Layout layout : layouts) {
    if (!layout.getType().equals(LayoutConstants.TYPE_PORTLET) || layout.isHidden()) {
      continue;
    }
    UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
    Set<String> keys=typeSettingsProperties.keySet();
    for (    String key : keys) {
      if (key.startsWith("column-")) {
        String[] portletIds=StringUtil.split(typeSettingsProperties.getProperty(key));
        for (        String portletId : portletIds) {
          if (portletId.equals(PortletKeys.BLOGS)) {
            PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(layout,portletId,null);
            return GetterUtil.getBoolean(preferences.getValue("moderate-pingbacks",null),false);
          }
        }
      }
    }
  }
  return false;
}
