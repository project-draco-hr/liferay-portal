{
  List<CalendarBooking> expandedCalendarBookings=new ArrayList<>();
  try {
    CalendarBookingIterator calendarBookingIterator=new CalendarBookingIterator(calendarBooking);
    while (calendarBookingIterator.hasNext()) {
      CalendarBooking newCalendarBooking=calendarBookingIterator.next();
      if (newCalendarBooking.getEndTime() < startTime) {
        continue;
      }
      if (newCalendarBooking.getStartTime() > endTime) {
        break;
      }
      expandedCalendarBookings.add(newCalendarBooking);
      if ((maxSize > 0) && (expandedCalendarBookings.size() >= maxSize)) {
        break;
      }
    }
  }
 catch (  ParseException pe) {
    _log.error("Unable to parse data ",pe);
  }
  return expandedCalendarBookings;
}
