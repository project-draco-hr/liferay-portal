{
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new FileReader(propertiesFile));
  StringBundler sb=new StringBundler();
  boolean begin=false;
  boolean firstLine=true;
  String line=null;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    if (line.equals("")) {
      begin=!begin;
    }
    if (firstLine) {
      firstLine=false;
    }
 else {
      sb.append(StringPool.NEW_LINE);
    }
    if (line.startsWith(key)) {
      String newLine=key + "=" + value;
      sb.append(newLine);
    }
 else {
      sb.append(line);
    }
  }
  unsyncBufferedReader.close();
  Writer writer=new OutputStreamWriter(new FileOutputStream(propertiesFile,false),StringPool.UTF8);
  writer.write(sb.toString());
  writer.close();
  System.out.println("Writing " + key + " property to "+ propertiesFile);
}
