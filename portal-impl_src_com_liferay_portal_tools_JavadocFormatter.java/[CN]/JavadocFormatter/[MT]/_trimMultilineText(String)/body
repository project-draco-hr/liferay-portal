{
  String[] lines=StringUtil.splitLines(text);
  StringBundler sb=new StringBundler();
  for (int i=0; i < lines.length; i++) {
    String line=lines[i].trim();
    sb.append(line);
    if (!line.endsWith(StringPool.OPEN_PARENTHESIS) && (i < (lines.length - 1))) {
      sb.append(StringPool.SPACE);
    }
  }
  return sb.toString();
}
