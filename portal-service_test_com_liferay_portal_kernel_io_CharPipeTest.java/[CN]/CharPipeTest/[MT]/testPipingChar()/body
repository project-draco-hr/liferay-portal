{
  CharPipe charPipe=new CharPipe(4);
  Reader reader=charPipe.getReader();
  Writer writer=charPipe.getWriter();
  assertFalse(reader.ready());
  writer.write('a');
  assertTrue(reader.ready());
  assertEquals('a',reader.read());
  assertFalse(reader.ready());
  writer.append('b');
  assertTrue(reader.ready());
  assertEquals('b',reader.read());
  assertFalse(reader.ready());
  charPipe.close();
}
