{
  Element structureElement=portletDataContext.getExportDataElement(structure);
  if (structure.getParentStructureId() != DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID) {
    DDMStructure parentStructure=DDMStructureLocalServiceUtil.getStructure(structure.getParentStructureId());
    StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,parentStructure);
    portletDataContext.addReferenceElement(structure,structureElement,parentStructure,PortletDataContext.REFERENCE_TYPE_PARENT,false);
  }
  long defaultUserId=UserLocalServiceUtil.getDefaultUserId(structure.getCompanyId());
  if (defaultUserId == structure.getUserId()) {
    structureElement.addAttribute("preloaded","true");
  }
  portletDataContext.addClassedModel(structureElement,ExportImportPathUtil.getModelPath(structure),structure,DDMPortletDataHandler.NAMESPACE);
}
