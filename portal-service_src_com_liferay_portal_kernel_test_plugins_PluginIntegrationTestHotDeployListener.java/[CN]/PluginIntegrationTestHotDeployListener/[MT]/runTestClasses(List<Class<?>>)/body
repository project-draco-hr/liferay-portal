{
  NumberFormat numberFormat=NumberFormat.getInstance();
  numberFormat.setMaximumFractionDigits(3);
  for (  Class<?> clazz : classes) {
    if (!isTestClass(clazz)) {
      continue;
    }
    double startTime=System.currentTimeMillis();
    if (_log.isInfoEnabled()) {
      _log.info("Running " + clazz.getName());
    }
    Result result=JUnitCore.runClasses(clazz);
    if (_log.isInfoEnabled()) {
      double endTime=System.currentTimeMillis();
      StringBundler sb=new StringBundler(9);
      sb.append("Tests run: ");
      sb.append(result.getRunCount());
      sb.append(", Failures: ");
      sb.append(result.getIgnoreCount());
      sb.append(", Errors: ");
      sb.append(result.getFailureCount());
      sb.append(", Time elapsed: ");
      sb.append(numberFormat.format((endTime - startTime) / Time.SECOND));
      sb.append(" sec");
      _log.info(sb.toString());
    }
    for (    Failure failure : result.getFailures()) {
      _log.error(failure.toString());
    }
  }
}
