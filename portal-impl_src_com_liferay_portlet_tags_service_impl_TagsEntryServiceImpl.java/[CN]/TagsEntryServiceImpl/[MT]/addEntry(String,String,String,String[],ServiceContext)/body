{
  long parentEntryId=TagsEntryConstants.DEFAULT_PARENT_ENTRY_ID;
  long groupId=serviceContext.getScopeGroupId();
  if (Validator.isNotNull(parentEntryName)) {
    TagsVocabulary vocabulary=tagsVocabularyPersistence.findByG_N(groupId,vocabularyName);
    TagsEntry parentEntry=tagsEntryLocalService.getEntry(groupId,parentEntryName,vocabulary.isFolksonomy());
    parentEntryId=parentEntry.getEntryId();
  }
  TagsEntryPermission.check(getPermissionChecker(),serviceContext.getScopeGroupId(),parentEntryId,ActionKeys.ADD_ENTRY);
  return tagsEntryLocalService.addEntry(getUserId(),parentEntryName,name,vocabularyName,properties,serviceContext);
}
