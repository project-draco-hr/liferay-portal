{
  long parentEntryId=TagsEntryConstants.DEFAULT_PARENT_ENTRY_ID;
  if (Validator.isNotNull(parentEntryName)) {
    long groupId=PortalUtil.getScopeGroupId(plid);
    TagsVocabulary vocabulary=tagsVocabularyPersistence.findByG_N(groupId,vocabularyName);
    TagsEntry parentEntry=tagsEntryLocalService.getEntry(groupId,parentEntryName,vocabulary.isFolksonomy());
    parentEntryId=parentEntry.getEntryId();
  }
  TagsEntryPermission.check(getPermissionChecker(),plid,parentEntryId,ActionKeys.ADD_ENTRY);
  return tagsEntryLocalService.addEntry(getUserId(),plid,parentEntryName,name,vocabularyName,properties,communityPermissions,guestPermissions);
}
