{
  String title=doc.get(Field.TITLE);
  String content=snippet;
  if (Validator.isNull(snippet)) {
    content=StringUtil.shorten(doc.get(Field.CONTENT),200);
  }
  String moduleId=doc.get("moduleId");
  String repositoryURL=doc.get("repositoryURL");
  portletURL.setParameter("struts_action","/admin/view");
  portletURL.setParameter("tabs2","repositories");
  portletURL.setParameter("moduleId",moduleId);
  portletURL.setParameter("repositoryURL",repositoryURL);
  return new DocumentSummary(title,content,portletURL);
}
