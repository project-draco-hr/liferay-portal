{
  SearchEngineUtil.deletePortletDocuments(getSearchEngineId(),CompanyConstants.SYSTEM,PORTLET_ID,isCommitImmediately());
  Collection<Document> documents=new ArrayList<Document>();
  for (  PluginPackage pluginPackage : PluginPackageUtil.getAllAvailablePluginPackages()) {
    Document document=getDocument(pluginPackage);
    documents.add(document);
  }
  SearchEngineUtil.updateDocuments(getSearchEngineId(),CompanyConstants.SYSTEM,documents,isCommitImmediately());
}
