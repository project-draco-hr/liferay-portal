{
  PluginPackage pluginPackage=(PluginPackage)obj;
  Document document=new DocumentImpl();
  document.addKeyword(Field.ENTRY_CLASS_NAME,PluginPackage.class.getName());
  document.addUID(PORTLET_ID,pluginPackage.getModuleId());
  document.addKeyword(Field.COMPANY_ID,CompanyConstants.SYSTEM);
  StringBundler sb=new StringBundler(7);
  sb.append(pluginPackage.getAuthor());
  sb.append(StringPool.SPACE);
  String longDescription=HtmlUtil.extractText(pluginPackage.getLongDescription());
  sb.append(longDescription);
  sb.append(StringPool.SPACE);
  sb.append(pluginPackage.getName());
  sb.append(StringPool.SPACE);
  String shortDescription=HtmlUtil.extractText(pluginPackage.getShortDescription());
  sb.append(shortDescription);
  document.addText(Field.CONTENT,sb.toString());
  document.addKeyword(Field.PORTLET_ID,PORTLET_ID);
  ModuleId moduleIdObj=ModuleId.getInstance(pluginPackage.getModuleId());
  document.addKeyword(Field.GROUP_ID,moduleIdObj.getGroupId());
  document.addDate(Field.MODIFIED_DATE,pluginPackage.getModifiedDate());
  String[] statusAndInstalledVersion=PluginPackageUtil.getStatusAndInstalledVersion(pluginPackage);
  document.addKeyword(Field.STATUS,statusAndInstalledVersion[0]);
  document.addText(Field.TITLE,pluginPackage.getName());
  document.addKeyword("artifactId",moduleIdObj.getArtifactId());
  document.addText("author",pluginPackage.getAuthor());
  document.addText("changeLog",pluginPackage.getChangeLog());
  document.addKeyword("installedVersion",statusAndInstalledVersion[1]);
  List<License> licenses=pluginPackage.getLicenses();
  document.addKeyword("license",StringUtil.split(ListUtil.toString(licenses,License.NAME_ACCESSOR)));
  document.addText("longDescription",longDescription);
  document.addKeyword("moduleId",pluginPackage.getModuleId());
  boolean osiLicense=false;
  for (int i=0; i < licenses.size(); i++) {
    License license=licenses.get(i);
    if (license.isOsiApproved()) {
      osiLicense=true;
      break;
    }
  }
  document.addKeyword("osi-approved-license",osiLicense);
  document.addText("pageURL",pluginPackage.getPageURL());
  document.addKeyword("repositoryURL",pluginPackage.getRepositoryURL());
  document.addText("shortDescription",shortDescription);
  List<String> tags=pluginPackage.getTags();
  document.addKeyword("tag",tags.toArray(new String[0]));
  List<String> types=pluginPackage.getTypes();
  document.addKeyword("type",types.toArray(new String[0]));
  document.addKeyword("version",pluginPackage.getVersion());
  return document;
}
