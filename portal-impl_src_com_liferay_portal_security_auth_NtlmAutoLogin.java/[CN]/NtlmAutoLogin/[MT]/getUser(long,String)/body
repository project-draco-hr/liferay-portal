{
  SearchResult result=(SearchResult)PortalLDAPUtil.getUser(companyId,screenName);
  if (result == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("No user was found in LDAP with screenName " + screenName);
    }
    return null;
  }
  LdapContext ctx=PortalLDAPUtil.getContext(companyId);
  String baseDN=PrefsPropsUtil.getString(companyId,PropsUtil.LDAP_BASE_DN);
  Properties userMappings=PortalLDAPUtil.getUserMappings(companyId);
  Properties groupMappings=PortalLDAPUtil.getGroupMappings(companyId);
  User user=PortalLDAPUtil.importFromLDAP(companyId,ctx,userMappings,groupMappings,baseDN,result);
  return user;
}
