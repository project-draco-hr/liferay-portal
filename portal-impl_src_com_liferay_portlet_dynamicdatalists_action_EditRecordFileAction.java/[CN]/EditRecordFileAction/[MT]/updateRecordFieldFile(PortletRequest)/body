{
  long recordId=ParamUtil.getLong(request,"recordId");
  DDLRecord record=DDLRecordLocalServiceUtil.getRecord(recordId);
  String fieldName=ParamUtil.getString(request,"fieldName");
  UploadPortletRequest uploadPortletRequest=PortalUtil.getUploadPortletRequest(request);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DDLRecord.class.getName(),request);
  DDLUtil.uploadRecordFieldFile(record,fieldName,uploadPortletRequest,serviceContext);
  String fieldValue=String.valueOf(record.getFieldValue(fieldName));
  return JSONFactoryUtil.createJSONObject(fieldValue);
}
