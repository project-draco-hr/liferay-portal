{
  Set<Event> events=FileEventManager.getEvents(syncFile.getSyncFileId());
  for (  Event event : events) {
    if (event instanceof DownloadFileEvent) {
      if (_logger.isDebugEnabled()) {
        _logger.debug("Download already in progress {}",syncFile.getFilePathName());
      }
      return;
    }
  }
  Map<String,Object> parameters=new HashMap<>();
  parameters.put("batch",true);
  parameters.put("patch",true);
  parameters.put("sourceVersionId",sourceVersionId);
  parameters.put("syncFile",syncFile);
  parameters.put("targetVersionId",targetVersionId);
  DownloadFileEvent downloadFileEvent=new DownloadFileEvent(syncAccountId,parameters);
  downloadFileEvent.run();
}
