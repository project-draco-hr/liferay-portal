{
  if (gatheringByteChannel == null) {
    throw new NullPointerException("Gathering byte channel is null");
  }
  if (scatteringByteChannel == null) {
    throw new NullPointerException("Scattering byte channel is null");
  }
  if (scatteringByteChannel instanceof SelectableChannel) {
    SelectableChannel selectableChannel=(SelectableChannel)scatteringByteChannel;
    if (!selectableChannel.isBlocking()) {
      throw new IllegalArgumentException("Scattering byte channel is of type SelectableChannel " + "and configured in nonblocking mode");
    }
  }
  if (gatheringByteChannel instanceof SelectableChannel) {
    SelectableChannel selectableChannel=(SelectableChannel)gatheringByteChannel;
    if (!selectableChannel.isBlocking()) {
      throw new IllegalArgumentException("Gathering byte channel is of type SelectableChannel and " + "configured in nonblocking mode");
    }
  }
  ensureOpen();
  return doRegisterChannel(scatteringByteChannel,gatheringByteChannel);
}
