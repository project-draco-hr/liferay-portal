{
  String oldName="com.liferay.portlet.tags.model.TagsEntry";
  ResourceCode oldResourceCode=ResourceCodeLocalServiceUtil.getResourceCode(companyId,oldName,ResourceConstants.SCOPE_INDIVIDUAL);
  long oldCodeId=oldResourceCode.getCodeId();
  String newName=AssetCategory.class.getName();
  ResourceCode newResourceCode=ResourceCodeLocalServiceUtil.getResourceCode(companyId,newName,ResourceConstants.SCOPE_INDIVIDUAL);
  long newCodeId=newResourceCode.getCodeId();
  runSQL("update Resource_ set codeId = " + newCodeId + " where "+ "codeId = "+ oldCodeId+ " and primKey = '"+ categoryId+ "';");
  runSQL("update ResourcePermission set name = '" + newName + "' where "+ "companyId = "+ companyId+ " and name = '"+ oldName+ "' and scope = "+ ResourceConstants.SCOPE_INDIVIDUAL+ " and primKey = '"+ categoryId+ "';");
}
