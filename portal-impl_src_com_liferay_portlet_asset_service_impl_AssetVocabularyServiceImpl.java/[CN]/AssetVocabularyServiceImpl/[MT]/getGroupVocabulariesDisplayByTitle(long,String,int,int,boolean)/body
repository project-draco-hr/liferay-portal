{
  List<AssetVocabulary> vocabularies=null;
  if (Validator.isNotNull(title)) {
    BaseModelSearchResult<AssetVocabulary> results=assetVocabularyLocalService.searchVocabularies(groupId,title,start,end);
    vocabularies=results.getBaseModels();
  }
 else {
    vocabularies=getGroupVocabularies(groupId,start,end,null);
  }
  int total=vocabularies.size();
  if (addDefaultVocabulary && (total == 0)) {
    total=assetVocabularyPersistence.countByGroupId(groupId);
    if (total == 0) {
      vocabularies=new ArrayList<AssetVocabulary>(1);
      AssetVocabulary defaultVocabulary=assetVocabularyLocalService.addDefaultVocabulary(groupId);
      vocabularies.add(defaultVocabulary);
      total=1;
    }
  }
  return new AssetVocabularyDisplay(vocabularies,total,start,end);
}
