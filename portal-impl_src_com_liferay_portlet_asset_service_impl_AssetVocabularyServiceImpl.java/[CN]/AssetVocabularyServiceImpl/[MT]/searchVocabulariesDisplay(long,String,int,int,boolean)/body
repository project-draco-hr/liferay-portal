{
  User user=getUser();
  BaseModelSearchResult<AssetVocabulary> results=assetVocabularyLocalService.searchVocabularies(user.getCompanyId(),groupId,title,start,end);
  List<AssetVocabulary> vocabularies=results.getBaseModels();
  int total=results.getLength();
  if (addDefaultVocabulary && (total == 0)) {
    total=assetVocabularyPersistence.countByGroupId(groupId);
    if (total == 0) {
      vocabularies=new ArrayList<AssetVocabulary>(1);
      AssetVocabulary defaultVocabulary=assetVocabularyLocalService.addDefaultVocabulary(groupId);
      vocabularies.add(defaultVocabulary);
      total=1;
    }
  }
  return new AssetVocabularyDisplay(vocabularies,total,start,end);
}
