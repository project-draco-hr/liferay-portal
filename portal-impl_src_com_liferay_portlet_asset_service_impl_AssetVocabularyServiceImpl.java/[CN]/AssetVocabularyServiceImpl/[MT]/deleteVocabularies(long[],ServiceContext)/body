{
  List<AssetVocabulary> failedVocabularies=new ArrayList<AssetVocabulary>();
  for (  long vocabularyId : vocabularyIds) {
    try {
      AssetVocabularyPermission.check(getPermissionChecker(),vocabularyId,ActionKeys.DELETE);
      assetVocabularyLocalService.deleteVocabulary(vocabularyId);
    }
 catch (    PortalException pe) {
      if (serviceContext == null) {
        return null;
      }
      if (serviceContext.isFailOnPortalException()) {
        throw pe;
      }
      AssetVocabulary vocabulary=assetVocabularyPersistence.fetchByPrimaryKey(vocabularyId);
      if (vocabulary == null) {
        vocabulary=assetVocabularyPersistence.create(vocabularyId);
      }
      failedVocabularies.add(vocabulary);
    }
  }
  return failedVocabularies;
}
