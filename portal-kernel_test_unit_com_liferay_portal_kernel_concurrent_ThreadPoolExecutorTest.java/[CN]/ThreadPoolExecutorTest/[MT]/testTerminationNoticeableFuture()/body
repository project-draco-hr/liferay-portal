{
  ThreadPoolExecutor threadPoolExecutor=new ThreadPoolExecutor(1,1,TestUtil.KEEPALIVE_TIME,TimeUnit.MILLISECONDS,true,1);
  NoticeableFuture<Void> terminationNoticeableFutute=threadPoolExecutor.terminationNoticeableFuture();
  Assert.assertFalse(terminationNoticeableFutute.isDone());
  Assert.assertFalse(terminationNoticeableFutute.cancel(true));
  final AtomicBoolean marker=new AtomicBoolean();
  terminationNoticeableFutute.addFutureListener(new FutureListener<Void>(){
    @Override public void complete(    Future<Void> future){
      marker.set(true);
    }
  }
);
  threadPoolExecutor.shutdown();
  Assert.assertTrue(threadPoolExecutor.awaitTermination(1,TimeUnit.SECONDS));
  Assert.assertTrue(terminationNoticeableFutute.isDone());
  Assert.assertTrue(marker.get());
}
