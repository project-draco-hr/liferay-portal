{
  Object payload=message.getPayload();
  if (payload == null) {
    _log.error("Missing WorkflowInstanceRequest.");
  }
 else   if (!(payload instanceof WorkflowInstanceRequest)) {
    _log.error("Payload type is not WorkflowInstanceRequest:" + payload.getClass().getName());
  }
 else {
    WorkflowInstanceRequest request=(WorkflowInstanceRequest)payload;
    String responseDestinationName=message.getResponseDestinationName();
    Object result=null;
    try {
      result=request.execute(_workflowInstanceManager);
      if (request.hasReturnValue() == false) {
        result=new Object();
      }
    }
 catch (    WorkflowException ex) {
      _log.error("Unable to execute request.",ex);
    }
 finally {
      if (Validator.isNotNull(responseDestinationName)) {
        Message responseMessage=MessageBusUtil.createResponseMessage(message);
        responseMessage.setPayload(new WorkflowResultContainer(result));
        MessageBusUtil.sendMessage(responseDestinationName,responseMessage);
      }
    }
  }
}
