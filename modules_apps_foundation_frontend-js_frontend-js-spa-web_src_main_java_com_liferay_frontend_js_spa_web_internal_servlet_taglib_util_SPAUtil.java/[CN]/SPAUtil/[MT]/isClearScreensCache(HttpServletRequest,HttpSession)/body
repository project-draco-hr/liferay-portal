{
  boolean singlePageApplicationClearCache=GetterUtil.getBoolean(request.getAttribute(WebKeys.SINGLE_PAGE_APPLICATION_CLEAR_CACHE));
  if (singlePageApplicationClearCache) {
    return true;
  }
  String portletId=request.getParameter("p_p_id");
  String singlePageApplicationLastPortletId=(String)session.getAttribute(WebKeys.SINGLE_PAGE_APPLICATION_LAST_PORTLET_ID);
  if (Validator.isNotNull(portletId) && Validator.isNotNull(singlePageApplicationLastPortletId) && !Objects.equals(portletId,singlePageApplicationLastPortletId)) {
    return true;
  }
  return false;
}
