{
  if (!portalSource) {
    return ContentUtil.get("portal.properties");
  }
  String fileName="portal-impl/src/portal.properties";
  File file=getFile(fileName,4);
  String content=fileUtil.read(file);
  StringBundler sb=new StringBundler();
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(content));
  String line=null;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    line=trimLine(line,true);
    if (line.startsWith(StringPool.TAB)) {
      line=line.replaceFirst(StringPool.TAB,StringPool.FOUR_SPACES);
    }
    sb.append(line);
    sb.append("\n");
  }
  unsyncBufferedReader.close();
  String newContent=sb.toString();
  if (newContent.endsWith("\n")) {
    newContent=newContent.substring(0,newContent.length() - 1);
  }
  if (!content.equals(newContent)) {
    compareAndAutoFixContent(file,fileName,content,newContent);
  }
  return newContent;
}
