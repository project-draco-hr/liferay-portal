{
  if (portletDataContext.isWithinDateRange(folder.getModifiedDate())) {
    exportParentFolder(portletDataContext,foldersElement,folder.getParentFolderId());
    String path=getFolderPath(portletDataContext,folder);
    if (portletDataContext.isPathNotProcessed(path)) {
      Element folderElement=foldersElement.addElement("folder");
      portletDataContext.addClassedModel(folderElement,path,folder,_NAMESPACE);
    }
  }
  List<JournalArticle> articles=JournalArticleUtil.findByG_F(folder.getGroupId(),folder.getFolderId());
  for (  JournalArticle article : articles) {
    exportFolder(portletDataContext,foldersElement,articlesElement,structuresElement,templatesElement,dlFileEntryTypesElement,dlFoldersElement,dlFileEntriesElement,dlFileRanksElement,folder,true);
    exportArticle(portletDataContext,articlesElement,structuresElement,templatesElement,dlFileEntryTypesElement,dlFoldersElement,dlFileEntriesElement,dlFileRanksElement,article,true);
  }
}
