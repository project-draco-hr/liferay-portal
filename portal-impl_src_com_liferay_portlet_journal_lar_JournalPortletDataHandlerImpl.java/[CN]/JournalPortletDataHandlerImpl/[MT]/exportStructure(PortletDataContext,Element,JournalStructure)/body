{
  String path=getStructurePath(portletDataContext,structure);
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element structureElement=structuresElement.addElement("structure");
  structureElement.addAttribute("path",path);
  structureElement.addAttribute("structure-id",structure.getStructureId());
  String parentStructureId=structure.getParentStructureId();
  if (Validator.isNotNull(parentStructureId)) {
    try {
      JournalStructure parentStructure=JournalStructureLocalServiceUtil.getStructure(structure.getGroupId(),parentStructureId);
      structureElement.addAttribute("parent-structure-uuid",parentStructure.getUuid());
      exportStructure(portletDataContext,structuresElement,parentStructure);
    }
 catch (    NoSuchStructureException nsse) {
    }
  }
  structure.setUserUuid(structure.getUserUuid());
  portletDataContext.addPermissions(JournalStructure.class,structure.getId());
  portletDataContext.addZipEntry(path,structureElement,structure);
}
