{
  String path=getStructurePath(portletDataContext,structure);
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element structureElement=structuresElement.addElement("structure");
  structureElement.addAttribute("path",path);
  structureElement.addAttribute("structure-id",String.valueOf(structure.getStructureId()));
  String parentStructureId=structure.getParentStructureId();
  if (Validator.isNotNull(parentStructureId)) {
    JournalStructure parentStructure=JournalStructureLocalServiceUtil.getStructure(structure.getGroupId(),parentStructureId);
    if (parentStructure != null) {
      structureElement.addAttribute("parent-structure-uuid",parentStructure.getUuid());
      exportStructure(portletDataContext,structuresElement,parentStructure);
    }
  }
  portletDataContext.addPermissions(JournalStructure.class,structure.getId());
  portletDataContext.addZipEntry(path,structure);
}
