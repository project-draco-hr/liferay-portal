{
  ClassLoader classLoader=getClass().getClassLoader();
  if (_log.isInfoEnabled()) {
    _log.info("Resolving entity " + publicId + " "+ systemId);
  }
  if (publicId != null) {
    for (int i=0; i < _PUBLIC_IDS.length; i++) {
      KeyValuePair kvp=_PUBLIC_IDS[i];
      if (publicId.equals(kvp.getKey())) {
        InputStream is=classLoader.getResourceAsStream(_DEFINITIONS_PATH + kvp.getValue());
        if (_log.isInfoEnabled()) {
          _log.info("Entity found for public id " + systemId);
        }
        return new InputSource(is);
      }
    }
  }
 else   if (systemId != null) {
    for (int i=0; i < _SYSTEM_IDS.length; i++) {
      KeyValuePair kvp=_SYSTEM_IDS[i];
      if (systemId.equals(kvp.getKey())) {
        InputStream is=classLoader.getResourceAsStream(_DEFINITIONS_PATH + kvp.getValue());
        if (_log.isInfoEnabled()) {
          _log.info("Entity found for system id " + systemId);
        }
        return new InputSource(is);
      }
    }
  }
  if (_log.isInfoEnabled()) {
    _log.info("No entity found for " + publicId + " "+ systemId);
  }
  return null;
}
