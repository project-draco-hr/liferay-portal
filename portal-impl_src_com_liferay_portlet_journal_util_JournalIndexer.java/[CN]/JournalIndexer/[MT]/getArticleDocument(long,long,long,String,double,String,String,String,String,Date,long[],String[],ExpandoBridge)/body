{
  Document document=new DocumentImpl();
  if ((content != null) && ((content.indexOf("<dynamic-content") != -1) || (content.indexOf("<static-content") != -1))) {
    content=_getIndexableContent(document,content);
    content=StringUtil.replace(content,"<![CDATA[",StringPool.BLANK);
    content=StringUtil.replace(content,"]]>",StringPool.BLANK);
  }
  content=StringUtil.replace(content,"&amp;","&");
  content=StringUtil.replace(content,"&lt;","<");
  content=StringUtil.replace(content,"&gt;",">");
  content=HtmlUtil.extractText(content);
  document.addUID(PORTLET_ID,groupId,articleId);
  document.addModifiedDate(displayDate);
  document.addKeyword(Field.COMPANY_ID,companyId);
  document.addKeyword(Field.PORTLET_ID,PORTLET_ID);
  document.addKeyword(Field.GROUP_ID,groupId);
  document.addText(Field.TITLE,title);
  document.addText(Field.CONTENT,content);
  document.addText(Field.DESCRIPTION,description);
  document.addKeyword(Field.ASSET_CATEGORY_IDS,assetCategoryIds);
  document.addKeyword(Field.ASSET_TAG_NAMES,assetTagNames);
  document.addKeyword(Field.ENTRY_CLASS_NAME,JournalArticle.class.getName());
  document.addKeyword(Field.ENTRY_CLASS_PK,articleId);
  document.addKeyword(Field.ROOT_ENTRY_CLASS_PK,resourcePrimKey);
  document.addKeyword(Field.VERSION,version);
  document.addKeyword(Field.TYPE,type);
  ExpandoBridgeIndexerUtil.addAttributes(document,expandoBridge);
  return document;
}
