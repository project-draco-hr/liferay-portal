{
  UserGroupRolePermissionUtil.check(getPermissionChecker(),groupId,roleId);
  Role role=roleLocalService.getRole(roleId);
  if (role.getName().equals(RoleConstants.SITE_ADMINISTRATOR) || role.getName().equals(RoleConstants.SITE_OWNER)) {
    userIds=UsersAdminUtil.filterUnsetGroupUserIds(getPermissionChecker(),groupId,userIds);
  }
 else   if (role.getName().equals(RoleConstants.ORGANIZATION_ADMINISTRATOR) || role.getName().equals(RoleConstants.ORGANIZATION_OWNER)) {
    userIds=UsersAdminUtil.filterUnsetOrganizationUserIds(getPermissionChecker(),groupId,userIds);
  }
  if (userIds.length == 0) {
    return;
  }
  checkDeleteUserGroupRolesMembershipPolicy(userIds,groupId,new long[]{roleId});
  userGroupRoleLocalService.deleteUserGroupRoles(userIds,groupId,roleId);
}
