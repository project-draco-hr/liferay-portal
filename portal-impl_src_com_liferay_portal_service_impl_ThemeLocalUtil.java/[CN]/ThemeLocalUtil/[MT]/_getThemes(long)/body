{
  Long companyIdObj=new Long(companyId);
  Map themes=(Map)_themesPool.get(companyIdObj);
  if (themes == null) {
    themes=CollectionFactory.getSyncHashMap();
    Iterator itr=_themes.entrySet().iterator();
    while (itr.hasNext()) {
      Map.Entry entry=(Map.Entry)itr.next();
      String themeId=(String)entry.getKey();
      Theme theme=(Theme)entry.getValue();
      if (theme.isCompanyAvailable(companyId)) {
        themes.put(themeId,theme);
      }
    }
    _themesPool.put(companyIdObj,themes);
  }
  return themes;
}
