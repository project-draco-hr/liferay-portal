{
  Iterator<Element> itr=theme.elements("color-scheme").iterator();
  while (itr.hasNext()) {
    Element colorScheme=itr.next();
    ContextReplace colorSchemeContextReplace=(ContextReplace)themeContextReplace.clone();
    String id=colorScheme.attributeValue("id");
    colorSchemeContextReplace.addValue("color-scheme-id",id);
    ColorScheme colorSchemeModel=(ColorScheme)colorSchemes.get(id);
    if (colorSchemeModel == null) {
      colorSchemeModel=new ColorSchemeImpl(id);
    }
    String name=GetterUtil.getString(colorScheme.attributeValue("name"),colorSchemeModel.getName());
    name=colorSchemeContextReplace.replace(name);
    boolean defaultCs=GetterUtil.getBoolean(colorScheme.elementText("default-cs"),colorSchemeModel.isDefaultCs());
    String cssClass=GetterUtil.getString(colorScheme.elementText("css-class"),colorSchemeModel.getCssClass());
    cssClass=colorSchemeContextReplace.replace(cssClass);
    colorSchemeContextReplace.addValue("css-class",cssClass);
    String colorSchemeImagesPath=GetterUtil.getString(colorScheme.elementText("color-scheme-images-path"),colorSchemeModel.getColorSchemeImagesPath());
    colorSchemeImagesPath=colorSchemeContextReplace.replace(colorSchemeImagesPath);
    colorSchemeContextReplace.addValue("color-scheme-images-path",colorSchemeImagesPath);
    colorSchemeModel.setName(name);
    colorSchemeModel.setDefaultCs(defaultCs);
    colorSchemeModel.setCssClass(cssClass);
    colorSchemeModel.setColorSchemeImagesPath(colorSchemeImagesPath);
    colorSchemes.put(id,colorSchemeModel);
  }
}
