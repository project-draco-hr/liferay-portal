{
  String[] systemPackagesExtra=PropsValues.MODULE_FRAMEWORK_SYSTEM_PACKAGES_EXTRA;
  StringBundler sb=new StringBundler();
  for (  String extraPackage : systemPackagesExtra) {
    sb.append(extraPackage);
    sb.append(StringPool.COMMA);
  }
  Manifest extraPackagesManifest=null;
  Class<?> clazz=getClass();
  InputStream inputStream=clazz.getResourceAsStream("/META-INF/system.packages.extra.mf");
  try {
    extraPackagesManifest=new Manifest(inputStream);
  }
 catch (  IOException ioe) {
    ReflectionUtil.throwException(ioe);
  }
  Attributes attributes=extraPackagesManifest.getMainAttributes();
  String exportedPackages=attributes.getValue("Export-Package");
  sb.append(exportedPackages);
  if (_log.isTraceEnabled()) {
    String s=sb.toString();
    s=s.replace(",","\n");
    _log.trace("The portal's system bundle is exporting the following " + "packages:\n" + s);
  }
  return sb.toString();
}
