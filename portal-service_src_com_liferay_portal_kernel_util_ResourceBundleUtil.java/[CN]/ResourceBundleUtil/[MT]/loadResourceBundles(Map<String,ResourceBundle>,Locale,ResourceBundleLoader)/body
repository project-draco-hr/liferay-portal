{
  String languageId=LocaleUtil.toLanguageId(locale);
  String[] languageIdParts=languageId.split("_");
  if (ArrayUtil.isEmpty(languageIdParts)) {
    return;
  }
  String currentLanguageId=StringPool.BLANK;
  List<ResourceBundle> currentResourceBundles=new ArrayList<>();
  for (int i=0; i < languageIdParts.length; i++) {
    if (i > 0) {
      currentLanguageId+="_";
    }
    currentLanguageId+=languageIdParts[i];
    ResourceBundle resourceBundle=resourceBundleLoader.loadResourceBundle(currentLanguageId);
    if (resourceBundle != null) {
      currentResourceBundles.add(resourceBundle);
    }
    if (currentResourceBundles.isEmpty()) {
      continue;
    }
    resourceBundles.put(currentLanguageId,new AggregateResourceBundle(currentResourceBundles.toArray(new ResourceBundle[currentResourceBundles.size()])));
  }
}
