{
  AssetRendererFactory<JournalArticle> assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClass(JournalArticle.class);
  PortletURL redirectURL=PortletURLFactoryUtil.create(portletRequest,JournalContentPortletKeys.JOURNAL_CONTENT,themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  redirectURL.setParameter("mvcPath","/update_journal_article_redirect.jsp");
  redirectURL.setParameter("referringPortletResource",portletDisplay.getId());
  PortletURL portletURL=null;
  try {
    JournalArticle article=_journalContentDisplayContext.getArticle();
    AssetRenderer<JournalArticle> latestArticleAssetRenderer=assetRendererFactory.getAssetRenderer(article.getResourcePrimKey());
    portletURL=latestArticleAssetRenderer.getURLEdit((LiferayPortletRequest)portletRequest,null,LiferayWindowState.POP_UP,redirectURL);
    return portletURL.toString();
  }
 catch (  Exception e) {
    _log.error("Unable to create portlet URL",e);
  }
  return "";
}
