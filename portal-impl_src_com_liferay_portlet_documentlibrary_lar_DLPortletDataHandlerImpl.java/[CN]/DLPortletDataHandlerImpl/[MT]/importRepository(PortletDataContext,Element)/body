{
  String path=repositoryElement.attributeValue("path");
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Repository repository=(Repository)portletDataContext.getZipEntryAsObject(path);
  String repositoryPath=getImportRepositoryPath(portletDataContext,repository.getRepositoryId());
  ServiceContext serviceContext=portletDataContext.createServiceContext(repositoryPath,repository,_NAMESPACE);
  long classNameId=PortalUtil.getClassNameId(repositoryElement.attributeValue("repositoryClassName"));
  RepositoryServiceUtil.addRepository(portletDataContext.getScopeGroupId(),classNameId,DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,repository.getName(),repository.getDescription(),repository.getPortletId(),repository.getTypeSettingsProperties(),serviceContext);
}
