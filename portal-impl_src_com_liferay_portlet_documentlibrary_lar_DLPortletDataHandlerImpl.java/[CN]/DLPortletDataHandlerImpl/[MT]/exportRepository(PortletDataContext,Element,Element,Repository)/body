{
  if (!portletDataContext.isWithinDateRange(repository.getModifiedDate())) {
    return;
  }
  String path=getRepositoryPath(portletDataContext,repository);
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element repositoryElement=repositoriesElement.addElement("repository");
  repositoryElement.addAttribute("repositoryClassName",repository.getClassName());
  portletDataContext.addClassedModel(repositoryElement,path,repository,_NAMESPACE);
  List<RepositoryEntry> repositoryEntries=RepositoryEntryUtil.findByRepositoryId(repository.getRepositoryId());
  for (  RepositoryEntry repositoryEntry : repositoryEntries) {
    exportRepositoryEntry(portletDataContext,repositoryEntriesElement,repositoryEntry);
  }
}
