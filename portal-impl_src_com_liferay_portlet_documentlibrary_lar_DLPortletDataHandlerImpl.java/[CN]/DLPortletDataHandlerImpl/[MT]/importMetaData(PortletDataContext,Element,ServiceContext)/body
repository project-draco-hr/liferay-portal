{
  String fileEntryTypeUuid=fileEntryElement.attributeValue("fileEntryTypeUuid");
  if (Validator.isNull(fileEntryTypeUuid)) {
    return;
  }
  DLFileEntryType fileEntryType=DLFileEntryTypeUtil.fetchByUUID_G(fileEntryTypeUuid,portletDataContext.getScopeGroupId());
  if (fileEntryType == null) {
    serviceContext.setAttribute("fileEntryTypeId",-1);
    return;
  }
  serviceContext.setAttribute("fileEntryTypeId",fileEntryType.getFileEntryTypeId());
  List<DDMStructure> ddmStructures=fileEntryType.getDDMStructures();
  for (  DDMStructure ddmStructure : ddmStructures) {
    Element structureFieldsElement=(Element)fileEntryElement.selectSingleNode("//structure-fields[@structureUuid='".concat(ddmStructure.getUuid()).concat("']"));
    if (structureFieldsElement == null) {
      continue;
    }
    String structureFieldsPath=structureFieldsElement.attributeValue("path");
    Fields fields=(Fields)portletDataContext.getZipEntryAsObject(structureFieldsPath);
    serviceContext.setAttribute(Fields.class.getName() + ddmStructure.getStructureId(),fields);
  }
}
