{
  long userId=context.getUserId(rank.getUserUuid());
  long folderId=MapUtil.getLong(folderPKs,rank.getFolderId(),rank.getFolderId());
  String name=fileEntryNames.get(rank.getName());
  if (name == null) {
    name=rank.getName();
  }
  if ((folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) && (folderId == rank.getFolderId())) {
    String path=getImportFolderPath(context,folderId);
    DLFolder folder=(DLFolder)context.getZipEntryAsObject(path);
    importFolder(context,folderPKs,folder);
    folderId=MapUtil.getLong(folderPKs,rank.getFolderId(),rank.getFolderId());
  }
  try {
    DLFolderUtil.findByPrimaryKey(folderId);
    DLFileRankLocalServiceUtil.updateFileRank(context.getGroupId(),context.getCompanyId(),userId,folderId,name);
  }
 catch (  NoSuchFolderException nsfe) {
    _log.error("Could not find the folder for rank " + rank.getFileRankId());
  }
}
