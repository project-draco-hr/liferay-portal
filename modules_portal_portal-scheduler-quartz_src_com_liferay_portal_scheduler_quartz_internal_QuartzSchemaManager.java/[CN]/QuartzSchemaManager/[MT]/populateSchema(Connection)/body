{
  InputStream is=getClass().getClassLoader().getResourceAsStream("/META-INF/sql/quartz-tables.sql");
  if (is == null) {
    throw new SystemException("Cannot open quartz sql file");
  }
  String template=StringUtil.read(is);
  DB db=DBFactoryUtil.getDB();
  boolean autoCommit=con.getAutoCommit();
  try {
    con.setAutoCommit(false);
    db.runSQLTemplateString(con,template,false,false);
    con.commit();
  }
 catch (  Exception e) {
    con.rollback();
    throw e;
  }
 finally {
    con.setAutoCommit(autoCommit);
  }
}
