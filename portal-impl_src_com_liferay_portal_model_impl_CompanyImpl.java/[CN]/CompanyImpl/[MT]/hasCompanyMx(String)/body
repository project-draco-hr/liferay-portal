{
  emailAddress=emailAddress.trim().toLowerCase();
  int pos=emailAddress.indexOf(StringPool.AT);
  if (pos == -1) {
    return false;
  }
  String mx=emailAddress.substring(pos + 1,emailAddress.length());
  if (mx.equals(getMx())) {
    return true;
  }
  try {
    String[] mailHostNames=PrefsPropsUtil.getStringArray(getCompanyId(),PropsKeys.ADMIN_MAIL_HOST_NAMES,StringPool.NEW_LINE,PropsValues.ADMIN_MAIL_HOST_NAMES);
    for (int i=0; i < mailHostNames.length; i++) {
      if (mx.equalsIgnoreCase(mailHostNames[i])) {
        return true;
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return false;
}
