{
  BuildPluginDescriptorTask buildPluginDescriptorTask=GradleUtil.addTask(project,BUILD_PLUGIN_DESCRIPTOR_TASK_NAME,BuildPluginDescriptorTask.class);
  buildPluginDescriptorTask.dependsOn(JavaPlugin.COMPILE_JAVA_TASK_NAME);
  buildPluginDescriptorTask.setClassesDir(new Callable<File>(){
    @Override public File call() throws Exception {
      return getClassesDir(project);
    }
  }
);
  buildPluginDescriptorTask.setDescription("Generates the Maven plugin descriptor for the project.");
  buildPluginDescriptorTask.setGroup(BasePlugin.BUILD_GROUP);
  buildPluginDescriptorTask.setOutputDir(new Callable<File>(){
    @Override public File call() throws Exception {
      File resourcesDir=getResourcesDir(project);
      return new File(resourcesDir,"META-INF/maven");
    }
  }
);
  buildPluginDescriptorTask.setPomArtifactId(new Callable<String>(){
    @Override public String call() throws Exception {
      return _osgiHelper.getBundleSymbolicName(project);
    }
  }
);
  buildPluginDescriptorTask.setPomGroupId(new Callable<Object>(){
    @Override public Object call() throws Exception {
      return project.getGroup();
    }
  }
);
  buildPluginDescriptorTask.setPomVersion(new Callable<Object>(){
    @Override public Object call() throws Exception {
      return project.getVersion();
    }
  }
);
  buildPluginDescriptorTask.setSourceDir(new Callable<File>(){
    @Override public File call() throws Exception {
      return getJavaDir(project);
    }
  }
);
  return buildPluginDescriptorTask;
}
