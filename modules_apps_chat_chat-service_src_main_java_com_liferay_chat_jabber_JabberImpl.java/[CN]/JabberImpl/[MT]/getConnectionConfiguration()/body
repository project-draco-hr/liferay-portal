{
  if (_connectionConfiguration != null) {
    return _connectionConfiguration;
  }
  String jabberHost=_chatGroupServiceConfiguration.jabberHost();
  if (!Validator.isIPAddress(jabberHost)) {
    InetAddress inetAddress=InetAddress.getByName(jabberHost);
    jabberHost=inetAddress.getHostAddress();
  }
  _connectionConfiguration=new ConnectionConfiguration(jabberHost,_chatGroupServiceConfiguration.jabberPort(),_chatGroupServiceConfiguration.jabberServiceName());
  _connectionConfiguration.setSendPresence(false);
  SmackConfiguration.setLocalSocks5ProxyEnabled(_chatGroupServiceConfiguration.jabberSock5ProxyEnabled());
  SmackConfiguration.setLocalSocks5ProxyPort(_chatGroupServiceConfiguration.jabberSock5ProxyPort());
  return _connectionConfiguration;
}
