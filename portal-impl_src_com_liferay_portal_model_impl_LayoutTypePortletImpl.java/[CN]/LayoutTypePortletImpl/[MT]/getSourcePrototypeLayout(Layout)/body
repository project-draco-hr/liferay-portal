{
  if (Validator.isNull(layout.getUuid())) {
    return null;
  }
  try {
    Group group=null;
    if (layout.isLayoutPrototypeLinkActive()) {
      LayoutPrototype layoutPrototype=LayoutPrototypeLocalServiceUtil.getLayoutPrototypeByUuid(layout.getLayoutPrototypeUuid());
      group=layoutPrototype.getGroup();
    }
 else {
      LayoutSet layoutSet=layout.getLayoutSet();
      if (!layoutSet.isLayoutSetPrototypeLinkActive()) {
        return null;
      }
      LayoutSetPrototype layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.getLayoutSetPrototypeByUuid(layoutSet.getLayoutSetPrototypeUuid());
      group=layoutSetPrototype.getGroup();
    }
    return LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(layout.getSourcePrototypeLayoutUuid(),group.getGroupId());
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return null;
}
