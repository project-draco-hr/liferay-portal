{
  Layout templateLayout=null;
  try {
    LayoutSet layoutSet=layout.getLayoutSet();
    UnicodeProperties settingsProperties=layoutSet.getSettingsProperties();
    String layoutSetPrototypeUuid=settingsProperties.getProperty("layoutSetPrototypeUuid");
    if (Validator.isNotNull(layoutSetPrototypeUuid)) {
      LayoutSetPrototype layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.getLayoutSetPrototypeByUuid(layoutSetPrototypeUuid);
      Group group=layoutSetPrototype.getGroup();
      templateLayout=LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(layout.getUuid(),group.getGroupId());
    }
  }
 catch (  NoSuchLayoutException nsle) {
    _log.error(nsle,nsle);
  }
catch (  Exception e) {
    _log.error(e,e);
  }
  return templateLayout;
}
