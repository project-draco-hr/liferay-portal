{
  List<String> portletIds=getPortletIds();
  List<Portlet> portlets=new ArrayList<Portlet>(portletIds.size());
  for (int i=0; i < portletIds.size(); i++) {
    String portletId=portletIds.get(i);
    Portlet portlet=PortletLocalServiceUtil.getPortletById(getLayout().getCompanyId(),portletId);
    if (portlet != null) {
      portlets.add(portlet);
    }
  }
  return portlets;
}
