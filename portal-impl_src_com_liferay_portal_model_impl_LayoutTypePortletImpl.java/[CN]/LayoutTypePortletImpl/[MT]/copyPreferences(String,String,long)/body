{
  Layout layout=getLayout();
  try {
    PortletPreferencesIds portletPreferencesIds=PortletPreferencesFactoryUtil.getPortletPreferencesIds(layout.getGroupId(),0,layout,sourcePortletId,false);
    javax.portlet.PortletPreferences sourcePortletPreferences=PortletPreferencesLocalServiceUtil.getStrictPreferences(portletPreferencesIds);
    portletPreferencesIds=PortletPreferencesFactoryUtil.getPortletPreferencesIds(layout.getGroupId(),userId,layout,targetPortletId,false);
    PortletPreferencesLocalServiceUtil.updatePreferences(portletPreferencesIds.getOwnerId(),portletPreferencesIds.getOwnerType(),portletPreferencesIds.getPlid(),portletPreferencesIds.getPortletId(),sourcePortletPreferences);
  }
 catch (  Exception e) {
  }
}
