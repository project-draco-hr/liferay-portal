{
  String columnValue=StringPool.BLANK;
  if (isPersonalizable() && isColumnDisabled(columnId) && hasTemplate()) {
    columnValue=getTemplateProperty(columnId);
  }
 else   if (isPersonalizable() && !isColumnDisabled(columnId) && hasUserPreferenes()) {
    columnValue=getUserPreference(columnId);
  }
 else {
    columnValue=getTypeSettingsProperties().getProperty(columnId);
  }
  String[] portletIds=StringUtil.split(columnValue);
  List<Portlet> portlets=new ArrayList<Portlet>(portletIds.length);
  for (  String portletId : portletIds) {
    Portlet portlet=PortletLocalServiceUtil.getPortletById(getLayout().getCompanyId(),portletId);
    if (portlet != null) {
      portlets.add(portlet);
    }
  }
  List<Portlet> startPortlets=getStaticPortlets(PropsKeys.LAYOUT_STATIC_PORTLETS_START + columnId);
  List<Portlet> endPortlets=getStaticPortlets(PropsKeys.LAYOUT_STATIC_PORTLETS_END + columnId);
  return addStaticPortlets(portlets,startPortlets,endPortlets);
}
