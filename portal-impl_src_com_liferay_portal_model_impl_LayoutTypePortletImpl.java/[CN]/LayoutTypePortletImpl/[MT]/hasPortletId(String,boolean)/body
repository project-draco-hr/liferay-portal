{
  List<String> columns=getColumns();
  for (  String columnId : columns) {
    if (hasNonstaticPortletId(columnId,portletId)) {
      return true;
    }
    if (hasStaticPortletId(columnId,portletId)) {
      return true;
    }
  }
  Layout layout=getLayout();
  if (layout.isTypeControlPanel()) {
    return false;
  }
  if (isCustomizable() && isCustomizedView()) {
    LayoutTypePortletImpl defaultLayoutTypePortlet=getDefault();
    if (defaultLayoutTypePortlet.hasNonstaticPortletId(portletId)) {
      return false;
    }
  }
  if (!strict && ((PortletPreferencesLocalServiceUtil.getPortletPreferencesCount(PortletKeys.PREFS_OWNER_TYPE_LAYOUT,layout.getPlid(),portletId) > 0) || (PortletPreferencesLocalServiceUtil.getPortletPreferencesCount(PortletKeys.PREFS_OWNER_TYPE_USER,layout.getPlid(),portletId) > 0))) {
    return true;
  }
  return false;
}
