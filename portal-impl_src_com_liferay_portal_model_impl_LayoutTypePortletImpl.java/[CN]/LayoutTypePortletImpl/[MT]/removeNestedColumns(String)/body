{
  UnicodeProperties typeSettingsProperties=getTypeSettingsProperties();
  UnicodeProperties newTypeSettingsProperties=new UnicodeProperties();
  for (  Map.Entry<String,String> entry : typeSettingsProperties.entrySet()) {
    String key=entry.getKey();
    if (!key.startsWith(portletNamespace)) {
      newTypeSettingsProperties.setProperty(key,entry.getValue());
    }
  }
  Layout layout=getLayout();
  layout.setTypeSettingsProperties(newTypeSettingsProperties);
  String nestedColumnIds=GetterUtil.getString(getTypeSettingsProperties().getProperty(LayoutTypePortletConstants.NESTED_COLUMN_IDS));
  String[] nestedColumnIdsArray=ArrayUtil.removeByPrefix(StringUtil.split(nestedColumnIds),portletNamespace);
  getTypeSettingsProperties().setProperty(LayoutTypePortletConstants.NESTED_COLUMN_IDS,StringUtil.merge(nestedColumnIdsArray));
}
