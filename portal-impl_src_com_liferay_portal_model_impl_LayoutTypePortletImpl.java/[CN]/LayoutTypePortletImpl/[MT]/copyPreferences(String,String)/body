{
  Layout layout=getLayout();
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  try {
    PortletPreferencesIds portletPreferencesIds=PortletPreferencesFactoryUtil.getPortletPreferencesIds(layout.getGroupId(),permissionChecker.getUserId(),layout,sourcePortletId,false);
    javax.portlet.PortletPreferences sourcePortletPreferences=PortletPreferencesLocalServiceUtil.getPreferences(portletPreferencesIds);
    portletPreferencesIds=PortletPreferencesFactoryUtil.getPortletPreferencesIds(layout.getGroupId(),permissionChecker.getUserId(),layout,targetPortletId,false);
    PortletPreferencesLocalServiceUtil.updatePreferences(portletPreferencesIds.getOwnerId(),portletPreferencesIds.getOwnerType(),portletPreferencesIds.getPlid(),portletPreferencesIds.getPortletId(),sourcePortletPreferences);
  }
 catch (  Exception e) {
  }
}
