{
  try {
    S3Object s3Object=new S3Object(_s3Bucket,getKey(companyId,repositoryId,fileName,versionNumber));
    s3Object.setDataInputStream(is);
    _s3Service.putObject(_s3Bucket,s3Object);
    Indexer.updateFile(companyId,portletId,groupId,repositoryId,fileName,fileEntryId,properties,new Date(),tagsEntries);
  }
 catch (  S3ServiceException s3se) {
    throw new SystemException(s3se);
  }
catch (  SearchException se) {
    throw new SystemException(se);
  }
}
