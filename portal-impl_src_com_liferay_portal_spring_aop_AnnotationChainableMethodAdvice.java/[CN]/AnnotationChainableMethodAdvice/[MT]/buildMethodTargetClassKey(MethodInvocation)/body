{
  Map<MethodInvocation,MethodTargetClassKey> methodTargetClassKeyMap=_methodTargetClassKeyThreadLocalCache.get();
  MethodTargetClassKey methodTargetClassKey=methodTargetClassKeyMap.get(methodInvocation);
  if (methodTargetClassKey != null) {
    return methodTargetClassKey;
  }
  Method method=methodInvocation.getMethod();
  Class<?> targetClass=null;
  Object thisObject=methodInvocation.getThis();
  if (thisObject != null) {
    targetClass=thisObject.getClass();
  }
  methodTargetClassKey=new MethodTargetClassKey(method,targetClass);
  methodTargetClassKeyMap.put(methodInvocation,methodTargetClassKey);
  _methodInvocations.add(methodInvocation);
  return methodTargetClassKey;
}
