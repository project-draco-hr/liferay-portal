{
  Map<MethodInvocation,MethodTargetClassKey> methodTargetClassKeyMap=null;
  if (_methodTargetClassKeyThreadLocalCache != null) {
    methodTargetClassKeyMap=_methodTargetClassKeyThreadLocalCache.get();
  }
  MethodTargetClassKey methodTargetClassKey=null;
  if (methodTargetClassKeyMap != null) {
    methodTargetClassKey=methodTargetClassKeyMap.get(methodInvocation);
  }
  if (methodTargetClassKey != null) {
    return methodTargetClassKey;
  }
  Method method=methodInvocation.getMethod();
  Class<?> targetClass=null;
  Object thisObject=methodInvocation.getThis();
  if (thisObject != null) {
    targetClass=thisObject.getClass();
  }
  methodTargetClassKey=new MethodTargetClassKey(method,targetClass);
  if (methodTargetClassKeyMap != null) {
    methodTargetClassKeyMap.put(methodInvocation,methodTargetClassKey);
  }
  return methodTargetClassKey;
}
