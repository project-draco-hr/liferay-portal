{
  MethodTargetClassKey methodTargetClassKey=null;
  Map<MethodInvocation,MethodTargetClassKey> cache=null;
  if (enabledThreadLocalCache) {
    cache=_methodTargetClassKeyThreadLocalCache.get();
    methodTargetClassKey=cache.get(methodInvocation);
    if (methodTargetClassKey != null) {
      return methodTargetClassKey;
    }
  }
  Method method=methodInvocation.getMethod();
  Class<?> targetClass=null;
  Object thisObject=methodInvocation.getThis();
  if (thisObject != null) {
    targetClass=thisObject.getClass();
  }
  methodTargetClassKey=new MethodTargetClassKey(method,targetClass);
  if (enabledThreadLocalCache) {
    cache.put(methodInvocation,methodTargetClassKey);
  }
  return methodTargetClassKey;
}
