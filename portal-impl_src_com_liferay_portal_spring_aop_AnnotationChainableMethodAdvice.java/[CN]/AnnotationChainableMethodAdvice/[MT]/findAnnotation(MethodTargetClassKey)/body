{
  Map<MethodTargetClassKey,Annotation[]> annotationsMap=_beanFactoryAnnotations.get(_beanFactory);
  if (annotationsMap == null) {
    return _nullAnnotation;
  }
  Annotation[] annotations=annotationsMap.get(methodTargetClassKey);
  if (annotations != null) {
    return getAnnotation(annotations);
  }
  Method method=methodTargetClassKey.getMethod();
  Method targetMethod=methodTargetClassKey.getTargetMethod();
  if (targetMethod != null) {
    annotations=targetMethod.getAnnotations();
  }
  if ((annotations == null) || (annotations.length == 0)) {
    annotations=method.getAnnotations();
  }
  if ((annotations == null) || (annotations.length == 0)) {
    annotations=_emptyAnnotations;
  }
  annotationsMap.put(methodTargetClassKey,annotations);
  return getAnnotation(annotations);
}
