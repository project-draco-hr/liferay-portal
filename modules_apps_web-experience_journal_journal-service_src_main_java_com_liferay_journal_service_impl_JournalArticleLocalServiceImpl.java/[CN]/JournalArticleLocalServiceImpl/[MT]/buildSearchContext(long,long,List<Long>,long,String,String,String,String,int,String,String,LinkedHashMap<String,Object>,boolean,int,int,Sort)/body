{
  SearchContext searchContext=new SearchContext();
  searchContext.setAndSearch(andSearch);
  Map<String,Serializable> attributes=new HashMap<>();
  attributes.put(Field.ARTICLE_ID,articleId);
  attributes.put(Field.CLASS_NAME_ID,classNameId);
  attributes.put(Field.CONTENT,content);
  attributes.put(Field.DESCRIPTION,description);
  attributes.put(Field.STATUS,status);
  attributes.put(Field.TITLE,title);
  attributes.put("ddmStructureKey",ddmStructureKey);
  attributes.put("ddmTemplateKey",ddmTemplateKey);
  attributes.put("params",params);
  searchContext.setAttributes(attributes);
  searchContext.setCompanyId(companyId);
  searchContext.setEnd(end);
  searchContext.setFolderIds(folderIds);
  searchContext.setGroupIds(new long[]{groupId});
  if (params != null) {
    searchContext.setIncludeDiscussions(GetterUtil.getBoolean(params.get("includeDiscussions")));
    String keywords=(String)params.remove("keywords");
    if (Validator.isNotNull(keywords)) {
      searchContext.setKeywords(keywords);
    }
  }
  QueryConfig queryConfig=new QueryConfig();
  queryConfig.setHighlightEnabled(false);
  queryConfig.setScoreEnabled(false);
  searchContext.setQueryConfig(queryConfig);
  if (sort != null) {
    searchContext.setSorts(sort);
  }
  searchContext.setStart(start);
  return searchContext;
}
