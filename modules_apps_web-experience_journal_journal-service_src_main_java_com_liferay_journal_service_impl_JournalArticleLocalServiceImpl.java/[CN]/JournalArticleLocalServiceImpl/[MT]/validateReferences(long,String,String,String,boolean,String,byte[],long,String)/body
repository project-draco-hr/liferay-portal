{
  long classNameId=classNameLocalService.getClassNameId(JournalArticle.class.getName());
  if (Validator.isNotNull(ddmStructureKey)) {
    DDMStructure ddmStructure=ddmStructureLocalService.fetchStructure(groupId,classNameId,ddmStructureKey,true);
    if (ddmStructure == null) {
      throw new NoSuchStructureException();
    }
  }
  classNameId=classNameLocalService.getClassNameId(DDMStructure.class.getName());
  if (Validator.isNotNull(ddmTemplateKey)) {
    DDMTemplate ddmTemplate=ddmTemplateLocalService.fetchTemplate(groupId,classNameId,ddmTemplateKey,true);
    if (ddmTemplate == null) {
      throw new NoSuchTemplateException();
    }
  }
  if (Validator.isNotNull(layoutUuid)) {
    Layout layout=JournalUtil.getArticleLayout(layoutUuid,groupId);
    if (layout == null) {
      throw new NoSuchLayoutException(JournalArticleConstants.DISPLAY_PAGE);
    }
  }
  if (smallImage && Validator.isNull(smallImageURL) && ArrayUtil.isEmpty(smallImageBytes)&& Validator.isNull(imageLocalService.fetchImage(smallImageId))) {
    throw new NoSuchImageException();
  }
  ExportImportContentProcessor exportImportContentProcessor=ExportImportContentProcessorRegistryUtil.getExportImportContentProcessor(JournalArticle.class.getName());
  exportImportContentProcessor.validateContentReferences(groupId,content);
}
