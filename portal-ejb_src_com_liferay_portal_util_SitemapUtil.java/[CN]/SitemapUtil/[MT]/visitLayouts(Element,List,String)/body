{
  for (Iterator iterator=layouts.iterator(); iterator.hasNext(); ) {
    Layout layout=(Layout)iterator.next();
    Properties props=layout.getTypeSettingsProperties();
    if (PortalUtil.isLayoutSitemapable(layout) && props.getProperty("sitemap-include","1").equals("1") && !layout.isHidden()) {
      Element url=element.addElement("url");
      String layoutURL=PortalUtil.getLayoutActualURL(layout,urlPrefix);
      url.addElement("loc").addText(encodeXML(layoutURL));
      String changefreq=props.getProperty("sitemap-changefreq");
      if (Validator.isNotNull(changefreq)) {
        url.addElement("changefreq").addText(changefreq);
      }
      String priority=props.getProperty("sitemap-priority");
      if (Validator.isNotNull(priority)) {
        url.addElement("priority").addText(priority);
      }
      List children=layout.getChildren();
      visitLayouts(element,children,urlPrefix);
    }
  }
}
