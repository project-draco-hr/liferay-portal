{
  ServletContext servletContext=servletContextEvent.getServletContext();
  servletContext.setAttribute("jsp.taglib.mappings",_webXMLDefinition.getJspTaglibMappings());
  servletContext.setAttribute("osgi-bundlecontext",_bundleContext);
  servletContext.setAttribute("osgi-runtime-vendor",_VENDOR);
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  properties.put("osgi.web.symbolicname",_bundle.getSymbolicName());
  properties.put("osgi.web.version",_bundle.getVersion());
  properties.put("osgi.web.contextpath",servletContext.getContextPath());
  _servletContextRegistration=_bundleContext.registerService(ServletContext.class,servletContext,properties);
}
