{
  Dictionary<String,Object> jspProperties=new HashMapDictionary<>();
  for (Enumeration<String> keys=properties.keys(); keys.hasMoreElements(); ) {
    String key=keys.nextElement();
    if (!key.startsWith(_JSP_SERVLET_INIT_PARAM_PREFIX)) {
      continue;
    }
    String paramName=_SERVLET_INIT_PARAM_PREFIX + key.substring(_JSP_SERVLET_INIT_PARAM_PREFIX.length());
    jspProperties.put(paramName,properties.get(key));
  }
  jspProperties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_SELECT,_contextName);
  jspProperties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_NAME,"jsp");
  jspProperties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_PATTERN,"*.jsp");
  return _bundleContext.registerService(Servlet.class,new JspServletWrapper(),jspProperties);
}
