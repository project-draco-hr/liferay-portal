{
  if (Validator.isNotNull(getPortletResource())) {
    HttpServletRequest request=getRequest();
    return (T)ConfigurationProviderUtil.getConfiguration(clazz,new ParameterMapSettingsLocator(request.getParameterMap(),new GroupServiceSettingsLocator(getSiteGroupId(),DDMConstants.SERVICE_NAME)));
  }
 else {
    return (T)ConfigurationProviderUtil.getConfiguration(clazz,new GroupServiceSettingsLocator(getSiteGroupId(),DDMConstants.SERVICE_NAME));
  }
}
