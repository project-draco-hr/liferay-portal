{
  HttpSession httpSession=PortalSessionThreadLocal.getHttpSession();
  if (httpSession == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to get HTTP session");
    }
    return;
  }
  httpSession.setAttribute(key,new TransientValue<>(session));
  _sessions.putIfAbsent(httpSession.getId(),httpSession);
}
