{
  String taskExecutorClassName=(String)message.get("taskExecutorClassName");
  if (Validator.isNull(taskExecutorClassName)) {
    return;
  }
  int status=(Integer)message.get("status");
  if ((status == BackgroundTaskConstants.STATUS_CANCELLED) || (status == BackgroundTaskConstants.STATUS_FAILED) || (status == BackgroundTaskConstants.STATUS_SUCCESSFUL)) {
    executeQueuedBackgroundTasks(taskExecutorClassName);
  }
 else   if (status == BackgroundTaskConstants.STATUS_QUEUED) {
    long backgroundTaskId=(Long)message.get("backgroundTaskId");
    BackgroundTask backgroundTask=_backgroundTaskLocalService.fetchBackgroundTask(backgroundTaskId);
    BackgroundTaskExecutor backgroundTaskExecutor=getBackgroundTaskExecutor(backgroundTask);
    boolean locked=backgroundTaskExecutor.isLocked(backgroundTask);
    if (!locked) {
      executeQueuedBackgroundTasks(taskExecutorClassName);
    }
  }
}
