{
  String producerId=ParamUtil.getString(actionRequest,AdminPortletConstants.PRODUCERID);
  String propertyName=ParamUtil.getString(actionRequest,"selectedRegistrationProperty");
  if (Validator.isNotNull(propertyName)) {
    try {
      ProducerHandler handler=obtainHandler(actionRequest);
      ProducerBean producerData=handler.getDetails(producerId);
      List<String> regProperties=producerData.getRegistrationPropertyDescriptions();
      if (regProperties != null) {
        boolean changed=false;
        for (Iterator<String> iterator=regProperties.iterator(); iterator.hasNext(); ) {
          if (iterator.next().startsWith(propertyName + "=")) {
            iterator.remove();
            changed=true;
          }
        }
        if (changed) {
          Map attributeMap=new HashMap();
          attributeMap.put("RegistrationPropertyDescription",regProperties);
          handler.update(producerId,attributeMap);
        }
      }
    }
 catch (    Exception e) {
      actionResponse.setRenderParameter("PRODUCER_ADMIN_ERROR","OPERATION_FAILED");
    }
  }
  actionResponse.setRenderParameter("action",String.valueOf(ProducerPortletAction.GET_REGISTRATION_PROPERTIES));
  actionResponse.setRenderParameter(AdminPortletConstants.PRODUCERID,producerId);
}
