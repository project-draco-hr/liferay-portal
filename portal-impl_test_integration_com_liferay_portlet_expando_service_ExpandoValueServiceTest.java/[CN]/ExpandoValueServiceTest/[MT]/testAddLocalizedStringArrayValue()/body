{
  ExpandoTable expandoTable=ExpandoTableLocalServiceUtil.addTable(TestPropsValues.getCompanyId(),_classNameId,"Test Table 1");
  ExpandoColumn expandoColumn=ExpandoColumnLocalServiceUtil.addColumn(expandoTable.getTableId(),"Test Column",ExpandoColumnConstants.STRING_ARRAY_LOCALIZED);
  Map<Locale,String[]> dataMap=new HashMap<Locale,String[]>();
  dataMap.put(_en_US,new String[]{"one","two","three"});
  dataMap.put(_pt_BR,new String[]{"um","dois","tres"});
  ExpandoValue expandoValue=ExpandoValueLocalServiceUtil.addValue(TestPropsValues.getCompanyId(),PortalUtil.getClassName(_classNameId),expandoTable.getName(),expandoColumn.getName(),CounterLocalServiceUtil.increment(),dataMap);
  expandoValue=ExpandoValueLocalServiceUtil.getExpandoValue(expandoValue.getValueId());
  Map<Locale,String[]> stringArrayMap=expandoValue.getStringArrayMap();
  String[] enValues=stringArrayMap.get(_en_US);
  Assert.assertEquals(3,enValues.length);
  Assert.assertEquals("two",enValues[1]);
  String[] ptValues=stringArrayMap.get(_pt_BR);
  Assert.assertEquals(3,ptValues.length);
  Assert.assertEquals("tres",ptValues[2]);
}
