{
  objectInputStream.defaultReadObject();
  System.setProperty(PropsKeys.INTRABAND_IMPL,objectInputStream.readUTF());
  System.setProperty(PropsKeys.INTRABAND_TIMEOUT_DEFAULT,objectInputStream.readUTF());
  System.setProperty(PropsKeys.INTRABAND_WELDER_IMPL,objectInputStream.readUTF());
  System.setProperty("portal:" + PropsKeys.LIFERAY_HOME,objectInputStream.readUTF());
  System.setProperty("portal:" + PropsKeys.AUTO_DEPLOY_ENABLED,"false");
  System.setProperty("portal:" + PropsKeys.CLUSTER_LINK_ENABLED,"false");
  System.setProperty("spi.id","-" + spiConfiguration.getSPIId());
  try {
    Field enabledField=ReflectionUtil.getDeclaredField(DependencyManagementThreadLocal.class,"_enabled");
    enabledField.set(null,new ThreadLocal<Boolean>(){
      @Override public Boolean get(){
        return Boolean.FALSE;
      }
    }
);
  }
 catch (  Exception e) {
    throw new IOException("Unable to disable dependency management",e);
  }
}
