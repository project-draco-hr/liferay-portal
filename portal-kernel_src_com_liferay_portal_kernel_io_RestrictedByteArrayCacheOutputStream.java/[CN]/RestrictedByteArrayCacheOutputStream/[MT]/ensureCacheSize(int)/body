{
  if (newIndex <= cache.length) {
    return;
  }
  int newCacheSize=Math.max(cache.length << 1,newIndex);
  if (newCacheSize > cacheCapacity) {
    newCacheSize=cacheCapacity;
  }
  byte[] newCache=new byte[newCacheSize];
  System.arraycopy(cache,0,newCache,0,cache.length);
  cache=newCache;
}
