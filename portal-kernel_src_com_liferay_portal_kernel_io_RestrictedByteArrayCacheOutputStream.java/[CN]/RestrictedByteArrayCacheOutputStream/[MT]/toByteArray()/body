{
  if (overflowed) {
    throw new IllegalStateException("Cache overflowed");
  }
  byte[] newCache=new byte[index];
  System.arraycopy(cache,0,newCache,0,index);
  return newCache;
}
