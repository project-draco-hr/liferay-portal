{
  Artifact artifact=artifactFactory.createArtifact("com.liferay.portal","portal-web",liferayVersion,"","war");
  artifactResolver.resolve(artifact,remoteArtifactRepositories,localArtifactRepository);
  if (!workDir.exists()) {
    workDir.mkdirs();
  }
  UnArchiver unArchiver=archiverManager.getUnArchiver(artifact.getFile());
  unArchiver.setDestDirectory(workDir);
  unArchiver.setSourceFile(artifact.getFile());
  IncludeExcludeFileSelector includeExcludeFileSelector=new IncludeExcludeFileSelector();
  includeExcludeFileSelector.setExcludes(new String[]{});
  includeExcludeFileSelector.setIncludes(new String[]{"WEB-INF/tld/**","WEB-INF/lib/**"});
  unArchiver.setFileSelectors(new FileSelector[]{includeExcludeFileSelector});
  unArchiver.extract();
}
