{
  List<Element> websiteElements=portletDataContext.getReferenceDataElements(organization,Website.class);
  List<Website> websites=new ArrayList<>(websiteElements.size());
  for (  Element websiteElement : websiteElements) {
    String websitePath=websiteElement.attributeValue("path");
    Website website=(Website)portletDataContext.getZipEntryAsObject(websiteElement,websitePath);
    website.setClassPK(importedOrganization.getOrganizationId());
    StagedModelDataHandlerUtil.importStagedModel(portletDataContext,website);
    Map<Long,Long> websiteIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(Website.class);
    long websiteId=websiteIds.get(website.getPrimaryKey());
    website.setWebsiteId(websiteId);
    websites.add(website);
  }
  UsersAdminUtil.updateWebsites(Organization.class.getName(),importedOrganization.getOrganizationId(),websites);
}
