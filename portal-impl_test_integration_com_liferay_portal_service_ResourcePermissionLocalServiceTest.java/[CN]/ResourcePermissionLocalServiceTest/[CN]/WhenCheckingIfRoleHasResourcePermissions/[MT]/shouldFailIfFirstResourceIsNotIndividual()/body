{
  List<Resource> resources=new ArrayList<Resource>();
  Resource firstResource=new ResourceImpl();
  firstResource.setScope(ResourceConstants.SCOPE_GROUP);
  resources.add(firstResource);
  Resource lastResource=new ResourceImpl();
  lastResource.setScope(ResourceConstants.SCOPE_COMPANY);
  resources.add(lastResource);
  long[] roleIds=new long[1];
  Role guestRole=RoleLocalServiceUtil.getRole(_group.getCompanyId(),RoleConstants.GUEST);
  roleIds[0]=guestRole.getRoleId();
  try {
    ResourcePermissionLocalServiceUtil.hasResourcePermission(resources,roleIds,ActionKeys.VIEW);
  }
 catch (  IllegalArgumentException iae) {
    Assert.assertEquals("The first resource must be an individual scope",iae.getMessage());
  }
}
