{
  List<Resource> resources=new ArrayList<Resource>();
  Resource first=new ResourceImpl();
  first.setScope(ResourceConstants.SCOPE_GROUP);
  resources.add(first);
  Resource last=new ResourceImpl();
  last.setScope(ResourceConstants.SCOPE_COMPANY);
  resources.add(last);
  long[] roleIds=new long[1];
  Role guestRole=RoleLocalServiceUtil.getRole(_group.getCompanyId(),RoleConstants.GUEST);
  roleIds[0]=guestRole.getRoleId();
  try {
    ResourcePermissionLocalServiceUtil.hasResourcePermission(resources,roleIds,ActionKeys.VIEW);
  }
 catch (  IllegalArgumentException iae) {
    Assert.assertEquals("The first resource must be individual scope",iae.getMessage());
  }
}
