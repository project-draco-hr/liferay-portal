{
  BufferedReader categoryReader=null;
  ShoppingCategoryView categoryView=new ShoppingCategoryView(ShoppingCategoryImpl.TABLE_NAME);
  String categoryViewFile=categoryView.generateTempFile();
  try {
    categoryReader=new BufferedReader(new FileReader(categoryViewFile));
    String line=null;
    while (Validator.isNotNull(line=categoryReader.readLine())) {
      String[] values=StringUtil.split(line);
      long categoryId=ShoppingCategoryView.getCategoryId(values);
      long groupId=ShoppingCategoryView.getGroupId(values);
      String sql=StringUtil.replace(_UPDATE_SQL,new String[]{"_GROUP_ID_","_CATEGORY_ID_"},new String[]{Long.toString(groupId),Long.toString(categoryId)});
      DBUtil.getInstance().runSQL(sql);
    }
  }
  finally {
    if (categoryReader != null) {
      categoryReader.close();
    }
    FileUtil.delete(categoryViewFile);
  }
}
