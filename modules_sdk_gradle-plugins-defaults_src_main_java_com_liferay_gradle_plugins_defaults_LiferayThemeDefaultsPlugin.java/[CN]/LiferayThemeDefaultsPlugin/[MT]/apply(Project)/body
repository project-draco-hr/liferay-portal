{
  GradleUtil.applyPlugin(project,LiferayThemePlugin.class);
  applyPlugins(project);
  addTaskInstall(project);
  applyConfigScripts(project);
  LiferayOSGiDefaultsPlugin.configureRepositories(project);
  Configuration frontendCSSCommonConfiguration=addConfigurationFrontendCSSCommon(project);
  Project frontendThemeStyledProject=getThemeProject(project,"frontend-theme-styled");
  Project frontendThemeUnstyledProject=getThemeProject(project,"frontend-theme-unstyled");
  WriteDigestTask writeDigestTask=addTaskWriteParentThemesDigest(project,frontendThemeStyledProject,frontendThemeUnstyledProject);
  Copy expandFrontendCSSCommonTask=addTaskExpandFrontendCSSCommon(project,frontendCSSCommonConfiguration);
  final ReplaceRegexTask updateVersionTask=addTaskUpdateVersion(project,writeDigestTask);
  File resourcesImporterArchivesDir=project.file("src/WEB-INF/src/resources-importer");
  File resourcesImporterExpandedArchivesDir=project.file("resources-importer");
  Task zipResourcesImporterArchivesTask=addTaskZipDirectories(project,ZIP_RESOURCES_IMPORTER_ARCHIVES_TASK_NAME,resourcesImporterExpandedArchivesDir,resourcesImporterArchivesDir,"lar");
  configureDeployDir(project);
  configureProject(project);
  configureTasksExecuteGulp(project,expandFrontendCSSCommonTask,zipResourcesImporterArchivesTask,frontendThemeStyledProject,frontendThemeUnstyledProject);
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      GradleUtil.setProjectSnapshotVersion(project);
      configureTaskUploadArchives(project,updateVersionTask);
    }
  }
);
}
