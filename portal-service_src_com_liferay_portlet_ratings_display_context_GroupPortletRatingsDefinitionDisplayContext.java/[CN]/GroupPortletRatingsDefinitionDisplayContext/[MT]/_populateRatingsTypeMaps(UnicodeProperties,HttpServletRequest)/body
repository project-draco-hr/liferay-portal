{
  Map<String,PortletRatingsDefinitionValues> portletRatingsDefinitionValuesMap=PortletRatingsDefinitionUtil.getPortletRatingsDefinitionValuesMap();
  for (  String className : portletRatingsDefinitionValuesMap.keySet()) {
    PortletRatingsDefinitionValues portletRatingsDefinitionValues=portletRatingsDefinitionValuesMap.get(className);
    if (portletRatingsDefinitionValues == null) {
      continue;
    }
    String portletId=portletRatingsDefinitionValues.getPortletId();
    Map<String,RatingsType> ratingsTypeMap=new HashMap<>();
    String propertyKey=RatingsDataTransformerUtil.getPropertyKey(className);
    Map<String,Map<String,RatingsType>> companyRatingsTypeMaps=_companyPortletRatingsDefinitionDisplayContext.getCompanyRatingsTypeMaps();
    Map<String,RatingsType> companyRatingsTypeMap=companyRatingsTypeMaps.get(portletId);
    RatingsType ratingsType=companyRatingsTypeMap.get(className);
    String groupRatingsTypeString=PropertiesParamUtil.getString(groupTypeSettings,request,propertyKey,ratingsType.getValue());
    ratingsTypeMap.put(className,RatingsType.parse(groupRatingsTypeString));
    _groupRatingsTypeMaps.put(portletId,ratingsTypeMap);
  }
}
