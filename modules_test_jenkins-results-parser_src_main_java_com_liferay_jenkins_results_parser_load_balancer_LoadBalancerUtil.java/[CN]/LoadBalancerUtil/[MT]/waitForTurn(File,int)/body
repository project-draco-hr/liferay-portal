{
  long start=System.currentTimeMillis();
  try {
    while (true) {
      if (!file.exists()) {
        JenkinsResultsParserUtil.write(file,"");
        return;
      }
      long age=System.currentTimeMillis() - file.lastModified();
      String content=JenkinsResultsParserUtil.read(file);
      if (content.length() > 0) {
        if (age < _MAX_AGE) {
          Thread.sleep(1000);
          continue;
        }
 else {
          System.out.println("Sempahore file " + file + " timed out: "+ content);
        }
      }
      return;
    }
  }
  finally {
    System.out.println("Waited " + ((System.currentTimeMillis() - start) / 1000F) + " seconds.");
  }
}
