{
  ServerSocketChannel serverSocketChannel=SocketUtil.createServerSocketChannel(InetAddressUtil.getLoopbackInetAddress(),12342,_serverSocketConfigurator);
  try (ServerSocket serverSocket=serverSocketChannel.socket()){
    int port=serverSocket.getLocalPort();
    _localProcessExecutor.execute(_createJPDAProcessConfig(_JPDA_OPTIONS1),new AttachParentProcessCallable(AttachChildProcessCallable1.class.getName(),port));
    Socket parentSocket=serverSocket.accept();
    Assert.assertTrue(ServerThread.isAlive(parentSocket));
    Socket childSocket=serverSocket.accept();
    Assert.assertTrue(ServerThread.isAlive(childSocket));
    ServerThread.exit(parentSocket);
    for (int i=0; i < 10; i++) {
      Thread.sleep(100);
      Assert.assertTrue(ServerThread.isAlive(childSocket));
    }
    ServerThread.exit(childSocket);
  }
 }
