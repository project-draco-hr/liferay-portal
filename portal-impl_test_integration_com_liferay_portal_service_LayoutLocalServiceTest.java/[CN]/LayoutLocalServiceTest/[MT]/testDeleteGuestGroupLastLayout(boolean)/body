{
  List<Layout> layouts=new ArrayList<Layout>();
  Group group=GroupLocalServiceUtil.getGroup(TestPropsValues.getCompanyId(),GroupConstants.GUEST);
  layouts.addAll(LayoutLocalServiceUtil.getLayouts(group.getGroupId(),privateLayout,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID));
  if (layouts.isEmpty()) {
    layouts.add(LayoutTestUtil.addLayout(group.getGroupId(),StringUtil.randomString(),privateLayout));
  }
  ServiceContext serviceContext=new ServiceContext();
  try {
    LayoutLocalServiceUtil.deleteLayouts(group.getGroupId(),privateLayout,serviceContext);
  }
 catch (  RequiredLayoutException rle) {
    if (privateLayout) {
      Assert.fail("Guest group must not have any private pages");
    }
    return;
  }
  if (!privateLayout) {
    Assert.fail("Guest group must have at least one public page");
  }
}
