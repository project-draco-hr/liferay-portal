{
  DDMForm ddmForm=new DDMForm();
  DDMFormField contactDDMFormField=new DDMFormField("Contact","text");
  contactDDMFormField.addNestedDDMFormField(new DDMFormField("FirstName","text"));
  contactDDMFormField.addNestedDDMFormField(new DDMFormField("LastName","text"));
  ddmForm.addDDMFormField(contactDDMFormField);
  DDMFormValues ddmFormValues=new DDMFormValues(ddmForm);
  DDMFormFieldValue contact1DDMFormFieldValue=createDDMFormFieldValue("asxd","Contact","Contact 1");
  contact1DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("hegt","FirstName","Joe"));
  contact1DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("nahy","LastName","Bloggs"));
  ddmFormValues.addDDMFormFieldValue(contact1DDMFormFieldValue);
  DDMFormFieldValue contact2DDMFormFieldValue=createDDMFormFieldValue("uahy","Contact","Contact 2");
  contact2DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("wbuy","FirstName","Elza"));
  contact2DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("aaho","LastName","Fitzgerald"));
  ddmFormValues.addDDMFormFieldValue(contact2DDMFormFieldValue);
  String renderedContact1DDMFormFieldValue=renderContactDDMFormFieldValue(contact1DDMFormFieldValue,0);
  String renderedContact2DDMFormFieldValue=renderContactDDMFormFieldValue(contact2DDMFormFieldValue,1);
  String renderedContactDDMFormFieldValues=renderedContact1DDMFormFieldValue.concat(renderedContact2DDMFormFieldValue);
  DDMFormRenderingContext ddmFormRenderingContext=createDDMFormRenderingContext();
  ddmFormRenderingContext.setDDMFormValues(ddmFormValues);
  DDMFormRendererHelper ddmFormRendererHelper=createDDMFormRendererHelper(ddmForm,ddmFormRenderingContext);
  Map<String,String> renderedDDMFormFieldsMap=ddmFormRendererHelper.getRenderedDDMFormFieldsMap();
  Assert.assertEquals(renderedContactDDMFormFieldValues,renderedDDMFormFieldsMap.get("Contact"));
}
