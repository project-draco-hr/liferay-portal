{
  if (Validator.isNull(portlet.getResourceBundle())) {
    return;
  }
  Registry registry=RegistryUtil.getRegistry();
  for (  Locale locale : LanguageUtil.getAvailableLocales()) {
    ResourceBundle resourceBundle=ResourceBundleUtil.getBundle(portlet.getResourceBundle(),locale,classLoader);
    Map<String,Object> properties=new HashMap<>();
    properties.put("language.id",LocaleUtil.toLanguageId(locale));
    properties.put("javax.portlet.name",portlet.getPortletId());
    ServiceRegistration<ResourceBundle> serviceRegistration=registry.registerService(ResourceBundle.class,resourceBundle,properties);
    _serviceRegistrations.put(resourceBundle,serviceRegistration);
  }
}
