{
  if (Validator.isNotNull(languageBundleName)) {
    Registry registry=RegistryUtil.getRegistry();
    for (    Locale locale : LanguageUtil.getAvailableLocales()) {
      ResourceBundle resourceBundle=ResourceBundle.getBundle(languageBundleName,locale,classLoader,UTF8Control.INSTANCE);
      Map<String,Object> properties=new HashMap<>();
      properties.put("language.id",LocaleUtil.toLanguageId(locale));
      properties.put("javax.portlet.name",portletId);
      ServiceRegistration<ResourceBundle> serviceRegistration=registry.registerService(ResourceBundle.class,resourceBundle,properties);
      _serviceRegistrations.put(resourceBundle,serviceRegistration);
    }
  }
}
