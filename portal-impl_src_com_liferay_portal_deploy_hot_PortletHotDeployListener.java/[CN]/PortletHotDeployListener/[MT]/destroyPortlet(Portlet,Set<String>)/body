{
  PortletApp portletApp=portlet.getPortletApp();
  Set<PortletFilter> portletFilters=portletApp.getPortletFilters();
  for (  PortletFilter portletFilter : portletFilters) {
    PortletFilterFactory.destroy(portletFilter);
  }
  Set<PortletURLListener> portletURLListeners=portletApp.getPortletURLListeners();
  for (  PortletURLListener portletURLListener : portletURLListeners) {
    PortletURLListenerFactory.destroy(portletURLListener);
  }
  Indexer indexer=portlet.getIndexerInstance();
  if (indexer != null) {
    for (    String className : indexer.getClassNames()) {
      IndexerRegistryUtil.unregister(className);
    }
  }
  Scheduler scheduler=portlet.getSchedulerInstance();
  if (scheduler != null) {
    scheduler.unschedule();
  }
  List<com.liferay.portal.kernel.scheduler.Scheduler> schedulerList=portlet.getSchedulers();
  if (schedulerList != null && schedulerList.size() > 0) {
    for (    com.liferay.portal.kernel.scheduler.Scheduler schedulerNew : schedulerList) {
      try {
        com.liferay.portal.kernel.messaging.MessageListener schedulerListener=schedulerNew.getListener();
        if (schedulerListener == null) {
          throw new SystemException("Unable to create scheduler listener " + "from class:" + schedulerNew.getListenerClass());
        }
        MessageBusUtil.unregisterMessageListener(DestinationNames.SCHEDULER_DISPATCH,schedulerListener);
        SchedulerEngineUtil.unschedule(schedulerNew.getTrigger());
      }
 catch (      Exception ex) {
        if (_log.isErrorEnabled()) {
          _log.error("Failed to remove scheduler for " + "portlet:" + portlet.getPortletName(),ex);
        }
        continue;
      }
    }
  }
  PollerProcessorUtil.deletePollerProcessor(portlet.getPortletId());
  POPServerUtil.deleteListener(portlet.getPopMessageListenerInstance());
  SocialActivityInterpreterLocalServiceUtil.deleteActivityInterpreter(portlet.getSocialActivityInterpreterInstance());
  SocialRequestInterpreterLocalServiceUtil.deleteRequestInterpreter(portlet.getSocialRequestInterpreterInstance());
  WebDAVUtil.deleteStorage(portlet.getWebDAVStorageInstance());
  PortletInstanceFactoryUtil.destroy(portlet);
  portletIds.add(portlet.getPortletId());
}
