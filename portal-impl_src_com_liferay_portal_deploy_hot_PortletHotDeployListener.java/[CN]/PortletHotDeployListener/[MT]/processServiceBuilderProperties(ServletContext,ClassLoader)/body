{
  Configuration serviceBuilderPropertiesConfiguration=null;
  try {
    serviceBuilderPropertiesConfiguration=ConfigurationFactoryUtil.getConfiguration(portletClassLoader,"portlet-service");
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to read portlet-service.properties");
    }
  }
  if (serviceBuilderPropertiesConfiguration == null) {
    return;
  }
  Properties serviceBuilderProperties=serviceBuilderPropertiesConfiguration.getProperties();
  if (serviceBuilderProperties.size() == 0) {
    return;
  }
  String buildNamespace=GetterUtil.getString(serviceBuilderProperties.getProperty("build.namespace"));
  long buildNumber=GetterUtil.getLong(serviceBuilderProperties.getProperty("build.number"));
  long buildDate=GetterUtil.getLong(serviceBuilderProperties.getProperty("build.date"));
  if (_log.isDebugEnabled()) {
    _log.debug("Build namespace " + buildNamespace);
    _log.debug("Build number " + buildNumber);
    _log.debug("Build date " + buildDate);
  }
  ServiceComponentLocalServiceUtil.updateServiceComponent(ctx,portletClassLoader,buildNamespace,buildNumber,buildDate);
}
