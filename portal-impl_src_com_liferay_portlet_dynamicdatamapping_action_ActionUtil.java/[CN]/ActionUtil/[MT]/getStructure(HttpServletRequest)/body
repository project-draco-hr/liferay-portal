{
  long structureClassNameId=PortalUtil.getClassNameId(DDMStructure.class);
  long structureId=ParamUtil.getLong(request,"structureId");
  long classNameId=ParamUtil.getLong(request,"classNameId");
  long classPK=ParamUtil.getLong(request,"classPK");
  DDMStructure structure=null;
  if (structureId > 0) {
    structure=DDMStructureServiceUtil.getStructure(structureId);
  }
 else   if ((classPK > 0) && (structureClassNameId == classNameId)) {
    structure=DDMStructureServiceUtil.getStructure(classPK);
  }
  request.setAttribute(WebKeys.DYNAMIC_DATA_MAPPING_STRUCTURE,structure);
}
