{
  if ((fragment == null) || (fragment.length() < 3)) {
    throw new IllegalArgumentException("Fragment is invalid: " + fragment);
  }
  int index=fragment.indexOf(CharPool.COLON);
  String name=null;
  if (index < 0) {
    name=fragment.substring(1,fragment.length() - 1);
    _pattern=_defaultPattern;
  }
 else {
    name=fragment.substring(1,index);
    String pattern=fragment.substring(index + 1,fragment.length() - 1);
    if (Validator.isNull(pattern)) {
      throw new IllegalArgumentException("Pattern is null: " + fragment);
    }
    _pattern=Pattern.compile(pattern);
  }
  if (name.isEmpty()) {
    throw new IllegalArgumentException("Name is null: " + fragment);
  }
  if (name.charAt(0) == CharPool.PERCENT) {
    name=name.substring(1);
    if (name.isEmpty()) {
      throw new IllegalArgumentException("Name is invalid: " + fragment);
    }
    _raw=true;
  }
 else {
    _raw=false;
  }
  _name=name;
  _token=StringPool.OPEN_CURLY_BRACE.concat(_name).concat(StringPool.CLOSE_CURLY_BRACE);
}
