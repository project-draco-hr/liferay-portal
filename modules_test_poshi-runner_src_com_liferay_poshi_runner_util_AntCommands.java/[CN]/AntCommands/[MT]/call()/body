{
  Runtime runtime=Runtime.getRuntime();
  StringBuilder sb=new StringBuilder();
  if (!OSDetector.isWindows()) {
    String projectDirName=_liferaySelenium.getProjectDirName();
    projectDirName=StringUtil.replace(projectDirName,"\\","//");
    runtime.exec("/bin/bash cd " + projectDirName);
    sb.append("/bin/bash ant -f ");
    sb.append(_fileName);
    sb.append(" ");
    sb.append(_target);
    sb.append(" -Dtest.ant.launched.by.selenium=true -Dtest.class=");
    sb.append(PropsValues.TEST_CLASS_COMMAND_NAME);
  }
 else {
    runtime.exec("cmd /c cd " + _liferaySelenium.getProjectDirName());
    sb.append("cmd /c ant -f ");
    sb.append(_fileName);
    sb.append(" ");
    sb.append(_target);
    sb.append(" -Dtest.ant.launched.by.selenium=true -Dtest.class=");
    sb.append(PropsValues.TEST_CLASS_COMMAND_NAME);
  }
  Process process=runtime.exec(sb.toString());
  InputStreamReader inputStreamReader=new InputStreamReader(process.getInputStream());
  BufferedReader inputBufferedReader=new BufferedReader(inputStreamReader);
  String line=null;
  while ((line=inputBufferedReader.readLine()) != null) {
    System.out.println(line);
  }
  InputStreamReader errorStreamReader=new InputStreamReader(process.getErrorStream());
  BufferedReader errorBufferedReader=new BufferedReader(errorStreamReader);
  if (errorBufferedReader.ready()) {
    while ((line=errorBufferedReader.readLine()) != null) {
      System.out.println(line);
    }
    throw new Exception();
  }
  return null;
}
