{
  String safeFileName=FileUtil.encodeSafeFileName(fileName);
  String safeSourceFileName=FileUtil.encodeSafeFileName(sourceFileName);
  renameUnsafeFile(companyId,portletId,groupId,repositoryId,fileName,safeFileName);
  renameUnsafeFile(companyId,portletId,groupId,repositoryId,sourceFileName,safeSourceFileName);
  _store.copyFileVersion(companyId,portletId,groupId,repositoryId,safeFileName,fromVersionNumber,toVersionNumber,safeSourceFileName,serviceContext);
}
