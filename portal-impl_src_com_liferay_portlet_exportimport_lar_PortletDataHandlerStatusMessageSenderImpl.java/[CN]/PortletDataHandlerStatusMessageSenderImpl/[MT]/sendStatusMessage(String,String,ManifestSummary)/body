{
  PortletDataHandlerBackgroundTaskStatusMessage portletDataHandlerBackgroundTaskStatusMessage=new PortletDataHandlerBackgroundTaskStatusMessage();
  init(portletDataHandlerBackgroundTaskStatusMessage,messageType,manifestSummary);
  portletDataHandlerBackgroundTaskStatusMessage.put("portletId",portletId);
  Portlet portlet=PortletLocalServiceUtil.getPortletById(portletId);
  if (portlet != null) {
    PortletDataHandler portletDataHandler=portlet.getPortletDataHandlerInstance();
    long portletModelAdditionCountersTotal=portletDataHandler.getExportModelCount(manifestSummary);
    if (portletModelAdditionCountersTotal < 0) {
      portletModelAdditionCountersTotal=0;
    }
    portletDataHandlerBackgroundTaskStatusMessage.put("portletModelAdditionCountersTotal",portletModelAdditionCountersTotal);
  }
  _backgroundTaskStatusMessageSender.setBackgroundTaskStatusMessage(portletDataHandlerBackgroundTaskStatusMessage);
}
