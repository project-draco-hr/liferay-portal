{
  BackgroundTaskStatusMessage backgroundTaskStatusMessage=new BackgroundTaskStatusMessage();
  init(backgroundTaskStatusMessage,messageType,manifestSummary);
  backgroundTaskStatusMessage.put("portletId",portletId);
  Portlet portlet=PortletLocalServiceUtil.getPortletById(portletId);
  if (portlet != null) {
    PortletDataHandler portletDataHandler=portlet.getPortletDataHandlerInstance();
    long portletModelAdditionCountersTotal=portletDataHandler.getExportModelCount(manifestSummary);
    if (portletModelAdditionCountersTotal < 0) {
      portletModelAdditionCountersTotal=0;
    }
    backgroundTaskStatusMessage.put("portletModelAdditionCountersTotal",portletModelAdditionCountersTotal);
  }
  _backgroundTaskStatusMessageSender.setBackgroundTaskStatusMessage(backgroundTaskStatusMessage);
}
