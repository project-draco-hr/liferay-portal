{
  StringBuilder sb=new StringBuilder();
  sb.append(HttpUtil.getProtocol(request));
  sb.append("://");
  sb.append(request.getServletPath());
  sb.append(request.getPathInfo());
  sb.append(StringPool.QUESTION);
  sb.append(request.getQueryString());
  sb.append(StringPool.POUND);
  sb.append(LanguageUtil.getLanguageId(request));
  sb.append(StringPool.POUND);
  sb.append(getBrowserType(request));
  sb.append(StringPool.POUND);
  sb.append(BrowserSnifferUtil.acceptsGzip(request));
  return sb.toString().trim().toUpperCase();
}
