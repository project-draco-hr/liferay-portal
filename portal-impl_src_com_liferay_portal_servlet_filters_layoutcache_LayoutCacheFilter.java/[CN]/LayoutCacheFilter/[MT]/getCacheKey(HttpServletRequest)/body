{
  StringBuilder sb=new StringBuilder();
  sb.append(HttpUtil.getProtocol(req));
  sb.append("://");
  sb.append(req.getServletPath());
  sb.append(req.getPathInfo());
  sb.append(StringPool.QUESTION);
  sb.append(req.getQueryString());
  sb.append(StringPool.POUND);
  sb.append(LanguageUtil.getLanguageId(req));
  sb.append(StringPool.POUND);
  sb.append(getBrowserType(req));
  sb.append(StringPool.POUND);
  sb.append(BrowserSnifferUtil.acceptsGzip(req));
  return sb.toString().trim().toUpperCase();
}
