{
  if (_pattern == _PATTERN_RESOURCE) {
    return true;
  }
  try {
    long plid=getPlid(companyId,request.getPathInfo(),request.getServletPath(),ParamUtil.getLong(request,"p_l_id"));
    if (plid <= 0) {
      return false;
    }
    Layout layout=LayoutLocalServiceUtil.getLayout(plid);
    if (!layout.getType().equals(LayoutConstants.TYPE_PORTLET)) {
      return false;
    }
    Properties props=layout.getTypeSettingsProperties();
    for (int i=0; i < 10; i++) {
      String columnId="column-" + i;
      String settings=props.getProperty(columnId,StringPool.BLANK);
      String[] portlets=StringUtil.split(settings);
      for (int j=0; j < portlets.length; j++) {
        String portletId=StringUtil.extractFirst(portlets[j],PortletConstants.INSTANCE_SEPARATOR);
        Portlet portlet=PortletLocalServiceUtil.getPortletById(companyId,portletId);
        if (!portlet.isLayoutCacheable()) {
          return false;
        }
      }
    }
  }
 catch (  Exception e) {
    return false;
  }
  return true;
}
