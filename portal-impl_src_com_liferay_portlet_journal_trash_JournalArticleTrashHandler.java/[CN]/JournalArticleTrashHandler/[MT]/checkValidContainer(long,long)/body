{
  JournalArticle article=JournalArticleLocalServiceUtil.getLatestArticle(classPK);
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getStructure(PortalUtil.getSiteGroupId(article.getGroupId()),PortalUtil.getClassNameId(JournalArticle.class),article.getStructureId(),true);
  if (containerModelId == TrashEntryConstants.DEFAULT_CONTAINER_ID) {
    containerModelId=article.getFolderId();
  }
  int restrictionType=JournalUtil.getRestrictionType(containerModelId);
  List<DDMStructure> folderDDMStructures=DDMStructureLocalServiceUtil.getJournalFolderStructures(PortalUtil.getCurrentAndAncestorSiteGroupIds(article.getGroupId()),containerModelId,restrictionType);
  for (  DDMStructure folderDDMStructure : folderDDMStructures) {
    if (folderDDMStructure.getStructureId() == ddmStructure.getStructureId()) {
      return;
    }
  }
  throw new RestoreEntryException(RestoreEntryException.INVALID_CONTAINER);
}
