{
  JournalArticle article=JournalArticleLocalServiceUtil.getLatestArticle(classPK);
  int restrictionType=JournalFolderConstants.RESTRICTION_TYPE_INHERIT;
  JournalFolder folder=JournalFolderLocalServiceUtil.fetchFolder(containerModelId);
  if (folder != null) {
    restrictionType=folder.getRestrictionType();
  }
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getStructure(PortalUtil.getSiteGroupId(article.getGroupId()),PortalUtil.getClassNameId(JournalArticle.class),article.getStructureId(),true);
  List<DDMStructure> folderDDMStructures=DDMStructureLocalServiceUtil.getJournalFolderStructures(PortalUtil.getCurrentAndAncestorSiteGroupIds(article.getGroupId()),containerModelId,restrictionType);
  for (  DDMStructure folderDDMStructure : folderDDMStructures) {
    if (folderDDMStructure.getStructureId() == ddmStructure.getStructureId()) {
      return;
    }
  }
  throw new RestoreEntryException(RestoreEntryException.INVALID_CONTAINER);
}
