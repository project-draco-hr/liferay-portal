{
  JournalArticle article=JournalArticleLocalServiceUtil.getLatestArticle(trashEntry.getClassPK());
  String originalTitle=trashEntry.getTypeSettingsProperty("title");
  JournalArticleResource articleResource=JournalArticleResourceLocalServiceUtil.fetchArticleResource(article.getGroupId(),originalTitle);
  if (articleResource != null) {
    DuplicateEntryException dee=new DuplicateEntryException();
    JournalArticle duplicateArticle=JournalArticleLocalServiceUtil.getArticle(articleResource.getGroupId(),originalTitle);
    dee.setDuplicateEntryId(duplicateArticle.getResourcePrimKey());
    dee.setOldName(duplicateArticle.getArticleId());
    dee.setTrashEntryId(trashEntry.getEntryId());
    throw dee;
  }
}
