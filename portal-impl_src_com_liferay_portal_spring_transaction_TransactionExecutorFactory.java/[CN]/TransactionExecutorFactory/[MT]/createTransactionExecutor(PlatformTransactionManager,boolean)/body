{
  if (counter) {
    if (platformTransactionManager instanceof CallbackPreferringPlatformTransactionManager) {
      return new CounterCallbackPreferringTransactionExecutor();
    }
 else {
      return new CounterTransactionExecutor();
    }
  }
 else {
    if (platformTransactionManager instanceof CallbackPreferringPlatformTransactionManager) {
      return new CallbackPreferringTransactionExecutor();
    }
 else {
      return new DefaultTransactionExecutor();
    }
  }
}
