{
  Registry registry=RegistryUtil.getRegistry();
  String[] authFailureClassNames=StringUtil.split(portalProperties.getProperty(key));
  for (  String authFailureClassName : authFailureClassNames) {
    AuthFailure authFailure=(AuthFailure)newInstance(portletClassLoader,AuthFailure.class,authFailureClassName);
    Map<String,Object> properties=new HashMap<String,Object>();
    properties.put("key",key);
    ServiceRegistration<AuthFailure> serviceRegistration=registry.registerService(AuthFailure.class,authFailure,properties);
    serviceRegistrations.put(authFailureClassName,serviceRegistration);
  }
}
