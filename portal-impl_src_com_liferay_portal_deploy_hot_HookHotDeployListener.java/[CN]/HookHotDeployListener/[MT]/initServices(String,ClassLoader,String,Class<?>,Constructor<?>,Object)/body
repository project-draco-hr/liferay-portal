{
  AdvisedSupport advisedSupport=ServiceBeanAopProxy.getAdvisedSupport(serviceProxy);
  TargetSource targetSource=advisedSupport.getTargetSource();
  Object previousService=targetSource.getTarget();
  ServiceWrapper<?> serviceWrapper=(ServiceWrapper<?>)serviceImplConstructor.newInstance(previousService);
synchronized (_servicesContainer) {
    _servicesContainer.addServiceBag(servletContextName,portletClassLoader,advisedSupport,serviceType,serviceTypeClass,serviceWrapper);
  }
  ServiceBeanAopCacheManagerUtil.reset();
}
