{
  if (eventName.equals(APPLICATION_STARTUP_EVENTS)) {
    SimpleAction simpleAction=(SimpleAction)portletClassLoader.loadClass(eventClassName).newInstance();
    simpleAction=(SimpleAction)Proxy.newProxyInstance(portletClassLoader,new Class[]{SimpleAction.class},new ContextClassLoaderBeanHandler(simpleAction,portletClassLoader));
    long companyId=CompanyThreadLocal.getCompanyId();
    long[] companyIds=PortalInstances.getCompanyIds();
    for (    long curCompanyId : companyIds) {
      CompanyThreadLocal.setCompanyId(curCompanyId);
      simpleAction.run(new String[]{String.valueOf(curCompanyId)});
    }
    CompanyThreadLocal.setCompanyId(companyId);
    return null;
  }
  if (ArrayUtil.contains(_PROPS_KEYS_EVENTS,eventName)) {
    Action action=(Action)portletClassLoader.loadClass(eventClassName).newInstance();
    action=(Action)Proxy.newProxyInstance(portletClassLoader,new Class[]{Action.class},new ContextClassLoaderBeanHandler(action,portletClassLoader));
    EventsProcessorUtil.registerEvent(eventName,action);
    return action;
  }
  if (ArrayUtil.contains(_PROPS_KEYS_SESSION_EVENTS,eventName)) {
    SessionAction sessionAction=(SessionAction)portletClassLoader.loadClass(eventClassName).newInstance();
    sessionAction=(SessionAction)Proxy.newProxyInstance(portletClassLoader,new Class[]{SessionAction.class},new ContextClassLoaderBeanHandler(sessionAction,portletClassLoader));
    EventsProcessorUtil.registerEvent(eventName,sessionAction);
    return sessionAction;
  }
  return null;
}
