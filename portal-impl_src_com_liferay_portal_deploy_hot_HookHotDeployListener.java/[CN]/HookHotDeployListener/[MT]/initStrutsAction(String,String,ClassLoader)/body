{
  Object instance=InstanceFactory.newInstance(portletClassLoader,strutsActionClassName);
  if (instance instanceof StrutsAction) {
    return Proxy.newProxyInstance(portletClassLoader,new Class[]{StrutsAction.class},new ClassLoaderBeanHandler(instance,portletClassLoader));
  }
 else {
    return Proxy.newProxyInstance(portletClassLoader,new Class[]{StrutsPortletAction.class},new ClassLoaderBeanHandler(instance,portletClassLoader));
  }
}
