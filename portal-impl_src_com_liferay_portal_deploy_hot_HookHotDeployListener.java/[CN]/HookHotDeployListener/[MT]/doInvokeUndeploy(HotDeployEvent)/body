{
  ServletContext ctx=event.getServletContext();
  String servletContextName=ctx.getServletContextName();
  if (_log.isDebugEnabled()) {
    _log.debug("Invoking undeploy for " + servletContextName);
  }
  for (  Map.Entry<String,List<Object>> entry : _eventsMap.entrySet()) {
    String eventType=entry.getKey();
    List<Object> events=entry.getValue();
    for (    Object obj : events) {
      EventsProcessor.unregisterEvent(eventType,obj);
    }
  }
  for (  Map.Entry<String,List<ModelListener>> entry : _modelListenersMap.entrySet()) {
    String modelName=entry.getKey();
    List<ModelListener> modelListeners=entry.getValue();
    BasePersistence persistence=getPersistence(modelName);
    for (    ModelListener modelListener : modelListeners) {
      persistence.unregisterListener(modelListener);
    }
  }
  Properties portalProperties=_portalPropertiesMap.get(servletContextName);
  if (portalProperties != null) {
    destroyPortalProperties(portalProperties);
  }
  if (_log.isInfoEnabled()) {
    _log.info("Hook for " + servletContextName + " unregistered successfully");
  }
}
