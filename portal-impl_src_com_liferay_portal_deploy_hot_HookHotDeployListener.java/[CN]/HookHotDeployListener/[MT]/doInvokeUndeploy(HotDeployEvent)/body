{
  ServletContext servletContext=event.getServletContext();
  String servletContextName=servletContext.getServletContextName();
  if (_log.isDebugEnabled()) {
    _log.debug("Invoking undeploy for " + servletContextName);
  }
  String xml=HttpUtil.URLtoString(servletContext.getResource("/WEB-INF/liferay-hook.xml"));
  if (xml == null) {
    return;
  }
  EventsContainer eventsContainer=_eventsContainerMap.get(servletContextName);
  if (eventsContainer != null) {
    eventsContainer.unregisterEvents();
  }
  _eventsContainerMap.remove(servletContextName);
  ModelListenersContainer modelListenersContainer=_modelListenersContainerMap.get(servletContextName);
  if (modelListenersContainer != null) {
    modelListenersContainer.unregisterModelListeners();
  }
  _modelListenersContainerMap.remove(servletContextName);
  Properties portalProperties=_portalPropertiesMap.get(servletContextName);
  if (portalProperties != null) {
    destroyPortalProperties(portalProperties);
  }
  _portalPropertiesMap.remove(servletContextName);
  LanguagesContainer languagesContainer=_languagesContainerMap.get(servletContextName);
  if (languagesContainer != null) {
    languagesContainer.unregisterLanguages();
  }
  _languagesContainerMap.remove(servletContextName);
  CustomJspBag customJspBag=_customJspBagsMap.get(servletContextName);
  if (customJspBag != null) {
    destroyCustomJspBag(customJspBag);
  }
  _customJspBagsMap.remove(servletContextName);
  if (_log.isInfoEnabled()) {
    _log.info("Hook for " + servletContextName + " unregistered successfully");
  }
}
