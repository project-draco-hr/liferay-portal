{
  Field field=PropsValues.class.getField(fieldName);
  StringArraysContainer stringArraysContainer=stringArraysContainerMap.get(key);
  String[] value=null;
  if (initPhase) {
    if (stringArraysContainer instanceof OverrideStringArraysContainer) {
      OverrideStringArraysContainer overrideStringArraysContainer=(OverrideStringArraysContainer)stringArraysContainer;
      if (overrideStringArraysContainer.isOverridden()) {
        _log.error("Error setting overridden field " + fieldName);
        return;
      }
      value=StringUtil.split(portalProperties.getProperty(key));
    }
 else {
      value=PropsUtil.getArray(key);
    }
  }
  stringArraysContainer.setPluginStringArray(servletContextName,value);
  value=stringArraysContainer.getStringArray();
  field.set(null,value);
  if (key.equals(PropsKeys.LAYOUT_TYPES)) {
    Map<String,LayoutSettings> layoutSettingsMap=LayoutSettings.getCurrentLayoutSettings();
    Map<String,LayoutSettings> layoutSettingsMapCopy=new HashMap<String,LayoutSettings>();
    layoutSettingsMapCopy.putAll(layoutSettingsMap);
    for (    String key1 : layoutSettingsMapCopy.keySet()) {
      if (key1.equals(LayoutConstants.TYPE_CONTROL_PANEL)) {
        continue;
      }
      if (!ArrayUtil.contains(value,key1)) {
        layoutSettingsMap.remove(key1);
      }
    }
    for (    String type : value) {
      if (!layoutSettingsMap.containsKey(type)) {
        LayoutSettings.setLayoutSetting(type);
      }
    }
  }
}
