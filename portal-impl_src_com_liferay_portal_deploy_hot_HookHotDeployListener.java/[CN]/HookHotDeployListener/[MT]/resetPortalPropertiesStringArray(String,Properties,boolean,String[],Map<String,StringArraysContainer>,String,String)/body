{
  Field field=PropsValues.class.getField(fieldName);
  StringArraysContainer stringArraysContainer=stringArraysContainerMap.get(key);
  String[] value=null;
  if (initPhase) {
    if (stringArraysContainer instanceof OverrideStringArraysContainer) {
      OverrideStringArraysContainer overrideStringArraysContainer=(OverrideStringArraysContainer)stringArraysContainer;
      if (overrideStringArraysContainer.isOverridden()) {
        _log.error("Error setting overridden field " + fieldName);
        return;
      }
      value=StringUtil.split(portalProperties.getProperty(key));
    }
 else {
      value=PropsUtil.getArray(key);
    }
  }
  stringArraysContainer.setPluginStringArray(servletContextName,value);
  value=stringArraysContainer.getStringArray();
  field.set(null,value);
  if (!key.equals(PropsKeys.LAYOUT_TYPES)) {
    return;
  }
  Map<String,LayoutSettings> layoutSettingsMap=LayoutSettings.getLayoutSettingsMap();
  Set<Map.Entry<String,LayoutSettings>> entrySet=layoutSettingsMap.entrySet();
  Iterator<Map.Entry<String,LayoutSettings>> entrySetIterator=entrySet.iterator();
  while (entrySetIterator.hasNext()) {
    Map.Entry<String,LayoutSettings> entry=entrySetIterator.next();
    String layoutType=entry.getKey();
    if (!layoutType.equals(LayoutConstants.TYPE_CONTROL_PANEL) && !ArrayUtil.contains(value,layoutType)) {
      entrySetIterator.remove();
    }
  }
  for (  String type : value) {
    if (!layoutSettingsMap.containsKey(type)) {
      LayoutSettings.addLayoutSetting(type);
    }
  }
}
