{
  Field field=PropsValues.class.getField(fieldName);
  StringArraysContainer stringArraysContainer=stringArraysContainerMap.get(key);
  String[] value=null;
  if (initPhase) {
    if (stringArraysContainer instanceof OverrideStringArraysContainer) {
      OverrideStringArraysContainer overrideStringArraysContainer=(OverrideStringArraysContainer)stringArraysContainer;
      if (overrideStringArraysContainer.isOverridden()) {
        _log.error("Error setting overridden field " + fieldName);
        return;
      }
      value=StringUtil.split(portalProperties.getProperty(key));
    }
 else {
      value=PropsUtil.getArray(key);
    }
  }
  stringArraysContainer.setPluginStringArray(servletContextName,value);
  value=stringArraysContainer.getStringArray();
  field.set(null,value);
  if (!key.equals(PropsKeys.LAYOUT_TYPES)) {
    return;
  }
  Map<String,LayoutSettings> layoutSettingsMap=LayoutSettings.getCurrentLayoutSettings();
  for (  String layoutType : layoutSettingsMap.keySet()) {
    if (!layoutType.equals(LayoutConstants.TYPE_CONTROL_PANEL) && !ArrayUtil.contains(value,layoutType)) {
      LayoutSettings.removeLayoutSetting(layoutType);
    }
  }
  for (  String type : value) {
    if (!layoutSettingsMap.containsKey(type)) {
      LayoutSettings.setLayoutSetting(type);
    }
  }
}
