{
  IndexerPostProcessorContainer indexerPostProcessorContainer=_indexerPostProcessorContainerMap.get(servletContextName);
  if (indexerPostProcessorContainer == null) {
    indexerPostProcessorContainer=new IndexerPostProcessorContainer();
    _indexerPostProcessorContainerMap.put(servletContextName,indexerPostProcessorContainer);
  }
  List<Element> indexerPostProcessorElements=parentElement.elements("indexer-post-processor");
  for (  Element indexerPostProcessorElement : indexerPostProcessorElements) {
    String indexerClassName=indexerPostProcessorElement.elementText("indexer-class-name");
    SecurityManager sm=System.getSecurityManager();
    if (sm != null) {
      try {
        sm.checkPermission(new PortalHookPermission("hasHookIndexer",portletClassLoader,indexerClassName));
      }
 catch (      SecurityException se) {
        if (_log.isInfoEnabled()) {
          _log.info("Rejecting indexer " + indexerClassName);
        }
        continue;
      }
    }
    String indexerPostProcessorImpl=indexerPostProcessorElement.elementText("indexer-post-processor-impl");
    Indexer indexer=IndexerRegistryUtil.getIndexer(indexerClassName);
    if (indexer == null) {
      _log.error("No indexer for " + indexerClassName + " was found");
      continue;
    }
    IndexerPostProcessor indexerPostProcessor=(IndexerPostProcessor)InstanceFactory.newInstance(portletClassLoader,indexerPostProcessorImpl);
    indexer.registerIndexerPostProcessor(indexerPostProcessor);
    indexerPostProcessorContainer.registerIndexerPostProcessor(indexerClassName,indexerPostProcessor);
  }
}
