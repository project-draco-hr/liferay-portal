{
  List<ServiceConstructor> serviceConstructors=new ArrayList<ServiceConstructor>();
  for (  Map.Entry<String,List<ServiceConstructor>> entry : _serviceConstructors.entrySet()) {
    serviceConstructors.addAll(entry.getValue());
  }
  Object customService=_originalService;
  for (  ServiceConstructor serviceConstructor : serviceConstructors) {
    ClassLoader portletClassLoader=serviceConstructor._portletClassLoader;
    Class<?> serviceTypeClass=serviceConstructor._serviceTypeClass;
    Constructor<?> serviceImplConstructor=serviceConstructor._serviceImplConstructor;
    customService=serviceImplConstructor.newInstance(customService);
    customService=ProxyUtil.newProxyInstance(portletClassLoader,new Class<?>[]{serviceTypeClass},new ClassLoaderBeanHandler(customService,portletClassLoader));
  }
  return customService;
}
