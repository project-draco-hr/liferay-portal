{
  BookmarksEntry entry=bookmarksEntryPersistence.findByPrimaryKey(entryId);
  if (Validator.isNull(name)) {
    name=url;
  }
  validate(url);
  entry.setFolderId(folderId);
  entry.setTreePath(entry.buildTreePath());
  entry.setName(name);
  entry.setUrl(url);
  entry.setDescription(description);
  entry.setExpandoBridgeAttributes(serviceContext);
  bookmarksEntryPersistence.update(entry);
  updateAsset(userId,entry,serviceContext.getAssetCategoryIds(),serviceContext.getAssetTagNames(),serviceContext.getAssetLinkEntryIds(),serviceContext.getAssetPriority());
  JSONObject extraDataJSONObject=JSONFactoryUtil.createJSONObject();
  extraDataJSONObject.put("title",entry.getName());
  socialActivityLocalService.addActivity(userId,entry.getGroupId(),BookmarksEntry.class.getName(),entryId,BookmarksActivityKeys.UPDATE_ENTRY,extraDataJSONObject.toString(),0);
  notifySubscribers(userId,entry,serviceContext);
  return entry;
}
