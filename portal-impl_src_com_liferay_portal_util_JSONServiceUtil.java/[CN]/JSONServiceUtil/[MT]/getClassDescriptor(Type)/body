{
  String signature=type.toString();
  int pos=signature.indexOf("class ");
  if (pos != -1) {
    signature=signature.substring("class ".length());
  }
 else {
    Matcher matcher=_classDescriptorPattern.matcher(signature);
    while (matcher.find()) {
      String name=matcher.group(1);
      String brackets=matcher.group(2);
      StringBundler sb=new StringBundler(2);
      if (Validator.isNotNull(brackets)) {
        brackets=brackets.replace(StringPool.CLOSE_BRACKET,StringPool.BLANK);
        sb.append(brackets);
        sb.append(getFieldDescriptor(name));
      }
 else {
        sb.append(name);
      }
      signature=sb.toString();
    }
  }
  return signature;
}
