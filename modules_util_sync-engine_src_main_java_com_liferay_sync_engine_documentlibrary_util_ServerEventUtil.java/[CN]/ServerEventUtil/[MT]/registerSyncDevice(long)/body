{
  if (!ServerInfo.supportsDeviceRegistration(syncAccountId)) {
    return;
  }
  Map<String,Object> parameters=new HashMap<>();
  parameters.put("buildNumber",ReleaseInfo.getBuildNumber());
  parameters.put("featureSet",ReleaseInfo.getFeatureSet());
  String type=null;
  if (OSDetector.isApple()) {
    type="desktop-mac";
  }
 else   if (OSDetector.isLinux()) {
    type="desktop-linux";
  }
 else   if (OSDetector.isWindows()) {
    type="desktop-windows";
  }
  parameters.put("type",type);
  SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(syncAccountId);
  parameters.put("uuid",syncAccount.getUuid());
  RegisterSyncDeviceEvent registerSyncDeviceEvent=new RegisterSyncDeviceEvent(syncAccountId,parameters);
  registerSyncDeviceEvent.run();
}
