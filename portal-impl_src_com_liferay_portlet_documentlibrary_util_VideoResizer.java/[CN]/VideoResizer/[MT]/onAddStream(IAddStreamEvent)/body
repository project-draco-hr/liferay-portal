{
  IMediaCoder mediaCoder=iAddStreamEvent.getSource();
  IContainer container=mediaCoder.getContainer();
  int streamIndex=iAddStreamEvent.getStreamIndex();
  IStream stream=container.getStream(streamIndex);
  IStreamCoder streamCoder=stream.getStreamCoder();
  Type type=Type.YUV420P;
  if (streamCoder.getCodecType() == ICodec.Type.CODEC_TYPE_AUDIO) {
    streamCoder.setSampleRate(44100);
  }
 else   if (streamCoder.getCodecType() == ICodec.Type.CODEC_TYPE_VIDEO) {
    streamCoder.setHeight(_height);
    streamCoder.setWidth(_width);
    streamCoder.setPixelType(type);
  }
  super.onAddStream(iAddStreamEvent);
}
