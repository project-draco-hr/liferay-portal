{
  IAudioSamples iAudioSamples=iAudioSamplesEvent.getAudioSamples();
  int channels=iAudioSamples.getChannels();
  if (channels <= 0) {
    channels=1;
  }
  if (_iAudioResampler == null) {
    _iAudioResampler=IAudioResampler.make(iAudioSamples.getChannels(),channels,44100,iAudioSamples.getSampleRate());
  }
  if (iAudioSamples.getNumSamples() > 0) {
    IAudioSamples resampledIAudioSamples=IAudioSamples.make(iAudioSamples.getNumSamples(),channels);
    _iAudioResampler.resample(resampledIAudioSamples,iAudioSamples,iAudioSamples.getNumSamples());
    AudioSamplesEvent audioSamplesEvent=new AudioSamplesEvent(iAudioSamplesEvent.getSource(),resampledIAudioSamples,iAudioSamplesEvent.getStreamIndex());
    super.onAudioSamples(audioSamplesEvent);
    resampledIAudioSamples.delete();
  }
}
