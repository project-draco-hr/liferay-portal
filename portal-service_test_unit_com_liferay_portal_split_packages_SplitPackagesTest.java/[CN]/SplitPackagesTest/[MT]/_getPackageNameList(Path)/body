{
  final List<String> packageNameList=new ArrayList<>();
  Files.walkFileTree(path,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult preVisitDirectory(    Path dirPath,    BasicFileAttributes attrs) throws IOException {
      try (DirectoryStream directoryStream=Files.newDirectoryStream(dirPath,"*.java")){
        Iterator iterator=directoryStream.iterator();
        if (iterator.hasNext()) {
          Path relativePath=path.relativize(dirPath);
          String relativePathString=relativePath.toString();
          String packageName=relativePathString.replace("/",".");
          packageNameList.add(packageName);
        }
      }
       return FileVisitResult.CONTINUE;
    }
  }
);
  return packageNameList;
}
