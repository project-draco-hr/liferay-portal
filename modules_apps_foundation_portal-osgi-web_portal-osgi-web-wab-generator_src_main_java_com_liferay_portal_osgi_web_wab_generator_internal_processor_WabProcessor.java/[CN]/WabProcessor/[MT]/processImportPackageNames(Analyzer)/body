{
  String packageName=MapUtil.getString(_parameters,Constants.IMPORT_PACKAGE);
  if (Validator.isNotNull(packageName)) {
    analyzer.setProperty(Constants.IMPORT_PACKAGE,packageName);
  }
 else {
    StringBundler sb=new StringBundler((_importPackageNames.size() * 3) + 1);
    for (    String importPackageName : _importPackageNames) {
      if (Validator.isNull(importPackageName)) {
        continue;
      }
      boolean containedInClassPath=false;
      for (      Jar jar : analyzer.getClasspath()) {
        List<String> packages=jar.getPackages();
        if (packages.contains(importPackageName)) {
          containedInClassPath=true;
          break;
        }
      }
      if (containedInClassPath) {
        continue;
      }
      sb.append(importPackageName);
      sb.append(";resolution:=\"optional\"");
      sb.append(StringPool.COMMA);
    }
    sb.append("*;resolution:=\"optional\"");
    analyzer.setProperty(Constants.IMPORT_PACKAGE,sb.toString());
  }
}
