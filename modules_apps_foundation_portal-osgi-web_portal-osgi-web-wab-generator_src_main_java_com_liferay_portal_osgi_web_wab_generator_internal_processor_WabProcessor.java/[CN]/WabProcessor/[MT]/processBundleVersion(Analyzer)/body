{
  _bundleVersion=MapUtil.getString(_parameters,Constants.BUNDLE_VERSION);
  if (Validator.isNull(_bundleVersion)) {
    if (_pluginPackage != null) {
      _bundleVersion=_pluginPackage.getVersion();
    }
 else {
      _bundleVersion="1.0.0";
    }
  }
  if (!Version.isVersion(_bundleVersion)) {
    Matcher matcher=_versionMavenPattern.matcher(_bundleVersion);
    if (matcher.matches()) {
      StringBuilder sb=new StringBuilder();
      sb.append(matcher.group(1));
      sb.append(".");
      sb.append(matcher.group(3));
      sb.append(".");
      sb.append(matcher.group(5));
      sb.append(".");
      sb.append(matcher.group(7));
      _bundleVersion=sb.toString();
    }
 else {
      _bundleVersion="0.0.0." + _bundleVersion;
    }
  }
  analyzer.setProperty(Constants.BUNDLE_VERSION,_bundleVersion);
}
