{
  _pluginDir=autoDeploy();
  if ((_pluginDir == null) || !_pluginDir.exists() || !_pluginDir.isDirectory()) {
    return null;
  }
  if (!isValidOSGiBundle()) {
    transformToOSGiBundle();
  }
  File file=_file.getParentFile();
  File outputFile=new File(file,"output.zip");
  try (JarOutputStream jarOutputStream=new JarOutputStream(new FileOutputStream(outputFile))){
    writeJarPath(jarOutputStream,_ignoredResources,"META-INF/MANIFEST.MF",getManifestFile());
    writeJarPaths(jarOutputStream,_ignoredResources,_pluginDir,_pluginDir.toURI());
  }
   if (PropsValues.MODULE_FRAMEWORK_WEB_GENERATOR_GENERATED_WABS_STORE) {
    writeGeneratedWab(outputFile);
  }
  return outputFile;
}
