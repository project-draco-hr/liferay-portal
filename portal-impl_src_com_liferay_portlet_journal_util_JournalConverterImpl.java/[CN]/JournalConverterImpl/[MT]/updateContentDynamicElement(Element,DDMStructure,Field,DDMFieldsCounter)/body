{
  String fieldName=ddmField.getName();
  String fieldType=ddmStructure.getFieldType(fieldName);
  String indexType=ddmStructure.getFieldProperty(fieldName,"indexType");
  dynamicElementElement.addAttribute("type",_ddmTypesToJournalTypes.get(fieldType));
  dynamicElementElement.addAttribute("index-type",indexType);
  for (  Locale locale : ddmField.getAvailableLocales()) {
    Element dynamicContentElement=dynamicElementElement.addElement("dynamic-content");
    dynamicContentElement.addAttribute("language-id",LocaleUtil.toLanguageId(locale));
    int count=ddmFieldsCounter.get(fieldName);
    Serializable fieldValue=ddmField.getValue(locale,count);
    if (fieldValue instanceof Date) {
      Date valueDate=(Date)fieldValue;
      fieldValue=valueDate.getTime();
    }
    String valueString=String.valueOf(fieldValue);
    if (valueString != null) {
      valueString=valueString.trim();
    }
    updateDynamicContentValue(dynamicContentElement,fieldType,valueString);
  }
  ddmFieldsCounter.incrementKey(fieldName);
}
