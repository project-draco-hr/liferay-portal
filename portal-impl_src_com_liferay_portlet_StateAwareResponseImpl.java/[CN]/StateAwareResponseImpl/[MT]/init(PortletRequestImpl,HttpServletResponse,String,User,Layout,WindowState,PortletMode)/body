{
  super.init(portletRequestImpl,response,portletName,layout.getCompanyId(),layout.getPlid());
  _portletRequestImpl=portletRequestImpl;
  _portletName=portletName;
  _user=user;
  _layout=layout;
  _publicRenderParameters=RenderParametersPool.get(getHttpServletRequest(),layout.getPlid(),RenderParametersPool.PUBLIC_RENDER_PARAMETERS);
  setWindowState(windowState);
  setPortletMode(portletMode);
  _calledSetRenderParameter=false;
}
