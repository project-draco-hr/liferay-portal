{
  PortletPreferences preferences=portletRequest.getPreferences();
  Map<String,String> userInfo=(Map<String,String>)portletRequest.getAttribute(PortletRequest.USER_INFO);
  Map<String,Object> input=new HashMap<String,Object>();
  Map<String,Class> types=new HashMap<String,Class>();
  input.put("portletConfig",portletConfig);
  types.put("portletConfig",PortletConfig.class);
  input.put("portletContext",portletContext);
  types.put("portletContext",PortletContext.class);
  input.put("preferences",preferences);
  types.put("preferences",PortletPreferences.class);
  input.put("userInfo",userInfo);
  types.put("userInfo",Map.class);
  input.put("portletRequest",portletRequest);
  types.put("portletRequest",PortletRequest.class);
  if (portletRequest instanceof ActionRequest) {
    input.put("actionRequest",portletRequest);
    types.put("actionRequest",ActionRequest.class);
  }
 else   if (portletRequest instanceof RenderRequest) {
    input.put("renderRequest",portletRequest);
    types.put("renderRequest",RenderRequest.class);
  }
 else   if (portletRequest instanceof ResourceRequest) {
    input.put("resourceRequest",portletRequest);
    types.put("resourceRequest",ResourceRequest.class);
  }
  input.put("portletResponse",portletResponse);
  types.put("portletResponse",PortletResponse.class);
  if (portletResponse instanceof ActionResponse) {
    input.put("actionResponse",portletResponse);
    types.put("actionResponse",ActionResponse.class);
  }
 else   if (portletResponse instanceof RenderResponse) {
    input.put("renderResponse",portletResponse);
    types.put("renderResponse",RenderResponse.class);
  }
 else   if (portletResponse instanceof ResourceResponse) {
    input.put("resourceResponse",portletResponse);
    types.put("resourceResponse",ResourceResponse.class);
  }
  return new Map[]{input,types};
}
