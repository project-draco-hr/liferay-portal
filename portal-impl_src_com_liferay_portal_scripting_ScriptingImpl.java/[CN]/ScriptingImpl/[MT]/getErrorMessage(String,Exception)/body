{
  StringBuilder sb=new StringBuilder();
  sb.append(getErrorMessage(e));
  sb.append(StringPool.NEW_LINE);
  try {
    LineNumberReader lineNumberReader=new LineNumberReader(new StringReader(script));
    while (true) {
      String line=lineNumberReader.readLine();
      if (line == null) {
        break;
      }
      sb.append("Line ");
      sb.append(lineNumberReader.getLineNumber());
      sb.append(": ");
      sb.append(line);
      sb.append(StringPool.NEW_LINE);
    }
  }
 catch (  IOException ioe) {
    sb=new StringBuilder();
    sb.append(getErrorMessage(e));
    sb.append(StringPool.NEW_LINE);
    sb.append(script);
  }
  return sb.toString();
}
