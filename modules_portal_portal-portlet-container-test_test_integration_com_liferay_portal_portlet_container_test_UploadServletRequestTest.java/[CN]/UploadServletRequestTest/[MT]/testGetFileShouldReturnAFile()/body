{
  Map<String,FileItem[]> fileParameters=new HashMap<>();
  PortletContainerTestUtil.putFileParameter(getClass(),_TXT_DEPENDENCY,fileParameters);
  LiferayServletRequest liferayServletRequest=PortletContainerTestUtil.mockLiferayServletRequest(getClass(),_TXT_DEPENDENCY);
  UploadServletRequestImpl uploadServletRequest=new UploadServletRequestImpl((HttpServletRequest)liferayServletRequest.getRequest(),fileParameters,new HashMap<String,List<String>>());
  Map<String,FileItem[]> map=uploadServletRequest.getMultipartParameterMap();
  Assert.assertEquals(1,map.size());
  for (  Map.Entry<String,FileItem[]> entry : map.entrySet()) {
    String key=entry.getKey();
    File file=uploadServletRequest.getFile(key);
    Assert.assertNotNull(file);
    Assert.assertTrue(file.exists());
    file=uploadServletRequest.getFile(key,true);
    Assert.assertNotNull(file);
    Assert.assertTrue(file.exists());
  }
}
