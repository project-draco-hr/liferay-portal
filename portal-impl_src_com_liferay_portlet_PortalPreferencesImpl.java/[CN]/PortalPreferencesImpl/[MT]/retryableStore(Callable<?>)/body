{
  while (true) {
    try {
      callable.call();
      store();
      return;
    }
 catch (    Exception e) {
      if (isCausedByStaleObjectException(e)) {
        long ownerId=getOwnerId();
        int ownerType=getOwnerType();
        com.liferay.portal.model.PortalPreferences portalPreferences=reload(ownerId,ownerType);
        if (portalPreferences == null) {
          continue;
        }
        String preferencesXML=portalPreferences.getPreferences();
        PortalPreferencesImpl portalPreferencesImpl=(PortalPreferencesImpl)PortletPreferencesFactoryUtil.fromXML(ownerId,ownerType,preferencesXML);
        reset();
        setOriginalPreferences(portalPreferencesImpl.getOriginalPreferences());
        setOriginalXML(preferencesXML);
      }
 else {
        throw e;
      }
    }
  }
}
