{
  if (Validator.isNull(key) || key.equals(_RANDOM_KEY)) {
    return;
  }
  try {
    Callable<Void> callable=new Callable<Void>(){
      @Override public Void call() throws ReadOnlyException {
        String encodedKey=_encodeKey(namespace,key);
        if (values != null) {
          PortalPreferencesImpl.super.setValues(encodedKey,values);
        }
 else {
          reset(encodedKey);
        }
        return null;
      }
    }
;
    if (_signedIn) {
      retryableStore(callable,_encodeKey(namespace,key));
    }
 else {
      callable.call();
    }
  }
 catch (  Throwable t) {
    if (t instanceof IllegalStateException) {
      throw (IllegalStateException)t;
    }
    _log.error(t,t);
  }
}
