{
  while (true) {
    Map<String,Preference> preferences=getPreferences();
    try {
      for (      Map.Entry<String,Preference> entry : preferences.entrySet()) {
        String key=entry.getKey();
        if (key.startsWith(namespace) && !isReadOnly(key)) {
          reset(key);
        }
      }
      return;
    }
 catch (    Throwable t) {
      if (t instanceof IllegalStateException) {
        continue;
      }
      _log.error(t,t);
      return;
    }
  }
}
