{
  DigesterUtil digesterUtil=new DigesterUtil();
  digesterUtil.setDigester(new DigesterImpl());
  PasswordEncryptorUtil passwordEncryptorUtil=new PasswordEncryptorUtil();
  LegacyAlgorithmAwarePasswordEncryptor legacyAlgorithmAwarePasswordEncryptor=new LegacyAlgorithmAwarePasswordEncryptor();
  CompositePasswordEncryptor compositePasswordEncryptor=new CompositePasswordEncryptor();
  compositePasswordEncryptor.setDefaultPasswordEncryptor(new DefaultPasswordEncryptor());
  List<PasswordEncryptor> passwordEncryptors=new ArrayList<>();
  passwordEncryptors.add(new BCryptPasswordEncryptor());
  passwordEncryptors.add(new CryptPasswordEncryptor());
  passwordEncryptors.add(new NullPasswordEncryptor());
  passwordEncryptors.add(new PBKDF2PasswordEncryptor());
  passwordEncryptors.add(new SSHAPasswordEncryptor());
  compositePasswordEncryptor.setPasswordEncryptors(passwordEncryptors);
  legacyAlgorithmAwarePasswordEncryptor.setParentPasswordEncryptor(compositePasswordEncryptor);
  passwordEncryptorUtil.setPasswordEncryptor(legacyAlgorithmAwarePasswordEncryptor);
}
