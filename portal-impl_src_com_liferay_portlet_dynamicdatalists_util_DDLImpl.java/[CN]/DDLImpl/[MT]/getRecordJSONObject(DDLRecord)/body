{
  DDLRecordSet recordSet=record.getRecordSet();
  DDMStructure ddmStructure=recordSet.getDDMStructure();
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  for (  String fieldName : ddmStructure.getFieldNames()) {
    jsonObject.put(fieldName,StringPool.BLANK);
  }
  jsonObject.put("displayIndex",record.getDisplayIndex());
  jsonObject.put("recordId",record.getRecordId());
  Fields fields=record.getFields();
  Iterator<Field> itr=fields.iterator();
  while (itr.hasNext()) {
    Field field=itr.next();
    String fieldName=field.getName();
    String fieldType=field.getType();
    Object fieldValue=field.getValue();
    if (fieldValue instanceof Date) {
      jsonObject.put(fieldName,((Date)fieldValue).getTime());
    }
 else     if ((fieldType.equals("radio") || fieldType.equals("select")) && Validator.isNotNull(fieldValue)) {
      fieldValue=JSONFactoryUtil.createJSONArray(String.valueOf(fieldValue));
      jsonObject.put(fieldName,(JSONArray)fieldValue);
    }
 else {
      jsonObject.put(fieldName,String.valueOf(fieldValue));
    }
  }
  return jsonObject;
}
