{
  DDLRecordVersion recordVersion=record.getLatestRecordVersion();
  String dirName=getRecordFileUploadPath(record) + StringPool.SLASH + recordVersion.getVersion();
  try {
    DLStoreUtil.addDirectory(record.getCompanyId(),CompanyConstants.SYSTEM,dirName);
  }
 catch (  DuplicateDirectoryException dde) {
  }
  String fileName=dirName + StringPool.SLASH + fieldName;
  try {
    DLStoreUtil.addFile(record.getCompanyId(),CompanyConstants.SYSTEM,fileName,inputStream);
  }
 catch (  DuplicateFileException dfe) {
  }
  return fileName;
}
