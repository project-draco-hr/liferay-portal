{
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  DDMStructure ddmStructure=recordSet.getDDMStructure();
  Locale locale=LocaleUtil.fromLanguageId(ddmStructure.getDefaultLanguageId());
  List<DDMFormField> ddmFormFields=ddmStructure.getDDMFormFields(false);
  for (  DDMFormField ddmFormField : ddmFormFields) {
    String name=ddmFormField.getName();
    if (ddmStructure.isFieldPrivate(name)) {
      continue;
    }
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    String dataType=ddmFormField.getDataType();
    jsonObject.put("dataType",dataType);
    boolean readOnly=ddmFormField.isReadOnly();
    jsonObject.put("editable",!readOnly);
    LocalizedValue label=ddmFormField.getLabel();
    jsonObject.put("label",label.getValue(locale));
    jsonObject.put("name",name);
    boolean required=ddmFormField.isRequired();
    jsonObject.put("required",required);
    jsonObject.put("sortable",true);
    String type=ddmFormField.getType();
    jsonObject.put("type",type);
    jsonArray.put(jsonObject);
  }
  return jsonArray;
}
