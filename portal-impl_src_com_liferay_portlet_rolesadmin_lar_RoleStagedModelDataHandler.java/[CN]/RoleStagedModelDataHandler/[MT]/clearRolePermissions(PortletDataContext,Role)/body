{
  List<ResourceTypePermission> resourceTypePermissions=getResourceTypePermissions(portletDataContext,importedRole);
  for (  ResourceTypePermission resourceTypePermission : resourceTypePermissions) {
    ResourceTypePermissionLocalServiceUtil.deleteResourceTypePermission(resourceTypePermission);
  }
  List<ResourcePermission> resourcePermissions=ResourcePermissionLocalServiceUtil.getRoleResourcePermissions(importedRole.getRoleId(),new int[]{ResourceConstants.SCOPE_COMPANY,ResourceConstants.SCOPE_GROUP_TEMPLATE},0,-1);
  for (  ResourcePermission resourcePermission : resourcePermissions) {
    ResourcePermissionLocalServiceUtil.deleteResourcePermission(resourcePermission);
  }
  List<ResourcePermission> groupResourcePermissions=ResourcePermissionLocalServiceUtil.getRoleResourcePermissions(importedRole.getRoleId(),new int[]{ResourceConstants.SCOPE_GROUP},0,-1);
  for (  ResourcePermission groupResourcePermission : groupResourcePermissions) {
    long groupId=Long.parseLong(groupResourcePermission.getPrimKey());
    if ((groupId == portletDataContext.getCompanyGroupId()) || (groupId == portletDataContext.getUserPersonalSiteGroupId())) {
      ResourcePermissionLocalServiceUtil.deleteResourcePermission(groupResourcePermission);
    }
  }
}
