{
  final String workflowDefinitionName="";
  final Integer workflowDefinitionVersion=1;
  final Map<String,Object> attributes=new HashMap<String,Object>();
  final long callingUserId=1;
  _context.checking(new Expectations(){
{
      oneOf(_factory).createCredential(callingUserId);
      will(returnValue(null));
      oneOf(_manager).startWorkflowInstance(workflowDefinitionName,workflowDefinitionVersion,attributes,callingUserId);
    }
  }
);
  WorkflowInstanceRequest request=WorkflowInstanceRequest.createStartWorkflowInstanceRequest(workflowDefinitionName,workflowDefinitionVersion,attributes,callingUserId);
  assertTrue(request.hasReturnValue());
  request.execute(_manager);
}
