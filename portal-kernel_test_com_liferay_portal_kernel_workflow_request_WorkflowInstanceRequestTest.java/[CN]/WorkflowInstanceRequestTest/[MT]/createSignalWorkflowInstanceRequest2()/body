{
  final long workflowInstanceId=1;
  final String activityName="";
  final long callingUserId=1;
  final Map<String,Object> attributes=new HashMap<String,Object>();
  _context.checking(new Expectations(){
{
      oneOf(_factory).createCredential(callingUserId);
      will(returnValue(null));
      oneOf(_manager).signalWorkflowInstance(workflowInstanceId,activityName,attributes,callingUserId);
    }
  }
);
  WorkflowInstanceRequest request=WorkflowInstanceRequest.createSignalWorkflowInstanceRequest(workflowInstanceId,activityName,attributes,callingUserId);
  assertTrue(request.hasReturnValue());
  request.execute(_manager);
}
