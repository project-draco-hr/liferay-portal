{
  ClusterExecutorImpl clusterExecutorImpl=getClusterExecutorImpl();
  clusterExecutorImpl.setClusterChannelFactory(new TestClusterChannelFactory());
  clusterExecutorImpl.initialize();
  List<TestClusterChannel> clusterChannels=TestClusterChannel.getClusterChannels();
  Assert.assertTrue(clusterChannels.isEmpty());
  Assert.assertNull(clusterExecutorImpl.getExecutorService());
  List<Serializable> multicastMessages=TestClusterChannel.getMulticastMessages();
  List<ObjectValuePair<Serializable,Address>> unicastMessages=TestClusterChannel.getUnicastMessages();
  Address newAddress=new TestAddress("test.address");
  ClusterNode newClusterNode=new ClusterNode("test.cluster.node",InetAddress.getLoopbackAddress());
  clusterExecutorImpl.memberJoined(newAddress,newClusterNode);
  clusterExecutorImpl.execute(ClusterRequest.createUnicastRequest(StringPool.BLANK,newClusterNode.getClusterNodeId()));
  Assert.assertTrue(multicastMessages.isEmpty());
  Assert.assertTrue(unicastMessages.isEmpty());
  clusterExecutorImpl.execute(ClusterRequest.createMulticastRequest(StringPool.BLANK));
  Assert.assertTrue(multicastMessages.isEmpty());
  Assert.assertTrue(unicastMessages.isEmpty());
  clusterExecutorImpl.destroy();
}
