{
  ClusterExecutorImpl clusterExecutorImpl=null;
  try {
    clusterExecutorImpl=getClusterExecutorImpl(false,false);
    List<ClusterEventListener> clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(2,clusterEventListeners.size());
    ClusterEventListener mockClusterEventListener=new MockClusterEventListener();
    clusterExecutorImpl.addClusterEventListener(mockClusterEventListener);
    clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(3,clusterEventListeners.size());
    clusterExecutorImpl.removeClusterEventListener(mockClusterEventListener);
    clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(2,clusterEventListeners.size());
    clusterEventListeners=new ArrayList<ClusterEventListener>();
    clusterEventListeners.add(mockClusterEventListener);
    clusterExecutorImpl.setClusterEventListeners(clusterEventListeners);
    clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(3,clusterEventListeners.size());
  }
  finally {
    if (clusterExecutorImpl != null) {
      clusterExecutorImpl.destroy();
    }
  }
}
