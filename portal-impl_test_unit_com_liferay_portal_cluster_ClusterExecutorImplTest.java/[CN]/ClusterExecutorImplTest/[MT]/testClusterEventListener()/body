{
  ClusterExecutorImpl clusterExecutorImpl=getClusterExecutorImpl();
  try {
    List<ClusterEventListener> clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(1,clusterEventListeners.size());
    ClusterEventListener clusterEventListener=new MockClusterEventListener();
    clusterExecutorImpl.addClusterEventListener(clusterEventListener);
    clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(2,clusterEventListeners.size());
    clusterExecutorImpl.removeClusterEventListener(clusterEventListener);
    clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(1,clusterEventListeners.size());
    clusterEventListeners=new ArrayList<>();
    clusterEventListeners.add(clusterEventListener);
    clusterExecutorImpl.setClusterEventListeners(clusterEventListeners);
    clusterEventListeners=clusterExecutorImpl.getClusterEventListeners();
    Assert.assertEquals(2,clusterEventListeners.size());
  }
  finally {
    clusterExecutorImpl.destroy();
  }
}
