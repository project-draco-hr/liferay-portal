{
  ClusterExecutorImpl clusterExecutorImpl=null;
  try {
    clusterExecutorImpl=getClusterExecutorImpl();
    MockClusterEventListener mockClusterEventListener=new MockClusterEventListener();
    clusterExecutorImpl.addClusterEventListener(mockClusterEventListener);
    List<Address> addresses=new ArrayList<Address>();
    addresses.add(new AddressImpl(new MockAddress()));
    clusterExecutorImpl.memberRemoved(addresses);
    ClusterEvent clusterEvent=mockClusterEventListener.waitDepartMessage();
    Assert.assertNull(clusterEvent);
  }
  finally {
    if (clusterExecutorImpl != null) {
      clusterExecutorImpl.destroy();
    }
  }
}
