{
  Session session=null;
  try {
    if (wikiNode.isNew() || wikiNode.isModified()) {
      session=openSession();
      if (wikiNode.isNew()) {
        WikiNodeHBM wikiNodeHBM=new WikiNodeHBM();
        wikiNodeHBM.setNodeId(wikiNode.getNodeId());
        wikiNodeHBM.setGroupId(wikiNode.getGroupId());
        wikiNodeHBM.setCompanyId(wikiNode.getCompanyId());
        wikiNodeHBM.setUserId(wikiNode.getUserId());
        wikiNodeHBM.setUserName(wikiNode.getUserName());
        wikiNodeHBM.setCreateDate(wikiNode.getCreateDate());
        wikiNodeHBM.setModifiedDate(wikiNode.getModifiedDate());
        wikiNodeHBM.setName(wikiNode.getName());
        wikiNodeHBM.setDescription(wikiNode.getDescription());
        wikiNodeHBM.setLastPostDate(wikiNode.getLastPostDate());
        session.save(wikiNodeHBM);
        session.flush();
      }
 else {
        WikiNodeHBM wikiNodeHBM=(WikiNodeHBM)session.get(WikiNodeHBM.class,wikiNode.getPrimaryKey());
        if (wikiNodeHBM != null) {
          wikiNodeHBM.setGroupId(wikiNode.getGroupId());
          wikiNodeHBM.setCompanyId(wikiNode.getCompanyId());
          wikiNodeHBM.setUserId(wikiNode.getUserId());
          wikiNodeHBM.setUserName(wikiNode.getUserName());
          wikiNodeHBM.setCreateDate(wikiNode.getCreateDate());
          wikiNodeHBM.setModifiedDate(wikiNode.getModifiedDate());
          wikiNodeHBM.setName(wikiNode.getName());
          wikiNodeHBM.setDescription(wikiNode.getDescription());
          wikiNodeHBM.setLastPostDate(wikiNode.getLastPostDate());
          session.flush();
        }
 else {
          wikiNodeHBM=new WikiNodeHBM();
          wikiNodeHBM.setNodeId(wikiNode.getNodeId());
          wikiNodeHBM.setGroupId(wikiNode.getGroupId());
          wikiNodeHBM.setCompanyId(wikiNode.getCompanyId());
          wikiNodeHBM.setUserId(wikiNode.getUserId());
          wikiNodeHBM.setUserName(wikiNode.getUserName());
          wikiNodeHBM.setCreateDate(wikiNode.getCreateDate());
          wikiNodeHBM.setModifiedDate(wikiNode.getModifiedDate());
          wikiNodeHBM.setName(wikiNode.getName());
          wikiNodeHBM.setDescription(wikiNode.getDescription());
          wikiNodeHBM.setLastPostDate(wikiNode.getLastPostDate());
          session.save(wikiNodeHBM);
          session.flush();
        }
      }
      wikiNode.setNew(false);
      wikiNode.setModified(false);
    }
    return wikiNode;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
