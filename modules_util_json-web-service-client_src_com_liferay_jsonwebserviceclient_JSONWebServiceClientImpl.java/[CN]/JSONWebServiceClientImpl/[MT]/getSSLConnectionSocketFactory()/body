{
  SSLContextBuilder sslContextBuilder=SSLContexts.custom();
  SSLContext sslContext=null;
  try {
    sslContextBuilder.loadTrustMaterial(_keyStore);
    sslContext=sslContextBuilder.build();
    sslContext.init(null,new TrustManager[]{new X509TrustManagerImpl()},null);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return new SSLConnectionSocketFactory(sslContext,new String[]{"TLSv1"},null,SSLConnectionSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);
}
