{
  DefaultHttpClient defaultHttpClient=new DefaultHttpClient();
  URL url=new URL(TestPropsValues.PORTAL_URL);
  HttpHost httpHost=new HttpHost(url.getHost(),url.getPort(),url.getProtocol());
  CredentialsProvider credentialsProvider=defaultHttpClient.getCredentialsProvider();
  credentialsProvider.setCredentials(new AuthScope(url.getHost(),url.getPort()),new UsernamePasswordCredentials(login,password));
  BasicAuthCache basicAuthCache=new BasicAuthCache();
  BasicScheme basicScheme=new BasicScheme();
  basicAuthCache.put(httpHost,basicScheme);
  BasicHttpContext basicHttpContext=new BasicHttpContext();
  basicHttpContext.setAttribute(ClientContext.AUTH_CACHE,basicAuthCache);
  return defaultHttpClient.execute(httpHost,request,new StringHandler(),basicHttpContext);
}
