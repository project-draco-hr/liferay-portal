{
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.get(_KEY_1));
  Assert.assertNull(_ehcachePortalCache.get(_KEY_2));
  _ehcachePortalCache.put(_KEY_2,_VALUE_2);
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_2,_ehcachePortalCache.get(_KEY_2));
  _defaultPortalCacheListener.assertActionsCount(1);
  _defaultPortalCacheListener.assertPut(_KEY_2,_VALUE_2);
  _defaultPortalCacheListener.reset();
  _defaultPortalCacheReplicator.assertActionsCount(1);
  _defaultPortalCacheReplicator.assertPut(_KEY_2,_VALUE_2);
  _defaultPortalCacheReplicator.reset();
  _ehcachePortalCache.put(_KEY_1,_VALUE_2);
  Assert.assertEquals(_VALUE_2,_ehcachePortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_2,_ehcachePortalCache.get(_KEY_2));
  _defaultPortalCacheListener.assertActionsCount(1);
  _defaultPortalCacheListener.assertUpdated(_KEY_1,_VALUE_2);
  _defaultPortalCacheListener.reset();
  _defaultPortalCacheReplicator.assertActionsCount(1);
  _defaultPortalCacheReplicator.assertUpdated(_KEY_1,_VALUE_2);
  _defaultPortalCacheReplicator.reset();
  PortalCacheHelperUtil.putWithoutReplicator(_ehcachePortalCache,_KEY_2,_VALUE_1);
  Assert.assertEquals(_VALUE_2,_ehcachePortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.get(_KEY_2));
  _defaultPortalCacheListener.assertActionsCount(1);
  _defaultPortalCacheListener.assertUpdated(_KEY_2,_VALUE_1);
  _defaultPortalCacheListener.reset();
  _defaultPortalCacheReplicator.assertActionsCount(0);
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.putIfAbsent(_KEY_2,_VALUE_2));
  Assert.assertEquals(_VALUE_2,_ehcachePortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.get(_KEY_2));
  _defaultPortalCacheListener.assertActionsCount(0);
  _defaultPortalCacheReplicator.assertActionsCount(0);
  _ehcachePortalCache.remove(_KEY_1);
  Assert.assertNull(_ehcachePortalCache.putIfAbsent(_KEY_1,_VALUE_1));
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_1,_ehcachePortalCache.get(_KEY_2));
  _defaultPortalCacheListener.assertActionsCount(2);
  _defaultPortalCacheListener.assertRemoved(_KEY_1,_VALUE_2);
  _defaultPortalCacheListener.assertPut(_KEY_1,_VALUE_1);
  _defaultPortalCacheListener.reset();
  _defaultPortalCacheReplicator.assertActionsCount(2);
  _defaultPortalCacheReplicator.assertRemoved(_KEY_1,_VALUE_2);
  _defaultPortalCacheReplicator.assertPut(_KEY_1,_VALUE_1);
  _defaultPortalCacheReplicator.reset();
}
