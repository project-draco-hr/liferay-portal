{
  JspCExtension jspCExtension=GradleUtil.getExtension(project,JspCExtension.class);
  jspCExtension.setModuleWeb(true);
  jspCExtension.setPortalDir(new Callable<File>(){
    @Override public File call() throws Exception {
      LiferayExtension liferayExtension=GradleUtil.getExtension(unzipJarTask.getProject(),LiferayExtension.class);
      return liferayExtension.getAppServerPortalDir();
    }
  }
);
  jspCExtension.setWebAppDir(new Callable<File>(){
    @Override public File call() throws Exception {
      File unzippedJarDir=unzipJarTask.getDestinationDir();
      File resourcesDir=new File(unzippedJarDir,"META-INF/resources");
      if (resourcesDir.exists()) {
        return resourcesDir;
      }
      return unzippedJarDir;
    }
  }
);
}
