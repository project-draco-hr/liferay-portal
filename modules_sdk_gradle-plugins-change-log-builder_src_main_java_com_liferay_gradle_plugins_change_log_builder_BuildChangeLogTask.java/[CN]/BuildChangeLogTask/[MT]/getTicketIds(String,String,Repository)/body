{
  Set<String> ticketIds=new TreeSet<>(new NaturalOrderStringComparator());
  Set<String> ticketIdPrefixes=getTicketIdPrefixes();
  Iterable<RevCommit> revCommits=GitUtil.getCommits(getDirs(),rangeStart,rangeEnd,repository);
  for (  RevCommit revCommit : revCommits) {
    String message=revCommit.getShortMessage();
    int index=message.indexOf('-');
    if (index == -1) {
      continue;
    }
    String prefix=message.substring(0,index);
    if (!ticketIdPrefixes.contains(prefix)) {
      continue;
    }
    index=message.indexOf(' ');
    if (index == -1) {
      index=message.length();
    }
    ticketIds.add(message.substring(0,index));
  }
  return ticketIds;
}
