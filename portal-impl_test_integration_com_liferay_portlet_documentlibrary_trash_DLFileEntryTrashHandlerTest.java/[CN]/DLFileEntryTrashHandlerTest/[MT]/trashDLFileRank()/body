{
  Group group=GroupTestUtil.addGroup();
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(group.getGroupId());
  BaseModel<?> parentBaseModel=getParentBaseModel(group,serviceContext);
  BaseModel<?> baseModel=addBaseModel(parentBaseModel,true,serviceContext);
  DLAppLocalServiceUtil.addFileRank(group.getGroupId(),TestPropsValues.getCompanyId(),TestPropsValues.getUserId(),(Long)baseModel.getPrimaryKeyObj(),serviceContext);
  Assert.assertEquals(1,getActiveDLFileRanksCount(group.getGroupId(),(Long)baseModel.getPrimaryKeyObj()));
  moveBaseModelToTrash((Long)baseModel.getPrimaryKeyObj());
  Assert.assertEquals(0,getActiveDLFileRanksCount(group.getGroupId(),(Long)baseModel.getPrimaryKeyObj()));
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(getBaseModelClassName());
  trashHandler.restoreTrashEntry(TestPropsValues.getUserId(),getTrashEntryClassPK(baseModel));
  Assert.assertEquals(1,getActiveDLFileRanksCount(group.getGroupId(),(Long)baseModel.getPrimaryKeyObj()));
}
