{
  DLFolder dlFolder=(DLFolder)parentBaseModel;
  String content="Content: Enterprise. Open Source.";
  File file=FileUtil.createTempFile(content.getBytes());
  serviceContext=(ServiceContext)serviceContext.clone();
  serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  if (approved) {
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_PUBLISH);
  }
  String randomTitle=ServiceTestUtil.randomString(_MAX_FILE_ENTRY_TITLE_LENGTH - getSearchKeywords().length());
  String title=getSearchKeywords().concat(randomTitle);
  FileEntry fileEntry=DLAppServiceUtil.addFileEntry(dlFolder.getRepositoryId(),dlFolder.getFolderId(),ServiceTestUtil.randomString() + ".txt",ContentTypes.TEXT_PLAIN,title,StringPool.BLANK,StringPool.BLANK,file,serviceContext);
  LiferayFileEntry liferayFileEntry=(LiferayFileEntry)fileEntry;
  return liferayFileEntry.getDLFileEntry();
}
