{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId());
  DLFileEntry dlFileEntry=(DLFileEntry)addBaseModelWithWorkflow(true,serviceContext);
  moveBaseModelToTrash(dlFileEntry.getFileEntryId());
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(getBaseModelClassName());
  String newTitle=RandomTestUtil.randomString();
  trashHandler.updateTitle(dlFileEntry.getFileEntryId(),newTitle);
  dlFileEntry=DLFileEntryLocalServiceUtil.getFileEntry(dlFileEntry.getFileEntryId());
  DLFileVersion dlFileVersion=dlFileEntry.getLatestFileVersion(true);
  Assert.assertEquals(DLUtil.getSanitizedFileName(newTitle,dlFileEntry.getExtension()),dlFileEntry.getFileName());
  Assert.assertEquals(DLUtil.getSanitizedFileName(newTitle,dlFileVersion.getExtension()),dlFileVersion.getFileName());
}
