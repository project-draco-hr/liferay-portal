{
  UserThread newUserThread=addUserThread();
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(UserThread.class,_dynamicQueryClassLoader);
  dynamicQuery.add(RestrictionsFactoryUtil.eq("userThreadId",newUserThread.getUserThreadId()));
  List<UserThread> result=_persistence.findWithDynamicQuery(dynamicQuery);
  Assert.assertEquals(1,result.size());
  UserThread existingUserThread=result.get(0);
  Assert.assertEquals(existingUserThread,newUserThread);
}
