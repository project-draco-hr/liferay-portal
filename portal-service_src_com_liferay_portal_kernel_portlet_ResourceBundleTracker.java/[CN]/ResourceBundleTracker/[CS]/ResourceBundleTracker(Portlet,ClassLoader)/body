{
  _baseName=portlet.getResourceBundle();
  _classLoader=classLoader;
  Set<String> supportedLanguageIds=portlet.getSupportedLocales();
  if (supportedLanguageIds.isEmpty()) {
    supportedLanguageIds=_LOCALES;
  }
  _supportedLanguageIds=supportedLanguageIds;
  Registry registry=RegistryUtil.getRegistry();
  Filter filter=registry.getFilter("(&(javax.portlet.name=" + portlet.getPortletId() + ")(language.id=*)(objectClass="+ ResourceBundle.class.getName()+ "))");
  _serviceTracker=registry.trackServices(filter,new ResourceBundleServiceTrackerCustomizer());
  _serviceTracker.open();
}
