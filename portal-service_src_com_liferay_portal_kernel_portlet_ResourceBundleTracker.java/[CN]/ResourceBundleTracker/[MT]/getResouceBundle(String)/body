{
  if (languageId == null) {
    languageId=StringPool.BLANK;
  }
  for (  Entry<ServiceReference<ResourceBundle>,ResourceBundle> entry : _resourceBundles.entrySet()) {
    ServiceReference<ResourceBundle> serviceReference=entry.getKey();
    Object serviceReferenceLanguageId=serviceReference.getProperty("language.id");
    if (languageId.equals(serviceReferenceLanguageId)) {
      return entry.getValue();
    }
  }
  if (!_supportedLanguageIds.contains(languageId)) {
    return null;
  }
  return ResourceBundle.getBundle(_portlet.getResourceBundle(),LocaleUtil.fromLanguageId(languageId),_classLoader,UTF8Control.INSTANCE);
}
