{
  Enumeration<NetworkInterface> enu1=NetworkInterface.getNetworkInterfaces();
  while (enu1.hasMoreElements()) {
    NetworkInterface networkInterface=enu1.nextElement();
    Enumeration<InetAddress> enu2=networkInterface.getInetAddresses();
    while (enu2.hasMoreElements()) {
      InetAddress inetAddress=enu2.nextElement();
      if (!inetAddress.isLoopbackAddress() && (inetAddress instanceof Inet4Address)) {
        return inetAddress;
      }
    }
  }
  throw new SystemException("No local internet address");
}
