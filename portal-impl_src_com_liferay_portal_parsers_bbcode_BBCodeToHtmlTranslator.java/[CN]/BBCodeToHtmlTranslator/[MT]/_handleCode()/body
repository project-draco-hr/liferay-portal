{
  String code=_extractData(STR_CODE,TOKEN_DATA,true);
  code=HtmlUtil.escape(code);
  code=code.replaceAll(StringPool.TAB,StringPool.FOUR_SPACES);
  String[] lines=_regexNewLine.split(code);
  int digits=String.valueOf(lines.length + 1).length();
  _sb.append(STR_TAG_CODE_OPEN);
  for (int i=0; i < lines.length; i++) {
    String index=String.valueOf(i + 1);
    int ld=index.length();
    _sb.append(STR_TAG_CODE_LINES);
    for (int j=0; j < digits - ld; j++) {
      _sb.append(StringPool.NBSP);
    }
    lines[i]=StringUtil.replace(lines[i],STR_THREE_SPACES,StringPool.NBSP + StringPool.SPACE + StringPool.NBSP);
    lines[i]=StringUtil.replace(lines[i],StringPool.DOUBLE_SPACE,StringPool.NBSP + StringPool.SPACE);
    _sb.append(index + STR_TAG_SPAN_CLOSE);
    _sb.append(lines[i]);
    if (index.length() < lines.length) {
      _sb.append(STR_TAG_BR);
    }
  }
  _sb.append(STR_TAG_DIV_CLOSE);
}
