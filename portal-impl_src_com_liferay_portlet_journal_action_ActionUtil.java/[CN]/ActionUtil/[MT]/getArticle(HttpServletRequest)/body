{
  String actionName=ParamUtil.getString(request,ActionRequest.ACTION_NAME);
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  long resourcePrimKey=ParamUtil.getLong(request,"resourcePrimKey");
  long groupId=ParamUtil.getLong(request,"groupId",themeDisplay.getScopeGroupId());
  long classNameId=ParamUtil.getLong(request,"classNameId");
  long classPK=ParamUtil.getLong(request,"classPK");
  String articleId=ParamUtil.getString(request,"articleId");
  String ddmStructureKey=ParamUtil.getString(request,"ddmStructureKey");
  int status=ParamUtil.getInteger(request,"status",WorkflowConstants.STATUS_ANY);
  JournalArticle article=null;
  if (actionName.equals("addArticle") && (resourcePrimKey != 0)) {
    article=JournalArticleLocalServiceUtil.getLatestArticle(resourcePrimKey,status,false);
  }
 else   if (!actionName.equals("addArticle") && Validator.isNotNull(articleId)) {
    article=JournalArticleServiceUtil.getLatestArticle(groupId,articleId,status);
  }
 else   if ((classNameId > 0) && (classPK > JournalArticleConstants.CLASSNAME_ID_DEFAULT)) {
    String className=PortalUtil.getClassName(classNameId);
    try {
      article=JournalArticleServiceUtil.getLatestArticle(groupId,className,classPK);
    }
 catch (    NoSuchArticleException nsae) {
      return null;
    }
  }
 else {
    DDMStructure ddmStructure=null;
    try {
      ddmStructure=DDMStructureServiceUtil.getStructure(groupId,PortalUtil.getClassNameId(JournalArticle.class),ddmStructureKey,true);
    }
 catch (    NoSuchStructureException nsse) {
      return null;
    }
    try {
      article=JournalArticleServiceUtil.getArticle(ddmStructure.getGroupId(),DDMStructure.class.getName(),ddmStructure.getStructureId());
      article.setNew(true);
      article.setId(0);
      article.setGroupId(groupId);
      article.setClassNameId(JournalArticleConstants.CLASSNAME_ID_DEFAULT);
      article.setClassPK(0);
      article.setArticleId(null);
      article.setVersion(0);
    }
 catch (    NoSuchArticleException nsae) {
      return null;
    }
  }
  return article;
}
