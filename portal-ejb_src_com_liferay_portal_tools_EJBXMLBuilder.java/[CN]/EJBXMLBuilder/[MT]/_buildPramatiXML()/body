{
  StringMaker sm=new StringMaker();
  sm.append("<?xml version=\"1.0\"?>\n");
  sm.append("<!DOCTYPE pramati-j2ee-server PUBLIC \"-//Pramati Technologies //DTD Pramati J2ee Server 5.0//EN\" \"http://www.pramati.com/dtd/pramati-j2ee-server_5_0.dtd\">\n");
  sm.append("\n<pramati-j2ee-server>\n");
  sm.append("\t<vhost-name>default</vhost-name>\n");
  sm.append("\t<auto-start>TRUE</auto-start>\n");
  sm.append("\t<realm-name />\n");
  sm.append("\t<ejb-module>\n");
  sm.append("\t\t<name>").append(_jarFileName).append("</name>\n");
  SAXReader reader=SAXReaderFactory.getInstance();
  Document doc=reader.read(new File("classes/META-INF/ejb-jar.xml"));
  Iterator itr=doc.getRootElement().element("enterprise-beans").elements("session").iterator();
  while (itr.hasNext()) {
    Element entity=(Element)itr.next();
    sm.append("\t\t<ejb>\n");
    sm.append("\t\t\t<name>").append(entity.elementText("ejb-name")).append("</name>\n");
    sm.append("\t\t\t<max-pool-size>40</max-pool-size>\n");
    sm.append("\t\t\t<min-pool-size>20</min-pool-size>\n");
    sm.append("\t\t\t<enable-freepool>false</enable-freepool>\n");
    sm.append("\t\t\t<pool-waittimeout-millis>60000</pool-waittimeout-millis>\n");
    sm.append("\t\t\t<pk-waittimeout-millis/>\n");
    sm.append("\t\t\t<low-activity-interval>20</low-activity-interval>\n");
    sm.append("\t\t\t<is-secure>false</is-secure>\n");
    sm.append("\t\t\t<is-clustered>true</is-clustered>\n");
    String displayName=entity.elementText("display-name");
    if (displayName.endsWith("LocalServiceEJB")) {
      sm.append("\t\t\t<jndi-name>ejb/liferay/").append(displayName.substring(0,displayName.length() - 3)).append("Home</jndi-name>\n");
      sm.append("\t\t\t<local-jndi-name>").append(entity.elementText("ejb-name")).append("__PRAMATI_LOCAL").append("</local-jndi-name>\n");
    }
 else {
      sm.append("\t\t\t<jndi-name>").append(entity.elementText("ejb-name")).append("</jndi-name>\n");
    }
    sm.append(_buildPramatiXMLRefs(entity));
    sm.append("\t\t</ejb>\n");
  }
  sm.append("\t</ejb-module>\n");
  sm.append("</pramati-j2ee-server>");
  File outputFile=new File("classes/pramati-j2ee-server.xml");
  if (!outputFile.exists() || !FileUtil.read(outputFile).equals(sm.toString())) {
    FileUtil.write(outputFile,sm.toString());
    System.out.println(outputFile.toString());
  }
}
