{
  table=normalizeName(table,databaseMetaData);
  ResultSet tableResultSet=databaseMetaData.getTables(null,null,table,null);
  try {
    if (!tableResultSet.next()) {
      _log.error("Table " + table + " does not exist");
      return;
    }
    ResultSet columnResultSet=databaseMetaData.getColumns(null,null,table,normalizeName("mvccVersion",databaseMetaData));
    try {
      if (columnResultSet.next()) {
        return;
      }
      runSQL("alter table " + table + " add mvccVersion LONG default 0");
      if (_log.isDebugEnabled()) {
        _log.debug("Added column mvccVersion to table " + table);
      }
    }
  finally {
      DataAccess.cleanUp(columnResultSet);
    }
  }
  finally {
    DataAccess.cleanUp(tableResultSet);
  }
}
