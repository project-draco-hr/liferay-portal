{
  long newFolderId=ParamUtil.getLong(actionRequest,"newFolderId");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DLFileEntry.class.getName(),actionRequest);
  long[] folderIds=StringUtil.split(ParamUtil.getString(actionRequest,"folderIds"),0L);
  for (int i=0; i < folderIds.length; i++) {
    DLAppServiceUtil.moveFolder(folderIds[i],newFolderId,serviceContext);
  }
  long[] fileEntryIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileEntryIds"),0L);
  for (int i=0; i < fileEntryIds.length; i++) {
    DLAppServiceUtil.moveFileEntry(fileEntryIds[i],newFolderId,serviceContext);
  }
  long[] fileShortcutIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileShortcutIds"),0L);
  for (int i=0; i < fileShortcutIds.length; i++) {
    if (fileShortcutIds[i] > 0) {
      DLFileShortcut fileShortcut=DLAppServiceUtil.getFileShortcut(fileShortcutIds[i]);
      DLAppServiceUtil.updateFileShortcut(fileShortcutIds[i],newFolderId,fileShortcut.getToFileEntryId(),serviceContext);
    }
  }
}
