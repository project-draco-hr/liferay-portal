{
  long[] deleteFolderIds=StringUtil.split(ParamUtil.getString(actionRequest,"folderIds"),0L);
  List<TrashedModel> trashedModels=new ArrayList<TrashedModel>();
  for (int i=0; i < deleteFolderIds.length; i++) {
    long deleteFolderId=deleteFolderIds[i];
    if (moveToTrash) {
      Folder folder=DLAppServiceUtil.moveFolderToTrash(deleteFolderId);
      if (folder.getModel() instanceof DLFolder) {
        trashedModels.add((DLFolder)folder.getModel());
      }
    }
 else {
      DLAppServiceUtil.deleteFolder(deleteFolderId);
    }
  }
  long[] deleteFileShortcutIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileShortcutIds"),0L);
  for (int i=0; i < deleteFileShortcutIds.length; i++) {
    long deleteFileShortcutId=deleteFileShortcutIds[i];
    if (moveToTrash) {
      DLFileShortcut fileShortcut=DLAppServiceUtil.moveFileShortcutToTrash(deleteFileShortcutId);
      trashedModels.add(fileShortcut);
    }
 else {
      DLAppServiceUtil.deleteFileShortcut(deleteFileShortcutId);
    }
  }
  long[] deleteFileEntryIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileEntryIds"),0L);
  for (  long deleteFileEntryId : deleteFileEntryIds) {
    if (moveToTrash) {
      FileEntry fileEntry=DLAppServiceUtil.moveFileEntryToTrash(deleteFileEntryId);
      if (fileEntry.getModel() instanceof DLFileEntry) {
        trashedModels.add((DLFileEntry)fileEntry.getModel());
      }
    }
 else {
      DLAppServiceUtil.deleteFileEntry(deleteFileEntryId);
    }
  }
  if (moveToTrash && (trashedModels.size() > 0)) {
    TrashUtil.addTrashSessionMessages(actionRequest,trashedModels);
    hideDefaultSuccessMessage(actionRequest);
  }
}
