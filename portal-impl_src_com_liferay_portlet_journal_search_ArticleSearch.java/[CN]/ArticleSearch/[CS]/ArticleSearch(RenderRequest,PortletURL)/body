{
  super(req,new ArticleDisplayTerms(req),new ArticleSearchTerms(req),DEFAULT_CUR_PARAM,DEFAULT_DELTA,iteratorURL,headerNames,EMPTY_RESULTS_MESSAGE);
  PortletConfig portletConfig=(PortletConfig)req.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
  ArticleDisplayTerms displayTerms=(ArticleDisplayTerms)getDisplayTerms();
  ArticleSearchTerms searchTerms=(ArticleSearchTerms)getSearchTerms();
  if (!portletConfig.getPortletName().equals(PortletKeys.JOURNAL)) {
    displayTerms.setStatus("approved");
    searchTerms.setStatus("approved");
  }
  iteratorURL.setParameter(ArticleDisplayTerms.GROUP_ID,String.valueOf(displayTerms.getGroupId()));
  iteratorURL.setParameter(ArticleDisplayTerms.ARTICLE_ID,displayTerms.getArticleId());
  iteratorURL.setParameter(ArticleDisplayTerms.VERSION,String.valueOf(displayTerms.getVersion()));
  iteratorURL.setParameter(ArticleDisplayTerms.TITLE,displayTerms.getTitle());
  iteratorURL.setParameter(ArticleDisplayTerms.DESCRIPTION,displayTerms.getDescription());
  iteratorURL.setParameter(ArticleDisplayTerms.CONTENT,displayTerms.getContent());
  iteratorURL.setParameter(ArticleDisplayTerms.TYPE,displayTerms.getType());
  iteratorURL.setParameter(ArticleDisplayTerms.STRUCTURE_ID,displayTerms.getStructureId());
  iteratorURL.setParameter(ArticleDisplayTerms.TEMPLATE_ID,displayTerms.getTemplateId());
  iteratorURL.setParameter(ArticleDisplayTerms.STATUS,displayTerms.getStatus());
  try {
    PortalPreferences prefs=PortletPreferencesFactoryUtil.getPortalPreferences(req);
    String orderByCol=ParamUtil.getString(req,"orderByCol");
    String orderByType=ParamUtil.getString(req,"orderByType");
    if (Validator.isNotNull(orderByCol) && Validator.isNotNull(orderByType)) {
      prefs.setValue(PortletKeys.JOURNAL,"articles-order-by-col",orderByCol);
      prefs.setValue(PortletKeys.JOURNAL,"articles-order-by-type",orderByType);
    }
 else {
      orderByCol=prefs.getValue(PortletKeys.JOURNAL,"articles-order-by-col","id");
      orderByType=prefs.getValue(PortletKeys.JOURNAL,"articles-order-by-type","asc");
    }
    OrderByComparator orderByComparator=JournalUtil.getArticleOrderByComparator(orderByCol,orderByType);
    setOrderableHeaders(orderableHeaders);
    setOrderByCol(orderByCol);
    setOrderByType(orderByType);
    setOrderByComparator(orderByComparator);
  }
 catch (  Exception e) {
    _log.error(e);
  }
}
