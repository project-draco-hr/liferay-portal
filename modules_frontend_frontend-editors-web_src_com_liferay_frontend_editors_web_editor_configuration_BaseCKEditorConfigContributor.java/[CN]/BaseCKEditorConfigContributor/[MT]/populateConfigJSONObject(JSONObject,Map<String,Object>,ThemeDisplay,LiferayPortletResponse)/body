{
  jsonObject.put("allowedContent",Boolean.TRUE);
  String cssClasses=(String)inputEditorTaglibAttributes.get("liferay-ui:input-editor:cssClasses");
  jsonObject.put("bodyClass","html-editor " + HtmlUtil.escape(cssClasses));
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  String cssPath=HtmlUtil.escape(themeDisplay.getPathThemeCss());
  jsonArray.put(cssPath + "/aui.css");
  jsonArray.put(cssPath + "/main.css");
  jsonObject.put("contentsCss",jsonArray);
  String contentsLanguageId=(String)inputEditorTaglibAttributes.get("liferay-ui:input-editor:contentsLanguageId");
  Locale contentsLocale=LocaleUtil.fromLanguageId(contentsLanguageId);
  String contentsLanguageDir=LanguageUtil.get(contentsLocale,"lang.dir");
  contentsLanguageId=LocaleUtil.toLanguageId(contentsLocale);
  jsonObject.put("contentsLangDirection",HtmlUtil.escapeJS(contentsLanguageDir));
  jsonObject.put("contentsLanguage",contentsLanguageId.replace("iw_","he_"));
  jsonObject.put("height",265);
  String languageId=LocaleUtil.toLanguageId(themeDisplay.getLocale());
  Locale locale=LocaleUtil.fromLanguageId(languageId);
  languageId=LocaleUtil.toLanguageId(locale);
  jsonObject.put("language",languageId.replace("iw_","he_"));
  boolean resizable=GetterUtil.getBoolean((String)inputEditorTaglibAttributes.get("liferay-ui:input-editor:resizable"));
  if (resizable) {
    jsonObject.put("resize_dir","vertical");
  }
  jsonObject.put("resize_enabled",resizable);
  liferayPortletResponse.getHttpServletResponse().setContentType(ContentTypes.TEXT_JAVASCRIPT);
}
