{
  if (getFileKey(filePath) == Long.parseLong(fileKey)) {
    return false;
  }
  if (Files.isDirectory(filePath)) {
    doWriteFileKey(filePath,fileKey);
    return true;
  }
  PathCallable pathCallable=new PathCallable(filePath){
    @Override public Object call() throws Exception {
      doWriteFileKey(filePath,fileKey);
      return null;
    }
  }
;
  FileLockRetryUtil.registerPathCallable(pathCallable);
  return true;
}
