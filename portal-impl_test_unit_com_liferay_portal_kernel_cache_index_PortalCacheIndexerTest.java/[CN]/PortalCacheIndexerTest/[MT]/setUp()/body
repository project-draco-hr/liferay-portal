{
  _portalCache=new TestPortalCache<>(RandomTestUtil.randomString());
  _portalCacheIndexer=new PortalCacheIndexer<>(_indexAccessor,_portalCache);
  _cacheListener=ReflectionTestUtil.getFieldValue(_portalCache,"aggregatedCacheListener");
  _mappedMethodCallableInvocationHandler=new MappedMethodCallableInvocationHandler(ReflectionTestUtil.getFieldValue(_portalCacheIndexer,"_indexedCacheKeys"),true);
  ReflectionTestUtil.setFieldValue(_portalCacheIndexer,"_indexedCacheKeys",ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),new Class<?>[]{ConcurrentMap.class},_mappedMethodCallableInvocationHandler));
}
