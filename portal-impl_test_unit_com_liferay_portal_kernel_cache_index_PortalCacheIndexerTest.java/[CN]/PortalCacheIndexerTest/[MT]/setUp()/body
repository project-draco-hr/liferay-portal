{
  _portalCache=new MemoryPortalCache<>(new MockPortalCacheManager<TestIndexedCacheKey,String>(RandomTestUtil.randomString()),RandomTestUtil.randomString(),10);
  _portalCacheIndexer=new PortalCacheIndexer<>(_portalCache);
  _cacheListener=ReflectionTestUtil.getFieldValue(_portalCache,"aggregatedCacheListener");
  _mappedMethodNameCallableInvocationHandler=new MappedMethodNameCallableInvocationHandler(ReflectionTestUtil.getFieldValue(_portalCacheIndexer,"_indexedCacheKeys"),true);
  ReflectionTestUtil.setFieldValue(_portalCacheIndexer,"_indexedCacheKeys",ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),new Class<?>[]{ConcurrentMap.class},_mappedMethodNameCallableInvocationHandler));
}
