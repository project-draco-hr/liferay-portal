{
  DDLRecordSet recordSet=record.getRecordSet();
  String workflowAssetClassName=getWorkflowAssetClassName(recordSet);
  ddlRecordPersistence.remove(record);
  List<DDLRecordVersion> recordVersions=ddlRecordVersionPersistence.findByRecordId(record.getRecordId());
  for (  DDLRecordVersion recordVersion : recordVersions) {
    ddlRecordVersionPersistence.remove(recordVersion);
    StorageEngineUtil.deleteByClass(recordVersion.getDDMStorageId());
    workflowInstanceLinkLocalService.deleteWorkflowInstanceLinks(record.getCompanyId(),record.getGroupId(),workflowAssetClassName,recordVersion.getPrimaryKey());
  }
  assetEntryLocalService.deleteEntry(workflowAssetClassName,record.getRecordId());
  ratingsStatsLocalService.deleteStats(workflowAssetClassName,record.getRecordId());
  return record;
}
