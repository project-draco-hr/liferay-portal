{
  int count=0;
  while (true) {
    try {
      Lock lock=LockLocalServiceUtil.lock(_className,_key,_owner,false);
      if (lock.isNew()) {
        boolean reacquireLock=false;
        while (true) {
          try {
            LockLocalServiceUtil.unlock(_className,_key,_owner,false);
            if (++count >= _requiredSuccessCount) {
              reacquireLock=true;
              break;
            }
            break;
          }
 catch (          SystemException se) {
            if (_isExpectedException(se)) {
              continue;
            }
            _systemException=se;
            break;
          }
        }
        if (reacquireLock) {
          continue;
        }
      }
    }
 catch (    SystemException se) {
      if (_isExpectedException(se)) {
        continue;
      }
      _systemException=se;
      break;
    }
  }
}
