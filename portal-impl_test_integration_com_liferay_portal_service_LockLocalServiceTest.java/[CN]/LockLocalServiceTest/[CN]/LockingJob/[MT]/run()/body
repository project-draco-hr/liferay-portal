{
  int count=0;
  Iteration:   while (true) {
    try {
      Lock lock=LockLocalServiceUtil.lock(_className,_key,_owner,false);
      if (lock.isNew()) {
        while (true) {
          try {
            LockLocalServiceUtil.unlock(_className,_key,_owner,false);
            if (++count >= _requiredSuccessCount) {
              break Iteration;
            }
            break;
          }
 catch (          SystemException se) {
            if (isExpectedException(se)) {
              continue;
            }
            _systemException=se;
            break;
          }
        }
      }
    }
 catch (    SystemException se) {
      if (isExpectedException(se)) {
        continue;
      }
      _systemException=se;
      break;
    }
  }
}
