{
  Group group=GroupLocalServiceUtil.getGroup(groupId);
  if (group.isStagingGroup()) {
    group=group.getLiveGroup();
  }
  if (group.isOrganization()) {
    long organizationId=group.getOrganizationId();
    return OrganizationPermissionUtil.contains(permissionChecker,organizationId,actionId);
  }
 else   if (group.isUser()) {
    long userId=group.getClassPK();
    List<Organization> organizations=OrganizationLocalServiceUtil.getUserOrganizations(userId);
    for (    Organization organization : organizations) {
      if (OrganizationPermissionUtil.contains(permissionChecker,organization.getOrganizationId(),ActionKeys.MANAGE_USERS)) {
        return true;
      }
    }
  }
  return permissionChecker.hasPermission(groupId,Group.class.getName(),groupId,actionId);
}
