{
  String content=new String(bytes);
  if (!_LANGUAGE_FILTER_ENABLED) {
    return content;
  }
  String languageId=LanguageUtil.getLanguageId(request);
  Locale locale=LocaleUtil.fromLanguageId(languageId);
  Matcher matcher=_languagePattern.matcher(content);
  while (matcher.find()) {
    String match=matcher.group(0);
    String key=matcher.group(1);
    StringBuffer language=new StringBuffer();
    language.append(StringPool.APOSTROPHE);
    language.append(LanguageUtil.get(locale,key));
    language.append(StringPool.APOSTROPHE);
    content=content.replace(match,language.toString());
  }
  return content;
}
