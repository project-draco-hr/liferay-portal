{
  if (primary) {
    Iterator<EmailAddress> itr=emailAddressPersistence.findByC_C_C_P(companyId,classNameId,classPK,primary).iterator();
    while (itr.hasNext()) {
      EmailAddress emailAddress=itr.next();
      if ((emailAddressId <= 0) || (emailAddress.getEmailAddressId() != emailAddressId)) {
        emailAddress.setPrimary(false);
        emailAddressPersistence.update(emailAddress);
      }
    }
  }
}
