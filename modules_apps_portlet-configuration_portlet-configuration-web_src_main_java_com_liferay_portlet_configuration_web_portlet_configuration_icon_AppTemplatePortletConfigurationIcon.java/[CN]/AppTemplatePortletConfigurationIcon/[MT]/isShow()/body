{
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  try {
    if (!GroupPermissionUtil.contains(permissionChecker,themeDisplay.getScopeGroupId(),ActionKeys.MANAGE_ARCHIVED_SETUPS)) {
      return false;
    }
  }
 catch (  PortalException pe) {
    return false;
  }
  WindowState windowState=portletRequest.getWindowState();
  if (windowState.equals(LiferayWindowState.EXCLUSIVE)) {
    return false;
  }
  return portletDisplay.isShowConfigurationIcon();
}
