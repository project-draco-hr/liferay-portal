{
  if (s == null) {
    return null;
  }
  char[] chars=s.toCharArray();
  int len=chars.length;
  int x=0;
  int y=chars.length;
  for (int i=0; i < len; i++) {
    char c=chars[i];
    if (_isTrimable(c,exceptions)) {
      x=i + 1;
    }
 else {
      break;
    }
  }
  for (int i=len - 1; i >= 0; i--) {
    char c=chars[i];
    if (_isTrimable(c,exceptions)) {
      y=i;
    }
 else {
      break;
    }
  }
  if (x > y) {
    return StringPool.BLANK;
  }
 else   if ((x != 0) || (y != len)) {
    return s.substring(x,y);
  }
 else {
    return s;
  }
}
