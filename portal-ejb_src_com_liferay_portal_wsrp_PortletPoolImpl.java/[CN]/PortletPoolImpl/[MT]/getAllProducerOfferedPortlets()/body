{
  String companyId=WSRPUtil.getCompanyId();
  Iterator wsrpPortletsIt=null;
  List wsrpPortlets=new ArrayList();
  try {
    List liferayPortlets=PortletServiceUtil.getPortlets(companyId);
    for (int i=0; i < liferayPortlets.size(); i++) {
      com.liferay.portal.model.Portlet liferayPortlet=(com.liferay.portal.model.Portlet)liferayPortlets.get(i);
      Portlet producerPortlet=_createProducerPortlet(liferayPortlet);
      wsrpPortlets.add(producerPortlet);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  return wsrpPortlets.iterator();
}
