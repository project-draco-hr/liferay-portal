{
  String exportPackage=getBundleInstruction(javadoc.getProject(),Constants.EXPORT_PACKAGE);
  if (Validator.isNull(exportPackage)) {
    return;
  }
  String[] exportPackageArray=exportPackage.split(",");
  for (  String pattern : exportPackageArray) {
    pattern=pattern.trim();
    boolean excludePattern=false;
    int start=0;
    if (pattern.startsWith("!")) {
      excludePattern=true;
      start=1;
    }
    int end=pattern.indexOf(';');
    if (end == -1) {
      end=pattern.length();
    }
    pattern=pattern.substring(start,end);
    pattern="**/" + pattern.replace('.','/');
    if (pattern.endsWith("/*")) {
      pattern=pattern.substring(0,pattern.length() - 1);
    }
 else {
      pattern+="/*";
    }
    if (excludePattern) {
      javadoc.exclude(pattern);
    }
 else {
      javadoc.include(pattern);
    }
  }
}
