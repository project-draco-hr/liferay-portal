{
  ReplaceRegexTask replaceRegexTask=GradleUtil.addTask(project,UPDATE_FILE_VERSIONS_TASK_NAME,ReplaceRegexTask.class);
  replaceRegexTask.doLast(new Action<Task>(){
    @Override public void execute(    Task task){
      ReplaceRegexTask replaceRegexTask=(ReplaceRegexTask)task;
      if (!_logger.isLifecycleEnabled()) {
        return;
      }
      String replacement=replaceRegexTask.getReplacement();
      for (      Object file : replaceRegexTask.getMatchedFiles()) {
        _logger.lifecycle("Project version in " + project.relativePath(file) + " updated to "+ replacement);
      }
    }
  }
);
  replaceRegexTask.setDescription("Updates the project version in external files.");
  replaceRegexTask.setIgnoreUnmatched(true);
  replaceRegexTask.setReplacement(new Callable<Object>(){
    @Override public Object call() throws Exception {
      return project.getVersion();
    }
  }
);
  return replaceRegexTask;
}
