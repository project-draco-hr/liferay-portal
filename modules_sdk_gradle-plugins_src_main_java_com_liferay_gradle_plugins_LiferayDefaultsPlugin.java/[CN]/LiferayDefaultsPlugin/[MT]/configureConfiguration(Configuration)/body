{
  DependencySet dependencySet=configuration.getDependencies();
  dependencySet.all(new Action<Dependency>(){
    @Override public void execute(    Dependency dependency){
      if (!(dependency instanceof ModuleDependency)) {
        return;
      }
      ModuleDependency moduleDependency=(ModuleDependency)dependency;
      String group=moduleDependency.getGroup();
      String name=moduleDependency.getName();
      if (group.equals("com.liferay") && (name.equals("com.liferay.arquillian.extension.junit.bridge") || name.equals("com.liferay.jasper.jspc"))) {
        moduleDependency.exclude(Collections.singletonMap("group","com.liferay.portal"));
      }
    }
  }
);
}
