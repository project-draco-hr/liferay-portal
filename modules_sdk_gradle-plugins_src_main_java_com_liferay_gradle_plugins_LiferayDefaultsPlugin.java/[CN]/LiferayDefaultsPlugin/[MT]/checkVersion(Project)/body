{
  if (!hasPlugin(project,JSModuleConfigGeneratorPlugin.class)) {
    return;
  }
  ConfigJSModulesTask configJSModulesTask=(ConfigJSModulesTask)GradleUtil.getTask(project,JSModuleConfigGeneratorPlugin.CONFIG_JS_MODULES_TASK_NAME);
  File moduleConfigFile=configJSModulesTask.getModuleConfigFile();
  if (!moduleConfigFile.exists()) {
    return;
  }
  JsonSlurper jsonSlurper=new JsonSlurper();
  Map<String,Object> moduleConfigMap=(Map<String,Object>)jsonSlurper.parse(moduleConfigFile);
  String moduleConfigVersion=(String)moduleConfigMap.get("version");
  if (Validator.isNotNull(moduleConfigVersion) && !moduleConfigVersion.equals(String.valueOf(project.getVersion()))) {
    throw new GradleException("Version in " + project.relativePath(moduleConfigFile) + " must match project version");
  }
}
