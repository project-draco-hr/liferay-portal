{
  long[] userIds=addUsers();
  RoleServiceUtil.addUserRoles(userIds[0],addRequiredRoles());
  User user=UserLocalServiceUtil.getUser(userIds[0]);
  List<Role> initialUserRoles=RoleLocalServiceUtil.getUserRoles(user.getUserId());
  MembershipPolicyTestUtil.updateUser(user,null,null,null,null,Collections.<UserGroupRole>emptyList());
  List<Role> currentUserRoles=RoleLocalServiceUtil.getUserRoles(user.getUserId());
  Assert.assertEquals(initialUserRoles.size(),currentUserRoles.size());
}
