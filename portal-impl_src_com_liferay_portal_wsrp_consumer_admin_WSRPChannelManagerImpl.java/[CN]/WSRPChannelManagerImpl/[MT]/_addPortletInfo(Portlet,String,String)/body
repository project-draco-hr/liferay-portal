{
  ProducerEntityManagerFactory pemFactory=ProducerEntityManagerFactory.getInstance();
  String portalId=WSRPConfig.getPortalId();
  ProducerEntityManager producerEntityManager=pemFactory.getProducerEntityManager(portalId,null);
  ProducerEntity producerEntity=producerEntityManager.getProducerEntity(producerEntityId);
  PortletDescription portletDescription=producerEntity.getPortletDescription(portletHandle);
  List<MarkupType> markupTypes=portletDescription.getMarkupTypes();
  Map<String,Set<String>> portletModes=new HashMap<String,Set<String>>();
  for (  MarkupType markupType : markupTypes) {
    Set<String> mimeModes=_getPortalModes(markupType.getModes());
    portletModes.put(markupType.getMimeType(),mimeModes);
  }
  remotePortlet.setPortletModes(portletModes);
  String title=portletDescription.getTitle().getValue();
  if (title == null) {
    title=portletHandle;
  }
  String shortTitle=portletDescription.getShortTitle().getValue();
  if (shortTitle == null) {
    shortTitle=portletHandle;
  }
  List<LocalizedString> keywords=portletDescription.getKeywords();
  String keyword=null;
  if (keywords != null && keywords.size() >= 1) {
    LocalizedString element=keywords.get(0);
    if (element != null) {
      keyword=element.getValue();
    }
  }
  if (keyword == null) {
    keyword=_DEFAULT_KEYWORD;
  }
  LocalizedString displayName=portletDescription.getDisplayName();
  if (displayName != null) {
    String display=displayName.getValue();
    if (display == null) {
      remotePortlet.setDisplayName(portletHandle);
    }
 else {
      remotePortlet.setDisplayName(display);
    }
  }
  PortletInfo portletInfo=new PortletInfo(title,shortTitle,keyword);
  remotePortlet.setPortletInfo(portletInfo);
}
