{
  DDMRESTDataProviderSettings ddmRESTDataProviderSettings=ddmDataProviderContext.getSettingsInstance(DDMRESTDataProviderSettings.class);
  HttpRequest httpRequest=HttpRequest.get(ddmRESTDataProviderSettings.url());
  httpRequest.basicAuthentication(ddmRESTDataProviderSettings.username(),ddmRESTDataProviderSettings.password());
  httpRequest.query(ddmDataProviderContext.getParameters());
  HttpResponse httpResponse=httpRequest.send();
  JSONArray jsonArray=_jsonFactory.createJSONArray(httpResponse.body());
  List<KeyValuePair> results=new ArrayList<>();
  for (int i=0; i < jsonArray.length(); i++) {
    JSONObject jsonObject=jsonArray.getJSONObject(i);
    String key=jsonObject.getString(ddmRESTDataProviderSettings.key());
    String value=jsonObject.getString(ddmRESTDataProviderSettings.value());
    results.add(new KeyValuePair(key,value));
  }
  return results;
}
