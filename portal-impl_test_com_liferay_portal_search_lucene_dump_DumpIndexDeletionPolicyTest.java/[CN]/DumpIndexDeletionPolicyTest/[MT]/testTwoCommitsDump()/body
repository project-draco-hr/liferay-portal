{
  Document document=new Document();
  document.add(new Field("name","test1",Field.Store.YES,Field.Index.ANALYZED));
  _indexWriter.addDocument(document);
  _indexWriter.commit();
  document=new Document();
  document.add(new Field("name","test2",Field.Store.YES,Field.Index.ANALYZED));
  _indexWriter.addDocument(document);
  _indexWriter.commit();
  _assertHit(_directory,"name","test1",1);
  _assertHit(_directory,"name","test2",1);
  _assertHit(_directory,"name","test3",0);
  Directory newDirectory=_dumpToNewDirectory(_indexWriter);
  _assertSameDirectory(_directory,newDirectory);
  _assertHit(newDirectory,"name","test1",1);
  _assertHit(newDirectory,"name","test2",1);
  _assertHit(newDirectory,"name","test3",0);
  _indexWriter.close();
}
