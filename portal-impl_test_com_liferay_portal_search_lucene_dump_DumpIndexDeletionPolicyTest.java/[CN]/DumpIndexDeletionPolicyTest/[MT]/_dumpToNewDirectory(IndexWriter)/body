{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  _dumpIndexDeletionPolicy.dump(baos,indexWriter,new ReentrantLock());
  byte[] data=baos.toByteArray();
  Directory newDirectory=new RAMDirectory();
  IndexCommitSerializationUtil.deserializeIndex(new ByteArrayInputStream(data),newDirectory);
  return newDirectory;
}
