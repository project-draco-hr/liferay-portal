{
  String path=GetterUtil.getString(req.getPathInfo());
  if (Validator.isNull(path)) {
    return null;
  }
  int pos=path.indexOf(StringPool.SLASH,1);
  if (pos == -1) {
    return null;
  }
  String facebookAppName=path.substring(1,pos);
  if (_log.isDebugEnabled()) {
    _log.debug("Facebook application name " + facebookAppName);
  }
  if (Validator.isNull(facebookAppName)) {
    return null;
  }
  String redirect=path.substring(pos);
  if (_log.isDebugEnabled()) {
    _log.debug("Redirect " + redirect);
  }
  if (Validator.isNull(redirect)) {
    return null;
  }
  pos=path.indexOf("/-/");
  String appPath=StringPool.BLANK;
  if (pos != -1) {
    pos=path.indexOf(StringPool.SLASH,pos + 3);
    if (pos != -1) {
      appPath=path.substring(pos);
    }
  }
  return new String[]{facebookAppName,redirect,appPath};
}
