{
  List<Role> roles=null;
  if (ResourceBlockLocalServiceUtil.isSupported(className)) {
    roles=ResourceBlockLocalServiceUtil.getRoles(className,Long.valueOf(classPK),ActionKeys.VIEW);
  }
 else {
    roles=ResourcePermissionLocalServiceUtil.getRoles(companyId,className,ResourceConstants.SCOPE_INDIVIDUAL,classPK,ActionKeys.VIEW);
  }
  if (roles.isEmpty()) {
    return;
  }
  List<Long> roleIds=new ArrayList<>();
  List<String> groupRoleIds=new ArrayList<>();
  for (  Role role : roles) {
    if ((role.getType() == RoleConstants.TYPE_ORGANIZATION) || (role.getType() == RoleConstants.TYPE_SITE)) {
      groupRoleIds.add(groupId + StringPool.DASH + role.getRoleId());
    }
 else {
      roleIds.add(role.getRoleId());
    }
  }
  doc.addKeyword(Field.ROLE_ID,roleIds.toArray(new Long[roleIds.size()]));
  doc.addKeyword(Field.GROUP_ROLE_ID,groupRoleIds.toArray(new String[groupRoleIds.size()]));
}
