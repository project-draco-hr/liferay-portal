{
  StartTestableTomcatTask startTestableTomcatTask=(StartTestableTomcatTask)GradleUtil.getTask(project,TestIntegrationPlugin.START_TESTABLE_TOMCAT_TASK_NAME);
  Object checkTimeout=GradleUtil.getProperty(project,"timeout.app.server.wait");
  if (checkTimeout != null) {
    startTestableTomcatTask.setCheckTimeout(GradleUtil.toInteger(checkTimeout) * 1000);
  }
  startTestableTomcatTask.setExecutable(new Callable<String>(){
    @Override public String call() throws Exception {
      return tomcatAppServer.getStartExecutable();
    }
  }
);
  startTestableTomcatTask.setExecutableArgs(new Callable<List<String>>(){
    @Override public List<String> call() throws Exception {
      return tomcatAppServer.getStartExecutableArgs();
    }
  }
);
}
