{
  String key=encodeKey(classNameId,actionId);
  List<SocialEquitySetting> socialEquitySettings=(List<SocialEquitySetting>)_portalCache.get(key);
  if (socialEquitySettings != null) {
    return socialEquitySettings;
  }
  String className=PortalUtil.getClassName(classNameId);
  SocialEquityActionMapping equityActionMapping=ResourceActionsUtil.getSocialEquityActionMapping(className,actionId);
  if (equityActionMapping == null) {
    socialEquitySettings=Collections.EMPTY_LIST;
    _portalCache.put(key,socialEquitySettings);
    return socialEquitySettings;
  }
  List<SocialEquitySetting> equitySettings=socialEquitySettingPersistence.findByG_C_A(groupId,classNameId,actionId);
  equitySettings=ListUtil.copy(equitySettings);
  if (equitySettings.isEmpty()) {
    if (equityActionMapping.getInformationValue() > 0) {
      SocialEquitySetting informationEquitySetting=getInformationEquitySetting(actionId,equityActionMapping);
      equitySettings.add(informationEquitySetting);
    }
    if (equityActionMapping.getParticipationValue() > 0) {
      SocialEquitySetting participationEquitySetting=getParticipationEquitySetting(actionId,equityActionMapping);
      equitySettings.add(participationEquitySetting);
    }
  }
 else   if (equitySettings.size() == 1) {
    SocialEquitySetting equitySetting=equitySettings.get(0);
    if ((equityActionMapping.getInformationValue() > 0) && (equitySetting.getType() == SocialEquitySettingConstants.TYPE_PARTICIPATION)) {
      SocialEquitySetting informationEquitySetting=getInformationEquitySetting(actionId,equityActionMapping);
      equitySettings.add(informationEquitySetting);
    }
 else     if ((equityActionMapping.getParticipationValue() > 0) && (equitySetting.getType() == SocialEquitySettingConstants.TYPE_INFORMATION)) {
      SocialEquitySetting participationEquitySetting=getParticipationEquitySetting(actionId,equityActionMapping);
      equitySettings.add(participationEquitySetting);
    }
  }
  _portalCache.put(key,socialEquitySettings);
  return equitySettings;
}
