{
  SocialEquityActionMapping defaultEquityActionMapping=PortalUtil.getSocialEquityActionMapping(className,equityActionMapping.getActionId());
  if ((equityActionMapping.getInformationValue() > 0) && !equityActionMapping.equals(defaultEquityActionMapping,SocialEquitySettingConstants.TYPE_INFORMATION)) {
    SocialEquitySetting equitySetting=getEquitySetting(groupId,className,equityActionMapping.getActionId(),SocialEquitySettingConstants.TYPE_INFORMATION);
    if (!equityActionMapping.equals(equitySetting)) {
      equitySetting.update(equityActionMapping);
      socialEquitySettingPersistence.update(equitySetting,false);
    }
  }
  if ((equityActionMapping.getParticipationValue() > 0) && !equityActionMapping.equals(defaultEquityActionMapping,SocialEquitySettingConstants.TYPE_PARTICIPATION)) {
    SocialEquitySetting equitySetting=getEquitySetting(groupId,className,equityActionMapping.getActionId(),SocialEquitySettingConstants.TYPE_PARTICIPATION);
    if (!equityActionMapping.equals(equitySetting)) {
      equitySetting.update(equityActionMapping);
      socialEquitySettingPersistence.update(equitySetting,false);
    }
  }
  long classNameId=PortalUtil.getClassNameId(className);
  String key=encodeKey(classNameId,equityActionMapping.getActionId());
  _portalCache.remove(key);
}
