{
  long classNameId=PortalUtil.getClassNameId(className);
  SocialEquitySetting equitySetting=null;
  try {
    equitySetting=socialEquitySettingPersistence.findByG_C_A_T(groupId,classNameId,actionId,type);
  }
 catch (  NoSuchEquitySettingException nsqse) {
    Group group=groupLocalService.getGroup(groupId);
    long equitySettingId=counterLocalService.increment();
    equitySetting=socialEquitySettingPersistence.create(equitySettingId);
    equitySetting.setGroupId(groupId);
    equitySetting.setCompanyId(group.getCompanyId());
    equitySetting.setClassNameId(classNameId);
    equitySetting.setActionId(actionId);
    equitySetting.setType(type);
  }
  return equitySetting;
}
