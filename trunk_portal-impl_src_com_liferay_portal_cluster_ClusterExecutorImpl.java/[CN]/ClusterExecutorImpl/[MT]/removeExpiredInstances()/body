{
  if (_liveInstances.isEmpty()) {
    return;
  }
  Set<Map.Entry<ObjectValuePair<Address,ClusterNode>,Long>> liveInstances=_liveInstances.entrySet();
  Iterator<Map.Entry<ObjectValuePair<Address,ClusterNode>,Long>> itr=liveInstances.iterator();
  long now=System.currentTimeMillis();
  while (itr.hasNext()) {
    Map.Entry<ObjectValuePair<Address,ClusterNode>,Long> entry=itr.next();
    long expirationTime=entry.getValue();
    if (now < expirationTime) {
      continue;
    }
    ObjectValuePair<Address,ClusterNode> liveInstance=entry.getKey();
    ClusterNode clusterNode=liveInstance.getValue();
    if (_localClusterNode.equals(clusterNode)) {
      continue;
    }
    _clusterNodeAddresses.remove(clusterNode.getClusterNodeId());
    itr.remove();
    ClusterEvent clusterEvent=ClusterEvent.depart(clusterNode);
    fireClusterEvent(clusterEvent);
  }
}
