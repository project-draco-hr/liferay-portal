{
  User user=getUser();
  number=PhoneNumberUtil.strip(number);
  extension=PhoneNumberUtil.strip(extension);
  _validate(null,user.getCompanyId(),className,classPK,number,typeId,primary);
  String phoneId=Long.toString(CounterServiceUtil.increment(Phone.class.getName()));
  Phone phone=PhoneUtil.create(phoneId);
  Date now=new Date();
  phone.setCompanyId(user.getCompanyId());
  phone.setUserId(user.getUserId());
  phone.setUserName(user.getFullName());
  phone.setCreateDate(now);
  phone.setModifiedDate(now);
  phone.setClassName(className);
  phone.setClassPK(classPK);
  phone.setNumber(number);
  phone.setExtension(extension);
  phone.setTypeId(typeId);
  phone.setPrimary(primary);
  PhoneUtil.update(phone);
  return phone;
}
