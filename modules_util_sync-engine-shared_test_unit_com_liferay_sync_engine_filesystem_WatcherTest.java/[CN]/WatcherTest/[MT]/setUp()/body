{
  super.setUp();
  _syncSite=SyncSiteTestUtil.addSyncSite(10158,FileUtil.getFilePathName(filePathName,"test-site"),10184,syncAccount.getSyncAccountId());
  _syncSite.setActive(true);
  SyncSiteService.update(_syncSite);
  ScheduledExecutorService scheduledExecutorService=Executors.newSingleThreadScheduledExecutor();
  scheduledExecutorService.scheduleAtFixedRate(new SyncWatchEventProcessor(syncAccount.getSyncAccountId()),0,1,TimeUnit.SECONDS);
  WatchEventListener watchEventListener=new SyncSiteWatchEventListener(syncAccount.getSyncAccountId());
  Path filePath=Paths.get(syncAccount.getFilePathName());
  _watcher=new Watcher(filePath,true,watchEventListener);
  Thread thread=new Thread(_watcher);
  thread.start();
}
