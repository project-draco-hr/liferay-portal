{
  long configuredProducerId=counterLocalService.increment();
  WSRPProducer producer=wsrpProducerPersistence.create(configuredProducerId);
  producer.setPortalId(portalId);
  producer.setStatus(status);
  producer.setNamespace(namespace);
  producer.setInstanceName(instanceName);
  producer.setRequiresRegistration(requiresRegistration);
  producer.setSupportsInbandRegistration(supportsInbandRegistration);
  producer.setVersion(version);
  producer.setOfferedPortlets(offeredPortlets);
  producer.setProducerProfileMap(producerProfileMap);
  producer.setRegistrationProperties(registrationProperties);
  producer.setRegistrationValidatorClass(registrationValidatorClass);
  wsrpProducerPersistence.update(producer,false);
}
