{
  Object[] data=initStoreData();
  long companyId=(Long)data[0];
  long repositoryId=(Long)data[1];
  long newRepositoryId=RandomTestUtil.nextLong();
  try {
    String[] fileNames=_store.getFileNames(companyId,repositoryId);
    for (    String fileName : fileNames) {
      _store.updateFile(companyId,repositoryId,newRepositoryId,fileName);
      Assert.assertTrue(fileName + " was not found in " + newRepositoryId,_store.hasFile(companyId,newRepositoryId,fileName));
      Assert.assertFalse(fileName + " was found in " + repositoryId,_store.hasFile(companyId,repositoryId,fileName));
    }
  }
  finally {
    try {
      _store.deleteDirectory(companyId,repositoryId,StringPool.BLANK);
    }
 catch (    NoSuchDirectoryException nsde) {
    }
    try {
      _store.deleteDirectory(companyId,newRepositoryId,StringPool.BLANK);
    }
 catch (    NoSuchDirectoryException nsde) {
    }
  }
}
