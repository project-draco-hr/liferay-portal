{
  int[] codePoints=new int[UNICODE_CATS_AND_DOGS.length];
  for (int i=0; i < codePoints.length; i++) {
    codePoints[i]=Integer.valueOf(UNICODE_CATS_AND_DOGS[i],16);
  }
  String animals=new String(codePoints,0,codePoints.length);
  StringBundler sb=new StringBundler(UNICODE_CATS_AND_DOGS.length * 4 * 2);
  byte[] animalBites=animals.getBytes(StringPool.UTF8);
  for (int i=0; i < animalBites.length; i++) {
    sb.append(StringPool.PERCENT);
    sb.append(Integer.toHexString(0xFF & animalBites[i]));
  }
  String escapedAnimals=sb.toString();
  Assert.assertEquals(StringUtil.toLowerCase(escapedAnimals),StringUtil.toLowerCase(URLCodec.encodeURL(animals,StringPool.UTF8,false)));
  Assert.assertEquals(animals,URLCodec.decodeURL(escapedAnimals,StringPool.UTF8));
}
