{
  Properties userMappings=LDAPSettingsUtil.getUserMappings(ldapServerId,companyId);
  Properties userExpandoMappings=LDAPSettingsUtil.getUserExpandoMappings(ldapServerId,companyId);
  Properties contactMappings=LDAPSettingsUtil.getContactMappings(ldapServerId,companyId);
  Properties contactExpandoMappings=LDAPSettingsUtil.getContactExpandoMappings(ldapServerId,companyId);
  User user=importUser(companyId,attributes,userMappings,userExpandoMappings,contactMappings,contactExpandoMappings,password);
  Properties groupMappings=LDAPSettingsUtil.getGroupMappings(ldapServerId,companyId);
  importGroups(ldapServerId,companyId,ldapContext,attributes,user,userMappings,groupMappings);
  return user;
}
