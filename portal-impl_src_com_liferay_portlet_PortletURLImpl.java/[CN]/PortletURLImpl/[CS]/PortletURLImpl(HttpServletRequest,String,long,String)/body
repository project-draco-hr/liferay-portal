{
  _req=req;
  _portletId=portletId;
  _plid=plid;
  _lifecycle=lifecycle;
  _parametersIncludedInPath=new LinkedHashSet<String>();
  _params=new LinkedHashMap<String,String[]>();
  _secure=req.isSecure();
  Portlet portlet=getPortlet();
  if (portlet != null) {
    PortletApp portletApp=portlet.getPortletApp();
    _escapeXml=MapUtil.getBoolean(portletApp.getContainerRuntimeOptions(),PortletConfigImpl.RUNTIME_OPTION_ESCAPE_XML,PropsValues.PORTLET_URL_ESCAPE_XML);
  }
}
