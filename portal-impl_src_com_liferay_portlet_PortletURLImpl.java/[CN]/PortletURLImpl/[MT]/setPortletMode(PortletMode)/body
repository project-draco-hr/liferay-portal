{
  if (_portletReq != null) {
    if (!getPortlet().hasPortletMode(_portletReq.getResponseContentType(),portletMode)) {
      throw new PortletModeException(portletMode.toString(),portletMode);
    }
  }
  _portletMode=portletMode;
  _toString=null;
}
