{
  if (_portletRequest != null) {
    if (!getPortlet().hasPortletMode(_portletRequest.getResponseContentType(),portletMode)) {
      throw new PortletModeException(portletMode.toString(),portletMode);
    }
  }
  _portletMode=portletMode;
  _toString=null;
}
