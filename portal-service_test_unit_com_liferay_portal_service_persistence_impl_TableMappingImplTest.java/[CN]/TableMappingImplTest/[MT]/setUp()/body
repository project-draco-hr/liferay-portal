{
  MappingSqlQueryFactoryUtil mappingSqlQueryFactoryUtil=new MappingSqlQueryFactoryUtil();
  mappingSqlQueryFactoryUtil.setMappingSqlQueryFactory(new MockMappingSqlQueryFactory());
  MultiVMPoolUtil multiVMPoolUtil=new MultiVMPoolUtil();
  multiVMPoolUtil.setMultiVMPool(new MockMultiVMPool());
  SqlUpdateFactoryUtil sqlUpdateFactoryUtil=new SqlUpdateFactoryUtil();
  sqlUpdateFactoryUtil.setSqlUpdateFactory(new MockSqlUpdateFactory());
  Class<?> clazz=TableMappingImplTest.class;
  ClassLoader classLoader=clazz.getClassLoader();
  _dataSource=(DataSource)ProxyUtil.newProxyInstance(classLoader,new Class<?>[]{DataSource.class},null);
  _leftBasePersistence=new MockBasePersistence<Left>(Left.class);
  _leftBasePersistence.setDataSource(_dataSource);
  _rightBasePersistence=new MockBasePersistence<Right>(Right.class);
  _rightBasePersistence.setDataSource(_dataSource);
  _tableMappingImpl=new TableMappingImpl<Left,Right>(_tableName,_leftColumnName,_rightColumnName,_leftBasePersistence,_rightBasePersistence);
}
