{
  JournalArticleDisplay articleDisplay=null;
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  PortletRequestModel portletRequestModel=getPortletRequestModel(request,response);
  boolean workflowAssetPreview=GetterUtil.getBoolean((Boolean)request.getAttribute(WebKeys.WORKFLOW_ASSET_PREVIEW));
  String languageId=LanguageUtil.getLanguageId(request);
  int articlePage=ParamUtil.getInteger(request,"page",1);
  String ddmTemplateKey=(String)request.getAttribute(WebKeys.JOURNAL_TEMPLATE_ID);
  String viewMode=ParamUtil.getString(request,"viewMode",Constants.VIEW);
  if (!workflowAssetPreview && _article.isApproved()) {
    articleDisplay=_journalContent.getDisplay(_article.getGroupId(),_article.getArticleId(),_article.getVersion(),ddmTemplateKey,viewMode,languageId,articlePage,portletRequestModel,themeDisplay);
  }
 else {
    articleDisplay=JournalArticleLocalServiceUtil.getArticleDisplay(_article,ddmTemplateKey,viewMode,languageId,articlePage,portletRequestModel,themeDisplay);
  }
  return articleDisplay;
}
