{
  Session session=null;
  try {
    if (journalTemplate.isNew() || journalTemplate.isModified()) {
      session=openSession();
      if (journalTemplate.isNew()) {
        JournalTemplateHBM journalTemplateHBM=new JournalTemplateHBM();
        journalTemplateHBM.setCompanyId(journalTemplate.getCompanyId());
        journalTemplateHBM.setTemplateId(journalTemplate.getTemplateId());
        journalTemplateHBM.setGroupId(journalTemplate.getGroupId());
        journalTemplateHBM.setUserId(journalTemplate.getUserId());
        journalTemplateHBM.setUserName(journalTemplate.getUserName());
        journalTemplateHBM.setCreateDate(journalTemplate.getCreateDate());
        journalTemplateHBM.setModifiedDate(journalTemplate.getModifiedDate());
        journalTemplateHBM.setStructureId(journalTemplate.getStructureId());
        journalTemplateHBM.setName(journalTemplate.getName());
        journalTemplateHBM.setDescription(journalTemplate.getDescription());
        journalTemplateHBM.setXsl(journalTemplate.getXsl());
        journalTemplateHBM.setLangType(journalTemplate.getLangType());
        journalTemplateHBM.setSmallImage(journalTemplate.getSmallImage());
        journalTemplateHBM.setSmallImageURL(journalTemplate.getSmallImageURL());
        session.save(journalTemplateHBM);
        session.flush();
      }
 else {
        JournalTemplateHBM journalTemplateHBM=(JournalTemplateHBM)session.get(JournalTemplateHBM.class,journalTemplate.getPrimaryKey());
        if (journalTemplateHBM != null) {
          journalTemplateHBM.setGroupId(journalTemplate.getGroupId());
          journalTemplateHBM.setUserId(journalTemplate.getUserId());
          journalTemplateHBM.setUserName(journalTemplate.getUserName());
          journalTemplateHBM.setCreateDate(journalTemplate.getCreateDate());
          journalTemplateHBM.setModifiedDate(journalTemplate.getModifiedDate());
          journalTemplateHBM.setStructureId(journalTemplate.getStructureId());
          journalTemplateHBM.setName(journalTemplate.getName());
          journalTemplateHBM.setDescription(journalTemplate.getDescription());
          journalTemplateHBM.setXsl(journalTemplate.getXsl());
          journalTemplateHBM.setLangType(journalTemplate.getLangType());
          journalTemplateHBM.setSmallImage(journalTemplate.getSmallImage());
          journalTemplateHBM.setSmallImageURL(journalTemplate.getSmallImageURL());
          session.flush();
        }
 else {
          journalTemplateHBM=new JournalTemplateHBM();
          journalTemplateHBM.setCompanyId(journalTemplate.getCompanyId());
          journalTemplateHBM.setTemplateId(journalTemplate.getTemplateId());
          journalTemplateHBM.setGroupId(journalTemplate.getGroupId());
          journalTemplateHBM.setUserId(journalTemplate.getUserId());
          journalTemplateHBM.setUserName(journalTemplate.getUserName());
          journalTemplateHBM.setCreateDate(journalTemplate.getCreateDate());
          journalTemplateHBM.setModifiedDate(journalTemplate.getModifiedDate());
          journalTemplateHBM.setStructureId(journalTemplate.getStructureId());
          journalTemplateHBM.setName(journalTemplate.getName());
          journalTemplateHBM.setDescription(journalTemplate.getDescription());
          journalTemplateHBM.setXsl(journalTemplate.getXsl());
          journalTemplateHBM.setLangType(journalTemplate.getLangType());
          journalTemplateHBM.setSmallImage(journalTemplate.getSmallImage());
          journalTemplateHBM.setSmallImageURL(journalTemplate.getSmallImageURL());
          session.save(journalTemplateHBM);
          session.flush();
        }
      }
      journalTemplate.setNew(false);
      journalTemplate.setModified(false);
    }
    return journalTemplate;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
