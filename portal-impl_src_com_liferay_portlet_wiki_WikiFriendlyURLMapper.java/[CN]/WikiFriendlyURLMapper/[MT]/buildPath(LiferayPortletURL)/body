{
  Map<String,String> routeParameters=new HashMap<String,String>();
  buildRouteParameters(liferayPortletURL,routeParameters);
  if (routeParameters.containsKey("nodeName")) {
    String nodeName=routeParameters.get("nodeName");
    nodeName=StringUtil.replace(nodeName,_UNESCAPED_CHARS,_ESCAPED_CHARS);
    routeParameters.put("nodeName",nodeName);
  }
  if (routeParameters.containsKey("title")) {
    String title=routeParameters.get("title");
    title=StringUtil.replace(title,_UNESCAPED_CHARS,_ESCAPED_CHARS);
    routeParameters.put("title",title);
  }
  String friendlyURLPath=router.parametersToUrl(routeParameters);
  if (Validator.isNull(friendlyURLPath)) {
    return null;
  }
  addParametersIncludedInPath(liferayPortletURL,routeParameters);
  friendlyURLPath=StringPool.SLASH.concat(getMapping()).concat(friendlyURLPath);
  return friendlyURLPath;
}
