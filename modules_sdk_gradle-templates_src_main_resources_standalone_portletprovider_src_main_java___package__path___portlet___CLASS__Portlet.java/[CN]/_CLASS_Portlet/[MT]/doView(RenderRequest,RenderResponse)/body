{
  ThemeDisplay themeDisplay=(ThemeDisplay)renderRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String portletId=PortalUtil.getPortletId(renderRequest);
  String message="_NAME_ Add Portlet Provider";
  try {
    PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(renderRequest,portletId);
    String className=preferences.getValue("className",StringPool.BLANK);
    long classPK=GetterUtil.getLong(preferences.getValue("classPK",StringPool.BLANK));
    if (Validator.isNotNull(className) && (classPK > 0)) {
      AssetEntry assetEntry=_assetEntryLocalService.getEntry(className,classPK);
      message=assetEntry.getTitle(themeDisplay.getLocale());
    }
  }
 catch (  PortalException pe) {
  }
  renderRequest.setAttribute(_CLASS_WebKeys.PORTLET_PROVIDER_MESSAGE,message);
  super.doView(renderRequest,renderResponse);
}
