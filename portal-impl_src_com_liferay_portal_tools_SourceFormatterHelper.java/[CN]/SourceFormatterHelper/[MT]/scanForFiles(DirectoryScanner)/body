{
  directoryScanner.scan();
  String[] fileNamesArray=directoryScanner.getIncludedFiles();
  if (!_useProperties) {
    return ListUtil.toList(fileNamesArray);
  }
  List<String> fileNames=new ArrayList<String>(fileNamesArray.length);
  for (  String fileName : fileNamesArray) {
    File file=new File(fileName);
    long timestamp=GetterUtil.getLong(_properties.getProperty(fileName));
    if (timestamp < file.lastModified()) {
      fileNames.add(fileName);
      _properties.setProperty(fileName,String.valueOf(file.lastModified()));
    }
  }
  return fileNames;
}
