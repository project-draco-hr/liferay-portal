{
  try {
    InputStream is=_sourceHook.getImageAsStream(image);
    byte[] bytes=FileUtil.getBytes(is);
    _targetHook.updateImage(image,image.getType(),bytes);
    if (_targetHook instanceof DatabaseHook) {
      ImageLocalServiceUtil.updateImage(image,false);
    }
  }
 catch (  Exception e) {
    _log.error("Migration failed for " + image.getImageId(),e);
  }
}
