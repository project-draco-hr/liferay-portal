{
  ThemeDisplay themeDisplay=(ThemeDisplay)renderRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Map<String,ConfigurationModel> configurationModels=_configurationModelRetriever.getConfigurationModels(themeDisplay.getLanguageId());
  Map<String,Set<ConfigurationModel>> categorizedConfigurationModels=_configurationModelRetriever.categorizeConfigurationModels(configurationModels);
  List<String> configurationCategories=_configurationModelRetriever.getConfigurationCategories(categorizedConfigurationModels);
  renderRequest.setAttribute(ConfigurationAdminWebKeys.CONFIGURATION_CATEGORIES,configurationCategories);
  String configurationCategory=ParamUtil.getString(renderRequest,"configurationCategory");
  if (Validator.isNull(configurationCategory)) {
    configurationCategory=configurationCategories.get(0);
  }
  renderRequest.setAttribute(ConfigurationAdminWebKeys.CONFIGURATION_CATEGORY,configurationCategory);
  Set<ConfigurationModel> categoryConfigurationModels=categorizedConfigurationModels.get(configurationCategory);
  renderRequest.setAttribute(ConfigurationAdminWebKeys.CONFIGURATION_MODEL_ITERATOR,new ConfigurationModelIterator(categoryConfigurationModels));
  return "/view.jsp";
}
