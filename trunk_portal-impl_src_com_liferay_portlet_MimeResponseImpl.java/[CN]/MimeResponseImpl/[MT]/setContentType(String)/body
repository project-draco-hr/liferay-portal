{
  if (Validator.isNull(contentType)) {
    throw new IllegalArgumentException("Content type cannot be null");
  }
  Enumeration<String> enu=_portletRequestImpl.getResponseContentTypes();
  boolean valid=false;
  if (getLifecycle().equals(PortletRequest.RESOURCE_PHASE) || _portletRequestImpl.getWindowState().equals(LiferayWindowState.EXCLUSIVE)) {
    valid=true;
  }
 else {
    while (enu.hasMoreElements()) {
      String resContentType=enu.nextElement();
      if (contentType.startsWith(resContentType)) {
        valid=true;
        break;
      }
    }
  }
  if (!valid) {
    throw new IllegalArgumentException(contentType + " is not a supported mime type");
  }
  _contentType=contentType;
  _response.setContentType(contentType);
}
