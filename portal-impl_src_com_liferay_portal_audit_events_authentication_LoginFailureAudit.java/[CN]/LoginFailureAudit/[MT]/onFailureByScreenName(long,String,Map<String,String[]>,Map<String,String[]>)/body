{
  try {
    User user=UserLocalServiceUtil.getUserByScreenName(companyId,screenName);
    long userId=user.getUserId();
    String userName=PortalUtil.getUserName(userId,StringPool.BLANK);
    AuditMessageSenderUtil.send(LoginFailureAuditMessageBuilder.build(companyId,userId,userName,headerMap,LoginFailureAuditMessageBuilder.REASON_SCREENNAME));
  }
 catch (  Exception e) {
    throw new AuthException(e);
  }
}
