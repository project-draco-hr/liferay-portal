{
  if ((filePath == null) || Files.notExists(filePath)) {
    return true;
  }
  try {
    if (MSOfficeFileUtil.isLegacyExcelFile(filePath)) {
      Date lastSavedDate=MSOfficeFileUtil.getLastSavedDate(filePath);
      if (lastSavedDate.getTime() == GetterUtil.getLong(syncFile.getLocalExtraSettingsValue("lastSavedDate"))) {
        return false;
      }
    }
    if (syncFile.getSize() > 0) {
      long lastModifiedTime=getLastModifiedTime(filePath);
      long modifiedTime=syncFile.getModifiedTime();
      if (OSDetector.isUnix()) {
        modifiedTime=modifiedTime / 1000 * 1000;
      }
      if (((lastModifiedTime == modifiedTime) || (lastModifiedTime == syncFile.getPreviousModifiedTime())) && FileKeyUtil.hasFileKey(filePath,syncFile.getSyncFileId())) {
        return false;
      }
    }
  }
 catch (  IOException ioe) {
    if (_logger.isDebugEnabled()) {
      _logger.debug(ioe.getMessage(),ioe);
    }
  }
  try {
    if ((syncFile.getSize() > 0) && (syncFile.getSize() != Files.size(filePath))) {
      return true;
    }
  }
 catch (  IOException ioe) {
    if (_logger.isDebugEnabled()) {
      _logger.debug(ioe.getMessage(),ioe);
    }
  }
  try {
    String checksum=getChecksum(filePath);
    return !checksumsEqual(checksum,syncFile.getChecksum());
  }
 catch (  IOException ioe) {
    if (_logger.isDebugEnabled()) {
      _logger.debug(ioe.getMessage(),ioe);
    }
    return true;
  }
}
