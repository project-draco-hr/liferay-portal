{
  String className=ExportImportClassedModelUtil.getClassName(stagedModel);
  List<ExportImportContentProcessor<?,?>> exportImportContentProcessors=ExportImportContentProcessorRegistryUtil.getExportImportContentProcessors(className);
  T processedContent=null;
  for (  ExportImportContentProcessor<?,?> genericExportImportContentProcessor : exportImportContentProcessors) {
    ExportImportContentProcessor<S,T> exportImportContentProcessor=_castExportImportContentProcessor(genericExportImportContentProcessor);
    if (exportImportContentProcessor == null) {
      continue;
    }
    if (processedContent == null) {
      if (export) {
        processedContent=exportImportContentProcessor.replaceExportContentReferences(portletDataContext,stagedModel,content,exportReferencedContent,escapeContent);
      }
 else {
        processedContent=exportImportContentProcessor.replaceImportContentReferences(portletDataContext,stagedModel,content);
      }
    }
 else {
      if (export) {
        processedContent=exportImportContentProcessor.replaceExportContentReferences(portletDataContext,stagedModel,processedContent,exportReferencedContent,escapeContent);
      }
 else {
        processedContent=exportImportContentProcessor.replaceImportContentReferences(portletDataContext,stagedModel,processedContent);
      }
    }
  }
  return processedContent;
}
