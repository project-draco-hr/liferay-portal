{
  FileEntry tempFileEntry=TempFileEntryUtil.addTempFileEntry(_group.getGroupId(),_user.getUserId(),_TEMP_FOLDER_NAME,"image.jpg",_getInputStream(),ContentTypes.IMAGE_JPEG);
  BlogsEntry entry=BlogsTestUtil.addEntry(_group,true);
  List<FileEntry> tempFileEntries=new ArrayList<>();
  tempFileEntries.add(tempFileEntry);
  List<BlogsEntryAttachmentFileEntryReference> blogsEntryAttachmentFileEntryReferences=_blogsEntryAttachmentFileEntryHelper.addBlogsEntryAttachmentFileEntries(_group.getGroupId(),_user.getUserId(),entry.getEntryId(),tempFileEntries);
  Assert.assertEquals(1,blogsEntryAttachmentFileEntryReferences.size());
  BlogsEntryAttachmentFileEntryReference blogsEntryAttachmentFileEntryReference=blogsEntryAttachmentFileEntryReferences.get(0);
  Assert.assertEquals(tempFileEntry.getFileEntryId(),blogsEntryAttachmentFileEntryReference.getTempBlogsEntryAttachmentFileEntryId());
  FileEntry fileEntry=blogsEntryAttachmentFileEntryReference.getBlogsEntryAttachmentFileEntry();
  Assert.assertEquals(tempFileEntry.getTitle(),fileEntry.getTitle());
  Assert.assertEquals(tempFileEntry.getMimeType(),fileEntry.getMimeType());
  Assert.assertEquals(DigesterUtil.digestBase64(tempFileEntry.getContentStream()),DigesterUtil.digestBase64(fileEntry.getContentStream()));
}
