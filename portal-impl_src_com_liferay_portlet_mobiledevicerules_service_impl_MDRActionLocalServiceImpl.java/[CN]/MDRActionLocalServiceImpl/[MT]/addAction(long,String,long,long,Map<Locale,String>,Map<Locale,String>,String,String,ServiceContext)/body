{
  User user=userLocalService.getUser(serviceContext.getUserId());
  long classNameId=PortalUtil.getClassNameId(className);
  Date now=new Date();
  long actionId=counterLocalService.increment();
  MDRAction action=mdrActionLocalService.createMDRAction(actionId);
  action.setUuid(serviceContext.getUuid());
  action.setGroupId(groupId);
  action.setCompanyId(serviceContext.getCompanyId());
  action.setCreateDate(serviceContext.getCreateDate(now));
  action.setModifiedDate(serviceContext.getModifiedDate(now));
  action.setUserId(serviceContext.getUserId());
  action.setUserName(user.getFullName());
  action.setClassNameId(classNameId);
  action.setClassPK(classPK);
  action.setRuleGroupId(ruleGroupId);
  action.setNameMap(nameMap);
  action.setDescriptionMap(descriptionMap);
  action.setType(type);
  action.setTypeSettings(typeSettings);
  return updateMDRAction(action,false);
}
