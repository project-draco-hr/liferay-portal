{
  File file=null;
  if (inputStream instanceof ByteArrayFileInputStream) {
    ByteArrayFileInputStream byteArrayFileInputStream=(ByteArrayFileInputStream)inputStream;
    file=byteArrayFileInputStream.getFile();
  }
  String tempFileName=getTempFileName(userId,fileName,tempPathName);
  if (file != null) {
    DLStoreUtil.addFile(_COMPANY_ID,_REPOSITORY_ID,tempFileName,file);
  }
 else {
    DLStoreUtil.addFile(_COMPANY_ID,_REPOSITORY_ID,tempFileName,inputStream);
  }
  return fileName;
}
