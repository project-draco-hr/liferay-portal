{
  Repository repository=PortletFileRepositoryUtil.fetchPortletRepository(groupId,PortletKeys.DOCUMENT_LIBRARY);
  if (repository == null) {
    return null;
  }
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  Folder userFolder=PortletFileRepositoryUtil.getPortletFolder(userId,repository.getRepositoryId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,String.valueOf(userId),serviceContext);
  if (userFolder == null) {
    return null;
  }
  Folder tempFolder=PortletFileRepositoryUtil.getPortletFolder(userId,repository.getRepositoryId(),userFolder.getFolderId(),tempFolderName,serviceContext);
  return tempFolder;
}
