{
  if (mimeResponse.isCommitted()) {
    return;
  }
  if (contentLength > 0) {
    if (mimeResponse instanceof ResourceResponse) {
      ResourceResponse resourceResponse=(ResourceResponse)mimeResponse;
      resourceResponse.setContentLength(contentLength);
    }
  }
  StreamUtil.transfer(is,mimeResponse.getPortletOutputStream());
}
