{
  return new DLFolderExportActionableDynamicQuery(portletDataContext){
    @Override protected void addCriteria(    DynamicQuery dynamicQuery){
      super.addCriteria(dynamicQuery);
      Property property=PropertyFactoryUtil.forName("repositoryId");
      dynamicQuery.add(property.eq(portletDataContext.getScopeGroupId()));
    }
    @Override protected StagedModelType getStagedModelType(){
      return new StagedModelType(DLFolderConstants.getClassName());
    }
    @Override protected void performAction(    Object object) throws PortalException, SystemException {
      DLFolder dlFolder=(DLFolder)object;
      if (dlFolder.isInTrash()) {
        return;
      }
      Folder folder=DLAppLocalServiceUtil.getFolder(dlFolder.getFolderId());
      StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,folder);
    }
  }
;
}
