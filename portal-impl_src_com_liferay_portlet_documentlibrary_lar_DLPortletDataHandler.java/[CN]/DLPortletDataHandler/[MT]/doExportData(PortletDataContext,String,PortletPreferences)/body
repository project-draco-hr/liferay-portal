{
  portletDataContext.addPortletPermissions(DLPermission.RESOURCE_NAME);
  Element rootElement=addExportDataRootElement(portletDataContext);
  rootElement.addAttribute("group-id",String.valueOf(portletDataContext.getScopeGroupId()));
  if (portletDataContext.getBooleanParameter(NAMESPACE,"folders")) {
    ActionableDynamicQuery folderActionableDynamicQuery=getFolderActionableDynamicQuery(portletDataContext);
    folderActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"documents")) {
    ActionableDynamicQuery fileEntryActionableDynamicQuery=getFileEntryActionableDynamicQuery(portletDataContext);
    fileEntryActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"document-types")) {
    ActionableDynamicQuery fileEntryTypeActionableDynamicQuery=getDLFileEntryTypeActionableDynamicQuery(portletDataContext);
    fileEntryTypeActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"repositories")) {
    ActionableDynamicQuery repositoryActionableDynamicQuery=getRepositoryActionableDynamicQuery(portletDataContext);
    repositoryActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"shortcuts")) {
    ActionableDynamicQuery fileShortcutActionableDynamicQuery=getDLFileShortcutActionableDynamicQuery(portletDataContext);
    fileShortcutActionableDynamicQuery.performActions();
  }
  return getExportDataRootElementString(rootElement);
}
