{
  String path=repositoryEntryElement.attributeValue("path");
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  RepositoryEntry repositoryEntry=(RepositoryEntry)portletDataContext.getZipEntryAsObject(path);
  Map<Long,Long> repositoryIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(Repository.class);
  long repositoryId=MapUtil.getLong(repositoryIds,repositoryEntry.getRepositoryId(),repositoryEntry.getRepositoryId());
  ServiceContext serviceContext=portletDataContext.createServiceContext(repositoryEntryElement,repositoryEntry,NAMESPACE);
  RepositoryEntry importedRepositoryEntry=null;
  if (portletDataContext.isDataStrategyMirror()) {
    RepositoryEntry existingRepositoryEntry=RepositoryEntryUtil.fetchByUUID_G(repositoryEntry.getUuid(),portletDataContext.getScopeGroupId());
    if (existingRepositoryEntry == null) {
      serviceContext.setUuid(repositoryEntry.getUuid());
      importedRepositoryEntry=RepositoryEntryLocalServiceUtil.addRepositoryEntry(portletDataContext.getScopeGroupId(),repositoryId,repositoryEntry.getMappedId(),serviceContext);
    }
 else {
      importedRepositoryEntry=RepositoryEntryLocalServiceUtil.updateRepositoryEntry(existingRepositoryEntry.getRepositoryEntryId(),repositoryEntry.getMappedId());
    }
  }
 else {
    importedRepositoryEntry=RepositoryEntryLocalServiceUtil.addRepositoryEntry(portletDataContext.getScopeGroupId(),repositoryId,repositoryEntry.getMappedId(),serviceContext);
  }
  Map<Long,Long> repositoryEntryIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(RepositoryEntry.class);
  repositoryEntryIds.put(repositoryEntry.getRepositoryEntryId(),importedRepositoryEntry.getRepositoryEntryId());
  portletDataContext.importClassedModel(repositoryEntry,importedRepositoryEntry,NAMESPACE);
}
