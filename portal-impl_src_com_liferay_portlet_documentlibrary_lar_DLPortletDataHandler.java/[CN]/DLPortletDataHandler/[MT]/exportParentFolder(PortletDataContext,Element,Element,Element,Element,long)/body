{
  if (folderId == DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    return;
  }
  Folder folder=DLAppLocalServiceUtil.getFolder(folderId);
  if (folder.isMountPoint()) {
    Repository repository=RepositoryUtil.findByPrimaryKey(folder.getRepositoryId());
    exportRepository(portletDataContext,repositoriesElement,repositoryEntriesElement,repository);
    return;
  }
 else   if (!folder.isDefaultRepository()) {
    return;
  }
  exportParentFolder(portletDataContext,fileEntryTypesElement,foldersElement,repositoriesElement,repositoryEntriesElement,folder.getParentFolderId());
  String path=getFolderPath(portletDataContext,folder);
  if (portletDataContext.isPathNotProcessed(path)) {
    Element folderElement=foldersElement.addElement("folder");
    exportFolderFileEntryTypes(portletDataContext,folder,fileEntryTypesElement,folderElement);
    portletDataContext.addClassedModel(folderElement,path,folder,_NAMESPACE);
  }
}
