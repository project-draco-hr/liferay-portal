{
  List users=(List)usersMap.get(emailAddress);
  if (users == null) {
    LinkedHashMap params=new LinkedHashMap();
    params.put("usersGroups",new Long(groupId));
    users=UserLocalServiceUtil.search(companyId,null,null,null,null,null,emailAddress,true,params,true,0,1,null);
    usersMap.put(emailAddress,users);
  }
  if (users.size() == 0) {
    return null;
  }
 else {
    return (User)users.get(0);
  }
}
