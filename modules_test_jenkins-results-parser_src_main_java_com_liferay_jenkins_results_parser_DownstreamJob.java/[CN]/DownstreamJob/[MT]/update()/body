{
  if (status.equals("completed") || status.equals("invalid")) {
    return;
  }
  if (status.equals("queued") || status.equals("starting")) {
    JSONObject build=getRunningBuildJSONObject();
    if (build != null) {
      number=build.getInt("number");
      status="running";
      System.out.println(getBuildMessage());
    }
 else {
      JSONObject queueItem=getQueueItemJSONObject();
      if (status.equals("started") && (queueItem != null)) {
        status="queued";
      }
 else       if (status.equals("queued") && (queueItem == null)) {
        throw new IllegalStateException("Job " + name + " disappeared from queue");
      }
    }
  }
  if (status.equals("running")) {
    JSONObject build=getCompletedBuildJSONObject();
    if (build != null) {
      result=build.getString("result");
      status="completed";
    }
  }
}
