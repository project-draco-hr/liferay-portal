{
  if (_log.isDebugEnabled()) {
    _log.debug("Transform CSS to JSON " + css);
  }
  JSONObject jsonObj=JSONFactoryUtil.createJSONObject(css);
  JSONObject portletData=JSONFactoryUtil.createJSONObject();
  jsonObj.put("portletData",portletData);
  JSONObject titles=JSONFactoryUtil.createJSONObject();
  portletData.put("titles",titles);
  Locale[] locales=LanguageUtil.getAvailableLocales();
  for (int i=0; i < locales.length; i++) {
    String languageId=LocaleUtil.toLanguageId(locales[i]);
    String title=portletSetup.getValue("portlet-setup-title-" + languageId,null);
    if (Validator.isNotNull(languageId)) {
      titles.put(languageId,title);
    }
  }
  boolean useCustomTitle=GetterUtil.getBoolean(portletSetup.getValue("portlet-setup-use-custom-title",null));
  boolean showBorders=GetterUtil.getBoolean(portletSetup.getValue("portlet-setup-show-borders",null),true);
  long linkToLayoutId=GetterUtil.getLong(portletSetup.getValue("portlet-setup-link-to-layout-id",null));
  portletData.put("useCustomTitle",useCustomTitle);
  portletData.put("showBorders",showBorders);
  portletData.put("portletLinksTarget",linkToLayoutId);
  return jsonObj;
}
