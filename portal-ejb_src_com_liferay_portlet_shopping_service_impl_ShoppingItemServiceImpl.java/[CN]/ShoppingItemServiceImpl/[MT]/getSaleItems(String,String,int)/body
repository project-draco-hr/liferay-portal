{
  List saleItems=ShoppingItemFinder.findBySale(companyId,new String[]{categoryId},numOfItems);
  if (saleItems.size() == 0) {
    List childCategories=ShoppingCategoryUtil.findByC_P(companyId,categoryId);
    if (childCategories.size() > 0) {
      String[] categoryIds=new String[childCategories.size()];
      for (int i=0; i < childCategories.size(); i++) {
        ShoppingCategory childCategory=(ShoppingCategory)childCategories.get(i);
        categoryIds[i]=childCategory.getCategoryId();
      }
      saleItems=ShoppingItemFinder.findBySale(companyId,categoryIds,numOfItems);
    }
  }
  return saleItems;
}
