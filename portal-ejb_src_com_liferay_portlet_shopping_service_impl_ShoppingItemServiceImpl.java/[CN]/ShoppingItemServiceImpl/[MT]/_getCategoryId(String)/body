{
  if (!categoryId.equals(ShoppingCategory.DEFAULT_PARENT_CATEGORY_ID)) {
    try {
      ShoppingCategory category=ShoppingCategoryUtil.findByPrimaryKey(categoryId);
      if (!category.getCompanyId().equals(getUser().getCompanyId())) {
        categoryId=ShoppingCategory.DEFAULT_PARENT_CATEGORY_ID;
      }
    }
 catch (    NoSuchCategoryException nsce) {
      categoryId=ShoppingCategory.DEFAULT_PARENT_CATEGORY_ID;
    }
  }
  return categoryId;
}
