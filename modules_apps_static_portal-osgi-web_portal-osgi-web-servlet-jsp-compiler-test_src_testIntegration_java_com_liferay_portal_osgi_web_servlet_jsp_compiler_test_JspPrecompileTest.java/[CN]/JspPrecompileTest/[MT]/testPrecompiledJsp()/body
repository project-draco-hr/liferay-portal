{
  Path jspClassPath=_workDirPath.resolve(_JSP_PATH.concat(_PRECOMPILE_JSP_CLASS));
  Files.createDirectories(jspClassPath.getParent());
  Files.createFile(jspClassPath);
  try (InputStream inputStream=PrecompileTestServlet.class.getResourceAsStream(PrecompileTestServlet.class.getSimpleName() + ".class");OutputStream outputStream=Files.newOutputStream(jspClassPath)){
    ClassReader classReader=new ClassReader(inputStream);
    ClassWriter classWriter=new ClassWriter(classReader,0);
    ClassVisitor classVisitor=new ClassVisitor(Opcodes.ASM5,classWriter){
      @Override public void visit(      int version,      int access,      String name,      String signature,      String superName,      String[] interfaces){
        name=_JSP_PATH.concat(_PRECOMPILE_JSP_CLASS.substring(0,_PRECOMPILE_JSP_CLASS.indexOf(StringPool.PERIOD)));
        super.visit(version,access,name,signature,superName,interfaces);
      }
    }
;
    classReader.accept(classVisitor,0);
    outputStream.write(classWriter.toByteArray());
  }
   try (CaptureAppender captureAppender=Log4JLoggerTestUtil.configureLog4JLogger(_JSP_COMPILER_CLASS_NAME,Level.DEBUG)){
    _doJspTest(_PRECOMPILE_JSP,"Precompiled");
    Assert.assertFalse("JSP was compiled at runtime",_containsCompilerLog(captureAppender,_PRECOMPILE_JSP));
  }
 }
