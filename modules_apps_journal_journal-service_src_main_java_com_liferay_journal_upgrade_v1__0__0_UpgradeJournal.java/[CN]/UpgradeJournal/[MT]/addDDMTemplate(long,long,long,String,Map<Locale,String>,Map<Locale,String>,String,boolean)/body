{
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  long userId=_userLocalService.getDefaultUserId(companyId);
  DDMTemplate ddmTemplate=_ddmTemplateLocalService.addTemplate(userId,groupId,PortalUtil.getClassNameId(_CLASS_NAME_DDM_STRUCTURE),ddmStructureId,PortalUtil.getClassNameId(JournalArticle.class.getName()),templateKey,nameMap,descriptionMap,DDMTemplateManager.TEMPLATE_TYPE_DISPLAY,DDMTemplateManager.TEMPLATE_MODE_CREATE,TemplateConstants.LANG_TYPE_FTL,script,cacheable,false,null,null,serviceContext);
  return ddmTemplate.getTemplateId();
}
