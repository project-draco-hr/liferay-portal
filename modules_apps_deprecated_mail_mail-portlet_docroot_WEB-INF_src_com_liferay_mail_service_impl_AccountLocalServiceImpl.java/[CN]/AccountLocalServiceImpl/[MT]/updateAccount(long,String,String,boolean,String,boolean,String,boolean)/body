{
  Account account=accountPersistence.findByPrimaryKey(accountId);
  account.setModifiedDate(new Date());
  account.setPersonalName(personalName);
  if (savePassword && Validator.isNotNull(password)) {
    account.setPasswordDecrypted(password);
  }
 else {
    account.setPassword(StringPool.BLANK);
  }
  account.setSavePassword(savePassword);
  account.setSignature(signature);
  account.setUseSignature(useSignature);
  account.setFolderPrefix(folderPrefix);
  account.setDefaultSender(defaultSender);
  accountPersistence.update(account);
  return account;
}
