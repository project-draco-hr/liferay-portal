{
  List instances=getInstances(definitionId,instanceId,workflowName,workflowVersion,gtStartDate,ltStartDate,gtEndDate,ltEndDate,hideEndedTasks,andOperator,begin,end);
  Document doc=DocumentHelper.createDocument();
  Element root=doc.addElement("result");
  for (int i=0; i < instances.size(); i++) {
    ProcessInstance instance=(ProcessInstance)instances.get(i);
    createElement(instance,root,true);
  }
  return doc.asXML();
}
