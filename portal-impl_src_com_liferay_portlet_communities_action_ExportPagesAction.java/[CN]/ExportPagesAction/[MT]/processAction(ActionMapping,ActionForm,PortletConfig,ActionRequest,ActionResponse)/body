{
  try {
    long groupId=ParamUtil.getLong(req,"groupId");
    boolean privateLayout=ParamUtil.getBoolean(req,"privateLayout");
    String fileName=ParamUtil.getString(req,"exportFileName");
    byte[] byteArray=LayoutServiceUtil.exportLayouts(groupId,privateLayout,req.getParameterMap());
    HttpServletResponse httpRes=PortalUtil.getHttpServletResponse(res);
    ServletResponseUtil.sendFile(httpRes,fileName,byteArray);
    setForward(req,ActionConstants.COMMON_NULL);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
