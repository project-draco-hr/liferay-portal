{
  int beginIndex=currentIndex + _MARKER_STYLE_OPEN.length + 1;
  int endIndex=KMPSearch.search(oldByteArray,beginIndex,_MARKER_STYLE_CLOSE,_MARKER_STYLE_CLOSE_NEXTS);
  if (endIndex == -1) {
    _log.error("Missing </style>");
    return currentIndex + 1;
  }
  int newBeginIndex=endIndex + _MARKER_STYLE_CLOSE.length;
  newBeginIndex+=countContinuousWhiteSpace(oldByteArray,newBeginIndex);
  String content=new String(oldByteArray,beginIndex,endIndex - beginIndex);
  if (Validator.isNull(content)) {
    return newBeginIndex;
  }
  content=MinifierUtil.minifyCss(content);
  if (Validator.isNull(content)) {
    return newBeginIndex;
  }
  newBytes.write(_STYLE_TYPE_CSS);
  newBytes.write(content.getBytes());
  newBytes.write(_MARKER_STYLE_CLOSE);
  return newBeginIndex;
}
