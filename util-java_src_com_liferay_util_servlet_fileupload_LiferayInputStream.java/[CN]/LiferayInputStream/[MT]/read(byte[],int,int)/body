{
  int bytesRead=super.read(b,off,len);
  if (bytesRead > 0) {
    _totalRead+=bytesRead;
  }
 else {
    _totalRead=_totalSize;
  }
  float percent=_totalRead / _totalSize;
  if (_log.isDebugEnabled()) {
    _log.debug(bytesRead + "/" + _totalRead+ "="+ percent);
  }
  _ses.setAttribute(LiferayFileUpload.PERCENT,new Float(percent));
  _cachedBytes.write(b,off,bytesRead);
  return bytesRead;
}
