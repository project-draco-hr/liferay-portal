{
  AssetEntry parentAssetEntry=SocialActivityTestUtil.addAssetEntry(_creatorUser,_group);
  SocialActivityHierarchyEntryThreadLocal.push(parentAssetEntry.getClassNameId(),parentAssetEntry.getClassPK());
  SocialActivityTestUtil.addActivity(_creatorUser,_group,_assetEntry,1);
  List<SocialActivity> activities=SocialActivityLocalServiceUtil.getGroupActivities(_group.getGroupId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  Assert.assertEquals(1,activities.size());
  SocialActivity activity=activities.get(0);
  Assert.assertEquals(parentAssetEntry.getClassNameId(),activity.getParentClassNameId());
  Assert.assertEquals(parentAssetEntry.getClassPK(),activity.getParentClassPK());
  SocialActivityTestUtil.addActivity(_creatorUser,_group,_assetEntry,SocialActivityConstants.TYPE_DELETE);
  Assert.assertEquals(1,SocialActivityLocalServiceUtil.getGroupActivitiesCount(_group.getGroupId()));
}
