{
  AddPortletProvider addPortletProvider=_serviceTrackerMap.getService(getClassName());
  if (addPortletProvider == null) {
    addPortletProvider=_serviceTrackerMap.getService(AddPortletProvider.DEFAULT);
    if (addPortletProvider == null) {
      return;
    }
  }
  addPortletProvider.setPortletPreferences(portletPreferences,portletId,getClassName(),getClassPK(),themeDisplay);
}
