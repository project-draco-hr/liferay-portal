{
  AddPortletProvider addPortletProvider=_serviceTrackerMap.getService(getClassName());
  if (addPortletProvider == null) {
    addPortletProvider=_serviceTrackerMap.getService(AddPortletProvider.ANY_CLASSNAME);
    if (addPortletProvider == null) {
      return;
    }
  }
  addPortletProvider.updatePortletPreferences(portletPreferences,portletId,getClassName(),getClassPK(),themeDisplay);
}
