{
  if (size > getMaxFileSize()) {
    throw new BlogImageSizeException();
  }
  String extension=FileUtil.getExtension(fileName);
  String[] imageExtensions=PrefsPropsUtil.getStringArray(PropsKeys.BLOGS_IMAGE_EXTENSIONS,StringPool.COMMA);
  for (  String imageExtension : imageExtensions) {
    if (StringPool.STAR.equals(imageExtension) || imageExtension.equals(StringPool.PERIOD + extension)) {
      return;
    }
  }
  throw new BlogImageNameException("Invalid image for file name " + fileName);
}
