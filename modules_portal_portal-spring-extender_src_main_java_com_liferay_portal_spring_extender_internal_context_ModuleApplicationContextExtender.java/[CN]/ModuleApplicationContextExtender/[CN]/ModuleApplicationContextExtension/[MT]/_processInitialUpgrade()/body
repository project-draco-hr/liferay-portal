{
  Dictionary<String,String> headers=_bundle.getHeaders();
  String upgradeToSchemaVersion=GetterUtil.getString(headers.get("Liferay-Require-SchemaVersion"),headers.get("Bundle-Version"));
  return UpgradeStepRegistratorTracker.register(_bundleContext,_bundle.getSymbolicName(),"0.0.0",upgradeToSchemaVersion,new UpgradeStep(){
    @Override public void upgrade(    DBProcessContext dbProcessContext){
      DBContext dbContext=dbProcessContext.getDBContext();
      DBManager dbManager=dbContext.getDBManager();
      DB db=dbManager.getDB();
      try {
        db.runSQLTemplateString(getSQLTemplateString("tables.sql"),true,true);
        db.runSQLTemplateString(getSQLTemplateString("sequences.sql"),true,true);
        db.runSQLTemplateString(getSQLTemplateString("indexes.sql"),true,true);
      }
 catch (      Exception e) {
        new UpgradeException(e);
      }
    }
  }
);
}
