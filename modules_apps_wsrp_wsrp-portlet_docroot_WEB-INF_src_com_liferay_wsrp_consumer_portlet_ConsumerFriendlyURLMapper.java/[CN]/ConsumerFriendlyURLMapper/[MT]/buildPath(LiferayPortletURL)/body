{
  StringBuilder sb=new StringBuilder();
  sb.append("/consumer");
  addPathElement(sb,liferayPortletURL.getPortletId());
  liferayPortletURL.addParameterIncludedInPath("p_p_id");
  WindowState windowState=liferayPortletURL.getWindowState();
  if (windowState != null) {
    addPathElement(sb,windowState.toString());
  }
 else {
    addPathElement(sb,null);
  }
  liferayPortletURL.addParameterIncludedInPath("p_p_state");
  PortletMode portletMode=liferayPortletURL.getPortletMode();
  if (portletMode != null) {
    addPathElement(sb,portletMode.toString());
  }
 else {
    addPathElement(sb,null);
  }
  liferayPortletURL.addParameterIncludedInPath("p_p_mode");
  addPathElement(sb,liferayPortletURL.getCacheability());
  liferayPortletURL.addParameterIncludedInPath("p_p_cacheability");
  Map<String,String[]> parameterMap=liferayPortletURL.getParameterMap();
  String[] navigationalState=parameterMap.get("wsrp-navigationalState");
  if ((navigationalState == null) || (navigationalState.length <= 0)) {
    navigationalState=new String[]{null};
  }
  addPathElement(sb,navigationalState[0]);
  liferayPortletURL.addParameterIncludedInPath("wsrp-navigationalState");
  return sb.toString();
}
