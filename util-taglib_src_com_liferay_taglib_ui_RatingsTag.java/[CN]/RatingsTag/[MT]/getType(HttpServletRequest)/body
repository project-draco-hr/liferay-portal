{
  if (Validator.isNotNull(_type)) {
    return _type;
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  Group group=themeDisplay.getSiteGroup();
  if (group.isStagingGroup()) {
    group=group.getLiveGroup();
  }
  return PortletRatingsDefinitionUtil.getRatingsType(_className,group,themeDisplay.getCompanyId(),_DEFAULT_TYPE);
}
