{
  try {
    PropsUtil.set(PropsUtil.LAST_MODIFIED_CHECK,"false");
    ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
    if (!themeDisplay.isSignedIn()) {
      return;
    }
    String requestURI=GetterUtil.getString(req.getRequestURI());
    if (!requestURI.endsWith("/portal/layout")) {
      return;
    }
    Layout layout=themeDisplay.getLayout();
    if ((layout == null) || layout.isShared()) {
      return;
    }
    Random random=new Random();
  }
 catch (  Exception e) {
    _log.error(StackTraceUtil.getStackTrace(e));
    throw new ActionException(e);
  }
}
