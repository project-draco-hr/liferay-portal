{
  String[] arguments=_buildArguments(Echo.class,"1");
  Future<?> future=ProcessUtil.execute(new ErrorStderrOutputProcessor(),arguments);
  try {
    future.get();
    Assert.fail();
  }
 catch (  ExecutionException ee) {
    Throwable throwable=ee.getCause();
    Assert.assertEquals(ProcessException.class,throwable.getClass());
    Assert.assertEquals(ErrorStderrOutputProcessor.class.getName(),throwable.getMessage());
  }
  future=ProcessUtil.execute(new ErrorStdoutOutputProcessor(),arguments);
  try {
    future.get();
    Assert.fail();
  }
 catch (  ExecutionException ee) {
    Throwable throwable=ee.getCause();
    Assert.assertEquals(ProcessException.class,throwable.getClass());
    Assert.assertEquals(ErrorStdoutOutputProcessor.class.getName(),throwable.getMessage());
  }
}
