{
  PACLPolicy previousPACLPolicy=PortalSecurityManagerThreadLocal.getPACLPolicy();
  boolean checkGetClassLoader=PortalSecurityManagerThreadLocal.isCheckGetClassLoader();
  boolean checkReadFile=PortalSecurityManagerThreadLocal.isCheckReadFile();
  try {
    PACLPolicy paclPolicy=PACLPolicyManager.getPACLPolicy(classLoader);
    PortalSecurityManagerThreadLocal.setPACLPolicy(paclPolicy);
    PortalSecurityManagerThreadLocal.setCheckGetClassLoader(false);
    PortalSecurityManagerThreadLocal.setCheckReadFile(false);
    doUpgradeDB(classLoader,buildNamespace,buildNumber,buildAutoUpgrade,previousServiceComponent,tablesSQL,sequencesSQL,indexesSQL);
  }
  finally {
    PortalSecurityManagerThreadLocal.setPACLPolicy(previousPACLPolicy);
    PortalSecurityManagerThreadLocal.setCheckGetClassLoader(checkGetClassLoader);
    PortalSecurityManagerThreadLocal.setCheckReadFile(checkReadFile);
  }
}
