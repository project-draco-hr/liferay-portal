{
  Company defaultCompany=companyPersistence.findByWebId(PropsValues.COMPANY_DEFAULT_WEB_ID);
  ShardUtil.pushCompanyService(defaultCompany.getCompanyId());
  List<ServiceComponent> serviceComponents=null;
  try {
    serviceComponents=serviceComponentPersistence.findAll();
  }
  finally {
    ShardUtil.popCompanyService();
  }
  for (  ServiceComponent serviceComponent : serviceComponents) {
    String buildNamespace=serviceComponent.getBuildNamespace();
    String tablesSQL=serviceComponent.getTablesSQL();
    String sequencesSQL=serviceComponent.getSequencesSQL();
    String indexesSQL=serviceComponent.getIndexesSQL();
    try {
      serviceComponentLocalService.upgradeDB(null,buildNamespace,0,false,null,tablesSQL,sequencesSQL,indexesSQL);
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
}
