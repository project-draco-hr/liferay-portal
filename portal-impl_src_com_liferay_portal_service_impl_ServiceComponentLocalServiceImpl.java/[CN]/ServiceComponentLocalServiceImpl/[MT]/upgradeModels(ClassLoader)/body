{
  String[] models=getModels(classLoader);
  for (int i=0; i < models.length; i++) {
    String name=models[i];
    int pos=name.lastIndexOf(".model.");
    name=name.substring(0,pos) + ".model.impl." + name.substring(pos + 7)+ "ModelImpl";
    Class<?> modelClass=Class.forName(name,true,classLoader);
    Field tableNameField=modelClass.getField("TABLE_NAME");
    Field tableColumnsField=modelClass.getField("TABLE_COLUMNS");
    Field tableSQLCreateField=modelClass.getField("TABLE_SQL_CREATE");
    Field dataSourceField=modelClass.getField("DATA_SOURCE");
    String tableName=(String)tableNameField.get(null);
    Object[][] tableColumns=(Object[][])tableColumnsField.get(null);
    String tableSQLCreate=(String)tableSQLCreateField.get(null);
    String dataSource=(String)dataSourceField.get(null);
    if (!dataSource.equals(Entity.DEFAULT_DATA_SOURCE)) {
      continue;
    }
    UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(tableName,tableColumns);
    upgradeTable.setCreateSQL(tableSQLCreate);
    upgradeTable.updateTable();
  }
}
