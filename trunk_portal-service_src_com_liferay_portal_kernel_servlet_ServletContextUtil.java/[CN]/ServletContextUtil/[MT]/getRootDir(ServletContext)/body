{
  String key=ServletContextUtil.class.getName() + ".rootDir";
  String rootDir=(String)servletContext.getAttribute(key);
  if (rootDir == null) {
    ClassLoader classLoader=(ClassLoader)servletContext.getAttribute(PortletServlet.PORTLET_CLASS_LOADER);
    if (classLoader == null) {
      classLoader=PortalClassLoaderUtil.getClassLoader();
    }
    rootDir=WebDirDetector.getRootDir(classLoader);
    servletContext.setAttribute(key,rootDir);
  }
  return rootDir;
}
