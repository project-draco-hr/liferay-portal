{
  String pathString=url.getPath();
  String servletContextName=pathString.substring(pathString.lastIndexOf('/') + 1,pathString.lastIndexOf(".war"));
  int index=servletContextName.lastIndexOf('-');
  if (index >= 0) {
    servletContextName=servletContextName.substring(0,index);
  }
  Path tempFilePath=Files.createTempFile(null,null);
  try (InputStream inputStream1=url.openStream()){
    Files.copy(inputStream1,tempFilePath,StandardCopyOption.REPLACE_EXISTING);
    try (ZipFile zipFile=new ZipFile(tempFilePath.toFile());InputStream inputStream2=zipFile.getInputStream(new ZipEntry("WEB-INF/liferay-plugin-package.properties"))){
      if (inputStream2 != null) {
        Properties properties=new Properties();
        properties.load(inputStream2);
        String configuredServletContextName=properties.getProperty("servlet-context-name");
        if (configuredServletContextName != null) {
          servletContextName=configuredServletContextName;
        }
      }
    }
   }
  finally {
    Files.delete(tempFilePath);
  }
  return servletContextName;
}
