{
  Map<String,Object> inputObjects=new HashMap<String,Object>();
  File sassTempDir=getSassTempDir(servletContext);
  inputObjects.put("content",content);
  inputObjects.put("cssRealPath",resourcePath);
  inputObjects.put("cssThemePath",getCssThemePath(request,themeDisplay,theme));
  inputObjects.put("sassCachePath",sassTempDir.getCanonicalPath());
  UnsyncByteArrayOutputStream unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
  UnsyncPrintWriter unsyncPrintWriter=UnsyncPrintWriterPool.borrow(unsyncByteArrayOutputStream);
  inputObjects.put("out",unsyncPrintWriter);
  _rubyExecutor.eval(null,inputObjects,null,_rubyScript);
  unsyncPrintWriter.flush();
  return unsyncByteArrayOutputStream.toString();
}
