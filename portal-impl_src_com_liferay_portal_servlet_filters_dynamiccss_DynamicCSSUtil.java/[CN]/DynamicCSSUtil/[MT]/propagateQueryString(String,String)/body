{
  StringBuilder sb=new StringBuilder(content.length());
  int pos=0;
  while (true) {
    int importX=content.indexOf(_CSS_IMPORT_BEGIN,pos);
    int importY=content.indexOf(_CSS_IMPORT_END,importX + _CSS_IMPORT_BEGIN.length());
    if ((importX == -1) || (importY == -1)) {
      sb.append(content.substring(pos));
      break;
    }
    Boolean hasQuotes=false;
    char quoteCharacter=CharPool.QUOTE;
    String urlStart=content.substring(pos,importY);
    Matcher urlQuotesMatcher=_urlQuotesPattern.matcher(urlStart);
    if (urlQuotesMatcher.find()) {
      if (urlStart.indexOf(CharPool.APOSTROPHE) != -1) {
        quoteCharacter=CharPool.APOSTROPHE;
      }
      urlStart=urlQuotesMatcher.replaceAll("$1");
      hasQuotes=true;
    }
    sb.append(urlStart);
    if (urlStart.indexOf(CharPool.QUESTION) == -1) {
      sb.append(CharPool.QUESTION);
    }
 else {
      sb.append(CharPool.AMPERSAND);
    }
    sb.append(queryString);
    if (hasQuotes) {
      sb.append(quoteCharacter);
    }
    sb.append(_CSS_IMPORT_END);
    pos=importY + _CSS_IMPORT_END.length();
  }
  return sb.toString();
}
