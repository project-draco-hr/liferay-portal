{
  List<CharBufferHolder> charBufferHolders=_borrowedCharBufferHoldersThreadLocal.get();
  _modifyLock.lock();
  try {
    for (    CharBufferHolder charBufferHolder : charBufferHolders) {
      if (charBufferHolder._borrowed) {
        charBufferHolder._borrowed=false;
      }
 else {
        int index=Collections.binarySearch(_charBufferHoldersPool,charBufferHolder);
        if (index < 0) {
          index=-(index + 1);
        }
        _charBufferHoldersPool.add(index,charBufferHolder);
      }
    }
  }
  finally {
    _modifyLock.unlock();
  }
  charBufferHolders.clear();
  _cleanUpDeadBuffers();
}
