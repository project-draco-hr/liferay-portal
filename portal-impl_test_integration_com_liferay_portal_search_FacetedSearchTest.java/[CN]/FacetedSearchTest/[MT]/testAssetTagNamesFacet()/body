{
  SearchContext searchContext=SearchContextTestUtil.getSearchContext(_group.getGroupId());
  searchContext.setKeywords(_TAG_NAME);
  MultiValueFacet multiValueFacet=new MultiValueFacet(searchContext);
  multiValueFacet.setFieldName(Field.ASSET_TAG_NAMES);
  multiValueFacet.setStatic(false);
  searchContext.addFacet(multiValueFacet);
  Indexer<?> indexer=FacetedSearcher.getInstance();
  Hits hits=indexer.search(searchContext);
  Assert.assertNotEquals(0,hits.getLength());
  Map<String,Facet> facets=searchContext.getFacets();
  Facet facet=facets.get(Field.ASSET_TAG_NAMES);
  FacetCollector facetCollector=facet.getFacetCollector();
  List<TermCollector> termCollectors=facetCollector.getTermCollectors();
  Assert.assertEquals(1,termCollectors.size());
  TermCollector termCollector=termCollectors.get(0);
  Assert.assertEquals(_TAG_NAME,termCollector.getTerm());
  Assert.assertEquals(1,termCollector.getFrequency());
}
