{
  if (!(templateResource instanceof CacheTemplateResource)) {
    return;
  }
  if (templateResource == null) {
    _singleVMPortalCache.put(templateId,new NullHolderTemplateResource());
    return;
  }
  CacheTemplateResource cacheTemplateResource=(CacheTemplateResource)templateResource;
  TemplateResource innerTemplateResource=cacheTemplateResource.getInnerTemplateResource();
  if (innerTemplateResource instanceof URLTemplateResource) {
    _singleVMPortalCache.put(templateId,templateResource);
    return;
  }
  _multiVMPortalCache.put(templateId,templateResource);
}
