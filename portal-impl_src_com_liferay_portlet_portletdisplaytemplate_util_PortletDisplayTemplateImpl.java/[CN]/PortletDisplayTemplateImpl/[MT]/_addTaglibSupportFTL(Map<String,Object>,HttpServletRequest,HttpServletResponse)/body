{
  ServletContext servletContext=request.getServletContext();
  GenericServlet genericServlet=new JSPSupportServlet(servletContext);
  ServletContextHashModel servletContextHashModel=new ServletContextHashModel(genericServlet,ObjectWrapper.DEFAULT_WRAPPER);
  contextObjects.put(PortletDisplayTemplateConstants.FREEMARKER_SERVLET_APPLICATION,servletContextHashModel);
  HttpRequestHashModel requestHashModel=new HttpRequestHashModel(request,response,ObjectWrapper.DEFAULT_WRAPPER);
  contextObjects.put(PortletDisplayTemplateConstants.FREEMARKER_SERVLET_REQUEST,requestHashModel);
  TemplateHashModel taglibLiferayHash=FreeMarkerTaglibFactoryUtil.createTaglibFactory(servletContext);
  contextObjects.put(PortletDisplayTemplateConstants.TAGLIB_LIFERAY_HASH,taglibLiferayHash);
}
