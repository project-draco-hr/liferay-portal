{
  TemplateHandler templateHandler=TemplateHandlerRegistryUtil.getTemplateHandler(classNameId);
  DDMTemplate defaultDDMTemplate=null;
  if (templateHandler != null) {
    defaultDDMTemplate=getPortletDisplayTemplateDDMTemplate(groupId,classNameId,DISPLAY_STYLE_PREFIX + templateHandler.getDefaultTemplateKey());
  }
  if (defaultDDMTemplate == null) {
    List<DDMTemplate> ddmTemplates=DDMTemplateLocalServiceUtil.getTemplates(groupId,classNameId);
    if (!ddmTemplates.isEmpty()) {
      defaultDDMTemplate=ddmTemplates.get(0);
    }
  }
  return defaultDDMTemplate;
}
