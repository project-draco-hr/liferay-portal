{
  ServletContext servletContext=pageContext.getServletContext();
  GenericServlet genericServlet=new JSPSupportServlet(servletContext);
  ServletContextHashModel servletContextHashModel=new ServletContextHashModel(genericServlet,ObjectWrapper.DEFAULT_WRAPPER);
  contextObjects.put(PortletDisplayTemplateConstants.FREEMARKER_SERVLET_APPLICATION,servletContextHashModel);
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  HttpServletResponse response=(HttpServletResponse)pageContext.getResponse();
  HttpRequestHashModel requestHashModel=new HttpRequestHashModel(request,response,ObjectWrapper.DEFAULT_WRAPPER);
  contextObjects.put(PortletDisplayTemplateConstants.FREEMARKER_SERVLET_REQUEST,requestHashModel);
  TemplateHashModel taglibLiferayHash=FreeMarkerTaglibFactoryUtil.createTaglibFactory(servletContext);
  contextObjects.put(PortletDisplayTemplateConstants.TAGLIB_LIFERAY_HASH,taglibLiferayHash);
}
