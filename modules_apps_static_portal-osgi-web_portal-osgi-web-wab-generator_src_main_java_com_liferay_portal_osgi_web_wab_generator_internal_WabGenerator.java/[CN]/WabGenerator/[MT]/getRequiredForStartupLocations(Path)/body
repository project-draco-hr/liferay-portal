{
  Set<String> locations=new HashSet<>();
  try (DirectoryStream<Path> directoryStream=Files.newDirectoryStream(path.toRealPath(),"*.war")){
    for (    Path warPath : directoryStream) {
      URI uri=warPath.toUri();
      try (ZipFile zipFile=new ZipFile(new File(uri));InputStream inputStream=zipFile.getInputStream(new ZipEntry("WEB-INF/liferay-plugin-package.properties"))){
        if (inputStream == null) {
          continue;
        }
        Properties properties=new Properties();
        properties.load(inputStream);
        if (!Boolean.valueOf(properties.getProperty("required-for-startup"))) {
          continue;
        }
        URL url=ArtifactURLUtil.transform(uri.toURL());
        locations.add(StringUtil.toLowerCase(url.toString()));
      }
     }
  }
   return locations;
}
