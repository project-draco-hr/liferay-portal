{
  PKUpgradeColumnImpl upgradePKColumn=new PKUpgradeColumnImpl("contactId",new Integer(Types.VARCHAR),true);
  UpgradeTable upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ContactTable.TABLE_NAME,ContactTable.TABLE_COLUMNS,upgradePKColumn);
  upgradeTable.setCreateSQL(ContactTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ContactTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  ValueMapper contactIdMapper=new DefaultPKMapper(upgradePKColumn.getValueMapper());
  AvailableMappersUtil.setContactIdMapper(contactIdMapper);
  UpgradeColumn upgradeScreenNameColumn=new TempUpgradeColumnImpl("screenName");
  UpgradeColumn upgradeContactIdColumn=new ContactIdUpgradeColumnImpl(upgradeScreenNameColumn,contactIdMapper);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(UserTable.TABLE_NAME,UserTable.TABLE_COLUMNS,upgradeScreenNameColumn,upgradeContactIdColumn);
  upgradeTable.setCreateSQL(UserTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(UserTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
}
