{
  WikiPage page=getPage(nodeId,title);
  Map<String,WikiPage> pages=new LinkedHashMap<String,WikiPage>();
  Map<String,Boolean> links=WikiCacheUtil.getOutgoingLinks(page);
  for (  String curTitle : links.keySet()) {
    Boolean exists=links.get(curTitle);
    if (exists) {
      if (!pages.containsKey(curTitle)) {
        pages.put(curTitle,getPage(nodeId,curTitle));
      }
    }
 else {
      WikiPageImpl newPage=new WikiPageImpl();
      newPage.setNew(true);
      newPage.setNodeId(nodeId);
      newPage.setTitle(curTitle);
      if (!pages.containsKey(curTitle)) {
        pages.put(curTitle,newPage);
      }
    }
  }
  return ListUtil.fromCollection(pages.values());
}
