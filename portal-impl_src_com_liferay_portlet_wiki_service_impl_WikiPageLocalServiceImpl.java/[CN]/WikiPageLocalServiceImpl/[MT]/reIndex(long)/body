{
  if (SearchEngineUtil.isIndexReadOnly()) {
    return;
  }
  WikiPage page=null;
  try {
    page=wikiPageFinder.findByResourcePrimKey(resourcePrimKey);
  }
 catch (  NoSuchPageException nspe) {
    return;
  }
  WikiNode node=wikiNodePersistence.fetchByPrimaryKey(page.getNodeId());
  long companyId=node.getCompanyId();
  long groupId=node.getGroupId();
  long nodeId=node.getNodeId();
  String title=page.getTitle();
  String content=page.getContent();
  Date modifiedDate=page.getModifiedDate();
  String[] tagsCategories=tagsEntryLocalService.getEntryNames(WikiPage.class.getName(),resourcePrimKey,TagsEntryConstants.FOLKSONOMY_CATEGORY);
  String[] tagsEntries=tagsEntryLocalService.getEntryNames(WikiPage.class.getName(),resourcePrimKey);
  try {
    if (Validator.isNull(page.getRedirectTitle())) {
      Indexer.updatePage(companyId,groupId,resourcePrimKey,nodeId,title,content,modifiedDate,tagsCategories,tagsEntries,page.getExpandoBridge());
    }
  }
 catch (  SearchException se) {
    _log.error("Reindexing " + page.getPrimaryKey(),se);
  }
}
