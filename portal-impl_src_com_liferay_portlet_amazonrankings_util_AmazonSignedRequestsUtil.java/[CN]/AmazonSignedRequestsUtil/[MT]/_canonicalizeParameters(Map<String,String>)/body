{
  if (parameters.isEmpty()) {
    return StringPool.EMPTY;
  }
  StringBundler sb=new StringBundler();
  parameters=new TreeMap<String,String>(parameters);
  Set<Map.Entry<String,String>> parametersSet=parameters.entrySet();
  Iterator<Map.Entry<String,String>> itr=parametersSet.iterator();
  while (itr.hasNext()) {
    Map.Entry<String,String> parameter=itr.next();
    sb.append(_rfc3986Encode(parameter.getKey()));
    sb.append(StringPool.EQUALS);
    sb.append(_rfc3986Encode(parameter.getValue()));
    if (itr.hasNext()) {
      sb.append(StringPool.AMPERSAND);
    }
  }
  return sb.toString();
}
