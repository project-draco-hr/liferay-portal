{
  if (parameters.isEmpty()) {
    return StringPool.EMPTY;
  }
  parameters=new TreeMap<String,String>(parameters);
  Set<Map.Entry<String,String>> parametersSet=parameters.entrySet();
  StringBundler sb=new StringBundler(parametersSet.size() * 4);
  for (  Map.Entry<String,String> parameter : parametersSet) {
    sb.append(_rfc3986Encode(parameter.getKey()));
    sb.append(StringPool.EQUALS);
    sb.append(_rfc3986Encode(parameter.getValue()));
    sb.append(StringPool.AMPERSAND);
  }
  sb.setIndex(sb.index() - 1);
  return sb.toString();
}
