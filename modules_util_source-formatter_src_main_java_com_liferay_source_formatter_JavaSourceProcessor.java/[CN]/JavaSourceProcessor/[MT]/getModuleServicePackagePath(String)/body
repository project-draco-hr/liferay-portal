{
  String serviceDirLocation=fileName;
  while (true) {
    int pos=serviceDirLocation.lastIndexOf(StringPool.SLASH);
    if (pos == -1) {
      return null;
    }
    serviceDirLocation=serviceDirLocation.substring(0,pos + 1);
    File file=new File(serviceDirLocation + "service");
    if (file.exists()) {
      serviceDirLocation=serviceDirLocation + "service";
      break;
    }
    file=new File(serviceDirLocation + "liferay");
    if (file.exists()) {
      return null;
    }
    serviceDirLocation=StringUtil.replaceLast(serviceDirLocation,StringPool.SLASH,StringPool.BLANK);
  }
  serviceDirLocation=StringUtil.replace(serviceDirLocation,StringPool.SLASH,StringPool.PERIOD);
  int pos=serviceDirLocation.lastIndexOf(".com.");
  return serviceDirLocation.substring(pos + 1);
}
