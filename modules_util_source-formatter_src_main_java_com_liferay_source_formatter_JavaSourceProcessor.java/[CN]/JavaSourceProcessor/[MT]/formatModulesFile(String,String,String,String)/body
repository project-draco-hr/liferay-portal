{
  if (fileName.endsWith("Test.java")) {
    if (absolutePath.contains("/src/testIntegration/java/") || absolutePath.contains("/test/integration/")) {
      if (content.contains("@RunWith(Arquillian.class)") && content.contains("import org.powermock.")) {
        processErrorMessage(fileName,"Do not use PowerMock inside Arquillian tests: " + fileName);
      }
      if (!packagePath.endsWith(".test")) {
        processErrorMessage(fileName,"Module integration test must be under a test " + "subpackage" + fileName);
      }
    }
 else     if ((absolutePath.contains("/test/unit/") || absolutePath.contains("/src/test/java/")) && packagePath.endsWith(".test")) {
      processErrorMessage(fileName,"Module unit test should not be under a test subpackage" + fileName);
    }
  }
  if (content.contains("ProxyFactory.newServiceTrackedInstance(")) {
    processErrorMessage(fileName,"Do not use ProxyFactory.newServiceTrackedInstance in " + "modules: " + fileName);
  }
  if (content.contains("@Component")) {
    content=formatOSGIComponents(fileName,absolutePath,content);
  }
  if (!absolutePath.contains("/modules/core/") && !absolutePath.contains("/test/") && !absolutePath.contains("/testIntegration/")&& content.contains("import com.liferay.registry.Registry")) {
    processErrorMessage(fileName,"Do not use Registry in modules: " + fileName);
  }
  if (!absolutePath.contains("/test/") && content.contains("@Meta.OCD") && !content.contains("@ConfigurationAdmin")) {
    processErrorMessage(fileName,"Specify category using @ConfigurationAdmin: " + fileName);
  }
  return content;
}
