{
  if (fileName.endsWith("Test.java")) {
    if (absolutePath.contains("/src/testIntegration/java/") || absolutePath.contains("/test/integration/")) {
      if (content.contains("@RunWith(Arquillian.class)") && content.contains("import org.powermock.")) {
        processMessage(fileName,"Do not use PowerMock inside Arquillian tests");
      }
      if (!packagePath.endsWith(".test")) {
        processMessage(fileName,"Module integration test must be under a test " + "subpackage");
      }
    }
 else     if ((absolutePath.contains("/test/unit/") || absolutePath.contains("/src/test/java/")) && packagePath.endsWith(".test")) {
      processMessage(fileName,"Module unit test should not be under a test subpackage");
    }
  }
  if (content.contains("ProxyFactory.newServiceTrackedInstance(")) {
    processMessage(fileName,"Do not use ProxyFactory.newServiceTrackedInstance in modules");
  }
  if (content.contains("@Component")) {
    content=formatOSGIComponents(fileName,absolutePath,content,className,packagePath);
  }
  if (!absolutePath.contains("/modules/core/jaxws-osgi-bridge") && !absolutePath.contains("/modules/core/portal-bootstrap") && !absolutePath.contains("/modules/core/registry-")&& (_checkRegistryInTestClasses || (!absolutePath.contains("/test/") && !absolutePath.contains("/testIntegration/")))) {
    Matcher matcher=_registryImportPattern.matcher(content);
    if (matcher.find()) {
      processMessage(fileName,"Do not use com.liferay.registry classes in modules");
    }
  }
  if (!absolutePath.contains("/test/") && content.contains("@Meta.OCD") && !content.contains("@ExtendedObjectClassDefinition")) {
    processMessage(fileName,"Specify category using @ExtendedObjectClassDefinition");
  }
  if (content.contains("import com.liferay.util.dao.orm.CustomSQLUtil")) {
    processMessage(fileName,"Do not use com.liferay.util.dao.orm.CustomSQLUtil in modules");
  }
  if (content.contains("import com.liferay.util.ContentUtil")) {
    processMessage(fileName,"Do not use com.liferay.util.ContentUtil in modules");
  }
  return content;
}
