{
  if (expressionString == null) {
    _variables=Collections.emptyList();
    _constants=Collections.emptyList();
    return;
  }
  _variables=new ArrayList<>();
  _constants=new ArrayList<>();
  com.udojava.evalex.Expression expression=new com.udojava.evalex.Expression(expressionString);
  Iterator<String> tokenIterator=expression.getExpressionTokenizer();
  while (tokenIterator.hasNext()) {
    String token=tokenIterator.next();
    Matcher tokenMatcher=_operatorsPattern.matcher(token);
    if (!tokenMatcher.matches() && !isFunction(token)) {
      Matcher variableMatcher=_variablePattern.matcher(token);
      if (variableMatcher.matches()) {
        _variables.add(token);
      }
 else {
        _constants.add(token);
      }
    }
  }
}
