{
  CachePortlet cachePortlet=null;
  try {
    if (portletInstance == null) {
      portletInstance=(javax.portlet.Portlet)Class.forName(portlet.getPortletClass()).newInstance();
    }
    cachePortlet=new CachePortlet(portletInstance,portletConfig.getPortletContext(),portlet.isPrivateRequestAttributes(),portlet.getExpCache());
    cachePortlet.init(portletConfig);
  }
 catch (  ClassNotFoundException cnofe) {
    throw new UnavailableException(cnofe.getMessage());
  }
catch (  InstantiationException ie) {
    throw new UnavailableException(ie.getMessage());
  }
catch (  IllegalAccessException iae) {
    throw new UnavailableException(iae.getMessage());
  }
  return cachePortlet;
}
