{
  Map<String,Object> context=getContext();
  context.put("elementsStack",new FreeMarkerStack());
  context.put("forParameterStack",new FreeMarkerStack());
  context.put("ifTypeStack",new FreeMarkerStack());
  context.put("macroNameStack",new FreeMarkerStack());
  context.put("macroName",macroName);
  context.put("variableContextStack",new FreeMarkerStack());
  String content=processTemplate("macro.ftl",context);
  seleniumBuilderFileUtil.writeFile(seleniumBuilderContext.getMacroJavaFileName(macroName),content,true);
}
