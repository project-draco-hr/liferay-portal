{
  String serializedDDMForm=ParamUtil.getString(request,"serializedDDMForm");
  String serializedDDMFormValues=ParamUtil.getString(request,"serializedDDMFormValues");
  String languageId=ParamUtil.getString(request,"languageId");
  DDMFormEvaluationResult ddmFormEvaluationResult=doEvaluate(serializedDDMForm,serializedDDMFormValues,languageId);
  if (ddmFormEvaluationResult == null) {
    response.sendError(HttpServletResponse.SC_BAD_REQUEST);
    return;
  }
  JSONSerializer jsonSerializer=_jsonFactory.createJSONSerializer();
  response.setContentType(ContentTypes.APPLICATION_JSON);
  response.setStatus(HttpServletResponse.SC_OK);
  ServletResponseUtil.write(response,jsonSerializer.serializeDeep(ddmFormEvaluationResult));
}
