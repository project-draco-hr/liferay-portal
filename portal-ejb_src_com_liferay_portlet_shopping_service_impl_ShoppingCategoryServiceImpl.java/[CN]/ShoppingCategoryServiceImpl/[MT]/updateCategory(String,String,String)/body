{
  parentCategoryId=_getParentCategoryId(parentCategoryId);
  _validate(name);
  if (!hasAdmin(categoryId)) {
    throw new PrincipalException();
  }
  ShoppingCategory category=ShoppingCategoryUtil.findByPrimaryKey(categoryId);
  category.setModifiedDate(new Date());
  category.setParentCategoryId(parentCategoryId);
  category.setName(name);
  ShoppingCategoryUtil.update(category);
  return category;
}
