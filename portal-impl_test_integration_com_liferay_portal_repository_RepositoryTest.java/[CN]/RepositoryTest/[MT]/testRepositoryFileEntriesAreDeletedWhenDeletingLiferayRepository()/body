{
  long[] fileEntryIds=new long[4];
  long[] primaryKeys=populateRepository(_group.getGroupId());
  fileEntryIds[0]=primaryKeys[0];
  fileEntryIds[1]=primaryKeys[2];
  long[] folderIds=new long[2];
  folderIds[0]=primaryKeys[1];
  Repository repository=RepositoryLocalServiceUtil.addRepository(TestPropsValues.getUserId(),_group.getGroupId(),PortalUtil.getClassNameId(LiferayRepository.class),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,RandomTestUtil.randomString(),RandomTestUtil.randomString(),PortletKeys.DOCUMENT_LIBRARY,new UnicodeProperties(),true,new ServiceContext());
  primaryKeys=populateRepository(repository.getRepositoryId());
  fileEntryIds[2]=primaryKeys[0];
  fileEntryIds[3]=primaryKeys[2];
  folderIds[1]=primaryKeys[1];
  DLAppLocalServiceUtil.deleteAll(_group.getGroupId());
  try {
    LocalRepository localRepository=RepositoryServiceUtil.getLocalRepositoryImpl(_group.getGroupId());
    localRepository.getFileEntry(fileEntryIds[0]);
    localRepository.getFileEntry(fileEntryIds[1]);
    Assert.fail("Should not be able to get file entry from repository " + _group.getGroupId());
  }
 catch (  Exception e) {
  }
  try {
    LocalRepository localRepository=RepositoryServiceUtil.getLocalRepositoryImpl(repository.getRepositoryId());
    localRepository.getFileEntry(fileEntryIds[2]);
    localRepository.getFileEntry(fileEntryIds[3]);
  }
 catch (  Exception e) {
    Assert.fail("Should not be able to get file entry from repository " + repository.getRepositoryId());
  }
}
