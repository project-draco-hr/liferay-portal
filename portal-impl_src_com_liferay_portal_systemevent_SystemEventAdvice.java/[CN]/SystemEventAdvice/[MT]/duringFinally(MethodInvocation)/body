{
  SystemEvent systemEvent=findAnnotation(methodInvocation);
  if (systemEvent == _nullSystemEvent) {
    return;
  }
  if (!isValid(methodInvocation,PHASE_DURING_FINALLY)) {
    return;
  }
  if (systemEvent.action() == SystemEventConstants.ACTION_NONE) {
    return;
  }
  Object[] arguments=methodInvocation.getArguments();
  ClassedModel classedModel=(ClassedModel)arguments[0];
  long classPK=getClassPK(classedModel);
  if (classPK == 0) {
    return;
  }
  SystemEventHierarchyEntryThreadLocal.pop(getClassName(classedModel),classPK);
}
