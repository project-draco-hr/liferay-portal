{
  String pollerRequestString=ParamUtil.getString(request,"pollerRequest");
  PollerResponseWriter pollerResponseWriter=new JSONPollerResponseWriter();
  SynchronousPollerRequestHandlerListener synchronousPollerRequestHandlerListener=new SynchronousPollerRequestHandlerListener();
  List<PollerRequestHandlerListener> pollerRequestHandlerListeners=new ArrayList<PollerRequestHandlerListener>(1);
  pollerRequestHandlerListeners.add(synchronousPollerRequestHandlerListener);
  PollerRequestHandler pollerRequestHandler=new PollerRequestHandler(request.getPathInfo(),pollerRequestString,pollerResponseWriter,pollerRequestHandlerListeners);
  if (!pollerRequestHandler.processRequest()) {
    return null;
  }
  synchronousPollerRequestHandlerListener.waitNotification(PropsValues.POLLER_REQUEST_TIMEOUT);
  pollerRequestHandler.shutdown();
  JSONArray jsonArray=pollerResponseWriter.getJSONArray();
  return jsonArray.toString();
}
