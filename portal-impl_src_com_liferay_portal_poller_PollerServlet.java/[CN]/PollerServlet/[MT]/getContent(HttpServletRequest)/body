{
  String pollerRequestString=ParamUtil.getString(request,"pollerRequest");
  PollerResponseWriter pollerResponseWriter=new JSONPollerResponseWriter();
  SynchronousPollerRequestHandlerListener synchronousPollerRequestListener=new SynchronousPollerRequestHandlerListener();
  List<PollerRequestHandlerListener> listeners=new ArrayList<PollerRequestHandlerListener>(1);
  listeners.add(synchronousPollerRequestListener);
  PollerRequestHandler pollerRequestHandler=new PollerRequestHandler(request.getPathInfo(),pollerRequestString,pollerResponseWriter,listeners);
  if (!pollerRequestHandler.processRequest()) {
    return null;
  }
  synchronousPollerRequestListener.waitNotification(PropsValues.POLLER_REQUEST_TIMEOUT);
  pollerRequestHandler.shutdown();
  JSONArray jsonArray=pollerResponseWriter.getJSONArray();
  return jsonArray.toString();
}
