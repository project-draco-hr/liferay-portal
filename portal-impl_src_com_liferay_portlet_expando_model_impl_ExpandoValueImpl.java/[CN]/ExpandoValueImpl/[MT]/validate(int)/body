{
  long columnId=getColumnId();
  if (columnId > 0) {
    ExpandoColumn column=ExpandoColumnLocalServiceUtil.getColumn(columnId);
    if (column.getType() != type) {
      throw new ValueDataException("Column " + columnId + " has type "+ ExpandoColumnConstants.getTypeLabel(column.getType())+ " and is not compatible with type "+ ExpandoColumnConstants.getTypeLabel(type));
    }
  }
}
