{
  super.setAttributes(request);
  Object bean=getBean();
  if (bean == null) {
    bean=pageContext.getAttribute("aui:model-context:bean");
  }
  String name=getName();
  int pos=name.indexOf(StringPool.DOUBLE_DASH);
  if (pos != -1) {
    name=name.substring(pos + 2,name.length() - 2);
  }
  String id=getId();
  if (Validator.isNull(id)) {
    id=AUIUtil.normalizeId(name);
  }
  String label=getLabel();
  if (label == null) {
    label=TextFormatter.format(name,TextFormatter.P);
  }
  String listType=getListType();
  String listTypeFieldName=getListTypeFieldName();
  if (Validator.isNotNull(listType) && Validator.isNull(listTypeFieldName)) {
    listTypeFieldName="typeId";
  }
  String title=getTitle();
  if ((title == null) && Validator.isNull(label)) {
    title=TextFormatter.format(name,TextFormatter.P);
  }
  String value=String.valueOf(getValue());
  if (Validator.isNull(listType)) {
    if (bean != null) {
      value=BeanPropertiesUtil.getStringSilent(bean,name,value);
    }
    if (!getIgnoreRequestValue()) {
      value=ParamUtil.getString(request,name,value);
    }
  }
  setNamespacedAttribute(request,"bean",bean);
  setNamespacedAttribute(request,"id",id);
  setNamespacedAttribute(request,"label",label);
  setNamespacedAttribute(request,"listTypeFieldName",listTypeFieldName);
  setNamespacedAttribute(request,"title",String.valueOf(title));
  setNamespacedAttribute(request,"value",value);
  Map<String,ValidatorTag> validatorTags=getValidatorTags();
  if ((validatorTags != null) && (validatorTags.get("required") != null)) {
    setNamespacedAttribute(request,"required",Boolean.TRUE.toString());
  }
}
