{
  boolean update=false;
  Locale defaultLocale=LocaleUtil.fromLanguageId(UpgradeProcessUtil.getDefaultLanguageId(companyId));
  String defaultValue=LanguageUtil.get(defaultLocale,nameLanguageKey);
  Map<Locale,String> nameMap=LocalizationUtil.getLocalizationMap(nameXML);
  Map<Locale,String> descriptionMap=LocalizationUtil.getLocalizationMap(descriptionXML);
  for (  Locale locale : LanguageUtil.getSupportedLocales()) {
    String value=LanguageUtil.get(locale,nameLanguageKey);
    if (!locale.equals(defaultLocale) && value.equals(defaultValue)) {
      continue;
    }
    String description=descriptionMap.get(locale);
    if (description == null) {
      descriptionMap.put(locale,value);
      update=true;
    }
    String name=nameMap.get(locale);
    if (name == null) {
      nameMap.put(locale,value);
      update=true;
    }
  }
  if (update) {
    upgradeDLFileEntryType(dlFileEntryTypeId,nameXML,descriptionXML,nameMap,descriptionMap,defaultLocale);
  }
}
