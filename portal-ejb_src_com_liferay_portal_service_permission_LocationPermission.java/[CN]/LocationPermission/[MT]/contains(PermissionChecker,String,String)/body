{
  PermissionCheckerImpl permissionCheckerImpl=(PermissionCheckerImpl)permissionChecker;
  if (permissionChecker.hasPermission(null,"com.liferay.portal.model.Location",locationId,actionId)) {
    return true;
  }
 else   if (actionId.equals(ActionKeys.VIEW)) {
    User user=permissionCheckerImpl.getUser();
    Organization location=user.getLocation();
    if (locationId.equals(location.getOrganizationId())) {
      return true;
    }
 else {
      return false;
    }
  }
 else   if (actionId.endsWith("_USER")) {
    Organization location=OrganizationLocalServiceUtil.getOrganization(locationId);
    String parentOrganizationId=location.getParentOrganizationId();
    if (permissionChecker.hasPermission(null,Organization.class.getName(),parentOrganizationId,actionId)) {
      return true;
    }
 else {
      return false;
    }
  }
 else {
    return false;
  }
}
