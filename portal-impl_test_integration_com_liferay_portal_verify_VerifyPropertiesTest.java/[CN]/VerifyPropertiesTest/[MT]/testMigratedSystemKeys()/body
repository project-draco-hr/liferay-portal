{
  String[][] originalMigratedSystemKeys=ReflectionTestUtil.getFieldValue(VerifyProperties.class,"_MIGRATED_SYSTEM_KEYS");
  String migratedSystemKey=getFirstExistSystemPropertyName();
  ReflectionTestUtil.setFieldValue(VerifyProperties.class,"_MIGRATED_SYSTEM_KEYS",new String[][]{new String[]{migratedSystemKey,migratedSystemKey}});
  try (CaptureAppender captureAppender=Log4JLoggerTestUtil.configureLog4JLogger(VerifyProperties.class.getName(),Level.ERROR)){
    doVerify();
    List<LoggingEvent> loggingEvents=captureAppender.getLoggingEvents();
    Assert.assertEquals(1,loggingEvents.size());
    LoggingEvent loggingEvent=loggingEvents.get(0);
    Assert.assertEquals("System property \"" + migratedSystemKey + "\" was migrated to the "+ "portal property \""+ migratedSystemKey+ "\"",loggingEvent.getMessage());
  }
  finally {
    ReflectionTestUtil.setFieldValue(VerifyProperties.class,"_MIGRATED_SYSTEM_KEYS",originalMigratedSystemKeys);
  }
}
