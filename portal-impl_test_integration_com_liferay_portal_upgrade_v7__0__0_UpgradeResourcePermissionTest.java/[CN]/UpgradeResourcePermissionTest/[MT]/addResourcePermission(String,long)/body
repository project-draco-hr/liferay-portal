{
  ResourcePermission resourcePermission=new ResourcePermissionImpl();
  long resourcePermissionId=CounterLocalServiceUtil.increment(ResourcePermission.class.getName());
  resourcePermission.setResourcePermissionId(resourcePermissionId);
  resourcePermission.setCompanyId(_user.getCompanyId());
  resourcePermission.setName("com.liferay.rocks");
  resourcePermission.setScope(ResourceConstants.SCOPE_INDIVIDUAL);
  resourcePermission.setPrimKey(primKey);
  resourcePermission.setPrimKeyId(-1L);
  resourcePermission.setOwnerId(_user.getUserId());
  resourcePermission.setActionIds(actionIds);
  resourcePermission.setViewActionId(actionIds % 2 != 1);
  resourcePermission=ResourcePermissionLocalServiceUtil.addResourcePermission(resourcePermission);
  _resourcePermissionIds.add(resourcePermission.getResourcePermissionId());
  return resourcePermission.getResourcePermissionId();
}
