{
  if (model instanceof BaseModelExtension) {
    return model;
  }
 else {
    BaseModelExtension extension=getBaseModelExtension().extend(model);
    if (_log.isDebugEnabled()) {
      StringBuilder sb=new StringBuilder();
      sb.append("Extending ");
      sb.append(model.getClass().getName());
      sb.append(" to ");
      sb.append(extension.getClass().getName());
      _log.debug(sb.toString());
    }
    return extension;
  }
}
