{
  String imports=JavaImportsFormatter.getImports(content);
  if (Validator.isNull(imports)) {
    return content;
  }
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(imports));
  String line=null;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    int x=line.indexOf("import ");
    if (x == -1) {
      continue;
    }
    String importPackageAndClassName=line.substring(x + 7,line.lastIndexOf(StringPool.SEMICOLON));
    for (x=-1; ; ) {
      x=content.indexOf(importPackageAndClassName,x + 1);
      if (x == -1) {
        break;
      }
      String[] lines=StringUtil.splitLines(content.substring(x));
      if (lines.length > 0) {
        int quotes=StringUtil.count(lines[0],"\"");
        if ((quotes % 2) != 0) {
          continue;
        }
      }
      char nextChar=content.charAt(x + importPackageAndClassName.length());
      char previousChar=content.charAt(x - 1);
      if (Character.isAlphabetic(nextChar) || Character.isDigit(nextChar) || (nextChar == CharPool.PERIOD)|| (nextChar == CharPool.QUOTE)|| (nextChar == CharPool.SEMICOLON)|| (nextChar == CharPool.UNDERLINE)|| (previousChar == CharPool.QUOTE)) {
        continue;
      }
      String importClassName=importPackageAndClassName.substring(importPackageAndClassName.lastIndexOf(StringPool.PERIOD) + 1);
      content=StringUtil.replaceFirst(content,importPackageAndClassName,importClassName,x);
    }
  }
  return content;
}
