{
  PortletURL portletURL=PortalUtil.getControlPanelPortletURL(portletRequest,WikiPortletKeys.WIKI_ADMIN,PortletRequest.ACTION_PHASE);
  portletURL.setParameter(ActionRequest.ACTION_NAME,"/wiki/edit_page");
  portletURL.setParameter(Constants.CMD,Constants.DELETE);
  if (!_page.isDraft() && isTrashEnabled(themeDisplay.getScopeGroupId())) {
    portletURL.setParameter(Constants.CMD,Constants.MOVE_TO_TRASH);
  }
 else {
    portletURL.setParameter("version",String.valueOf(_page.getVersion()));
  }
  PortletURL viewPagesURL=PortalUtil.getControlPanelPortletURL(portletRequest,WikiPortletKeys.WIKI_ADMIN,PortletRequest.ACTION_PHASE);
  viewPagesURL.setParameter("mvcRenderCommandName","/wiki/view_pages");
  viewPagesURL.setParameter("navigation","all-pages");
  viewPagesURL.setParameter("nodeId",String.valueOf(_node.getNodeId()));
  portletURL.setParameter("redirect",viewPagesURL.toString());
  portletURL.setParameter("nodeId",String.valueOf(_node.getNodeId()));
  portletURL.setParameter("title",_page.getTitle());
  return portletURL.toString();
}
