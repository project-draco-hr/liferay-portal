{
  Serializable payload=clusterRequest.getPayload();
  if (!(payload instanceof MethodHandler)) {
    return ClusterNodeResponse.createExceptionClusterNodeResponse(_localClusterNodeStatus.getClusterNode(),clusterRequest.getUuid(),new ClusterException("Payload is not of type " + MethodHandler.class.getName()));
  }
  MethodHandler methodHandler=(MethodHandler)payload;
  ClusterInvokeThreadLocal.setEnabled(false);
  try {
    Object result=methodHandler.invoke();
    if (result instanceof Serializable) {
      return ClusterNodeResponse.createResultClusterNodeResponse(_localClusterNodeStatus.getClusterNode(),clusterRequest.getUuid(),(Serializable)result);
    }
    if (result == null) {
      return ClusterNodeResponse.createResultClusterNodeResponse(_localClusterNodeStatus.getClusterNode(),clusterRequest.getUuid(),null);
    }
    return ClusterNodeResponse.createResultClusterNodeResponse(_localClusterNodeStatus.getClusterNode(),clusterRequest.getUuid(),new ClusterException("Return value is not serializable"));
  }
 catch (  Exception e) {
    return ClusterNodeResponse.createExceptionClusterNodeResponse(_localClusterNodeStatus.getClusterNode(),clusterRequest.getUuid(),e);
  }
 finally {
    ClusterInvokeThreadLocal.setEnabled(true);
  }
}
