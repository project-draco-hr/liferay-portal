{
  User user=UserLocalServiceUtil.fetchUser(auditedModel.getUserId());
  if (user != null) {
    return user.getUserId();
  }
  User defaultUser=UserLocalServiceUtil.getDefaultUser(auditedModel.getCompanyId());
  if (_log.isWarnEnabled()) {
    _log.warn("Using default user " + defaultUser.getUserId() + " for audited model "+ auditedModel.getModelClassName()+ " with primary key "+ auditedModel.getPrimaryKeyObj());
  }
  return defaultUser.getUserId();
}
