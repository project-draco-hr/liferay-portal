{
  if (!hasFileUploadFields(ddmStructure)) {
    return;
  }
  List<DDMStructureLink> ddmStructureLinks=DDMStructureLinkLocalServiceUtil.getStructureLinks(ddmStructure.getStructureId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  DDMStructureLink ddmStructureLink : ddmStructureLinks) {
    updateFileUploadReferences(ddmStructureLink);
  }
  String xsd=updateFileUploadReferences(ddmStructure.getXsd());
  updateDDMStructure(ddmStructure,xsd);
  List<DDMTemplate> ddmTemplates=getFormDDMTemplates(ddmStructure);
  for (  DDMTemplate ddmTemplate : ddmTemplates) {
    String script=updateFileUploadReferences(ddmTemplate.getScript());
    updateDDMTemplate(ddmTemplate,script);
  }
}
