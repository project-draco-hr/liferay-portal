{
  Map<String,String> fieldValues=new HashMap<String,String>();
  Fields fields=StorageEngineUtil.getFields(storageId);
  Iterator<Field> itr=fields.iterator();
  while (itr.hasNext()) {
    Field field=itr.next();
    String dataType=field.getDataType();
    if (!dataType.equals(FieldConstants.FILE_UPLOAD) || (field.getValue() == null)) {
      continue;
    }
    String valueString=String.valueOf(field.getValue());
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject(valueString);
    String filePath=getFileUploadPath(baseModel) + StringPool.SLASH + field.getName();
    FileEntry fileEntry=addFileEntry(companyId,userId,groupId,DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,jsonObject.getString("name"),filePath,status);
    fieldValues.put(field.getName(),getJSON(fileEntry));
  }
  updateFieldValues(storageId,fieldValues);
}
