{
  boolean modified=false;
  String defaultLanguageId=structure.getDefaultLanguageId();
  XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-element");
  Document document=structure.getDocument();
  List<Node> nodes=xPathSelector.selectNodes(document);
  for (  Node node : nodes) {
    Element dynamicElementElement=(Element)node;
    if (updateDynamicElement(dynamicElementElement)) {
      modified=true;
    }
    if (createDefaultMetadataElement(dynamicElementElement,defaultLanguageId)) {
      modified=true;
    }
  }
  if (modified) {
    updateStructure(structure,document.asXML());
  }
}
