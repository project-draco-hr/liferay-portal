{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  if (layout.isTypeControlPanel()) {
    return false;
  }
  if (!hasUpdateLayoutPermission(themeDisplay)) {
    return false;
  }
  List<PanelApp> panelApps=_panelAppRegistry.getPanelApps(SimulationPanelCategory.SIMULATION,themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroup());
  if (panelApps.isEmpty()) {
    return false;
  }
  return super.hasAccessPermission(request);
}
