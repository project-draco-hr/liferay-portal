{
  long equityUserId=rs.getLong("equityUserId");
  long groupId=rs.getLong("groupId");
  double equityValue=rs.getDouble("equityValue");
  int status=rs.getInt("status");
  if (status != WorkflowConstants.STATUS_APPROVED) {
    _updateRanksSetter.add(equityUserId,0);
  }
 else {
    if (groupId == _groupId) {
      if (equityValue == _equityValue) {
        _ties++;
      }
 else {
        _equityValue=equityValue;
        _rank=_rank + _ties + 1;
        _ties=0;
      }
    }
 else {
      _groupId=groupId;
      _rank=1;
      _ties=0;
    }
    _updateRanksSetter.add(equityUserId,_rank);
  }
}
