{
  if (equitySetting.getDailyLimit() < 0) {
    return false;
  }
  int count=0;
  int actionDate=getEquityDate();
  String actionId=equitySetting.getActionId();
  int actionType=equitySetting.getType();
  if (socialEquityLogPersistence.countByU_AEI_AD_AI_A_T(userId,assetEntryId,actionDate,actionId,true,actionType) > 0) {
    return false;
  }
  if (equitySetting.isUniqueEntry()) {
    if (actionType == SocialEquitySettingConstants.TYPE_INFORMATION) {
      count=socialEquityLogPersistence.countByAEI_AI_A_T(assetEntryId,actionId,true,actionType);
    }
 else {
      count=socialEquityLogPersistence.countByU_AI_A_T(userId,actionId,true,actionType);
    }
    if (count > 0) {
      return false;
    }
  }
  if (equitySetting.getDailyLimit() == 0) {
    return true;
  }
  if (actionType == SocialEquitySettingConstants.TYPE_INFORMATION) {
    count=socialEquityLogPersistence.countByAEI_AD_AI_A_T(assetEntryId,actionDate,actionId,true,actionType);
  }
 else {
    count=socialEquityLogPersistence.countByU_AD_AI_A_T(userId,actionDate,actionId,true,actionType);
  }
  return count < equitySetting.getDailyLimit();
}
