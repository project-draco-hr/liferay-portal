{
  List<SocialEquityLog> equityLogs=socialEquityLogPersistence.findByU_AEI_A_A(userId,assetEntryId,actionId,true);
  if (!equityLogs.isEmpty()) {
    return;
  }
  User user=userPersistence.findByPrimaryKey(userId);
  AssetEntry assetEntry=assetEntryPersistence.findByPrimaryKey(assetEntryId);
  User assetEntryUser=null;
  try {
    assetEntryUser=userPersistence.findByPrimaryKey(assetEntry.getUserId());
  }
 catch (  NoSuchUserException nsue) {
    assetEntryUser=user;
  }
  List<SocialEquitySetting> equitySettings=socialEquitySettingLocalService.getEquitySettings(assetEntry.getClassNameId(),actionId);
  for (  SocialEquitySetting equitySetting : equitySettings) {
    addEquityLog(user,assetEntry,assetEntryUser,equitySetting);
  }
}
