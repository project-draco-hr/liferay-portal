{
  InjectionMetadata metadata=_injectionMetadataCache.get(clazz);
  if (metadata == null) {
synchronized (_injectionMetadataCache) {
      metadata=_injectionMetadataCache.get(clazz);
      if (metadata == null) {
        metadata=new InjectionMetadata(clazz);
        BeanReferenceCallback callback=new BeanReferenceCallback(metadata,clazz);
        ReflectionUtils.doWithFields(clazz,callback);
        ReflectionUtils.doWithMethods(clazz,callback);
        _injectionMetadataCache.put(clazz,metadata);
      }
    }
  }
  return metadata;
}
