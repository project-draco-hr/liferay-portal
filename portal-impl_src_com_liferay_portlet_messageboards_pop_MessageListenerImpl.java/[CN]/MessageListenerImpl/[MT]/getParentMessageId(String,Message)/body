{
  int pos=recipient.indexOf(CharPool.AT);
  String target=recipient.substring(MBUtil.POP_PORTLET_PREFIX.length(),pos);
  String[] parts=StringUtil.split(target,StringPool.PERIOD);
  long parentMessageId=0;
  if (parts.length == 2) {
    parentMessageId=GetterUtil.getLong(parts[1]);
  }
  if (parentMessageId > 0) {
    return parentMessageId;
  }
 else {
    return MBUtil.getParentMessageId(message);
  }
}
