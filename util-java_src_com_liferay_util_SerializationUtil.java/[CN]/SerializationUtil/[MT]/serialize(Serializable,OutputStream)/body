{
  if (outputStream == null) {
    throw new IllegalArgumentException("The OutputStream must not be null");
  }
  ObjectOutputStream out=null;
  try {
    out=new ObjectOutputStream(outputStream);
    out.writeObject(obj);
  }
 catch (  IOException ex) {
    throw new RuntimeException(ex);
  }
 finally {
    StreamUtil.cleanUp(out);
  }
}
