{
  MailEnvelope me0=(MailEnvelope)arg0;
  MailEnvelope me1=(MailEnvelope)arg1;
  Long uid0=new Long(me0.getMsgUID());
  Long uid1=new Long(me1.getMsgUID());
  String subj0=_stripPrefixes(me0.getSubject());
  String subj1=_stripPrefixes(me1.getSubject());
  int comparison=0;
  if (_asc) {
    comparison=subj0.compareTo(subj1);
    if (comparison == 0) {
      comparison=DateUtil.compareTo(me0.getDate(),me1.getDate());
      if (comparison == 0) {
        comparison=uid0.compareTo(uid1);
      }
    }
  }
 else {
    comparison=subj1.compareTo(subj0);
    if (comparison == 0) {
      comparison=DateUtil.compareTo(me1.getDate(),me0.getDate());
      if (comparison == 0) {
        comparison=uid1.compareTo(uid0);
      }
    }
  }
  return comparison;
}
