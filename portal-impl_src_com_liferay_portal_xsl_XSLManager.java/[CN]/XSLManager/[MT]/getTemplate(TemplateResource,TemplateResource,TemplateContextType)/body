{
  Template template=null;
  XSLTemplateResource xslTemplateResource=(XSLTemplateResource)templateResource;
  Map<String,Object> context=_templateContextHelper.getHelperUtilities(templateContextType);
  if (templateContextType.equals(TemplateContextType.EMPTY)) {
    template=new XSLTemplate(xslTemplateResource,errorTemplateResource,null,_templateContextHelper);
  }
 else   if (templateContextType.equals(TemplateContextType.RESTRICTED)) {
    template=new RestrictedTemplate(new XSLTemplate(xslTemplateResource,errorTemplateResource,context,_templateContextHelper),_templateContextHelper.getRestrictedVariables());
  }
 else   if (templateContextType.equals(TemplateContextType.STANDARD)) {
    template=new XSLTemplate(xslTemplateResource,errorTemplateResource,context,_templateContextHelper);
  }
  return PACLTemplateWrapper.getTemplate(template);
}
