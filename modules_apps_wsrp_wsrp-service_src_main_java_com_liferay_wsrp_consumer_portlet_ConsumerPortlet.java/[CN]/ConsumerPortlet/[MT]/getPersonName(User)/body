{
  PersonName personName=new PersonName();
  personName.setFamily(user.getLastName());
  personName.setGiven(user.getFirstName());
  personName.setMiddle(user.getMiddleName());
  personName.setNickname(user.getScreenName());
  com.liferay.portal.kernel.model.Contact contact=user.getContact();
  try {
    ListType listType=ListTypeServiceUtil.getListType(contact.getPrefixId());
    personName.setPrefix(listType.getName());
  }
 catch (  Exception e) {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to retrieve name prefix",e);
    }
  }
  try {
    ListType listType=ListTypeServiceUtil.getListType(contact.getSuffixId());
    personName.setSuffix(listType.getName());
  }
 catch (  Exception e) {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to retrieve name suffix",e);
    }
  }
  return personName;
}
