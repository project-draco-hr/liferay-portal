{
  _urlPattern=pattern;
  String regex=escapeRegex(pattern);
  Matcher matcher=_fragmentPattern.matcher(pattern);
  while (matcher.find()) {
    String fragment=matcher.group();
    RoutePart routePart=new RoutePart(fragment);
    _routeParts.add(routePart);
    _urlPattern=_urlPattern.replace(fragment,routePart.getFragmentName());
    regex=regex.replace(escapeRegex(fragment),"(" + routePart.getPattern() + ")");
  }
  _regexPattern=Pattern.compile(regex);
}
