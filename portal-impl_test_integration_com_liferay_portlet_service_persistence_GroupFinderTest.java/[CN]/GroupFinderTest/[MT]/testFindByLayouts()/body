{
  List<Group> groups=doFindByLayouts(GroupConstants.DEFAULT_PARENT_GROUP_ID);
  int initialGroupCount=groups.size();
  GroupTestUtil.addGroup("rootGroup");
  Group parentGroup=GroupTestUtil.addGroup("parentGroup");
  Group childGroup1=GroupTestUtil.addGroup(parentGroup.getGroupId(),"childGroup1");
  Group childGroup2=GroupTestUtil.addGroup(parentGroup.getGroupId(),"childGroup2");
  LayoutTestUtil.addLayout(parentGroup.getGroupId(),ServiceTestUtil.randomString(),false);
  LayoutTestUtil.addLayout(childGroup1.getGroupId(),ServiceTestUtil.randomString(),false);
  LayoutTestUtil.addLayout(childGroup2.getGroupId(),ServiceTestUtil.randomString(),true);
  groups=doFindByLayouts(GroupConstants.DEFAULT_PARENT_GROUP_ID);
  Assert.assertEquals(initialGroupCount + 1,groups.size());
  groups=doFindByLayouts(parentGroup.getGroupId());
  Assert.assertEquals(2,groups.size());
  groups=doFindByLayouts(childGroup1.getGroupId());
  Assert.assertTrue(groups.isEmpty());
}
