{
  org.jgroups.Address sourceAddress=message.getSrc();
  Message content=(Message)message.getObject();
  String messageKey=(String)content.getPayload();
  if (_localAddress.getRealAddress().equals(sourceAddress)) {
    if (_localMessageCountDownLatch != null) {
      _localMessageCountDownLatch.countDown();
    }
    _receivedLocalMessages.put(messageKey,new Date());
  }
 else {
    if (_remoteMessageCountDownLatch != null) {
      _remoteMessageCountDownLatch.countDown();
    }
    _receivedRemoteMessages.put(messageKey,new Date());
  }
}
