{
  Callable<Void> callable=new Callable<Void>(){
    public Void call() throws Exception {
      ClusterLinkImpl clusterLinkImpl=_getClusterLinkImpl(2,true);
      _handleLog(ClusterLinkImpl.class,Level.FINE);
      List<JChannel> channelList=_getChannelList(clusterLinkImpl);
      assertEquals(2,channelList.size());
      JChannel channel1=channelList.get(0);
      JChannel channel2=channelList.get(1);
      assertSame(channel1,clusterLinkImpl.getChannel(Priority.LEVEL1));
      assertSame(channel1,clusterLinkImpl.getChannel(Priority.LEVEL2));
      assertSame(channel1,clusterLinkImpl.getChannel(Priority.LEVEL3));
      assertSame(channel1,clusterLinkImpl.getChannel(Priority.LEVEL4));
      assertSame(channel1,clusterLinkImpl.getChannel(Priority.LEVEL5));
      assertSame(channel2,clusterLinkImpl.getChannel(Priority.LEVEL6));
      assertSame(channel2,clusterLinkImpl.getChannel(Priority.LEVEL7));
      assertSame(channel2,clusterLinkImpl.getChannel(Priority.LEVEL8));
      assertSame(channel2,clusterLinkImpl.getChannel(Priority.LEVEL9));
      assertSame(channel2,clusterLinkImpl.getChannel(Priority.LEVEL10));
      clusterLinkImpl.destroy();
      return null;
    }
  }
;
  runInNewClassLoader((Class<? extends Callable<Void>>)callable.getClass());
}
