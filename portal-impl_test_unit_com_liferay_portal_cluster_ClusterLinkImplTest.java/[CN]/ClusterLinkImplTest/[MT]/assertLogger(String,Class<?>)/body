{
  CaptureHandler captureHandler=LoggerAdvice.getCaptureHandler();
  Assert.assertNotNull(captureHandler);
  List<LogRecord> logRecords=captureHandler.getLogRecords();
  if (message == null) {
    Assert.assertEquals(0,logRecords.size());
    return;
  }
  Assert.assertEquals(1,logRecords.size());
  LogRecord logRecord=logRecords.get(0);
  Assert.assertEquals(message,logRecord.getMessage());
  if (exceptionClass == null) {
    Assert.assertNull(logRecord.getThrown());
  }
 else {
    Assert.assertNotNull(logRecord.getThrown());
  }
  captureHandler.flush();
}
