{
  javax.servlet.ServletContext servletContext=getFilterConfig().getServletContext();
  System.out.println("## request url " + request.getRequestURL());
  System.out.println("## request uri " + request.getRequestURI());
  System.out.println("## path info " + request.getPathInfo());
  System.out.println("## real path " + servletContext.getRealPath(request.getRequestURI()));
  String completeURL=HttpUtil.getCompleteURL(request);
  if (isCompress(request) && !isInclude(request) && BrowserSnifferUtil.acceptsGzip(request)&& !isAlreadyFiltered(request)) {
    if (_log.isDebugEnabled()) {
      _log.debug("Compressing " + completeURL);
    }
    request.setAttribute(SKIP_FILTER,Boolean.TRUE);
    CompressionResponse compressionResponse=new CompressionResponse(response);
    processFilter(CompressionFilter.class,request,compressionResponse,filterChain);
    compressionResponse.finishResponse();
  }
 else {
    if (_log.isDebugEnabled()) {
      _log.debug("Not compressing " + completeURL);
    }
    processFilter(CompressionFilter.class,request,response,filterChain);
  }
}
