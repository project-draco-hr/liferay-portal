{
  String sql="select groupId, typeSettings from Group_ where " + getTypeSettingsCriteria(oldRootPortletId);
  try (PreparedStatement ps=connection.prepareStatement(sql);ResultSet rs=ps.executeQuery()){
    while (rs.next()) {
      long groupId=rs.getLong("groupId");
      String typeSettings=rs.getString("typeSettings");
      String newTypeSettings=getNewTypeSettings(typeSettings,oldRootPortletId,newRootPortletId);
      updateGroup(groupId,newTypeSettings);
    }
  }
 }
