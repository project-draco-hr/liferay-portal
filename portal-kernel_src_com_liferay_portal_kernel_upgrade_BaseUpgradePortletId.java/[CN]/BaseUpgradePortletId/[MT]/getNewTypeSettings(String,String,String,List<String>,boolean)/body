{
  UnicodeProperties typeSettingsProperties=new UnicodeProperties(true);
  typeSettingsProperties.fastLoad(typeSettings);
  for (  String column : columns) {
    if (!typeSettingsProperties.containsKey(column)) {
      continue;
    }
    String[] portletIds=StringUtil.split(typeSettingsProperties.getProperty(column));
    for (int j=0; j < portletIds.length; j++) {
      String portletId=portletIds[j];
      if (exactMatch) {
        if (portletId.equals(oldRootPortletId)) {
          portletIds[j]=newRootPortletId;
        }
        continue;
      }
      String rootPortletId=PortletConstants.getRootPortletId(portletId);
      if (!rootPortletId.equals(oldRootPortletId)) {
        continue;
      }
      long userId=PortletConstants.getUserId(portletId);
      String instanceId=PortletConstants.getInstanceId(portletId);
      portletIds[j]=PortletConstants.assemblePortletId(newRootPortletId,userId,instanceId);
    }
    typeSettingsProperties.setProperty(column,StringUtil.merge(portletIds).concat(StringPool.COMMA));
  }
  return typeSettingsProperties.toString();
}
