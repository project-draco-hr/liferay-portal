{
  UnicodeProperties typeSettingsProperties=new UnicodeProperties(true);
  typeSettingsProperties.fastLoad(typeSettings);
  String oldStagingPortletId=StagingUtil.getStagedPortletId(oldRootPortletId);
  if (!typeSettingsProperties.containsKey(oldStagingPortletId)) {
    return typeSettings;
  }
  String value=typeSettingsProperties.getProperty(oldStagingPortletId);
  String newStagingPortletId=StagingUtil.getStagedPortletId(newRootPortletId);
  typeSettingsProperties.setProperty(newStagingPortletId,value);
  typeSettingsProperties.remove(oldStagingPortletId);
  return typeSettingsProperties.toString();
}
