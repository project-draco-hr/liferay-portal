{
  try {
    Class<?> clazz=getClass();
    URL url=clazz.getResource("/org/apache/jasper/JasperException.class");
    if (url == null) {
      return;
    }
    String path=url.getPath();
    int pos=path.indexOf(CharPool.EXCLAMATION);
    if (pos == -1) {
      return;
    }
    URI jarFileURI=new URI(path.substring(0,pos));
    JarFile jarFile=new JarFile(new File(jarFileURI));
    Manifest manifest=jarFile.getManifest();
    Attributes attributes=manifest.getMainAttributes();
    _jasperVersion=GetterUtil.getString(attributes.getValue("Specification-Version"));
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
