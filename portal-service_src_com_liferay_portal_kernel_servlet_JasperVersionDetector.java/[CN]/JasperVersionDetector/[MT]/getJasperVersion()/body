{
  if (_jasperVersion != null) {
    return _jasperVersion;
  }
  ClassLoader classLoader=ClassLoader.getSystemClassLoader();
  URL url=classLoader.getResource("/org/apache/jasper/JasperException.class");
  if (url == null) {
    _jasperVersion=StringPool.BLANK;
    return _jasperVersion;
  }
  String path=url.getPath();
  int pos=path.indexOf(CharPool.EXCLAMATION);
  if (pos == -1) {
    _jasperVersion=StringPool.BLANK;
    return _jasperVersion;
  }
  try {
    URI jarFileURI=new URI(path.substring(0,pos));
    JarFile jarFile=new JarFile(new File(jarFileURI));
    Manifest manifest=jarFile.getManifest();
    Attributes attributes=manifest.getMainAttributes();
    _jasperVersion=GetterUtil.getString(attributes.getValue("Specification-Version"));
  }
 catch (  Exception e) {
    _jasperVersion=StringPool.BLANK;
  }
  return _jasperVersion;
}
