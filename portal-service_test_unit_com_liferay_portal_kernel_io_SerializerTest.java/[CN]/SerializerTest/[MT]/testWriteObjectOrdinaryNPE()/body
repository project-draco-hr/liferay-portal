{
  Serializer serializer=new Serializer();
  Serializable serializable=new Serializable(){
    private void writeObject(    ObjectOutputStream objectOutputStream) throws IOException {
      throw new IOException("Force to fail");
    }
  }
;
  try {
    serializer.writeObject(serializable);
    Assert.fail();
  }
 catch (  RuntimeException re) {
    Assert.assertTrue(re.getMessage().startsWith("Failed to write ordinary Serializable object "));
    Throwable throwable=re.getCause();
    Assert.assertTrue(throwable instanceof IOException);
    Assert.assertEquals("Force to fail",throwable.getMessage());
  }
}
