{
  Serializer serializer=new Serializer();
  Class<?> clazz=getClass();
  serializer.writeObject(clazz);
  ByteBuffer byteBuffer=serializer.toByteBuffer();
  String className=clazz.getName();
  String isNull=StringPool.IS_NULL;
  byte[] isNullBytes=isNull.getBytes(StringPool.UTF8);
  Assert.assertEquals(className.length() + isNull.length() + 11,byteBuffer.limit());
  Assert.assertEquals(SerializationConstants.TC_CLASS,byteBuffer.get());
  Assert.assertEquals(1,byteBuffer.get());
  Assert.assertEquals(isNull.length(),byteBuffer.getInt());
  Assert.assertEquals(isNull,new String(byteBuffer.array(),byteBuffer.position(),isNullBytes.length,StringPool.UTF8));
  byteBuffer.position(byteBuffer.position() + isNullBytes.length);
  Assert.assertEquals(1,byteBuffer.get());
  Assert.assertEquals(className.length(),byteBuffer.getInt());
  Assert.assertEquals(className,new String(byteBuffer.array(),byteBuffer.position(),byteBuffer.remaining(),StringPool.UTF8));
}
