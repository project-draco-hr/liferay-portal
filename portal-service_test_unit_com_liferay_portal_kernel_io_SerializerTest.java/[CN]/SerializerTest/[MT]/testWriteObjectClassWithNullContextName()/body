{
  Serializer serializer=new Serializer();
  Class<?> clazz=getClass();
  serializer.writeObject(clazz);
  ByteBuffer byteBuffer=serializer.toByteBuffer();
  String className=clazz.getName();
  String servletContextName=StringPool.NULL;
  byte[] servletContextNameBytes=servletContextName.getBytes(StringPool.UTF8);
  Assert.assertEquals(className.length() + servletContextName.length() + 11,byteBuffer.limit());
  Assert.assertEquals(SerializationConstants.TC_CLASS,byteBuffer.get());
  Assert.assertEquals(1,byteBuffer.get());
  Assert.assertEquals(servletContextName.length(),byteBuffer.getInt());
  Assert.assertEquals(servletContextName,new String(byteBuffer.array(),byteBuffer.position(),servletContextNameBytes.length,StringPool.UTF8));
  byteBuffer.position(byteBuffer.position() + servletContextNameBytes.length);
  Assert.assertEquals(1,byteBuffer.get());
  Assert.assertEquals(className.length(),byteBuffer.getInt());
  Assert.assertEquals(className,new String(byteBuffer.array(),byteBuffer.position(),byteBuffer.remaining(),StringPool.UTF8));
}
