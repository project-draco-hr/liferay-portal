{
  Serializer serializer=new Serializer();
  Class<?> clazz=getClass();
  serializer.writeObject(clazz);
  ByteBuffer byteBuffer=serializer.toByteBuffer();
  String className=clazz.getName();
  String contextName=StringPool.NULL;
  byte[] contextNameBytes=contextName.getBytes(StringPool.UTF8);
  Assert.assertEquals(className.length() + contextName.length() + 11,byteBuffer.limit());
  Assert.assertEquals(SerializationConstants.TC_CLASS,byteBuffer.get());
  Assert.assertEquals(1,byteBuffer.get());
  Assert.assertEquals(contextName.length(),byteBuffer.getInt());
  Assert.assertEquals(contextName,new String(byteBuffer.array(),byteBuffer.position(),contextNameBytes.length,StringPool.UTF8));
  byteBuffer.position(byteBuffer.position() + contextNameBytes.length);
  Assert.assertEquals(1,byteBuffer.get());
  Assert.assertEquals(className.length(),byteBuffer.getInt());
  Assert.assertEquals(className,new String(byteBuffer.array(),byteBuffer.position(),byteBuffer.remaining(),StringPool.UTF8));
}
