{
  MethodHandler methodHandler=_methodHandler;
  if (methodHandler == null) {
    Thread currentThread=Thread.currentThread();
    ClassLoader contextClassLoader=currentThread.getContextClassLoader();
    String servletContextName=ClassLoaderPool.getContextName(contextClassLoader);
    methodHandler=new MethodHandler(_methodInvocation.getMethod(),_methodInvocation.getArguments());
    Object thisObject=_methodInvocation.getThis();
    IdentifiableBean identifiableBean=(IdentifiableBean)thisObject;
    Class<?> identifiableBeanClass=identifiableBean.getClass();
    ClassLoader identifiableBeanClassLoader=identifiableBeanClass.getClassLoader();
    String identifiableBeanServletContextName=ClassLoaderPool.getContextName(identifiableBeanClassLoader);
    String beanIdentifier=identifiableBean.getBeanIdentifier();
    methodHandler=new MethodHandler(_invokeMethodKey,methodHandler,servletContextName,identifiableBeanServletContextName,beanIdentifier);
  }
  objectOutput.writeObject(methodHandler);
}
