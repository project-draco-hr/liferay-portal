{
  UploadPortletRequest uploadReq=PortalUtil.getUploadPortletRequest(req);
  String importProgressId=ParamUtil.getString(uploadReq,"importProgressId");
  ProgressTracker progressTracker=new ProgressTracker(req,importProgressId);
  ProgressTrackerThreadLocal.setProgressTracker(progressTracker);
  progressTracker.start();
  long nodeId=ParamUtil.getLong(uploadReq,"nodeId");
  File pagesFile=uploadReq.getFile("pagesFile");
  File usersFile=uploadReq.getFile("usersFile");
  File imagesFile=uploadReq.getFile("imagesFile");
  NotificationThreadLocal.setNotificationEnabled(false);
  WikiCacheThreadLocal.setClearCache(false);
  WikiNodeServiceUtil.importPages(nodeId,pagesFile,usersFile,imagesFile);
  WikiCacheUtil.clearCache(nodeId);
  progressTracker.finish();
}
