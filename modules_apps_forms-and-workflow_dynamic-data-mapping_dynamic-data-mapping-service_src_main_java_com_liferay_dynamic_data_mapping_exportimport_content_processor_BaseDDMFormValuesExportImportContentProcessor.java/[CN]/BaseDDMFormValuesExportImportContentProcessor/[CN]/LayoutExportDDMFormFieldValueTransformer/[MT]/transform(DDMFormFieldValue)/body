{
  Value value=ddmFormFieldValue.getValue();
  for (  Locale locale : value.getAvailableLocales()) {
    String valueString=value.getString(locale);
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject(valueString);
    long groupId=GetterUtil.getLong(jsonObject.get("groupId"));
    long layoutId=GetterUtil.getLong(jsonObject.getLong("layoutId"));
    boolean privateLayout=jsonObject.getBoolean("privateLayout");
    Layout layout=_layoutLocalService.getLayout(groupId,privateLayout,layoutId);
    Element entityElement=_portletDataContext.getExportDataElement(_stagedModel);
    _portletDataContext.addReferenceElement(_stagedModel,entityElement,layout,PortletDataContext.REFERENCE_TYPE_DEPENDENCY,true);
  }
}
