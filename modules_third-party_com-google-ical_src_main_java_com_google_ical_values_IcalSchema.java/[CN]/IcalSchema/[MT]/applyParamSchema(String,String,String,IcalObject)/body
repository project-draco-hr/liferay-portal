{
  if (EXTENSION_PARAM_NAME_RE.matcher(name).find()) {
    out.getExtParams().put(name,value);
    return;
  }
  ruleStack.add(rule);
  try {
    (paramRules.get(rule)).apply(this,name,value,out);
  }
  finally {
    ruleStack.remove(ruleStack.get(ruleStack.size() - 1));
  }
}
