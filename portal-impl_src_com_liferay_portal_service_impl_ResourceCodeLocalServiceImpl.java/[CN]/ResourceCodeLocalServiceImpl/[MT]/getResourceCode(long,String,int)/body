{
  String key=encodeKey(companyId,name,scope);
  ResourceCode resourceCode=_resourceCodes.get(key);
  if (resourceCode == null) {
    resourceCode=resourceCodePersistence.fetchByC_N_S(companyId,name,scope,false);
    if (resourceCode == null) {
      resourceCode=resourceCodeLocalService.addResourceCode(companyId,name,scope);
    }
    _resourceCodes.put(key,resourceCode);
  }
  return resourceCode;
}
