{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(portletRequest,"groupId");
  String structureKey=ParamUtil.getString(portletRequest,"structureKey");
  String storageType=ParamUtil.getString(portletRequest,"storageType");
  String name=ParamUtil.getString(portletRequest,"name");
  String description=ParamUtil.getString(portletRequest,"description");
  DDMForm ddmForm=getDDMForm(portletRequest);
  DDMFormLayout ddmFormLayout=getDDMFormLayout(portletRequest);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DDMStructure.class.getName(),portletRequest);
  return _ddmStructureService.addStructure(groupId,DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID,PortalUtil.getClassNameId(DDLRecordSet.class),structureKey,getLocalizedMap(themeDisplay.getLocale(),name),getLocalizedMap(themeDisplay.getLocale(),description),ddmForm,ddmFormLayout,storageType,DDMStructureConstants.TYPE_DEFAULT,serviceContext);
}
