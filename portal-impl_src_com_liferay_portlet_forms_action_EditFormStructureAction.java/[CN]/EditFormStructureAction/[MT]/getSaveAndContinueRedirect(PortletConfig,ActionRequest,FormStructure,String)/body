{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String originalRedirect=ParamUtil.getString(actionRequest,"originalRedirect");
  String callback=ParamUtil.getString(actionRequest,"callback");
  PortletURLImpl portletURL=new PortletURLImpl((ActionRequestImpl)actionRequest,portletConfig.getPortletName(),themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  portletURL.setWindowState(actionRequest.getWindowState());
  portletURL.setParameter(Constants.CMD,Constants.UPDATE,false);
  portletURL.setParameter("struts_action","/forms/edit_form_structure");
  portletURL.setParameter("redirect",redirect,false);
  portletURL.setParameter("originalRedirect",originalRedirect,false);
  portletURL.setParameter("callback",callback,false);
  portletURL.setParameter("groupId",String.valueOf(structure.getGroupId()),false);
  portletURL.setParameter("formStructureId",structure.getFormStructureId(),false);
  return portletURL.toString();
}
