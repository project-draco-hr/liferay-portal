{
  byte[] saltBytes=null;
  try {
    if (Validator.isNull(bcryptString)) {
      String salt=BCrypt.gensalt();
      saltBytes=salt.getBytes("UTF-8");
    }
 else {
      String salt=bcryptString.substring(0,29);
      saltBytes=salt.getBytes("UTF-8");
    }
  }
 catch (  UnsupportedEncodingException uee) {
    throw new PwdEncryptorException("Unable to extract salt from encrypted password: " + uee.getMessage());
  }
  return saltBytes;
}
