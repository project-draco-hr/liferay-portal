{
  List images=new ArrayList();
  Iterator itr=getSortedParameterNames(uploadReq,imagePrefix).iterator();
  while (itr.hasNext()) {
    String name=(String)itr.next();
    int priority=GetterUtil.getInteger(name.substring(imagePrefix.length(),name.length()));
    File file=uploadReq.getFile(name);
    byte[] bytes=FileUtil.getBytes(file);
    boolean preserveScreenshot=ParamUtil.getBoolean(uploadReq,"preserveScreenshot" + priority);
    if (preserveScreenshot) {
      SCProductScreenshot productScreenshot=getProductScreenshot(uploadReq,priority);
      Image image=null;
      if (imagePrefix.equals("fullImage")) {
        image=ImageLocalUtil.getImage(productScreenshot.getFullImageId());
      }
 else {
        image=ImageLocalUtil.getImage(productScreenshot.getThumbnailId());
      }
      bytes=image.getTextObj();
    }
    if ((bytes != null) && (bytes.length > 0)) {
      images.add(bytes);
    }
 else {
      throw new ProductEntryScreenshotsException();
    }
  }
  return images;
}
