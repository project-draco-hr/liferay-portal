{
  boolean dlAppHelperEnabled=DLAppHelperThreadLocal.isEnabled();
  try {
    DLAppHelperThreadLocal.setEnabled(false);
    LocalRepository localRepository=RepositoryProviderUtil.getLocalRepositoryByFileEntryId(fileEntryId);
    return RepositoryTrashUtil.moveFileEntryToTrash(userId,localRepository.getRepositoryId(),fileEntryId);
  }
  finally {
    DLAppHelperThreadLocal.setEnabled(dlAppHelperEnabled);
  }
}
