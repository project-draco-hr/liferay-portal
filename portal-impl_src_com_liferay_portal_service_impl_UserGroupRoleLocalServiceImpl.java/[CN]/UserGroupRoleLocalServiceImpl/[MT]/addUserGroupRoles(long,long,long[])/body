{
  for (  long roleId : roleIds) {
    UserGroupRolePK userGroupRolePK=new UserGroupRolePK(userId,groupId,roleId);
    UserGroupRole userGroupRole=userGroupRolePersistence.fetchByPrimaryKey(userGroupRolePK);
    if (userGroupRole == null) {
      userGroupRole=userGroupRolePersistence.create(userGroupRolePK);
      userGroupRolePersistence.update(userGroupRole);
    }
  }
  PermissionCacheUtil.clearCache();
}
