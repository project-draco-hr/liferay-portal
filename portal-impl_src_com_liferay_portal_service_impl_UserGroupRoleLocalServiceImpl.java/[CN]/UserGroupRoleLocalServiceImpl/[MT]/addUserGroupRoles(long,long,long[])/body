{
  checkGroupResource(groupId);
  for (int i=0; i < roleIds.length; i++) {
    long roleId=roleIds[i];
    UserGroupRolePK pk=new UserGroupRolePK(userId,groupId,roleId);
    if (UserGroupRoleUtil.fetchByPrimaryKey(pk) == null) {
      UserGroupRoleUtil.update(UserGroupRoleUtil.create(pk));
    }
  }
  PermissionCacheUtil.clearCache();
}
