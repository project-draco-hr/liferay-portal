{
  try {
    List<String> commandList=new ArrayList<String>(arguments.size() + 4);
    commandList.add(java);
    commandList.add("-cp");
    commandList.add(classPath);
    commandList.addAll(arguments);
    commandList.add(ProcessExecutor.class.getName());
    ProcessBuilder processBuilder=new ProcessBuilder(commandList.toArray(new String[commandList.size()]));
    Process process=processBuilder.start();
    ObjectOutputStream objectOutputStream=new ObjectOutputStream(process.getOutputStream());
    try {
      objectOutputStream.writeObject(processCallable);
    }
  finally {
      objectOutputStream.close();
    }
    ExecutorService executorService=_getExecutorService();
    SubprocessReactor subprocessReactor=new SubprocessReactor(process);
    Future<ProcessCallable<? extends Serializable>> futureResponseProcessCallable=executorService.submit(subprocessReactor);
    return new ProcessExecutionFutureResult<T>(futureResponseProcessCallable,process);
  }
 catch (  IOException ioe) {
    throw new ProcessException(ioe);
  }
}
