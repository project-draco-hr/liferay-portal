{
  ProcessBuilder processBuilder=new ProcessBuilder("java","-cp",classPath,ProcessExecutor.class.getName());
  try {
    Process process=processBuilder.start();
    _writeObject(process.getOutputStream(),processCallable,true);
    int exitCode=process.waitFor();
    if (exitCode != 0) {
      throw new ProcessException("Sub-process terminated exceptionally, exit code : " + exitCode);
    }
    InputStream errorStream=process.getErrorStream();
    if (errorStream.available() > 0) {
      ProcessException processException=(ProcessException)_readObject(errorStream,true);
      throw processException;
    }
    return (T)_readObject(process.getInputStream(),true);
  }
 catch (  Exception e) {
    throw new ProcessException(e);
  }
}
