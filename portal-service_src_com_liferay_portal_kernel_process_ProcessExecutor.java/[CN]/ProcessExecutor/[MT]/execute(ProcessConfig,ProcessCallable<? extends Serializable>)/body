{
  try {
    List<String> arguments=processConfig.getArguments();
    List<String> commands=new ArrayList<String>(arguments.size() + 4);
    commands.add(processConfig.getJavaExecutable());
    commands.add("-cp");
    commands.add(processConfig.getBootstrapClassPath());
    commands.addAll(arguments);
    commands.add(ProcessLauncher.class.getName());
    ProcessBuilder processBuilder=new ProcessBuilder(commands);
    Process process=processBuilder.start();
    ObjectOutputStream bootstrapObjectOutputStream=new ObjectOutputStream(process.getOutputStream());
    bootstrapObjectOutputStream.writeObject(processCallable.toString());
    bootstrapObjectOutputStream.writeObject(processConfig.getRuntimeClassPath());
    ObjectOutputStream objectOutputStream=new ObjectOutputStream(bootstrapObjectOutputStream);
    try {
      objectOutputStream.writeObject(processCallable);
    }
  finally {
      objectOutputStream.close();
    }
    ThreadPoolExecutor threadPoolExecutor=_getThreadPoolExecutor();
    SubprocessReactor subprocessReactor=new SubprocessReactor(process);
    try {
      NoticeableFuture<ProcessCallable<? extends Serializable>> processCallableNoticeableFuture=threadPoolExecutor.submit(subprocessReactor);
      _managedProcesses.add(process);
      return _wrapNoticeableFuture(processCallableNoticeableFuture,process);
    }
 catch (    RejectedExecutionException ree) {
      process.destroy();
      throw new ProcessException("Cancelled execution because of a concurrent destroy",ree);
    }
  }
 catch (  IOException ioe) {
    throw new ProcessException(ioe);
  }
}
