{
  try {
    UploadPortletRequest uploadReq=PortalUtil.getUploadPortletRequest(req);
    Layout layout=(Layout)req.getAttribute(WebKeys.LAYOUT);
    File file=uploadReq.getFile("importFile");
    CalEventServiceUtil.importICal4j(layout.getPlid(),file);
    sendRedirect(req,res);
  }
 catch (  Exception e) {
    SessionErrors.add(req,e.getClass().getName());
    setForward(req,"portlet.calendar.error");
    _log.error(e,e);
  }
}
