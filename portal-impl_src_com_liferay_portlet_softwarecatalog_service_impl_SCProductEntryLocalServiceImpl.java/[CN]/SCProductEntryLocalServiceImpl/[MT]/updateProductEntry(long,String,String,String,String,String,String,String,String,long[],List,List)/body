{
  Date now=new Date();
  validate(name,type,shortDescription,pageURL,author,licenseIds,thumbnails,fullImages);
  SCProductEntry productEntry=SCProductEntryUtil.findByPrimaryKey(productEntryId);
  productEntry.setModifiedDate(now);
  productEntry.setName(name);
  productEntry.setType(type);
  productEntry.setShortDescription(shortDescription);
  productEntry.setLongDescription(longDescription);
  productEntry.setPageURL(pageURL);
  productEntry.setAuthor(author);
  productEntry.setRepoGroupId(repoGroupId);
  productEntry.setRepoArtifactId(repoArtifactId);
  SCProductEntryUtil.update(productEntry);
  SCProductEntryUtil.setSCLicenses(productEntryId,licenseIds);
  if (thumbnails.size() == 0) {
    SCProductScreenshotLocalServiceUtil.deleteProductScreenshots(productEntryId);
  }
 else {
    saveProductScreenshots(productEntry,thumbnails,fullImages);
  }
  List productVersions=SCProductVersionUtil.findByProductEntryId(productEntryId,0,1);
  if (productVersions.size() > 0) {
    SCProductVersion productVersion=(SCProductVersion)productVersions.get(0);
    productVersion.setModifiedDate(now);
    SCProductVersionUtil.update(productVersion);
  }
  try {
    Indexer.updateProductEntry(productEntry.getCompanyId(),productEntry.getGroupId(),productEntry.getUserId(),productEntry.getUserName(),productEntryId,name,type,shortDescription,longDescription,pageURL,repoGroupId,repoArtifactId);
  }
 catch (  IOException ioe) {
    _log.error("Indexing " + productEntryId,ioe);
  }
  return productEntry;
}
