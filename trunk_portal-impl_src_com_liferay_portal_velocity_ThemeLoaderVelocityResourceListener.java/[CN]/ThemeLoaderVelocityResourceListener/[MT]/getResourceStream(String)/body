{
  InputStream is=null;
  try {
    int pos=source.indexOf(THEME_LOADER_SEPARATOR);
    if (pos != -1) {
      String ctxName=source.substring(0,pos);
      ThemeLoader themeLoader=ThemeLoaderFactory.getThemeLoader(ctxName);
      if (themeLoader != null) {
        String name=source.substring(pos + THEME_LOADER_SEPARATOR.length());
        String themesPath=themeLoader.getThemesPath();
        if (name.startsWith(themesPath)) {
          name=name.substring(themesPath.length(),name.length());
        }
        if (_log.isDebugEnabled()) {
          _log.debug(name + " is associated with the theme loader " + ctxName+ " "+ themeLoader);
        }
        is=new FileInputStream(themeLoader.getFileStorage().getPath() + name);
      }
 else {
        _log.error(source + " is not valid because " + ctxName+ " does not map to a theme loader");
      }
    }
  }
 catch (  FileNotFoundException fnfe) {
    throw new ResourceNotFoundException(source);
  }
  return is;
}
