{
  Args.notNull(request,"HTTP request");
  ensureOpen();
  HttpEntity entity=request.getEntity();
  if (entity == null) {
    return;
  }
  OutputStream outputStream=null;
  try {
    outputStream=getOutputStream(request);
    entity.writeTo(outputStream);
  }
  finally {
    StreamUtil.cleanUp(outputStream);
  }
}
