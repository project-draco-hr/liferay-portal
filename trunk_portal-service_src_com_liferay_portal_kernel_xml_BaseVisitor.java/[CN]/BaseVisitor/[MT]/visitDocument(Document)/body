{
  List<T> nodeResults=new ArrayList<T>(document.nodeCount());
  for (int i=0, size=document.nodeCount(); i < size; i++) {
    Node node=document.node(i);
    T nodeResult=node.accept(this);
    nodeResults.add(nodeResult);
  }
  return handleDocument(document,nodeResults);
}
