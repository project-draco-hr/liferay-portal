{
  DataSource dataSource=getDataSource();
  try (Connection connection=dataSource.getConnection();PreparedStatement preparedStatement=buildPreparedStatement(connection,"select count(1) from " + tableName + " where companyId = ?",companyId);ResultSet resultSet=preparedStatement.executeQuery()){
    if (resultSet.next() && (resultSet.getInt(1) > 0)) {
      String deleteSQL="delete from " + tableName + " where companyId = "+ companyId+ ";\n";
      outputStream.write(deleteSQL.getBytes());
    }
  }
 catch (  IOException|SQLException e) {
    _logger.error("Unable to generate delete SQL statements for table " + tableName,e);
  }
}
