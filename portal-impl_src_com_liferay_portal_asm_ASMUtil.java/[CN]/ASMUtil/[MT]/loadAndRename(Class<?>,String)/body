{
  ClassLoader classLoader=clazz.getClassLoader();
  String name=clazz.getName();
  name=name.replace(CharPool.PERIOD,CharPool.SLASH);
  ClassReader classReader=null;
  try {
    classReader=new ClassReader(classLoader.getResourceAsStream(name.concat(".class")));
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
  ClassNode classNode=new ClassNode();
  ClassVisitor classVisitor=new RemappingClassAdapter(classNode,new RenameClassRemapper(name,newName)){
    @Override public void visitInnerClass(    String name,    String outerName,    String innerName,    int access){
    }
  }
;
  classReader.accept(classVisitor,ClassReader.SKIP_DEBUG | ClassReader.SKIP_FRAMES);
  return classNode;
}
