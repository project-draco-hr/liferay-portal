{
  List<Object[]> list=dlFileRankFinder.findGU_ByC(PropsValues.DL_FILE_RANK_MAX_SIZE);
  for (  Object[] pair : list) {
    long groupId=(Long)pair[0];
    long userId=(Long)pair[1];
    List<DLFileRank> fileRanks=getFileRanks(groupId,userId,PropsValues.DL_FILE_RANK_MAX_SIZE,QueryUtil.ALL_POS);
    for (int i=0; i < fileRanks.size(); i++) {
      DLFileRank lastFileRank=fileRanks.get(i);
      long lastFileRankId=lastFileRank.getFileRankId();
      try {
        dlFileRankPersistence.remove(lastFileRank);
      }
 catch (      Exception e) {
        _log.warn("Failed to remove file rank " + lastFileRankId);
      }
    }
  }
}
