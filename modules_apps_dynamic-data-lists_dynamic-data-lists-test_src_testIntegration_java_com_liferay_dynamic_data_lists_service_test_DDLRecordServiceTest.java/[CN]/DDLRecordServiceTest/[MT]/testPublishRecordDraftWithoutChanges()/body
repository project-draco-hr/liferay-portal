{
  DDMForm ddmForm=createDDMForm();
  ddmForm.addDDMFormField(createTextDDMFormField("Name",true,false));
  DDLRecordSet recordSet=addRecordSet(ddmForm);
  DDLRecordTestHelper recordTestHelper=new DDLRecordTestHelper(_group,recordSet);
  DDMFormValues ddmFormValues=createDDMFormValues(ddmForm);
  ddmFormValues.addDDMFormFieldValue(createLocalizedDDMFormFieldValue("Name","Joe Bloggs"));
  DDLRecord record=recordTestHelper.addRecord(ddmFormValues,WorkflowConstants.ACTION_SAVE_DRAFT);
  Assert.assertEquals(WorkflowConstants.STATUS_DRAFT,record.getStatus());
  DDLRecordVersion recordVersion=record.getRecordVersion();
  Assert.assertTrue(recordVersion.isDraft());
  record=updateRecord(record.getRecordId(),record.getDDMFormValues(),WorkflowConstants.ACTION_PUBLISH);
  Assert.assertEquals(WorkflowConstants.STATUS_APPROVED,record.getStatus());
  recordVersion=record.getRecordVersion();
  Assert.assertTrue(recordVersion.isApproved());
}
