{
  List<ResourcePermission> resourcePermissions=_resourcePermissionLocalService.getRoleResourcePermissions(importedRole.getRoleId(),new int[]{ResourceConstants.SCOPE_COMPANY,ResourceConstants.SCOPE_GROUP_TEMPLATE},QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  ResourcePermission resourcePermission : resourcePermissions) {
    _resourcePermissionLocalService.deleteResourcePermission(resourcePermission);
  }
  List<ResourcePermission> groupResourcePermissions=_resourcePermissionLocalService.getRoleResourcePermissions(importedRole.getRoleId(),new int[]{ResourceConstants.SCOPE_GROUP},QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  ResourcePermission groupResourcePermission : groupResourcePermissions) {
    long groupId=GetterUtil.getLong(groupResourcePermission.getPrimKey());
    if ((groupId == portletDataContext.getCompanyGroupId()) || (groupId == portletDataContext.getUserPersonalSiteGroupId())) {
      _resourcePermissionLocalService.deleteResourcePermission(groupResourcePermission);
    }
  }
  List<ResourceTypePermission> resourceTypePermissions=getResourceTypePermissions(portletDataContext,importedRole);
  for (  ResourceTypePermission resourceTypePermission : resourceTypePermissions) {
    _resourceTypePermissionLocalService.deleteResourceTypePermission(resourceTypePermission);
  }
}
