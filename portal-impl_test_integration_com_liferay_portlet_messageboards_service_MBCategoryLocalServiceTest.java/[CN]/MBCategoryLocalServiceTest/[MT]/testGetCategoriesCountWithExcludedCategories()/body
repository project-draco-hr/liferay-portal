{
  int initialCategoriesCount=MBCategoryLocalServiceUtil.getCategoriesCount(_group.getGroupId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID);
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),TestPropsValues.getUserId());
  MBCategoryServiceUtil.addCategory(TestPropsValues.getUserId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,RandomTestUtil.randomString(),StringPool.BLANK,serviceContext);
  MBCategory excludedCategory1=MBCategoryServiceUtil.addCategory(TestPropsValues.getUserId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,RandomTestUtil.randomString(),StringPool.BLANK,serviceContext);
  MBCategory excludedCategory2=MBCategoryServiceUtil.addCategory(TestPropsValues.getUserId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,RandomTestUtil.randomString(),StringPool.BLANK,serviceContext);
  Assert.assertEquals(initialCategoriesCount + 3,MBCategoryLocalServiceUtil.getCategoriesCount(_group.getGroupId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_ANY));
  Assert.assertEquals(initialCategoriesCount + 1,MBCategoryLocalServiceUtil.getCategoriesCount(_group.getGroupId(),new long[]{excludedCategory1.getCategoryId(),excludedCategory2.getCategoryId()},new long[]{MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID},WorkflowConstants.STATUS_ANY));
}
