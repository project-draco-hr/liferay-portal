{
  int initialCategoriesCount=MBCategoryLocalServiceUtil.getCategoriesCount(_groupId,MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_APPROVED);
  MBTestUtil.addCategory(_groupId);
  MBCategory excludedCategory=MBTestUtil.addCategory(_groupId);
  MBCategory draftCategory=MBTestUtil.addCategory(_groupId);
  MBCategoryLocalServiceUtil.updateStatus(draftCategory.getUserId(),draftCategory.getCategoryId(),WorkflowConstants.STATUS_DRAFT);
  Assert.assertEquals(initialCategoriesCount + 2,MBCategoryLocalServiceUtil.getCategoriesCount(_groupId,MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_APPROVED));
  Assert.assertEquals(initialCategoriesCount + 1,MBCategoryLocalServiceUtil.getCategoriesCount(_groupId,excludedCategory.getCategoryId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_APPROVED));
}
