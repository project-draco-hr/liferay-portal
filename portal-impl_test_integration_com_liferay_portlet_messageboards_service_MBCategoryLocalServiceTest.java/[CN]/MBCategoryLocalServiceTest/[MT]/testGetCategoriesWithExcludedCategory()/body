{
  List<MBCategory> initialCategories=MBCategoryLocalServiceUtil.getCategories(_group.getGroupId());
  List<MBCategory> expectedCategories=new ArrayList<>();
  expectedCategories.addAll(initialCategories);
  expectedCategories.add(addCategory());
  expectedCategories.add(addCategory());
  MBCategory excludedCategory=addCategory();
  expectedCategories.add(excludedCategory);
  List<MBCategory> categories=MBCategoryLocalServiceUtil.getCategories(_group.getGroupId());
  AssertUtils.assertEquals(expectedCategories,categories);
  expectedCategories.remove(excludedCategory);
  categories=MBCategoryLocalServiceUtil.getCategories(_group.getGroupId(),excludedCategory.getCategoryId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_ANY,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  AssertUtils.assertEquals(expectedCategories,categories);
}
