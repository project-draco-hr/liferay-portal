{
  MBMessage message1=addMessage(MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID);
  MBCategory category1=addCategory();
  addMessage(category1.getCategoryId());
  MBCategory category2=addCategory();
  addMessage(category2.getCategoryId());
  MBMessage message2=addMessage(MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID);
  List<Object> categoriesAndThreads=MBCategoryLocalServiceUtil.getCategoriesAndThreads(_group.getGroupId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_APPROVED);
  Assert.assertEquals(4,categoriesAndThreads.size());
  Assert.assertEquals(category1,categoriesAndThreads.get(0));
  Assert.assertEquals(category2,categoriesAndThreads.get(1));
  Assert.assertEquals(message1.getThread(),categoriesAndThreads.get(2));
  Assert.assertEquals(message2.getThread(),categoriesAndThreads.get(3));
}
