{
  List<MBCategory> initialCategories=MBCategoryLocalServiceUtil.getCategories(_groupId);
  List<MBCategory> expectedCategories=new ArrayList<MBCategory>();
  expectedCategories.addAll(initialCategories);
  expectedCategories.add(MBTestUtil.addCategory(_groupId));
  expectedCategories.add(MBTestUtil.addCategory(_groupId));
  MBCategory excludedCategory=MBTestUtil.addCategory(_groupId);
  expectedCategories.add(excludedCategory);
  List<MBCategory> categories=MBCategoryLocalServiceUtil.getCategories(_groupId);
  Assert.assertEquals(expectedCategories.size(),categories.size());
  Assert.assertTrue(expectedCategories.containsAll(categories));
  expectedCategories.remove(excludedCategory);
  categories=MBCategoryLocalServiceUtil.getCategories(_groupId,excludedCategory.getCategoryId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,WorkflowConstants.STATUS_ANY,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  Assert.assertEquals(expectedCategories.size(),categories.size());
  Assert.assertTrue(expectedCategories.containsAll(categories));
}
