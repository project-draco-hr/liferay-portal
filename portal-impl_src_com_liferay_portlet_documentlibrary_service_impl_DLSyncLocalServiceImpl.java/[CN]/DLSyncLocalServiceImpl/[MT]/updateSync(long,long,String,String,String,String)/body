{
  if (!isDefaultRepository(fileId,parentFolderId)) {
    return null;
  }
  DLSync dlSync=null;
  if (event == DLSyncConstants.EVENT_DELETE) {
    dlSync=dlSyncPersistence.fetchByFileId(fileId);
    if (dlSync == null) {
      return null;
    }
  }
 else {
    dlSync=dlSyncPersistence.findByFileId(fileId);
  }
  Date now=new Date();
  dlSync.setModifiedDate(now.getTime());
  dlSync.setParentFolderId(parentFolderId);
  dlSync.setName(name);
  dlSync.setDescription(description);
  dlSync.setEvent(event);
  dlSync.setVersion(version);
  dlSyncPersistence.update(dlSync);
  return dlSync;
}
