{
  ResourceURL openSearchResourceURL=resourceResponse.createResourceURL();
  openSearchResourceURL.setResourceID("getOpenSearchXML");
  long groupId=ParamUtil.getLong(resourceRequest,"groupId");
  ResourceURL openSearchDescriptionXMLURL=resourceResponse.createResourceURL();
  openSearchDescriptionXMLURL.setParameter("mvcPath","/open_search_description.jsp");
  openSearchDescriptionXMLURL.setParameter("groupId",String.valueOf(groupId));
  OpenSearch openSearch=new PortalOpenSearchImpl(openSearchResourceURL.toString(),openSearchDescriptionXMLURL.toString());
  HttpServletRequest request=PortalUtil.getHttpServletRequest(resourceRequest);
  String xml=openSearch.search(request,openSearchResourceURL.toString() + StringPool.QUESTION + request.getQueryString());
  return xml.getBytes();
}
