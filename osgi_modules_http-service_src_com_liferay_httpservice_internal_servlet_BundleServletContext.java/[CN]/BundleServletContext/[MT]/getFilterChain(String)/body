{
  BundleFilterChain bundleFilterChain=new BundleFilterChain();
  for (  FilterServiceRanking filterServiceRanking : _filterServiceRankings) {
    String filterName=filterServiceRanking.getFilterName();
    Filter filter=_filtersByFilterNames.get(filterName);
    List<String> urlPatterns=filterServiceRanking.getUrlPatterns();
    for (    String urlPattern : urlPatterns) {
      if (urlPattern.equals(path)) {
        bundleFilterChain.addFilter(filter);
        break;
      }
      if (urlPattern.contains(StringPool.STAR)) {
        urlPattern=urlPattern.replaceAll("\\".concat(StringPool.STAR),".*");
      }
      if (path.matches(urlPattern)) {
        bundleFilterChain.addFilter(filter);
      }
    }
  }
  return bundleFilterChain;
}
