{
  Servlet registeredServlet=_servletsByServletNames.get(servletName);
  if ((registeredServlet != null) && (registeredServlet != servlet)) {
    throw new NamespaceException("A servlet is already registered with the name " + servletName);
  }
  for (  String urlPattern : urlPatterns) {
    if (Validator.isNull(urlPattern)) {
      throw new IllegalArgumentException("An empty URL pattern is not allowed");
    }
    if (!urlPattern.startsWith(StringPool.SLASH) || (urlPattern.endsWith(StringPool.SLASH) && !urlPattern.equals(StringPool.SLASH))) {
      throw new IllegalArgumentException("URL patterns must start with / but cannot end with it");
    }
    if (_servletsByURLPatterns.containsKey(urlPattern)) {
      throw new NamespaceException("A servlet is already registered with the URL pattern " + urlPattern);
    }
  }
}
