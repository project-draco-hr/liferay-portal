{
  if (_servletNames.contains(servletName)) {
    throw new NamespaceException("A servlet is already registered with the name " + servletName);
  }
  for (  String urlPattern : urlPatterns) {
    if (Validator.isNull(urlPattern)) {
      throw new IllegalArgumentException("An empty URL pattern is not allowed");
    }
    if (!urlPattern.startsWith(StringPool.SLASH) || (urlPattern.endsWith(StringPool.SLASH) && !urlPattern.equals(StringPool.SLASH))) {
      throw new IllegalArgumentException("URL patterns must start with / but cannot end with it");
    }
    if (_servlets.containsKey(urlPattern)) {
      throw new NamespaceException("URL pattern " + urlPattern + " already exists");
    }
  }
  if (servlet == null) {
    throw new IllegalArgumentException("Servlet must not be null");
  }
  if (_servlets.containsValue(servlet)) {
    throw new IllegalArgumentException("Servlet is already registered");
  }
  if (httpContext == null) {
    throw new IllegalArgumentException("HTTP context cannot be null");
  }
}
