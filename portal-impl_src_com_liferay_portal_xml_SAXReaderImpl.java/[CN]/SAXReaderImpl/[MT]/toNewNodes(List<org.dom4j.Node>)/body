{
  List<Node> newNodes=new ArrayList<>(oldNodes.size());
  for (  org.dom4j.Node oldNode : oldNodes) {
    if (oldNode instanceof org.dom4j.Element) {
      newNodes.add(new ElementImpl((org.dom4j.Element)oldNode));
    }
 else {
      newNodes.add(new NodeImpl(oldNode));
    }
  }
  return new NodeList<>(newNodes,oldNodes);
}
