{
  List<Fact<?>> facts=RulesContextBuilder.buildRulesContext(executionContext);
  String assigneeScript=kaleoTaskAssignment.getAssigneeScript();
  RulesResourceRetriever rulesResourceRetriever=new RulesResourceRetriever(new StringResourceRetriever(assigneeScript));
  Query query=Query.createStandardQuery();
  Map<String,?> results=RulesEngineUtil.execute(rulesResourceRetriever,facts,query,classLoaders);
  Map<String,Serializable> resultsWorkflowContext=(Map<String,Serializable>)results.get(WorkflowContextUtil.WORKFLOW_CONTEXT_NAME);
  WorkflowContextUtil.mergeWorkflowContexts(executionContext,resultsWorkflowContext);
  return getKaleoTaskAssignments(results);
}
