{
  if (interval == 0) {
    return;
  }
  if (templateResourceLoaderName.equals(TemplateManager.VELOCITY) && templateResource.getTemplateId().contains(SandboxHandler.SANDBOX_MARKER)) {
    return;
  }
  if (!(templateResource instanceof StringTemplateResource) && !(templateResource instanceof CacheTemplateResource)) {
    templateResource=new CacheTemplateResource(templateResource);
  }
  String cacheName=TemplateResourceLoader.class.getName().concat(StringPool.POUND).concat(templateResourceLoaderName);
  PortalCache portalCache=MultiVMPoolUtil.getCache(cacheName);
  Object object=portalCache.get(templateResource.getTemplateId());
  if ((object == null) || !templateResource.equals(object)) {
    portalCache.put(templateResource.getTemplateId(),templateResource);
  }
  if (errorTemplateResource == null) {
    return;
  }
  if (templateResourceLoaderName.equals(TemplateManager.VELOCITY) && errorTemplateResource.getTemplateId().contains(SandboxHandler.SANDBOX_MARKER)) {
    return;
  }
  if (!(errorTemplateResource instanceof StringTemplateResource) && !(errorTemplateResource instanceof CacheTemplateResource)) {
    errorTemplateResource=new CacheTemplateResource(errorTemplateResource);
  }
  object=portalCache.get(errorTemplateResource.getTemplateId());
  if ((object == null) || !errorTemplateResource.equals(object)) {
    portalCache.put(errorTemplateResource.getTemplateId(),errorTemplateResource);
  }
}
