{
  Long companyIdObj=(Long)request.getAttribute(WebKeys.COMPANY_ID);
  long companyId=0;
  if (companyIdObj != null) {
    companyId=companyIdObj.longValue();
  }
  try {
    return UserLocalServiceUtil.getUserByScreenName(companyId,_TCK_USER_NAME);
  }
 catch (  Exception e) {
    long creatorUserId=0;
    boolean autoPassword=false;
    String password1="tck";
    String password2=password1;
    boolean autoScreenName=false;
    String screenName=_TCK_USER_NAME;
    String emailAddress="tck@liferay.com";
    Locale locale=Locale.US;
    String firstName="TCK";
    String middleName=StringPool.BLANK;
    String lastName="User";
    int prefixId=0;
    int suffixId=0;
    boolean male=true;
    int birthdayMonth=Calendar.JANUARY;
    int birthdayDay=1;
    int birthdayYear=1970;
    String jobTitle=StringPool.BLANK;
    long[] organizationIds=new long[0];
    boolean sendEmail=false;
    return UserLocalServiceUtil.addUser(creatorUserId,companyId,autoPassword,password1,password2,autoScreenName,screenName,emailAddress,locale,firstName,middleName,lastName,prefixId,suffixId,male,birthdayMonth,birthdayDay,birthdayYear,jobTitle,organizationIds,sendEmail);
  }
}
