{
  addStatus(contextBooleanFilter,searchContext);
  long[] nodeIds=searchContext.getNodeIds();
  if (ArrayUtil.isNotEmpty(nodeIds)) {
    TermsFilter nodesIdTermsFilter=new TermsFilter(Field.NODE_ID);
    for (    long nodeId : nodeIds) {
      try {
        WikiNodeServiceUtil.getNode(nodeId);
      }
 catch (      Exception e) {
        if (_log.isDebugEnabled()) {
          _log.debug("Unable to get node " + nodeId,e);
        }
        continue;
      }
      nodesIdTermsFilter.addValue(String.valueOf(nodeId));
    }
    if (!nodesIdTermsFilter.isEmpty()) {
      contextBooleanFilter.add(nodesIdTermsFilter,BooleanClauseOccur.MUST);
    }
  }
}
