{
  Calendar cal=Calendar.getInstance();
  cal.add(Calendar.MINUTE,-1);
  Date expiration=cal.getTime();
  while (!_pingbackQueue.isEmpty()) {
    Tuple tuple=_pingbackQueue.get(0);
    Date time=(Date)tuple.getObject(0);
    if (time.before(expiration)) {
      _pingbackQueue.remove(0);
      String sourceUri=(String)tuple.getObject(1);
      String targetUri=(String)tuple.getObject(2);
      String serverUri=_discoverPingbackServer(targetUri);
      if (Validator.isNull(serverUri)) {
        continue;
      }
      if (_log.isInfoEnabled()) {
        _log.info("XML-RPC pingback " + serverUri + ", source "+ sourceUri+ ", target "+ targetUri);
      }
      Response response=XmlRpcUtil.executeMethod(serverUri,"pingback.ping",new Object[]{sourceUri,targetUri});
      if (_log.isInfoEnabled()) {
        _log.info(response.toString());
      }
    }
 else {
      break;
    }
  }
}
