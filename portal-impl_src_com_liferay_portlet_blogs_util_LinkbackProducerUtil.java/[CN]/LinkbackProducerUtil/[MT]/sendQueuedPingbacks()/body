{
  Calendar cal=Calendar.getInstance();
  cal.add(Calendar.MINUTE,-1);
  Date expiration=cal.getTime();
  while (!_pingbackQueue.isEmpty()) {
    Tuple tuple=_pingbackQueue.get(0);
    Date time=(Date)tuple.getObject(0);
    if (time.before(expiration)) {
      _pingbackQueue.remove(0);
      String serverUri=(String)tuple.getObject(1);
      String sourceUri=(String)tuple.getObject(2);
      String targetUri=(String)tuple.getObject(3);
      if (_log.isInfoEnabled()) {
        _log.info("XML-RPC pingback " + serverUri + ", source "+ sourceUri+ ", target "+ targetUri);
      }
      XmlRpcClient client=new XmlRpcClient(serverUri);
      Response response=client.executeMethod("pingback.ping",new Object[]{sourceUri,targetUri});
      if (_log.isInfoEnabled()) {
        _log.info(response.toString());
      }
    }
 else {
      break;
    }
  }
}
