{
  try {
    long plid=ParamUtil.getLong(request,"p_l_id");
    String redirect=ParamUtil.getString(request,"redirect");
    long eventId=ParamUtil.getLong(request,"eventId");
    plid=getPlid(plid,eventId);
    PortletURL portletURL=new PortletURLImpl(request,PortletKeys.CALENDAR,plid,PortletRequest.RENDER_PHASE);
    portletURL.setWindowState(WindowState.MAXIMIZED);
    portletURL.setPortletMode(PortletMode.VIEW);
    if (Validator.isNotNull(redirect)) {
      portletURL.setParameter("redirect",redirect);
    }
    portletURL.setParameter("struts_action","/calendar/view_event");
    portletURL.setParameter("eventId",String.valueOf(eventId));
    response.sendRedirect(portletURL.toString());
    return null;
  }
 catch (  Exception e) {
    PortalUtil.sendError(e,request,response);
    return null;
  }
}
