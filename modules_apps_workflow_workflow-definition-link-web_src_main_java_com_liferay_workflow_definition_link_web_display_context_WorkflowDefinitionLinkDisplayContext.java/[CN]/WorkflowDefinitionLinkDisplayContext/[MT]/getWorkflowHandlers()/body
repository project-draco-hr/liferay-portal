{
  List<WorkflowHandler<?>> workflowHandlers=null;
  if (getPortletName().equals(WorkflowDefinitionLinkPortletKeys.WORKFLOW_DEFINITION_LINK_CONTROL_PANEL)) {
    workflowHandlers=WorkflowHandlerRegistryUtil.getWorkflowHandlers();
  }
 else {
    workflowHandlers=WorkflowHandlerRegistryUtil.getScopeableWorkflowHandlers();
  }
  Iterator<WorkflowHandler<?>> itr=workflowHandlers.iterator();
  while (itr.hasNext()) {
    WorkflowHandler<?> workflowHandler=itr.next();
    if (!workflowHandler.isVisible()) {
      itr.remove();
    }
  }
  return workflowHandlers;
}
