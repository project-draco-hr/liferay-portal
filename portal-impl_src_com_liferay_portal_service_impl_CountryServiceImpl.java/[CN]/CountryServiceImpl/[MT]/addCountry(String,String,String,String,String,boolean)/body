{
  if (!getPermissionChecker().isOmniadmin()) {
    throw new PrincipalException();
  }
  if (Validator.isNull(name)) {
    throw new CountryNameException();
  }
  if (Validator.isNull(a2)) {
    throw new CountryA2Exception();
  }
  if (Validator.isNull(a3)) {
    throw new CountryA3Exception();
  }
  if (Validator.isNull(number)) {
    throw new CountryNumberException();
  }
  if (Validator.isNull(idd)) {
    throw new CountryIddException();
  }
  long countryId=counterLocalService.increment();
  Country country=countryPersistence.create(countryId);
  country.setName(name);
  country.setA2(a2);
  country.setA3(a3);
  country.setNumber(number);
  country.setIdd(idd);
  country.setActive(active);
  countryPersistence.update(country,false);
  return country;
}
