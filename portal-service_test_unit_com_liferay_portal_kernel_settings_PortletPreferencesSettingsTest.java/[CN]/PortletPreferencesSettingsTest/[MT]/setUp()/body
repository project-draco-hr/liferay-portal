{
  _portletPreferences=PowerMockito.mock(PortletPreferences.class);
  Mockito.when(_portletPreferences.getValue(Matchers.eq(_PORTLET_PREFERENCES_SINGLE_KEY),Matchers.anyString())).thenReturn(_PORTLET_PREFERENCES_SINGLE_VALUE);
  Mockito.when(_portletPreferences.getValues(Matchers.eq(_PORTLET_PREFERENCES_MULTIPLE_KEY),(String[])Matchers.any())).thenReturn(_PORTLET_PREFERENCES_MULTIPLE_VALUES);
  ModifiableSettings modifiableSettings=new MemorySettings();
  modifiableSettings.setValue(_DEFAULT_SETTINGS_SINGLE_KEY,_DEFAULT_SETTINGS_SINGLE_VALUE);
  modifiableSettings.setValues(_DEFAULT_SETTINGS_MULTIPLE_KEY,_DEFAULT_SETTINGS_MULTIPLE_VALUES);
  _portletPreferencesSettings=new PortletPreferencesSettings(_portletPreferences,modifiableSettings);
}
