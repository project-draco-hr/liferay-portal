{
  String serverName=properties.getProperty(LDAPConstants.SERVER_NAME);
  if (Validator.isNull(serverName)) {
    throw new LDAPServerNameException();
  }
  List<LDAPServerConfiguration> ldapServerConfigurations=_ldapServerConfigurationProvider.getConfigurations(companyId,false);
  for (  LDAPServerConfiguration ldapServerConfiguration : ldapServerConfigurations) {
    String existingServerName=ldapServerConfiguration.serverName();
    if (serverName.equals(existingServerName) && (ldapServerId != ldapServerConfiguration.ldapServerId())) {
      throw new DuplicateLDAPServerNameException();
    }
  }
}
