{
  SessionHolder sessionHolder=(SessionHolder)TransactionSynchronizationManager.getResource(getSessionFactory());
  if (sessionHolder != null) {
    LastSessionRecorderUtil.setLastSession(sessionHolder.getSession());
  }
  return super.doGetTransaction();
}
