{
  LiferayPortletResponse liferayPortletResponse=(LiferayPortletResponse)portletResponse;
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletURL addAssetURL=null;
  if (MBPermission.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),ActionKeys.ADD_MESSAGE)) {
    addAssetURL=liferayPortletResponse.createRenderURL(PortletKeys.MESSAGE_BOARDS);
    addAssetURL.setParameter("struts_action","/message_boards/view");
    addAssetURL.setParameter("groupId",String.valueOf(themeDisplay.getScopeGroupId()));
  }
  return addAssetURL;
}
