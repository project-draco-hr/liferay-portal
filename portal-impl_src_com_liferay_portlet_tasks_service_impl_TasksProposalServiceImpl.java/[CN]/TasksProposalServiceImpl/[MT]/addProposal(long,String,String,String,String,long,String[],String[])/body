{
  PermissionChecker permissionChecker=getPermissionChecker();
  if (!GroupPermissionUtil.contains(permissionChecker,groupId,ActionKeys.MANAGE_LAYOUTS) && (name.equals(Layout.class.getName()) && !LayoutPermissionUtil.contains(permissionChecker,GetterUtil.getLong(classPK),ActionKeys.UPDATE))) {
    throw new PrincipalException();
  }
  return tasksProposalLocalService.addProposal(getUserId(),groupId,className,classPK,name,description,reviewUserId,communityPermissions,guestPermissions);
}
