{
  Map<Subscription,List<AssetEntry>> subscriptionsMap=new HashMap<>();
  for (  Subscription subscription : subscriptions) {
    List<AssetEntry> subscriptionAssetEntries=new ArrayList<>();
    for (    AssetEntry assetEntry : assetEntries) {
      if (hasPermission(subscription.getUserId(),assetEntry)) {
        subscriptionAssetEntries.add(assetEntry);
      }
    }
    if (subscriptionAssetEntries.isEmpty()) {
      continue;
    }
    subscriptionsMap.put(subscription,subscriptionAssetEntries);
  }
  return subscriptionsMap;
}
