{
  JSONObject notificationEventJSONObject=JSONFactoryUtil.createJSONObject();
  populateNotificationEventJSONObject(notificationEventJSONObject);
  if (UserNotificationManagerUtil.isDeliver(user.getUserId(),portletId,_notificationClassNameId,_notificationType,UserNotificationDeliveryConstants.TYPE_PUSH)) {
    UserNotificationEventLocalServiceUtil.sendUserNotificationEvents(user.getUserId(),portletId,UserNotificationDeliveryConstants.TYPE_PUSH,notificationEventJSONObject);
  }
  if (UserNotificationManagerUtil.isDeliver(user.getUserId(),portletId,_notificationClassNameId,_notificationType,UserNotificationDeliveryConstants.TYPE_WEBSITE)) {
    UserNotificationEventLocalServiceUtil.sendUserNotificationEvents(user.getUserId(),portletId,UserNotificationDeliveryConstants.TYPE_WEBSITE,notificationEventJSONObject);
  }
}
