{
  BuilderElement top=elementStack.getLast();
  while (top != parentElement && top != null) {
    closeElement(top);
    elementStack.removeLast();
    top=elementStack.getLast();
  }
  if (top == parentElement) {
    closeOpenTag(top);
    openElement(this);
  }
 else {
    throw new IllegalArgumentException("The parent element does not exist!");
  }
}
