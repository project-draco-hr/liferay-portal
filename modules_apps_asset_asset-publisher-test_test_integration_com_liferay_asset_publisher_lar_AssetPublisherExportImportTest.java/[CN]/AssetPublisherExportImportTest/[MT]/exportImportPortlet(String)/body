{
  List<Layout> layouts=LayoutLocalServiceUtil.getLayouts(layout.getGroupId(),layout.isPrivateLayout());
  User user=TestPropsValues.getUser();
  Map<String,Serializable> exportSettingsMap=ExportImportConfigurationSettingsMapFactory.buildSettingsMap(user.getUserId(),layout.getGroupId(),layout.isPrivateLayout(),ExportImportHelperUtil.getLayoutIds(layouts),getExportParameterMap(),user.getLocale(),user.getTimeZone());
  ExportImportConfiguration exportConfiguration=ExportImportConfigurationLocalServiceUtil.addExportImportConfiguration(user.getUserId(),layout.getGroupId(),StringPool.BLANK,StringPool.BLANK,ExportImportConfigurationConstants.TYPE_EXPORT_LAYOUT,exportSettingsMap,WorkflowConstants.STATUS_DRAFT,new ServiceContext());
  larFile=ExportImportLocalServiceUtil.exportLayoutsAsFile(exportConfiguration);
  Map<String,Serializable> importSettingsMap=ExportImportConfigurationSettingsMapFactory.buildImportSettingsMap(user.getUserId(),importedGroup.getGroupId(),layout.isPrivateLayout(),null,getImportParameterMap(),Constants.IMPORT,user.getLocale(),user.getTimeZone(),larFile.getName());
  ExportImportConfiguration importConfiguration=ExportImportConfigurationLocalServiceUtil.addExportImportConfiguration(user.getUserId(),importedGroup.getGroupId(),StringPool.BLANK,StringPool.BLANK,ExportImportConfigurationConstants.TYPE_IMPORT_LAYOUT,importSettingsMap,WorkflowConstants.STATUS_DRAFT,new ServiceContext());
  ExportImportLocalServiceUtil.importLayouts(importConfiguration,larFile);
  importedLayout=LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(layout.getUuid(),importedGroup.getGroupId(),layout.isPrivateLayout());
  Assert.assertNotNull(importedLayout);
}
