{
  PortletPreferences portletPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  boolean hasScopeType=GetterUtil.getBoolean(portletPreferences.getValue("lfr-scope-type","false"));
  if (!hasScopeType) {
    portletPreferences.setValue("lfr-scope-type","layout");
  }
  return PortletPreferencesFactoryUtil.toXML(portletPreferences);
}
