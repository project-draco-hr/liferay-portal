{
  PortletPreferences portletPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  boolean hasScopeType=GetterUtil.getBoolean(portletPreferences.getValue("lfrScopeType","false"));
  if (!hasScopeType) {
    portletPreferences.setValue("lfrScopeType","layout");
  }
  return PortletPreferencesFactoryUtil.toXML(portletPreferences);
}
