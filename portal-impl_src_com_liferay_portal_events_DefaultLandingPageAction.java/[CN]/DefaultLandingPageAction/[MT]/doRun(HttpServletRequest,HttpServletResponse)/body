{
  long companyId=PortalUtil.getCompanyId(request);
  String path=PrefsPropsUtil.getString(companyId,PropsKeys.DEFAULT_LANDING_PAGE_PATH);
  if (_log.isInfoEnabled()) {
    _log.info(PropsKeys.DEFAULT_LANDING_PAGE_PATH + StringPool.EQUAL + path);
  }
  if (Validator.isNull(path)) {
    return;
  }
  HttpSession session=request.getSession();
  if (path.contains("[$SCREEN_NAME$]")) {
    User user=(User)session.getAttribute(WebKeys.USER);
    if (user == null) {
      return;
    }
    String screenName=user.getScreenName();
    path=StringUtil.replace(path,"[$SCREEN_NAME$]",screenName);
  }
  LastPath lastPath=new LastPath(StringPool.BLANK,path);
  session.setAttribute(WebKeys.LAST_PATH,lastPath);
}
