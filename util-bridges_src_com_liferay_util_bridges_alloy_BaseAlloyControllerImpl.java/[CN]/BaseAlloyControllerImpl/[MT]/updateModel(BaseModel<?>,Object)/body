{
  BeanPropertiesUtil.setProperties(baseModel,request);
  if (baseModel.isNew()) {
    baseModel.setPrimaryKeyObj(increment());
  }
  updateAuditedModel(baseModel);
  updateGroupedModel(baseModel);
  updateAttachedModel(baseModel);
  if ((properties.length % 2) != 0) {
    throw new IllegalArgumentException("Properties length is not an even number");
  }
  for (int i=0; i < properties.length; i+=2) {
    String propertyName=String.valueOf(properties[i]);
    Object propertyValue=properties[i + 1];
    BeanPropertiesUtil.setProperty(baseModel,propertyName,propertyValue);
  }
  if (baseModel instanceof PersistedModel) {
    PersistedModel persistedModel=(PersistedModel)baseModel;
    try {
      persistedModel.persist();
    }
 catch (    Exception e) {
      log.error(e,e);
      renderError("an-unexpected-system-error-occurred");
      return;
    }
  }
  if ((indexer != null) && indexerClassName.equals(baseModel.getModelClassName())) {
    indexer.reindex(baseModel);
  }
 else {
    Indexer baseModelIndexer=IndexerRegistryUtil.getIndexer(baseModel.getModelClass());
    if (baseModelIndexer != null) {
      baseModelIndexer.reindex(baseModel);
    }
  }
}
