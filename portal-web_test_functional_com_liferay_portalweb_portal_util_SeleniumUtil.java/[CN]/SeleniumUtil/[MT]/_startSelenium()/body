{
  File file=new File(StringPool.PERIOD);
  String absolutePath=file.getAbsolutePath();
  String projectDir=absolutePath.substring(0,absolutePath.length() - 1);
  if (SELENIUM_IMPLEMENTATION.equals(Selenium.class.getName())) {
    LiferaySelenium liferaySelenium=new DefaultSeleniumImpl(projectDir,PORTAL_URL);
    Class<?> clazz=getClass();
    liferaySelenium.setContext(clazz.getName());
    if (SELENIUM_LOGGER_ENABLED) {
      _selenium=_wrapWithLoggerHandler(liferaySelenium);
    }
 else {
      _selenium=liferaySelenium;
    }
  }
 else   if (SELENIUM_IMPLEMENTATION.equals(WebDriver.class.getName())) {
    if (BROWSER_TYPE.equals("*chrome") || BROWSER_TYPE.equals("*firefox")) {
      if (SELENIUM_LOGGER_ENABLED) {
        _selenium=_wrapWithLoggerHandler(new FirefoxWebDriverImpl(projectDir,PORTAL_URL));
      }
 else {
        _selenium=new FirefoxWebDriverImpl(projectDir,PORTAL_URL);
      }
    }
 else     if (BROWSER_TYPE.equals("*googlechrome")) {
      String chromeDriverPath=TestPropsValues.SELENIUM_EXECUTABLE_DIR + "\\chromedriver.exe";
      System.setProperty("webdriver.chrome.driver",chromeDriverPath);
      if (SELENIUM_LOGGER_ENABLED) {
        _selenium=_wrapWithLoggerHandler(new ChromeWebDriverImpl(projectDir,PORTAL_URL));
      }
 else {
        _selenium=new ChromeWebDriverImpl(projectDir,PORTAL_URL);
      }
    }
 else     if (BROWSER_TYPE.equals("*iehta") || BROWSER_TYPE.equals("*iexplore")) {
      String ieDriverPath=TestPropsValues.SELENIUM_EXECUTABLE_DIR + "\\IEDriverServer.exe";
      System.setProperty("webdriver.ie.driver",ieDriverPath);
      if (SELENIUM_LOGGER_ENABLED) {
        _selenium=_wrapWithLoggerHandler(new InternetExplorerWebDriverImpl(projectDir,PORTAL_URL));
      }
 else {
        _selenium=new InternetExplorerWebDriverImpl(projectDir,PORTAL_URL);
      }
    }
 else {
      throw new RuntimeException("Invalid browser type " + BROWSER_TYPE);
    }
  }
}
