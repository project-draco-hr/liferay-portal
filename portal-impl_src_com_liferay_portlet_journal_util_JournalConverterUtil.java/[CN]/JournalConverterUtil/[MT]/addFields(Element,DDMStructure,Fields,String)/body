{
  Field field=getField(dynamicElementElement,ddmStructure,defaultLocale);
  String fieldName=field.getName();
  Field existingField=fields.get(fieldName);
  if (existingField != null) {
    for (    Locale locale : field.getAvailableLocales()) {
      existingField.addValues(locale,field.getValues(locale));
    }
  }
 else {
    fields.put(field);
  }
  updateFieldsDisplay(fields,fieldName);
  List<Element> childrenDynamicElementElements=dynamicElementElement.elements("dynamic-element");
  for (  Element childrenDynamicElementElement : childrenDynamicElementElements) {
    addFields(childrenDynamicElementElement,ddmStructure,fields,defaultLocale);
  }
}
