{
  String fieldName=dynamicElementElement.attributeValue("name");
  for (  String childFieldName : ddmStructure.getChildrenFieldNames(fieldName)) {
    int offset=ddmFieldsCounter.get(fieldName);
    int repetitions=countFieldRepetition(fields,childFieldName,fieldName,offset);
    for (int i=0; i < repetitions; i++) {
      Element childDynamicElementElement=dynamicElementElement.addElement("dynamic-element");
      childDynamicElementElement.addAttribute("name",childFieldName);
      updateDynamicElement(childDynamicElementElement,ddmStructure,fields,ddmFieldsCounter);
    }
  }
  updateDynamicElement(dynamicElementElement,ddmStructure,fields.get(fieldName),ddmFieldsCounter);
}
