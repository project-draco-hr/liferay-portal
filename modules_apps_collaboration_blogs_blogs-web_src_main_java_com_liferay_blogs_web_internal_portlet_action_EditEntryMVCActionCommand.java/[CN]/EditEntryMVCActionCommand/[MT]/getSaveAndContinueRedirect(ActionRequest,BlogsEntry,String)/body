{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletConfig portletConfig=(PortletConfig)actionRequest.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
  PortletURLImpl portletURL=new PortletURLImpl(actionRequest,portletConfig.getPortletName(),themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  portletURL.setParameter("mvcRenderCommandName","/blogs/edit_entry");
  portletURL.setParameter(Constants.CMD,Constants.UPDATE,false);
  portletURL.setParameter("redirect",redirect,false);
  portletURL.setParameter("groupId",String.valueOf(entry.getGroupId()),false);
  portletURL.setParameter("entryId",String.valueOf(entry.getEntryId()),false);
  portletURL.setWindowState(actionRequest.getWindowState());
  return portletURL.toString();
}
