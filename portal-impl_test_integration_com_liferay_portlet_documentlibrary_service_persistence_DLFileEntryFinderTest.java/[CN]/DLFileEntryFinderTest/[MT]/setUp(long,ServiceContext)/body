{
  Folder folder=DLAppLocalServiceUtil.addFolder(TestPropsValues.getUserId(),repositoryId,DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,"Folder A",StringPool.BLANK,serviceContext);
  DLAppLocalServiceUtil.addFolder(TestPropsValues.getUserId(),repositoryId,folder.getFolderId(),"Folder B",StringPool.BLANK,serviceContext);
  Folder folderC=DLAppLocalServiceUtil.addFolder(TestPropsValues.getUserId(),repositoryId,folder.getFolderId(),"Folder C",StringPool.BLANK,serviceContext);
  DLAppServiceUtil.moveFolderToTrash(folderC.getFolderId());
  User user=UserTestUtil.addUser(ServiceTestUtil.randomString(),_group.getGroupId());
  FileEntry fileEntry=DLAppTestUtil.addFileEntry(user.getUserId(),_group.getGroupId(),repositoryId,folder.getFolderId(),"FE1.txt",ContentTypes.TEXT_PLAIN,"FE1.txt",null,DLFileEntryTypeConstants.FILE_ENTRY_TYPE_ID_BASIC_DOCUMENT,WorkflowConstants.ACTION_PUBLISH);
  LiferayFileEntry liferayFileEntry=(LiferayFileEntry)fileEntry;
  DLFileEntry dlFileEntry=liferayFileEntry.getDLFileEntry();
  dlFileEntry.setExtraSettings("hello=world");
  dlFileEntry.setSmallImageId(_SMALL_IMAGE_ID);
  dlFileEntry=DLFileEntryLocalServiceUtil.updateDLFileEntry(dlFileEntry);
  DLFileVersion dlFileVersion=dlFileEntry.getFileVersion();
  DLAppTestUtil.addFileEntry(_group.getGroupId(),repositoryId,folder.getFolderId(),"FE2.pdf",ContentTypes.APPLICATION_PDF,"FE2.pdf",null,WorkflowConstants.ACTION_PUBLISH);
  fileEntry=DLAppTestUtil.addFileEntry(_group.getGroupId(),repositoryId,folder.getFolderId(),"FE3.txt");
  fileEntry=DLAppTestUtil.updateFileEntry(_group.getGroupId(),fileEntry.getFileEntryId(),"FE3.txt","FE3.txt");
  dlFileEntry=((LiferayFileEntry)fileEntry).getDLFileEntry();
  dlFileEntry.setDescription("FE3.txt");
  DLFileEntryLocalServiceUtil.updateDLFileEntry(dlFileEntry);
  DLFileVersion dlFileVersion3=dlFileEntry.getFileVersion();
  dlFileVersion3.setExtraSettings("hello=world");
  DLFileVersionLocalServiceUtil.updateDLFileVersion(dlFileVersion3);
  FinderCacheUtil.clearCache();
  DLAppServiceUtil.moveFileEntryToTrash(fileEntry.getFileEntryId());
  return new Object[]{folder,dlFileVersion};
}
