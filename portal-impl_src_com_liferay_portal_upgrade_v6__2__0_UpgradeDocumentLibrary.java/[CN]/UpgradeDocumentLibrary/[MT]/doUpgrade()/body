{
  try {
    runSQL("alter table DLFileEntryType add fileEntryTypeKey STRING");
    runSQL("alter table DLFileEntryType modify name STRING");
  }
 catch (  SQLException sqle) {
    upgradeTable(DLFileEntryTypeTable.TABLE_NAME,DLFileEntryTypeTable.TABLE_COLUMNS,DLFileEntryTypeTable.TABLE_SQL_CREATE,DLFileEntryTypeTable.TABLE_SQL_ADD_INDEXES);
  }
  updateFileEntryTypes();
  try {
    runSQL("alter table DLFileRank add userName STRING");
    runSQL("alter table DLFileRank add modifiedDate DATE");
  }
 catch (  SQLException sqle) {
    upgradeTable(DLFileRankTable.TABLE_NAME,DLFileRankTable.TABLE_COLUMNS,DLFileRankTable.TABLE_SQL_CREATE,DLFileRankTable.TABLE_SQL_ADD_INDEXES);
  }
  updateFileRanks();
  try {
    runSQL("alter_column_type Repository portletId VARCHAR(200) null");
  }
 catch (  SQLException sqle) {
    upgradeTable(RepositoryTable.TABLE_NAME,RepositoryTable.TABLE_COLUMNS,RepositoryTable.TABLE_SQL_CREATE,RepositoryTable.TABLE_SQL_ADD_INDEXES);
  }
  deleteChecksumDirectory();
  deleteTempDirectory();
}
