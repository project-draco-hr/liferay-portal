{
  boolean insidePreTag=false;
  for (int i=start; i <= end; i++) {
    String line=_jspSourceProcessor.getLine(content,i);
    if (Validator.isNull(line)) {
      continue;
    }
    String trimmedLine=StringUtil.trimLeading(line);
    if (insidePreTag) {
      if (trimmedLine.equals("</pre>")) {
        insidePreTag=false;
      }
 else {
        continue;
      }
    }
    int lineStartPos=_jspSourceProcessor.getLineStartPos(content,i);
    if (diff < 0) {
      content=content.substring(0,lineStartPos) + "\t" + content.substring(lineStartPos);
    }
 else {
      content=content.substring(0,lineStartPos) + content.substring(lineStartPos + 1);
    }
    if (!insidePreTag && trimmedLine.equals("<pre>")) {
      insidePreTag=true;
    }
  }
  return content;
}
