{
  String moduleFrameworkBaseDirName=System.getProperty("module.framework.base.dir");
  if (moduleFrameworkBaseDirName == null) {
    System.err.println("== -Dmodule.framework.base.dir must point to a valid " + "directory");
    return;
  }
  BytesURLSupport.init();
  String indexesFileName=System.getProperty("indexes.file",moduleFrameworkBaseDirName + "/" + Indexer.DIR_NAME_TARGET_PLATFORM+ "/target-platform-indexes-"+ System.currentTimeMillis()+ ".zip");
  String moduleFrameworkStaticDirName=System.getProperty("module.framework.static.dir",moduleFrameworkBaseDirName.concat("/static"));
  String moduleFrameworkModulesDirName=System.getProperty("module.framework.modules.dir",moduleFrameworkBaseDirName.concat("/modules"));
  String moduleFrameworkPortalDirName=System.getProperty("module.framework.portal.dir",moduleFrameworkBaseDirName.concat("/portal"));
  String moduleFrameworkMarketplaceDir=System.getProperty("module.framework.marketplace.dir",moduleFrameworkBaseDirName.concat("/marketplace"));
  List<URI> uris=_index(indexesFileName,moduleFrameworkStaticDirName,moduleFrameworkModulesDirName,moduleFrameworkPortalDirName,moduleFrameworkMarketplaceDir);
  if (_validate(uris)) {
    String integrityPropertiesFileName=System.getProperty("integrity.properties",moduleFrameworkBaseDirName + "/" + Indexer.DIR_NAME_TARGET_PLATFORM+ "/integrity.properties");
    _updateIntegrityProperties(uris,Paths.get(integrityPropertiesFileName));
  }
}
