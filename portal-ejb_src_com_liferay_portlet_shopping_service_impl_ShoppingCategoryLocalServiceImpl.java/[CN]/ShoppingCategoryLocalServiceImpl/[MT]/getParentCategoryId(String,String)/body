{
  if (!parentCategoryId.equals(ShoppingCategory.DEFAULT_PARENT_CATEGORY_ID)) {
    try {
      ShoppingCategory parentCategory=ShoppingCategoryUtil.findByPrimaryKey(parentCategoryId);
      if (!companyId.equals(parentCategory.getCompanyId())) {
        parentCategoryId=ShoppingCategory.DEFAULT_PARENT_CATEGORY_ID;
      }
    }
 catch (    NoSuchCategoryException nsce) {
      parentCategoryId=ShoppingCategory.DEFAULT_PARENT_CATEGORY_ID;
    }
  }
  return parentCategoryId;
}
