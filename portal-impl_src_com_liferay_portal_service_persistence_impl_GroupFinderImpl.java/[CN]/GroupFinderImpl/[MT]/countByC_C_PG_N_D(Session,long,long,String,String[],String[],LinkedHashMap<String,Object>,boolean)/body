{
  String sql=CustomSQLUtil.get(COUNT_BY_C_PG_N_D);
  sql=StringUtil.replace(sql,"[$PARENT_GROUP_ID_COMPARATOR$]",parentGroupIdComparator.equals(StringPool.EQUAL) ? StringPool.EQUAL : StringPool.NOT_EQUAL);
  sql=CustomSQLUtil.replaceKeywords(sql,"lower(Group_.name)",StringPool.LIKE,false,names);
  sql=CustomSQLUtil.replaceKeywords(sql,"lower(Group_.description)",StringPool.LIKE,true,descriptions);
  sql=replaceJoinAndWhere(sql,params);
  sql=CustomSQLUtil.replaceAndOperator(sql,andOperator);
  SQLQuery q=session.createSynchronizedSQLQuery(sql);
  q.addScalar("groupId",Type.LONG);
  QueryPos qPos=QueryPos.getInstance(q);
  setJoin(qPos,params);
  qPos.add(companyId);
  qPos.add(parentGroupId);
  qPos.add(names,2);
  qPos.add(descriptions,2);
  return q.list(true);
}
