{
  StringBundler sb=new StringBundler(4 * params.size() + 1);
  sb.append(sql);
  for (  Map.Entry<String,Object> entry : params.entrySet()) {
    sb.append(StringPool.COMMA);
    String key=entry.getKey();
    Object value=entry.getValue();
    if (key.equals("rolePermissions")) {
      RolePermissions rolePermissions=(RolePermissions)entry.getValue();
      if (ResourceBlockLocalServiceUtil.isSupported(rolePermissions.getName())) {
        key="rolePermissions_6_block";
      }
 else {
        key="rolePermissions_6";
      }
    }
    sb.append(key);
    if (value instanceof long[]) {
      long[] values=(long[])value;
      sb.append(StringPool.DASH);
      sb.append(values.length);
    }
 else     if (value instanceof List<?>) {
      List<?> values=(List<?>)value;
      sb.append(StringPool.DASH);
      sb.append(values.size());
    }
  }
  return sb.toString();
}
