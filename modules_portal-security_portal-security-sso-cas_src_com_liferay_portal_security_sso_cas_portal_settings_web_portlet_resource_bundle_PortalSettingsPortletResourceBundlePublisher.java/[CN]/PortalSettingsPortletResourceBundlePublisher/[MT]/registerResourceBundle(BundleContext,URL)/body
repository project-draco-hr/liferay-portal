{
  PropertyResourceBundle propertyResourceBundle=new PropertyResourceBundle(propertiesFile.openStream());
  Dictionary<String,Object> serviceProperties=new Hashtable<>();
  String languageId=StringPool.BLANK;
  String name=propertiesFile.getFile();
  if (name.contains(StringPool.UNDERLINE)) {
    int start=name.indexOf(StringPool.UNDERLINE) + 1;
    int end=name.indexOf(".properties");
    languageId=name.substring(start,end);
  }
  serviceProperties.put("javax.portlet.name",PortalSettingsPortletKeys.PORTAL_SETTINGS);
  serviceProperties.put("language.id",languageId);
  ServiceRegistration<ResourceBundle> serviceRegistration=bundleContext.registerService(ResourceBundle.class,propertyResourceBundle,serviceProperties);
  _serviceRegistrations.add(serviceRegistration);
}
