{
  if ((_maxLength > -1) && (key.length() < _maxLength)) {
    return key;
  }
  MessageDigest messageDigest=MessageDigest.getInstance(_ALGORITHM_MD5);
  messageDigest.update(key.getBytes());
  byte[] bytes=messageDigest.digest();
  StringBundler sb=new StringBundler(2 * bytes.length);
  for (int i=0; i < bytes.length; i++) {
    int value=bytes[i] & 0xff;
    sb.append((char)_HEX_CHARACTERS[value >> 4]);
    sb.append((char)_HEX_CHARACTERS[value & 0xf]);
  }
  return sb.toString();
}
