{
  if ((_maxLength > -1) && (key.length() < _maxLength)) {
    return key;
  }
  try {
    _messageDigest.update(_charsetEncoder.encode(CharBuffer.wrap(key)));
    byte[] bytes=_messageDigest.digest();
    return encodeCacheKey(bytes);
  }
 catch (  Exception e) {
    _log.error(e,e);
    return key;
  }
}
