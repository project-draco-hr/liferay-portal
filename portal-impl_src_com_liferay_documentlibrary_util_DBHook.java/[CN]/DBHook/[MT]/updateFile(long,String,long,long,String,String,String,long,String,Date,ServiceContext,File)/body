{
  if (ContentLocalServiceUtil.hasContent(companyId,repositoryId,fileName,versionNumber)) {
    throw new DuplicateFileException(fileName);
  }
  InputStream inputStream=null;
  try {
    inputStream=new FileInputStream(file);
  }
 catch (  FileNotFoundException fnfe) {
    throw new SystemException(fnfe);
  }
  ContentLocalServiceUtil.addContent(companyId,portletId,groupId,repositoryId,fileName,versionNumber,inputStream,file.length());
  reindex(serviceContext.getAssetCategoryIds(),serviceContext.getAssetTagNames(),companyId,fileEntryId,fileName,groupId,modifiedDate,portletId,properties,repositoryId);
}
