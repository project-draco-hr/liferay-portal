{
  ConcurrentLRUCache<String,String> concurrentLRUCache=new ConcurrentLRUCache<String,String>(2);
  try {
    concurrentLRUCache.put(null,"value");
    fail();
  }
 catch (  NullPointerException npe) {
  }
  concurrentLRUCache.put("key1","value1");
  assertEquals(0,concurrentLRUCache.evictCount());
  assertEquals(0,concurrentLRUCache.hitCount());
  assertEquals(0,concurrentLRUCache.missCount());
  assertEquals(1,concurrentLRUCache.putCount());
  assertEquals(1,concurrentLRUCache.size());
  concurrentLRUCache.put("key2","value2");
  assertEquals(0,concurrentLRUCache.evictCount());
  assertEquals(0,concurrentLRUCache.hitCount());
  assertEquals(0,concurrentLRUCache.missCount());
  assertEquals(2,concurrentLRUCache.putCount());
  assertEquals(2,concurrentLRUCache.size());
  concurrentLRUCache.put("key1","value1-2");
  assertEquals(0,concurrentLRUCache.evictCount());
  assertEquals(0,concurrentLRUCache.hitCount());
  assertEquals(0,concurrentLRUCache.missCount());
  assertEquals(3,concurrentLRUCache.putCount());
  assertEquals(2,concurrentLRUCache.size());
  concurrentLRUCache.put("key2","value2-2");
  assertEquals(0,concurrentLRUCache.evictCount());
  assertEquals(0,concurrentLRUCache.hitCount());
  assertEquals(0,concurrentLRUCache.missCount());
  assertEquals(4,concurrentLRUCache.putCount());
  assertEquals(2,concurrentLRUCache.size());
  concurrentLRUCache.put("key3","value3");
  assertEquals(1,concurrentLRUCache.evictCount());
  assertEquals(0,concurrentLRUCache.hitCount());
  assertEquals(0,concurrentLRUCache.missCount());
  assertEquals(5,concurrentLRUCache.putCount());
  assertEquals(2,concurrentLRUCache.size());
  assertNull(concurrentLRUCache.get("key1"));
  assertEquals("value2-2",concurrentLRUCache.get("key2"));
  assertEquals("value3",concurrentLRUCache.get("key3"));
  concurrentLRUCache.put("key4","value4");
  assertEquals(2,concurrentLRUCache.evictCount());
  assertEquals(2,concurrentLRUCache.hitCount());
  assertEquals(1,concurrentLRUCache.missCount());
  assertEquals(6,concurrentLRUCache.putCount());
  assertEquals(2,concurrentLRUCache.size());
  assertNull(concurrentLRUCache.get("key1"));
  assertNull(concurrentLRUCache.get("key2"));
  assertEquals("value3",concurrentLRUCache.get("key3"));
  assertEquals("value4",concurrentLRUCache.get("key4"));
}
