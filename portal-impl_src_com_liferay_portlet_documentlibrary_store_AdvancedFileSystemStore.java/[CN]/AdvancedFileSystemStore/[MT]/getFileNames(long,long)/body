{
  File repositoryDir=getRepositoryDir(companyId,repositoryId);
  String[] directories=FileUtil.listDirs(repositoryDir);
  List<String> fileNames=new ArrayList<String>();
  for (  String directory : directories) {
    fileNames.addAll(getAdvancedFileNames(companyId,repositoryId,repositoryDir.getPath() + StringPool.SLASH + directory));
  }
  return fileNames.toArray(new String[fileNames.size()]);
}
