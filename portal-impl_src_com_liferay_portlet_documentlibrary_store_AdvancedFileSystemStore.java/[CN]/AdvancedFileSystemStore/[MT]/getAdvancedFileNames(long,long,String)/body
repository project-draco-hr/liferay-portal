{
  List<String> fileNames=new ArrayList<String>();
  String shortFileName=FileUtil.getShortFileName(fileName);
  if (shortFileName.equals("DLFE") || Validator.isNumber(shortFileName)) {
    String[] curFileNames=FileUtil.listDirs(fileName);
    for (    String curFileName : curFileNames) {
      fileNames.addAll(getAdvancedFileNames(companyId,repositoryId,fileName + StringPool.SLASH + curFileName));
    }
  }
 else {
    if (shortFileName.endsWith(_HOOK_EXTENSION)) {
      shortFileName=FileUtil.stripExtension(shortFileName);
    }
    fileNames.add(shortFileName);
  }
  return fileNames;
}
