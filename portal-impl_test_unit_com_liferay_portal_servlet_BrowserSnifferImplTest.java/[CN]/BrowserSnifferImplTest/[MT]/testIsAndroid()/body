{
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new InputStreamReader(getClass().getResourceAsStream("dependencies/user_agents.csv")));
  String line=null;
  boolean androidSection=false;
  BrowserSnifferImpl browserSnifferImpl=new BrowserSnifferImpl();
  while ((line=unsyncBufferedReader.readLine()) != null) {
    line=line.trim();
    if (line.isEmpty()) {
      continue;
    }
    if (line.contains("Android Webkit Browser")) {
      androidSection=true;
      continue;
    }
    if (androidSection && (line.charAt(0) == CharPool.POUND)) {
      break;
    }
    if (androidSection) {
      MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
      mockHttpServletRequest.addHeader(HttpHeaders.USER_AGENT,line);
      Assert.assertTrue(browserSnifferImpl.isAndroid(mockHttpServletRequest));
    }
  }
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  mockHttpServletRequest.addHeader(HttpHeaders.USER_AGENT,"Safari 6, 6.0, 536.26, mozilla/5.0 (ipad; cpu os 6_0 like mac os" + " x) applewebkit/536.26 (khtml, like gecko) version/6.0" + " mobile/10a5355d safari/8536.25");
  Assert.assertFalse(browserSnifferImpl.isAndroid(mockHttpServletRequest));
}
