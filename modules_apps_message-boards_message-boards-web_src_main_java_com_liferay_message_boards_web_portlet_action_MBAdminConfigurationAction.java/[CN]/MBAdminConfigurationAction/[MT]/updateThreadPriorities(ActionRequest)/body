{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  for (  Locale locale : LanguageUtil.getAvailableLocales(themeDisplay.getSiteGroupId())) {
    String languageId=LocaleUtil.toLanguageId(locale);
    List<String> priorities=new ArrayList<>();
    for (int j=0; j < 10; j++) {
      String name=ParamUtil.getString(actionRequest,"priorityName" + j + "_"+ languageId);
      String image=ParamUtil.getString(actionRequest,"priorityImage" + j + "_"+ languageId);
      double value=ParamUtil.getDouble(actionRequest,"priorityValue" + j + "_"+ languageId);
      if (Validator.isNotNull(name) || Validator.isNotNull(image) || (value != 0.0)) {
        priorities.add(name + StringPool.PIPE + image+ StringPool.PIPE+ value);
      }
    }
    String preferenceName=LocalizationUtil.getLocalizedName("priorities",languageId);
    setPreference(actionRequest,preferenceName,priorities.toArray(new String[priorities.size()]));
  }
}
