{
  deleteScheduledTimer(kaleoTimerInstanceToken);
  String groupName=getSchedulerGroupName(kaleoTimerInstanceToken);
  DelayDuration delayDuration=new DelayDuration(kaleoTimer.getDuration(),DurationScale.parse(kaleoTimer.getScale()));
  DueDateCalculator dueDateCalculator=new DefaultDueDateCalculator();
  Date dueDate=dueDateCalculator.getDueDate(new Date(),delayDuration);
  Calendar dueDateCalendar=CalendarFactoryUtil.getCalendar();
  dueDateCalendar.setTime(dueDate);
  CronText cronText=null;
  if (!kaleoTimer.isRecurring()) {
    cronText=new CronText(dueDateCalendar);
  }
 else {
    DelayDuration recurrenceDelayDuration=new DelayDuration(kaleoTimer.getRecurrenceDuration(),DurationScale.parse(kaleoTimer.getRecurrenceScale()));
    DurationScale durationScale=recurrenceDelayDuration.getDurationScale();
    cronText=new CronText(dueDateCalendar,durationScale.getIntegerValue(),(int)recurrenceDelayDuration.getDuration());
  }
  Trigger trigger=new CronTrigger(groupName,groupName,cronText.toString());
  Message message=new Message();
  message.put("kaleoTimerInstanceTokenId",kaleoTimerInstanceToken.getKaleoTimerInstanceTokenId());
  SchedulerEngineHelperUtil.schedule(trigger,StorageType.PERSISTED,null,SchedulerUtil.WORKFLOW_TIMER_DESTINATION_NAME,message,0);
}
