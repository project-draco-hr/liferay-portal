{
  content=Html.extractText(content);
  Document doc=new Document();
  LuceneUtil.addKeyword(doc,LuceneFields.UID,LuceneFields.getUID(PORTLET_ID,messageId));
  LuceneUtil.addKeyword(doc,LuceneFields.COMPANY_ID,companyId);
  LuceneUtil.addKeyword(doc,LuceneFields.PORTLET_ID,PORTLET_ID);
  LuceneUtil.addKeyword(doc,LuceneFields.GROUP_ID,groupId);
  LuceneUtil.addText(doc,LuceneFields.USER_NAME,userName);
  LuceneUtil.addText(doc,LuceneFields.TITLE,title);
  LuceneUtil.addText(doc,LuceneFields.CONTENT,content);
  LuceneUtil.addModifiedDate(doc);
  LuceneUtil.addKeyword(doc,"categoryId",categoryId);
  LuceneUtil.addKeyword(doc,"threadId",threadId);
  LuceneUtil.addKeyword(doc,"messageId",messageId);
  LuceneUtil.addKeyword(doc,LuceneFields.TAG_ENTRY,tagsEntries);
  return doc;
}
