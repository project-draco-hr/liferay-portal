{
  if (_db == null) {
    try {
      if (_log.isInfoEnabled()) {
        _log.info("Using dialect " + PropsValues.HIBERNATE_DIALECT);
      }
      Dialect dialect=(Dialect)InstanceFactory.newInstance(PropsValues.HIBERNATE_DIALECT);
      setDB(dialect,InfrastructureUtil.getDataSource());
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  return _db;
}
