{
  if (dialect instanceof DialectImpl) {
    DialectImpl dialectImpl=(DialectImpl)dialect;
    dialect=dialectImpl.getWrappedDialect();
  }
  if (dialect instanceof DB2Dialect) {
    return getDB(DB.TYPE_DB2,dataSource);
  }
  if (dialect instanceof HSQLDialect) {
    return getDB(DB.TYPE_HYPERSONIC,dataSource);
  }
  if (dialect instanceof MySQLDialect) {
    return getDB(DB.TYPE_MYSQL,dataSource);
  }
  if (dialect instanceof Oracle8iDialect || dialect instanceof Oracle9Dialect) {
    return getDB(DB.TYPE_ORACLE,dataSource);
  }
  if (dialect instanceof PostgreSQLDialect) {
    return getDB(DB.TYPE_POSTGRESQL,dataSource);
  }
  if (dialect instanceof SQLServerDialect) {
    return getDB(DB.TYPE_SQLSERVER,dataSource);
  }
  if (dialect instanceof SybaseDialect || dialect instanceof Sybase11Dialect || dialect instanceof SybaseAnywhereDialect|| dialect instanceof SybaseASE15Dialect) {
    return getDB(DB.TYPE_SYBASE,dataSource);
  }
  throw new IllegalArgumentException("Unknown dialect type " + dialect);
}
