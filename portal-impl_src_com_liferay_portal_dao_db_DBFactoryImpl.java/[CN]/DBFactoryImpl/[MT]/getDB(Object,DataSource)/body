{
  if (dialect instanceof DialectImpl) {
    DialectImpl dialectImpl=(DialectImpl)dialect;
    dialect=dialectImpl.getWrappedDialect();
  }
  if (dialect instanceof DB2Dialect) {
    return getDB(DBType.DB2,dataSource);
  }
  if (dialect instanceof HSQLDialect) {
    return getDB(DBType.HYPERSONIC,dataSource);
  }
  if (dialect instanceof MySQLDialect) {
    return getDB(DBType.MYSQL,dataSource);
  }
  if (dialect instanceof Oracle8iDialect || dialect instanceof Oracle9Dialect) {
    return getDB(DBType.ORACLE,dataSource);
  }
  if (dialect instanceof PostgreSQLDialect) {
    return getDB(DBType.POSTGRESQL,dataSource);
  }
  if (dialect instanceof SQLServerDialect) {
    return getDB(DBType.SQLSERVER,dataSource);
  }
  if (dialect instanceof SybaseDialect || dialect instanceof Sybase11Dialect || dialect instanceof SybaseAnywhereDialect|| dialect instanceof SybaseASE15Dialect) {
    return getDB(DBType.SYBASE,dataSource);
  }
  throw new IllegalArgumentException("Unknown dialect type " + dialect);
}
