{
  DDMForm ddmForm=DDMFormTestUtil.createDDMForm();
  DDMFormField separatorDDMFormField=DDMFormTestUtil.createDDMFormField("Separator","Separator",DDMFormFieldType.SEPARATOR,StringPool.BLANK,false,true,false);
  DDMFormField nameDDMFormField=DDMFormTestUtil.createTextDDMFormField("Name",true,false,false);
  separatorDDMFormField.addNestedDDMFormField(nameDDMFormField);
  ddmForm.addDDMFormField(separatorDDMFormField);
  DDMFormValues expectedDDMFormValues=createDDMFormValues(ddmForm,createAvailableLocales(LocaleUtil.BRAZIL,LocaleUtil.US),LocaleUtil.US);
  DDMFormFieldValue separator1DDMFormFieldValue=createDDMFormFieldValue("wqer","Separator",null);
  separator1DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("gatu","Name",createLocalizedValue("Joe","Joao",LocaleUtil.US)));
  expectedDDMFormValues.addDDMFormFieldValue(separator1DDMFormFieldValue);
  DDMFormFieldValue separator2DDMFormFieldValue=createDDMFormFieldValue("haby","Separator",null);
  separator2DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("hato","Name",createLocalizedValue("Paul","Paulo",LocaleUtil.US)));
  expectedDDMFormValues.addDDMFormFieldValue(separator2DDMFormFieldValue);
  DDMFormFieldValue separator3DDMFormFieldValue=createDDMFormFieldValue("bajk","Separator",null);
  separator3DDMFormFieldValue.addNestedDDMFormFieldValue(createDDMFormFieldValue("fahu","Name",createLocalizedValue("Claude","Claudio",LocaleUtil.US)));
  expectedDDMFormValues.addDDMFormFieldValue(separator3DDMFormFieldValue);
  MockHttpServletRequest httpServletRequest=new MockHttpServletRequest();
  httpServletRequest.addParameter("availableLanguageIds","en_US,pt_BR");
  httpServletRequest.addParameter("defaultLanguageId",LocaleUtil.toLanguageId(LocaleUtil.US));
  httpServletRequest.addParameter("ddm__Separator_wqer_0#Name_gatu_0__en_US","Joe");
  httpServletRequest.addParameter("ddm__Separator_wqer_0#Name_gatu_0__pt_BR","Joao");
  httpServletRequest.addParameter("ddm__Separator_haby_1#Name_hato_0__en_US","Paul");
  httpServletRequest.addParameter("ddm__Separator_haby_1#Name_hato_0__pt_BR","Paulo");
  httpServletRequest.addParameter("ddm__Separator_bajk_2#Name_fahu_0__en_US","Claude");
  httpServletRequest.addParameter("ddm__Separator_bajk_2#Name_fahu_0__pt_BR","Claudio");
  DDMFormValues actualDDMFormValues=_ddmFormValuesFactory.create(httpServletRequest,ddmForm);
  assertEquals(expectedDDMFormValues,actualDDMFormValues);
}
