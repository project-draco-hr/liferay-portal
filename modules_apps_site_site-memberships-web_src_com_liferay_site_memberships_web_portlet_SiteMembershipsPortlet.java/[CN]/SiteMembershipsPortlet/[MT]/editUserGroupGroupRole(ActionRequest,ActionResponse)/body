{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long userGroupId=ParamUtil.getLong(actionRequest,"userGroupId");
  long[] addRoleIds=StringUtil.split(ParamUtil.getString(actionRequest,"addRoleIds"),0L);
  long[] removeRoleIds=StringUtil.split(ParamUtil.getString(actionRequest,"removeRoleIds"),0L);
  UserGroupGroupRoleServiceUtil.addUserGroupGroupRoles(userGroupId,themeDisplay.getSiteGroupId(),addRoleIds);
  UserGroupGroupRoleServiceUtil.deleteUserGroupGroupRoles(userGroupId,themeDisplay.getSiteGroupId(),removeRoleIds);
  String redirect=ParamUtil.getString(actionRequest,"assignmentsRedirect");
  if (Validator.isNotNull(redirect)) {
    actionRequest.setAttribute(WebKeys.REDIRECT,redirect);
  }
}
