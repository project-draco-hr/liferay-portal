{
  String redirect=ParamUtil.getString(portletRequest,WorkflowTaskConstants.REDIRECT);
  String closeRedirect=ParamUtil.getString(portletRequest,WorkflowTaskConstants.CLOSE_REDIRECT);
  if (Validator.isNotNull(closeRedirect)) {
    redirect=HttpUtil.setParameter(redirect,WorkflowTaskConstants.CLOSE_REDIRECT,closeRedirect);
    SessionMessages.add(portletRequest,PortalUtil.getPortletId(portletRequest) + SessionMessages.KEY_SUFFIX_CLOSE_REDIRECT,closeRedirect);
  }
  portletRequest.setAttribute(WebKeys.REDIRECT,redirect);
}
