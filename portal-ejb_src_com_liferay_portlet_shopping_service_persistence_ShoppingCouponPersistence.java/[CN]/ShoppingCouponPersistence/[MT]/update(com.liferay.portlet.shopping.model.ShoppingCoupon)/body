{
  Session session=null;
  try {
    if (shoppingCoupon.isNew() || shoppingCoupon.isModified()) {
      session=openSession();
      if (shoppingCoupon.isNew()) {
        ShoppingCouponHBM shoppingCouponHBM=new ShoppingCouponHBM();
        shoppingCouponHBM.setCouponId(shoppingCoupon.getCouponId());
        shoppingCouponHBM.setGroupId(shoppingCoupon.getGroupId());
        shoppingCouponHBM.setCompanyId(shoppingCoupon.getCompanyId());
        shoppingCouponHBM.setUserId(shoppingCoupon.getUserId());
        shoppingCouponHBM.setUserName(shoppingCoupon.getUserName());
        shoppingCouponHBM.setCreateDate(shoppingCoupon.getCreateDate());
        shoppingCouponHBM.setModifiedDate(shoppingCoupon.getModifiedDate());
        shoppingCouponHBM.setName(shoppingCoupon.getName());
        shoppingCouponHBM.setDescription(shoppingCoupon.getDescription());
        shoppingCouponHBM.setStartDate(shoppingCoupon.getStartDate());
        shoppingCouponHBM.setEndDate(shoppingCoupon.getEndDate());
        shoppingCouponHBM.setActive(shoppingCoupon.getActive());
        shoppingCouponHBM.setLimitCategories(shoppingCoupon.getLimitCategories());
        shoppingCouponHBM.setLimitSkus(shoppingCoupon.getLimitSkus());
        shoppingCouponHBM.setMinOrder(shoppingCoupon.getMinOrder());
        shoppingCouponHBM.setDiscount(shoppingCoupon.getDiscount());
        shoppingCouponHBM.setDiscountType(shoppingCoupon.getDiscountType());
        session.save(shoppingCouponHBM);
        session.flush();
      }
 else {
        ShoppingCouponHBM shoppingCouponHBM=(ShoppingCouponHBM)session.get(ShoppingCouponHBM.class,shoppingCoupon.getPrimaryKey());
        if (shoppingCouponHBM != null) {
          shoppingCouponHBM.setGroupId(shoppingCoupon.getGroupId());
          shoppingCouponHBM.setCompanyId(shoppingCoupon.getCompanyId());
          shoppingCouponHBM.setUserId(shoppingCoupon.getUserId());
          shoppingCouponHBM.setUserName(shoppingCoupon.getUserName());
          shoppingCouponHBM.setCreateDate(shoppingCoupon.getCreateDate());
          shoppingCouponHBM.setModifiedDate(shoppingCoupon.getModifiedDate());
          shoppingCouponHBM.setName(shoppingCoupon.getName());
          shoppingCouponHBM.setDescription(shoppingCoupon.getDescription());
          shoppingCouponHBM.setStartDate(shoppingCoupon.getStartDate());
          shoppingCouponHBM.setEndDate(shoppingCoupon.getEndDate());
          shoppingCouponHBM.setActive(shoppingCoupon.getActive());
          shoppingCouponHBM.setLimitCategories(shoppingCoupon.getLimitCategories());
          shoppingCouponHBM.setLimitSkus(shoppingCoupon.getLimitSkus());
          shoppingCouponHBM.setMinOrder(shoppingCoupon.getMinOrder());
          shoppingCouponHBM.setDiscount(shoppingCoupon.getDiscount());
          shoppingCouponHBM.setDiscountType(shoppingCoupon.getDiscountType());
          session.flush();
        }
 else {
          shoppingCouponHBM=new ShoppingCouponHBM();
          shoppingCouponHBM.setCouponId(shoppingCoupon.getCouponId());
          shoppingCouponHBM.setGroupId(shoppingCoupon.getGroupId());
          shoppingCouponHBM.setCompanyId(shoppingCoupon.getCompanyId());
          shoppingCouponHBM.setUserId(shoppingCoupon.getUserId());
          shoppingCouponHBM.setUserName(shoppingCoupon.getUserName());
          shoppingCouponHBM.setCreateDate(shoppingCoupon.getCreateDate());
          shoppingCouponHBM.setModifiedDate(shoppingCoupon.getModifiedDate());
          shoppingCouponHBM.setName(shoppingCoupon.getName());
          shoppingCouponHBM.setDescription(shoppingCoupon.getDescription());
          shoppingCouponHBM.setStartDate(shoppingCoupon.getStartDate());
          shoppingCouponHBM.setEndDate(shoppingCoupon.getEndDate());
          shoppingCouponHBM.setActive(shoppingCoupon.getActive());
          shoppingCouponHBM.setLimitCategories(shoppingCoupon.getLimitCategories());
          shoppingCouponHBM.setLimitSkus(shoppingCoupon.getLimitSkus());
          shoppingCouponHBM.setMinOrder(shoppingCoupon.getMinOrder());
          shoppingCouponHBM.setDiscount(shoppingCoupon.getDiscount());
          shoppingCouponHBM.setDiscountType(shoppingCoupon.getDiscountType());
          session.save(shoppingCouponHBM);
          session.flush();
        }
      }
      shoppingCoupon.setNew(false);
      shoppingCoupon.setModified(false);
    }
    return shoppingCoupon;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
