{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String billingFirstName=ParamUtil.getString(actionRequest,"billingFirstName");
  String billingLastName=ParamUtil.getString(actionRequest,"billingLastName");
  String billingEmailAddress=ParamUtil.getString(actionRequest,"billingEmailAddress");
  String billingCompany=ParamUtil.getString(actionRequest,"billingCompany");
  String billingStreet=ParamUtil.getString(actionRequest,"billingStreet");
  String billingCity=ParamUtil.getString(actionRequest,"billingCity");
  String billingStateSel=ParamUtil.getString(actionRequest,"billingStateSel");
  String billingState=billingStateSel;
  if (Validator.isNull(billingStateSel)) {
    billingState=ParamUtil.getString(actionRequest,"billingState");
  }
  String billingZip=ParamUtil.getString(actionRequest,"billingZip");
  String billingCountry=ParamUtil.getString(actionRequest,"billingCountry");
  String billingPhone=ParamUtil.getString(actionRequest,"billingPhone");
  boolean shipToBilling=ParamUtil.getBoolean(actionRequest,"shipToBilling");
  String shippingFirstName=ParamUtil.getString(actionRequest,"shippingFirstName");
  String shippingLastName=ParamUtil.getString(actionRequest,"shippingLastName");
  String shippingEmailAddress=ParamUtil.getString(actionRequest,"shippingEmailAddress");
  String shippingCompany=ParamUtil.getString(actionRequest,"shippingCompany");
  String shippingStreet=ParamUtil.getString(actionRequest,"shippingStreet");
  String shippingCity=ParamUtil.getString(actionRequest,"shippingCity");
  String shippingStateSel=ParamUtil.getString(actionRequest,"shippingStateSel");
  String shippingState=shippingStateSel;
  if (Validator.isNull(shippingStateSel)) {
    shippingState=ParamUtil.getString(actionRequest,"shippingState");
  }
  String shippingZip=ParamUtil.getString(actionRequest,"shippingZip");
  String shippingCountry=ParamUtil.getString(actionRequest,"shippingCountry");
  String shippingPhone=ParamUtil.getString(actionRequest,"shippingPhone");
  String ccName=ParamUtil.getString(actionRequest,"ccName");
  String ccType=ParamUtil.getString(actionRequest,"ccType");
  String ccNumber=ParamUtil.getString(actionRequest,"ccNumber");
  int ccExpMonth=ParamUtil.getInteger(actionRequest,"ccExpMonth");
  int ccExpYear=ParamUtil.getInteger(actionRequest,"ccExpYear");
  String ccVerNumber=ParamUtil.getString(actionRequest,"ccVerNumber");
  String comments=ParamUtil.getString(actionRequest,"comments");
  ShoppingOrderLocalServiceUtil.updateLatestOrder(themeDisplay.getUserId(),themeDisplay.getScopeGroupId(),billingFirstName,billingLastName,billingEmailAddress,billingCompany,billingStreet,billingCity,billingState,billingZip,billingCountry,billingPhone,shipToBilling,shippingFirstName,shippingLastName,shippingEmailAddress,shippingCompany,shippingStreet,shippingCity,shippingState,shippingZip,shippingCountry,shippingPhone,ccName,ccType,ccNumber,ccExpMonth,ccExpYear,ccVerNumber,comments);
}
