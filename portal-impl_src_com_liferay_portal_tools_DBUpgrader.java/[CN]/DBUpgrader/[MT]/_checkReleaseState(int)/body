{
  if (state == ReleaseConstants.STATE_GOOD) {
    return;
  }
  StringBundler sb=new StringBundler(6);
  sb.append("The database contains changes from a previous upgrade ");
  sb.append("attempt that failed. Please restore the old database and ");
  sb.append("file system and retry the upgrade. A patch may be ");
  sb.append("required if the upgrade failed due to a bug or an ");
  sb.append("unforeseen data permutation that resulted from a corrupt ");
  sb.append("database.");
  throw new IllegalStateException(sb.toString());
}
