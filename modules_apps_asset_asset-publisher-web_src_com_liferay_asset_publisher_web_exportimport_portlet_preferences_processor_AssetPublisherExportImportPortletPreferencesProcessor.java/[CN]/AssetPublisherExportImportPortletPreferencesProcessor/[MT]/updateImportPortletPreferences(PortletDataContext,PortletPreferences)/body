{
  StagedModelDataHandlerUtil.importReferenceStagedModels(portletDataContext,AssetVocabulary.class);
  StagedModelDataHandlerUtil.importReferenceStagedModels(portletDataContext,AssetCategory.class);
  Company company=_companyLocalService.getCompanyById(portletDataContext.getCompanyId());
  Group companyGroup=company.getGroup();
  String anyAssetTypeClassName=portletPreferences.getValue("anyAssetType",StringPool.BLANK);
  Enumeration<String> enu=portletPreferences.getNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    String value=GetterUtil.getString(portletPreferences.getValue(name,null));
    if (name.equals("anyAssetType") || name.equals("classNameIds")) {
      updateImportClassNameIds(portletPreferences,name);
    }
 else     if (name.equals("anyClassTypeDLFileEntryAssetRendererFactory") || (name.equals("classTypeIds") && anyAssetTypeClassName.equals(DLFileEntry.class.getName())) || name.equals("classTypeIdsDLFileEntryAssetRendererFactory")) {
      updateImportPortletPreferencesClassPKs(portletDataContext,portletPreferences,name,DLFileEntryType.class,companyGroup.getGroupId());
    }
 else     if (name.equals("anyClassTypeJournalArticleAssetRendererFactory") || (name.equals("classTypeIds") && anyAssetTypeClassName.equals(JournalArticle.class.getName())) || name.equals("classTypeIdsJournalArticleAssetRendererFactory")) {
      updateImportPortletPreferencesClassPKs(portletDataContext,portletPreferences,name,DDMStructure.class,companyGroup.getGroupId());
    }
 else     if (name.equals("assetVocabularyId")) {
      updateImportPortletPreferencesClassPKs(portletDataContext,portletPreferences,name,AssetVocabulary.class,companyGroup.getGroupId());
    }
 else     if (name.startsWith("queryName") && StringUtil.equalsIgnoreCase(value,"assetCategories")) {
      String index=name.substring(9,name.length());
      updateImportPortletPreferencesClassPKs(portletDataContext,portletPreferences,"queryValues" + index,AssetCategory.class,companyGroup.getGroupId());
    }
 else     if (name.equals("scopeIds")) {
      updateImportScopeIds(portletPreferences,name,companyGroup.getGroupId(),portletDataContext.getPlid());
    }
  }
  restorePortletPreference(portletDataContext,"notifiedAssetEntryIds",portletPreferences);
  return portletPreferences;
}
