{
  try {
    Client client=_elasticsearchConnectionManager.getClient();
    BulkRequestBuilder bulkRequestBuilder=client.prepareBulk();
    for (    String uid : uids) {
      DeleteRequestBuilder deleteRequestBuilder=client.prepareDelete(String.valueOf(searchContext.getCompanyId()),DocumentTypes.LIFERAY,uid);
      bulkRequestBuilder.add(deleteRequestBuilder);
    }
    if (PortalRunMode.isTestMode() || searchContext.isCommitImmediately()) {
      bulkRequestBuilder.setRefresh(true);
    }
    Future<BulkResponse> future=bulkRequestBuilder.execute();
    BulkResponse bulkResponse=future.get();
    LogUtil.logActionResponse(_log,bulkResponse);
  }
 catch (  Exception e) {
    throw new SearchException("Unable to delete documents " + uids,e);
  }
}
