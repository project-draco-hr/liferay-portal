{
  UpgradeColumn upgradeUserIdColumn=new SwapUpgradeColumnImpl("userId",new Integer(Types.VARCHAR),AvailableMappersUtil.getUserIdMapper());
  ClassNameIdUpgradeColumnImpl classNameIdColumn=new ClassNameIdUpgradeColumnImpl();
  Map classPKContainers=CollectionFactory.getHashMap();
  classPKContainers.put(new Long(PortalUtil.getClassNameId(DLFileEntry.class.getName())),new ClassPKContainer(AvailableMappersUtil.getDLFileEntryIdMapper(),false));
  UpgradeColumn upgradeClassPKColumn=new ClassPKUpgradeColumnImpl(classNameIdColumn,classPKContainers);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(RatingsEntryImpl.TABLE_NAME,RatingsEntryImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl("entryId",false),upgradeUserIdColumn,classNameIdColumn,upgradeClassPKColumn);
  upgradeTable.updateTable();
  upgradeTable=new DefaultUpgradeTableImpl(RatingsStatsImpl.TABLE_NAME,RatingsStatsImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl("statsId",false),classNameIdColumn,upgradeClassPKColumn);
  upgradeTable.updateTable();
  runSQL(_UPGRADE_SCHEMA);
}
