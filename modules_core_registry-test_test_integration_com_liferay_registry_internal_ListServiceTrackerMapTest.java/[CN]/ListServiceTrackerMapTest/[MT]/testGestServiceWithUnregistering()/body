{
  ServiceTrackerMap<String,List<TrackedOne>> mapServiceTracker=createDefaultMapServiceTracker();
  TrackedOne TrackedOne1=new TrackedOne();
  registerDefaultTrackedOne(TrackedOne1,1);
  TrackedOne TrackedOne3=new TrackedOne();
  registerDefaultTrackedOne(TrackedOne3,3);
  TrackedOne TrackedOne2=new TrackedOne();
  ServiceRegistration<TrackedOne> sr2=registerDefaultTrackedOne(TrackedOne2,2);
  List<TrackedOne> services=mapServiceTracker.getService("aTarget");
  Assert.assertEquals(3,services.size());
  Iterator<? extends TrackedOne> iterator=services.iterator();
  sr2.unregister();
  Assert.assertEquals(TrackedOne3,iterator.next());
  Assert.assertEquals(TrackedOne2,iterator.next());
  Assert.assertEquals(TrackedOne1,iterator.next());
  services=mapServiceTracker.getService("aTarget");
  Assert.assertEquals(2,services.size());
  iterator=services.iterator();
  Assert.assertEquals(TrackedOne3,iterator.next());
  Assert.assertEquals(TrackedOne1,iterator.next());
}
