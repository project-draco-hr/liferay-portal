{
  Content content=createContent();
  hook.addFile(content.getCompanyId(),content.getPortletId(),content.getGroupId(),content.getRepositoryId(),content.getPath(),content.getContentId(),randomString(),new Date(),new ServiceContext(),new byte[1024]);
  String newFileName=randomString();
  hook.updateFile(content.getCompanyId(),content.getPortletId(),content.getGroupId(),content.getRepositoryId(),content.getPath(),newFileName,false);
  boolean exists=hook.hasFile(content.getCompanyId(),content.getRepositoryId(),content.getPath(),content.getVersion());
  assertFalse(exists);
  boolean exists2=hook.hasFile(content.getCompanyId(),content.getRepositoryId(),newFileName,content.getVersion());
  assertTrue(exists2);
}
