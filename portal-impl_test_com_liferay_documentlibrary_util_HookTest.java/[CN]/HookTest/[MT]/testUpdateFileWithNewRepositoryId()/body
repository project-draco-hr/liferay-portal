{
  Content content=createContent();
  hook.addFile(content.getCompanyId(),content.getPortletId(),content.getGroupId(),content.getRepositoryId(),content.getPath(),content.getContentId(),randomString(),new Date(),new ServiceContext(),new byte[1024]);
  long newRepositoryId=nextLong();
  hook.updateFile(content.getCompanyId(),content.getPortletId(),content.getGroupId(),content.getRepositoryId(),newRepositoryId,content.getPath(),content.getContentId());
  boolean exists=hook.hasFile(content.getCompanyId(),content.getRepositoryId(),content.getPath(),content.getVersion());
  assertFalse(exists);
  boolean exists2=hook.hasFile(content.getCompanyId(),newRepositoryId,content.getPath(),content.getVersion());
  assertTrue(exists2);
}
