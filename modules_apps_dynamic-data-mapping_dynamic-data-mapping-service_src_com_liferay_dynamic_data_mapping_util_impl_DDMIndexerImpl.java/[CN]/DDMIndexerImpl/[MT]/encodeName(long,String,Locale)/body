{
  String indexType=StringPool.BLANK;
  if (Validator.isNotNull(ddmStructureId)) {
    DDMStructure ddmStructure=DDMStructureLocalServiceUtil.fetchDDMStructure(ddmStructureId);
    if (Validator.isNotNull(ddmStructure)) {
      try {
        indexType=ddmStructure.getFieldProperty(fieldName,"indexType");
      }
 catch (      PortalException e) {
        if (_log.isWarnEnabled()) {
          _log.warn(e,e);
        }
      }
    }
  }
  return encodeName(ddmStructureId,fieldName,locale,indexType);
}
