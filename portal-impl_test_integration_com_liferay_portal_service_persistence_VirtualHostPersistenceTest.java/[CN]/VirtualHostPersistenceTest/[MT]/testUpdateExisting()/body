{
  long pk=ServiceTestUtil.nextLong();
  VirtualHost newVirtualHost=_persistence.create(pk);
  newVirtualHost.setCompanyId(ServiceTestUtil.nextLong());
  newVirtualHost.setLayoutSetId(ServiceTestUtil.nextLong());
  newVirtualHost.setHostname(ServiceTestUtil.randomString());
  _persistence.update(newVirtualHost,false);
  VirtualHost existingVirtualHost=_persistence.findByPrimaryKey(newVirtualHost.getPrimaryKey());
  Assert.assertEquals(existingVirtualHost.getVirtualHostId(),newVirtualHost.getVirtualHostId());
  Assert.assertEquals(existingVirtualHost.getCompanyId(),newVirtualHost.getCompanyId());
  Assert.assertEquals(existingVirtualHost.getLayoutSetId(),newVirtualHost.getLayoutSetId());
  Assert.assertEquals(existingVirtualHost.getHostname(),newVirtualHost.getHostname());
}
