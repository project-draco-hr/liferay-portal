{
  long pk=RandomTestUtil.nextLong();
  VirtualHost newVirtualHost=_persistence.create(pk);
  newVirtualHost.setMvccVersion(RandomTestUtil.nextLong());
  newVirtualHost.setCompanyId(RandomTestUtil.nextLong());
  newVirtualHost.setLayoutSetId(RandomTestUtil.nextLong());
  newVirtualHost.setHostname(RandomTestUtil.randomString());
  _models.add(_persistence.update(newVirtualHost));
  VirtualHost existingVirtualHost=_persistence.findByPrimaryKey(newVirtualHost.getPrimaryKey());
  Assert.assertEquals(existingVirtualHost.getMvccVersion(),newVirtualHost.getMvccVersion());
  Assert.assertEquals(existingVirtualHost.getVirtualHostId(),newVirtualHost.getVirtualHostId());
  Assert.assertEquals(existingVirtualHost.getCompanyId(),newVirtualHost.getCompanyId());
  Assert.assertEquals(existingVirtualHost.getLayoutSetId(),newVirtualHost.getLayoutSetId());
  Assert.assertEquals(existingVirtualHost.getHostname(),newVirtualHost.getHostname());
}
