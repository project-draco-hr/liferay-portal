{
  if (!PropsValues.HIBERNATE_CACHE_USE_SECOND_LEVEL_CACHE) {
    return;
  }
  VirtualHost newVirtualHost=addVirtualHost();
  _persistence.clearCache();
  VirtualHost existingVirtualHost=_persistence.findByPrimaryKey(newVirtualHost.getPrimaryKey());
  Assert.assertTrue(Validator.equals(existingVirtualHost.getHostname(),ReflectionTestUtil.invoke(existingVirtualHost,"getOriginalHostname",new Class<?>[0])));
  Assert.assertEquals(existingVirtualHost.getCompanyId(),ReflectionTestUtil.invoke(existingVirtualHost,"getOriginalCompanyId",new Class<?>[0]));
  Assert.assertEquals(existingVirtualHost.getLayoutSetId(),ReflectionTestUtil.invoke(existingVirtualHost,"getOriginalLayoutSetId",new Class<?>[0]));
}
