{
  long roleId=ParamUtil.getLong(actionRequest,"roleId");
  long[] addUserIds=StringUtil.split(ParamUtil.getString(actionRequest,"addUserIds"),0L);
  long[] removeUserIds=StringUtil.split(ParamUtil.getString(actionRequest,"removeUserIds"),0L);
  Role role=RoleLocalServiceUtil.getRole(roleId);
  if (role.getName().equals(RoleImpl.OWNER)) {
    throw new RoleAssignmentException(role.getName());
  }
  UserServiceUtil.addRoleUsers(roleId,addUserIds);
  UserServiceUtil.unsetRoleUsers(roleId,removeUserIds);
}
