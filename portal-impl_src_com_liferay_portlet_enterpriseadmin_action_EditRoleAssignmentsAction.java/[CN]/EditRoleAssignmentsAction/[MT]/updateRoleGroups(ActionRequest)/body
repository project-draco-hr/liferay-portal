{
  long roleId=ParamUtil.getLong(actionRequest,"roleId");
  long[] addGroupIds=StringUtil.split(ParamUtil.getString(actionRequest,"addGroupIds"),0L);
  long[] removeGroupIds=StringUtil.split(ParamUtil.getString(actionRequest,"removeGroupIds"),0L);
  Role role=RoleLocalServiceUtil.getRole(roleId);
  if (role.getName().equals(RoleImpl.OWNER)) {
    throw new RoleAssignmentException(role.getName());
  }
  GroupServiceUtil.addRoleGroups(roleId,addGroupIds);
  GroupServiceUtil.unsetRoleGroups(roleId,removeGroupIds);
}
