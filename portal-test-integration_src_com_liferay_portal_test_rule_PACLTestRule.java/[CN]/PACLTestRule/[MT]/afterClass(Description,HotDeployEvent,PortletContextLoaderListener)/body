{
  LazyConnectionDataSourceProxy lazyConnectionDataSourceProxy=(LazyConnectionDataSourceProxy)InfrastructureUtil.getDataSource();
  DataSource paclDataSource=lazyConnectionDataSourceProxy.getTargetDataSource();
  Field field=ReflectionUtil.getDeclaredField(paclDataSource.getClass(),"_dataSource");
  field.set(paclDataSource,_originalDataSource);
  HotDeployUtil.fireUndeployEvent(hotDeployEvent);
  ClassLoaderPool.register(hotDeployEvent.getServletContextName(),hotDeployEvent.getContextClassLoader());
  PortletClassLoaderUtil.setServletContextName(hotDeployEvent.getServletContextName());
  try {
    portletContextLoaderListener.contextDestroyed(new ServletContextEvent(hotDeployEvent.getServletContext()));
  }
  finally {
    ClassLoaderPool.unregister(hotDeployEvent.getServletContextName());
    PortletClassLoaderUtil.setServletContextName(null);
  }
}
