{
  this.portletId=portletId;
  classNames=new String[]{className};
  Class<?> clazz=getClass();
  ClassLoader classLoader=clazz.getClassLoader();
  int pos=className.indexOf(".model.");
  String simpleClassName=className.substring(pos + 7);
  String serviceClassName=className.substring(0,pos) + ".service." + simpleClassName+ "LocalServiceUtil";
  Class<?> serviceClass=classLoader.loadClass(serviceClassName);
  getModelMethod=serviceClass.getMethod("get" + simpleClassName,new Class[]{long.class});
  getModelsCountMethod=serviceClass.getMethod("get" + TextFormatter.formatPlural(simpleClassName) + "Count",new Class[0]);
  getModelsMethod=serviceClass.getMethod("get" + TextFormatter.formatPlural(simpleClassName),new Class[]{int.class,int.class});
}
