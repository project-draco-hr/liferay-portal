{
  String result=s;
  TagsEntry entry=null;
  if (entryName != null) {
    try {
      entry=TagsEntryLocalServiceUtil.getEntry(groupId,entryName);
    }
 catch (    NoSuchEntryException nsee) {
    }
  }
  if (entry != null) {
    List<TagsProperty> properties=TagsPropertyLocalServiceUtil.getProperties(entry.getEntryId());
    for (    TagsProperty property : properties) {
      result=StringUtil.replace(result,"[$" + property.getKey() + "$]",property.getValue());
    }
  }
  return StringUtil.stripBetween(result,"[$","$]");
}
