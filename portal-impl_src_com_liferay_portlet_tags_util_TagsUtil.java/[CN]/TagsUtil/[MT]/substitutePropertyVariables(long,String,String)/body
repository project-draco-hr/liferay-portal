{
  String result=s;
  if (entryName != null) {
    TagsEntry entry=TagsEntryLocalServiceUtil.getEntry(companyId,entryName);
    List properties=TagsPropertyLocalServiceUtil.getProperties(entry.getEntryId());
    Iterator it=properties.iterator();
    while (it.hasNext()) {
      TagsProperty property=(TagsProperty)it.next();
      result=StringUtil.replace(result,"[$" + property.getKey() + "$]",property.getValue());
    }
  }
  return StringUtil.stripBetween(result,"[$","$]");
}
