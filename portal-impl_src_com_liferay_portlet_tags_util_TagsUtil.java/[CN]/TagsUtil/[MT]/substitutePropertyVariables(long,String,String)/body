{
  String result=s;
  TagsEntry entry=null;
  if (entryName != null) {
    try {
      entry=TagsEntryLocalServiceUtil.getEntry(companyId,entryName);
    }
 catch (    NoSuchEntryException nsee) {
    }
  }
  if (entry != null) {
    List properties=TagsPropertyLocalServiceUtil.getProperties(entry.getEntryId());
    Iterator it=properties.iterator();
    while (it.hasNext()) {
      TagsProperty property=(TagsProperty)it.next();
      result=StringUtil.replace(result,"[$" + property.getKey() + "$]",property.getValue());
    }
  }
  return StringUtil.stripBetween(result,"[$","$]");
}
