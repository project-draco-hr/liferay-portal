{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  List<TagsVocabulary> vocabularies=TagsVocabularyLocalServiceUtil.getCompanyVocabularies(themeDisplay.getCompanyId(),false);
  String tagsEntriesString=ParamUtil.getString(actionRequest,"tagsEntries");
  for (  TagsVocabulary vocabulary : vocabularies) {
    String vocabularyParamName=TagsEntryConstants.VOCABULARY + String.valueOf(vocabulary.getVocabularyId());
    long entryId=ParamUtil.getLong(actionRequest,vocabularyParamName);
    if (Validator.isNotNull(entryId)) {
      if (Validator.isNotNull(tagsEntriesString)) {
        tagsEntriesString+=",";
      }
      TagsEntry entry=TagsEntryLocalServiceUtil.getEntry(entryId);
      tagsEntriesString+=entry.getName();
    }
  }
  return StringUtil.split(tagsEntriesString);
}
