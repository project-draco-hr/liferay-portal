{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String tagsEntries=ParamUtil.getString(actionRequest,"tagsEntries");
  List<TagsVocabulary> vocabularies=TagsVocabularyLocalServiceUtil.getCompanyVocabularies(themeDisplay.getCompanyId(),false);
  for (  TagsVocabulary vocabulary : vocabularies) {
    String vocabularyParamName=TagsEntryConstants.VOCABULARY + String.valueOf(vocabulary.getVocabularyId());
    long entryId=ParamUtil.getLong(actionRequest,vocabularyParamName);
    if (entryId <= 0) {
      continue;
    }
    if (Validator.isNotNull(tagsEntries)) {
      tagsEntries+=StringPool.COMMA;
    }
    TagsEntry entry=TagsEntryLocalServiceUtil.getEntry(entryId);
    tagsEntries+=entry.getName();
  }
  return StringUtil.split(tagsEntries);
}
