{
  long fileShortcutId=ParamUtil.getLong(req,"fileShortcutId");
  long folderId=ParamUtil.getLong(req,"folderId");
  long toFolderId=ParamUtil.getLong(req,"toFolderId");
  String toName=Html.unescape(ParamUtil.getString(req,"toName"));
  String[] communityPermissions=req.getParameterValues("communityPermissions");
  String[] guestPermissions=req.getParameterValues("guestPermissions");
  if (fileShortcutId <= 0) {
    DLFileShortcutServiceUtil.addFileShortcut(folderId,toFolderId,toName,communityPermissions,guestPermissions);
  }
 else {
    DLFileShortcutServiceUtil.updateFileShortcut(fileShortcutId,folderId,toFolderId,toName);
  }
}
