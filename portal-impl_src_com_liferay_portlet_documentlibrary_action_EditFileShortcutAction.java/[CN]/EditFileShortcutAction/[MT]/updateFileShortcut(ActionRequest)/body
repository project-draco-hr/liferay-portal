{
  long fileShortcutId=ParamUtil.getLong(actionRequest,"fileShortcutId");
  long folderId=ParamUtil.getLong(actionRequest,"folderId");
  long toFolderId=ParamUtil.getLong(actionRequest,"toFolderId");
  String toName=HtmlUtil.unescape(ParamUtil.getString(actionRequest,"toName"));
  String[] communityPermissions=actionRequest.getParameterValues("communityPermissions");
  String[] guestPermissions=actionRequest.getParameterValues("guestPermissions");
  if (fileShortcutId <= 0) {
    DLFileShortcutServiceUtil.addFileShortcut(folderId,toFolderId,toName,communityPermissions,guestPermissions);
  }
 else {
    DLFileShortcutServiceUtil.updateFileShortcut(fileShortcutId,folderId,toFolderId,toName);
  }
}
