{
  for (  String[] convertedLegacyModule : _convertedLegacyModules) {
    PreparedStatement ps=null;
    ResultSet rs=null;
    String oldServletContextName=convertedLegacyModule[0];
    String newServletContextName=convertedLegacyModule[1];
    String buildNamespace=convertedLegacyModule[2];
    String portletId=convertedLegacyModule[3];
    try {
      ps=connection.prepareStatement("select servletContextName, buildNumber from Release_ " + "where servletContextName = ?");
      ps.setString(1,oldServletContextName);
      rs=ps.executeQuery();
      if (!rs.next()) {
        if (isInstalled(buildNamespace,portletId)) {
          _registerStartVersion(newServletContextName);
        }
      }
 else {
        _updateServletContextName(oldServletContextName,newServletContextName);
      }
    }
  finally {
      DataAccess.cleanUp(ps,rs);
    }
  }
}
