{
  for (  String[] convertedLegacyModule : _convertedLegacyModules) {
    String oldServletContextName=convertedLegacyModule[0];
    String newServletContextName=convertedLegacyModule[1];
    String buildNamespace=convertedLegacyModule[2];
    String portletId=convertedLegacyModule[3];
    PreparedStatement ps=null;
    ResultSet rs=null;
    try {
      ps=connection.prepareStatement("select servletContextName, buildNumber from Release_ " + "where servletContextName = ?");
      ps.setString(1,oldServletContextName);
      rs=ps.executeQuery();
      if (!rs.next()) {
        if (hasPortlet(portletId) || hasServiceComponent(buildNamespace)) {
          addRelease(newServletContextName);
        }
      }
 else {
        updateServletContextName(oldServletContextName,newServletContextName);
      }
    }
  finally {
      DataAccess.cleanUp(ps,rs);
    }
  }
}
