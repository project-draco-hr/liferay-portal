{
  if (LocaleUtil.equals(contentDefaultLocale,contentNewDefaultLocale)) {
    return xml;
  }
  Document document=SAXReaderUtil.read(xml);
  Element rootElement=document.getRootElement();
  Attribute availableLocalesAttribute=rootElement.attribute(_AVAILABLE_LOCALES);
  String contentNewDefaultLanguageId=LocaleUtil.toLanguageId(contentNewDefaultLocale);
  String availableLocalesAttributeValue=availableLocalesAttribute.getValue();
  if (!availableLocalesAttributeValue.contains(contentNewDefaultLanguageId)) {
    StringBundler sb=new StringBundler(3);
    sb.append(availableLocalesAttribute.getValue());
    sb.append(StringPool.COMMA);
    sb.append(contentNewDefaultLanguageId);
    availableLocalesAttribute.setValue(sb.toString());
  }
  Attribute defaultLocaleAttribute=rootElement.attribute(_DEFAULT_LOCALE);
  defaultLocaleAttribute.setValue(contentNewDefaultLanguageId);
  fixElementsDefaultLocale(rootElement,contentDefaultLocale,contentNewDefaultLocale);
  return document.formattedString();
}
