{
  ServiceRegistration<ItemSelectorReturnTypeResolver> returnTypeResolverServiceRegistration1=registerReturnTypeResolver(new TestItemSelectorReturnTypeResolver1(),100);
  ServiceRegistration<ItemSelectorReturnTypeResolver> returnTypeResolverServiceRegistration2=registerReturnTypeResolver(new TestItemSelectorReturnTypeResolver2(),200);
  ServiceRegistration<ItemSelectorReturnTypeResolver> returnTypeResolverServiceRegistration3=registerReturnTypeResolver(new TestItemSelectorReturnTypeResolver3(),50);
  List<ServiceRegistration> serviceRegistrations=new CopyOnWriteArrayList<>();
  serviceRegistrations.add(returnTypeResolverServiceRegistration1);
  serviceRegistrations.add(returnTypeResolverServiceRegistration2);
  serviceRegistrations.add(returnTypeResolverServiceRegistration3);
  try {
    ItemSelectorReturnTypeResolver itemSelectorReturnTypeResolver=_itemSelectorReturnTypeResolverHandler.getItemSelectorReturnTypeResolver(TestItemSelectorReturnType.class,String.class);
    Assert.assertTrue(itemSelectorReturnTypeResolver instanceof TestItemSelectorReturnTypeResolver2);
  }
  finally {
    _unregister(serviceRegistrations);
  }
}
