{
  EntryLoaderMockBundle bundleWebxml=new EntryLoaderMockBundle("dependencies/custom-web.xml");
  WebXMLDefinitionLoader webXMLDefinitionLoader=new WebXMLDefinitionLoader(bundleWebxml,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition webXMLDefinition=webXMLDefinitionLoader.loadWebXML(bundleWebxml.getEntry());
  EntryLoaderMockBundle bundleFragment1=new EntryLoaderMockBundle("dependencies/custom-web-fragment1.xml");
  WebXMLDefinitionLoader fragment1DefinitionLoader=new WebXMLDefinitionLoader(bundleFragment1,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition fragment1Definition=fragment1DefinitionLoader.loadWebXML(bundleFragment1.getEntry());
  EntryLoaderMockBundle bundleFragment2=new EntryLoaderMockBundle("dependencies/custom-web-fragment2.xml");
  WebXMLDefinitionLoader fragment2DefinitionLoader=new WebXMLDefinitionLoader(bundleFragment2,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition fragment2Definition=fragment2DefinitionLoader.loadWebXML(bundleFragment2.getEntry());
  EntryLoaderMockBundle bundleFragment4=new EntryLoaderMockBundle("dependencies/custom-web-fragment4.xml");
  WebXMLDefinitionLoader fragment4DefinitionLoader=new WebXMLDefinitionLoader(bundleFragment4,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition fragment4Definition=fragment4DefinitionLoader.loadWebXML(bundleFragment4.getEntry());
  List<WebXMLDefinition> definitions=new ArrayList<>();
  definitions.add(fragment2Definition);
  definitions.add(fragment1Definition);
  definitions.add(fragment4Definition);
  List<WebXMLDefinition> sortedDefinitions=OrderUtil.getWebXMLDefinitionOrder(definitions,webXMLDefinition.getAbsoluteOrderNames());
  Assert.assertEquals(3,sortedDefinitions.size());
  WebXMLDefinition firstDefinition=sortedDefinitions.get(0);
  Assert.assertEquals("fragment4",firstDefinition.getFragmentName());
  WebXMLDefinition secondDefinition=sortedDefinitions.get(1);
  Assert.assertEquals("fragment1",secondDefinition.getFragmentName());
  WebXMLDefinition thirdDefinition=sortedDefinitions.get(2);
  Assert.assertEquals("fragment2",thirdDefinition.getFragmentName());
}
