{
  EntryLoaderMockBundle bundleAbsoluteOrdering=new EntryLoaderMockBundle("dependencies/custom-web.xml");
  WebXMLDefinitionLoader webXMLDefinitionLoader=new WebXMLDefinitionLoader(bundleAbsoluteOrdering,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition webXMLDefinition=webXMLDefinitionLoader.loadWebXML(bundleAbsoluteOrdering.getEntry());
  EntryLoaderMockBundle bundleFragment1=new EntryLoaderMockBundle("dependencies/custom-web-fragment1.xml");
  WebXMLDefinitionLoader fragment1DefinitionLoader=new WebXMLDefinitionLoader(bundleFragment1,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition fragment1Definition=fragment1DefinitionLoader.loadWebXML(bundleFragment1.getEntry());
  EntryLoaderMockBundle bundleFragment3=new EntryLoaderMockBundle("dependencies/custom-web-fragment3.xml");
  WebXMLDefinitionLoader fragment3DefinitionLoader=new WebXMLDefinitionLoader(bundleFragment3,SAXParserFactory.newInstance(),new Logger(null));
  WebXMLDefinition fragment3Definition=fragment3DefinitionLoader.loadWebXML(bundleFragment3.getEntry());
  List<WebXMLDefinition> definitions=new ArrayList<>();
  definitions.add(fragment1Definition);
  definitions.add(fragment3Definition);
  List<WebXMLDefinition> sortedDefinitions=OrderUtil.getOrderedWebXMLDefinitions(definitions,webXMLDefinition.getAbsoluteOrderNames());
  Assert.assertEquals(2,sortedDefinitions.size());
  WebXMLDefinition firstDefinition=sortedDefinitions.get(0);
  Assert.assertEquals("fragment1",firstDefinition.getFragmentName());
  WebXMLDefinition secondDefinition=sortedDefinitions.get(1);
  Assert.assertEquals("fragment3",secondDefinition.getFragmentName());
}
