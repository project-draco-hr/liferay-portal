{
  PortletURL portletURL=PortletURLFactoryUtil.create(portletRequest,MBPortletKeys.MESSAGE_BOARDS_ADMIN,themeDisplay.getPlid(),PortletRequest.ACTION_PHASE);
  portletURL.setParameter(ActionRequest.ACTION_NAME,"/message_boards/edit_message");
  if (_thread.isLocked()) {
    portletURL.setParameter(Constants.CMD,Constants.UNLOCK);
  }
 else {
    portletURL.setParameter(Constants.CMD,Constants.LOCK);
  }
  portletURL.setParameter("redirect",PortalUtil.getCurrentURL(portletRequest));
  portletURL.setParameter("threadId",String.valueOf(_thread.getThreadId()));
  return portletURL.toString();
}
