{
  ConfigurationContainer configurationContainer=project.getConfigurations();
  final Configuration configuration=configurationContainer.create(CONFIGURATION_NAME);
  configuration.setDescription("Configures Liferay WSDD Builder for this project.");
  configuration.setVisible(false);
  ResolvableDependencies resolvableDependencies=configuration.getIncoming();
  resolvableDependencies.beforeResolve(new Action<ResolvableDependencies>(){
    @Override public void execute(    ResolvableDependencies resolvableDependencies){
      Set<Dependency> dependencies=configuration.getDependencies();
      if (dependencies.isEmpty()) {
        addWSDDBuilderDependencies(project);
      }
    }
  }
);
  return configuration;
}
