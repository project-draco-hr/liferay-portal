{
  DLPortletInstanceSettings dlPortletInstanceSettings=_dlRequestHelper.getDLPortletInstanceSettings();
  String[] displayViews=dlPortletInstanceSettings.getDisplayViews();
  String displayStyle=ParamUtil.getString(_dlRequestHelper.getRequest(),"displayStyle");
  if (Validator.isNull(displayStyle)) {
    PortalPreferences portalPreferences=PortletPreferencesFactoryUtil.getPortalPreferences(_dlRequestHelper.getLiferayPortletRequest());
    displayStyle=portalPreferences.getValue(DLPortletKeys.DOCUMENT_LIBRARY,"display-style",PropsValues.DL_DEFAULT_DISPLAY_VIEW);
  }
  if (!ArrayUtil.contains(displayViews,displayStyle)) {
    displayStyle=displayViews[0];
  }
  return displayStyle;
}
