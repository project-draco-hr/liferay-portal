{
  portletDataContext.importPortletPermissions(JournalPermission.RESOURCE_NAME);
  if (portletDataContext.getBooleanParameter(NAMESPACE,"feeds")) {
    Element feedsElement=portletDataContext.getImportDataGroupElement(JournalFeed.class);
    List<Element> feedElements=feedsElement.elements();
    for (    Element feedElement : feedElements) {
      StagedModelDataHandlerUtil.importStagedModel(portletDataContext,feedElement);
    }
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"folders")) {
    Element foldersElement=portletDataContext.getImportDataGroupElement(JournalFolder.class);
    List<Element> folderElements=foldersElement.elements();
    for (    Element folderElement : folderElements) {
      StagedModelDataHandlerUtil.importStagedModel(portletDataContext,folderElement);
    }
  }
  Element articlesElement=portletDataContext.getImportDataGroupElement(JournalArticle.class);
  List<Element> articleElements=articlesElement.elements();
  if (portletDataContext.getBooleanParameter(NAMESPACE,"structures")) {
    Element ddmStructuresElement=portletDataContext.getImportDataGroupElement(DDMStructure.class);
    List<Element> ddmStructureElements=ddmStructuresElement.elements();
    for (    Element ddmStructureElement : ddmStructureElements) {
      StagedModelDataHandlerUtil.importStagedModel(portletDataContext,ddmStructureElement);
    }
    for (    Element articleElement : articleElements) {
      String className=articleElement.attributeValue("class-name");
      if (Validator.isNotNull(className) && className.equals(DDMStructure.class.getName())) {
        StagedModelDataHandlerUtil.importStagedModel(portletDataContext,articleElement);
      }
    }
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"templates")) {
    Element ddmTemplatesElement=portletDataContext.getImportDataGroupElement(DDMTemplate.class);
    List<Element> ddmTemplateElements=ddmTemplatesElement.elements();
    for (    Element ddmTemplateElement : ddmTemplateElements) {
      StagedModelDataHandlerUtil.importStagedModel(portletDataContext,ddmTemplateElement);
    }
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"web-content")) {
    for (    Element articleElement : articleElements) {
      StagedModelDataHandlerUtil.importStagedModel(portletDataContext,articleElement);
    }
    JournalContentUtil.clearCache();
  }
  return portletPreferences;
}
