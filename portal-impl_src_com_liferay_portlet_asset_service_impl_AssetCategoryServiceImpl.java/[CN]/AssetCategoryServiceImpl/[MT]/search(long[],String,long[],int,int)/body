{
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  for (  long groupId : groupIds) {
    JSONArray categoriesJSONArray=null;
    if (Validator.isNull(name)) {
      categoriesJSONArray=toJSONArray(assetCategoryPersistence.filterFindByG_V(groupId,vocabularyIds));
    }
 else {
      categoriesJSONArray=toJSONArray(assetCategoryPersistence.filterFindByG_LikeN_V(groupId,name,vocabularyIds));
    }
    for (int j=0; j < categoriesJSONArray.length(); j++) {
      jsonArray.put(categoriesJSONArray.getJSONObject(j));
    }
  }
  return jsonArray;
}
