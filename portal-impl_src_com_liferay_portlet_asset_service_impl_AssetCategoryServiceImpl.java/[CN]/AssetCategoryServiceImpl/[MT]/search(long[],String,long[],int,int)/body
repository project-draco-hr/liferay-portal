{
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  for (  long groupId : groupIds) {
    JSONArray categoryJSONArray;
    if (Validator.isNull(name)) {
      categoryJSONArray=toJSONArray(assetCategoryPersistence.filterFindByG_V(groupId,vocabularyIds));
    }
 else {
      categoryJSONArray=toJSONArray(assetCategoryPersistence.filterFindByG_N_V(groupId,name,vocabularyIds));
    }
    for (int j=0; j < categoryJSONArray.length(); j++) {
      jsonArray.put(categoryJSONArray.getJSONObject(j));
    }
  }
  return jsonArray;
}
