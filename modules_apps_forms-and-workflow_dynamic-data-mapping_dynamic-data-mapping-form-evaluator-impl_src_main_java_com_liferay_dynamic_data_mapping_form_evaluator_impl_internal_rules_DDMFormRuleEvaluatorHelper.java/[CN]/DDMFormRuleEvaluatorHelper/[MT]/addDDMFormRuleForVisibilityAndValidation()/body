{
  Map<String,DDMFormField> ddmFormFields=_ddmForm.getDDMFormFieldsMap(true);
  for (  DDMFormField ddmFormField : ddmFormFields.values()) {
    String visibilityExpression=ddmFormField.getVisibilityExpression();
    try {
      if (Validator.isNotNull(visibilityExpression) && !visibilityExpression.equals("TRUE")) {
        createDDMFormRule(ddmFormField.getName(),visibilityExpression);
      }
      DDMFormFieldValidation ddmFormFieldValidation=ddmFormField.getDDMFormFieldValidation();
      if (ddmFormFieldValidation != null) {
        createDDMFormRule(ddmFormField.getName(),ddmFormFieldValidation);
      }
    }
 catch (    Exception e) {
      if (_log.isDebugEnabled()) {
        _log.debug("Error processing visiblity expression for field: " + ddmFormField.getName() + ", visibilityExpression: "+ visibilityExpression,e);
      }
    }
  }
}
