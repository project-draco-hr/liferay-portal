{
  if (templateContextType.equals(TemplateContextType.EMPTY)) {
    return new FreeMarkerTemplate(templateId,templateContent,errorTemplateId,errorTemplateContent,null,_configuration,_templateContextHelper,_stringTemplateLoader);
  }
 else   if (templateContextType.equals(TemplateContextType.RESTRICTED)) {
    return new RestrictedTemplate(new FreeMarkerTemplate(templateId,templateContent,errorTemplateId,errorTemplateContent,_restrictedHelperUtilities,_configuration,_templateContextHelper,_stringTemplateLoader),_templateContextHelper.getRestrictedVariables());
  }
 else   if (templateContextType.equals(TemplateContextType.STANDARD)) {
    return new FreeMarkerTemplate(templateId,templateContent,errorTemplateId,errorTemplateContent,_standardHelperUtilities,_configuration,_templateContextHelper,_stringTemplateLoader);
  }
  return null;
}
