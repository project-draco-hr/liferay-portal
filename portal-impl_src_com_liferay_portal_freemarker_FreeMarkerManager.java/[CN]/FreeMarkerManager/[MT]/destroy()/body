{
  if (_configuration == null) {
    return;
  }
  _configuration.clearEncodingMap();
  _configuration.clearSharedVariables();
  _configuration.clearTemplateCache();
  _configuration=null;
  _templateContextHelper.removeAllHelperUtilities();
  _templateContextHelper=null;
  if (System.getProperty("freemarker.debug.password") != null && System.getProperty("freemarker.debug.port") != null) {
    DebuggerService.shutdown();
  }
}
