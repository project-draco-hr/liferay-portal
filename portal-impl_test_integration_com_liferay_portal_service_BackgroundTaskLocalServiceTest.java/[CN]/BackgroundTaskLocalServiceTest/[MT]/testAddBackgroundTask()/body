{
  long userId=_user.getUserId();
  long groupId=_group.getGroupId();
  Map<String,Serializable> taskContextMap=getRandomTaskContextMap();
  BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.addBackgroundTask(userId,groupId,_BACKGROUND_TASK_NAME,null,_TASK_EXECUTOR_CLASS,taskContextMap,new ServiceContext());
  Assert.assertNotNull(backgroundTask);
  Assert.assertEquals(userId,backgroundTask.getUserId());
  Assert.assertEquals(groupId,backgroundTask.getGroupId());
  Assert.assertEquals(_BACKGROUND_TASK_NAME,backgroundTask.getName());
  Assert.assertEquals(_TASK_EXECUTOR_CLASS.getCanonicalName(),backgroundTask.getTaskExecutorClassName());
  assertMapEquals(taskContextMap,backgroundTask.getTaskContextMap());
}
