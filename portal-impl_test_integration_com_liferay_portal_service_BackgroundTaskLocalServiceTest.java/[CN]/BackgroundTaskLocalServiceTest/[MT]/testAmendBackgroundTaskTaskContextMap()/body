{
  long userId=_user.getUserId();
  long groupId=_group.getGroupId();
  ServiceContext serviceContext=new ServiceContext();
  BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.addBackgroundTask(userId,groupId,_BACKGROUND_TASK_NAME,null,_TASK_EXECUTOR_CLASS,getRandomTaskContextMap(),serviceContext);
  Map map=getRandomTaskContextMap();
  BackgroundTask ammendBackgroundTask=BackgroundTaskLocalServiceUtil.amendBackgroundTask(backgroundTask.getBackgroundTaskId(),map,backgroundTask.getStatus(),serviceContext);
  assertMapEquals(ammendBackgroundTask.getTaskContextMap(),map);
}
