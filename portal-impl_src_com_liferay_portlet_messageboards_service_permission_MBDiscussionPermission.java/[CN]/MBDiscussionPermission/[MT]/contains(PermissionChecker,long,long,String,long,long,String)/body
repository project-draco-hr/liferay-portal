{
  MBMessage message=MBMessageLocalServiceUtil.getMessage(messageId);
  if (message.isPending()) {
    Boolean hasPermission=WorkflowPermissionUtil.hasPermission(permissionChecker,message.getGroupId(),message.getWorkflowClassName(),message.getMessageId(),actionId);
    if (hasPermission != null) {
      return hasPermission.booleanValue();
    }
  }
  return contains(permissionChecker,companyId,groupId,className,classPK,actionId);
}
