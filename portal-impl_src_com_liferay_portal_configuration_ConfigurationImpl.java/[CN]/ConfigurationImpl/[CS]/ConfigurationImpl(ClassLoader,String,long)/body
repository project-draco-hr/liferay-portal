{
  try {
    URL url=classLoader.getResource(name + Conventions.PROPERTIES_EXTENSION);
    if ((url != null) && url.getProtocol().equals("file")) {
      String basePath=url.getPath();
      int pos=name.lastIndexOf(StringPool.SLASH + name + Conventions.PROPERTIES_EXTENSION);
      if (pos != -1) {
        basePath=basePath.substring(0,pos);
      }
      Properties properties=new Properties();
      properties.load(url.openStream());
      if (!properties.containsKey("base.path")) {
        Writer writer=new BufferedWriter(new FileWriter(url.getFile(),true));
        writer.write("\n\nbase.path=" + basePath);
        writer.close();
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  String webId=null;
  if (companyId > CompanyConstants.SYSTEM) {
    try {
      Company company=CompanyLocalServiceUtil.getCompanyById(companyId);
      webId=company.getWebId();
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  if (webId != null) {
    _componentConfiguration=EasyConf.getConfiguration(webId,getFileName(classLoader,name));
  }
 else {
    _componentConfiguration=EasyConf.getConfiguration(getFileName(classLoader,name));
  }
  printSources(companyId,webId);
}
