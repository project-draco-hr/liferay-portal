{
  try {
    URL url=classLoader.getResource(name + Conventions.PROPERTIES_EXTENSION);
    if ((url != null) && url.getProtocol().equals("file")) {
      String basePath=url.getPath();
      int pos=basePath.lastIndexOf(StringPool.SLASH + name + Conventions.PROPERTIES_EXTENSION);
      if (pos != -1) {
        basePath=basePath.substring(0,pos);
      }
      Properties properties=new Properties();
      properties.load(url.openStream());
      if (!properties.containsKey("base.path")) {
        String fileName=StringUtil.replace(url.getFile(),"%20",StringPool.SPACE);
        File file=new File(fileName);
        if (file.exists() && file.canWrite()) {
          Writer writer=new FileWriter(file,true);
          StringBundler sb=new StringBundler(4);
          sb.append(StringPool.OS_EOL);
          sb.append(StringPool.OS_EOL);
          sb.append("base.path=");
          sb.append(basePath);
          writer.write(sb.toString());
          writer.close();
        }
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  String webId=null;
  if (companyId > CompanyConstants.SYSTEM) {
    try {
      Company company=CompanyLocalServiceUtil.getCompanyById(companyId);
      webId=company.getWebId();
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  EasyConf.refreshAll();
  if (webId != null) {
    _componentConfiguration=EasyConf.getConfiguration(webId,getFileName(classLoader,name));
  }
 else {
    _componentConfiguration=EasyConf.getConfiguration(getFileName(classLoader,name));
  }
  printSources(companyId,webId);
}
