{
  Locale defaultLocale=LocaleUtil.getDefault();
  DDMForm ddmForm=createDDMForm(defaultLocale);
  DDMFormValues ddmFormValues=new DDMFormValues(ddmForm);
  ddmFormValues.addAvailableLocale(defaultLocale);
  ddmFormValues.setDefaultLocale(defaultLocale);
  for (  Field field : fields) {
    Class<?> fieldClass=field.getDeclaringClass();
    String fieldClassName=fieldClass.getSimpleName();
    String name=fieldClassName.concat(StringPool.UNDERLINE).concat(field.getName());
    String value=getMetadataValue(metadata,field);
    if (value == null) {
      continue;
    }
    DDMFormField ddmFormField=createTextDDMFormField(name);
    ddmForm.addDDMFormField(ddmFormField);
    DDMFormFieldValue ddmFormFieldValue=new DDMFormFieldValue();
    ddmFormFieldValue.setName(name);
    ddmFormFieldValue.setValue(new UnlocalizedValue(value));
    ddmFormValues.addDDMFormFieldValue(ddmFormFieldValue);
  }
  return ddmFormValues;
}
