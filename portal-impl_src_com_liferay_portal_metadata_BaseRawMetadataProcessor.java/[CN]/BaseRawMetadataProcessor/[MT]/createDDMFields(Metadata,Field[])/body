{
  Fields ddmFields=new Fields();
  for (  Field field : fields) {
    String value=getMetadataValue(metadata,field);
    if (value == null) {
      continue;
    }
    com.liferay.portlet.dynamicdatamapping.storage.Field ddmField=new com.liferay.portlet.dynamicdatamapping.storage.Field(field.getName(),value,FieldConstants.STRING);
    ddmFields.put(ddmField);
  }
  return ddmFields;
}
