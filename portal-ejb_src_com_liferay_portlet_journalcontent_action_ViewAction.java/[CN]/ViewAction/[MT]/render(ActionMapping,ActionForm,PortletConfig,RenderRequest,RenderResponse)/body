{
  PortletPreferences prefs=req.getPreferences();
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  String companyId=themeDisplay.getCompanyId();
  long groupId=GetterUtil.getLong(prefs.getValue("group-id",StringPool.BLANK));
  String[] articleIds=prefs.getValues("article-id",new String[0]);
  String languageId=LanguageUtil.getLanguageId(req);
  String[] content=new String[articleIds.length];
  for (int i=0; i < articleIds.length; i++) {
    content[i]=JournalContentUtil.getContent(companyId,groupId,articleIds[i],languageId,themeDisplay);
  }
  req.setAttribute(WebKeys.JOURNAL_ARTICLE_CONTENT,content);
  return mapping.findForward("portlet.journal_content.view");
}
