{
  long userId=portletDataContext.getUserId(fileEntry.getUserUuid());
  FileEntry existingFileEntry=fetchStagedModelByUuidAndGroupId(fileEntry.getUuid(),portletDataContext.getScopeGroupId());
  if ((existingFileEntry == null) || !existingFileEntry.isInTrash()) {
    return;
  }
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(DLFileEntry.class.getName());
  if (trashHandler.isRestorable(existingFileEntry.getFileEntryId())) {
    trashHandler.restoreTrashEntry(userId,existingFileEntry.getFileEntryId());
  }
}
