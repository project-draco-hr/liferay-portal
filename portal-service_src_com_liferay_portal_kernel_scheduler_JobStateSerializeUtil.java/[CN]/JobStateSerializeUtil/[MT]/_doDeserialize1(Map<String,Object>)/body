{
  Map<Exception,Date> exceptionsMap=(Map<Exception,Date>)jobStateMap.get(_EXCEPTIONS_FIELD);
  int exceptionsMaxSize=(Integer)jobStateMap.get(_EXCEPTIONS_MAX_SIZE_FIELD);
  String triggerStateString=(String)jobStateMap.get(_TRIGGER_STATE_FIELD);
  Map<String,Date> triggerTimeInfomation=(Map<String,Date>)jobStateMap.get(_TRIGGER_TIME_INFOMATION_FIELD);
  TriggerState triggerState=null;
  try {
    triggerState=TriggerState.valueOf(triggerStateString);
  }
 catch (  Exception ex) {
    throw new IllegalStateException("Unable to cast string " + triggerStateString + " to TriggerState enum type",ex);
  }
  JobState jobState=new JobState(triggerState,exceptionsMaxSize);
  if (exceptionsMap != null) {
    Set<Map.Entry<Exception,Date>> entries=exceptionsMap.entrySet();
    for (    Map.Entry<Exception,Date> entry : entries) {
      jobState.addException(entry.getKey(),entry.getValue());
    }
  }
  if (triggerTimeInfomation != null) {
    Set<Map.Entry<String,Date>> entries=triggerTimeInfomation.entrySet();
    for (    Map.Entry<String,Date> entry : entries) {
      jobState.setTriggerTimeInfomation(entry.getKey(),entry.getValue());
    }
  }
  return jobState;
}
