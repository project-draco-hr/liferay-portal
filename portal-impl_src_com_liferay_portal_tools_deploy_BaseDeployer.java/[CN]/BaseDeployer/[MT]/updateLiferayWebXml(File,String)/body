{
  webXmlContent=WebXMLBuilder.organizeWebXML(webXmlContent);
  int x=webXmlContent.indexOf("<filter>");
  int y=webXmlContent.lastIndexOf("</filter-mapping>");
  if ((x == -1) || (y == -1)) {
    return webXmlContent;
  }
  boolean liferayWebXmlEnabled=true;
  Properties properties=getPluginPackageProperties(srcFile);
  if (properties != null) {
    liferayWebXmlEnabled=GetterUtil.getBoolean(properties.getProperty("liferay-web-xml-enabled"),true);
  }
  if (!liferayWebXmlEnabled) {
    return webXmlContent;
  }
  String filterContent=webXmlContent.substring(x,y + 17);
  String liferayWebXmlContent=FileUtil.read(DeployUtil.getResourcePath("web.xml"));
  int z=liferayWebXmlContent.indexOf("</web-app>");
  liferayWebXmlContent=liferayWebXmlContent.substring(0,z) + filterContent + liferayWebXmlContent.substring(z);
  liferayWebXmlContent=WebXMLBuilder.organizeWebXML(liferayWebXmlContent);
  FileUtil.write(srcFile + "/WEB-INF/liferay-web.xml",liferayWebXmlContent);
  webXmlContent=webXmlContent.substring(0,x) + getInvokerFilterContent() + webXmlContent.substring(y + 17);
  return webXmlContent;
}
