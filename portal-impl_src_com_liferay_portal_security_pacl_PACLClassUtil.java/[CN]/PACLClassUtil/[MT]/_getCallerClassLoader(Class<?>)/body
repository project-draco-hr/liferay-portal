{
  ClassLoader callerClassLoader=callerClass.getClassLoader();
  if (callerClassLoader == null) {
    return null;
  }
  Class<?> callerClassLoaderClass=callerClassLoader.getClass();
  String callerClassLoaderClassName=callerClassLoaderClass.getName();
  if (callerClassLoader instanceof FilterClassLoader) {
    callerClassLoader=callerClassLoader.getParent();
    if (callerClassLoader instanceof AggregateClassLoader) {
      callerClassLoader=callerClassLoader.getParent();
    }
  }
  if (callerClassLoaderClassName.equals(_JASPER_LOADER_CLASS_NAME)) {
    callerClassLoader=callerClassLoader.getParent();
  }
  return callerClassLoader;
}
