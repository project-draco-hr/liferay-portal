{
  boolean enabled=PortalSecurityManagerThreadLocal.isEnabled();
  try {
    PortalSecurityManagerThreadLocal.setEnabled(false);
    ClassLoader classLoader=clazz.getClassLoader();
    if (classLoader == null) {
      return StringPool.BLANK;
    }
    String className=clazz.getName();
    String name=StringUtil.replace(className,StringPool.PERIOD,StringPool.SLASH);
    name+=".class";
    URL url=classLoader.getResource(name);
    return url.toString();
  }
  finally {
    PortalSecurityManagerThreadLocal.setEnabled(enabled);
  }
}
