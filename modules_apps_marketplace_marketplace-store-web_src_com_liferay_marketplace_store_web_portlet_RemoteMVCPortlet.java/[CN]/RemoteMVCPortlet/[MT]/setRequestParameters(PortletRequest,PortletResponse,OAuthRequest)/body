{
  String currentURL=PortalUtil.getCurrentURL(portletRequest);
  oAuthRequest.addQuerystringParameter("remoteURL",currentURL);
  oAuthRequest.addQuerystringParameter("remotePortletNamespace",portletResponse.getNamespace());
  Map<String,String[]> parameterMap=portletRequest.getParameterMap();
  for (  Map.Entry<String,String[]> entry : parameterMap.entrySet()) {
    String[] values=entry.getValue();
    if (ArrayUtil.isEmpty(values) || Validator.isNull(values[0])) {
      continue;
    }
    oAuthRequest.addQuerystringParameter(PortalUtil.getPortletNamespace(OSB_PORTLET_ID) + entry.getKey(),values[0]);
  }
}
