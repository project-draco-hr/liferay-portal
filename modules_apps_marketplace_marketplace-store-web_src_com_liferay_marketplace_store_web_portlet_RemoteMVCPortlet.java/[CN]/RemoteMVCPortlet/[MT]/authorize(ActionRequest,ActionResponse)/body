{
  PortletSession portletSession=actionRequest.getPortletSession();
  OAuthService oAuthService=_oAuthManager.getOAuthService();
  Token requestToken=oAuthService.getRequestToken();
  portletSession.setAttribute(MarketplaceStoreWebKeys.OAUTH_REQUEST_TOKEN,requestToken);
  String redirect=oAuthService.getAuthorizationUrl(requestToken);
  String callbackURL=ParamUtil.getString(actionRequest,"callbackURL");
  redirect=HttpUtil.addParameter(redirect,OAuthConstants.CALLBACK,callbackURL);
  actionResponse.sendRedirect(redirect);
}
