{
  if (_writer != null) {
    throw new IllegalStateException();
  }
  if (_stream == null) {
    if (_unsyncByteArrayOutputStream != null) {
      _stream=new GZipServletOutputStream(_unsyncByteArrayOutputStream);
    }
 else {
      _stream=new GZipServletOutputStream(_response.getOutputStream());
    }
  }
  return _stream;
}
