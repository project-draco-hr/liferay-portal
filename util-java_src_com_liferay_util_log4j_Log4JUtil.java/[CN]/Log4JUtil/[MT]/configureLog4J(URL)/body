{
  if (url == null) {
    return;
  }
  if (!ServerDetector.isJBoss()) {
    DOMConfigurator.configure(url);
  }
  Set<String> currentLoggerNames=new HashSet<String>();
  Enumeration<Logger> enu=LogManager.getCurrentLoggers();
  while (enu.hasMoreElements()) {
    Logger logger=enu.nextElement();
    currentLoggerNames.add(logger.getName());
  }
  try {
    SAXReader reader=new SAXReader();
    Document doc=reader.read(url);
    Element root=doc.getRootElement();
    Iterator<Element> itr=root.elements("category").iterator();
    while (itr.hasNext()) {
      Element category=itr.next();
      String name=category.attributeValue("name");
      String priority=category.element("priority").attributeValue("value");
      setLevel(name,priority);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
