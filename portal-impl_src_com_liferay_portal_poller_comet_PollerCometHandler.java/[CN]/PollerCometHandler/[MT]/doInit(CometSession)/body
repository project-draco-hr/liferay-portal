{
  CometRequest cometRequest=cometSession.getCometRequest();
  _companyId=cometRequest.getCompanyId();
  _userId=cometRequest.getUserId();
  String pollerRequestString=cometRequest.getParameter("pollerRequest");
  JSONObject pollerResponseHeaderJSONObject=PollerRequestHandlerUtil.processRequest(cometRequest.getPathInfo(),pollerRequestString);
  if (pollerResponseHeaderJSONObject != null) {
    _channelListener=new PollerCometChannelListener(cometSession,pollerResponseHeaderJSONObject);
    ChannelHubManagerUtil.registerChannelListener(_companyId,_userId,_channelListener);
  }
 else {
    cometSession.close();
  }
}
