{
  CometRequest cometRequest=cometSession.getCometRequest();
  String pollerRequestString=cometRequest.getParameter("pollerRequest");
  _companyId=cometRequest.getCompanyId();
  _userId=cometRequest.getUserId();
  JSONObject pollerResponseHeader=PollerRequestHandlerUtil.processRequest(cometRequest.getPathInfo(),pollerRequestString);
  if (pollerResponseHeader != null) {
    _cometPollerChannelListener=new PollerCometChannelListener(getCometSession(),pollerResponseHeader);
    ChannelHubManagerUtil.registerChannelListener(_companyId,_userId,_cometPollerChannelListener);
  }
 else {
    getCometSession().close();
  }
}
