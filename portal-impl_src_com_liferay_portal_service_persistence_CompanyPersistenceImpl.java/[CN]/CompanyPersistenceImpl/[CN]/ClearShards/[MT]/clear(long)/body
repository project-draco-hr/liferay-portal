{
  ModelListener[] shardListeners=shardPersistence.getListeners();
  List<com.liferay.portal.model.Shard> shards=null;
  if ((listeners.length > 0) || (shardListeners.length > 0)) {
    shards=getShards(companyId);
    for (    com.liferay.portal.model.Shard shard : shards) {
      for (      ModelListener listener : listeners) {
        listener.onBeforeRemoveAssociation(companyId,com.liferay.portal.model.Shard.class.getName(),shard.getPrimaryKey());
      }
      for (      ModelListener listener : shardListeners) {
        listener.onBeforeRemoveAssociation(shard.getPrimaryKey(),Company.class.getName(),companyId);
      }
    }
  }
  _sqlUpdate.update(new Object[]{new Long(companyId)});
  if ((listeners.length > 0) || (shardListeners.length > 0)) {
    for (    com.liferay.portal.model.Shard shard : shards) {
      for (      ModelListener listener : listeners) {
        listener.onAfterRemoveAssociation(companyId,com.liferay.portal.model.Shard.class.getName(),shard.getPrimaryKey());
      }
      for (      ModelListener listener : shardListeners) {
        listener.onBeforeRemoveAssociation(shard.getPrimaryKey(),Company.class.getName(),companyId);
      }
    }
  }
}
