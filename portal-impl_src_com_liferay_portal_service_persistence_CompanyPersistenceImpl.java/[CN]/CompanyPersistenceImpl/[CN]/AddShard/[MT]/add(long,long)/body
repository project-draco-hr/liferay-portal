{
  if (!_persistenceImpl.containsShard.contains(companyId,shardId)) {
    ModelListener[] shardListeners=shardPersistence.getListeners();
    for (    ModelListener listener : listeners) {
      listener.onBeforeAddAssociation(companyId,com.liferay.portal.model.Shard.class.getName(),shardId);
    }
    for (    ModelListener listener : shardListeners) {
      listener.onBeforeAddAssociation(shardId,Company.class.getName(),companyId);
    }
    _sqlUpdate.update(new Object[]{new Long(companyId),new Long(shardId)});
    for (    ModelListener listener : listeners) {
      listener.onAfterAddAssociation(companyId,com.liferay.portal.model.Shard.class.getName(),shardId);
    }
    for (    ModelListener listener : shardListeners) {
      listener.onAfterAddAssociation(shardId,Company.class.getName(),companyId);
    }
  }
}
