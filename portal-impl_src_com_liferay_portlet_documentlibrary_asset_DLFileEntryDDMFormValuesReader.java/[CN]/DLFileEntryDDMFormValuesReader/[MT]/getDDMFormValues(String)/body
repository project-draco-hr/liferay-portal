{
  DLFileEntryMetadata dlFileEntryMetadata=getDLFileEntryMetadata();
  if (dlFileEntryMetadata == null) {
    return new DDMFormValues(null);
  }
  DDMStructure ddmStructure=dlFileEntryMetadata.getDDMStructure();
  DDMForm ddmForm=ddmStructure.getDDMForm();
  Map<String,DDMFormField> currentDDMFormFieldsMap=ddmForm.getDDMFormFieldsMap(false);
  DDMFormValues ddmFormValues=new DDMFormValues(ddmForm);
  DDMFormValues ddmStorageDDMFormValues=StorageEngineUtil.getDDMFormValues(dlFileEntryMetadata.getDDMStorageId());
  for (  DDMFormFieldValue ddmFormFieldValue : ddmStorageDDMFormValues.getDDMFormFieldValues()) {
    DDMFormField ddmFormField=currentDDMFormFieldsMap.get(ddmFormFieldValue.getName());
    if (ddmFormFieldType.equals(ddmFormField.getType())) {
      ddmFormValues.addDDMFormFieldValue(ddmFormFieldValue);
    }
  }
  return ddmFormValues;
}
