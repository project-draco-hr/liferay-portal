{
  String type=JournalConfig.JOURNAL_CONFIG + "." + portletId;
  String name=JournalConfig.JOURNAL_CONFIG;
  List configs=getAdminConfig(companyId,type);
  AdminConfig config=null;
  JournalConfig journalConfig=null;
  if (configs.size() == 0) {
    String configId=Long.toString(CounterServiceUtil.increment(AdminConfig.class.getName()));
    Company company=CompanyLocalServiceUtil.getCompany(companyId);
    journalConfig=new JournalConfig(JournalConfig.DEFAULT_ALLOW_SIMPLE_ARTICLES,_getJournalApprovalRequestedEmail(),_getJournalApprovalGrantedEmail(),_getJournalApprovalDeniedEmail());
    config=AdminConfigUtil.create(configId);
    config.setCompanyId(companyId);
    config.setType(type);
    config.setName(name);
    config.setConfigObj(journalConfig);
    AdminConfigUtil.update(config);
    configs.add(config);
  }
 else {
    config=(AdminConfig)configs.iterator().next();
    journalConfig=(JournalConfig)config.getConfigObj();
  }
  return journalConfig;
}
