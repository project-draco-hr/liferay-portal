{
  String companyId=getUser().getCompanyId();
  if (!hasAdministrator(companyId)) {
    throw new PrincipalException();
  }
  String type=UserConfig.USER_CONFIG;
  getUserConfig(companyId);
  List configs=getAdminConfig(companyId,type);
  AdminConfig config=(AdminConfig)configs.iterator().next();
  config.setConfigObj(userConfig);
  AdminConfigUtil.update(config);
}
