{
  User user=UserLocalServiceUtil.getUser(userId);
  Map<String,Serializable> settingsMap=ExportImportConfigurationSettingsMapFactory.buildSettingsMap(userId,sourceGroupId,sourcePlid,targetGroupId,targetPlid,portletId,parameterMap,Constants.PUBLISH_TO_LIVE,user.getLocale(),user.getTimeZone());
  ServiceContext serviceContext=new ServiceContext();
  ExportImportConfiguration exportImportConfiguration=ExportImportConfigurationLocalServiceUtil.addExportImportConfiguration(userId,sourceGroupId,portletId,StringPool.BLANK,ExportImportConfigurationConstants.TYPE_PUBLISH_PORTLET,settingsMap,WorkflowConstants.STATUS_DRAFT,serviceContext);
  publishPortlet(userId,exportImportConfiguration);
}
