{
  MBMessageDisplay messageDisplay=_mbMessageLocalService.getDiscussionMessageDisplay(userId,groupId,className,classPK,WorkflowConstants.STATUS_ANY,new MessageThreadComparator());
  DiscussionComment rootDiscussionComment=getDiscussionComment(userId,messageDisplay);
  MBTreeWalker treeWalker=messageDisplay.getTreeWalker();
  List<MBMessage> messages=treeWalker.getMessages();
  return new MBDiscussionImpl(rootDiscussionComment,messageDisplay.isDiscussionMaxComments(),messages.size() - 1);
}
