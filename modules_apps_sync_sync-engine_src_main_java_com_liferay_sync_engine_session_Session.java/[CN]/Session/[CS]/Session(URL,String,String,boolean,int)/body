{
  if (maxConnections == Integer.MAX_VALUE) {
    _executorService=Executors.newCachedThreadPool();
  }
 else {
    _executorService=Executors.newFixedThreadPool(maxConnections);
  }
  CredentialsProvider credentialsProvider=new BasicCredentialsProvider();
  _httpHost=new HttpHost(url.getHost(),url.getPort(),url.getProtocol());
  credentialsProvider.setCredentials(new AuthScope(_httpHost),new UsernamePasswordCredentials(login,password));
  HttpClientBuilder httpClientBuilder=createHttpClientBuilder(trustSelfSigned,maxConnections);
  httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);
  _httpClient=httpClientBuilder.build();
  HttpConnectionFactory<HttpRoute,ManagedHttpClientConnection> connectionFactory=new RateLimitedManagedHttpClientConnectionFactory();
  PoolingHttpClientConnectionManager connManager=new PoolingHttpClientConnectionManager(connectionFactory);
  httpClientBuilder.setConnectionManager(connManager);
  _rateLimitedHttpClient=httpClientBuilder.build();
  _oAuthEnabled=false;
}
