{
  if (maxConnections == Integer.MAX_VALUE) {
    _executorService=Executors.newCachedThreadPool();
  }
 else {
    _executorService=Executors.newFixedThreadPool(maxConnections);
  }
  HttpClientBuilder httpClientBuilder=createHttpClientBuilder(trustSelfSigned,maxConnections);
  _httpClient=httpClientBuilder.build();
  HttpConnectionFactory<HttpRoute,ManagedHttpClientConnection> connectionFactory=new RateLimitedManagedHttpClientConnectionFactory();
  PoolingHttpClientConnectionManager connManager=new PoolingHttpClientConnectionManager(connectionFactory);
  httpClientBuilder.setConnectionManager(connManager);
  _rateLimitedHttpClient=httpClientBuilder.build();
  _httpHost=new HttpHost(url.getHost(),url.getPort(),url.getProtocol());
  _oAuthConsumer=new CommonsHttpOAuthConsumer(oAuthConsumerKey,oAuthConsumerSecret);
  _oAuthConsumer.setTokenWithSecret(oAuthToken,oAuthTokenSecret);
  _oAuthEnabled=true;
}
