{
  try {
    if (OmniadminUtil.isOmniadmin(req.getRemoteUser())) {
      String siteGroupId=ParamUtil.getString(req,"siteGroupId",DEFAULT_SITE_GROUP_ID);
      String cmsGroupId=ParamUtil.getString(req,"cmsGroupId",DEFAULT_CMS_GROUP_ID);
      ZipWriter zipWriter=new ZipWriter();
      List journalContentSearches=new ArrayList();
      insertDataCMSLayout(siteGroupId,zipWriter,journalContentSearches);
      insertDataCMSContent(cmsGroupId,zipWriter,journalContentSearches);
      insertDataImage(zipWriter);
      String fileName="journal.zip";
      ServletResponseUtil.sendFile(res,fileName,zipWriter.finish());
    }
    return null;
  }
 catch (  Exception e) {
    req.setAttribute(PageContext.EXCEPTION,e);
    return mapping.findForward(Constants.COMMON_ERROR);
  }
}
