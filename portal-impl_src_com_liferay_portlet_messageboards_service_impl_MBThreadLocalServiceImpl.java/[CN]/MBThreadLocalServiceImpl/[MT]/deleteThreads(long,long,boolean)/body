{
  List<MBThread> threads=mbThreadPersistence.findByG_C(groupId,categoryId);
  for (  MBThread thread : threads) {
    if (includeTrashedEntries || !thread.isInTrashExplicitly()) {
      mbThreadLocalService.deleteThread(thread);
    }
  }
  if (mbThreadPersistence.countByGroupId(groupId) == 0) {
    PortletFileRepositoryUtil.deletePortletRepository(groupId,PortletKeys.MESSAGE_BOARDS);
  }
}
