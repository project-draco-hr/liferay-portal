{
  List<MBThread> threads=mbThreadPersistence.findByG_C(groupId,categoryId);
  for (  MBThread thread : threads) {
    if (includeTrashedEntries || !thread.isInTrashExplicitly()) {
      mbThreadLocalService.deleteThread(thread);
    }
  }
  if (mbThreadPersistence.countByGroupId(groupId) == 0) {
    String portletId=PortletProviderUtil.getPortletId(MBMessage.class.getName(),PortletProvider.Action.VIEW);
    PortletFileRepositoryUtil.deletePortletRepository(groupId,portletId);
  }
}
