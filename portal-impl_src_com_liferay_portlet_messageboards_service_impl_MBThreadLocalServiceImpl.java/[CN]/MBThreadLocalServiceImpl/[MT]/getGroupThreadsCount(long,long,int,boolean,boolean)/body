{
  if (userId <= 0) {
    return mbThreadPersistence.countByGroupId(groupId);
  }
 else {
    if (subscribed) {
      return mbThreadFinder.countByS_G_U_S(groupId,userId,status);
    }
 else {
      if (includeAnonymous) {
        return mbMessageFinder.countByG_U_S(groupId,userId,status);
      }
 else {
        return mbMessageFinder.countByG_U_S_A(groupId,userId,status,false);
      }
    }
  }
}
