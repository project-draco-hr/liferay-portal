{
  User user=userPersistence.findByPrimaryKey(userId);
  if (user.isDefaultUser()) {
    return true;
  }
  int total=mbMessagePersistence.countByThreadId(threadId);
  int read=mbMessageFlagFinder.countByU_T_F(userId,threadId,MBMessageFlagImpl.READ_FLAG);
  if (total != read) {
    return false;
  }
 else {
    return true;
  }
}
