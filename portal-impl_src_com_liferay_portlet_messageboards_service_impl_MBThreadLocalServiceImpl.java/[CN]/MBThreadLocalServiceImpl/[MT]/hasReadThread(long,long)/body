{
  User user=UserLocalServiceUtil.getUserById(userId);
  if (user.isDefaultUser()) {
    return true;
  }
  int total=MBMessageUtil.countByThreadId(threadId);
  int read=MBMessageFlagFinder.countByU_T(userId,threadId);
  if (total != read) {
    return false;
  }
 else {
    return true;
  }
}
