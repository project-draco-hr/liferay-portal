{
  String prefix=null;
  if (Validator.isNull(dirName)) {
    prefix=_s3KeyTransformer.getRepositoryKey(companyId,repositoryId);
  }
 else {
    prefix=_s3KeyTransformer.getDirectoryKey(companyId,repositoryId,dirName);
  }
  List<S3ObjectSummary> objectSummaries=listObjectsWithPrefix(prefix);
  String[] fileNames=new String[objectSummaries.size()];
  Iterator<S3ObjectSummary> objectSummaryIterator=objectSummaries.iterator();
  for (int i=0; i < fileNames.length; i++) {
    S3ObjectSummary s3ObjectSummary=objectSummaryIterator.next();
    String objectKey=s3ObjectSummary.getKey();
    fileNames[i]=_s3KeyTransformer.getFileName(objectKey);
  }
  return fileNames;
}
