{
  String key=null;
  if (Validator.isNull(dirName)) {
    key=_s3KeyTransformer.getRepositoryKey(companyId,repositoryId);
  }
 else {
    key=_s3KeyTransformer.getDirectoryKey(companyId,repositoryId,dirName);
  }
  List<S3ObjectSummary> s3ObjectSummaries=listObjects(key);
  String[] fileNames=new String[s3ObjectSummaries.size()];
  Iterator<S3ObjectSummary> iterator=s3ObjectSummaries.iterator();
  for (int i=0; i < fileNames.length; i++) {
    S3ObjectSummary s3ObjectSummary=iterator.next();
    fileNames[i]=_s3KeyTransformer.getFileName(s3ObjectSummary.getKey());
  }
  return fileNames;
}
