{
  JournalArticle latestIndexableArticle=JournalArticleLocalServiceUtil.fetchLatestIndexableArticle(article.getResourcePrimKey());
  List<JournalArticle> articles=JournalArticleLocalServiceUtil.getArticlesByResourcePrimKey(article.getResourcePrimKey());
  for (  JournalArticle curArticle : articles) {
    if (!curArticle.isIndexable() || ((latestIndexableArticle != null) && (curArticle.getResourcePrimKey() == latestIndexableArticle.getResourcePrimKey()))) {
      continue;
    }
    Document document=getDocument(curArticle);
    document.addKeyword("head",false);
    SearchEngineUtil.updateDocument(getSearchEngineId(),curArticle.getCompanyId(),document);
  }
  if (latestIndexableArticle != null) {
    Document document=getDocument(latestIndexableArticle);
    document.addKeyword("head",true);
    SearchEngineUtil.updateDocument(getSearchEngineId(),latestIndexableArticle.getCompanyId(),document);
  }
 else   if (article.getStatus() == WorkflowConstants.STATUS_IN_TRASH) {
    Document document=getDocument(article);
    document.addKeyword("head",true);
    SearchEngineUtil.updateDocument(getSearchEngineId(),article.getCompanyId(),document);
  }
}
