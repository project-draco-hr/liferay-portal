{
  if (PortalUtil.getClassNameId(DDMStructure.class) == article.getClassNameId()) {
    Document document=getDocument(article);
    SearchEngineUtil.deleteDocument(getSearchEngineId(),article.getCompanyId(),document.get(Field.UID),isCommitImmediately());
    return;
  }
  if (!PropsValues.JOURNAL_ARTICLE_INDEX_ALL_VERSIONS) {
    int status=article.getStatus();
    if ((status != WorkflowConstants.STATUS_APPROVED) && (status != WorkflowConstants.STATUS_IN_TRASH)) {
      deleteDocument(article.getCompanyId(),article.getResourcePrimKey());
    }
  }
  if (allVersions) {
    reindexArticleVersions(article);
  }
 else {
    SearchEngineUtil.updateDocument(getSearchEngineId(),article.getCompanyId(),getDocument(article),isCommitImmediately());
  }
}
