{
  Locale snippetLocale=getSnippetLocale(document,locale);
  String prefix=Field.SNIPPET + StringPool.UNDERLINE;
  String title=document.get(snippetLocale,prefix + Field.TITLE,Field.TITLE);
  String content=document.get(snippetLocale,prefix + Field.DESCRIPTION,prefix + Field.CONTENT);
  if (Validator.isBlank(content)) {
    content=document.get(locale,Field.DESCRIPTION,Field.CONTENT);
    if (Validator.isBlank(content)) {
      content=document.get(Field.DESCRIPTION,Field.CONTENT);
    }
  }
  if (content.length() > 200) {
    content=StringUtil.shorten(content,200);
  }
  String groupId=document.get(Field.GROUP_ID);
  String articleId=document.get("articleId");
  String version=document.get(Field.VERSION);
  portletURL.setParameter("struts_action","/journal/edit_article");
  portletURL.setParameter("groupId",groupId);
  portletURL.setParameter("articleId",articleId);
  portletURL.setParameter("version",version);
  return new Summary(snippetLocale,title,content,portletURL);
}
