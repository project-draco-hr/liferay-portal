{
  JournalArticle article=(JournalArticle)obj;
  long classPK=article.getId();
  if (!PropsValues.JOURNAL_ARTICLE_INDEX_ALL_VERSIONS) {
    classPK=article.getResourcePrimKey();
  }
  deleteDocument(article.getCompanyId(),classPK);
  if (!article.isApproved()) {
    return;
  }
  JournalArticle latestIndexableArticle=JournalArticleLocalServiceUtil.fetchLatestIndexableArticle(article.getResourcePrimKey());
  if ((latestIndexableArticle == null) || (PropsValues.JOURNAL_ARTICLE_INDEX_ALL_VERSIONS && (latestIndexableArticle.getVersion() > article.getVersion()))) {
    return;
  }
  SearchEngineUtil.updateDocument(getSearchEngineId(),article.getCompanyId(),getDocument(latestIndexableArticle));
}
