{
  JournalArticle article=(JournalArticle)obj;
  Document document=getBaseModelDocument(PORTLET_ID,article);
  document.addUID(PORTLET_ID,article.getId());
  String articleDefaultLanguageId=LocalizationUtil.getDefaultLanguageId(article.getDocument());
  Locale defaultLocale=LocaleUtil.getSiteDefault();
  String defaultLanguageId=LocaleUtil.toLanguageId(defaultLocale);
  String[] languageIds=getLanguageIds(defaultLanguageId,article.getDocument());
  for (  String languageId : languageIds) {
    String content=extractDDMContent(article,languageId);
    String description=article.getDescription(languageId);
    String title=article.getTitle(languageId);
    if (languageId.equals(articleDefaultLanguageId)) {
      document.addText(Field.CONTENT,content);
      document.addText(Field.DESCRIPTION,description);
      document.addText(Field.TITLE,title);
      document.addText("defaultLanguageId",languageId);
    }
    document.addText(LocalizationUtil.getLocalizedName(Field.CONTENT,languageId),content);
    document.addText(LocalizationUtil.getLocalizedName(Field.DESCRIPTION,languageId),description);
    document.addText(LocalizationUtil.getLocalizedName(Field.TITLE,languageId),title);
  }
  document.addKeyword(Field.FOLDER_ID,article.getFolderId());
  String articleId=article.getArticleId();
  if (article.isInTrash()) {
    articleId=TrashUtil.getOriginalTitle(articleId);
  }
  document.addKeyword(Field.ARTICLE_ID,articleId);
  document.addKeyword(Field.LAYOUT_UUID,article.getLayoutUuid());
  document.addKeyword(Field.TREE_PATH,StringUtil.split(article.getTreePath(),CharPool.SLASH));
  document.addKeyword(Field.TYPE,article.getType());
  document.addKeyword(Field.VERSION,article.getVersion());
  document.addKeyword("ddmStructureKey",article.getStructureId());
  document.addKeyword("ddmTemplateKey",article.getTemplateId());
  document.addDate("displayDate",article.getDisplayDate());
  JournalArticle latestArticle=JournalArticleLocalServiceUtil.fetchLatestArticle(article.getResourcePrimKey(),new int[]{WorkflowConstants.STATUS_IN_TRASH,WorkflowConstants.STATUS_APPROVED});
  if ((latestArticle != null) && !latestArticle.isIndexable()) {
    document.addKeyword("head",false);
  }
 else   if ((latestArticle != null) && (article.getId() == latestArticle.getId())) {
    document.addKeyword("head",true);
  }
 else {
    document.addKeyword("head",false);
  }
  addDDMStructureAttributes(document,article);
  return document;
}
