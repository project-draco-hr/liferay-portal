{
  JournalArticle latestIndexableArticle=JournalArticleLocalServiceUtil.fetchLatestIndexableArticle(classPK);
  List<JournalArticle> articles=JournalArticleLocalServiceUtil.getArticlesByResourcePrimKey(classPK);
  for (  JournalArticle article : articles) {
    if (!article.isIndexable() || ((latestIndexableArticle != null) && (article.getArticleId() == latestIndexableArticle.getArticleId()))) {
      continue;
    }
    Document document=getDocument(article);
    document.addKeyword("head",false);
    SearchEngineUtil.updateDocument(getSearchEngineId(),article.getCompanyId(),document);
  }
  if (latestIndexableArticle != null) {
    Document document=getDocument(latestIndexableArticle);
    document.addKeyword("head",true);
    SearchEngineUtil.updateDocument(getSearchEngineId(),latestIndexableArticle.getCompanyId(),document);
  }
}
