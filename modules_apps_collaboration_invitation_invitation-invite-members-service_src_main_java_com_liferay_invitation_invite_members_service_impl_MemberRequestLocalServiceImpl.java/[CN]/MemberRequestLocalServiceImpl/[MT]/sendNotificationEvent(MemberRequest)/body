{
  String portletId=PortletProviderUtil.getPortletId(MemberRequest.class.getName(),PortletProvider.Action.EDIT);
  if (UserNotificationManagerUtil.isDeliver(memberRequest.getReceiverUserId(),portletId,0,MembershipRequestConstants.STATUS_PENDING,UserNotificationDeliveryConstants.TYPE_WEBSITE)) {
    JSONObject notificationEventJSONObject=JSONFactoryUtil.createJSONObject();
    notificationEventJSONObject.put("classPK",memberRequest.getMemberRequestId());
    notificationEventJSONObject.put("userId",memberRequest.getUserId());
    NotificationEvent notificationEvent=NotificationEventFactoryUtil.createNotificationEvent(System.currentTimeMillis(),portletId,notificationEventJSONObject);
    notificationEvent.setDeliveryRequired(0);
    notificationEvent.setDeliveryType(UserNotificationDeliveryConstants.TYPE_WEBSITE);
    userNotificationEventLocalService.addUserNotificationEvent(memberRequest.getReceiverUserId(),true,notificationEvent);
  }
}
