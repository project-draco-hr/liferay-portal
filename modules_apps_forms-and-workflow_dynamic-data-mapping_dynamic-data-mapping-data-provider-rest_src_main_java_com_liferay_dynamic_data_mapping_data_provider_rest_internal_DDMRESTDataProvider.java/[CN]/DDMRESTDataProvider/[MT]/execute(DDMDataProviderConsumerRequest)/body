{
  try {
    DDMDataProviderContext ddmDataProviderContext=ddmDataProviderConsumerRequest.getDDMDataProviderContext();
    DDMRESTDataProviderSettings ddmRESTDataProviderSettings=ddmDataProviderContext.getSettingsInstance(DDMRESTDataProviderSettings.class);
    HttpRequest httpRequest=HttpRequest.get(ddmRESTDataProviderSettings.url());
    if (Validator.isNotNull(ddmRESTDataProviderSettings.username())) {
      httpRequest.basicAuthentication(ddmRESTDataProviderSettings.username(),ddmRESTDataProviderSettings.password());
    }
    httpRequest.query(ddmDataProviderContext.getParameters());
    HttpResponse httpResponse=httpRequest.send();
    String httpResponseBody=httpResponse.body();
    JSONArray jsonArray=null;
    try {
      jsonArray=_jsonFactory.createJSONArray(httpResponseBody);
    }
 catch (    JSONException jsone) {
      jsonArray=_jsonFactory.createJSONArray();
      jsonArray.put(_jsonFactory.createJSONObject(httpResponseBody));
    }
    return createDDMDataProviderConsumerResponse(jsonArray);
  }
 catch (  Exception e) {
    throw new DDMDataProviderException(e);
  }
}
