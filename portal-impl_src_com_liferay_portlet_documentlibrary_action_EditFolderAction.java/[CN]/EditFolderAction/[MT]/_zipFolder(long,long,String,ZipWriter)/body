{
  List<Object> entries=DLAppServiceUtil.getFoldersAndFileEntriesAndFileShortcuts(repositoryId,folderId,WorkflowConstants.STATUS_APPROVED,false,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  Object entry : entries) {
    if (entry instanceof Folder) {
      Folder curFolder=(Folder)entry;
      _zipFolder(curFolder.getFolderId(),curFolder.getRepositoryId(),path.concat(StringPool.SLASH).concat(curFolder.getName()),zipWriter);
    }
 else     if (entry instanceof FileEntry) {
      FileEntry fileEntry=(FileEntry)entry;
      _zipFileEntry(fileEntry,path,zipWriter);
    }
  }
}
