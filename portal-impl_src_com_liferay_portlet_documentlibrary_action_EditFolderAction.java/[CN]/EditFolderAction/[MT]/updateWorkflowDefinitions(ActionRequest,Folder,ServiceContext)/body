{
  if (!(folder.getModel() instanceof DLFolder)) {
    return;
  }
  List<ObjectValuePair<Long,String>> workflowDefinitions=new ArrayList<ObjectValuePair<Long,String>>();
  SortedArrayList<Long> fileEntryTypeIds=(SortedArrayList<Long>)serviceContext.getAttribute("fileEntryTypeIds");
  if (fileEntryTypeIds.isEmpty()) {
    fileEntryTypeIds.add(new Long(0));
  }
 else {
    workflowDefinitions.add(new ObjectValuePair<Long,String>(new Long(0),StringPool.BLANK));
  }
  for (  long fileEntryTypeId : fileEntryTypeIds) {
    String workflowDefinition=ParamUtil.getString(actionRequest,"workflowDefinition" + fileEntryTypeId);
    workflowDefinitions.add(new ObjectValuePair<Long,String>(fileEntryTypeId,workflowDefinition));
  }
  WorkflowDefinitionLinkLocalServiceUtil.updateWorkflowDefinitionLinks(serviceContext.getUserId(),serviceContext.getCompanyId(),folder.getGroupId(),DLFolder.class.getName(),folder.getFolderId(),workflowDefinitions);
}
