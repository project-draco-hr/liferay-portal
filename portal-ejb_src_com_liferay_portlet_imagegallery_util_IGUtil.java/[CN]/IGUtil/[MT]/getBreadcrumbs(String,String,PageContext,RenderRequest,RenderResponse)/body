{
  if (Validator.isNotNull(imageId)) {
    long companyId=PortalUtil.getCompanyId(req);
    IGImage image=IGImageLocalServiceUtil.getImage(companyId,imageId);
    return getBreadcrumbs(image.getFolder(),image,pageContext,req,res);
  }
 else {
    IGFolder folder=null;
    try {
      folder=IGFolderLocalServiceUtil.getFolder(folderId);
    }
 catch (    Exception e) {
    }
    return getBreadcrumbs(folder,null,pageContext,req,res);
  }
}
