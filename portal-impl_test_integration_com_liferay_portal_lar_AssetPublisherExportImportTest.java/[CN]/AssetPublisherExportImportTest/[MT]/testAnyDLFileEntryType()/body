{
  DDMStructure ddmStructure=DDMStructureTestUtil.addStructure(group.getGroupId(),DLFileEntryType.class.getName());
  DLFileEntryType dlFileEntryType=DLAppTestUtil.addDLFileEntryType(group.getGroupId(),ddmStructure.getStructureId());
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext();
  serviceContext.setUuid(ddmStructure.getUuid());
  DDMStructure importedDDMStructure=DDMStructureTestUtil.addStructure(importedGroup.getGroupId(),DLFileEntryType.class.getName(),ddmStructure.getXsd(),LocaleUtil.getDefault(),serviceContext);
  serviceContext.setUuid(dlFileEntryType.getUuid());
  DLFileEntryType importedDLFileEntryType=DLAppTestUtil.addDLFileEntryType(TestPropsValues.getUserId(),importedGroup.getGroupId(),ServiceTestUtil.randomString(),ServiceTestUtil.randomString(),new long[]{importedDDMStructure.getStructureId()},serviceContext);
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  long dlFileEntryClassNameId=PortalUtil.getClassNameId(DLFileEntry.class);
  preferenceMap.put("anyAssetType",new String[]{String.valueOf(dlFileEntryClassNameId)});
  preferenceMap.put("anyClassTypeDLFileEntryAssetRendererFactory",new String[]{String.valueOf(dlFileEntryType.getFileEntryTypeId())});
  preferenceMap.put("classTypeIds",new String[]{String.valueOf(dlFileEntryType.getFileEntryTypeId())});
  PortletPreferences portletPreferences=getImportedPortletPreferences(preferenceMap);
  long anyClassTypeDLFileEntryAssetRendererFactory=GetterUtil.getLong(portletPreferences.getValue("anyClassTypeDLFileEntryAssetRendererFactory",null));
  Assert.assertEquals(anyClassTypeDLFileEntryAssetRendererFactory,importedDLFileEntryType.getFileEntryTypeId());
  String anyAssetTypePreference=portletPreferences.getValue("anyAssetType",null);
  Assert.assertTrue(anyAssetTypePreference != null && Validator.isNumber(anyAssetTypePreference));
  String classTypeIdsPreference=portletPreferences.getValue("classTypeIds",null);
  long classTypeIds=Long.parseLong(classTypeIdsPreference);
  Assert.assertEquals(importedDLFileEntryType.getFileEntryTypeId(),classTypeIds);
}
