{
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  Group childGroup=ServiceTestUtil.addGroup(_group.getGroupId(),ServiceTestUtil.randomString());
  preferenceMap.put("defaultScope",new String[]{Boolean.FALSE.toString()});
  preferenceMap.put("scopeIds",new String[]{"ChildGroup_" + childGroup.getGroupId()});
  PortletPreferences portletPreferences=getImportedPortletPreferences(_layout,preferenceMap);
  Assert.assertEquals(Boolean.FALSE.toString(),portletPreferences.getValue("defaultScope",null));
  Assert.assertEquals(null,portletPreferences.getValue("scopeId",null));
  Assert.assertTrue("The child groupId should have been filtered out on import",Validator.isNull(portletPreferences.getValues("scopeIds",null)));
}
