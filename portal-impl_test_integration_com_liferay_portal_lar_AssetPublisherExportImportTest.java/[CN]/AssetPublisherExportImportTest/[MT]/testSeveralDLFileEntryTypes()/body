{
  DDMStructure ddmStructure1=DDMStructureTestUtil.addStructure(group.getGroupId(),DLFileEntryType.class.getName());
  DLFileEntryType dlFileEntryType1=DLAppTestUtil.addDLFileEntryType(group.getGroupId(),ddmStructure1.getStructureId());
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext();
  serviceContext.setUuid(ddmStructure1.getUuid());
  DDMStructure importedDDMStructure1=DDMStructureTestUtil.addStructure(importedGroup.getGroupId(),DLFileEntryType.class.getName(),0,ddmStructure1.getDefinition(),LocaleUtil.getDefault(),serviceContext);
  serviceContext.setUuid(dlFileEntryType1.getUuid());
  DLFileEntryType importedDLFileEntryType1=DLAppTestUtil.addDLFileEntryType(TestPropsValues.getUserId(),importedGroup.getGroupId(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),new long[]{importedDDMStructure1.getStructureId()},serviceContext);
  DDMStructure ddmStructure2=DDMStructureTestUtil.addStructure(group.getGroupId(),DLFileEntryType.class.getName());
  DLFileEntryType dlFileEntryType2=DLAppTestUtil.addDLFileEntryType(group.getGroupId(),ddmStructure2.getStructureId());
  serviceContext.setUuid(ddmStructure2.getUuid());
  DDMStructure importedDDMStructure2=DDMStructureTestUtil.addStructure(importedGroup.getGroupId(),DLFileEntryType.class.getName(),0,ddmStructure2.getDefinition(),LocaleUtil.getDefault(),serviceContext);
  serviceContext.setUuid(dlFileEntryType2.getUuid());
  DLFileEntryType importedDLFileEntryType2=DLAppTestUtil.addDLFileEntryType(TestPropsValues.getUserId(),importedGroup.getGroupId(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),new long[]{importedDDMStructure2.getStructureId()},serviceContext);
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  preferenceMap.put("anyClassTypeDLFileEntryAssetRendererFactory",new String[]{String.valueOf(Boolean.FALSE)});
  preferenceMap.put("classTypeIdsDLFileEntryAssetRendererFactory",new String[]{String.valueOf(dlFileEntryType1.getFileEntryTypeId()),String.valueOf(dlFileEntryType2.getFileEntryTypeId())});
  PortletPreferences portletPreferences=getImportedPortletPreferences(preferenceMap);
  Assert.assertEquals(importedDLFileEntryType1.getFileEntryTypeId() + StringPool.COMMA + importedDLFileEntryType2.getFileEntryTypeId(),StringUtil.merge(portletPreferences.getValues("classTypeIdsDLFileEntryAssetRendererFactory",null)));
}
