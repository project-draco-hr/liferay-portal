{
  String assetPublisherPortletId=LayoutTestUtil.addPortletToLayout(TestPropsValues.getUserId(),this.layout,PortletKeys.ASSET_PUBLISHER,"column-1",preferenceMap);
  Map<String,String[]> parameterMap=new HashMap<String,String[]>();
  parameterMap.put(PortletDataHandlerKeys.PORTLET_SETUP,new String[]{Boolean.TRUE.toString()});
  parameterMap.put(PortletDataHandlerKeys.CATEGORIES,new String[]{Boolean.TRUE.toString()});
  larFile=LayoutLocalServiceUtil.exportLayoutsAsFile(layout.getGroupId(),layout.isPrivateLayout(),null,parameterMap,null,null);
  importedGroup=GroupTestUtil.addGroup();
  LayoutLocalServiceUtil.importLayouts(TestPropsValues.getUserId(),importedGroup.getGroupId(),layout.isPrivateLayout(),parameterMap,larFile);
  importedLayout=LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(layout.getUuid(),importedGroup.getGroupId(),layout.isPrivateLayout());
  Assert.assertNotNull(importedLayout);
  return LayoutTestUtil.getPortletPreferences(importedLayout.getCompanyId(),importedLayout.getPlid(),assetPublisherPortletId);
}
