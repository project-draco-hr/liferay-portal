{
  ServletContext servletContext=hotDeployEvent.getServletContext();
  String servletContextName=servletContext.getServletContextName();
  if (_log.isDebugEnabled()) {
    _log.debug("Invoking deploy for " + servletContextName);
  }
  String[] xmls=new String[]{HttpUtil.URLtoString(servletContext.getResource("/WEB-INF/liferay-look-and-feel.xml"))};
  if (xmls[0] == null) {
    return;
  }
  if (_log.isInfoEnabled()) {
    _log.info("Registering themes for " + servletContextName);
  }
  FileTimestampUtil.reset();
  List<Theme> themes=ThemeLocalServiceUtil.init(servletContextName,servletContext,null,true,xmls,hotDeployEvent.getPluginPackage());
  _themes.put(servletContextName,themes);
  servletContext.setAttribute(WebKeys.PLUGIN_THEMES,themes);
  if (_log.isInfoEnabled()) {
    if (themes.size() == 1) {
      _log.info("1 theme for " + servletContextName + " is available for use");
    }
 else {
      _log.info(themes.size() + " themes for " + servletContextName+ " are available for use");
    }
  }
  if (_log.isWarnEnabled()) {
    for (    Theme theme : themes) {
      if (!Objects.equals(theme.getTemplateExtension(),ThemeHelper.TEMPLATE_EXTENSION_VM)) {
        continue;
      }
      _log.warn("Support of Velocity is deprecated. Update theme " + theme.getName() + " to use FreeMarker for forward compatibility.");
    }
  }
}
