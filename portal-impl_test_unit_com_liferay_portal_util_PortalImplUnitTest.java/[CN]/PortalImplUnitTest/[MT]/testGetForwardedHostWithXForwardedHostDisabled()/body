{
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  mockHttpServletRequest.addHeader("X-Forwarded-Host","forwardedServer");
  mockHttpServletRequest.setServerName("serverName");
  boolean webServerForwardedHostEnabled=PropsValues.WEB_SERVER_FORWARDED_HOST_ENABLED;
  try {
    setPropsValuesValue("WEB_SERVER_FORWARDED_HOST_ENABLED",false);
    Assert.assertEquals("serverName",_portalImpl.getForwardedHost(mockHttpServletRequest));
  }
  finally {
    setPropsValuesValue("WEB_SERVER_FORWARDED_HOST_ENABLED",webServerForwardedHostEnabled);
  }
}
