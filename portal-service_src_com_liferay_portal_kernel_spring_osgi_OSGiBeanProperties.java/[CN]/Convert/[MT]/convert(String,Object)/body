{
  if (previousValue == null) {
    return _getTypedValue(value);
  }
  Class<?> clazz=previousValue.getClass();
  if (!clazz.isArray()) {
    Object array=Array.newInstance(getTypeClass(),2);
    Array.set(array,0,previousValue);
    Array.set(array,1,_getTypedValue(value));
    return array;
  }
  Object array=Array.newInstance(getTypeClass(),Array.getLength(previousValue) + 1);
  for (int i=0; i < Array.getLength(previousValue); i++) {
    Array.set(array,i,Array.get(previousValue,i));
  }
  Array.set(array,Array.getLength(previousValue),_getTypedValue(value));
  return array;
}
