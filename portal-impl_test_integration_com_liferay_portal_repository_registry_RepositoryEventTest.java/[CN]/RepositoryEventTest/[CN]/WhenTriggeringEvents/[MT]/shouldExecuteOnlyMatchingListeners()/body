{
  AtomicInteger count=registerCounterRepositoryEventListener(_defaultRepositoryEventRegistry,RepositoryEventType.Add.class,FileEntry.class);
  _defaultRepositoryEventRegistry.registerRepositoryEventListener(RepositoryEventType.Update.class,FileEntry.class,new AlwaysFailingRepositoryEventListener<RepositoryEventType.Update,FileEntry>());
  _defaultRepositoryEventRegistry.trigger(RepositoryEventType.Add.class,FileEntry.class,null);
  Assert.assertEquals(1,count.get());
}
