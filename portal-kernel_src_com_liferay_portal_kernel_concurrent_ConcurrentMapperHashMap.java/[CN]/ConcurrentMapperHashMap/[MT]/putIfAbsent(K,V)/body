{
  if (key == null) {
    throw new NullPointerException("Key is null");
  }
  if (value == null) {
    throw new NullPointerException("Value is null");
  }
  IK innerKey=mapKey(key);
  IV innerValue=mapValue(key,value);
  IV previousInnerValue=innerConcurrentMap.putIfAbsent(innerKey,innerValue);
  if (previousInnerValue == null) {
    return null;
  }
  unmapKey(innerKey);
  unmapValue(innerValue);
  return unmapValueForQuery(previousInnerValue);
}
