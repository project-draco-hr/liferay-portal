{
  InputStream is=actionRequest.getPortletInputStream();
  if (is != null) {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    int c=-1;
    try {
      while ((c=is.read()) != -1) {
        baos.write(c);
      }
    }
  finally {
      is.close();
    }
    byte[] bytes=baos.toByteArray();
    if (_log.isInfoEnabled()) {
      _log.info("Byte array size from the raw input stream is " + bytes.length);
    }
    return bytes.length;
  }
  return -1;
}
