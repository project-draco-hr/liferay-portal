{
  long initialSearchCount=searchCount(true);
  JournalArticle article=JournalTestUtil.addArticle(_group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID);
  Assert.assertEquals(initialSearchCount + 1,searchCount(true));
  JournalArticle updateArticle=JournalTestUtil.updateArticle(article,article.getTitleMap(),article.getContent(),true,true,ServiceContextTestUtil.getServiceContext());
  Assert.assertEquals(initialSearchCount + 1,searchCount(true));
  JournalTestUtil.expireArticle(_group.getGroupId(),updateArticle,updateArticle.getVersion());
  List<JournalArticle> articles=search(true);
  Assert.assertEquals(initialSearchCount + 1,articles.size());
  JournalArticle searchArticle=articles.get(0);
  Assert.assertEquals(article.getId(),searchArticle.getId());
}
