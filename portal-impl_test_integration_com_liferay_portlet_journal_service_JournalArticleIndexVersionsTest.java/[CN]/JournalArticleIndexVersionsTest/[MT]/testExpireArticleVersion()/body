{
  long initialSearchCount=searchCount();
  JournalArticle article=JournalTestUtil.addArticle(_group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID);
  Assert.assertEquals(initialSearchCount + 1,searchCount());
  JournalArticle updateArticle=JournalTestUtil.updateArticle(article,article.getTitle(),article.getContent(),true,true,ServiceContextTestUtil.getServiceContext());
  Assert.assertEquals(initialSearchCount + 1,searchCount());
  JournalTestUtil.expireArticle(_group.getGroupId(),updateArticle,updateArticle.getVersion());
  List<JournalArticle> articles=search();
  Assert.assertEquals(initialSearchCount + 1,articles.size());
  JournalArticle searchArticle=articles.get(0);
  Assert.assertEquals(article.getId(),searchArticle.getId());
}
