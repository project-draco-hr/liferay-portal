{
  long initialSearchCount=searchCount();
  JournalArticle article=JournalTestUtil.addArticle(_group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID);
  JournalArticle expiredArticle=JournalTestUtil.updateArticle(article);
  expiredArticle=JournalTestUtil.expireArticle(_group.getGroupId(),article,expiredArticle.getVersion());
  List<JournalArticle> articles=search();
  Assert.assertEquals(initialSearchCount + 1,articles.size());
  JournalArticle searchArticle=articles.get(0);
  Assert.assertEquals(article.getId(),searchArticle.getId());
  article=JournalTestUtil.updateArticle(expiredArticle);
  Assert.assertEquals(initialSearchCount + 1,searchCount());
  articles=search();
  Assert.assertEquals(initialSearchCount + 1,articles.size());
  searchArticle=articles.get(0);
  Assert.assertEquals(article.getId(),searchArticle.getId());
}
