{
  MockHttpServletRequest mockHttpServletRequest=createHttpRequest("/invoker");
  String command="{\n" + "   \"$data[id, world] = /foo/get-foo-data\": {\n" + "       \"id\": 173,\n"+ "		\"$world = /foo/hello-world\": {\n"+ "			\"@userId\": \"$data.id\", \n"+ "			\"worldName\": \"Jupiter\"\n"+ "		}\n"+ "   }\n"+ "}";
  mockHttpServletRequest.setContent(command.getBytes());
  JSONWebServiceAction jsonWebServiceAction=new JSONWebServiceInvokerAction(mockHttpServletRequest);
  Object result=jsonWebServiceAction.invoke();
  assertTrue(result instanceof Map);
  String jsonResult=toJson(result);
  assertEquals("{\"id\":173,\" world\":null," + "\"world\":\"Welcome 173 to Jupiter\"}",jsonResult);
}
