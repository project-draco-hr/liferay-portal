{
  Map<String,Object> map=new LinkedHashMap<>();
  Map<String,Object> params=new LinkedHashMap<>();
  map.put("/foo/hey",params);
  params.put("calendar","1330419334285");
  params.put("userIds",new long[]{1,2,3});
  params.put("locales",new String[]{"en","fr"});
  params.put("ids",new long[]{173,-7,7});
  String json=toJSON(map,"*.userIds","*.locales","*.ids");
  JSONWebServiceAction jsonWebServiceAction=prepareInvokerAction(json);
  Object result=jsonWebServiceAction.invoke();
  JSONWebServiceInvokerAction.InvokerResult invokerResult=(JSONWebServiceInvokerAction.InvokerResult)result;
  result=invokerResult.getResult();
  Assert.assertEquals("2012, 1/3, en/2, 173/3",result);
}
