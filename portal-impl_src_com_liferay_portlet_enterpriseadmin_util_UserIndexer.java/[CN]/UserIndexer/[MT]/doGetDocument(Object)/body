{
  User user=(User)obj;
  long companyId=user.getCompanyId();
  long userId=user.getUserId();
  String screenName=user.getScreenName();
  String emailAddress=user.getEmailAddress();
  String firstName=user.getFirstName();
  String middleName=user.getMiddleName();
  String lastName=user.getLastName();
  String jobTitle=user.getJobTitle();
  boolean active=user.isActive();
  long[] groupIds=user.getGroupIds();
  long[] organizationIds=user.getOrganizationIds();
  long[] roleIds=user.getRoleIds();
  long[] teamIds=user.getTeamIds();
  long[] userGroupIds=user.getUserGroupIds();
  String[] assetTagNames=AssetTagLocalServiceUtil.getTagNames(User.class.getName(),userId);
  ExpandoBridge expandoBridge=user.getExpandoBridge();
  Document document=new DocumentImpl();
  document.addUID(PORTLET_ID,userId);
  document.addModifiedDate();
  document.addKeyword(Field.COMPANY_ID,companyId);
  document.addKeyword(Field.PORTLET_ID,PORTLET_ID);
  document.addKeyword(Field.USER_ID,userId);
  document.addKeyword("screenName",screenName);
  document.addKeyword("emailAddress",emailAddress);
  document.addKeyword("firstName",firstName,true);
  document.addKeyword("middleName",middleName,true);
  document.addKeyword("lastName",lastName,true);
  document.addKeyword("jobTitle",jobTitle);
  document.addKeyword("active",active);
  document.addKeyword("groupIds",groupIds);
  document.addKeyword("organizationIds",organizationIds);
  document.addKeyword("ancestorOrganizationIds",getAncestorOrganizationIds(userId,organizationIds));
  document.addKeyword("roleIds",roleIds);
  document.addKeyword("teamIds",teamIds);
  document.addKeyword("userGroupIds",userGroupIds);
  document.addKeyword(Field.ASSET_TAG_NAMES,assetTagNames);
  document.addKeyword(Field.ENTRY_CLASS_NAME,User.class.getName());
  document.addKeyword(Field.ENTRY_CLASS_PK,userId);
  ExpandoBridgeIndexerUtil.addAttributes(document,expandoBridge);
  return document;
}
