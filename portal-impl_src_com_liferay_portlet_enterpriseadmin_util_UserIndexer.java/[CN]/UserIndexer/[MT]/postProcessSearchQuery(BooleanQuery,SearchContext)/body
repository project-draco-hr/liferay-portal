{
  boolean andSearch=searchContext.getAndSearch();
  String emailAddress=(String)searchContext.getAttribute("emailAddress");
  if (Validator.isNotNull(emailAddress)) {
    if (andSearch) {
      searchQuery.addRequiredTerm("emailAddress",emailAddress,true);
    }
 else {
      searchQuery.addTerm("emailAddress",emailAddress,true);
    }
  }
  String firstName=(String)searchContext.getAttribute("firstName");
  if (Validator.isNotNull(firstName)) {
    if (andSearch) {
      searchQuery.addRequiredTerm("firstName",firstName,true);
    }
 else {
      searchQuery.addTerm("firstName",firstName,true);
    }
  }
  String lastName=(String)searchContext.getAttribute("lastName");
  if (Validator.isNotNull(lastName)) {
    if (andSearch) {
      searchQuery.addRequiredTerm("lastName",lastName,true);
    }
 else {
      searchQuery.addTerm("lastName",lastName,true);
    }
  }
  String middleName=(String)searchContext.getAttribute("middleName");
  if (Validator.isNotNull(middleName)) {
    if (andSearch) {
      searchQuery.addRequiredTerm("middleName",middleName,true);
    }
 else {
      searchQuery.addTerm("middleName",middleName,true);
    }
  }
  String screenName=(String)searchContext.getAttribute("screenName");
  if (Validator.isNotNull(screenName)) {
    if (andSearch) {
      searchQuery.addRequiredTerm("screenName",screenName,true);
    }
 else {
      searchQuery.addTerm("screenName",screenName,true);
    }
  }
  LinkedHashMap<String,Object> params=(LinkedHashMap<String,Object>)searchContext.getAttribute("params");
  if (params != null) {
    ExpandoBridge expandoBridge=ExpandoBridgeFactoryUtil.getExpandoBridge(searchContext.getCompanyId(),User.class.getName());
    Set<String> attributeNames=SetUtil.fromEnumeration(expandoBridge.getAttributeNames());
    for (    Map.Entry<String,Object> entry : params.entrySet()) {
      String key=entry.getKey();
      Object value=entry.getValue();
      if (key.equals("usersOrgs") || key.equals("usersRoles") || key.equals("usersTeams")|| key.equals("usersUserGroups")|| (value == null)) {
        continue;
      }
      addSearchQueryParams(searchQuery,expandoBridge,attributeNames,key,value,andSearch);
    }
  }
}
