{
  if (method.getName().equals("getActualBean") && method.getDeclaringClass().equals(DoPrivilegedBean.class)) {
    return getActualBean();
  }
 else   if (isNotPrivileged(_bean.getClass(),method)) {
    return method.invoke(_bean,arguments);
  }
  try {
    return AccessController.doPrivileged(new InvokeAction(method,_bean,arguments));
  }
 catch (  PrivilegedActionException pae) {
    Exception e=pae.getException();
    if (e instanceof InvocationTargetException) {
      throw ((InvocationTargetException)e).getTargetException();
    }
    throw e;
  }
}
