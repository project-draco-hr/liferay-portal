{
  Class<?> methodDeclaringClass=method.getDeclaringClass();
  String methodName=method.getName();
  if (methodDeclaringClass.equals(DoPrivilegedBean.class) && methodName.equals("getActualBean")) {
    return getActualBean();
  }
 else   if (_isNotPrivileged(method)) {
    return method.invoke(_bean,arguments);
  }
  try {
    return AccessController.doPrivileged(new InvokePrivilegedExceptionAction(_bean,method,arguments));
  }
 catch (  PrivilegedActionException pae) {
    Exception e=pae.getException();
    if (e instanceof InvocationTargetException) {
      InvocationTargetException ite=(InvocationTargetException)e;
      throw ite.getTargetException();
    }
    throw e;
  }
}
