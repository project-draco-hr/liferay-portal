{
  ServiceRegistration<DynamicMBean> serviceRegistration=_mbeanServiceRegistrations.remove(destination.getName());
  if (serviceRegistration != null) {
    serviceRegistration.unregister();
  }
  try {
    DestinationStatisticsManager destinationStatisticsManager=new DestinationStatisticsManager(destination);
    Dictionary<String,Object> mbeanProperties=new HashMapDictionary<>();
    mbeanProperties.put("jmx.objectname",destinationStatisticsManager.getObjectName());
    mbeanProperties.put("jmx.objectname.cache.key",destinationStatisticsManager.getObjectNameCacheKey());
    serviceRegistration=_bundleContext.registerService(DynamicMBean.class,destinationStatisticsManager,mbeanProperties);
    _mbeanServiceRegistrations.put(destination.getName(),serviceRegistration);
  }
 catch (  NotCompliantMBeanException e) {
    if (_log.isInfoEnabled()) {
      _log.info("Unable to register destination mbean",e);
    }
  }
}
