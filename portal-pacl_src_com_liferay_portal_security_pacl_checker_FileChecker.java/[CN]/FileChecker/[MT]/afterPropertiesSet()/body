{
  try {
    _rootDir=WebDirDetector.getRootDir(getClassLoader());
  }
 catch (  Exception e) {
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Root directory " + _rootDir);
  }
  ServletContext servletContext=ServletContextPool.get(getServletContextName());
  if (servletContext != null) {
    File tempDir=(File)servletContext.getAttribute(JavaConstants.JAVAX_SERVLET_CONTEXT_TEMPDIR);
    _workDir=tempDir.getAbsolutePath();
    if (_log.isDebugEnabled()) {
      _log.debug("Work directory " + _workDir);
    }
  }
  _defaultReadPathsFromArray=new String[]{"${/}","${auto.deploy.installed.dir}","${catalina.base}","${com.sun.aas.instanceRoot}","${com.sun.aas.installRoot}","${file.separator}","${java.io.tmpdir}","${java.home}","${jboss.home.dir}","${jetty.home}","${jonas.base}","${liferay.web.portal.dir}","${liferay.home}","${line.separator}","${org.apache.geronimo.home.dir}","${path.separator}","${plugin.servlet.context.name}","${release.info.version}","${resin.home}","${user.dir}","${user.home}","${user.name}","${weblogic.domain.dir}","${websphere.profile.dir}",StringPool.DOUBLE_SLASH};
  String installedDir=StringPool.BLANK;
  try {
    if (DeployManagerUtil.getDeployManager() != null) {
      installedDir=DeployManagerUtil.getInstalledDir();
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  _defaultReadPathsToArray=new String[]{System.getProperty("file.separator"),installedDir,System.getProperty("catalina.base"),System.getProperty("com.sun.aas.instanceRoot"),System.getProperty("com.sun.aas.installRoot"),System.getProperty("file.separator"),System.getProperty("java.io.tmpdir"),System.getenv("JAVA_HOME"),System.getProperty("jboss.home.dir"),System.getProperty("jetty.home"),System.getProperty("jonas.base"),_portalDir,PropsValues.LIFERAY_HOME,System.getProperty("line.separator"),System.getProperty("org.apache.geronimo.home.dir"),System.getProperty("path.separator"),getServletContextName(),ReleaseInfo.getVersion(),System.getProperty("resin.home"),System.getProperty("user.dir"),System.getProperty("user.home"),System.getProperty("user.name"),System.getenv("DOMAIN_HOME"),System.getenv("USER_INSTALL_ROOT"),StringPool.SLASH};
  if (_log.isDebugEnabled()) {
    _log.debug("Default read paths replace with " + StringUtil.merge(_defaultReadPathsToArray));
  }
  initPermissions();
}
