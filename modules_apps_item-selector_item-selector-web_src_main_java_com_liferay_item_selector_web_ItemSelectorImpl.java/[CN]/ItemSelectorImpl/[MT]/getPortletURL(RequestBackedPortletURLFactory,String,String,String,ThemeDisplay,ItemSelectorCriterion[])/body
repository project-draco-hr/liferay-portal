{
  PortletURL portletURL=null;
  if (Validator.isNotNull(selectedTab) && selectedTab.equals(title)) {
    portletURL=getItemSelectorURL(requestBackedPortletURLFactory,themeDisplay.getScopeGroup(),themeDisplay.getRefererGroupId(),itemSelectedEventName,itemSelectorCriteriaArray);
  }
 else {
    Group group=themeDisplay.getRefererGroup();
    if (group == null) {
      group=themeDisplay.getScopeGroup();
    }
    portletURL=getItemSelectorURL(requestBackedPortletURLFactory,group,0,itemSelectedEventName,itemSelectorCriteriaArray);
  }
  portletURL.setParameter(PARAMETER_SELECTED_TAB,title);
  return portletURL;
}
