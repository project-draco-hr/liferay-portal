{
  if (_searchHitsProcessor == null) {
    throw new IllegalStateException("Module not properly initialized");
  }
  SearchResponseScroller searchResponseScroller=null;
  try {
    MatchAllQueryBuilder matchAllQueryBuilder=QueryBuilders.matchAllQuery();
    Client client=_elasticsearchConnectionManager.getClient();
    searchResponseScroller=new SearchResponseScroller(client,searchContext,matchAllQueryBuilder,TimeValue.timeValueSeconds(30),indexType);
    searchResponseScroller.prepare();
    searchResponseScroller.scroll(_searchHitsProcessor);
  }
  finally {
    if (searchResponseScroller != null) {
      searchResponseScroller.close();
    }
  }
}
