{
  try {
    String nickname=_getNickname(emailAddress);
    GUserService gUserService=GoogleAppsFactoryUtil.getGUserService(companyId);
    gUserService.addUser(userId,password,firstName,lastName);
    GNicknameService gNicknameService=GoogleAppsFactoryUtil.getGNicknameService(companyId);
    gNicknameService.addNickname(userId,nickname);
    GEmailSettingsService gEmailSettingsService=GoogleAppsFactoryUtil.getGEmailSettingsService(companyId);
    FullNameGenerator fullNameGenerator=FullNameGeneratorFactory.getInstance();
    gEmailSettingsService.addSendAs(userId,fullNameGenerator.getFullName(firstName,middleName,lastName),emailAddress);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
