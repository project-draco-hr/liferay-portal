{
  try {
    byte[] bytes={'a','b','c','d'};
    try (Base64InputStream base64InputStream=new Base64InputStream(new ByteArrayInputStream(bytes))){
      byte[] outputBuffer=new byte[3];
      int position=0;
      Assert.assertEquals(3,base64InputStream.decode(bytes,outputBuffer,position,0));
      Assert.assertEquals(2,base64InputStream.decode(bytes,outputBuffer,position,1));
      Assert.assertEquals(1,base64InputStream.decode(bytes,outputBuffer,position,2));
      Assert.assertEquals(-1,base64InputStream.decode(bytes,outputBuffer,position,3));
    }
   }
 catch (  Exception e) {
    Assert.fail(e.getMessage());
  }
}
