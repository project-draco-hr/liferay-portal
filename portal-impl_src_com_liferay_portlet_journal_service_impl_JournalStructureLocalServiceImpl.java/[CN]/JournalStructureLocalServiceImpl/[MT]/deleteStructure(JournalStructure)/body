{
  if (journalArticlePersistence.countByG_C_S(structure.getGroupId(),0,structure.getStructureId()) > 0) {
    throw new RequiredStructureException(RequiredStructureException.REFERENCED_WEB_CONTENT);
  }
  if (journalStructurePersistence.countByG_P(structure.getGroupId(),structure.getStructureId()) > 0) {
    throw new RequiredStructureException(RequiredStructureException.REFERENCED_STRUCTURE);
  }
  if (journalTemplatePersistence.countByG_S(structure.getGroupId(),structure.getStructureId()) > 0) {
    throw new RequiredStructureException(RequiredStructureException.REFERENCED_TEMPLATE);
  }
  webDAVPropsLocalService.deleteWebDAVProps(JournalStructure.class.getName(),structure.getId());
  expandoValueLocalService.deleteValues(JournalStructure.class.getName(),structure.getId());
  resourceLocalService.deleteResource(structure.getCompanyId(),JournalStructure.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,structure.getId());
  try {
    long classNameId=PortalUtil.getClassNameId(JournalStructure.class.getName());
    List<JournalArticle> articles=journalArticlePersistence.findByG_C_C(structure.getGroupId(),classNameId,structure.getId());
    for (    JournalArticle article : articles) {
      journalArticleLocalService.deleteArticle(article,null,null);
    }
  }
 catch (  NoSuchArticleException nsae) {
  }
  journalStructurePersistence.remove(structure);
}
