{
  if (Validator.isNotNull(parentStructureId)) {
    if (parentStructureId.equals(structureId)) {
      throw new StructureInheritanceException();
    }
    JournalStructure parentStructure=journalStructurePersistence.fetchByG_S(groupId,parentStructureId);
    while (parentStructure != null) {
      if ((parentStructure != null) && (parentStructure.getStructureId().equals(structureId)) || (parentStructure.getParentStructureId().equals(structureId))) {
        throw new StructureInheritanceException();
      }
      parentStructure=journalStructurePersistence.fetchByG_S(groupId,parentStructure.getParentStructureId());
    }
  }
}
