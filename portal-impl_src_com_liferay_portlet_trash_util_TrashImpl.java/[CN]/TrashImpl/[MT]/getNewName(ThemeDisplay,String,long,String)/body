{
  TrashRenderer trashRenderer=null;
  if (Validator.isNotNull(className) && (classPK > 0)) {
    TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(className);
    trashRenderer=trashHandler.getTrashRenderer(classPK);
  }
  Format dateFormatDateTime=FastDateFormatFactoryUtil.getDateTime(themeDisplay.getLocale(),themeDisplay.getTimeZone());
  StringBundler sb=new StringBundler(3);
  sb.append(StringPool.OPEN_PARENTHESIS);
  sb.append(StringUtil.replace(dateFormatDateTime.format(new Date()),CharPool.SLASH,CharPool.PERIOD));
  sb.append(StringPool.CLOSE_PARENTHESIS);
  String token=sb.toString();
  if (trashRenderer != null) {
    return trashRenderer.getNewName(oldName,token);
  }
 else {
    return getNewName(oldName,token);
  }
}
