{
  if (!themeDisplay.isSignedIn() || !isTrashEnabled(themeDisplay.getScopeGroupId())) {
    return null;
  }
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(className);
  if (trashHandler.isInTrashContainer(classPK)) {
    ContainerModel containerModel=trashHandler.getTrashContainer(classPK);
    classPK=containerModel.getContainerModelId();
    className=containerModel.getModelClassName();
    trashHandler=TrashHandlerRegistryUtil.getTrashHandler(className);
  }
  TrashRenderer trashRenderer=trashHandler.getTrashRenderer(classPK);
  String urlViewContent=null;
  if (trashRenderer != null) {
    TrashEntry trashEntry=TrashEntryLocalServiceUtil.getEntry(className,classPK);
    String namespace=PortalUtil.getPortletNamespace(PortletKeys.TRASH);
    urlViewContent=PortalUtil.getControlPanelFullURL(themeDisplay.getScopeGroupId(),PortletKeys.TRASH,null);
    urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "struts_action","/trash/view_content");
    urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "redirect",themeDisplay.getURLCurrent());
    if (trashEntry.getRootEntry() != null) {
      urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "className",className);
      urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "classPK",String.valueOf(classPK));
    }
 else {
      urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "trashEntryId",String.valueOf(trashEntry.getEntryId()));
    }
    urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "type",trashRenderer.getType());
    urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "showActions",Boolean.FALSE.toString());
    urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "showAssetMetadata",Boolean.TRUE.toString());
    urlViewContent=HttpUtil.addParameter(urlViewContent,namespace + "showEditURL",Boolean.FALSE.toString());
  }
  return urlViewContent;
}
