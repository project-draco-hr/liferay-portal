{
  WikiPage page=_wikiPageLocalService.fetchWikiPage(classPK);
  if (page == null) {
    if (type == TYPE_LATEST_APPROVED) {
      page=_wikiPageLocalService.getPage(classPK);
    }
 else {
      WikiPageResource pageResource=_wikiPageResourceLocalService.getPageResource(classPK);
      page=_wikiPageLocalService.getPage(pageResource.getNodeId(),pageResource.getTitle(),null);
    }
  }
  WikiPageAssetRenderer wikiPageAssetRenderer=new WikiPageAssetRenderer(page);
  wikiPageAssetRenderer.setAssetRendererType(type);
  wikiPageAssetRenderer.setServletContext(_servletContext);
  return wikiPageAssetRenderer;
}
