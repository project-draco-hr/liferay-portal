{
  String articleId=getArticleId(portletRequest);
  if (Validator.isNull(articleId)) {
    return;
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  String portletResource=ParamUtil.getString(portletRequest,"portletResource");
  layoutTypePortlet.setPortletIds(LayoutTypePortletConstants.RUNTIME_COLUMN_PREFIX + portletResource,getRuntimePortletIds(themeDisplay,articleId));
  LayoutLocalServiceUtil.updateLayout(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),layout.getTypeSettings());
}
