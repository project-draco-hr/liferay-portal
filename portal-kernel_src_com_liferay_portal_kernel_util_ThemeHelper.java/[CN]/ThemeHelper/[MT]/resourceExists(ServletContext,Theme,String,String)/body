{
  Boolean exists=null;
  if (Validator.isNotNull(portletId)) {
    exists=_resourceExists(servletContext,theme,portletId,path);
    if (!exists && PortletConstants.hasInstanceId(portletId)) {
      String rootPortletId=PortletConstants.getRootPortletId(portletId);
      exists=_resourceExists(servletContext,theme,rootPortletId,path);
    }
    if (!exists) {
      exists=_resourceExists(servletContext,theme,null,path);
    }
  }
  if (exists == null) {
    exists=_resourceExists(servletContext,theme,portletId,path);
  }
  return exists;
}
