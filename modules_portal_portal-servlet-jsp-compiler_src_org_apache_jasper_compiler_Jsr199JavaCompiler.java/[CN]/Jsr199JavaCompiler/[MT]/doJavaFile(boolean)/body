{
  if (!keep)   return;
  try {
    Writer writer=new OutputStreamWriter(new FileOutputStream(javaFileName),javaEncoding);
    writer.write(charArrayWriter.toString());
    writer.close();
  }
 catch (  UnsupportedEncodingException ex) {
    errDispatcher.jspError("jsp.error.needAlternateJavaEncoding",javaEncoding);
  }
catch (  IOException ex) {
    throw new JasperException(ex);
  }
}
