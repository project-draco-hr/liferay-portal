{
  String layoutFullURL=PortalUtil.getLayoutFullURL(layout,themeDisplay,false);
  String canonicalURL=PortalUtil.getCanonicalURL(layoutFullURL,themeDisplay,layout,true);
  String portalURL=themeDisplay.getPortalURL();
  if (canonicalURL.startsWith(portalURL)) {
    return canonicalURL.substring(portalURL.length());
  }
  return canonicalURL;
}
