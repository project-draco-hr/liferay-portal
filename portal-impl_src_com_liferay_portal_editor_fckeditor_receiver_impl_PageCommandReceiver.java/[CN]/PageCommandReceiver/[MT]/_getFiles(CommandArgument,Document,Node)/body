{
  if (commandArgument.getCurrentFolder().equals(StringPool.SLASH)) {
    return;
  }
  Element filesElement=document.createElement("Files");
  rootNode.appendChild(filesElement);
  Group group=commandArgument.getCurrentGroup();
  List<Layout> layouts=new ArrayList<Layout>();
  layouts.addAll(LayoutServiceUtil.getLayouts(group.getGroupId(),false,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID));
  layouts.addAll(LayoutServiceUtil.getLayouts(group.getGroupId(),true,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID));
  if (("/" + commandArgument.getCurrentGroupName() + "/").equals(commandArgument.getCurrentFolder())) {
    for (    Layout layout : layouts) {
      Element fileElement=document.createElement("File");
      filesElement.appendChild(fileElement);
      fileElement.setAttribute("name",_getLayoutName(layout));
      fileElement.setAttribute("desc",_getLayoutName(layout));
      fileElement.setAttribute("size",StringPool.BLANK);
      fileElement.setAttribute("url",_getRelativeURL(layout,commandArgument.getThemeDisplay()));
    }
  }
 else {
    String layoutName=_getLayoutName(commandArgument.getCurrentFolder());
    Layout layout=_getLayout(group.getGroupId(),layoutName);
    if (layout == null) {
      return;
    }
    List<Layout> layoutChildren=layout.getChildren();
    for (int i=0; i < layoutChildren.size(); i++) {
      layout=layoutChildren.get(i);
      Element fileElement=document.createElement("File");
      filesElement.appendChild(fileElement);
      fileElement.setAttribute("name",_getLayoutName(layout));
      fileElement.setAttribute("desc",_getLayoutName(layout));
      fileElement.setAttribute("size",getSize());
      fileElement.setAttribute("url",_getRelativeURL(layout,commandArgument.getThemeDisplay()));
    }
  }
}
