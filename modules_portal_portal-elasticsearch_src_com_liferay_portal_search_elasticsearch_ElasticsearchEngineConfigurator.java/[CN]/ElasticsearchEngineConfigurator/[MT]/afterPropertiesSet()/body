{
  super.afterPropertiesSet();
  ElasticsearchConnection elasticsearchConnection=_elasticsearchConnectionManager.getElasticsearchConnection();
  elasticsearchConnection.initialize();
  Client client=elasticsearchConnection.getClient();
  AdminClient adminClient=client.admin();
  try {
    _indexFactory.createIndices(adminClient);
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
