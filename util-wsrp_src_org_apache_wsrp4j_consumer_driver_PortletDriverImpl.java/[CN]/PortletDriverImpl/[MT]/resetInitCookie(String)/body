{
  UserSessionMgr userSession=this.consumerEnv.getSessionHandler().getUserSession(getPortlet().getPortletKey().getProducerId(),userID);
  if (initCookie.getValue().equalsIgnoreCase(CookieProtocol._none)) {
    userSession.setInitCookieDone(false);
  }
 else   if (initCookie.getValue().equalsIgnoreCase(CookieProtocol._perGroup)) {
    PortletDescription portletDescription=null;
    try {
      portletDescription=producer.getPortletDescription(getPortlet().getParent());
    }
 catch (    WSRPException e) {
    }
    String groupID=null;
    if (portletDescription != null) {
      groupID=portletDescription.getGroupID();
    }
    if (groupID != null) {
      GroupSessionMgr groupSession=userSession.getGroupSession(groupID);
      groupSession.setInitCookieDone(false);
    }
  }
}
