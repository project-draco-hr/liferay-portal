{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (!cmd.equals(Constants.UPDATE)) {
    return;
  }
  String[] isbns=StringUtil.split(ParamUtil.getString(actionRequest,"isbns").toUpperCase(),StringPool.SPACE);
  Arrays.sort(isbns);
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
  preferences.setValues("isbns",isbns);
  try {
    preferences.store();
  }
 catch (  ValidatorException ve) {
    SessionErrors.add(actionRequest,ValidatorException.class.getName(),ve);
    return;
  }
  SessionMessages.add(actionRequest,portletConfig.getPortletName() + ".doConfigure");
}
