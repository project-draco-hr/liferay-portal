{
  if (isDeleteActionAvailable()) {
    DeleteMenuItem deleteMenuItem=new DeleteMenuItem();
    deleteMenuItem.setKey(DLUIItemKeys.DELETE);
    String mvcActionCommandName="/document_library/edit_file_entry";
    if (_fileShortcut != null) {
      mvcActionCommandName="/document_library/edit_file_shortcut";
    }
    PortletURL portletURL=_getActionURL(mvcActionCommandName,Constants.DELETE);
    if (_fileShortcut == null) {
      portletURL.setParameter("fileEntryId",String.valueOf(_fileEntry.getFileEntryId()));
    }
 else {
      portletURL.setParameter("fileShortcutId",String.valueOf(_fileShortcut.getFileShortcutId()));
    }
    deleteMenuItem.setURL(portletURL.toString());
    menuItems.add(deleteMenuItem);
  }
 else   if (isMoveToTheRecycleBinActionAvailable()) {
    DeleteMenuItem deleteMenuItem=new DeleteMenuItem();
    deleteMenuItem.setKey(DLUIItemKeys.DELETE);
    deleteMenuItem.setTrash(true);
    String mvcActionCommandName="/document_library/edit_file_entry";
    if (_fileShortcut != null) {
      mvcActionCommandName="/document_library/edit_file_shortcut";
    }
    PortletURL portletURL=_getActionURL(mvcActionCommandName,Constants.MOVE_TO_TRASH);
    if (_fileShortcut == null) {
      portletURL.setParameter("fileEntryId",String.valueOf(_fileEntry.getFileEntryId()));
    }
 else {
      portletURL.setParameter("fileShortcutId",String.valueOf(_fileShortcut.getFileShortcutId()));
    }
    deleteMenuItem.setURL(portletURL.toString());
    menuItems.add(deleteMenuItem);
  }
}
