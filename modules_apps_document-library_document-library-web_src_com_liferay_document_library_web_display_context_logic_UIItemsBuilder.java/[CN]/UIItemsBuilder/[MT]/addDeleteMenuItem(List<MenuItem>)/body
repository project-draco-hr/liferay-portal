{
  String cmd=null;
  if (isDeleteActionAvailable()) {
    cmd=Constants.DELETE;
  }
 else   if (isMoveToTheRecycleBinActionAvailable()) {
    cmd=Constants.MOVE_TO_TRASH;
  }
 else {
    return;
  }
  DeleteMenuItem deleteMenuItem=new DeleteMenuItem();
  deleteMenuItem.setKey(DLUIItemKeys.DELETE);
  if (cmd.equals(Constants.MOVE_TO_TRASH)) {
    deleteMenuItem.setTrash(true);
  }
  String mvcActionCommandName="/document_library/edit_file_entry";
  if (_fileShortcut != null) {
    mvcActionCommandName="/document_library/edit_file_shortcut";
  }
  PortletURL portletURL=_getActionURL(mvcActionCommandName,cmd);
  if (_fileShortcut == null) {
    portletURL.setParameter("fileEntryId",String.valueOf(_fileEntry.getFileEntryId()));
  }
 else {
    portletURL.setParameter("fileShortcutId",String.valueOf(_fileShortcut.getFileShortcutId()));
  }
  deleteMenuItem.setURL(portletURL.toString());
  menuItems.add(deleteMenuItem);
}
