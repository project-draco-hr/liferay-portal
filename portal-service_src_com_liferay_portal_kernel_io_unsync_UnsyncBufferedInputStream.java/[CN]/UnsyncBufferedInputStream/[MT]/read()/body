{
  if (inputStream == null) {
    throw new IOException("Input stream is null");
  }
  if (index >= firstInvalidIndex) {
    readUnderlyingInputStream();
    if (index >= firstInvalidIndex) {
      return -1;
    }
  }
  return buffer[index++] & 0xff;
}
