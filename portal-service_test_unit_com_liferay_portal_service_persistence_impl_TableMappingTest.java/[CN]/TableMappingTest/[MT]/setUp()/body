{
  Class<?> clazz=TableMappingTest.class;
  ClassLoader classLoader=clazz.getClassLoader();
  _mockDataSource=(DataSource)ProxyUtil.newProxyInstance(classLoader,new Class<?>[]{DataSource.class},null);
  _leftPersistence=new MockPersistence<Left>(Left.class);
  _leftPersistence.setDataSource(_mockDataSource);
  _rightPersistence=new MockPersistence<Right>(Right.class);
  _rightPersistence.setDataSource(_mockDataSource);
  SqlUpdateFactoryUtil sqlUpdateFactoryUtil=new SqlUpdateFactoryUtil();
  sqlUpdateFactoryUtil.setSqlUpdateFactory(new MockSqlUpdateFactory());
  MappingSqlQueryFactoryUtil mappingSqlQueryFactoryUtil=new MappingSqlQueryFactoryUtil();
  mappingSqlQueryFactoryUtil.setMappingSqlQueryFactory(new MockMappingSqlQueryFactory());
  MultiVMPoolUtil multiVMPoolUtil=new MultiVMPoolUtil();
  multiVMPoolUtil.setMultiVMPool(new MockMultiVMPool());
  _tableMappingImpl=new TableMappingImpl<Left,Right>(_mappingTableName,_leftColumnName,_rightColumnName,_leftPersistence,_rightPersistence);
}
