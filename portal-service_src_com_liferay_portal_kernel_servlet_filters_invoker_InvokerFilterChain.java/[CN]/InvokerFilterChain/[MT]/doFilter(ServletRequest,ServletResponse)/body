{
  if (_filters.isEmpty()) {
    _filterChain.doFilter(servletRequest,servletResponse);
  }
 else {
    HttpServletRequest request=(HttpServletRequest)servletRequest;
    HttpServletResponse response=(HttpServletResponse)servletResponse;
    Filter filter=_filters.remove();
    boolean filterEnabled=true;
    if (filter instanceof LiferayFilter) {
      LiferayFilter liferayFilter=(LiferayFilter)filter;
      filterEnabled=liferayFilter.isFilterEnabled(request,response);
    }
    if (filterEnabled) {
      filter.doFilter(request,response,this);
    }
 else {
      if (_log.isDebugEnabled()) {
        _log.debug("Skip disabled filter " + filter.getClass());
      }
      doFilter(request,response);
    }
  }
}
