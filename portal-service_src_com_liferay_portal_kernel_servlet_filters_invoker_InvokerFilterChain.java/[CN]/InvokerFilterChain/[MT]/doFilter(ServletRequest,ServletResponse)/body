{
  if ((_filters == null) || (_index >= _filters.size())) {
    _filterChain.doFilter(servletRequest,servletResponse);
  }
 else {
    HttpServletRequest request=(HttpServletRequest)servletRequest;
    HttpServletResponse response=(HttpServletResponse)servletResponse;
    Filter filter=_filters.get(_index++);
    boolean filterEnabled=true;
    if (filter instanceof LiferayFilter) {
      LiferayFilter liferayFilter=(LiferayFilter)filter;
      if (!liferayFilter.isFilterEnabled() || !liferayFilter.isFilterEnabled(request,response)) {
        filterEnabled=false;
      }
    }
    if (filterEnabled) {
      if (filter instanceof DirectCallFilter) {
        try {
          processDirectCallFilter(filter,request,response);
        }
 catch (        IOException ioe) {
          throw ioe;
        }
catch (        ServletException se) {
          throw se;
        }
catch (        Exception e) {
          throw new ServletException(e);
        }
      }
 else {
        processDoFilter(filter,request,response);
      }
    }
 else {
      if (_log.isDebugEnabled()) {
        _log.debug("Skip disabled filter " + filter.getClass());
      }
      doFilter(request,response);
    }
  }
}
