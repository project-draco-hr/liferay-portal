{
  DDMForm copyDDMForm=new DDMForm(ddmForm);
  Map<String,DDMFormField> ddmFormFieldsMap=copyDDMForm.getDDMFormFieldsMap(true);
  for (  DDMFormField ddmFormField : ddmFormFieldsMap.values()) {
    String dataType=ddmFormField.getDataType();
    String name=ddmFormField.getName();
    String newName=name.replaceAll(_FIELD_NAME_REGEX,StringPool.BLANK);
    if (Validator.isNull(newName)) {
      newName=StringUtil.randomString();
    }
    if (!name.equals(newName)) {
      ddmFormField.getProperties().put("oldName",name);
    }
    _ddmFormFieldNameMap.put(name,newName);
    ddmFormField.setName(newName);
    if (Validator.equals(dataType,"file-upload")) {
      ddmFormField.setDataType("document-library");
      ddmFormField.setType("ddm-documentlibrary");
    }
 else     if (Validator.equals(dataType,"image")) {
      ddmFormField.setFieldNamespace("ddm");
      ddmFormField.setType("ddm-image");
    }
  }
  return copyDDMForm;
}
