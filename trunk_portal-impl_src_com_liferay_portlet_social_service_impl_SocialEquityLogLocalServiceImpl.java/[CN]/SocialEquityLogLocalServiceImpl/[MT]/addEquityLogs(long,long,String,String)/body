{
  if (!PropsValues.SOCIAL_EQUITY_EQUITY_LOG_ENABLED) {
    return;
  }
  User user=userPersistence.findByPrimaryKey(userId);
  AssetEntry assetEntry=assetEntryPersistence.findByPrimaryKey(assetEntryId);
  User assetEntryUser=null;
  try {
    assetEntryUser=userPersistence.findByPrimaryKey(assetEntry.getUserId());
  }
 catch (  NoSuchUserException nsue) {
  }
  List<SocialEquitySetting> equitySettings=socialEquitySettingLocalService.getEquitySettings(assetEntry.getGroupId(),assetEntry.getClassNameId(),actionId);
  for (  SocialEquitySetting equitySetting : equitySettings) {
    if (isSocialEquityEnabled(assetEntry.getGroupId(),assetEntry.getClassName(),equitySetting.getType())) {
      addEquityLog(user,assetEntry,assetEntryUser,equitySetting,extraData);
    }
  }
}
