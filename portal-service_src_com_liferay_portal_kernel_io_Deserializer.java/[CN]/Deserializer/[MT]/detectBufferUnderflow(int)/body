{
  if ((index + availableBytes) > limit) {
    throw new IllegalStateException("Buffer underflow");
  }
}
