{
  Registry registry=RegistryUtil.getRegistry();
  Map<String,Object> properties=new HashMap<>();
  properties.put("editor.name",_EDITOR_NAME);
  properties.put("service.ranking",1000);
  EditorConfigContributor textFormatEditorConfigContributor=new TextFormatEditorConfigContributor();
  _editorConfigContributorServiceRegistration1=registry.registerService(EditorConfigContributor.class,textFormatEditorConfigContributor,properties);
  properties=new HashMap<>();
  properties.put("editor.name",_EDITOR_NAME_2);
  properties.put("service.ranking",1000);
  EditorConfigContributor imageEditorConfigContributor=new ImageEditorConfigContributor();
  _editorConfigContributorServiceRegistration2=registry.registerService(EditorConfigContributor.class,imageEditorConfigContributor,properties);
  EditorConfiguration editorConfiguration=EditorConfigurationFactoryUtil.getEditorConfiguration(_PORTLET_NAME,_CONFIG_KEY,_EDITOR_NAME,new HashMap<String,Object>(),null,null);
  JSONObject configJSONObject=editorConfiguration.getConfigJSONObject();
  Assert.assertEquals(TextFormatEditorConfigContributor.class.getName(),configJSONObject.getString("className"));
  editorConfiguration=EditorConfigurationFactoryUtil.getEditorConfiguration(_PORTLET_NAME,_CONFIG_KEY,_EDITOR_NAME_2,new HashMap<String,Object>(),null,null);
  configJSONObject=editorConfiguration.getConfigJSONObject();
  Assert.assertEquals(ImageEditorConfigContributor.class.getName(),configJSONObject.getString("className"));
}
