{
  validate(0,companyId,name);
  long userGroupId=CounterLocalServiceUtil.increment(Counter.class.getName());
  UserGroup userGroup=UserGroupUtil.create(userGroupId);
  userGroup.setCompanyId(companyId);
  userGroup.setParentUserGroupId(UserGroupImpl.DEFAULT_PARENT_USER_GROUP_ID);
  userGroup.setName(name);
  userGroup.setDescription(description);
  UserGroupUtil.update(userGroup);
  GroupLocalServiceUtil.addGroup(userId,UserGroup.class.getName(),String.valueOf(userGroup.getPrimaryKey()),null,null,null,null,true);
  ResourceLocalServiceUtil.addResources(companyId,0,userId,UserGroup.class.getName(),userGroup.getPrimaryKey(),false,false,false);
  return userGroup;
}
