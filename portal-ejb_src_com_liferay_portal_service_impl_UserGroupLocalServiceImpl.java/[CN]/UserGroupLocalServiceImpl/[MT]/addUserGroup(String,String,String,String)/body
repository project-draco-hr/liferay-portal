{
  validate(null,companyId,name);
  String userGroupId=Long.toString(CounterLocalServiceUtil.increment(UserGroup.class.getName()));
  UserGroup userGroup=UserGroupUtil.create(userGroupId);
  userGroup.setCompanyId(companyId);
  userGroup.setParentUserGroupId(UserGroupImpl.DEFAULT_PARENT_USER_GROUP_ID);
  userGroup.setName(name);
  userGroup.setDescription(description);
  UserGroupUtil.update(userGroup);
  GroupLocalServiceUtil.addGroup(userId,UserGroup.class.getName(),userGroup.getPrimaryKey().toString(),null,null,null,null);
  ResourceLocalServiceUtil.addResources(companyId,0,userId,UserGroup.class.getName(),userGroup.getPrimaryKey().toString(),false,false,false);
  return userGroup;
}
