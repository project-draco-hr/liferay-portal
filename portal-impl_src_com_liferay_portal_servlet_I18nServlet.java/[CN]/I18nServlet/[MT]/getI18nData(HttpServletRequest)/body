{
  String path=GetterUtil.getString(request.getPathInfo());
  if (Validator.isNull(path)) {
    return null;
  }
  String languageId=request.getServletPath();
  int pos=languageId.lastIndexOf(StringPool.SLASH);
  languageId=languageId.substring(pos + 1);
  if (_log.isDebugEnabled()) {
    _log.debug("Language ID " + languageId);
  }
  if (Validator.isNull(languageId)) {
    return null;
  }
  Locale locale=LocaleUtil.fromLanguageId(languageId);
  if (Validator.isNull(locale.getCountry())) {
    locale=LanguageUtil.getLocale(locale.getLanguage());
    languageId=LocaleUtil.toLanguageId(locale);
  }
  String redirect=path;
  if (_log.isDebugEnabled()) {
    _log.debug("Redirect " + redirect);
  }
  return new String[]{languageId,redirect};
}
