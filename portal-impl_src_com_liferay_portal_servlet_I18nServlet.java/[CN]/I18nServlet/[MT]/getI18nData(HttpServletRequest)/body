{
  String path=GetterUtil.getString(request.getPathInfo());
  if (Validator.isNull(path)) {
    return null;
  }
  String i18nLanguageId=request.getServletPath();
  int pos=i18nLanguageId.lastIndexOf(CharPool.SLASH);
  i18nLanguageId=i18nLanguageId.substring(pos + 1);
  if (_log.isDebugEnabled()) {
    _log.debug("Language ID " + i18nLanguageId);
  }
  if (Validator.isNull(i18nLanguageId)) {
    return null;
  }
  Locale locale=LocaleUtil.fromLanguageId(i18nLanguageId);
  String i18nLanguageCode=locale.getLanguage();
  if (Validator.isNull(locale.getCountry())) {
    locale=LanguageUtil.getLocale(i18nLanguageCode);
    i18nLanguageId=LocaleUtil.toLanguageId(locale);
  }
  String redirect=path;
  if (_log.isDebugEnabled()) {
    _log.debug("Redirect " + redirect);
  }
  String i18nPath=StringPool.SLASH + i18nLanguageId;
  return new String[]{i18nLanguageCode,i18nLanguageId,i18nPath,redirect};
}
