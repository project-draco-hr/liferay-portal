{
  PortalRuntimePermission.checkSearchEngine(searchEngineId);
  SearchEngine searchEngine=_searchEngines.get(searchEngineId);
  if (searchEngine != null) {
    return searchEngine;
  }
synchronized (_queuingSearchEngines) {
    searchEngine=_queuingSearchEngines.get(searchEngineId);
    if (searchEngine == null) {
      QueuingSearchEngine queuingSearchEngine=new QueuingSearchEngine(_queueCapacity);
      _queuingSearchEngines.put(searchEngineId,queuingSearchEngine);
      searchEngine=queuingSearchEngine;
    }
    return searchEngine;
  }
}
