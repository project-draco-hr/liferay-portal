{
  Organization organization=(Organization)obj;
  long companyId=organization.getCompanyId();
  long organizationId=organization.getOrganizationId();
  long parentOrganizationId=organization.getParentOrganizationId();
  long leftOrganizationId=organization.getLeftOrganizationId();
  long rightOrganizationId=organization.getRightOrganizationId();
  String name=organization.getName();
  String type=organization.getType();
  long regionId=organization.getRegionId();
  long countryId=organization.getCountryId();
  List<Address> addresses=organization.getAddresses();
  List<String> streets=new ArrayList<String>();
  List<String> cities=new ArrayList<String>();
  List<String> zips=new ArrayList<String>();
  List<String> regions=new ArrayList<String>();
  List<String> countries=new ArrayList<String>();
  if (regionId > 0) {
    try {
      Region region=RegionServiceUtil.getRegion(regionId);
      regions.add(region.getName().toLowerCase());
    }
 catch (    NoSuchRegionException nsre) {
      if (_log.isWarnEnabled()) {
        _log.warn(nsre.getMessage());
      }
    }
  }
  if (countryId > 0) {
    try {
      Country country=CountryServiceUtil.getCountry(countryId);
      countries.add(country.getName().toLowerCase());
    }
 catch (    NoSuchCountryException nsce) {
      if (_log.isWarnEnabled()) {
        _log.warn(nsce.getMessage());
      }
    }
  }
  for (  Address address : addresses) {
    streets.add(address.getStreet1().toLowerCase());
    streets.add(address.getStreet2().toLowerCase());
    streets.add(address.getStreet3().toLowerCase());
    cities.add(address.getCity().toLowerCase());
    zips.add(address.getZip().toLowerCase());
    regions.add(address.getRegion().getName().toLowerCase());
    countries.add(address.getCountry().getName().toLowerCase());
  }
  long[] assetCategoryIds=AssetCategoryLocalServiceUtil.getCategoryIds(User.class.getName(),organizationId);
  String[] assetTagNames=AssetTagLocalServiceUtil.getTagNames(User.class.getName(),organizationId);
  ExpandoBridge expandoBridge=organization.getExpandoBridge();
  Document document=new DocumentImpl();
  document.addUID(PORTLET_ID,organizationId);
  document.addKeyword(Field.COMPANY_ID,companyId);
  document.addKeyword(Field.PORTLET_ID,PORTLET_ID);
  document.addKeyword(Field.ORGANIZATION_ID,organizationId);
  document.addKeyword("parentOrganizationId",parentOrganizationId);
  document.addNumber("leftOrganizationId",leftOrganizationId);
  document.addNumber("rightOrganizationId",rightOrganizationId);
  document.addKeyword("name",name,true);
  document.addKeyword("type",type);
  document.addKeyword("street",streets.toArray(new String[streets.size()]));
  document.addKeyword("city",cities.toArray(new String[cities.size()]));
  document.addKeyword("zip",zips.toArray(new String[zips.size()]));
  document.addKeyword("region",regions.toArray(new String[regions.size()]));
  document.addKeyword("country",countries.toArray(new String[countries.size()]));
  document.addKeyword(Field.ASSET_CATEGORY_IDS,assetCategoryIds);
  document.addKeyword(Field.ASSET_TAG_NAMES,assetTagNames);
  document.addKeyword(Field.ENTRY_CLASS_NAME,Organization.class.getName());
  document.addKeyword(Field.ENTRY_CLASS_PK,organizationId);
  ExpandoBridgeIndexerUtil.addAttributes(document,expandoBridge);
  return document;
}
