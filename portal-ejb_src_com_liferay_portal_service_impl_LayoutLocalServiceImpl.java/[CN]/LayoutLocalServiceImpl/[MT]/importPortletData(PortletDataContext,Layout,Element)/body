{
  Iterator itr=parentEl.elements("portlet-data").iterator();
  while (itr.hasNext()) {
    Element el=(Element)itr.next();
    String portletId=el.attributeValue("portlet-id");
    PortletPreferencesPK pk=new PortletPreferencesPK(portletId,layout.getLayoutId(),layout.getOwnerId());
    try {
      PortletPreferences prefs=PortletPreferencesUtil.findByPrimaryKey(pk);
      String preferences=importPortletData(context,portletId,prefs,el);
      if (preferences != null) {
        prefs.setPreferences(preferences);
        PortletPreferencesUtil.update(prefs);
      }
    }
 catch (    NoSuchPortletPreferencesException nsppe) {
    }
  }
}
