{
  Element el=parentEl.addElement(elName);
  try {
    Resource resource=ResourceLocalServiceUtil.getResource(companyId,resourceName,ResourceImpl.SCOPE_INDIVIDUAL,resourcePrimKey);
    List permissions=PermissionLocalServiceUtil.getGroupPermissions(groupId,resource.getResourceId());
    List actions=ResourceActionsUtil.getActions(permissions);
    for (int i=0; i < actions.size(); i++) {
      String action=(String)actions.get(i);
      Element actionKeyEl=el.addElement("action-key");
      actionKeyEl.addText(action);
    }
  }
 catch (  NoSuchResourceException nsre) {
    if (_log.isWarnEnabled()) {
      _log.warn(nsre);
    }
  }
  return el;
}
