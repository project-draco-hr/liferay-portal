{
  Iterator itr=PortletPreferencesLocalServiceUtil.getPortletPreferencesByLayout(layout.getLayoutId(),layout.getOwnerId()).iterator();
  while (itr.hasNext()) {
    PortletPreferences prefs=(PortletPreferences)itr.next();
    javax.portlet.PortletPreferences jxPrefs=PortletPreferencesLocalServiceUtil.getPreferences(layout.getCompanyId(),prefs.getPrimaryKey());
    String portletId=prefs.getPortletId();
    if (layoutTypePortlet.hasPortletId(portletId)) {
      exportPortletData(context,portletId,jxPrefs,parentEl);
    }
  }
}
