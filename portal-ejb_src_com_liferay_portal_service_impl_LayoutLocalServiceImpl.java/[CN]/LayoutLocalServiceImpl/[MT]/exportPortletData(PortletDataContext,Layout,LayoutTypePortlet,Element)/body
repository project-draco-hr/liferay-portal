{
  Iterator itr=PortletPreferencesLocalServiceUtil.getPortletPreferencesByLayout(layout.getOwnerId(),layout.getLayoutId()).iterator();
  while (itr.hasNext()) {
    PortletPreferences portletPreferences=(PortletPreferences)itr.next();
    javax.portlet.PortletPreferences jxPrefs=PortletPreferencesLocalServiceUtil.getPreferences(layout.getCompanyId(),portletPreferences.getOwnerId(),portletPreferences.getLayoutId(),portletPreferences.getPortletId());
    String portletId=portletPreferences.getPortletId();
    if (layoutTypePortlet.hasPortletId(portletId)) {
      exportPortletData(context,portletId,jxPrefs,parentEl);
    }
  }
}
