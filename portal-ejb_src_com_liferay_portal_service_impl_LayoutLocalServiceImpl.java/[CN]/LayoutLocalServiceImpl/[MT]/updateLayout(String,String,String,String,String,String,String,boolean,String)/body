{
  parentLayoutId=getParentLayoutId(ownerId,parentLayoutId);
  Locale locale=LocaleUtil.fromLanguageId(languageId);
  validate(layoutId,ownerId,parentLayoutId,name,type,hidden,friendlyURL);
  validateParentLayoutId(layoutId,ownerId,parentLayoutId);
  Layout layout=LayoutUtil.findByPrimaryKey(new LayoutPK(layoutId,ownerId));
  if (!parentLayoutId.equals(layout.getParentLayoutId())) {
    layout.setPriority(getNextPriority(ownerId,parentLayoutId));
  }
  layout.setParentLayoutId(parentLayoutId);
  layout.setName(name,locale);
  layout.setTitle(title,locale);
  layout.setType(type);
  layout.setHidden(hidden);
  layout.setFriendlyURL(friendlyURL);
  LayoutUtil.update(layout);
  return layout;
}
