{
  HttpAuthorizationHeader httpAuthorizationHeader=new HttpAuthorizationHeader(HttpAuthorizationHeader.SCHEME_DIGEST);
  String nonce=String.valueOf(Math.random());
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_NONCE,nonce);
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_REALM,Portal.PORTAL_REALM);
  String response=String.valueOf(Math.random());
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_RESPONSE,response);
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_URI,"/url");
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_USERNAME,"test@liferay.com");
  Assert.assertEquals(httpAuthorizationHeader.toString(),"Digest nonce=\"" + nonce + "\", realm=\"PortalRealm\", "+ "response=\""+ response+ "\", uri=\"/url\", "+ "username=\"test@liferay.com\"");
}
