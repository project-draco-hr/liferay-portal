{
  HttpAuthorizationHeader httpAuthorizationHeader=new HttpAuthorizationHeader(HttpAuthorizationHeader.SCHEME_DIGEST);
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_REALM,Portal.PORTAL_REALM);
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_USERNAME,"test@liferay.com");
  String nonce=String.valueOf(Math.random());
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_NONCE,nonce);
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_URI,"/url");
  String response=String.valueOf(Math.random());
  httpAuthorizationHeader.setAuthParameter(HttpAuthorizationHeader.AUTH_PARAMETER_NAME_RESPONSE,response);
  Assert.assertEquals(httpAuthorizationHeader.toString(),"Digest realm=\"PortalRealm\", username=\"test@liferay.com\", " + "nonce=\"" + nonce + "\", uri=\"/url\", response=\""+ response+ "\"");
}
