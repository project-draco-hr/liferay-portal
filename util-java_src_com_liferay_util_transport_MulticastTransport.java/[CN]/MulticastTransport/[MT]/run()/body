{
  try {
    while (_connected) {
      _socket.receive(_inboundPacket);
      _handler.process(_inboundPacket);
    }
  }
 catch (  IOException e) {
    if (_log.isErrorEnabled()) {
      _log.error("Unable to process ",e);
    }
    _socket.disconnect();
    _connected=false;
    _handler.errorReceived(e);
  }
}
