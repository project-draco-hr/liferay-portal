{
  Registry registry=RegistryUtil.getRegistry();
  ModelListener<?> modelListener=registry.getService(serviceReference);
  Class<?> clazz=getModelListeners(modelListener);
  if (clazz == null) {
    return null;
  }
  List<ModelListener<?>> modelListeners=_modelListeners.get(clazz);
  if (modelListeners == null) {
    modelListeners=new ArrayList<ModelListener<?>>();
    List<ModelListener<?>> previousModelListeners=_modelListeners.putIfAbsent(clazz,modelListeners);
    if (previousModelListeners != null) {
      modelListeners=previousModelListeners;
    }
  }
  modelListeners.add(modelListener);
  return modelListener;
}
