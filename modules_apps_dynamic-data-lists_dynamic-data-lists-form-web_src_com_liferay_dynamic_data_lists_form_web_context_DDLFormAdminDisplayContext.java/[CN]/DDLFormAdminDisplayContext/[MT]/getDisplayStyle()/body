{
  if (_displayStyle == null) {
    String[] displayViews=getDisplayViews();
    PortalPreferences portalPreferences=PortletPreferencesFactoryUtil.getPortalPreferences(_renderRequest);
    String displayStyle=ParamUtil.getString(_renderRequest,"displayStyle");
    if (Validator.isNull(displayStyle)) {
      displayStyle=portalPreferences.getValue(DDLFormPortletKeys.DYNAMIC_DATA_LISTS_FORM_ADMIN,"display-style",DDLFormWebConfigurationValues.DEFAULT_DISPLAY_VIEW);
    }
 else {
      if (ArrayUtil.contains(displayViews,displayStyle)) {
        portalPreferences.setValue(DDLFormPortletKeys.DYNAMIC_DATA_LISTS_FORM_ADMIN,"display-style",displayStyle);
      }
    }
    if (!ArrayUtil.contains(displayViews,displayStyle)) {
      displayStyle=displayViews[0];
    }
    _displayStyle=displayStyle;
  }
  return _displayStyle;
}
