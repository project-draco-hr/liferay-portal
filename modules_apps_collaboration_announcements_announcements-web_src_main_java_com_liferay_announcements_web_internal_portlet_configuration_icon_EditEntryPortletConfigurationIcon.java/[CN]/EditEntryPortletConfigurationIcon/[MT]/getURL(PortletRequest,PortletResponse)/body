{
  PortletURL portletURL=PortalUtil.getControlPanelPortletURL(portletRequest,AnnouncementsPortletKeys.ANNOUNCEMENTS_ADMIN,PortletRequest.RENDER_PHASE);
  portletURL.setParameter("mvcRenderCommandName","/announcements/edit_entry");
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  portletURL.setParameter("redirect",themeDisplay.getURLCurrent());
  try {
    AnnouncementsEntry entry=ActionUtil.getEntry(portletRequest);
    portletURL.setParameter("entryId",String.valueOf(entry.getEntryId()));
  }
 catch (  Exception e) {
    return null;
  }
  return portletURL.toString();
}
