{
  PortletURL portletURL=PortalUtil.getControlPanelPortletURL(portletRequest,KBPortletKeys.KNOWLEDGE_BASE_ADMIN,PortletRequest.RENDER_PHASE);
  portletURL.setParameter("mvcPath","/admin/edit_article.jsp");
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  portletURL.setParameter("redirect",themeDisplay.getURLCurrent());
  KBArticle kbArticle=(KBArticle)portletRequest.getAttribute(KBWebKeys.KNOWLEDGE_BASE_KB_ARTICLE);
  portletURL.setParameter("parentResourceClassNameId",String.valueOf(kbArticle.getClassNameId()));
  portletURL.setParameter("parentResourcePrimKey",String.valueOf(kbArticle.getResourcePrimKey()));
  return portletURL.toString();
}
