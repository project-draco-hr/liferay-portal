{
  if ((inputStream == null) || (outputStream == null)) {
    return;
  }
  ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();
  try {
    StreamUtil.transfer(inputStream,byteArrayOutputStream);
    String content=new String(byteArrayOutputStream.toByteArray(),StringPool.UTF8);
    String result=sanitize(companyId,groupId,userId,className,classPK,contentType,modes,content,options);
    byte[] bytes=result.getBytes(StringPool.UTF8);
    outputStream.write(bytes);
  }
 catch (  IOException e) {
    throw new SanitizerException(e);
  }
}
