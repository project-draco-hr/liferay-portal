{
  ExportImportContentProcessor exportImportContentProcessor=_bundleContext.getService(serviceReference);
  List<String> modelClassNames=StringPlus.asList(serviceReference.getProperty("model.class.name"));
  for (  String modelClassName : modelClassNames) {
    int order=GetterUtil.getInteger(serviceReference.getProperty("content.processor.order"),1);
    List<ExportImportContentProcessor<?,?>> exportImportContentProcessors=_exportImportContentProcessors.get(modelClassName);
    if (exportImportContentProcessors == null) {
      exportImportContentProcessors=new ArrayList<>();
    }
    int capacity=exportImportContentProcessors.size() + 1;
    exportImportContentProcessors.ensureCapacity(capacity);
    order=Math.max(0,order);
    order=Math.min(capacity,order) - 1;
    exportImportContentProcessors.add(order,exportImportContentProcessor);
    _exportImportContentProcessors.put(modelClassName,exportImportContentProcessors);
  }
  return exportImportContentProcessor;
}
