{
  EmailAddressGenerator emailAddressGenerator=EmailAddressGeneratorFactory.getInstance();
  if (emailAddressGenerator.isFake(internetAddress.getAddress())) {
    return null;
  }
  String address=internetAddress.toString();
  for (  char c : address.toCharArray()) {
    if ((c == CharPool.NEW_LINE) || (c == CharPool.RETURN)) {
      if (_log.isWarnEnabled()) {
        StringBundler sb=new StringBundler(4);
        sb.append("Email address ");
        sb.append(address);
        sb.append(" contains line break characters and will be ");
        sb.append("excluded from the email");
        _log.warn(sb.toString());
      }
      return null;
    }
  }
  return internetAddress;
}
