{
  int connectionTimeout=httpConnectionParams.getConnectionTimeout();
  if (connectionTimeout == 0) {
    return createSocket(host,port,localInetAddress,localPort);
  }
  SocketFactory socketFactory=SocketFactory.getDefault();
  Socket socket=socketFactory.createSocket();
  SocketAddress localSocketAddress=new InetSocketAddress(localInetAddress,localPort);
  SocketAddress remoteSocketAddress=new InetSocketAddress(host,port);
  socket.bind(localSocketAddress);
  socket.connect(remoteSocketAddress,connectionTimeout);
  return socket;
}
