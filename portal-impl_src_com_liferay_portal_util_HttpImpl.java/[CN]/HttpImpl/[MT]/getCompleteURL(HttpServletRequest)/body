{
  StringBuffer sb=request.getRequestURL();
  if (sb == null) {
    sb=new StringBuffer();
  }
  if (request.getQueryString() != null) {
    sb.append(StringPool.QUESTION);
    sb.append(request.getQueryString());
  }
  String completeURL=sb.toString();
  if (_log.isWarnEnabled()) {
    if (completeURL.contains("?&")) {
      _log.warn("Invalid url " + completeURL);
    }
  }
  return completeURL;
}
