{
  if (Validator.isNull(url)) {
    return url;
  }
  Matcher matcher=_relativeUrlPattern.matcher(url);
  if (matcher.lookingAt()) {
    return url;
  }
  boolean modifiedURL;
  do {
    modifiedURL=false;
    matcher=_absoluteUrlPattern.matcher(url);
    if (matcher.lookingAt()) {
      url=url.substring(matcher.end());
      modifiedURL=true;
    }
    matcher=_protocolRelativeUrlPattern.matcher(url);
    if (matcher.lookingAt()) {
      url=url.substring(matcher.end());
      modifiedURL=true;
    }
  }
 while (modifiedURL);
  return url;
}
