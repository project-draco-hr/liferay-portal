{
  StringBundler sb=new StringBundler();
  if (parameterMap.size() > 0) {
    if (addQuestion) {
      sb.append(StringPool.QUESTION);
    }
    for (    Map.Entry<String,String[]> entry : parameterMap.entrySet()) {
      String name=entry.getKey();
      String[] values=entry.getValue();
      for (      String value : values) {
        sb.append(name);
        sb.append(StringPool.EQUAL);
        sb.append(URLCodec.encodeURL(value));
        sb.append(StringPool.AMPERSAND);
      }
    }
    if (sb.index() > 1) {
      sb.setIndex(sb.index() - 1);
    }
  }
  return sb.toString();
}
