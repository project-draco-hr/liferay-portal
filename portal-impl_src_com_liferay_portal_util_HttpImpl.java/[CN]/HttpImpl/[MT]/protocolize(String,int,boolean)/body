{
  if (Validator.isNull(url)) {
    return url;
  }
  try {
    URL urlObj=new URL(url);
    String protocol=Http.HTTP;
    if (secure) {
      protocol=Http.HTTPS;
    }
    if (port == -1) {
      port=urlObj.getPort();
    }
    urlObj=new URL(protocol,urlObj.getHost(),port,urlObj.getFile());
    return urlObj.toString();
  }
 catch (  Exception e) {
    return url;
  }
}
