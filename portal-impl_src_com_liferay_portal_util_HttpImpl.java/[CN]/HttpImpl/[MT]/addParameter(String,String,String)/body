{
  if (url == null) {
    return null;
  }
  String anchor=StringPool.BLANK;
  int pos=url.indexOf(StringPool.POUND);
  if (pos != -1) {
    anchor=url.substring(pos);
    url=url.substring(0,pos);
  }
  if (url.indexOf(StringPool.QUESTION) == -1) {
    url+=StringPool.QUESTION;
  }
  if (!url.endsWith(StringPool.QUESTION) && !url.endsWith(StringPool.AMPERSAND)) {
    url+=StringPool.AMPERSAND;
  }
  return url + name + StringPool.EQUAL+ encodeURL(value)+ anchor;
}
