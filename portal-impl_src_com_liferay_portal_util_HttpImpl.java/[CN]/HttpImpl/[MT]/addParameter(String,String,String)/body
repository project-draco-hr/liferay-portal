{
  if (url == null) {
    return null;
  }
  int anchorPos=url.indexOf(StringPool.POUND);
  String anchor=StringPool.BLANK;
  if (anchorPos != -1) {
    anchor=url.substring(anchorPos);
    url=url.substring(0,anchorPos);
  }
  if (url.indexOf(StringPool.QUESTION) == -1) {
    url+=StringPool.QUESTION;
  }
  if (!url.endsWith(StringPool.QUESTION) && !url.endsWith(StringPool.AMPERSAND)) {
    url+=StringPool.AMPERSAND;
  }
  return url + name + StringPool.EQUAL+ encodeURL(value)+ anchor;
}
