{
  Map<String,String[]> parameterMap=new LinkedHashMap<String,String[]>();
  if (Validator.isNull(queryString)) {
    return parameterMap;
  }
  Map<String,List<String>> tempParameterMap=new LinkedHashMap<String,List<String>>();
  StringTokenizer st=new StringTokenizer(queryString,StringPool.AMPERSAND);
  while (st.hasMoreTokens()) {
    String token=st.nextToken();
    if (Validator.isNotNull(token)) {
      String[] kvp=StringUtil.split(token,StringPool.EQUAL);
      String key=kvp[0];
      String value=StringPool.BLANK;
      if (kvp.length > 1) {
        value=decodeURL(kvp[1]);
      }
      List<String> values=tempParameterMap.get(key);
      if (values == null) {
        values=new ArrayList<String>();
        tempParameterMap.put(key,values);
      }
      values.add(value);
    }
  }
  for (  Map.Entry<String,List<String>> entry : tempParameterMap.entrySet()) {
    String key=entry.getKey();
    List<String> values=entry.getValue();
    parameterMap.put(key,values.toArray(new String[values.size()]));
  }
  return parameterMap;
}
