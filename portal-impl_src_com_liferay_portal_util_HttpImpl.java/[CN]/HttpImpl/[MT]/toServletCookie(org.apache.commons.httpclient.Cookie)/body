{
  Cookie cookie=new Cookie(commonsCookie.getName(),commonsCookie.getValue());
  String domain=StringPool.BLANK;
  if (!PropsValues.SESSION_COOKIE_USE_FULL_HOSTNAME) {
    domain=commonsCookie.getDomain();
  }
  if (Validator.isNotNull(domain)) {
    cookie.setDomain(domain);
  }
  Date expiryDate=commonsCookie.getExpiryDate();
  if (expiryDate != null) {
    int maxAge=(int)(expiryDate.getTime() - System.currentTimeMillis());
    maxAge=maxAge / 1000;
    if (maxAge > -1) {
      cookie.setMaxAge(maxAge);
    }
  }
  String path=commonsCookie.getPath();
  if (Validator.isNotNull(path)) {
    cookie.setPath(path);
  }
  cookie.setSecure(commonsCookie.getSecure());
  cookie.setVersion(commonsCookie.getVersion());
  return cookie;
}
