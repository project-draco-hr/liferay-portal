{
  DDLRecordVersion recordVersion=getRecordVersion(recordId,version);
  if (recordVersion.getStatus() != WorkflowConstants.STATUS_APPROVED) {
    return;
  }
  User user=userPersistence.findByPrimaryKey(recordVersion.getUserId());
  DDLRecord record=ddlRecordPersistence.findByPrimaryKey(recordId);
  record.setVersionUserId(user.getUserId());
  record.setVersionUserName(user.getFullName());
  record.setModifiedDate(serviceContext.getModifiedDate(null));
  record.setDDMStorageId(recordVersion.getDDMStorageId());
  record.setRecordSetId(recordVersion.getRecordSetId());
  record.setVersion(recordVersion.getVersion());
  record.setDisplayIndex(recordVersion.getDisplayIndex());
  ddlRecordPersistence.update(record,false);
}
