{
  DDLRecordSet recordSet=ddlRecordSetPersistence.findByPrimaryKey(recordSetId);
  DDMStructure ddmStructure=recordSet.getDDMStructure();
  Fields fields=toFields(ddmStructure.getStructureId(),fieldsMap,serviceContext.getLocale(),LocaleUtil.getSiteDefault(),true);
  return ddlRecordLocalService.addRecord(userId,groupId,recordSetId,displayIndex,fields,serviceContext);
}
