{
  final String prefix="html/themes/" + theme + "/";
  final File portalWebDir=getPortalWebDir();
  File portalWebFile=getPortalWebFile();
  if (portalWebDir != null) {
    Closure<Void> closure=new Closure<Void>(null){
      @SuppressWarnings("unused") public void doCall(      CopySpec copySpec){
        copySpec.from(new File(portalWebDir,prefix));
        copySpec.exclude(excludes);
        copySpec.include(include);
        copySpec.into(getThemeRootDir());
      }
    }
;
    _project.copy(closure);
  }
 else   if (portalWebFile != null) {
    String[] prefixedExcludes=StringUtil.prepend(excludes,prefix);
    String prefixedInclude=prefix + include;
    FileUtil.unzip(_project,portalWebFile,getThemeRootDir(),3,prefixedExcludes,new String[]{prefixedInclude});
  }
 else {
    throw new GradleException("Unable to find the portal web files");
  }
}
