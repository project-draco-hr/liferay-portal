{
  org.apache.lucene.document.Document luceneDoc=new org.apache.lucene.document.Document();
  Collection<Field> values=doc.getFields().values();
  for (  Field field : values) {
    if (field.isTokenized()) {
      for (      String value : field.getValues()) {
        LuceneUtil.addText(luceneDoc,field.getName(),value);
      }
    }
 else {
      for (      String value : field.getValues()) {
        LuceneUtil.addKeyword(luceneDoc,field.getName(),value);
      }
    }
  }
  return luceneDoc;
}
