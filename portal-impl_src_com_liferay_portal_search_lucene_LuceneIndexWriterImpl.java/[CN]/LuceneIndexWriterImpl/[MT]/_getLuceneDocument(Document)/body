{
  org.apache.lucene.document.Document luceneDocument=new org.apache.lucene.document.Document();
  Collection<Field> fields=document.getFields().values();
  for (  Field field : fields) {
    String name=field.getName();
    boolean numeric=field.isNumeric();
    boolean tokenized=field.isTokenized();
    float boost=field.getBoost();
    for (    String value : field.getValues()) {
      if (Validator.isNull(value)) {
        continue;
      }
      org.apache.lucene.document.Fieldable luceneFieldable=null;
      if (numeric) {
        luceneFieldable=LuceneFields.getNumber(name,value);
      }
 else {
        if (tokenized) {
          luceneFieldable=LuceneFields.getText(name,value);
        }
 else {
          luceneFieldable=LuceneFields.getKeyword(name,value);
        }
      }
      luceneFieldable.setBoost(boost);
      luceneDocument.add(luceneFieldable);
    }
  }
  return luceneDocument;
}
