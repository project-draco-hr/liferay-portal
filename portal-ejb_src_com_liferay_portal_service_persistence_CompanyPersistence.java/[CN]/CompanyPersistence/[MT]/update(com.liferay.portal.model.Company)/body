{
  Session session=null;
  try {
    if (company.isNew() || company.isModified()) {
      session=openSession();
      if (company.isNew()) {
        Company companyModel=new Company();
        companyModel.setCompanyId(company.getCompanyId());
        companyModel.setKey(company.getKey());
        companyModel.setPortalURL(company.getPortalURL());
        companyModel.setHomeURL(company.getHomeURL());
        companyModel.setMx(company.getMx());
        session.save(companyModel);
        session.flush();
      }
 else {
        Company companyModel=(Company)session.get(Company.class,company.getPrimaryKey());
        if (companyModel != null) {
          companyModel.setKey(company.getKey());
          companyModel.setPortalURL(company.getPortalURL());
          companyModel.setHomeURL(company.getHomeURL());
          companyModel.setMx(company.getMx());
          session.flush();
        }
 else {
          companyModel=new Company();
          companyModel.setCompanyId(company.getCompanyId());
          companyModel.setKey(company.getKey());
          companyModel.setPortalURL(company.getPortalURL());
          companyModel.setHomeURL(company.getHomeURL());
          companyModel.setMx(company.getMx());
          session.save(companyModel);
          session.flush();
        }
      }
      company.setNew(false);
      company.setModified(false);
    }
    return company;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
