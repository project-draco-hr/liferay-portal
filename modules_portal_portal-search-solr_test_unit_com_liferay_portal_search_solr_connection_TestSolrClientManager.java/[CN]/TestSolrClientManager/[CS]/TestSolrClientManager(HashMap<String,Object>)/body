{
  BasicAuthPoolingHttpClientFactory httpClientFactory=new BasicAuthPoolingHttpClientFactory(){
{
      activate(Collections.<String,Object>emptyMap());
    }
  }
;
  SolrConfiguration solrConfiguration=Configurable.createConfigurable(SolrConfiguration.class,configurationProperties);
  Map<String,Object> properties=new HashMap<>();
  properties.put("type",solrConfiguration.authenticationMode());
  setHttpClientFactory(httpClientFactory,properties);
  properties.put("type",solrConfiguration.clientType());
  setSolrClientFactory(new ReplicatedSolrClientFactory(),properties);
  ComponentContext componentContext=Mockito.mock(ComponentContext.class);
  Mockito.when(componentContext.getProperties()).thenReturn(new Hashtable<String,Object>(configurationProperties));
  activate(componentContext);
}
