{
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  for (  Map.Entry<String,Object> entry : _properties.entrySet()) {
    String key=entry.getKey();
    if (!key.startsWith(_JSP_SERVLET_INIT_PARAM_PREFIX)) {
      continue;
    }
    String name=_SERVLET_INIT_PARAM_PREFIX + key.substring(_JSP_SERVLET_INIT_PARAM_PREFIX.length());
    properties.put(name,entry.getValue());
  }
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_SELECT,createContextSelectFilterString());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_NAME,JspServletWrapper.class.getName());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_PATTERN,new String[]{"*.jsp","*.jspx"});
  return _bundleContext.registerService(Servlet.class,new JspServlet(){
  }
,properties);
}
