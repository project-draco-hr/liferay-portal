{
  String key=_getKey(companyId,scope,primKey,roleId);
  if (_resourcePermissions.contains(key)) {
    return;
  }
  _resourcePermissions.add(key);
  PreparedStatement ps=null;
  try {
    long resourcePermissionId=increment(ResourcePermission.class.getName());
    long actionBitwiseValue=_VIEW_VALUE | _ACCESS_IN_CONTROL_PANEL_VALUE;
    String name="com_liferay_announcements_web_portlet_" + "AnnouncementsAdminPortlet";
    long ownerId=0;
    StringBundler sb=new StringBundler(4);
    sb.append("insert into ResourcePermission (mvccVersion, ");
    sb.append("resourcePermissionId, companyId, name, scope, ");
    sb.append("primKey, primKeyId, roleId, ownerId, actionIds, ");
    sb.append("viewActionId) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)");
    String sql=sb.toString();
    ps=connection.prepareStatement(sql);
    ps.setLong(1,0);
    ps.setLong(2,resourcePermissionId);
    ps.setLong(3,companyId);
    ps.setString(4,name);
    ps.setInt(5,scope);
    ps.setString(6,primKey);
    ps.setLong(7,primKeyId);
    ps.setLong(8,roleId);
    ps.setLong(9,ownerId);
    ps.setLong(10,actionBitwiseValue);
    ps.setBoolean(11,_VIEW_ACTION_SUPPORTED);
    ps.executeUpdate();
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to add resource permission",e);
    }
  }
 finally {
    DataAccess.cleanUp(ps);
  }
}
