{
  SortedSet subPackages=new TreeSet();
  lock.lock();
  try {
    Iterator iter=this.children.values().iterator();
    while (iter.hasNext()) {
      PackageData packageData=(PackageData)iter.next();
      if (packageData.getName().startsWith(packageName + ".") || packageData.getName().equals(packageName) || packageName.equals(""))       subPackages.add(packageData);
    }
  }
  finally {
    lock.unlock();
  }
  return subPackages;
}
