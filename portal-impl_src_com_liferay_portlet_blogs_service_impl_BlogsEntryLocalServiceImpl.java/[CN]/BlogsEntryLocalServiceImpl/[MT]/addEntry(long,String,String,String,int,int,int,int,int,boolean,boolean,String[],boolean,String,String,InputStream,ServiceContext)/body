{
  ImageSelector coverImageImageSelector=null;
  ImageSelector smallImageImageSelector=null;
  if (smallImage) {
    if (Validator.isNotNull(smallImageFileName) && (smallImageInputStream != null)) {
      try {
        byte[] bytes=FileUtil.getBytes(smallImageInputStream);
        smallImageImageSelector=new ImageSelector(bytes,smallImageFileName,MimeTypesUtil.getContentType(smallImageFileName),null);
      }
 catch (      IOException ioe) {
        if (_log.isErrorEnabled()) {
          _log.error("Could not create the image selector",ioe);
        }
      }
    }
 else     if (Validator.isNotNull(smallImageURL)) {
      smallImageImageSelector=new ImageSelector(smallImageURL);
    }
  }
  return addEntry(userId,title,StringPool.BLANK,description,content,displayDateMonth,displayDateDay,displayDateYear,displayDateHour,displayDateMinute,allowPingbacks,allowTrackbacks,trackbacks,StringPool.BLANK,coverImageImageSelector,smallImageImageSelector,serviceContext);
}
