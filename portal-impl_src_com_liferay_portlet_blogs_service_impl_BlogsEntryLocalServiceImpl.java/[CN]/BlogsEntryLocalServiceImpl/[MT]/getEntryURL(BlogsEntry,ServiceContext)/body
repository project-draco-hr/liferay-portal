{
  if (Validator.isNotNull(serviceContext.getAttribute("entryURL"))) {
    return (String)serviceContext.getAttribute("entryURL");
  }
  HttpServletRequest request=serviceContext.getRequest();
  if (request == null) {
    return StringPool.BLANK;
  }
  String layoutURL=LayoutURLUtil.getLayoutURL(entry.getGroupId(),PortletKeys.BLOGS,serviceContext);
  if (Validator.isNotNull(layoutURL)) {
    return layoutURL + Portal.FRIENDLY_URL_SEPARATOR + "blogs"+ StringPool.SLASH+ entry.getEntryId();
  }
  long controlPanelPlid=PortalUtil.getControlPanelPlid(serviceContext.getCompanyId());
  PortletURL portletURL=PortletURLFactoryUtil.create(request,PortletKeys.BLOGS_ADMIN,controlPanelPlid,PortletRequest.RENDER_PHASE);
  portletURL.setParameter("struts_action","/blogs_admin/view_entry");
  portletURL.setParameter("entryId",String.valueOf(entry.getEntryId()));
  return portletURL.toString();
}
