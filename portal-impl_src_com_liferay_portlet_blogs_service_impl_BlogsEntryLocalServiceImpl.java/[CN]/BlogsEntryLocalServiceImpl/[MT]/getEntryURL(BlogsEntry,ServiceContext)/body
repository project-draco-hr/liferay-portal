{
  String entryURL=GetterUtil.getString(serviceContext.getAttribute("entryURL"));
  if (Validator.isNotNull(entryURL)) {
    return entryURL;
  }
  HttpServletRequest request=serviceContext.getRequest();
  if (request == null) {
    return StringPool.BLANK;
  }
  String portletId=PortletProviderUtil.getPortletId(BlogsEntry.class.getName(),PortletProvider.Action.VIEW);
  if (Validator.isNotNull(portletId)) {
    String layoutURL=LayoutURLUtil.getLayoutURL(entry.getGroupId(),portletId,serviceContext);
    if (Validator.isNotNull(layoutURL)) {
      return layoutURL + Portal.FRIENDLY_URL_SEPARATOR + "blogs"+ StringPool.SLASH+ entry.getEntryId();
    }
  }
  portletId=PortletProviderUtil.getPortletId(BlogsEntry.class.getName(),PortletProvider.Action.MANAGE);
  if (Validator.isNull(portletId)) {
    return StringPool.BLANK;
  }
  PortletURL portletURL=PortalUtil.getControlPanelPortletURL(request,portletId,0,PortletRequest.RENDER_PHASE);
  portletURL.setParameter("mvcRenderCommandName","/blogs/view_entry");
  portletURL.setParameter("entryId",String.valueOf(entry.getEntryId()));
  return portletURL.toString();
}
