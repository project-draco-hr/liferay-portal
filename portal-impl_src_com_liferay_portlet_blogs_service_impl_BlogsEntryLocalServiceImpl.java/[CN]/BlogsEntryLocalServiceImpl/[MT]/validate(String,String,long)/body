{
  if (Validator.isNull(title)) {
    throw new EntryTitleException();
  }
 else   if (Validator.isNull(content)) {
    throw new EntryContentException();
  }
  String[] imageExtensions=PrefsPropsUtil.getStringArray(PropsKeys.BLOGS_IMAGE_EXTENSIONS,StringPool.COMMA);
  if (fileEntryId != 0) {
    FileEntry smallImageFileEntry=PortletFileRepositoryUtil.getPortletFileEntry(fileEntryId);
    boolean validSmallImageExtension=false;
    for (    String _imageExtension : imageExtensions) {
      if (StringPool.STAR.equals(_imageExtension) || _imageExtension.equals(smallImageFileEntry.getExtension())) {
        validSmallImageExtension=true;
        break;
      }
    }
    if (!validSmallImageExtension) {
      throw new EntrySmallImageNameException("Invalid small image for file entry " + fileEntryId);
    }
    long smallImageMaxSize=PrefsPropsUtil.getLong(PropsKeys.BLOGS_IMAGE_SMALL_MAX_SIZE);
    if ((smallImageMaxSize > 0) && (smallImageFileEntry.getSize() > smallImageMaxSize)) {
      throw new EntrySmallImageSizeException();
    }
  }
}
