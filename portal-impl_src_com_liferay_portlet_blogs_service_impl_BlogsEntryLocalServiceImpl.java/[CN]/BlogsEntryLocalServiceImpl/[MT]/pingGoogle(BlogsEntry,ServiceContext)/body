{
  if (!PropsValues.BLOGS_PING_GOOGLE_ENABLED || !entry.isApproved()) {
    return;
  }
  String layoutFullURL=PortalUtil.getLayoutFullURL(serviceContext.getScopeGroupId(),PortletKeys.BLOGS);
  if (Validator.isNull(layoutFullURL)) {
    return;
  }
  Group group=groupPersistence.findByPrimaryKey(entry.getGroupId());
  StringBundler sb=new StringBundler(6);
  String name=group.getDescriptiveName();
  String url=layoutFullURL + Portal.FRIENDLY_URL_SEPARATOR + "blogs";
  String changesURL=layoutFullURL + Portal.FRIENDLY_URL_SEPARATOR + "blogs/rss";
  sb.append("http://blogsearch.google.com/ping?name=");
  sb.append(HttpUtil.encodeURL(name));
  sb.append("&url=");
  sb.append(HttpUtil.encodeURL(url));
  sb.append("&changesURL=");
  sb.append(HttpUtil.encodeURL(changesURL));
  String location=sb.toString();
  if (_log.isInfoEnabled()) {
    _log.info("Pinging Google at " + location);
  }
  try {
    String response=HttpUtil.URLtoString(sb.toString());
    if (_log.isInfoEnabled()) {
      _log.info("Google ping response: " + response);
    }
  }
 catch (  IOException ioe) {
    _log.error("Unable to ping Google at " + location,ioe);
  }
}
