{
  Map<String,Serializable> workflowContext=new HashMap<String,Serializable>();
  workflowContext.put(WorkflowConstants.CONTEXT_URL,getEntryURL(entry,serviceContext));
  String userPortraitURL=StringPool.BLANK;
  String userURL=StringPool.BLANK;
  if (serviceContext.getThemeDisplay() != null) {
    User user=userPersistence.findByPrimaryKey(userId);
    userPortraitURL=user.getPortraitURL(serviceContext.getThemeDisplay());
    userURL=user.getDisplayURL(serviceContext.getThemeDisplay());
  }
  workflowContext.put(WorkflowConstants.CONTEXT_USER_PORTRAIT_URL,userPortraitURL);
  workflowContext.put(WorkflowConstants.CONTEXT_USER_URL,userURL);
  return WorkflowHandlerRegistryUtil.startWorkflowInstance(entry.getCompanyId(),entry.getGroupId(),userId,BlogsEntry.class.getName(),entry.getEntryId(),entry,serviceContext,workflowContext);
}
