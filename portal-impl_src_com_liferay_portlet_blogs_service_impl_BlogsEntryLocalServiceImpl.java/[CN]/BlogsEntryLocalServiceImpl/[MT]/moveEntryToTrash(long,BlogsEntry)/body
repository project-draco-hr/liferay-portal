{
  int oldStatus=entry.getStatus();
  if (oldStatus == WorkflowConstants.STATUS_PENDING) {
    entry.setStatus(WorkflowConstants.STATUS_DRAFT);
    blogsEntryPersistence.update(entry);
  }
  updateStatus(userId,entry.getEntryId(),WorkflowConstants.STATUS_IN_TRASH,new ServiceContext());
  socialActivityCounterLocalService.disableActivityCounters(BlogsEntry.class.getName(),entry.getEntryId());
  socialActivityLocalService.addActivity(userId,entry.getGroupId(),BlogsEntry.class.getName(),entry.getEntryId(),SocialActivityConstants.TYPE_MOVE_TO_TRASH,StringPool.BLANK,0);
  if (oldStatus == WorkflowConstants.STATUS_PENDING) {
    workflowInstanceLinkLocalService.deleteWorkflowInstanceLink(entry.getCompanyId(),entry.getGroupId(),BlogsEntry.class.getName(),entry.getEntryId());
  }
  return entry;
}
