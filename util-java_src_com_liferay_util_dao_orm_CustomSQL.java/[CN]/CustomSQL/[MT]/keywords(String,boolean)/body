{
  if (Validator.isNull(keywords)) {
    return new String[]{null};
  }
  if (lowerCase) {
    keywords=keywords.toLowerCase();
  }
  keywords=keywords.trim();
  List<String> keywordsList=new ArrayList<String>();
  for (int i=0; i < keywords.length(); i++) {
    char ch=keywords.charAt(i);
    if (ch == CharPool.QUOTE) {
      int pos=i + 1;
      i=keywords.indexOf(CharPool.QUOTE,pos);
      if (i == -1) {
        i=keywords.length();
      }
      if (i > pos) {
        String keyword=keywords.substring(pos,i);
        keywordsList.add(StringPool.PERCENT + keyword + StringPool.PERCENT);
      }
    }
 else {
      while (Character.isWhitespace(ch)) {
        i++;
        ch=keywords.charAt(i);
      }
      int pos=i;
      while ((i < keywords.length()) && !Character.isWhitespace(ch)) {
        i++;
        ch=keywords.charAt(i);
      }
      String keyword=keywords.substring(pos,i);
      keywordsList.add(StringPool.PERCENT + keyword + StringPool.PERCENT);
    }
  }
  String[] keywordsArray=new String[keywordsList.size()];
  keywordsArray=keywordsList.toArray(keywordsArray);
  return keywordsArray;
}
