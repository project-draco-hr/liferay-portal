{
  PortalUtil.initCustomSQL();
  Connection con=DataAccess.getConnection();
  String functionIsNull=PortalUtil.getCustomSQLFunctionIsNull();
  String functionIsNotNull=PortalUtil.getCustomSQLFunctionIsNotNull();
  try {
    if (Validator.isNotNull(functionIsNull) && Validator.isNotNull(functionIsNotNull)) {
      _functionIsNull=functionIsNull;
      _functionIsNotNull=functionIsNotNull;
      if (_log.isDebugEnabled()) {
        _log.debug("functionIsNull is manually set to " + functionIsNull);
        _log.debug("functionIsNotNull is manually set to " + functionIsNotNull);
      }
    }
 else     if (con != null) {
      DatabaseMetaData metaData=con.getMetaData();
      String dbName=GetterUtil.getString(metaData.getDatabaseProductName());
      if (_log.isInfoEnabled()) {
        _log.info("Database name " + dbName);
      }
      if (dbName.startsWith("DB2")) {
        _vendorDB2=true;
        _functionIsNull=DB2_FUNCTION_IS_NULL;
        _functionIsNotNull=DB2_FUNCTION_IS_NOT_NULL;
        if (_log.isInfoEnabled()) {
          _log.info("Detected DB2 with database name " + dbName);
        }
      }
 else       if (dbName.startsWith("HSQL")) {
        _vendorHSQL=true;
        if (_log.isInfoEnabled()) {
          _log.info("Detected HSQL with database name " + dbName);
        }
      }
 else       if (dbName.startsWith("Informix")) {
        _vendorInformix=true;
        _functionIsNull=INFORMIX_FUNCTION_IS_NULL;
        _functionIsNotNull=INFORMIX_FUNCTION_IS_NOT_NULL;
        if (_log.isInfoEnabled()) {
          _log.info("Detected Informix with database name " + dbName);
        }
      }
 else       if (dbName.startsWith("MySQL")) {
        _vendorMySQL=true;
        if (_log.isInfoEnabled()) {
          _log.info("Detected MySQL with database name " + dbName);
        }
      }
 else       if (dbName.startsWith("Sybase") || dbName.equals("ASE")) {
        _vendorSybase=true;
        _functionIsNull=SYBASE_FUNCTION_IS_NULL;
        _functionIsNotNull=SYBASE_FUNCTION_IS_NOT_NULL;
        if (_log.isInfoEnabled()) {
          _log.info("Detected Sybase with database name " + dbName);
        }
      }
 else       if (dbName.startsWith("Oracle")) {
        _vendorOracle=true;
        if (_log.isInfoEnabled()) {
          _log.info("Detected Oracle with database name " + dbName);
        }
      }
 else       if (dbName.startsWith("PostgreSQL")) {
        _vendorPostgreSQL=true;
        if (_log.isInfoEnabled()) {
          _log.info("Detected PostgreSQL with database name " + dbName);
        }
      }
 else {
        if (_log.isDebugEnabled()) {
          _log.debug("Unable to detect database with name " + dbName);
        }
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
 finally {
    DataAccess.cleanUp(con);
  }
  if (_sqlPool == null) {
    _sqlPool=new HashMap<String,String>();
  }
 else {
    _sqlPool.clear();
  }
  try {
    Class<?> clazz=getClass();
    ClassLoader classLoader=clazz.getClassLoader();
    String[] configs=getConfigs();
    for (    String _config : configs) {
      read(classLoader,_config);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
