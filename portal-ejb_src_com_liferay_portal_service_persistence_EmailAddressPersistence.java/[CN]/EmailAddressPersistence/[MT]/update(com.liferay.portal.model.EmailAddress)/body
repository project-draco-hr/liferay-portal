{
  Session session=null;
  try {
    if (emailAddress.isNew() || emailAddress.isModified()) {
      session=openSession();
      if (emailAddress.isNew()) {
        EmailAddressHBM emailAddressHBM=new EmailAddressHBM();
        emailAddressHBM.setEmailAddressId(emailAddress.getEmailAddressId());
        emailAddressHBM.setCompanyId(emailAddress.getCompanyId());
        emailAddressHBM.setUserId(emailAddress.getUserId());
        emailAddressHBM.setUserName(emailAddress.getUserName());
        emailAddressHBM.setCreateDate(emailAddress.getCreateDate());
        emailAddressHBM.setModifiedDate(emailAddress.getModifiedDate());
        emailAddressHBM.setClassName(emailAddress.getClassName());
        emailAddressHBM.setClassPK(emailAddress.getClassPK());
        emailAddressHBM.setAddress(emailAddress.getAddress());
        emailAddressHBM.setTypeId(emailAddress.getTypeId());
        emailAddressHBM.setPrimary(emailAddress.getPrimary());
        session.save(emailAddressHBM);
        session.flush();
      }
 else {
        EmailAddressHBM emailAddressHBM=(EmailAddressHBM)session.get(EmailAddressHBM.class,emailAddress.getPrimaryKey());
        if (emailAddressHBM != null) {
          emailAddressHBM.setCompanyId(emailAddress.getCompanyId());
          emailAddressHBM.setUserId(emailAddress.getUserId());
          emailAddressHBM.setUserName(emailAddress.getUserName());
          emailAddressHBM.setCreateDate(emailAddress.getCreateDate());
          emailAddressHBM.setModifiedDate(emailAddress.getModifiedDate());
          emailAddressHBM.setClassName(emailAddress.getClassName());
          emailAddressHBM.setClassPK(emailAddress.getClassPK());
          emailAddressHBM.setAddress(emailAddress.getAddress());
          emailAddressHBM.setTypeId(emailAddress.getTypeId());
          emailAddressHBM.setPrimary(emailAddress.getPrimary());
          session.flush();
        }
 else {
          emailAddressHBM=new EmailAddressHBM();
          emailAddressHBM.setEmailAddressId(emailAddress.getEmailAddressId());
          emailAddressHBM.setCompanyId(emailAddress.getCompanyId());
          emailAddressHBM.setUserId(emailAddress.getUserId());
          emailAddressHBM.setUserName(emailAddress.getUserName());
          emailAddressHBM.setCreateDate(emailAddress.getCreateDate());
          emailAddressHBM.setModifiedDate(emailAddress.getModifiedDate());
          emailAddressHBM.setClassName(emailAddress.getClassName());
          emailAddressHBM.setClassPK(emailAddress.getClassPK());
          emailAddressHBM.setAddress(emailAddress.getAddress());
          emailAddressHBM.setTypeId(emailAddress.getTypeId());
          emailAddressHBM.setPrimary(emailAddress.getPrimary());
          session.save(emailAddressHBM);
          session.flush();
        }
      }
      emailAddress.setNew(false);
      emailAddress.setModified(false);
    }
    return emailAddress;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
