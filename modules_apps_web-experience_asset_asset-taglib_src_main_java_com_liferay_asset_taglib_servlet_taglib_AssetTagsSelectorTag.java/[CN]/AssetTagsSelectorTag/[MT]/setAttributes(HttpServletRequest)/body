{
  String id=_id;
  if (Validator.isNull(id)) {
    id=PortalUtil.generateRandomKey(request,"taglib_ui_asset_tags_selector_page") + StringPool.UNDERLINE;
  }
  request.setAttribute("liferay-asset:asset-tags-selector:addCallback",String.valueOf(_addCallback));
  request.setAttribute("liferay-asset:asset-tags-selector:allowAddEntry",String.valueOf(_allowAddEntry));
  request.setAttribute("liferay-asset:asset-tags-selector:autoFocus",String.valueOf(_autoFocus));
  request.setAttribute("liferay-asset:asset-tags-selector:className",_className);
  request.setAttribute("liferay-asset:asset-tags-selector:classPK",String.valueOf(_classPK));
  request.setAttribute("liferay-asset:asset-tags-selector:curTags",_curTags);
  request.setAttribute("liferay-asset:asset-tags-selector:removeCallback",String.valueOf(_removeCallback));
  if (_groupIds == null) {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    long[] groupIds=null;
    Group group=themeDisplay.getScopeGroup();
    if (group.isLayout()) {
      groupIds=new long[]{group.getParentGroupId()};
    }
 else {
      groupIds=new long[]{group.getGroupId()};
    }
    if (group.getParentGroupId() != themeDisplay.getCompanyGroupId()) {
      groupIds=ArrayUtil.append(groupIds,themeDisplay.getCompanyGroupId());
    }
    _groupIds=groupIds;
  }
  request.setAttribute("liferay-asset:asset-tags-selector:groupIds",_groupIds);
  request.setAttribute("liferay-asset:asset-tags-selector:hiddenInput",_hiddenInput);
  request.setAttribute("liferay-asset:asset-tags-selector:id",id);
  request.setAttribute("liferay-asset:asset-tags-selector:ignoreRequestValue",_ignoreRequestValue);
}
