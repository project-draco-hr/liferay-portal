{
  int newIndex=index + 1;
  if (newIndex > buffer.length) {
    int newBufferSize=Math.max(buffer.length << 1,newIndex);
    char[] newBuffer=new char[newBufferSize];
    System.arraycopy(buffer,0,newBuffer,0,buffer.length);
    buffer=newBuffer;
  }
  buffer[index]=(char)c;
  index=newIndex;
}
