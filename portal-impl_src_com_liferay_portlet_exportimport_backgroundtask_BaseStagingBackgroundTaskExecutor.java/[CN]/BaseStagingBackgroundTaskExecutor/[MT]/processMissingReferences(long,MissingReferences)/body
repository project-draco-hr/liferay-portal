{
  BackgroundTaskResult backgroundTaskResult=new BackgroundTaskResult(BackgroundTaskConstants.STATUS_SUCCESSFUL);
  if (missingReferences == null) {
    return backgroundTaskResult;
  }
  Map<String,MissingReference> weakMissingReferences=missingReferences.getWeakMissingReferences();
  if (MapUtil.isNotEmpty(weakMissingReferences)) {
    BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.fetchBackgroundTask(backgroundTaskId);
    JSONArray jsonArray=StagingUtil.getWarningMessagesJSONArray(getLocale(backgroundTask),weakMissingReferences,backgroundTask.getTaskContextMap());
    backgroundTaskResult.setStatusMessage(jsonArray.toString());
  }
  return backgroundTaskResult;
}
