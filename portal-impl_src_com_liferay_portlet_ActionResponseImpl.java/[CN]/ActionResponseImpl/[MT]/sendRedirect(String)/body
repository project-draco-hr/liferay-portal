{
  if ((location == null) || (!location.startsWith("/") && !location.contains("://") && (!location.startsWith("wsrp_rewrite?")))) {
    throw new IllegalArgumentException(location + " is not a valid redirect");
  }
  if (location.startsWith("wsrp_rewrite?")) {
    location="http://wsrp-rewrite-holder?" + location;
  }
  if (isCalledSetRenderParameter()) {
    throw new IllegalStateException("Set render parameter has already been called");
  }
  setRedirectLocation(location);
}
