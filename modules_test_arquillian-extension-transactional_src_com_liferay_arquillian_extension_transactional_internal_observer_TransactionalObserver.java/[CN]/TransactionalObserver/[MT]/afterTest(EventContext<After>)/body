{
  Throwable throwable=State.caughtExceptionAfterJunit();
  try {
    eventContext.proceed();
  }
 catch (  Throwable t) {
    if (throwable != null) {
      t.addSuppressed(throwable);
    }
    throwable=t;
  }
  if (throwable == null) {
    if (_transactionAttribute != null) {
      TransactionInvokerUtil.commit(_transactionAttribute,_transactionStatus);
    }
  }
 else {
    if (_transactionAttribute == null) {
      if (throwable != State.caughtExceptionAfterJunit()) {
        throw throwable;
      }
    }
 else {
      TransactionInvokerUtil.rollback(throwable,_transactionAttribute,_transactionStatus);
    }
  }
}
