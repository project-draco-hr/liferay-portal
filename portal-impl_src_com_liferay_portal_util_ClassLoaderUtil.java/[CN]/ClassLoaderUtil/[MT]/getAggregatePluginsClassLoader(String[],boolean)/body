{
  return AccessController.doPrivileged(new PrivilegedAction<ClassLoader>(){
    @Override public ClassLoader run(){
      List<ClassLoader> classLoaders=new ArrayList<ClassLoader>(servletContextNames.length + 2);
      if (addContextClassLoader) {
        ClassLoader contextClassLoader=_getContextClassLoader();
        classLoaders.add(contextClassLoader);
      }
      for (      String servletContextName : servletContextNames) {
        ClassLoader pluginClassLoader=_getPluginClassLoader(servletContextName);
        classLoaders.add(pluginClassLoader);
      }
      ClassLoader[] classloaders=classLoaders.toArray(new ClassLoader[classLoaders.size()]);
      return AggregateClassLoader.getAggregateClassLoader(classloaders);
    }
  }
);
}
