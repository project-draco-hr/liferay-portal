{
  String className=ParamUtil.getString(actionRequest,"className");
  long classPK=ParamUtil.getLong(actionRequest,"classPK");
  String reporterEmailAddress=ParamUtil.getString(actionRequest,"reporterEmailAddress");
  long reportedUserId=ParamUtil.getLong(actionRequest,"reportedUserId");
  String contentTitle=ParamUtil.getString(actionRequest,"contentTitle");
  String contentURL=ParamUtil.getString(actionRequest,"contentURL");
  String reason=ParamUtil.getString(actionRequest,"reason");
  ServiceContext serviceContext=ServiceContextFactory.getInstance("com.liferay.portlet.flags.model.FlagsEntry",actionRequest);
  FlagsRequest flagsRequest=new FlagsRequest(className,classPK,reporterEmailAddress,reportedUserId,contentTitle,contentURL,reason,serviceContext);
  MessageBusUtil.sendMessage(DestinationNames.FLAGS,flagsRequest);
  setForward(actionRequest,ActionConstants.COMMON_NULL);
}
