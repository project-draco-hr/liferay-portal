{
  Map<String,Serializable> importPortletSettingsMap=ExportImportConfigurationSettingsMapFactory.buildImportPortletSettingsMap(TestPropsValues.getUserId(),0,_group.getGroupId(),StringPool.BLANK,_parameterMap,Locale.US,TimeZoneUtil.GMT);
  ExportImportConfiguration exportImportConfiguration=ExportImportConfigurationLocalServiceUtil.addExportImportConfiguration(TestPropsValues.getUserId(),0,RandomTestUtil.randomString(),StringPool.BLANK,ExportImportConfigurationConstants.TYPE_IMPORT_PORTLET,importPortletSettingsMap,WorkflowConstants.STATUS_DRAFT,ServiceContextTestUtil.getServiceContext());
  try {
    ExportImportLocalServiceUtil.importPortletInfo(exportImportConfiguration,(File)null);
    Assert.fail();
  }
 catch (  NoSuchLayoutException nsle) {
    Assert.assertEquals("No Layout exists with the primary key 0",nsle.getMessage());
  }
  Assert.assertTrue(_firedExportImportLifecycleEventsMap.containsKey(ExportImportLifecycleConstants.EVENT_PORTLET_IMPORT_FAILED));
}
