{
  try {
    ServletContext servletContext=getServletContext();
    HttpServletRequest request=getServletRequest();
    StringServletResponse stringResponse=getServletResponse();
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    Theme theme=themeDisplay.getTheme();
    PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
    portletDisplay.setContent(_bodyContentString);
    ThemeUtil.include(servletContext,request,stringResponse,pageContext,getPage(),theme);
    pageContext.getOut().print(stringResponse.getString());
    return EVAL_PAGE;
  }
 catch (  Exception e) {
    throw new JspException(e);
  }
 finally {
    clearParams();
    clearProperties();
  }
}
