{
  if (max <= 0) {
    max=array.length;
  }
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  for (int i=0; (i < array.length) && (i < max); i++) {
    String text=array[i][0];
    String value=array[i][1];
    JSONObject jsonObj=JSONFactoryUtil.createJSONObject();
    jsonObj.put("text",text);
    jsonObj.put("value",value);
    jsonArray.put(jsonObj);
  }
  return jsonArray;
}
