{
  Session session=null;
  try {
    if (shoppingCategory.isNew() || shoppingCategory.isModified()) {
      session=openSession();
      if (shoppingCategory.isNew()) {
        ShoppingCategoryHBM shoppingCategoryHBM=new ShoppingCategoryHBM();
        shoppingCategoryHBM.setCategoryId(shoppingCategory.getCategoryId());
        shoppingCategoryHBM.setGroupId(shoppingCategory.getGroupId());
        shoppingCategoryHBM.setCompanyId(shoppingCategory.getCompanyId());
        shoppingCategoryHBM.setUserId(shoppingCategory.getUserId());
        shoppingCategoryHBM.setUserName(shoppingCategory.getUserName());
        shoppingCategoryHBM.setCreateDate(shoppingCategory.getCreateDate());
        shoppingCategoryHBM.setModifiedDate(shoppingCategory.getModifiedDate());
        shoppingCategoryHBM.setParentCategoryId(shoppingCategory.getParentCategoryId());
        shoppingCategoryHBM.setName(shoppingCategory.getName());
        shoppingCategoryHBM.setDescription(shoppingCategory.getDescription());
        session.save(shoppingCategoryHBM);
        session.flush();
      }
 else {
        ShoppingCategoryHBM shoppingCategoryHBM=(ShoppingCategoryHBM)session.get(ShoppingCategoryHBM.class,shoppingCategory.getPrimaryKey());
        if (shoppingCategoryHBM != null) {
          shoppingCategoryHBM.setGroupId(shoppingCategory.getGroupId());
          shoppingCategoryHBM.setCompanyId(shoppingCategory.getCompanyId());
          shoppingCategoryHBM.setUserId(shoppingCategory.getUserId());
          shoppingCategoryHBM.setUserName(shoppingCategory.getUserName());
          shoppingCategoryHBM.setCreateDate(shoppingCategory.getCreateDate());
          shoppingCategoryHBM.setModifiedDate(shoppingCategory.getModifiedDate());
          shoppingCategoryHBM.setParentCategoryId(shoppingCategory.getParentCategoryId());
          shoppingCategoryHBM.setName(shoppingCategory.getName());
          shoppingCategoryHBM.setDescription(shoppingCategory.getDescription());
          session.flush();
        }
 else {
          shoppingCategoryHBM=new ShoppingCategoryHBM();
          shoppingCategoryHBM.setCategoryId(shoppingCategory.getCategoryId());
          shoppingCategoryHBM.setGroupId(shoppingCategory.getGroupId());
          shoppingCategoryHBM.setCompanyId(shoppingCategory.getCompanyId());
          shoppingCategoryHBM.setUserId(shoppingCategory.getUserId());
          shoppingCategoryHBM.setUserName(shoppingCategory.getUserName());
          shoppingCategoryHBM.setCreateDate(shoppingCategory.getCreateDate());
          shoppingCategoryHBM.setModifiedDate(shoppingCategory.getModifiedDate());
          shoppingCategoryHBM.setParentCategoryId(shoppingCategory.getParentCategoryId());
          shoppingCategoryHBM.setName(shoppingCategory.getName());
          shoppingCategoryHBM.setDescription(shoppingCategory.getDescription());
          session.save(shoppingCategoryHBM);
          session.flush();
        }
      }
      shoppingCategory.setNew(false);
      shoppingCategory.setModified(false);
    }
    return shoppingCategory;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
