{
  List<Element> portletElements=rolesElement.elements("portlet");
  for (  Element portletElement : portletElements) {
    String portletId=portletElement.attributeValue("portlet-id");
    String resourceName=PortletConstants.getRootPortletId(portletId);
    Portlet portlet=PortletLocalServiceUtil.getPortletById(companyId,resourceName);
    if (portlet == null) {
      if (_log.isDebugEnabled()) {
        _log.debug("Do not import portlet roles for " + portletId + " because the portlet does not exist");
      }
    }
 else {
      importGroupRoles(layoutCache,companyId,groupId,resourceName,"community",portletElement);
      importUserRoles(layoutCache,companyId,groupId,resourceName,portletElement);
      importInheritedRoles(layoutCache,companyId,groupId,resourceName,"organization",portletElement);
      importInheritedRoles(layoutCache,companyId,groupId,resourceName,"user-group",portletElement);
    }
  }
}
