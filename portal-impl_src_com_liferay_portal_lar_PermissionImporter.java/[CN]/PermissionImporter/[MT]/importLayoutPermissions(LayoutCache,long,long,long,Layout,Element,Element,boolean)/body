{
  Element permissionsEl=layoutEl.element("permissions");
  if (permissionsEl != null) {
    String resourceName=Layout.class.getName();
    String resourcePrimKey=String.valueOf(layout.getPlid());
    if (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 5) {
      importPermissions_5(layoutCache,companyId,groupId,userId,resourceName,resourcePrimKey,permissionsEl,false);
    }
 else     if (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 6) {
      importPermissions_6(layoutCache,companyId,groupId,userId,resourceName,resourcePrimKey,permissionsEl,false);
    }
 else {
      Group guestGroup=GroupLocalServiceUtil.getGroup(companyId,GroupConstants.GUEST);
      importLayoutPermissions_1to4(layoutCache,companyId,groupId,guestGroup,layout,resourceName,resourcePrimKey,permissionsEl,importUserPermissions);
    }
  }
  Element rolesEl=parentEl.element("roles");
  if ((PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM < 5) && (rolesEl != null)) {
    importLayoutRoles(layoutCache,companyId,groupId,rolesEl);
  }
}
