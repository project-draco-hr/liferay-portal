{
  String sourceRootPath=ExportImportPathUtil.getSourceRootPath(portletDataContext);
  String xml=portletDataContext.getZipEntryAsString(sourceRootPath.concat("/portlet-data-permissions.xml"));
  if (xml == null) {
    return;
  }
  Document document=SAXReaderUtil.read(xml);
  Element rootElement=document.getRootElement();
  List<Element> portletDataElements=rootElement.elements("portlet-data");
  for (  Element portletDataElement : portletDataElements) {
    String resourceName=portletDataElement.attributeValue("resource-name");
    long resourcePK=GetterUtil.getLong(portletDataElement.attributeValue("resource-pk"));
    List<KeyValuePair> permissions=new ArrayList<KeyValuePair>();
    List<Element> permissionsElements=portletDataElement.elements("permissions");
    for (    Element permissionsElement : permissionsElements) {
      String roleName=permissionsElement.attributeValue("role-name");
      String actions=permissionsElement.attributeValue("actions");
      KeyValuePair permission=new KeyValuePair(roleName,actions);
      permissions.add(permission);
    }
    portletDataContext.addPermissions(resourceName,resourcePK,permissions);
  }
}
