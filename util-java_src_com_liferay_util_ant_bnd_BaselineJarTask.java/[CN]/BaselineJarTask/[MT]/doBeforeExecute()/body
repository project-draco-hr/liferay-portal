{
  super.doBeforeExecute();
  File bndRootFile=getBndRootFile();
  File rootDir=bndRootFile.getParentFile();
  if (_classpath == null) {
    throw new BuildException("classpath is null");
  }
  if ((_file == null) || !_file.exists() || _file.isDirectory()) {
    if (_file != null) {
      _project.log("file is either missing or is a directory " + _file.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("file is not set correctly");
  }
  if ((_outputPath == null) || !_outputPath.exists() || !_outputPath.isDirectory()) {
    if (_outputPath != null) {
      _project.log("outputpath is either missing or is not a directory " + _outputPath.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("outputPath is not set correctly");
  }
  _reportLevel=_project.getProperty("baseline.jar.report.level");
  _reportLevelIsDiff="diff".equals(_reportLevel);
  _reportLevelIsOff="off".equals(_reportLevel);
  _reportLevelIsPersist="persist".equals(_reportLevel);
  _reportLevelIsStandard="standard".equals(_reportLevel);
  if (_reportLevelIsPersist) {
    _reportLevelIsDiff=true;
    File baselineReportsDir=new File(rootDir,getBaselineResportsDirName());
    if (!baselineReportsDir.exists() && !baselineReportsDir.mkdir()) {
      throw new BuildException("could not create " + baselineReportsDir.getName());
    }
    _logFile=new File(baselineReportsDir,_outputPath.getName() + ".log");
    if (_logFile.exists()) {
      _logFile.delete();
    }
  }
  if ((_sourcePath == null) || !_sourcePath.exists() || !_sourcePath.isDirectory()) {
    if (_sourcePath != null) {
      _project.log("sourcepath is either missing or is not a directory " + _sourcePath.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("sourcePath is not set correctly");
  }
  for (  String fileName : _classpath.list()) {
    _classpathFiles.add(new File(fileName.replace('\\','/')));
  }
  _bndDir=new File(rootDir,getBndDirName());
  if (!rootDir.canWrite()) {
    return;
  }
  File buildFile=new File(_bndDir,"build.bnd");
  if (!_bndDir.exists() && !_bndDir.mkdir()) {
    return;
  }
  if (buildFile.exists() || !_bndDir.canWrite()) {
    return;
  }
  BufferedWriter out=new BufferedWriter(new FileWriter(buildFile));
  for (  String line : _BUILD_DEFAULTS) {
    out.write(line);
    out.newLine();
  }
  out.close();
  File baselineRepoDir=new File(_bndDir,"baselinerepo");
  if (!baselineRepoDir.exists()) {
    baselineRepoDir.mkdir();
  }
}
