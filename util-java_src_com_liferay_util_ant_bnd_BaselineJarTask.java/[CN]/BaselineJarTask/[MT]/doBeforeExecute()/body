{
  super.doBeforeExecute();
  File bndRootFile=getBndRootFile();
  File rootDir=bndRootFile.getParentFile();
  if (_classpath == null) {
    throw new BuildException("classpath is null");
  }
  if ((_file == null) || !_file.exists() || _file.isDirectory()) {
    if (_file != null) {
      project.log("file is either missing or is a directory " + _file.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("file is invalid");
  }
  if ((_outputPath == null) || !_outputPath.exists() || !_outputPath.isDirectory()) {
    if (_outputPath != null) {
      project.log("outputPath is either missing or is not a directory " + _outputPath.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("outputPath is invalid");
  }
  _reportLevel=project.getProperty("baseline.jar.report.level");
  _reportLevelIsDiff=Validator.equals(_reportLevel,"diff");
  _reportLevelIsOff=Validator.equals(_reportLevel,"off");
  _reportLevelIsPersist=Validator.equals(_reportLevel,"persist");
  _reportLevelIsStandard=Validator.equals(_reportLevel,"standard");
  if (_reportLevelIsPersist) {
    _reportLevelIsDiff=true;
    File baselineReportsDir=new File(rootDir,getBaselineResportsDirName());
    if (!baselineReportsDir.exists() && !baselineReportsDir.mkdir()) {
      throw new BuildException("Unable tocreate " + baselineReportsDir.getName());
    }
    _logFile=new File(baselineReportsDir,_outputPath.getName() + ".log");
    if (_logFile.exists()) {
      _logFile.delete();
    }
  }
  _reportOnlyDirtyPackages=GetterUtil.getBoolean(project.getProperty("baseline.jar.report.only.dirty.packages"),false);
  if ((_sourcePath == null) || !_sourcePath.exists() || !_sourcePath.isDirectory()) {
    if (_sourcePath != null) {
      project.log("sourcePath is either missing or is not a directory " + _sourcePath.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("sourcePath is not set correctly");
  }
  for (  String fileName : _classpath.list()) {
    _classpathFiles.add(new File(fileName.replace('\\','/')));
  }
  _bndDir=new File(rootDir,getBndDirName());
  if (!rootDir.canWrite()) {
    return;
  }
  if (!_bndDir.exists() && !_bndDir.mkdir()) {
    return;
  }
  File buildFile=new File(_bndDir,"build.bnd");
  if (buildFile.exists() || !_bndDir.canWrite()) {
    return;
  }
  buildFile.createNewFile();
}
