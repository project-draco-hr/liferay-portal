{
  Format dateFormatDate=FastDateFormatFactoryUtil.getDate(_locale,_timeZone);
  DateFormat dateFormatDateTime=DateFormatFactoryUtil.getDateTime(_locale,_timeZone);
  Date today=new Date();
  String dateString=source.substring(pos.getIndex());
  if (dateString.startsWith(_todayString)) {
    dateString=dateString.replaceFirst(_todayString,dateFormatDate.format(today));
  }
 else   if (dateString.startsWith(_yesterdayString)) {
    Calendar cal=Calendar.getInstance(_timeZone,_locale);
    cal.setTime(today);
    cal.add(Calendar.DATE,-1);
    Date yesterday=cal.getTime();
    dateString=dateString.replaceFirst(_todayString,dateFormatDate.format(yesterday));
  }
  return dateFormatDateTime.parse(dateString,new ParsePosition(0));
}
