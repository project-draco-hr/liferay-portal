{
  if (_portletApp.isWARFile()) {
    String servletContextName=_portletApp.getServletContextName();
    if (servletContextName != null && ServletContextPool.containsKey(servletContextName)) {
      ServletContext servletContext=ServletContextPool.get(servletContextName);
      return servletContext.getContextPath();
    }
    return StringPool.SLASH.concat(servletContextName);
  }
 else {
    return PortalUtil.getPathContext();
  }
}
