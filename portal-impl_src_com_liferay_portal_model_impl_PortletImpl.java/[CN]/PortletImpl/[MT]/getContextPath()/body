{
  String virtualPath=getVirtualPath();
  if (Validator.isNotNull(virtualPath)) {
    return virtualPath;
  }
  if (_portletApp.isWARFile()) {
    StringMaker sm=new StringMaker();
    sm.append(StringPool.SLASH);
    sm.append(_portletApp.getServletContextName());
    return sm.toString();
  }
 else {
    return PortalUtil.getPathContext();
  }
}
