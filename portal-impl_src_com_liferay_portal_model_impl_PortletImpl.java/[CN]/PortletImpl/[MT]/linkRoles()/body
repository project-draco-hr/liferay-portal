{
  List<String> linkedRoles=new ArrayList<String>();
  Iterator<String> itr=_unlinkedRoles.iterator();
  while (itr.hasNext()) {
    String unlinkedRole=itr.next();
    String roleLink=_roleMappers.get(unlinkedRole);
    if (Validator.isNotNull(roleLink)) {
      if (_log.isDebugEnabled()) {
        _log.debug("Linking role for portlet [" + getPortletId() + "] with role-name ["+ unlinkedRole+ "] to role-link ["+ roleLink+ "]");
      }
      linkedRoles.add(roleLink);
    }
 else {
      _log.error("Unable to link role for portlet [" + getPortletId() + "] with role-name ["+ unlinkedRole+ "] because role-link is null");
    }
  }
  String[] array=linkedRoles.toArray(new String[linkedRoles.size()]);
  Arrays.sort(array);
  setRolesArray(array);
}
