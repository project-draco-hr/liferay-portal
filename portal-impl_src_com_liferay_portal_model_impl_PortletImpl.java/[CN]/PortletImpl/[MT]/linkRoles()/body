{
  List linkedRoles=new ArrayList();
  Iterator itr=_unlinkedRoles.iterator();
  while (itr.hasNext()) {
    String unlinkedRole=(String)itr.next();
    String roleLink=(String)_roleMappers.get(unlinkedRole);
    if (Validator.isNotNull(roleLink)) {
      if (_log.isDebugEnabled()) {
        _log.debug("Linking role for portlet [" + getPortletId() + "] with role-name ["+ unlinkedRole+ "] to role-link ["+ roleLink+ "]");
      }
      linkedRoles.add(roleLink);
    }
 else {
      _log.error("Unable to link role for portlet [" + getPortletId() + "] with role-name ["+ unlinkedRole+ "] because role-link is null");
    }
  }
  Collections.sort(linkedRoles);
  setRolesArray((String[])linkedRoles.toArray(new String[0]));
}
