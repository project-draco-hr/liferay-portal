{
  Resource resource=layoutCache.getResource(companyId,groupId,resourceName,ResourceConstants.SCOPE_INDIVIDUAL,resourcePrimKey,portletActions);
  List<Role> roles=layoutCache.getGroupRoles_5(groupId,resourceName);
  for (  Role role : roles) {
    if (role.getName().equals(RoleConstants.ADMINISTRATOR)) {
      continue;
    }
    Element roleElement=permissionsElement.addElement("role");
    roleElement.addAttribute("name",role.getName());
    roleElement.addAttribute("title",role.getTitle());
    roleElement.addAttribute("description",role.getDescription());
    roleElement.addAttribute("type",String.valueOf(role.getType()));
    List<Permission> permissions=PermissionLocalServiceUtil.getRolePermissions(role.getRoleId(),resource.getResourceId());
    List<String> actions=ResourceActionsUtil.getActions(permissions);
    for (    String action : actions) {
      Element actionKeyElement=roleElement.addElement("action-key");
      actionKeyElement.addText(action);
    }
  }
}
