{
  StringBundler filter=new StringBundler(5);
  filter.append(StringPool.OPEN_PARENTHESIS);
  filter.append(ConfigurationAdmin.SERVICE_FACTORYPID);
  filter.append(StringPool.EQUAL);
  filter.append(factoryPid);
  filter.append(StringPool.CLOSE_PARENTHESIS);
  Configuration[] configurations=null;
  try {
    configurations=_configurationAdmin.listConfigurations(filter.toString());
  }
 catch (  InvalidSyntaxException ise) {
    ReflectionUtil.throwException(ise);
  }
  if (configurations == null) {
    return Collections.emptyList();
  }
  ConfigurationModel configurationModel=configurationModels.get(factoryPid);
  List<ConfigurationModel> factoryInstances=new ArrayList<>();
  for (  Configuration configuration : configurations) {
    ConfigurationModel curConfigurationModel=new ConfigurationModel(configurationModel,configuration,configuration.getBundleLocation(),false);
    factoryInstances.add(curConfigurationModel);
  }
  return factoryInstances;
}
