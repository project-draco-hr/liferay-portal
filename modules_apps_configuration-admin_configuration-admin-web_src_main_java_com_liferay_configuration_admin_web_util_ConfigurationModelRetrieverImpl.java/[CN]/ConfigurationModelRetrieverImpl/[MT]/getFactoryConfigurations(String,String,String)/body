{
  StringBundler sb=new StringBundler(5);
  if (Validator.isNotNull(property) && Validator.isNotNull(value)) {
    sb.append(StringPool.OPEN_PARENTHESIS);
    sb.append(StringPool.AMPERSAND);
  }
  sb.append(StringPool.OPEN_PARENTHESIS);
  sb.append(ConfigurationAdmin.SERVICE_FACTORYPID);
  sb.append(StringPool.EQUAL);
  sb.append(factoryPid);
  sb.append(StringPool.CLOSE_PARENTHESIS);
  if (Validator.isNotNull(property) && Validator.isNotNull(value)) {
    sb.append(StringPool.OPEN_PARENTHESIS);
    sb.append(property);
    sb.append(StringPool.EQUAL);
    sb.append(value);
    sb.append(StringPool.CLOSE_PARENTHESIS);
    sb.append(StringPool.CLOSE_PARENTHESIS);
  }
  Configuration[] configurations=null;
  try {
    configurations=_configurationAdmin.listConfigurations(sb.toString());
  }
 catch (  InvalidSyntaxException ise) {
    ReflectionUtil.throwException(ise);
  }
  return configurations;
}
