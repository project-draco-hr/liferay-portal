{
  Hits hits=getHits(start,end);
  Assert.assertEquals(expectedTotal,hits.getDocs().length);
  List<User> returnedUsers=new ArrayList<User>();
  for (int i=0; i < hits.getDocs().length; i++) {
    Document doc=hits.doc(i);
    long userId=GetterUtil.getLong(doc.get(Field.USER_ID));
    returnedUsers.add(UserLocalServiceUtil.getUser(userId));
  }
  Assert.assertEquals("Start :" + start + ", end :"+ end+ ", expectedTotal :"+ expectedTotal+ ", expectedRecalculatedStart :"+ expectedRecalculatedStart+ ", setup users :"+ _users+ ", returned users :"+ returnedUsers,_users.subList(expectedRecalculatedStart,expectedRecalculatedStart + hits.getDocs().length),returnedUsers);
}
