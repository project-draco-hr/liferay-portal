{
  Hashtable<String,Object> properties=new Hashtable<String,Object>();
  properties.put("bundle",_bundle);
  properties.put("bundle.id",_bundle.getBundleId());
  properties.put("bundle.symbolicName",_bundle.getSymbolicName());
  properties.put("bundle.version",_bundle.getVersion());
  properties.put("Web-ContextPath",StringPool.SLASH.concat(_servletContextName));
  BundleContext bundleContext=_bundle.getBundleContext();
  _serviceRegistration=(ServiceRegistration<ServletContext>)bundleContext.registerService(new String[]{BundleServletContext.class.getName(),ServletContext.class.getName()},this,properties);
  _httpServiceTracker=new HttpServiceTracker(bundleContext,_bundle);
  _httpServiceTracker.open();
}
