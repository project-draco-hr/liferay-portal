{
  String unit=_KB;
  size=size / _MEMORY_DENOMINATOR;
  if (size > _MEMORY_DENOMINATOR) {
    unit=_MB;
    size=size / _MEMORY_DENOMINATOR;
  }
  if (size > _MEMORY_DENOMINATOR) {
    unit=_GB;
    size=size / _MEMORY_DENOMINATOR;
  }
  NumberFormat numberFormat=NumberFormat.getInstance(locale);
  if (unit.equals(_KB)) {
    numberFormat.setMaximumFractionDigits(0);
  }
 else {
    numberFormat.setMaximumFractionDigits(1);
  }
  numberFormat.setMinimumFractionDigits(0);
  return numberFormat.format(size) + unit;
}
