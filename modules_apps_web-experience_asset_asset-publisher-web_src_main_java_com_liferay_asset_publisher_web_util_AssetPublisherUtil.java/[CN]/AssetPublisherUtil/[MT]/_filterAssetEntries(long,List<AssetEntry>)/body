{
  List<AssetEntry> filteredAssetEntries=new ArrayList<>();
  User user=_userLocalService.getUser(userId);
  try {
    PermissionChecker permissionChecker=PermissionCheckerFactoryUtil.create(user);
    for (    AssetEntry assetEntry : assetEntries) {
      if (AssetEntryPermission.contains(permissionChecker,assetEntry,ActionKeys.VIEW)) {
        filteredAssetEntries.add(assetEntry);
      }
    }
  }
 catch (  Exception e) {
    throw new PortalException(e);
  }
  return filteredAssetEntries;
}
