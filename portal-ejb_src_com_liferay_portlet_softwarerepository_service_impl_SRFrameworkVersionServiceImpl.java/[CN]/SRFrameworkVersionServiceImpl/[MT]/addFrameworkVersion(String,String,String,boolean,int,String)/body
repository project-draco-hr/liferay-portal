{
  User user=UserUtil.findByPrimaryKey(userId);
  String groupId=PortalUtil.getPortletGroupId(plid);
  Date now=new Date();
  long frameworkVersionId=CounterLocalServiceUtil.increment(SRFrameworkVersion.class.getName());
  SRFrameworkVersion frameworkVersion=SRFrameworkVersionUtil.create(frameworkVersionId);
  frameworkVersion.setCompanyId(user.getCompanyId());
  frameworkVersion.setGroupId(groupId);
  frameworkVersion.setUserId(user.getUserId());
  frameworkVersion.setUserName(user.getFullName());
  frameworkVersion.setCreateDate(now);
  frameworkVersion.setModifiedDate(now);
  frameworkVersion.setName(name);
  frameworkVersion.setActive(active);
  frameworkVersion.setPriority(priority);
  frameworkVersion.setUrl(url);
  SRFrameworkVersionUtil.update(frameworkVersion);
  return frameworkVersion;
}
