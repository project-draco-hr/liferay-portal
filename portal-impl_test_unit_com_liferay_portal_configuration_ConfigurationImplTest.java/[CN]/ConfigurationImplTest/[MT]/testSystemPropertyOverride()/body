{
  TestResourceClassLoader testResourceClassLoader=new TestResourceClassLoader();
  testResourceClassLoader.addPropertiesResource(ConfigurationImplTest.class.getName(),"key1=value1\nkey2=value2");
  ConfigurationImpl configurationImpl=new ConfigurationImpl(testResourceClassLoader,ConfigurationImplTest.class.getName());
  Assert.assertEquals("value1",configurationImpl.get("key1"));
  Assert.assertEquals("value2",configurationImpl.get("key2"));
  configurationImpl.clearCache();
  System.setProperty(ConfigurationImplTest.class.getName() + ":key2","valuex");
  try {
    Assert.assertEquals("value1",configurationImpl.get("key1"));
    Assert.assertEquals("valuex",configurationImpl.get("key2"));
    configurationImpl.clearCache();
  }
  finally {
    System.clearProperty(ConfigurationImplTest.class.getName() + ":key2");
    Assert.assertEquals("value1",configurationImpl.get("key1"));
    Assert.assertEquals("value2",configurationImpl.get("key2"));
  }
}
