{
  String content=new String(Files.readAllBytes(file),StandardCharsets.UTF_8);
  if (!_plugin) {
    content=StringUtil.replace(content,"xml/ns/j2ee/web-jsptaglibrary_2_0.xsd","dtd/web-jsptaglibrary_1_2.dtd");
  }
  SAXReader saxReader=_getSAXReader();
  Document document=saxReader.read(new UnsyncStringReader(content));
  Element root=document.getRootElement();
  _sortElements(root,"tag","name");
  List<Element> tagEls=root.elements("tag");
  for (  Element tagEl : tagEls) {
    _sortElements(tagEl,"attribute","name");
    Element dynamicAttributesEl=tagEl.element("dynamic-attributes");
    if (dynamicAttributesEl != null) {
      dynamicAttributesEl.detach();
      tagEl.add(dynamicAttributesEl);
    }
  }
  String newContent=XMLFormatter.toString(document);
  int x=newContent.indexOf("<tlib-version");
  int y=newContent.indexOf("</taglib>");
  newContent=newContent.substring(x,y);
  x=content.indexOf("<tlib-version");
  y=content.indexOf("</taglib>");
  newContent=content.substring(0,x) + newContent + content.substring(y);
  if (!content.equals(newContent)) {
    Files.write(file,newContent.getBytes(StandardCharsets.UTF_8));
    System.out.println(file);
  }
}
