{
  Method method=frameworkMethod.getMethod();
  Class<?> targetClass=target.getClass();
  NewEnv newEnv=findNewEnv(method,targetClass);
  if ((newEnv == null) || (newEnv.type() == NewEnv.Type.NONE)) {
    return statement;
  }
  if (NewEnv.Type.CLASSLOADER == newEnv.type()) {
    return new RunInNewClassLoaderStatement(targetClass.getName(),getMethodKeys(targetClass,Before.class),method,getMethodKeys(targetClass,After.class));
  }
  Builder builder=new Builder();
  builder.setArguments(createArguments(method));
  builder.setBootstrapClassPath(CLASS_PATH);
  builder.setRuntimeClassPath(CLASS_PATH);
  return new RunInNewJVMStatment(builder.build(),targetClass.getName(),getMethodKeys(targetClass,Before.class),new MethodKey(method),getMethodKeys(targetClass,After.class));
}
