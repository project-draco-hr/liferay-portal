{
  if (!_USERS_IMAGE_PORTRAIT_ENUMERATION_CHECK) {
    return getPortraitURL(imagePath,male,portraitId,null);
  }
  if (portraitId <= 0) {
    return getPortraitURL(imagePath,male,0,StringPool.BLANK);
  }
  try {
    User user=UserLocalServiceUtil.fetchUserByPortraitId(portraitId);
    if (user == null) {
      return getPortraitURL(imagePath,male,0,StringPool.BLANK);
    }
    return getPortraitURL(imagePath,male,portraitId,user.getUserUuid());
  }
 catch (  Exception e) {
    if (_log.isDebugEnabled()) {
      _log.debug(e);
    }
  }
  return StringPool.BLANK;
}
