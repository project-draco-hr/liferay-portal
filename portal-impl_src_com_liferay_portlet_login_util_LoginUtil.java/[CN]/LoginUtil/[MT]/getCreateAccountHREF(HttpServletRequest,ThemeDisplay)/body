{
  if (Validator.isNull(PropsValues.COMPANY_SECURITY_STRANGERS_URL)) {
    PortletURL createAccountURL=new PortletURLImpl(request,PortletKeys.LOGIN,themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
    createAccountURL.setWindowState(WindowState.MAXIMIZED);
    createAccountURL.setPortletMode(PortletMode.VIEW);
    createAccountURL.setParameter("saveLastPath","0");
    createAccountURL.setParameter("struts_action","/login/create_account");
    return createAccountURL.toString();
  }
  try {
    Layout layout=LayoutLocalServiceUtil.getFriendlyURLLayout(themeDisplay.getScopeGroupId(),false,PropsValues.COMPANY_SECURITY_STRANGERS_URL);
    return PortalUtil.getLayoutURL(layout,themeDisplay);
  }
 catch (  NoSuchLayoutException nsle) {
  }
  return StringPool.BLANK;
}
