{
  try {
    for (    MBeanServer mBeanServer : MBeanServerFactory.findMBeanServer(null)) {
      String defaultDomain=mBeanServer.getDefaultDomain();
      if (defaultDomain.equals("jboss")) {
        ObjectName objectName=new ObjectName("jboss.system:type=Server");
        String version=(String)mBeanServer.getAttribute(objectName,"VersionNumber");
        if (version.startsWith("5")) {
          return true;
        }
        return false;
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return false;
}
