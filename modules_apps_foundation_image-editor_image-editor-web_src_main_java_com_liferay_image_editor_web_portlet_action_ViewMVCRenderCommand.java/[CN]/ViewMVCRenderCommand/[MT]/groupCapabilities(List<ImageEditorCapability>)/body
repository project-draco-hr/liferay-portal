{
  Map<String,List<ImageEditorCapability>> groupedCapabilities=new HashMap<>();
  for (  ImageEditorCapability imageEditorCapability : imageEditorCapabilities) {
    Map<String,Object> capabilityProperties=_imageEditorCapabilityTracker.getCapabilityProperties(imageEditorCapability.getName());
    String imageEditorCapabilityCategory=GetterUtil.getString(capabilityProperties.get("com.liferay.image.editor.capability.category"));
    groupedCapabilities.putIfAbsent(imageEditorCapabilityCategory,new ArrayList<ImageEditorCapability>());
    List<ImageEditorCapability> imageEditorCapabilityList=groupedCapabilities.get(imageEditorCapabilityCategory);
    imageEditorCapabilityList.add(imageEditorCapability);
  }
  return new ArrayList<List<ImageEditorCapability>>(groupedCapabilities.values());
}
