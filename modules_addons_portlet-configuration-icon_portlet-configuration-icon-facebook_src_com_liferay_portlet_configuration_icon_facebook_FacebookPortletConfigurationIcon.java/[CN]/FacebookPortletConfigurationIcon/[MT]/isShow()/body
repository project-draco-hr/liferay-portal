{
  PortletDisplay portletDisplay=_themeDisplay.getPortletDisplay();
  PortletPreferences portletSetup=PortletPreferencesFactoryUtil.getStrictLayoutPortletSetup(_themeDisplay.getLayout(),portletDisplay.getId());
  String lfrFacebookAPIKey=portletSetup.getValue("lfrFacebookApiKey",StringPool.BLANK);
  String lfrFacebookCanvasPageURL=portletSetup.getValue("lfrFacebookCanvasPageUrl",StringPool.BLANK);
  boolean facebookShowAddAppLink=GetterUtil.getBoolean(portletSetup.getValue("lfrFacebookShowAddAppLink",null),true);
  if (Validator.isNull(lfrFacebookCanvasPageURL) || Validator.isNull(lfrFacebookAPIKey)) {
    facebookShowAddAppLink=false;
  }
  if (facebookShowAddAppLink) {
    return true;
  }
  return false;
}
