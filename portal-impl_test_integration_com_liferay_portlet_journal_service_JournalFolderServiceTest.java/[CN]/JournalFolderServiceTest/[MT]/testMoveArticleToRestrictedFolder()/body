{
  DDMStructure ddmStructure1=DDMStructureTestUtil.addStructure(group.getGroupId(),JournalArticle.class.getName());
  DDMTemplate ddmTemplate1=DDMTemplateTestUtil.addTemplate(group.getGroupId(),ddmStructure1.getStructureId(),LocaleUtil.getDefault());
  String xml=DDMStructureTestUtil.getSampleStructuredContent("Test article");
  JournalArticle article=JournalTestUtil.addArticleWithXMLContent(group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID,JournalArticleConstants.CLASSNAME_ID_DEFAULT,xml,ddmStructure1.getStructureKey(),ddmTemplate1.getTemplateKey());
  JournalFolder folder=JournalTestUtil.addFolder(group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID,"Test 1");
  DDMStructure ddmStructure2=DDMStructureTestUtil.addStructure(group.getGroupId(),JournalArticle.class.getName());
  long[] ddmStructureIds=new long[]{ddmStructure2.getStructureId()};
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(group.getGroupId());
  JournalFolderLocalServiceUtil.updateFolder(TestPropsValues.getUserId(),folder.getFolderId(),folder.getParentFolderId(),folder.getName(),folder.getDescription(),ddmStructureIds,true,false,serviceContext);
  try {
    JournalArticleLocalServiceUtil.moveArticle(group.getGroupId(),article.getArticleId(),folder.getFolderId());
    Assert.fail();
  }
 catch (  InvalidDDMStructureException idse) {
  }
  JournalFolder subfolder=JournalTestUtil.addFolder(group.getGroupId(),folder.getFolderId(),"Test 1.1");
  try {
    JournalArticleLocalServiceUtil.moveArticle(group.getGroupId(),article.getArticleId(),subfolder.getFolderId());
    Assert.fail();
  }
 catch (  InvalidDDMStructureException idse) {
  }
}
