{
  setLinkEnabled(layoutSetPrototypeLinkEnabled);
  try {
    LayoutTestUtil.addLayout(group.getGroupId(),ServiceTestUtil.randomString(),layout.getPlid());
    if (layoutSetPrototypeLinkEnabled) {
      Assert.fail("Should not be able to add a child page to a page" + " associated to a site template with link enabled");
    }
  }
 catch (  LayoutParentLayoutIdException lplie) {
    if (!layoutSetPrototypeLinkEnabled) {
      Assert.fail("Should be able to add a child page to a page associated" + " to a site template with link disabled");
    }
  }
}
