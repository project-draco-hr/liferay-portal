{
  _layoutSetPrototype=LayoutTestUtil.addLayoutSetPrototype(ServiceTestUtil.randomString());
  _layoutSetPrototypeGroup=_layoutSetPrototype.getGroup();
  prototypeLayout=LayoutTestUtil.addLayout(_layoutSetPrototypeGroup.getGroupId(),ServiceTestUtil.randomString(),true);
  LayoutTestUtil.updateLayoutTemplateId(prototypeLayout,initialLayoutTemplateId);
  _layoutSetPrototypeJournalArticle=JournalTestUtil.addArticle(_layoutSetPrototypeGroup.getGroupId(),"Test Article","Test Content");
  journalContentPortletId=addJournalContentPortletToLayout(TestPropsValues.getUserId(),prototypeLayout,_layoutSetPrototypeJournalArticle,"column-1");
  _prototypeLayout=LayoutTestUtil.addLayout(_layoutSetPrototypeGroup.getGroupId(),ServiceTestUtil.randomString(),true);
  LayoutTestUtil.updateLayoutTemplateId(_prototypeLayout,initialLayoutTemplateId);
  _initialPrototypeLayoutCount=LayoutLocalServiceUtil.getLayoutsCount(_layoutSetPrototypeGroup,true);
  setLinkEnabled(true);
  propagateChanges(group);
  layout=LayoutLocalServiceUtil.getFriendlyURLLayout(group.getGroupId(),false,prototypeLayout.getFriendlyURL());
  _layout=LayoutLocalServiceUtil.getFriendlyURLLayout(group.getGroupId(),false,_prototypeLayout.getFriendlyURL());
  _initialLayoutCount=getGroupLayoutCount();
  journalArticle=JournalArticleLocalServiceUtil.getArticleByUrlTitle(group.getGroupId(),_layoutSetPrototypeJournalArticle.getUrlTitle());
}
