{
  Portlet portlet=PortletLocalServiceUtil.getPortletById(TestPropsValues.getCompanyId(),"71");
  portlet.setPreferencesUniquePerLayout(false);
  Layout layoutSetPrototypeLayout=LayoutTestUtil.addLayout(_layoutSetPrototypeGroup.getGroupId(),ServiceTestUtil.randomString(),true,layoutPrototype,true);
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  preferenceMap.put("bulletStyle",new String[]{"Dots"});
  String navigationPortletOne=LayoutTestUtil.addPortletToLayout(TestPropsValues.getUserId(),layoutSetPrototypeLayout,"71","column-1",preferenceMap);
  preferenceMap.put("bulletStyle",new String[]{"Arrows"});
  String navigationPortletTwo=LayoutTestUtil.addPortletToLayout(TestPropsValues.getUserId(),layoutSetPrototypeLayout,"71","column-2",preferenceMap);
  propagateChanges(group);
  Layout layout=LayoutLocalServiceUtil.getFriendlyURLLayout(group.getGroupId(),false,layoutSetPrototypeLayout.getFriendlyURL());
  javax.portlet.PortletPreferences jxPreferencesNavigationPortletOne=PortletPreferencesFactoryUtil.getPortletSetup(layout,navigationPortletOne,null);
  javax.portlet.PortletPreferences jxPreferencesNavigationPortletTwo=PortletPreferencesFactoryUtil.getPortletSetup(layout,navigationPortletTwo,null);
  javax.portlet.PortletPreferences jxGroupPreferencesNavigationPortlet=PortletPreferencesFactoryUtil.getPortletSetup(group.getGroupId(),layout,"71",null);
  Assert.assertEquals("Arrows",jxPreferencesNavigationPortletOne.getValue("bulletStyle",StringPool.BLANK));
  Assert.assertEquals("Arrows",jxPreferencesNavigationPortletTwo.getValue("bulletStyle",StringPool.BLANK));
  Assert.assertEquals("Arrows",jxGroupPreferencesNavigationPortlet.getValue("bulletStyle",StringPool.BLANK));
}
