{
  setLinkEnabled(true);
  Role role=RoleLocalServiceUtil.getRole(TestPropsValues.getCompanyId(),RoleConstants.POWER_USER);
  ResourcePermissionServiceUtil.setIndividualResourcePermissions(prototypeLayout.getGroupId(),prototypeLayout.getCompanyId(),Layout.class.getName(),String.valueOf(prototypeLayout.getPrimaryKey()),role.getRoleId(),new String[]{ActionKeys.CUSTOMIZE});
  prototypeLayout.setModifiedDate(new Date());
  LayoutLocalServiceUtil.updateLayout(prototypeLayout);
  CacheUtil.clearCache(prototypeLayout.getCompanyId());
  propagateChanges(group);
  boolean hasCustomizePermission=ResourcePermissionLocalServiceUtil.hasResourcePermission(layout.getCompanyId(),Layout.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,String.valueOf(layout.getPrimaryKey()),role.getRoleId(),ActionKeys.CUSTOMIZE);
  Assert.assertTrue(hasCustomizePermission);
}
