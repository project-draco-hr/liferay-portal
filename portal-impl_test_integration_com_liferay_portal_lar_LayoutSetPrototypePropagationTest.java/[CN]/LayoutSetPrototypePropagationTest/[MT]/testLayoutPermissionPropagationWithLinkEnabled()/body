{
  setLinkEnabled(true);
  Role role=RoleLocalServiceUtil.getRole(TestPropsValues.getCompanyId(),RoleConstants.POWER_USER);
  ResourcePermissionServiceUtil.setIndividualResourcePermissions(prototypeLayout.getGroupId(),prototypeLayout.getCompanyId(),Layout.class.getName(),String.valueOf(prototypeLayout.getPrimaryKey()),role.getRoleId(),new String[]{ActionKeys.CUSTOMIZE});
  prototypeLayout=updateModifiedDate(prototypeLayout,new Date(System.currentTimeMillis() + Time.MINUTE));
  CacheUtil.clearCache(prototypeLayout.getCompanyId());
  propagateChanges(group);
  Assert.assertTrue(ResourcePermissionLocalServiceUtil.hasResourcePermission(layout.getCompanyId(),Layout.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,String.valueOf(layout.getPrimaryKey()),role.getRoleId(),ActionKeys.CUSTOMIZE));
}
