{
  if (_beanLocatorUtilPackage.equals("com.liferay.portal.kernel.bean")) {
    return;
  }
  StringMaker sm=new StringMaker();
  sm.append("package " + _beanLocatorUtilPackage + ";");
  sm.append("import " + _springUtilPackage + " .SpringUtil;");
  sm.append("import com.liferay.util.CollectionFactory;");
  sm.append("import java.util.Set;");
  sm.append("import org.apache.commons.logging.Log;");
  sm.append("import org.apache.commons.logging.LogFactory;");
  sm.append("import org.springframework.context.ApplicationContext;");
  sm.append("public class BeanLocatorUtil {");
  sm.append("public static Object locate(String name) {");
  sm.append("if (_beans.contains(name)) {");
  sm.append("if (_log.isWarnEnabled()) {");
  sm.append("_log.warn(\"Cache the reference to \" + name + \" for better performance\");");
  sm.append("}");
  sm.append("}");
  sm.append("ApplicationContext ctx = SpringUtil.getContext();");
  sm.append("if (_log.isDebugEnabled()) {");
  sm.append("_log.debug(\"Locating \" + name);");
  sm.append("}");
  sm.append("Object obj = ctx.getBean(name);");
  sm.append("_beans.add(name);");
  sm.append("return obj;");
  sm.append("}");
  sm.append("private static Log _log = LogFactory.getLog(BeanLocatorUtil.class);");
  sm.append("private static Set _beans = CollectionFactory.getHashSet();");
  sm.append("}");
  File ejbFile=new File(_implDir + "/" + StringUtil.replace(_beanLocatorUtilPackage,".","/")+ "/BeanLocatorUtil.java");
  writeFile(ejbFile,sm.toString());
}
