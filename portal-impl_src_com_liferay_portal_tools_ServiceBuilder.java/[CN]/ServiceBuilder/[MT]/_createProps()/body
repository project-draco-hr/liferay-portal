{
  if (_propsUtilPackage.equals("com.liferay.portal.util")) {
    return;
  }
  File propsFile=new File(_implDir + "/portlet-service.properties");
  long buildNumber=1;
  if (propsFile.exists()) {
    Properties props=PropertiesUtil.load(FileUtil.read(propsFile));
    buildNumber=GetterUtil.getLong(props.getProperty("build.number")) + 1;
  }
  String content=StringUtil.read(getClass().getClassLoader(),"com/liferay/portal/tools/dependencies/portlet-service.properties");
  content=StringUtil.replace(content,new String[]{"${build.namespace}","${build.number}","${build.date}","com.liferay.portal.spring.hibernate."},new String[]{_portletShortName,String.valueOf(buildNumber),String.valueOf(System.currentTimeMillis()),_springHibernatePackage + "."});
  FileUtil.write(propsFile,content,true);
}
