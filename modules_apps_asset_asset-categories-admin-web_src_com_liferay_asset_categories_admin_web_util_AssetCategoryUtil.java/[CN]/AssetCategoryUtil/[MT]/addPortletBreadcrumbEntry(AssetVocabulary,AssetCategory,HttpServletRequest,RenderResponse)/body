{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  PortletURL portletURL=renderResponse.createRenderURL();
  portletURL.setParameter("mvcPath","/view.jsp");
  PortalUtil.addPortletBreadcrumbEntry(request,LanguageUtil.get(request,"vocabularies"),portletURL.toString());
  if (category == null) {
    PortalUtil.addPortletBreadcrumbEntry(request,vocabulary.getTitle(themeDisplay.getLocale()),null);
    return;
  }
  portletURL.setParameter("mvcPath","/view_categories.jsp");
  portletURL.setParameter("vocabularyId",String.valueOf(vocabulary.getVocabularyId()));
  PortalUtil.addPortletBreadcrumbEntry(request,vocabulary.getTitle(themeDisplay.getLocale()),portletURL.toString());
  List<AssetCategory> ancestorsCategories=category.getAncestors();
  Collections.reverse(ancestorsCategories);
  for (  AssetCategory curCategory : ancestorsCategories) {
    portletURL.setParameter("categoryId",String.valueOf(curCategory.getCategoryId()));
    PortalUtil.addPortletBreadcrumbEntry(request,curCategory.getTitle(themeDisplay.getLocale()),portletURL.toString());
  }
  PortalUtil.addPortletBreadcrumbEntry(request,category.getTitle(themeDisplay.getLocale()),null);
}
