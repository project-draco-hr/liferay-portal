{
  Signer signer=null;
  try {
    signer=getSigner();
  }
 catch (  Exception e) {
    return null;
  }
  JsonToken jsonToken=new JsonToken(signer);
  Instant instant=new Instant();
  jsonToken.setExpiration(instant.plus(_expiration));
  jsonToken.setIssuedAt(instant);
  JsonObject payloadJsonObject=jsonToken.getPayloadAsJsonObject();
  payloadJsonObject.addProperty("userId",userId);
  try {
    return jsonToken.serializeAndSign();
  }
 catch (  Exception e) {
    return null;
  }
}
