{
  Properties props=new NullSafeProperties();
  PropertiesUtil.load(props,typeSettings);
  long linkToPlid=GetterUtil.getLong(props.getProperty("linkToPlid"));
  if (linkToPlid > 0) {
    Layout layout=LayoutLocalServiceUtil.getLayout(linkToPlid);
    props.remove("linkToPlid");
    props.put("groupId",Long.toString(layout.getGroupId()));
    props.put("privateLayout",Boolean.toString(layout.isPrivateLayout()));
    props.put("linkToLayoutId",Long.toString(layout.getLayoutId()));
  }
  return PropertiesUtil.toString(props);
}
