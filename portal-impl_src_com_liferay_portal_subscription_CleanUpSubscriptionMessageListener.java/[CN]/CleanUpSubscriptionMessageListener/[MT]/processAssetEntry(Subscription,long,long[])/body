{
  String className=subscription.getClassName();
  AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(className);
  if (assetRendererFactory != null) {
    AssetEntry assetEntry=assetRendererFactory.getAssetEntry(className,subscription.getClassPK());
    if ((assetEntry.getGroupId() == groupId) || !ArrayUtil.contains(groupIds,assetEntry.getGroupId())) {
      SubscriptionLocalServiceUtil.deleteSubscription(subscription.getSubscriptionId());
    }
    return;
  }
  throw new PortalException();
}
