{
  if (!isEnabled(portletRequest)) {
    return;
  }
  if (!validateChallenge(portletRequest)) {
    incrementCounter(portletRequest);
    checkMaxChallenges(portletRequest);
    throw new CaptchaTextException();
  }
  if (_log.isDebugEnabled()) {
    _log.debug("CAPTCHA text is valid");
  }
}
