{
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  User user=permissionChecker.getUser();
  HttpPrincipal httpPrincipal=new HttpPrincipal(remoteURL,user.getLogin(),user.getPassword(),user.getPasswordEncrypted());
  try {
    GroupServiceHttp.disableStaging(httpPrincipal,remoteGroupId);
  }
 catch (  NoSuchGroupException nsge) {
    if (_log.isWarnEnabled()) {
      _log.warn("Remote live group was already deleted",nsge);
    }
  }
catch (  PrincipalException pe) {
    RemoteExportException ree=new RemoteExportException(RemoteExportException.NO_PERMISSIONS);
    ree.setGroupId(remoteGroupId);
    throw ree;
  }
catch (  RemoteAuthException rae) {
    rae.setURL(remoteURL);
    throw rae;
  }
catch (  SystemException se) {
    if (!force) {
      RemoteExportException ree=new RemoteExportException(RemoteExportException.BAD_CONNECTION);
      ree.setURL(remoteURL);
      throw ree;
    }
    if (_log.isWarnEnabled()) {
      _log.warn("Force disabling remote staging");
    }
  }
}
