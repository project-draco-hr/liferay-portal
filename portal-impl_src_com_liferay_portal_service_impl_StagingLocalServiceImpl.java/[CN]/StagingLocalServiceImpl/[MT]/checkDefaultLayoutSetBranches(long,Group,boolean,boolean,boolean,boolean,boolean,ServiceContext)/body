{
  long targetGroupId=0;
  if (remote) {
    targetGroupId=liveGroup.getGroupId();
  }
 else {
    Group stagingGroup=liveGroup.getStagingGroup();
    if (stagingGroup == null) {
      return;
    }
    targetGroupId=stagingGroup.getGroupId();
  }
  if (branchingPublic) {
    LayoutSetBranch layoutSetBranch=layoutSetBranchLocalService.fetchLayoutSetBranch(targetGroupId,false,LayoutSetBranchConstants.MASTER_BRANCH_NAME);
    if (layoutSetBranch == null) {
      addDefaultLayoutSetBranch(userId,targetGroupId,liveGroup.getDescriptiveName(),false,serviceContext);
    }
  }
  if (branchingPrivate) {
    LayoutSetBranch layoutSetBranch=layoutSetBranchLocalService.fetchLayoutSetBranch(targetGroupId,true,LayoutSetBranchConstants.MASTER_BRANCH_NAME);
    if (layoutSetBranch == null) {
      addDefaultLayoutSetBranch(userId,targetGroupId,liveGroup.getDescriptiveName(),true,serviceContext);
    }
  }
  updatePageVersioning(targetGroupId,branchingPublic,branchingPrivate,branchedPublic,branchedPrivate);
}
