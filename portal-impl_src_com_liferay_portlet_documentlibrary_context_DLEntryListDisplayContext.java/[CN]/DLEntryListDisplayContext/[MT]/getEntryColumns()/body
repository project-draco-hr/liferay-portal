{
  String[] entryColumns=StringUtil.split(_dlPortletInstanceSettings.getEntryColumns());
  String portletId=_portletDisplay.getId();
  if (!_dlActionsDisplayContext.isShowActions()) {
    entryColumns=ArrayUtil.remove(entryColumns,"action");
  }
 else   if (!portletId.equals(PortletKeys.DOCUMENT_LIBRARY) && !portletId.equals(PortletKeys.DOCUMENT_LIBRARY_ADMIN) && !ArrayUtil.contains(entryColumns,"action")) {
    entryColumns=ArrayUtil.append(entryColumns,"action");
  }
  return entryColumns;
}
