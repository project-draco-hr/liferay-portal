{
  String[] entryColumns=_dlPortletInstanceSettings.getEntryColumns();
  String portletName=_portletDisplay.getPortletName();
  if (!_dlActionsDisplayContext.isShowActions()) {
    entryColumns=ArrayUtil.remove(entryColumns,"action");
  }
 else   if (!portletName.equals(PortletKeys.DOCUMENT_LIBRARY) && !portletName.equals(PortletKeys.DOCUMENT_LIBRARY_ADMIN) && !ArrayUtil.contains(entryColumns,"action")) {
    entryColumns=ArrayUtil.append(entryColumns,"action");
  }
  return entryColumns;
}
