{
  Company company=addCompany();
  String invalidMx=StringPool.BLANK;
  Field field=ReflectionUtil.getDeclaredField(PropsValues.class,"MAIL_MX_UPDATE");
  Object value=field.get(null);
  try {
    field.set(null,Boolean.TRUE);
    company=CompanyLocalServiceUtil.updateCompany(company.getCompanyId(),company.getVirtualHostname(),invalidMx,company.getMaxUsers(),company.getActive());
  }
  finally {
    CompanyLocalServiceUtil.deleteCompany(company.getCompanyId());
    field.set(null,value);
  }
}
