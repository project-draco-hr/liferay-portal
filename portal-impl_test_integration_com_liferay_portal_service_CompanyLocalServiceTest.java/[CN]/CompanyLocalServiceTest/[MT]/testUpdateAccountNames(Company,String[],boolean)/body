{
  Account account=AccountLocalServiceUtil.getAccount(company.getAccountId());
  for (  String accountName : accountNames) {
    try {
      company=CompanyLocalServiceUtil.updateCompany(company.getCompanyId(),company.getVirtualHostname(),company.getMx(),company.getHomeURL(),true,null,accountName,account.getLegalName(),account.getLegalId(),account.getLegalType(),account.getSicCode(),account.getTickerSymbol(),account.getIndustry(),account.getType(),account.getSize());
      Assert.assertFalse(expectFailure);
    }
 catch (    AccountNameException ane) {
      Assert.assertTrue(expectFailure);
    }
  }
}
