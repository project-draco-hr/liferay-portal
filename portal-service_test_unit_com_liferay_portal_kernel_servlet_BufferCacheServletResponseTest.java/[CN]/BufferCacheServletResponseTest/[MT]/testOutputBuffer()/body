{
  StubHttpServletResponse stubHttpServletResponse=new StubHttpServletResponse(){
    @Override public boolean isCommitted(){
      return false;
    }
  }
;
  PropsUtil.setProps(new Props(){
    @Override public boolean contains(    String key){
      return false;
    }
    @Override public String get(    String key){
      return null;
    }
    @Override public String get(    String key,    Filter filter){
      return null;
    }
    @Override public String[] getArray(    String key){
      return null;
    }
    @Override public String[] getArray(    String key,    Filter filter){
      return null;
    }
    @Override public Properties getProperties(){
      return null;
    }
    @Override public Properties getProperties(    String prefix,    boolean removePrefix){
      return null;
    }
  }
);
  BufferCacheServletResponse toResponse=new BufferCacheServletResponse(stubHttpServletResponse);
  BufferCacheServletResponse fromResponse=new BufferCacheServletResponse(toResponse);
  fromResponse.outputBuffer();
  ByteBuffer newByteBuffer=toResponse.getByteBuffer();
  Assert.assertEquals(0,newByteBuffer.limit());
  toResponse=new BufferCacheServletResponse(stubHttpServletResponse);
  fromResponse=new BufferCacheServletResponse(toResponse);
  ByteBuffer byteBuffer=ByteBuffer.wrap(_TEST_BYTES);
  fromResponse.setByteBuffer(byteBuffer);
  fromResponse.outputBuffer();
  newByteBuffer=toResponse.getByteBuffer();
  Assert.assertSame(byteBuffer,newByteBuffer);
  toResponse=new BufferCacheServletResponse(stubHttpServletResponse);
  fromResponse=new BufferCacheServletResponse(toResponse);
  CharBuffer charBuffer=CharBuffer.wrap(_TEST_STRING);
  fromResponse.setCharBuffer(charBuffer);
  fromResponse.outputBuffer();
  CharBuffer newCharBuffer=toResponse.getCharBuffer();
  Assert.assertSame(charBuffer,newCharBuffer);
  toResponse=new BufferCacheServletResponse(stubHttpServletResponse);
  fromResponse=new BufferCacheServletResponse(toResponse);
  ServletOutputStream servletOutputStream=fromResponse.getOutputStream();
  servletOutputStream.write(_TEST_BYTES);
  fromResponse.outputBuffer();
  newByteBuffer=toResponse.getByteBuffer();
  Assert.assertEquals(ByteBuffer.wrap(_TEST_BYTES),newByteBuffer);
  toResponse=new BufferCacheServletResponse(stubHttpServletResponse);
  fromResponse=new BufferCacheServletResponse(toResponse);
  PrintWriter printWriter=fromResponse.getWriter();
  printWriter.write(_TEST_STRING);
  fromResponse.outputBuffer();
  newCharBuffer=toResponse.getCharBuffer();
  Assert.assertEquals(_TEST_STRING,newCharBuffer.toString());
}
