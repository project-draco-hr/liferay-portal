{
  try {
    if (_log.isDebugEnabled()) {
      _log.debug("Running " + req.getRemoteUser());
    }
    HttpSession ses=req.getSession();
    long userId=PortalUtil.getUserId(req);
    LiveUsers.signIn(req);
    ses.removeAttribute(Globals.LOCALE_KEY);
  }
 catch (  Exception e) {
    throw new ActionException(e);
  }
}
