{
  try {
    String registrationHandle=KeyGenerator.generateKey();
    String registrationData=WSRPFactory.getInstance().getRegistrationDataXML(registrationRecord.getRegistrationData());
    String lifetime=getLifeTimeString(registrationRecord.getLifetime());
    WSRPConsumerRegistrationLocalServiceUtil.addConsumerRegistration(registrationRecord.getConsumerName(),true,registrationHandle,registrationData,lifetime,_producerModel.getInstanceName());
    return registrationHandle;
  }
 catch (  Exception e) {
    throw new ProducerException(e);
  }
}
