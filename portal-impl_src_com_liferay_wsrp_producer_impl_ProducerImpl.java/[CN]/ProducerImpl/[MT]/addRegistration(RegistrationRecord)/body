{
  String registrationHandle=KeyGenerator.generateKey();
  String lifetime=getLifeTimeString(registrationRecord.getLifetime());
  try {
    String registrationData=WSRPFactory.getInstance().getRegistrationDataXML(registrationRecord.getRegistrationData());
    WSRPConsumerRegistrationLocalServiceUtil.addConsumerRegistration(registrationRecord.getConsumerName(),true,registrationHandle,registrationData,lifetime,_producerModel.getInstanceName());
  }
 catch (  Exception e) {
    throw new ProducerException(e);
  }
  return registrationHandle;
}
