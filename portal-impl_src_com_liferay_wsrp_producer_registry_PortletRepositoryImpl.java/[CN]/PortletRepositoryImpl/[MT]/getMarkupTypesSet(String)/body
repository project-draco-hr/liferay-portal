{
  Map<String,Set<String>> portletModesMap=null;
  try {
    Portlet portlet=_getPortlet(portletName);
    portletModesMap=portlet.getPortletModes();
  }
 catch (  Exception e) {
    throw new ProducerException(e);
  }
  List<MarkupType> markupTypes=new ArrayList<MarkupType>();
  for (  String mimeType : portletModesMap.keySet()) {
    MarkupType markupType=new MarkupType();
    markupType.getWindowStates().addAll(_WSRP_STATES);
    markupType.getModes().addAll(portletModesMap.get(mimeType));
    markupType.setMimeType(mimeType);
    markupTypes.add(markupType);
  }
  return markupTypes;
}
