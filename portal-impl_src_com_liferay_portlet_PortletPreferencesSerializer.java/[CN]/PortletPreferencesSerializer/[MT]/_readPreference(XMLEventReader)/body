{
  String name=null;
  List<String> values=new ArrayList<String>();
  boolean readOnly=false;
  while (xmlEventReader.hasNext()) {
    XMLEvent xmlEvent=xmlEventReader.nextEvent();
    if (xmlEvent.isStartElement()) {
      StartElement startElement=xmlEvent.asStartElement();
      String elementName=startElement.getName().getLocalPart();
      if ("name".equals(elementName)) {
        name=StAXReaderUtil.readCharactersIfExist(xmlEventReader);
      }
 else       if ("value".equals(elementName)) {
        String value=StAXReaderUtil.readCharactersIfExist(xmlEventReader);
        values.add(value);
      }
 else       if ("read-only".equals(elementName)) {
        String value=StAXReaderUtil.readCharactersIfExist(xmlEventReader);
        readOnly=GetterUtil.getBoolean(value);
      }
    }
 else     if (xmlEvent.isEndElement()) {
      EndElement endElement=xmlEvent.asEndElement();
      if ("preference".equals(endElement.getName().getLocalPart())) {
        break;
      }
    }
  }
  return new Preference(name,values.toArray(new String[values.size()]),readOnly);
}
