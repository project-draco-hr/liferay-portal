{
  if (!PropsValues.ASSET_ENTRY_INCREMENT_VIEW_COUNTER_ENABLED) {
    return;
  }
  if (classPK <= 0) {
    return;
  }
  long classNameId=PortalUtil.getClassNameId(className);
  AssetEntry entry=assetEntryPersistence.fetchByC_C(classNameId,classPK);
  if (entry != null) {
    entry.setViewCount(entry.getViewCount() + increment);
    assetEntryPersistence.update(entry,false);
    if ((userId > 0) && (entry.getUserId() != userId)) {
      socialEquityLogLocalService.addEquityLogs(userId,entry.getEntryId(),ActionKeys.VIEW,StringPool.BLANK);
    }
  }
}
