{
  if (res instanceof ActionResponseImpl) {
    ActionResponseImpl resImpl=(ActionResponseImpl)res;
    return resImpl.getHttpServletResponse();
  }
 else   if (res instanceof RenderResponseImpl) {
    RenderResponseImpl resImpl=(RenderResponseImpl)res;
    return resImpl.getHttpServletResponse();
  }
 else   if (res instanceof PortletResponseWrapper) {
    PortletResponseWrapper resWrapper=(PortletResponseWrapper)res;
    return getHttpServletResponse(resWrapper.getResponse());
  }
 else {
    PortletResponseImpl resImpl=getPortletResponseImpl(res);
    return resImpl.getHttpServletResponse();
  }
}
