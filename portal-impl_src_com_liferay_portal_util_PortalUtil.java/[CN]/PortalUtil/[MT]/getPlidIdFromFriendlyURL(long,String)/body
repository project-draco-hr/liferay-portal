{
  String[] urlParts=friendlyURL.split("\\/",4);
  if (friendlyURL.charAt(0) != '/' && urlParts.length != 4) {
    return 0;
  }
  boolean privateLayout=true;
  Group group=null;
  Layout layout=null;
  String urlPrefix=StringPool.FORWARD_SLASH + urlParts[1];
  if (getPathFriendlyURLPublic().equals(urlPrefix)) {
    privateLayout=false;
  }
 else   if (getPathFriendlyURLPrivateGroup().equals(urlPrefix) || getPathFriendlyURLPrivateUser().equals(urlPrefix)) {
    privateLayout=true;
  }
 else {
    return 0;
  }
  try {
    group=GroupLocalServiceUtil.getFriendlyURLGroup(companyId,"/" + urlParts[2]);
  }
 catch (  Exception e) {
  }
  if (group != null) {
    try {
      long layoutId=Long.parseLong(urlParts[3]);
      layout=LayoutLocalServiceUtil.getLayout(group.getGroupId(),privateLayout,layoutId);
      return layout.getPlid();
    }
 catch (    Exception e1) {
      try {
        layout=LayoutLocalServiceUtil.getFriendlyURLLayout(group.getGroupId(),privateLayout,"/" + urlParts[3]);
      }
 catch (      Exception e2) {
      }
    }
    if (layout != null) {
      return layout.getPlid();
    }
  }
  return 0;
}
