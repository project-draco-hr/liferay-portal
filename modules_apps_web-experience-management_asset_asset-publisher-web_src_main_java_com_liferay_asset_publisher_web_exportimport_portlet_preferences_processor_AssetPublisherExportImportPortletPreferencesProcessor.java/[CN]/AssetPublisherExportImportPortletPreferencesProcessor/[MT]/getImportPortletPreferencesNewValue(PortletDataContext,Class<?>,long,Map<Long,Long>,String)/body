{
  if (Validator.isNumber(portletPreferencesOldValue)) {
    long oldPrimaryKey=GetterUtil.getLong(portletPreferencesOldValue);
    return MapUtil.getLong(primaryKeys,oldPrimaryKey,oldPrimaryKey);
  }
  String className=clazz.getName();
  String[] oldValues=StringUtil.split(portletPreferencesOldValue,StringPool.POUND);
  String uuid=oldValues[0];
  long groupId=portletDataContext.getScopeGroupId();
  if (oldValues.length > 1) {
    Map<Long,Long> groupIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(Group.class);
    groupId=MapUtil.getLong(groupIds,GetterUtil.getLong(oldValues[1]));
  }
  if (className.equals(AssetCategory.class.getName())) {
    AssetCategory assetCategory=AssetCategoryUtil.fetchByUUID_G(uuid,groupId);
    if (assetCategory != null) {
      return assetCategory.getCategoryId();
    }
  }
 else   if (className.equals(AssetVocabulary.class.getName())) {
    AssetVocabulary assetVocabulary=AssetVocabularyUtil.fetchByUUID_G(uuid,groupId);
    if (assetVocabulary != null) {
      return assetVocabulary.getVocabularyId();
    }
  }
 else   if (className.equals(DDMStructure.class.getName())) {
    DDMStructure ddmStructure=DDMStructureUtil.fetchByUUID_G(uuid,groupId);
    if (ddmStructure != null) {
      return ddmStructure.getStructureId();
    }
  }
 else   if (className.equals(DLFileEntryType.class.getName())) {
    DLFileEntryType dlFileEntryType=DLFileEntryTypeUtil.fetchByUUID_G(uuid,groupId);
    if (dlFileEntryType == null) {
      Element rootElement=portletDataContext.getImportDataRootElement();
      Element element=portletDataContext.getReferenceElement(rootElement,clazz,companyGroupId,uuid,PortletDataContext.REFERENCE_TYPE_DEPENDENCY);
      if (element != null) {
        String fileEntryTypeKey=element.attributeValue("file-entry-type-key");
        boolean preloaded=GetterUtil.getBoolean(element.attributeValue("preloaded"));
        if (preloaded) {
          dlFileEntryType=_dlFileEntryTypeLocalService.fetchFileEntryType(companyGroupId,fileEntryTypeKey);
        }
      }
    }
    if (dlFileEntryType != null) {
      return dlFileEntryType.getFileEntryTypeId();
    }
  }
  return null;
}
