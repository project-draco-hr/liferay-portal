{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long[] addUserGroupIds=StringUtil.split(ParamUtil.getString(actionRequest,"addUserGroupIds"),0L);
  long[] removeUserGroupIds=StringUtil.split(ParamUtil.getString(actionRequest,"removeUserGroupIds"),0L);
  _userGroupService.addGroupUserGroups(themeDisplay.getSiteGroupId(),addUserGroupIds);
  _userGroupService.unsetGroupUserGroups(themeDisplay.getSiteGroupId(),removeUserGroupIds);
  String redirect=ParamUtil.getString(actionRequest,"assignmentsRedirect");
  if (Validator.isNotNull(redirect)) {
    actionRequest.setAttribute(WebKeys.REDIRECT,redirect);
  }
}
