{
  DLFileVersion dlFileVersion=dlFileVersionLocalService.fetchDLFileVersion(fileVersionId);
  if (dlFileVersion != null) {
    return dlFileVersion.getRepositoryId();
  }
  RepositoryEntry repositoryEntry=repositoryEntryLocalService.fetchRepositoryEntry(fileVersionId);
  if (repositoryEntry != null) {
    return repositoryEntry.getRepositoryId();
  }
  throw new InvalidRepositoryIdException("No repository associated with file version " + fileVersionId);
}
