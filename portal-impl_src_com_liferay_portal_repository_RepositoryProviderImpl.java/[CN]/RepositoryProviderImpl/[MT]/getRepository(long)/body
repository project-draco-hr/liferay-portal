{
  Repository repository=_repositoriesByRepositoryId.get(repositoryId);
  if (repository != null) {
    return repository;
  }
  repository=_repositoryFactory.createRepository(repositoryId);
  checkRepository(repositoryId);
  checkRepositoryAccess(repositoryId);
  _repositoriesByRepositoryId.put(repositoryId,repository);
  return repository;
}
