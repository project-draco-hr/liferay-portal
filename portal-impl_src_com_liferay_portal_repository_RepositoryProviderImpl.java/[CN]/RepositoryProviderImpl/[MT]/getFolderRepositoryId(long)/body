{
  DLFolder dlFolder=dlFolderLocalService.fetchDLFolder(folderId);
  if (dlFolder != null) {
    if (dlFolder.isMountPoint()) {
      return dlFolder.getGroupId();
    }
 else {
      return dlFolder.getRepositoryId();
    }
  }
  RepositoryEntry repositoryEntry=repositoryEntryLocalService.fetchRepositoryEntry(folderId);
  if (repositoryEntry != null) {
    return repositoryEntry.getRepositoryId();
  }
  throw new InvalidRepositoryIdException("No repository associated with folder " + folderId);
}
