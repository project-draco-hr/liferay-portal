{
  ServiceTracker<?,?> serviceTracker=ServiceTrackerFactory.open(bundleContext,filterString);
  try {
    if (serviceTracker.waitForService(timeout) == null) {
      throw new TimeoutException("Time out on waiting for " + filterString + " after "+ timeout+ "ms");
    }
  }
  finally {
    serviceTracker.close();
  }
}
