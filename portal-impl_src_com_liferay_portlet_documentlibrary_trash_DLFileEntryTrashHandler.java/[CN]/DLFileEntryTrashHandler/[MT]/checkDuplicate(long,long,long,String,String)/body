{
  DLFileEntry dlFileEntry=getDLFileEntry(classPK);
  if (containerModelId == TrashEntryConstants.DEFAULT_CONTAINER_ID) {
    containerModelId=dlFileEntry.getFolderId();
  }
  if (Validator.isNotNull(newName)) {
    originalTitle=newName;
  }
  DLFileEntry duplicateDLFileEntry=DLFileEntryLocalServiceUtil.fetchFileEntry(dlFileEntry.getGroupId(),containerModelId,originalTitle);
  if (duplicateDLFileEntry != null) {
    DuplicateEntryException dee=new DuplicateEntryException();
    dee.setDuplicateEntryId(duplicateDLFileEntry.getFileEntryId());
    dee.setOldName(duplicateDLFileEntry.getTitle());
    dee.setTrashEntryId(entryId);
    throw dee;
  }
}
