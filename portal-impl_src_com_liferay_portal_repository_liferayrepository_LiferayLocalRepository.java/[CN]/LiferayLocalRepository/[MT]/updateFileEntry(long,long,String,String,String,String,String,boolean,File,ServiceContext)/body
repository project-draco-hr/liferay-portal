{
  long fileEntryTypeId=ParamUtil.getLong(serviceContext,"fileEntryTypeId",-1L);
  Map<String,Fields> fieldsMap=getFieldsMap(serviceContext,fileEntryTypeId);
  long size=0;
  if (file != null) {
    size=file.length();
  }
  DLFileEntry dlFileEntry=dlFileEntryLocalService.updateFileEntry(userId,fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,fileEntryTypeId,fieldsMap,file,null,size,serviceContext);
  return new LiferayFileEntry(dlFileEntry);
}
