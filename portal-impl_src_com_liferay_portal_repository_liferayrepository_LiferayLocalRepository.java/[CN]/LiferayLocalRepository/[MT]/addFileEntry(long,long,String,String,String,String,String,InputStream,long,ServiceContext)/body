{
  long fileEntryTypeId=ParamUtil.getLong(serviceContext,"fileEntryTypeId",-1L);
  Map<String,Fields> fieldsMap=getFieldsMap(serviceContext,fileEntryTypeId);
  DLFileEntry dlFileEntry=dlFileEntryLocalService.addFileEntry(userId,getGroupId(),getRepositoryId(),toFolderId(folderId),sourceFileName,mimeType,title,description,changeLog,fileEntryTypeId,fieldsMap,is,size,serviceContext);
  addFileEntryResources(dlFileEntry,serviceContext);
  return new LiferayFileEntry(dlFileEntry);
}
