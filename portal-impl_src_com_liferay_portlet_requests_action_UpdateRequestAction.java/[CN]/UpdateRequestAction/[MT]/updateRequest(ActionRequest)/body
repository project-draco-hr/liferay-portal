{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long requestId=ParamUtil.getLong(actionRequest,"requestId");
  int status=ParamUtil.getInteger(actionRequest,"status");
  SocialRequest request=SocialRequestLocalServiceUtil.fetchSocialRequest(requestId);
  if (!PortalUtil.isOmniadmin(themeDisplay.getUserId()) && (themeDisplay.getUserId() != request.getReceiverUserId())) {
    throw new PrincipalException();
  }
  SocialRequestLocalServiceUtil.updateRequest(requestId,status,themeDisplay);
}
