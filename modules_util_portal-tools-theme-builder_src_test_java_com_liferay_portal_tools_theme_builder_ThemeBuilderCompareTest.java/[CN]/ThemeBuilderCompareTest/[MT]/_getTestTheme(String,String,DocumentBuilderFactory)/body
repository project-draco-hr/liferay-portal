{
  File dir=new File(dirName);
  File diffsDir=new File(dir,"src");
  JSONObject packageJSON;
  try (FileReader fileReader=new FileReader(new File(dir,"package.json"))){
    packageJSON=(JSONObject)JSONValue.parseWithException(fileReader);
  }
   String name=(String)packageJSON.get("name");
  JSONObject liferayThemeJSON=(JSONObject)packageJSON.get("liferayTheme");
  String parentName=(String)liferayThemeJSON.get("baseTheme");
  if (parentName.equals("styled")) {
    parentName=ThemeBuilder.STYLED;
  }
 else   if (parentName.equals("unstyled")) {
    parentName=ThemeBuilder.UNSTYLED;
  }
 else {
    throw new IllegalArgumentException("Unsupported base theme " + parentName);
  }
  DocumentBuilder documentBuilder=documentBuilderFactory.newDocumentBuilder();
  Document document=documentBuilder.parse(new File(dir,"src/WEB-INF/liferay-look-and-feel.xml"));
  NodeList nodeList=document.getElementsByTagName("template-extension");
  Node node=nodeList.item(0);
  String templateExtension=node.getTextContent();
  File warFile=new File(warFileName);
  return new Object[]{diffsDir,name,parentName,templateExtension,warFile};
}
