{
  StringReader reader1=new StringReader("aaa\nbbb\nfff");
  StringReader reader2=new StringReader("ccc\nada\nbeb");
  List<DiffResult> expectedSource=new ArrayList<DiffResult>();
  List<DiffResult> expectedTarget=new ArrayList<DiffResult>();
  expectedSource.add(new DiffResult(0,DiffUtil.CONTEXT_LINE));
  expectedTarget.add(new DiffResult(0,DiffUtil.OPEN_INS + "ccc" + DiffUtil.CLOSE_INS));
  expectedSource.add(new DiffResult(0,"a" + DiffUtil.OPEN_DEL + "a"+ DiffUtil.CLOSE_DEL+ "a"));
  expectedTarget.add(new DiffResult(1,"a" + DiffUtil.OPEN_INS + "d"+ DiffUtil.CLOSE_INS+ "a"));
  expectedSource.add(new DiffResult(1,"b" + DiffUtil.OPEN_DEL + "b"+ DiffUtil.CLOSE_DEL+ "b"));
  expectedTarget.add(new DiffResult(2,"b" + DiffUtil.OPEN_INS + "e"+ DiffUtil.CLOSE_INS+ "b"));
  expectedSource.add(new DiffResult(2,DiffUtil.OPEN_DEL + "fff" + DiffUtil.CLOSE_DEL));
  expectedTarget.add(new DiffResult(2,DiffUtil.CONTEXT_LINE));
  List<DiffResult>[] actual=DiffUtil.diff(reader1,reader2);
  assertEquals(expectedSource,actual[0]);
  assertEquals(expectedTarget,actual[1]);
}
