{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(MBThread.class,MBStatsUserImpl.TABLE_NAME,PACLClassLoaderUtil.getPortalClassLoader());
  Projection projection=ProjectionFactoryUtil.max("lastPostDate");
  dynamicQuery.setProjection(projection);
  Property property=PropertyFactoryUtil.forName("threadId");
  Disjunction disjunction=RestrictionsFactoryUtil.disjunction();
  List<MBThread> threads=mbThreadLocalService.getGroupThreads(groupId,WorkflowConstants.STATUS_IN_TRASH,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  MBThread thread : threads) {
    disjunction.add(property.ne(thread.getThreadId()));
  }
  dynamicQuery.add(disjunction);
  List<Date> results=mbStatsUserLocalService.dynamicQuery(dynamicQuery);
  if (results.isEmpty()) {
    return null;
  }
  return results.get(0);
}
