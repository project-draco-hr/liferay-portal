{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(MBStatsUser.class,MBStatsUserImpl.TABLE_NAME,PortalClassLoaderUtil.getClassLoader());
  dynamicQuery.setProjection(ProjectionFactoryUtil.sum("messageCount"));
  dynamicQuery.add(PropertyFactoryUtil.forName("userId").eq(userId));
  List<Long> results=mbStatsUserLocalService.dynamicQuery(dynamicQuery);
  if (results.isEmpty()) {
    return 0;
  }
  return results.get(0);
}
