{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(MBStatsUser.class,MBStatsUserImpl.TABLE_NAME,PortalClassLoaderUtil.getClassLoader());
  Projection projection=ProjectionFactoryUtil.sum("messageCount");
  dynamicQuery.setProjection(projection);
  Property property=PropertyFactoryUtil.forName("userId");
  dynamicQuery.add(property.eq(userId));
  List<Long> results=mbStatsUserLocalService.dynamicQuery(dynamicQuery);
  if (results.isEmpty()) {
    return 0;
  }
  return results.get(0);
}
