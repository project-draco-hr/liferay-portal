{
  List<UserGroupRole> admins=new UniqueList<UserGroupRole>();
  Role communityAdminRole=roleLocalService.getRole(membershipRequest.getCompanyId(),RoleConstants.COMMUNITY_ADMINISTRATOR);
  List<UserGroupRole> communityAdmins=userGroupRoleLocalService.getUserGroupRolesByGroupAndRole(membershipRequest.getGroupId(),communityAdminRole.getRoleId());
  admins.addAll(communityAdmins);
  Role communityOwnerRole=rolePersistence.findByC_N(membershipRequest.getCompanyId(),RoleConstants.COMMUNITY_OWNER);
  List<UserGroupRole> communityOwners=userGroupRoleLocalService.getUserGroupRolesByGroupAndRole(membershipRequest.getGroupId(),communityOwnerRole.getRoleId());
  admins.addAll(communityOwners);
  for (  UserGroupRole userGroupRole : admins) {
    notify(userGroupRole.getUserId(),membershipRequest,PropsKeys.COMMUNITIES_EMAIL_MEMBERSHIP_REQUEST_SUBJECT,PropsKeys.COMMUNITIES_EMAIL_MEMBERSHIP_REQUEST_BODY);
  }
}
