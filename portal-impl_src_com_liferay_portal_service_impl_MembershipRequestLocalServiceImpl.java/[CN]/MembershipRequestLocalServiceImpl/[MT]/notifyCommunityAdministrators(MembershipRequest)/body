{
  List administrators=new UniqueList();
  Role roleCommunityAdmin=RoleLocalServiceUtil.getRole(membershipRequest.getCompanyId(),RoleNames.COMMUNITY_ADMINISTRATOR);
  List communityAdmins=UserGroupRoleLocalServiceUtil.getUserGroupRolesByGroupAndRole(membershipRequest.getGroupId(),roleCommunityAdmin.getRoleId());
  administrators.addAll(communityAdmins);
  Role roleCommunityOwner=RoleLocalServiceUtil.getRole(membershipRequest.getCompanyId(),RoleNames.COMMUNITY_OWNER);
  List communityOwners=UserGroupRoleLocalServiceUtil.getUserGroupRolesByGroupAndRole(membershipRequest.getGroupId(),roleCommunityOwner.getRoleId());
  administrators.addAll(communityOwners);
  for (Iterator it=administrators.iterator(); it.hasNext(); ) {
    UserGroupRole userGroupRole=(UserGroupRole)it.next();
    notify(userGroupRole.getUserId(),membershipRequest,PropsUtil.COMMUNITIES_EMAIL_MEMBERSHIP_REQUEST_SUBJECT,PropsUtil.COMMUNITIES_EMAIL_MEMBERSHIP_REQUEST_BODY);
  }
}
