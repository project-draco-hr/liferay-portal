{
  List admins=new UniqueList();
  Role communityAdminRole=roleLocalService.getRole(membershipRequest.getCompanyId(),RoleImpl.COMMUNITY_ADMINISTRATOR);
  List communityAdmins=userGroupRoleLocalService.getUserGroupRolesByGroupAndRole(membershipRequest.getGroupId(),communityAdminRole.getRoleId());
  admins.addAll(communityAdmins);
  Role communityOwnerRole=rolePersistence.findByC_N(membershipRequest.getCompanyId(),RoleImpl.COMMUNITY_OWNER);
  List communityOwners=userGroupRoleLocalService.getUserGroupRolesByGroupAndRole(membershipRequest.getGroupId(),communityOwnerRole.getRoleId());
  admins.addAll(communityOwners);
  Iterator itr=admins.iterator();
  while (itr.hasNext()) {
    UserGroupRole userGroupRole=(UserGroupRole)itr.next();
    notify(userGroupRole.getUserId(),membershipRequest,PropsUtil.COMMUNITIES_EMAIL_MEMBERSHIP_REQUEST_SUBJECT,PropsUtil.COMMUNITIES_EMAIL_MEMBERSHIP_REQUEST_BODY);
  }
}
