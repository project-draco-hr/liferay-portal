{
  for (  File curFile : file.listFiles()) {
    URI relativize=uri.relativize(curFile.toURI());
    String path=relativize.getPath();
    if (curFile.isDirectory()) {
      jarOutputStream.putNextEntry(new ZipEntry(path));
      jarOutputStream.closeEntry();
      writeJarPaths(curFile,uri,jarOutputStream,paths);
      continue;
    }
    if (ArrayUtil.contains(PropsValues.MODULE_FRAMEWORK_WEB_EXTENDER_EXCLUDED_PATHS,path)) {
      continue;
    }
    if (path.startsWith("WEB-INF/lib/") && path.endsWith("-service.jar") && !path.endsWith(_context.concat("-service.jar"))) {
      continue;
    }
    writeFile(curFile,jarOutputStream,paths,path);
  }
}
