{
  for (  File f : file.listFiles()) {
    final URI relativize=uri.relativize(f.toURI());
    String path=relativize.getPath();
    if (f.isDirectory()) {
      jarOutputStream.putNextEntry(new ZipEntry(path));
      jarOutputStream.closeEntry();
      writeJarPaths(f,uri,jarOutputStream,paths);
      continue;
    }
    if (ArrayUtil.contains(PropsValues.MODULE_FRAMEWORK_WEB_EXTENDER_EXCLUDED_PATHS,path)) {
      continue;
    }
    if (path.startsWith("WEB-INF/lib/") && path.endsWith("-service.jar") && !path.endsWith(_context.concat("-service.jar"))) {
      continue;
    }
    writeFile(f,jarOutputStream,paths,path);
  }
}
