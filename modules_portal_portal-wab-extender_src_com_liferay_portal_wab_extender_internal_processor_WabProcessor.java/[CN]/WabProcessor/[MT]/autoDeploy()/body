{
  String webContextpath=MapUtil.getString(_parameters,"Web-ContextPath");
  if (!webContextpath.startsWith(StringPool.SLASH)) {
    webContextpath=StringPool.SLASH.concat(webContextpath);
  }
  AutoDeploymentContext autoDeploymentContext=buildAutoDeploymentContext(webContextpath);
  executeAutoDeployers(autoDeploymentContext);
  PluginPackage pluginPackage=autoDeploymentContext.getPluginPackage();
  _context=pluginPackage.getContext();
  File deployDir=autoDeploymentContext.getDeployDir();
  if (!deployDir.exists()) {
    File parentFile=deployDir.getParentFile();
    File[] files=parentFile.listFiles(new FilenameFilter(){
      @Override public boolean accept(      File dir,      String name){
        return name.endsWith(".war");
      }
    }
);
    if ((files == null) || (files.length == 0)) {
      _log.error("Unable to find any WARs in " + parentFile);
      return null;
    }
    File file=files[0];
    deployDir.mkdirs();
    AntUtil.expandFile(file,deployDir);
  }
  return deployDir;
}
