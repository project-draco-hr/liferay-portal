{
  try {
    List<Long> groupIds=new ArrayList<Long>();
    groupIds.add(groupId);
    List<Layout> publicLayouts=LayoutLocalServiceUtil.getScopeGroupLayouts(groupId,false);
    for (    Layout layout : publicLayouts) {
      Group group=layout.getScopeGroup();
      groupIds.add(group.getGroupId());
    }
    List<Layout> privateLayouts=LayoutLocalServiceUtil.getScopeGroupLayouts(groupId,true);
    for (    Layout layout : privateLayouts) {
      Group group=layout.getScopeGroup();
      groupIds.add(group.getGroupId());
    }
    return ArrayUtil.toLongArray(groupIds);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return new long[]{groupId};
}
