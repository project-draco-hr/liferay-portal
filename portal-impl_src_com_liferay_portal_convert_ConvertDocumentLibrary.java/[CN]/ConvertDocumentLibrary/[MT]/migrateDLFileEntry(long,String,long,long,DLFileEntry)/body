{
  String fileName=fileEntry.getName();
  long fileEntryId=fileEntry.getFileEntryId();
  String properties=fileEntry.getLuceneProperties();
  List<DLFileVersion> dlFileVersions=DLFileVersionLocalServiceUtil.getFileVersions(groupId,repositoryId,fileName,StatusConstants.ANY);
  if (dlFileVersions.isEmpty()) {
    double versionNumber=Hook.DEFAULT_VERSION;
    Date modifiedDate=fileEntry.getModifiedDate();
    migrateFile(companyId,portletId,groupId,repositoryId,fileName,versionNumber,fileEntryId,properties,modifiedDate);
    return;
  }
  for (  DLFileVersion dlFileVersion : dlFileVersions) {
    double versionNumber=dlFileVersion.getVersion();
    Date modifiedDate=dlFileVersion.getCreateDate();
    migrateFile(companyId,portletId,groupId,repositoryId,fileName,versionNumber,fileEntryId,properties,modifiedDate);
  }
}
