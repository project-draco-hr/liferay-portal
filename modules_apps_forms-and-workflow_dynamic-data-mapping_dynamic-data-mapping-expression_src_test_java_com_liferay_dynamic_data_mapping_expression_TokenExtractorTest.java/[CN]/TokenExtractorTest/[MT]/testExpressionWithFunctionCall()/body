{
  String expressionString="equals(name, \"Joe\") && isEmailAddress(email)";
  TokenExtractor tokenExtractor=new TokenExtractor(expressionString);
  Map<String,String> variableMap=tokenExtractor.getVariableMap();
  Assert.assertEquals(variableMap.size(),3);
  Assert.assertEquals("name",variableMap.get("name"));
  Assert.assertEquals("email",variableMap.get("email"));
  Collection<String> values=variableMap.values();
  Assert.assertTrue(values.contains("Joe"));
}
