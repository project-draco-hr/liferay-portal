{
  int hint=-1;
  int dotIndex=path.indexOf(CharPool.PERIOD);
  if (dotIndex != -1) {
    hint=GetterUtil.getInteger(path.substring(dotIndex + 1));
    path=path.substring(0,dotIndex);
  }
  path=servletContextPath + path;
  int firstIndex=_pathBinarySearch.findFirst(path);
  if (firstIndex < 0) {
    if (_log.isDebugEnabled()) {
      _log.debug("JSONWS path NOT found: " + path + " for context: /"+ servletContextPath);
    }
    return -1;
  }
  int lastIndex=_pathBinarySearch.findLast(path,firstIndex);
  if (lastIndex < 0) {
    lastIndex=firstIndex;
  }
  int index=-1;
  int max=-1;
  if (_log.isDebugEnabled()) {
    int total=lastIndex - firstIndex + 1;
    _log.debug("Found " + total + " JSONWS path(s): "+ path+ " for context: /"+ servletContextPath+ ", now matching parameters");
  }
  for (int i=firstIndex; i <= lastIndex; i++) {
    JSONWebServiceActionConfig jsonWebServiceActionConfig=_jsonWebServiceActionConfigs.get(i);
    String jsonWebServiceActionConfigMethod=jsonWebServiceActionConfig.getMethod();
    if (PropsValues.JSONWS_WEB_SERVICE_STRICT_HTTP_METHOD && (method != null)) {
      if ((jsonWebServiceActionConfigMethod != null) && !jsonWebServiceActionConfigMethod.equals(method)) {
        continue;
      }
    }
    MethodParameter[] jsonWebServiceActionConfigMethodParameters=jsonWebServiceActionConfig.getMethodParameters();
    int methodParametersCount=jsonWebServiceActionConfigMethodParameters.length;
    if ((hint != -1) && (methodParametersCount != hint)) {
      continue;
    }
    int count=_countMatchedElements(parameterNames,jsonWebServiceActionConfigMethodParameters);
    if (count > max) {
      if ((hint != -1) || (count >= methodParametersCount)) {
        max=count;
        index=i;
      }
    }
  }
  if (_log.isDebugEnabled()) {
    if (index == -1) {
      _log.debug("No matched JSONWS action found!");
    }
 else {
      _log.debug("JSONWS action found and matched!");
    }
  }
  return index;
}
