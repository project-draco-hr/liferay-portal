{
  BeanLocator beanLocator=null;
  if (contextPath.equals(PortalContextLoaderListener.getPortalServletContextPath()) || contextPath.isEmpty()) {
    beanLocator=PortalBeanLocatorUtil.getBeanLocator();
  }
 else {
    String contextName=contextPath;
    if (contextName.startsWith(StringPool.SLASH)) {
      contextName=contextName.substring(1);
    }
    beanLocator=PortletBeanLocatorUtil.getBeanLocator(contextName);
  }
  if (beanLocator == null) {
    if (_log.isInfoEnabled()) {
      _log.info("Bean locator not available for " + contextPath);
    }
    return -1;
  }
  JSONWebServiceRegistrator jsonWebServiceRegitrator=new JSONWebServiceRegistrator();
  jsonWebServiceRegitrator.processAllBeans(contextPath,beanLocator);
  int count=getJSONWebServiceActionsCount(contextPath);
  if (_log.isInfoEnabled()) {
    _log.info("Configured " + count + " actions for "+ contextPath);
  }
  return count;
}
