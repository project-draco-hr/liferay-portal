{
  JSONWebServiceActionParameters jsonWebServiceActionParameters=new JSONWebServiceActionParameters();
  jsonWebServiceActionParameters.collectAll(request,null,null,parameterMap);
  String[] parameterNames=jsonWebServiceActionParameters.getParameterNames();
  String[] paths=_resolvePaths(request,path);
  String servletContextPath=paths[0];
  path=paths[1];
  if (_log.isDebugEnabled()) {
    StringBundler message=new StringBundler(6);
    message.append("Require JSON web service: ");
    if (method == null) {
      message.append(StringPool.STAR);
    }
 else {
      message.append(method);
    }
    message.append(StringPool.SPACE);
    message.append(servletContextPath);
    message.append(path);
    message.append(Arrays.toString(parameterNames));
    _log.debug(message.toString());
  }
  int jsonWebServiceActionConfigIndex=_getJSONWebServiceActionConfigIndex(servletContextPath,path,method,parameterNames);
  if (jsonWebServiceActionConfigIndex == -1) {
    throw new RuntimeException("No JSON web service action with path " + path + " and method "+ method+ " for /"+ servletContextPath);
  }
  JSONWebServiceActionConfig jsonWebServiceActionConfig=_jsonWebServiceActionConfigs.get(jsonWebServiceActionConfigIndex);
  return new JSONWebServiceActionImpl(jsonWebServiceActionConfig,jsonWebServiceActionParameters);
}
