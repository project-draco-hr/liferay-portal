{
  BookmarksFolder folder=bookmarksFolderPersistence.findByPrimaryKey(folderId);
  parentFolderId=getParentFolderId(folder,parentFolderId);
  if (mergeWithParentFolder && (folderId != parentFolderId)) {
    mergeFolders(folder,parentFolderId);
    return folder;
  }
  validate(name);
  folder.setModifiedDate(serviceContext.getModifiedDate() == null ? new Date() : serviceContext.getModifiedDate());
  folder.setParentFolderId(parentFolderId);
  folder.setName(name);
  folder.setDescription(description);
  folder.setExpandoBridgeAttributes(serviceContext);
  bookmarksFolderPersistence.update(folder,false);
  return folder;
}
