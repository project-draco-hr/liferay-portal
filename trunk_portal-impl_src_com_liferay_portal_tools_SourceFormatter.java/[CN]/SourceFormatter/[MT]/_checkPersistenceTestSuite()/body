{
  String basedir="./portal-impl/test";
  if (!_fileUtil.exists(basedir)) {
    return;
  }
  DirectoryScanner directoryScanner=new DirectoryScanner();
  directoryScanner.setBasedir(basedir);
  directoryScanner.setIncludes(new String[]{"**\\*PersistenceTest.java"});
  List<String> fileNames=_sourceFormatterHelper.scanForFiles(directoryScanner);
  List<String> persistenceTests=new ArrayList<String>();
  for (  String fileName : fileNames) {
    String persistenceTest=fileName.substring(0,fileName.length() - 5);
    persistenceTest=persistenceTest.substring(persistenceTest.lastIndexOf(File.separator) + 1,persistenceTest.length());
    persistenceTests.add(persistenceTest);
  }
  String persistenceTestSuiteFileName=basedir + "/com/liferay/portal/service/persistence/" + "PersistenceTestSuite.java";
  String persistenceTestSuiteContent=_fileUtil.read(persistenceTestSuiteFileName);
  for (  String persistenceTest : persistenceTests) {
    if (!persistenceTestSuiteContent.contains(persistenceTest)) {
      _sourceFormatterHelper.printError(persistenceTestSuiteFileName,"PersistenceTestSuite: " + persistenceTest);
    }
  }
}
