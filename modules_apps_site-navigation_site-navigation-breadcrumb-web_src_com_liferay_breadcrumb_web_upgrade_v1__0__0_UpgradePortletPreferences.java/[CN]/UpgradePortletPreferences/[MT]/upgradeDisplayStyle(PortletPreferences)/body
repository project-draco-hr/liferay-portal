{
  String displayStyle=GetterUtil.getString(portletPreferences.getValue("displayStyle",null));
  if (Validator.isNull(displayStyle) || displayStyle.startsWith(PortletDisplayTemplate.DISPLAY_STYLE_PREFIX)) {
    return;
  }
  if (displayStyle.equals("horizontal")) {
    portletPreferences.setValue("displayStyle",PortletDisplayTemplate.DISPLAY_STYLE_PREFIX + "breadcrumb-horizontal-ftl");
  }
 else   if (displayStyle.equals("vertical")) {
    portletPreferences.setValue("displayStyle",PortletDisplayTemplate.DISPLAY_STYLE_PREFIX + "breadcrumb-vertical-ftl");
  }
 else {
    portletPreferences.reset("displayStyle");
    if (_log.isWarnEnabled()) {
      _log.warn("Display styles for breadcrumbs are deprecated in favor " + "of application display templates");
    }
  }
}
