{
  JournalContentFeed journalContentFeed=(JournalContentFeed)contentFeed;
  JournalFeed journalFeed=journalContentFeed.getFeed();
  long groupId=journalFeed.getGroupId();
  String feedId=journalFeed.getFeedId();
  String name=journalFeed.getName();
  String description=journalFeed.getDescription();
  String structureId=journalFeed.getStructureId();
  String targetLayoutFriendlyUrl=journalFeed.getTargetLayoutFriendlyUrl();
  String contentField=journalFeed.getContentField();
  String type=journalFeed.getType();
  String templateId=journalFeed.getTemplateId();
  String rendererTemplateId=journalFeed.getRendererTemplateId();
  int delta=journalFeed.getDelta();
  String orderByCol=journalFeed.getOrderByCol();
  String orderByType=journalFeed.getOrderByType();
  String targetPortletId=journalFeed.getTargetPortletId();
  String feedType=journalFeed.getFeedType();
  double feedVersion=journalFeed.getFeedVersion();
  try {
    JournalFeed feed=journalFeedPersistence.findByG_F(groupId,feedId);
    validate(feed.getCompanyId(),groupId,name,description,structureId,targetLayoutFriendlyUrl,contentField);
    feed.setModifiedDate(new Date());
    feed.setName(name);
    feed.setDescription(description);
    feed.setType(type);
    feed.setStructureId(structureId);
    feed.setTemplateId(templateId);
    feed.setRendererTemplateId(rendererTemplateId);
    feed.setDelta(delta);
    feed.setOrderByCol(orderByCol);
    feed.setOrderByType(orderByType);
    feed.setTargetLayoutFriendlyUrl(targetLayoutFriendlyUrl);
    feed.setTargetPortletId(targetPortletId);
    feed.setContentField(contentField);
    if (Validator.isNull(feedType)) {
      feed.setFeedType(RSSUtil.DEFAULT_TYPE);
      feed.setFeedVersion(RSSUtil.DEFAULT_VERSION);
    }
 else {
      feed.setFeedType(feedType);
      feed.setFeedVersion(feedVersion);
    }
    journalFeedPersistence.update(feed,false);
    journalContentFeed.setFeed(feed);
  }
 catch (  PortalException ex) {
    _logger.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
catch (  SystemException ex) {
    _logger.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
}
