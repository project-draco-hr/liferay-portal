{
  Folder repositoryFolder=getRepositoryFolder(companyId,repositoryId);
  Folder versioningFolder=repositoryFolder;
  String[] dirNames=StringUtil.split(fileName,CharPool.SLASH);
  for (  String dirName : dirNames) {
    Folder subfolder=getFolder(versioningFolder,dirName);
    if (create && (subfolder == null)) {
      subfolder=createFolder(versioningFolder,dirName);
    }
    versioningFolder=subfolder;
  }
  return versioningFolder;
}
