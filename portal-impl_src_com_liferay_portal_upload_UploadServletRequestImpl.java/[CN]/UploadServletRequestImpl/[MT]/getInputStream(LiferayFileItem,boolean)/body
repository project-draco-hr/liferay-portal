{
  InputStream inputStream=null;
  boolean isInMemory=liferayFileItem.isInMemory();
  if (isInMemory && (liferayFileItem.getSize() > 0)) {
    inputStream=liferayFileItem.getInputStream();
  }
 else   if (!isInMemory) {
    inputStream=new ByteArrayFileInputStream(liferayFileItem.getStoreLocation(),liferayFileItem.getSizeThreshold(),deleteOnClose);
  }
  return inputStream;
}
