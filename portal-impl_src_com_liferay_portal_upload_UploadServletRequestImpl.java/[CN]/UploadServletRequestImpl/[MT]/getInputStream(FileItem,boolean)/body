{
  InputStream inputStream=null;
  if (liferayFileItem.isInMemory() && (liferayFileItem.getSize() > 0)) {
    inputStream=liferayFileItem.getInputStream();
  }
 else   if (!liferayFileItem.isInMemory()) {
    inputStream=new ByteArrayFileInputStream(liferayFileItem.getStoreLocation(),liferayFileItem.getSizeThreshold(),deleteOnClose);
  }
 else   if (liferayFileItem.getSize() == 0) {
    inputStream=new UnsyncByteArrayInputStream(new byte[0]);
  }
  return inputStream;
}
