{
  int length=luceneHits.length();
  if ((start == QueryUtil.ALL_POS) && (end == QueryUtil.ALL_POS)) {
    start=0;
    end=length;
  }
  String[] queryTerms=getQueryTerms(query);
  Hits subset=new HitsImpl();
  if ((start > -1) && (start <= end)) {
    if (end > length) {
      end=length;
    }
    int subsetTotal=end - start;
    Document[] subsetDocs=new DocumentImpl[subsetTotal];
    String[] subsetSnippets=new String[subsetTotal];
    float[] subsetScores=new float[subsetTotal];
    int j=0;
    for (int i=start; i < end; i++, j++) {
      org.apache.lucene.document.Document doc=luceneHits.doc(i);
      subsetDocs[j]=getDocument(doc);
      subsetSnippets[j]=getSnippet(doc,query,Field.CONTENT);
      subsetScores[j]=luceneHits.score(i);
    }
    subset.setStart(startTime);
    subset.setSearchTime(searchTime);
    subset.setQueryTerms(queryTerms);
    subset.setDocs(subsetDocs);
    subset.setLength(length);
    subset.setSnippets(subsetSnippets);
    subset.setScores(subsetScores);
  }
  return subset;
}
