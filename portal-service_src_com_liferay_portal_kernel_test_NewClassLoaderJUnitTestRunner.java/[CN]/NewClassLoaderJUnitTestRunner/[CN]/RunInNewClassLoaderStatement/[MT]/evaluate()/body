{
  MethodCache.reset();
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  currentThread.setContextClassLoader(_newClassLoader);
  try {
    Class<?> clazz=_newClassLoader.loadClass(_testClassName);
    Object testObject=clazz.newInstance();
    for (    MethodKey beforeMethodKey : _beforeMethodKeys) {
      new MethodHandler(beforeMethodKey).invoke(testObject);
    }
    new MethodHandler(_testMethodKey).invoke(testObject);
    for (    MethodKey afterMethodKey : _afterMethodKeys) {
      new MethodHandler(afterMethodKey).invoke(testObject);
    }
  }
 catch (  InvocationTargetException ite) {
    throw ite.getTargetException();
  }
 finally {
    currentThread.setContextClassLoader(contextClassLoader);
  }
}
