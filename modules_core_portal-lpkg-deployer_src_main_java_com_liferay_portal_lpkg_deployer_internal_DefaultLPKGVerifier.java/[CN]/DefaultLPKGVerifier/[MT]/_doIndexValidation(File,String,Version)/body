{
  try {
    Indexer indexer=_indexerFactory.createLPKGIndexer(lpkgFile);
    UnsyncByteArrayOutputStream unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
    indexer.index(unsyncByteArrayOutputStream);
    Path indexFilePath=Paths.get(PropsValues.MODULE_FRAMEWORK_BASE_DIR,Indexer.DIR_NAME_TARGET_PLATFORM,symbolicName + "-" + version+ "-index.xml");
    Files.write(indexFilePath,unsyncByteArrayOutputStream.toByteArray());
    if (_log.isInfoEnabled()) {
      _log.info("Wrote index " + indexFilePath);
    }
    _lpkgIndexValidator.validate(Collections.singletonList(indexFilePath.toUri()));
  }
 catch (  LPKGVerifyException lpkgve) {
    throw lpkgve;
  }
catch (  Exception e) {
    throw new LPKGVerifyException(e);
  }
}
