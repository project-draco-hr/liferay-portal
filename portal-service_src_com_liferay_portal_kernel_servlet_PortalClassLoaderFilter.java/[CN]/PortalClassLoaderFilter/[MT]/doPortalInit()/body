{
  ClassLoader classLoader=PortalClassLoaderUtil.getClassLoader();
  String filterClass=_filterConfig.getInitParameter("filter-class");
  if (filterClass.startsWith("com.liferay.filters.")) {
    filterClass=StringUtil.replace(filterClass,"com.liferay.filters.","com.liferay.portal.servlet.filters.");
  }
  _filter=(Filter)InstanceFactory.newInstance(classLoader,filterClass);
  _filter.init(_filterConfig);
  if (_filter instanceof LiferayFilter) {
    _liferayFilter=(LiferayFilter)_filter;
  }
}
