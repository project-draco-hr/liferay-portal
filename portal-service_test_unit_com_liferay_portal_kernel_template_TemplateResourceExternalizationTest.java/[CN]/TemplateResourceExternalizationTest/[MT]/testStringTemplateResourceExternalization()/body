{
  String testId="testId";
  String testContent="testContent";
  StringTemplateResource stringTemplateResource=new StringTemplateResource(testId,testContent);
  UnsyncByteArrayOutputStream unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
  ObjectOutput objectOutput=new MockObjectOutput(unsyncByteArrayOutputStream);
  stringTemplateResource.writeExternal(objectOutput);
  objectOutput.close();
  byte[] externalizedData=unsyncByteArrayOutputStream.toByteArray();
  DataInputStream dataInputStream=new DataInputStream(new UnsyncByteArrayInputStream(externalizedData));
  Assert.assertEquals(testId,dataInputStream.readUTF());
  Assert.assertEquals(testContent,dataInputStream.readUTF());
  Assert.assertEquals(stringTemplateResource.getLastModified(),dataInputStream.readLong());
  StringTemplateResource newStringTemplateResource=new StringTemplateResource();
  MockObjectInput mockObjectInput=new MockObjectInput(new DataInputStream(new UnsyncByteArrayInputStream(externalizedData)));
  newStringTemplateResource.readExternal(mockObjectInput);
  Assert.assertEquals(testId,newStringTemplateResource.getTemplateId());
  Assert.assertEquals(testContent,newStringTemplateResource.getContent());
  Assert.assertEquals(stringTemplateResource.getLastModified(),newStringTemplateResource.getLastModified());
}
