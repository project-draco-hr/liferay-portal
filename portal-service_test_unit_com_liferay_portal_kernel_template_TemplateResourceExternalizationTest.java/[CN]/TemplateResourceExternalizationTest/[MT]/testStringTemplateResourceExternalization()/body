{
  String templateId="testId";
  String templateContent="testContent";
  StringTemplateResource stringTemplateResource=new StringTemplateResource(templateId,templateContent);
  UnsyncByteArrayOutputStream unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
  ObjectOutput objectOutput=new MockObjectOutput(unsyncByteArrayOutputStream);
  stringTemplateResource.writeExternal(objectOutput);
  objectOutput.close();
  byte[] externalizedData=unsyncByteArrayOutputStream.toByteArray();
  DataInputStream dataInputStream=new DataInputStream(new UnsyncByteArrayInputStream(externalizedData));
  Assert.assertEquals(stringTemplateResource.getLastModified(),dataInputStream.readLong());
  Assert.assertEquals(templateContent,dataInputStream.readUTF());
  Assert.assertEquals(templateId,dataInputStream.readUTF());
  StringTemplateResource newStringTemplateResource=new StringTemplateResource();
  MockObjectInput mockObjectInput=new MockObjectInput(new DataInputStream(new UnsyncByteArrayInputStream(externalizedData)));
  newStringTemplateResource.readExternal(mockObjectInput);
  Assert.assertEquals(stringTemplateResource.getLastModified(),newStringTemplateResource.getLastModified());
  Assert.assertEquals(templateContent,newStringTemplateResource.getContent());
  Assert.assertEquals(templateId,newStringTemplateResource.getTemplateId());
}
