{
  DLFileEntry dlFileEntry=dlRepositoryLocalService.getFileEntry(fileEntryId);
  long folderId=dlFileEntry.getFolderId();
  boolean hasLock=lockLocalService.hasLock(getUserId(),DLFileEntry.class.getName(),fileEntryId);
  if ((!hasLock) && (folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID)) {
    hasLock=hasInheritableLock(folderId);
  }
  return hasLock;
}
