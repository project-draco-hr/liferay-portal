{
  DLFileEntryPermission.check(getPermissionChecker(),fileEntryId,ActionKeys.DELETE);
  DLFileVersion fileVersion=dlRepositoryLocalService.getLatestFileVersion(fileEntryId);
  if (fileVersion.getStatus() != WorkflowConstants.STATUS_DRAFT) {
    return;
  }
  DLFileEntry fileEntry=fileVersion.getFileEntry();
  dlRepositoryLocalService.deleteFileEntry(fileEntry.getGroupId(),fileEntry.getFolderId(),fileEntry.getName(),fileVersion.getVersion());
}
