{
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  String namespace=portletDisplay.getNamespace();
  long recordSetId=ParamUtil.getLong(request,namespace + "recordSetId");
  if (recordSetId == 0) {
    return false;
  }
  User user=themeDisplay.getUser();
  if (user.isDefaultUser()) {
    return false;
  }
  String rootPortletId=portletDisplay.getRootPortletId();
  if (rootPortletId.equals(DDLPortletKeys.DYNAMIC_DATA_LISTS)) {
    return DDLPermission.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),DDLActionKeys.ADD_RECORD_SET);
  }
  return false;
}
