{
  Map<String,String> arguments=ArgumentsUtil.parseArguments(args);
  String propertiesDir=GetterUtil.getString(arguments.get("propertiesDir"));
  String lpVersion=GetterUtil.getString(arguments.get("lpVersion"));
  Map<String,Object> context=new HashMap<String,Object>();
  context.put("lpVersion",lpVersion);
  List<PropertiesHtmlFile> htmlFiles=new ArrayList<PropertiesHtmlFile>();
  File[] files=new File(propertiesDir).listFiles();
  for (  File file : files) {
    if (file.getName().endsWith(".properties.html")) {
      htmlFiles.add(new PropertiesHtmlFile(file.getName()));
    }
  }
  context.put("htmlFiles",htmlFiles);
  try {
    String indexHTMLFileName="./properties/index.html";
    File indexHTMLFile=new File(indexHTMLFileName);
    Writer writer=new FileWriter(indexHTMLFile);
    try {
      FreeMarkerUtil.process("com/liferay/portal/tools/propertiesdoc" + "/dependencies/index.ftl",context,writer);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    writer.flush();
  }
 catch (  IOException ioe) {
    ioe.printStackTrace();
  }
}
