{
  long pk=ServiceTestUtil.nextLong();
  Image newImage=_persistence.create(pk);
  newImage.setModifiedDate(ServiceTestUtil.nextDate());
  newImage.setType(ServiceTestUtil.randomString());
  newImage.setHeight(ServiceTestUtil.nextInt());
  newImage.setWidth(ServiceTestUtil.nextInt());
  newImage.setSize(ServiceTestUtil.nextInt());
  newImage.setMvccVersion(ServiceTestUtil.nextLong());
  _persistence.update(newImage);
  Image existingImage=_persistence.findByPrimaryKey(newImage.getPrimaryKey());
  Assert.assertEquals(existingImage.getImageId(),newImage.getImageId());
  Assert.assertEquals(Time.getShortTimestamp(existingImage.getModifiedDate()),Time.getShortTimestamp(newImage.getModifiedDate()));
  Assert.assertEquals(existingImage.getType(),newImage.getType());
  Assert.assertEquals(existingImage.getHeight(),newImage.getHeight());
  Assert.assertEquals(existingImage.getWidth(),newImage.getWidth());
  Assert.assertEquals(existingImage.getSize(),newImage.getSize());
  Assert.assertEquals(existingImage.getMvccVersion(),newImage.getMvccVersion());
}
