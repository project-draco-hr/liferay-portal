{
  if ((httpPrincipal == null) || (httpPrincipal.getUrl() == null)) {
    return null;
  }
  URL url=new URL(httpPrincipal.getUrl() + "/api/liferay/do");
  HttpURLConnection httpURLConnection=(HttpURLConnection)url.openConnection();
  httpURLConnection.setDoInput(true);
  httpURLConnection.setDoOutput(true);
  if (!_VERIFY_SSL_HOSTNAME && (httpURLConnection instanceof HttpsURLConnection)) {
    HttpsURLConnection httpsURLConnection=(HttpsURLConnection)httpURLConnection;
    httpsURLConnection.setHostnameVerifier(new HostnameVerifier(){
      @Override public boolean verify(      String hostname,      SSLSession session){
        return true;
      }
    }
);
  }
  httpURLConnection.setRequestProperty(HttpHeaders.CONTENT_TYPE,ContentTypes.APPLICATION_X_JAVA_SERIALIZED_OBJECT);
  httpURLConnection.setUseCaches(false);
  httpURLConnection.setRequestMethod(HttpMethods.POST);
  return httpURLConnection;
}
