{
  String ddmResource=GetterUtil.getString(serviceContext.getAttribute("ddmResource"));
  String ddmResourceActionId=GetterUtil.getString(serviceContext.getAttribute("ddmResourceActionId"));
  if (Validator.isNull(ddmResourceActionId)) {
    ddmResourceActionId=ActionKeys.ADD_TEMPLATE;
  }
  DDMPermission.check(getPermissionChecker(),serviceContext.getScopeGroupId(),ddmResource,ddmResourceActionId);
  return ddmTemplateLocalService.addTemplate(getUserId(),groupId,classNameId,classPK,templateKey,nameMap,descriptionMap,type,mode,language,script,serviceContext);
}
