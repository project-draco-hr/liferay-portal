{
  String ddmResource=GetterUtil.getString(serviceContext.getAttribute("ddmResource"));
  String ddmResourceAction=GetterUtil.getString(serviceContext.getAttribute("ddmResourceAction"));
  if (Validator.isNull(ddmResourceAction)) {
    ddmResourceAction=ActionKeys.ADD_TEMPLATE;
  }
  DDMPermission.check(getPermissionChecker(),serviceContext.getScopeGroupId(),ddmResource,ddmResourceAction);
  return ddmTemplateLocalService.addTemplate(getUserId(),groupId,classNameId,classPK,nameMap,descriptionMap,type,mode,language,script,serviceContext);
}
