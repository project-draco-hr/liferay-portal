{
  DDMPermissionHandler ddmPermissionHandler=DDMUtil.getDDMPermissionHandler(resourceClassNameId);
  DDMPermission.check(getPermissionChecker(),serviceContext.getScopeGroupId(),ddmPermissionHandler.getResourceName(classNameId),ddmPermissionHandler.getAddTemplateActionId());
  return ddmTemplateLocalService.addTemplate(getUserId(),groupId,classNameId,classPK,resourceClassNameId,null,nameMap,descriptionMap,type,mode,language,script,false,false,null,null,serviceContext);
}
