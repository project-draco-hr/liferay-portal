{
  if (!_osgiModule) {
    return Paths.get(_sqlDirName,"update-6.2.0-7.0.0.sql");
  }
  final AtomicReference<Path> atomicReference=new AtomicReference<>();
  FileSystem fileSystem=FileSystems.getDefault();
  final PathMatcher pathMatcher=fileSystem.getPathMatcher("glob:**/dependencies/update.sql");
  Files.walkFileTree(Paths.get(_resourcesDirName),new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult visitFile(    Path path,    BasicFileAttributes basicFileAttributes) throws IOException {
      if (!pathMatcher.matches(path)) {
        return FileVisitResult.CONTINUE;
      }
      Path updateSQLFilePath=atomicReference.get();
      if (updateSQLFilePath == null) {
        atomicReference.set(path);
      }
 else {
        Version updateSQLFileVersion=_getUpdateSQLFileVersion(updateSQLFilePath);
        Version version=_getUpdateSQLFileVersion(path);
        if (updateSQLFileVersion.compareTo(version) < 0) {
          atomicReference.set(path);
        }
      }
      return FileVisitResult.CONTINUE;
    }
  }
);
  return atomicReference.get();
}
