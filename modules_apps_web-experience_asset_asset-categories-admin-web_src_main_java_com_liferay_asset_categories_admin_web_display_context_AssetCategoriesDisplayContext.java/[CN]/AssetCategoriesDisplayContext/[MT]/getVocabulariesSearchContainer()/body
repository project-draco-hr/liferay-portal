{
  if (_vocabulariesSearchContainer != null) {
    return _vocabulariesSearchContainer;
  }
  SearchContainer vocabulariesSearchContainer=new SearchContainer(_renderRequest,_renderResponse.createRenderURL(),null,"there-are-no-vocabularies.-you-can-add-a-vocabulary-by-clicking" + "-the-plus-button-on-the-bottom-right-corner");
  String keywords=getKeywords();
  vocabulariesSearchContainer.setSearch(Validator.isNotNull(keywords));
  vocabulariesSearchContainer.setOrderByCol(getOrderByCol());
  String orderByType=getOrderByType();
  boolean orderByAsc=false;
  if (orderByType.equals("asc")) {
    orderByAsc=true;
  }
  OrderByComparator<AssetVocabulary> orderByComparator=new AssetVocabularyCreateDateComparator(orderByAsc);
  vocabulariesSearchContainer.setOrderByComparator(orderByComparator);
  vocabulariesSearchContainer.setOrderByType(orderByType);
  EmptyOnClickRowChecker emptyOnClickRowChecker=new EmptyOnClickRowChecker(_renderResponse);
  StringBundler sb=new StringBundler(5);
  sb.append("^(?!.*");
  sb.append(_renderResponse.getNamespace());
  sb.append("redirect).*(/vocabulary/");
  sb.append(getVocabularyId());
  sb.append(")");
  emptyOnClickRowChecker.setRememberCheckBoxStateURLRegex(sb.toString());
  vocabulariesSearchContainer.setRowChecker(emptyOnClickRowChecker);
  List<AssetVocabulary> vocabularies=null;
  int vocabulariesCount=0;
  ThemeDisplay themeDisplay=(ThemeDisplay)_request.getAttribute(WebKeys.THEME_DISPLAY);
  long scopeGroupId=themeDisplay.getScopeGroupId();
  if (Validator.isNotNull(keywords)) {
    Sort sort=new Sort("createDate",Sort.LONG_TYPE,orderByAsc);
    AssetVocabularyDisplay assetVocabularyDisplay=AssetVocabularyServiceUtil.searchVocabulariesDisplay(scopeGroupId,keywords,true,vocabulariesSearchContainer.getStart(),vocabulariesSearchContainer.getEnd(),sort);
    vocabulariesCount=assetVocabularyDisplay.getTotal();
    vocabulariesSearchContainer.setTotal(vocabulariesCount);
    vocabularies=assetVocabularyDisplay.getVocabularies();
  }
 else {
    vocabulariesCount=AssetVocabularyServiceUtil.getGroupVocabulariesCount(scopeGroupId);
    vocabulariesSearchContainer.setTotal(vocabulariesCount);
    vocabularies=AssetVocabularyServiceUtil.getGroupVocabularies(scopeGroupId,true,vocabulariesSearchContainer.getStart(),vocabulariesSearchContainer.getEnd(),vocabulariesSearchContainer.getOrderByComparator());
    if (vocabulariesCount == 0) {
      vocabulariesCount=AssetVocabularyServiceUtil.getGroupVocabulariesCount(scopeGroupId);
      vocabulariesSearchContainer.setTotal(vocabulariesCount);
    }
  }
  vocabulariesSearchContainer.setResults(vocabularies);
  _vocabulariesSearchContainer=vocabulariesSearchContainer;
  return _vocabulariesSearchContainer;
}
