{
  ScriptingRequest scriptingRequest=new ScriptingRequest(ScriptingRequest.Command.GET_PORTLET_OBJECTS,portletConfig,portletContext,portletRequest,portletResponse);
  Message message=new Message();
  message.setResponseDestinationName(DestinationNames.SCRIPTING_RESPONSE);
  message.setPayload(scriptingRequest);
  ClusterLinkUtil.setForwardMessage(message);
  try {
    Map<String,Object> result=(Map<String,Object>)MessageBusUtil.sendSynchronousMessage(DestinationNames.SCRIPTING,message);
    return result;
  }
 catch (  MessageBusException ex) {
    _log.error("Failed to get portlet objects!",ex);
    return new HashMap<String,Object>();
  }
}
