{
  LayoutSet layoutSet=layoutSetPersistence.findByG_P(groupId,privateLayout);
  layoutSet=wrapLayoutSet(layoutSet);
  LayoutSetBranch layoutSetBranch=LayoutStagingUtil.getLayoutSetBranch(layoutSet);
  if (layoutSetBranch == null) {
    return target.updateLookAndFeel(groupId,privateLayout,themeId,colorSchemeId,css);
  }
  layoutSetBranch.setModifiedDate(new Date());
  if (Validator.isNull(themeId)) {
    themeId=ThemeFactoryUtil.getDefaultRegularThemeId(layoutSetBranch.getCompanyId());
  }
  if (Validator.isNull(colorSchemeId)) {
    colorSchemeId=ColorSchemeFactoryUtil.getDefaultRegularColorSchemeId();
  }
  layoutSetBranch.setThemeId(themeId);
  layoutSetBranch.setColorSchemeId(colorSchemeId);
  layoutSetBranch.setCss(css);
  layoutSetBranchPersistence.update(layoutSetBranch);
  return layoutSet;
}
