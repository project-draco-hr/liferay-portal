{
  if (target == null) {
    return;
  }
  if (!_scanning) {
    return;
  }
  target=_resolveJavaProxy(target);
  String id;
  try {
    id=String.valueOf(System.identityHashCode(target));
    if (_visitedIds.contains(id)) {
      return;
    }
  }
 catch (  Exception e) {
    return;
  }
  _visitedIds.add(id);
  Class targetClass=target.getClass();
  if (targetClass.isArray()) {
    if (!_visitArrays) {
      return;
    }
    Class componentType=targetClass.getComponentType();
    if (componentType.isPrimitive() == false) {
      Object[] array=(Object[])target;
      for (      Object element : array) {
        _scan(element);
      }
    }
  }
 else   if (_visitMaps && target instanceof Map) {
    _scanMap((Map)target);
  }
 else   if (_visitLists && target instanceof List) {
    _scanCollection((List)target);
  }
 else   if (_visitSets && target instanceof Set) {
    _scanCollection((Set)target);
  }
 else   if (_visitCollections && target instanceof Collection) {
    _scanCollection((Collection)target);
  }
 else {
    _scanObject(target);
  }
}
