{
  if (target == null) {
    return;
  }
  if (!_scanning) {
    return;
  }
  target=_resolveJavaProxy(target);
  String visitedId=null;
  try {
    visitedId=String.valueOf(System.identityHashCode(target));
    if (_visitedIds.contains(visitedId)) {
      return;
    }
  }
 catch (  Exception e) {
    return;
  }
  _visitedIds.add(visitedId);
  Class<?> targetClass=target.getClass();
  if (targetClass.isArray()) {
    if (!_visitArrays) {
      return;
    }
    Class<?> componentTypeClass=targetClass.getComponentType();
    if (componentTypeClass.isPrimitive() == false) {
      Object[] array=(Object[])target;
      for (      Object element : array) {
        _scan(element);
      }
    }
  }
 else   if (_visitLists && (target instanceof List)) {
    _scanCollection((List<Object>)target);
  }
 else   if (_visitMaps && (target instanceof Map)) {
    _scanMap((Map<Object,Object>)target);
  }
 else   if (_visitSets && (target instanceof Set)) {
    _scanCollection((Set<Object>)target);
  }
 else   if (_visitCollections && (target instanceof Collection)) {
    _scanCollection((Collection<Object>)target);
  }
 else {
    _scanObject(target);
  }
}
