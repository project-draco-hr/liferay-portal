{
  boolean workflowEnabled=WorkflowThreadLocal.isEnabled();
  try {
    WorkflowThreadLocal.setEnabled(true);
    serviceContext=(ServiceContext)serviceContext.clone();
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
    page=WikiPageLocalServiceUtil.updatePage(userId,page.getNodeId(),title,page.getVersion(),content,page.getSummary(),false,page.getFormat(),page.getParentTitle(),page.getRedirectTitle(),serviceContext);
    if (approved) {
      page=updateStatus(userId,page,serviceContext);
    }
    return page;
  }
  finally {
    WorkflowThreadLocal.setEnabled(workflowEnabled);
  }
}
