{
  while (true) {
    pql=pql.trim();
    if (!pql.startsWith("(") || !pql.endsWith(")")) {
      break;
    }
    String subPQL=pql.substring(1,pql.length() - 1);
    int parenthesisCount=0;
    for (int i=0; i < subPQL.length(); i++) {
      char c=subPQL.charAt(i);
      if (c == '(') {
        parenthesisCount++;
      }
      if (c == ')') {
        if (parenthesisCount < 1) {
          return pql.trim();
        }
        parenthesisCount--;
      }
    }
    if (parenthesisCount > 0) {
      return pql.trim();
    }
    pql=subPQL;
  }
  return pql.trim();
}
