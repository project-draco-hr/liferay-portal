{
  Map<String,Serializable> context=new HashMap<>();
  context.put("formFieldsValues",getSerializedDDMFormValues(record));
  Locale locale=getDDMFormDefaultLocale(recordSet.getDDMStructure());
  context.put("formName",recordSet.getName(locale));
  context.put("fromAddress",DDLFormEmailNotificationUtil.getEmailFromAddress(recordSet));
  context.put("fromName",DDLFormEmailNotificationUtil.getEmailFromName(recordSet));
  context.put("portalUrl",PortalUtil.getPortalURL(portletRequest));
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Group siteGroup=themeDisplay.getSiteGroup();
  context.put("siteName",siteGroup.getName(locale));
  return context;
}
