{
  put("exception",exception.getMessage());
  StringBuilder sb=new StringBuilder();
  for (  TemplateResource templateResource : templateResources) {
    if (templateResource instanceof StringTemplateResource) {
      StringTemplateResource stringTemplateResource=(StringTemplateResource)templateResource;
      sb.append(stringTemplateResource.getContent());
    }
  }
  put("script",sb.toString());
  try {
    processTemplate(errorTemplateResource,writer);
  }
 catch (  Exception e) {
    throw new TemplateException("Unable to process Soy template " + errorTemplateResource.getTemplateId(),e);
  }
}
