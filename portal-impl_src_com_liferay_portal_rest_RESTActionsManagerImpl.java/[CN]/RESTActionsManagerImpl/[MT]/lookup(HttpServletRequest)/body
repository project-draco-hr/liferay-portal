{
  String path=GetterUtil.getString(request.getPathInfo());
  String method=GetterUtil.getString(request.getMethod());
  String pathParameters=null;
  int pathParametersIndex=_getPathParametersIndex(path);
  if (pathParametersIndex != -1) {
    pathParameters=path.substring(pathParametersIndex);
    path=path.substring(0,pathParametersIndex);
  }
  RESTActionParameters restActionParameters=new RESTActionParameters();
  restActionParameters.collectAll(request,pathParameters);
  String[] parameterNames=restActionParameters.getParameterNames();
  int restActionConfigIndex=_getRESTActionConfigIndex(path,method,parameterNames);
  if (restActionConfigIndex == -1) {
    throw new RuntimeException("No REST action associated with path " + path + " and method "+ method);
  }
  RESTActionConfig restActionConfig=_restActionConfig.get(restActionConfigIndex);
  return new RESTActionImpl(restActionConfig,restActionParameters);
}
