{
  if (moveFile && Files.exists(filePath)) {
    File file=filePath.toFile();
    String[] fileList=file.list();
    if (fileList.length > 0) {
      return;
    }
  }
  SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(syncAccountId);
  syncAccount.setActive(false);
  SyncAccountService.update(syncAccount);
  try {
    if (moveFile) {
      Files.createDirectories(filePath);
      Files.move(Paths.get(syncAccount.getFilePathName()),filePath,StandardCopyOption.REPLACE_EXISTING);
    }
    syncAccount=setFilePathName(syncAccountId,filePath.toString());
    syncAccount.setActive(true);
    SyncAccountService.update(syncAccount);
  }
 catch (  IOException ioe) {
    if (_logger.isDebugEnabled()) {
      _logger.debug(ioe.getMessage(),ioe);
    }
  }
}
