{
  Session session=null;
  try {
    if (listType.isNew() || listType.isModified()) {
      session=openSession();
      if (listType.isNew()) {
        ListTypeHBM listTypeHBM=new ListTypeHBM();
        listTypeHBM.setListTypeId(listType.getListTypeId());
        listTypeHBM.setName(listType.getName());
        listTypeHBM.setType(listType.getType());
        session.save(listTypeHBM);
        session.flush();
      }
 else {
        ListTypeHBM listTypeHBM=(ListTypeHBM)session.get(ListTypeHBM.class,listType.getPrimaryKey());
        if (listTypeHBM != null) {
          listTypeHBM.setName(listType.getName());
          listTypeHBM.setType(listType.getType());
          session.flush();
        }
 else {
          listTypeHBM=new ListTypeHBM();
          listTypeHBM.setListTypeId(listType.getListTypeId());
          listTypeHBM.setName(listType.getName());
          listTypeHBM.setType(listType.getType());
          session.save(listTypeHBM);
          session.flush();
        }
      }
      listType.setNew(false);
      listType.setModified(false);
    }
    return listType;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
