{
  boolean checkNewLine=false;
  List articles=null;
  if (NUM_OF_ARTICLES <= 0) {
    checkNewLine=true;
    articles=JournalArticleLocalServiceUtil.getArticles(ExportAction.DEFAULT_CMS_GROUP_ID);
  }
 else {
    articles=JournalArticleLocalServiceUtil.getArticles(ExportAction.DEFAULT_CMS_GROUP_ID,0,NUM_OF_ARTICLES);
  }
  for (int i=0; i < articles.size(); i++) {
    JournalArticle article=(JournalArticle)articles.get(i);
    String content=article.getContent();
    if ((content != null) && (content.indexOf("\\n") != -1)) {
      articles=JournalArticleLocalServiceUtil.getArticles(ExportAction.DEFAULT_CMS_GROUP_ID);
      for (int j=0; j < articles.size(); j++) {
        article=(JournalArticle)articles.get(j);
        JournalArticleLocalServiceUtil.checkNewLine(article.getCompanyId(),article.getArticleId(),article.getVersion());
      }
      checkNewLine=true;
      break;
    }
  }
  if (!checkNewLine) {
    if (_log.isInfoEnabled()) {
      _log.debug("Do not fix oracle new line");
    }
    return;
  }
 else {
    if (_log.isInfoEnabled()) {
      _log.info("Fix oracle new line");
    }
  }
  List structures=JournalStructureLocalServiceUtil.getStructures(ExportAction.DEFAULT_CMS_GROUP_ID,0,1);
  if (structures.size() == 1) {
    JournalStructure structure=(JournalStructure)structures.get(0);
    String xsd=structure.getXsd();
    if ((xsd != null) && (xsd.indexOf("\\n") != -1)) {
      structures=JournalStructureLocalServiceUtil.getStructures(ExportAction.DEFAULT_CMS_GROUP_ID);
      for (int i=0; i < structures.size(); i++) {
        structure=(JournalStructure)structures.get(i);
        JournalStructureLocalServiceUtil.checkNewLine(structure.getCompanyId(),structure.getStructureId());
      }
    }
  }
  List templates=JournalTemplateLocalServiceUtil.getTemplates(ExportAction.DEFAULT_CMS_GROUP_ID,0,1);
  if (templates.size() == 1) {
    JournalTemplate template=(JournalTemplate)templates.get(0);
    String xsl=template.getXsl();
    if ((xsl != null) && (xsl.indexOf("\\n") != -1)) {
      templates=JournalTemplateLocalServiceUtil.getTemplates(ExportAction.DEFAULT_CMS_GROUP_ID);
      for (int i=0; i < templates.size(); i++) {
        template=(JournalTemplate)templates.get(i);
        JournalTemplateLocalServiceUtil.checkNewLine(template.getCompanyId(),template.getTemplateId());
      }
    }
  }
}
