{
  TestPortalCacheListener<String,String> cacheListener=new TestPortalCacheListener<>();
  _memoryPortalCache.registerPortalCacheListener(cacheListener,PortalCacheListenerScope.ALL);
  _memoryPortalCache.put(_KEY_1,_VALUE_2);
  cacheListener.assertActionsCount(1);
  cacheListener.assertUpdated(_KEY_1,_VALUE_2);
  cacheListener.reset();
  _defaultCacheListener.assertActionsCount(1);
  _defaultCacheListener.assertUpdated(_KEY_1,_VALUE_2);
  _defaultCacheListener.reset();
  _defaultCacheReplicator.assertActionsCount(1);
  _defaultCacheReplicator.assertUpdated(_KEY_1,_VALUE_2);
  _defaultCacheReplicator.reset();
  _memoryPortalCache.unregisterPortalCacheListener(cacheListener);
  _memoryPortalCache.put(_KEY_1,_VALUE_1);
  cacheListener.assertActionsCount(0);
  _defaultCacheListener.assertActionsCount(1);
  _defaultCacheListener.assertUpdated(_KEY_1,_VALUE_1);
  _defaultCacheListener.reset();
  _defaultCacheReplicator.assertActionsCount(1);
  _defaultCacheReplicator.assertUpdated(_KEY_1,_VALUE_1);
  _defaultCacheReplicator.reset();
  _memoryPortalCache.unregisterPortalCacheListeners();
  _memoryPortalCache.put(_KEY_1,_VALUE_2);
  cacheListener.assertActionsCount(0);
  _defaultCacheListener.assertActionsCount(0);
  _defaultCacheReplicator.assertActionsCount(0);
}
