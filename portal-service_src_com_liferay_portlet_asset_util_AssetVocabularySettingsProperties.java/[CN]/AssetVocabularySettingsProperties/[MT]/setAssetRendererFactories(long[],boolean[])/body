{
  Set<Long> selectedClassNameIds=new LinkedHashSet<Long>();
  Set<Long> requiredClassNameIds=new LinkedHashSet<Long>();
  for (  int index : indexes) {
    long classNameId=ParamUtil.getLong(actionRequest,"classNameId" + index);
    boolean required=ParamUtil.getBoolean(actionRequest,"required" + index);
    if (classNameId == AssetCategoryConstants.ALL_CLASS_NAME_IDS) {
      selectedClassNameIds.clear();
      selectedClassNameIds.add(classNameId);
      if (required) {
        requiredClassNameIds.clear();
        requiredClassNameIds.add(classNameId);
      }
      break;
    }
 else {
      selectedClassNameIds.add(classNameId);
      if (required) {
        requiredClassNameIds.add(classNameId);
      }
    }
  }
  settingsProperties.setProperty("selectedClassNameIds",StringUtil.merge(selectedClassNameIds));
  settingsProperties.setProperty("requiredClassNameIds",StringUtil.merge(requiredClassNameIds));
}
