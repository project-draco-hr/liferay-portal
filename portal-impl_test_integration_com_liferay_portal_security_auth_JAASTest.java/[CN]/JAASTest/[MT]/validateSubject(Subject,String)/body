{
  Assert.assertNotNull(subject);
  Set<Principal> userPrincipals=subject.getPrincipals();
  Assert.assertNotNull(userPrincipals);
  Iterator<Principal> iterator=userPrincipals.iterator();
  Assert.assertTrue(iterator.hasNext());
  while (iterator.hasNext()) {
    Principal principal=iterator.next();
    if (principal instanceof PortalRole) {
      PortalRole portalRole=(PortalRole)principal;
      Assert.assertEquals("users",portalRole.getName());
    }
 else {
      PortalPrincipal portalPrincipal=(PortalPrincipal)principal;
      Assert.assertEquals(userIdString,portalPrincipal.getName());
    }
  }
}
