{
  Enumeration<String> attributeNames=request.getAttributeNames();
  while (attributeNames.hasMoreElements()) {
    String attributeName=attributeNames.nextElement();
    if (!RestrictPortletServletRequest.isSharedRequestAttribute(attributeName)) {
      continue;
    }
    Object attribute=request.getAttribute(attributeName);
    if (attribute instanceof Mergeable<?>) {
      Mergeable<?> mergeable=(Mergeable<?>)attribute;
      restrictPortletServletRequest.setAttribute(attributeName,mergeable.split());
    }
  }
}
