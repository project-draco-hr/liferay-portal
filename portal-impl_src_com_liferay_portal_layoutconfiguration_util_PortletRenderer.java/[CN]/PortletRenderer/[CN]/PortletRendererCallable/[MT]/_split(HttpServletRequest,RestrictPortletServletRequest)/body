{
  Enumeration<String> attributeNames=request.getAttributeNames();
  while (attributeNames.hasMoreElements()) {
    String attributeName=attributeNames.nextElement();
    Object attribute=request.getAttribute(attributeName);
    if (!(attribute instanceof Mergeable<?>) || !RestrictPortletServletRequest.isSharedRequestAttribute(attributeName)) {
      continue;
    }
    Mergeable<?> mergeable=(Mergeable<?>)attribute;
    restrictPortletServletRequest.setAttribute(attributeName,mergeable.split());
  }
}
