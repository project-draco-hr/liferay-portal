{
  Configuration configuration=_configurationAdmin.createFactoryConfiguration("test.factory.pid",null);
  configuration.update(new Hashtable<String,Object>(){
{
      put("key","value");
    }
  }
);
  _startExtension("aBundle",new StringFactoryNamedConfigurationContent("test.factory.pid","default","key=value2"));
  Configuration[] configurations=_configurationAdmin.listConfigurations(null);
  Assert.assertEquals(2,configurations.length);
  Assert.assertNotNull(_configurationAdmin.listConfigurations("(key=value)"));
  Assert.assertNotNull(_configurationAdmin.listConfigurations("(key=value2)"));
}
