{
  Object payload=message.getPayload();
  if (payload == null) {
    _log.error("Missing TaskInstanceRequest.");
  }
 else   if (!_requestClazz.isAssignableFrom(payload.getClass())) {
    _log.error("Payload type is not from expected type [" + _requestClazz.getName() + "], but was ["+ payload.getClass().getName()+ "]");
  }
 else {
    BaseRequest request=(BaseRequest)payload;
    String responseDestination=message.getResponseDestination();
    Object result=null;
    try {
      result=request.execute(_manager);
      if (request.hasReturnValue() == false) {
        result=new Object();
      }
    }
 catch (    WorkflowException ex) {
      _log.error("Unable to execute request.",ex);
    }
 finally {
      if (Validator.isNotNull(responseDestination)) {
        Message responseMessage=MessageBusUtil.createResponseMessage(message);
        responseMessage.setPayload(new WorkflowResultContainer<Object>(result));
        MessageBusUtil.sendMessage(responseDestination,responseMessage);
      }
    }
  }
}
