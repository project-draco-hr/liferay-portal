{
  Configuration configuration=_configurations.get(companyId);
  if (configuration == null) {
    configuration=_configurations.get(0L);
  }
  if (configuration == null) {
    Class<?> clazz=getMetatype();
    throw new IllegalArgumentException("No instance of " + clazz.getName() + " for company "+ companyId);
  }
  Dictionary<String,Object> properties=configuration.getProperties();
  T configurable=Configurable.createConfigurable(getMetatype(),properties);
  return configurable;
}
