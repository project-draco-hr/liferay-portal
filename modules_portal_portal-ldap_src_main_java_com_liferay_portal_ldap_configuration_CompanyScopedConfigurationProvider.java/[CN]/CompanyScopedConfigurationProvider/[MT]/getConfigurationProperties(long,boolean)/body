{
  Configuration configuration=_configurations.get(companyId);
  if (useDefault && (configuration == null)) {
    configuration=_configurations.get(0L);
  }
 else   if (!useDefault && (configuration == null)) {
    return new HashMapDictionary<>();
  }
  if (configuration == null) {
    Class<?> clazz=getMetatype();
    throw new IllegalArgumentException("No instance of " + clazz.getName() + " for company "+ companyId);
  }
  Dictionary<String,Object> properties=configuration.getProperties();
  return properties;
}
