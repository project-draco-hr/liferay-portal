{
  if (_beanLocator == null) {
    _log.error("BeanLocator is null");
    throw new BeanLocatorException("BeanLocator has not been set");
  }
 else {
    ClassLoader contextClassLoader=Thread.currentThread().getContextClassLoader();
    ClassLoader beanClassLoader=_beanLocator.getClassLoader();
    try {
      if (contextClassLoader != beanClassLoader) {
        Thread.currentThread().setContextClassLoader(beanClassLoader);
      }
      return _beanLocator.locate(name);
    }
  finally {
      if (contextClassLoader != beanClassLoader) {
        Thread.currentThread().setContextClassLoader(contextClassLoader);
      }
    }
  }
}
