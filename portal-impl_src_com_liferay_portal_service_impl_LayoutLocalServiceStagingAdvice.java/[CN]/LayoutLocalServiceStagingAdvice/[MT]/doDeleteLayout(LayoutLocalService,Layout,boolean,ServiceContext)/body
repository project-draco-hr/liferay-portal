{
  if (SystemEventHierarchyEntryThreadLocal.push(Layout.class,layout.getPlid()) == null) {
    layoutLocalService.deleteLayout(layout,updateLayoutSet,serviceContext);
  }
 else {
    try {
      layoutLocalService.deleteLayout(layout,updateLayoutSet,serviceContext);
      SystemEventHierarchyEntry systemEventHierarchyEntry=SystemEventHierarchyEntryThreadLocal.peek();
      SystemEventLocalServiceUtil.addSystemEvent(0,layout.getGroupId(),Layout.class.getName(),layout.getPlid(),layout.getUuid(),null,SystemEventConstants.TYPE_DELETE,systemEventHierarchyEntry.getExtraData());
    }
  finally {
      SystemEventHierarchyEntryThreadLocal.pop(Layout.class,layout.getPlid());
    }
  }
}
