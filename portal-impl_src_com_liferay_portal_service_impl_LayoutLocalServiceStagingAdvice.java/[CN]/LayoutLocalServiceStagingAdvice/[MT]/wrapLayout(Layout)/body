{
  LayoutStagingHandler layoutStagingHandler=LayoutStagingUtil.getLayoutStagingHandler(layout);
  if (layoutStagingHandler != null) {
    return layout;
  }
  if (!LayoutStagingUtil.isBranchingLayout(layout) && !layout.isTypeURL()) {
    return layout;
  }
  return (Layout)ProxyUtil.newProxyInstance(PortalClassLoaderUtil.getClassLoader(),new Class[]{Layout.class},new LayoutStagingHandler(layout));
}
