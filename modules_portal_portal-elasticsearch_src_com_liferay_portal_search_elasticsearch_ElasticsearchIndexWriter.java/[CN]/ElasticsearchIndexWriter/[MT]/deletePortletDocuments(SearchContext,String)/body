{
  try {
    Client client=getClient();
    DeleteByQueryRequestBuilder deleteByQueryRequestBuilder=client.prepareDeleteByQuery(String.valueOf(searchContext.getCompanyId()));
    BoolQueryBuilder boolQueryBuilder=QueryBuilders.boolQuery();
    boolQueryBuilder.must(QueryBuilders.termQuery(Field.PORTLET_ID,portletId));
    deleteByQueryRequestBuilder.setQuery(boolQueryBuilder);
    Future<DeleteByQueryResponse> future=deleteByQueryRequestBuilder.execute();
    DeleteByQueryResponse deleteByQueryResponse=future.get();
    LogUtil.logActionResponse(_log,deleteByQueryResponse);
  }
 catch (  Exception e) {
    throw new SearchException("Unable to delete data for portlet " + portletId,e);
  }
}
