{
  Group grandparentGroup=GroupTestUtil.addGroup();
  Group parentGroup=GroupTestUtil.addGroup(grandparentGroup.getGroupId(),StringUtil.randomString());
  _group=GroupTestUtil.addGroup(parentGroup.getGroupId(),StringUtil.randomString());
  _user=UserTestUtil.addGroupAdminUser(_group);
  if (!contentSharingWithChildrenEnabled) {
    setContentSharingWithChildrenEnabled(grandparentGroup,Sites.CONTENT_SHARING_WITH_CHILDREN_DISABLED);
    setContentSharingWithChildrenEnabled(parentGroup,Sites.CONTENT_SHARING_WITH_CHILDREN_DISABLED);
  }
  long[] groupIds=getSharedContentSiteGroupIds();
  Assert.assertEquals(contentSharingWithChildrenEnabled,ArrayUtil.contains(groupIds,grandparentGroup.getGroupId()));
  Assert.assertEquals(contentSharingWithChildrenEnabled,ArrayUtil.contains(groupIds,parentGroup.getGroupId()));
}
