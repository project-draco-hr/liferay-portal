{
  Group grandParentGroup=GroupTestUtil.addGroup();
  Group parentGroup=GroupTestUtil.addGroup(grandParentGroup.getGroupId(),StringUtil.randomString());
  _group=GroupTestUtil.addGroup(parentGroup.getGroupId(),StringUtil.randomString());
  _groupAdminUser=UserTestUtil.addGroupAdminUser(_group);
  if (!contentSharingWithChildrenEnabled) {
    _setContentSharingWithChildrenEnabled(grandParentGroup,Sites.CONTENT_SHARING_WITH_CHILDREN_DISABLED);
    _setContentSharingWithChildrenEnabled(parentGroup,Sites.CONTENT_SHARING_WITH_CHILDREN_DISABLED);
  }
  long[] groupIds=_getSharedContentSiteGroupIds();
  Assert.assertEquals(contentSharingWithChildrenEnabled,ArrayUtil.contains(groupIds,grandParentGroup.getGroupId()));
  Assert.assertEquals(contentSharingWithChildrenEnabled,ArrayUtil.contains(groupIds,parentGroup.getGroupId()));
}
