{
  if (item.getCategoryId() != categoryId) {
    ShoppingCategory oldCategory=shoppingCategoryPersistence.findByPrimaryKey(item.getCategoryId());
    ShoppingCategory newCategory=shoppingCategoryPersistence.fetchByPrimaryKey(categoryId);
    if ((newCategory == null) || (oldCategory.getGroupId() != newCategory.getGroupId())) {
      categoryId=item.getCategoryId();
    }
  }
  return shoppingCategoryPersistence.findByPrimaryKey(categoryId);
}
