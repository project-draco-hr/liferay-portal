{
  PortletConfig portletConfig=(PortletConfig)req.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
  PortletRequest portletRequest=(PortletRequest)req.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  PortletResponse portletResponse=(PortletResponse)req.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
  Boolean strutsExecute=(Boolean)req.getAttribute(WebKeys.PORTLET_STRUTS_EXECUTE);
  if ((strutsExecute != null) && strutsExecute.booleanValue()) {
    return strutsExecute(mapping,form,req,res);
  }
 else   if (portletRequest instanceof ResourceRequest) {
    serveResource(mapping,form,portletConfig,(ResourceRequest)portletRequest,(ResourceResponse)portletResponse);
    return mapping.findForward(ActionConstants.COMMON_NULL);
  }
 else {
    return render(mapping,form,portletConfig,(RenderRequest)portletRequest,(RenderResponse)portletResponse);
  }
}
