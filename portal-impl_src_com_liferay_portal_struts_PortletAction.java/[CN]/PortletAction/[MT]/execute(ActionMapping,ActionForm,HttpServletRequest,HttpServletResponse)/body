{
  PortletConfig portletConfig=(PortletConfig)request.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
  PortletRequest portletRequest=(PortletRequest)request.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  PortletResponse portletResponse=(PortletResponse)request.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
  Boolean strutsExecute=(Boolean)request.getAttribute(WebKeys.PORTLET_STRUTS_EXECUTE);
  if ((strutsExecute != null) && strutsExecute.booleanValue()) {
    return strutsExecute(actionMapping,actionForm,request,response);
  }
 else   if (portletRequest instanceof RenderRequest) {
    return render(actionMapping,actionForm,portletConfig,(RenderRequest)portletRequest,(RenderResponse)portletResponse);
  }
 else {
    if (portletRequest instanceof EventRequest) {
      processEvent(actionMapping,actionForm,portletConfig,(EventRequest)portletRequest,(EventResponse)portletResponse);
    }
 else {
      serveResource(actionMapping,actionForm,portletConfig,(ResourceRequest)portletRequest,(ResourceResponse)portletResponse);
    }
    return actionMapping.findForward(ActionConstants.COMMON_NULL);
  }
}
