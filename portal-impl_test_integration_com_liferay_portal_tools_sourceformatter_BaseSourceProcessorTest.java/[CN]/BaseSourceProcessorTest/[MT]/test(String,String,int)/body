{
  String fullFileName=_DIR_NAME + StringPool.SLASH + fileName;
  String[] result=_sourceFormatter.format(fullFileName);
  if (result == null) {
    return;
  }
  String actualErrorMessage=result[1];
  if (Validator.isNotNull(actualErrorMessage) || Validator.isNotNull(expectedErrorMessage)) {
    StringBundler sb=new StringBundler(5);
    sb.append(expectedErrorMessage);
    sb.append(StringPool.SPACE);
    sb.append(fullFileName);
    if (lineNumber > 0) {
      sb.append(StringPool.SPACE);
      sb.append(lineNumber);
    }
    Assert.assertEquals(sb.toString(),actualErrorMessage);
  }
 else {
    String actualFormattedContent=result[0];
    try {
      File file=new File(_DIR_NAME + "/expected/" + fileName);
      String expectedFormattedContent=FileUtil.read(file.getPath());
      Assert.assertEquals(expectedFormattedContent,actualFormattedContent);
    }
 catch (    FileNotFoundException fnfe) {
      Assert.fail();
    }
  }
}
