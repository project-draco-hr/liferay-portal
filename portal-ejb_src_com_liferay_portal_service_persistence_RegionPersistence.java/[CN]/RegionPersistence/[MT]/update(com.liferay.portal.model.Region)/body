{
  Session session=null;
  try {
    if (region.isNew() || region.isModified()) {
      session=openSession();
      if (region.isNew()) {
        RegionHBM regionHBM=new RegionHBM();
        regionHBM.setRegionId(region.getRegionId());
        regionHBM.setCountryId(region.getCountryId());
        regionHBM.setRegionCode(region.getRegionCode());
        regionHBM.setName(region.getName());
        regionHBM.setActive(region.getActive());
        session.save(regionHBM);
        session.flush();
      }
 else {
        RegionHBM regionHBM=(RegionHBM)session.get(RegionHBM.class,region.getPrimaryKey());
        if (regionHBM != null) {
          regionHBM.setCountryId(region.getCountryId());
          regionHBM.setRegionCode(region.getRegionCode());
          regionHBM.setName(region.getName());
          regionHBM.setActive(region.getActive());
          session.flush();
        }
 else {
          regionHBM=new RegionHBM();
          regionHBM.setRegionId(region.getRegionId());
          regionHBM.setCountryId(region.getCountryId());
          regionHBM.setRegionCode(region.getRegionCode());
          regionHBM.setName(region.getName());
          regionHBM.setActive(region.getActive());
          session.save(regionHBM);
          session.flush();
        }
      }
      region.setNew(false);
      region.setModified(false);
    }
    return region;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
