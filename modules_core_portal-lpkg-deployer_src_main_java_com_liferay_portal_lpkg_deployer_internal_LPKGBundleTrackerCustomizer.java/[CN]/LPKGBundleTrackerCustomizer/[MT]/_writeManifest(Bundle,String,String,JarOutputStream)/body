{
  Manifest manifest=new Manifest();
  Attributes attributes=manifest.getMainAttributes();
  attributes.putValue(Constants.BUNDLE_ACTIVATOR,WARBundleWrapperBundleActivator.class.getName());
  attributes.putValue(Constants.BUNDLE_MANIFESTVERSION,"2");
  attributes.putValue(Constants.BUNDLE_SYMBOLICNAME,bundle.getSymbolicName() + "-" + contextName+ "-wrapper");
  Version version=bundle.getVersion();
  attributes.putValue(Constants.BUNDLE_VERSION,version.toString());
  attributes.putValue(Constants.IMPORT_PACKAGE,_buildImportPackageString(BundleActivator.class,BundleStartLevel.class,ServiceTrackerCustomizer.class,LPKGWARBundleRegistry.class,URLConstants.class));
  attributes.putValue("Manifest-Version","2");
  attributes.putValue("Liferay-WAB-Context-Name",contextName);
  attributes.putValue("Liferay-WAB-LPKG-URL",lpkgURL);
  attributes.putValue("Liferay-WAB-Start-Level",String.valueOf(PropsValues.MODULE_FRAMEWORK_DYNAMIC_INSTALL_START_LEVEL));
  jarOutputStream.putNextEntry(new ZipEntry(JarFile.MANIFEST_NAME));
  manifest.write(jarOutputStream);
  jarOutputStream.closeEntry();
}
