{
  String displayStyleString=portletPreferences.getValue("displayStyle",null);
  if (Validator.isNull(displayStyleString)) {
    return;
  }
  int displayStyle=GetterUtil.getInteger(displayStyleString);
  if (displayStyle == LIST_ICON) {
    portletPreferences.setValue("displayStyle",PortletDisplayTemplateConstants.DISPLAY_STYLE_PREFIX + "language-icon-ftl");
  }
 else   if (displayStyle == LIST_LONG_TEXT) {
    portletPreferences.setValue("displayStyle",PortletDisplayTemplateConstants.DISPLAY_STYLE_PREFIX + "language-long-text-ftl");
  }
 else   if (displayStyle == LIST_SHORT_TEXT) {
    portletPreferences.setValue("displayStyle",PortletDisplayTemplateConstants.DISPLAY_STYLE_PREFIX + "language-short-text-ftl");
  }
 else   if (displayStyle == SELECT_BOX) {
    portletPreferences.setValue("displayStyle",PortletDisplayTemplateConstants.DISPLAY_STYLE_PREFIX + "language-select-box-ftl");
  }
 else {
    portletPreferences.reset("displayStyle");
    if (_log.isWarnEnabled()) {
      _log.warn("Display styles for languages are deprecated in favor of " + "application display templates");
    }
  }
}
