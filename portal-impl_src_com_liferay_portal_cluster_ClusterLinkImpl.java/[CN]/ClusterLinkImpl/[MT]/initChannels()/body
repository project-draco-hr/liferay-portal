{
  Properties properties=PropsUtil.getProperties(PropsKeys.CLUSTER_LINK_CHANNEL_PROPERTIES,true);
  _channelCount=properties.size();
  if ((_channelCount <= 0) || (_channelCount > _MAX_CHANNEL_COUNT)) {
    throw new IllegalArgumentException("Channel count must be between 1 and " + _MAX_CHANNEL_COUNT);
  }
  _addresses=new ArrayList<org.jgroups.Address>(_channelCount);
  _channels=new ArrayList<JChannel>(_channelCount);
  List<String> keys=new ArrayList<String>(_channelCount);
  for (  Object key : properties.keySet()) {
    keys.add((String)key);
  }
  Collections.sort(keys);
  for (int i=0; i < keys.size(); i++) {
    String customName=keys.get(i);
    String value=properties.getProperty(customName);
    JChannel channel=createChannel(i,value);
    _addresses.add(channel.getLocalAddress());
    _channels.add(channel);
  }
}
