{
  Future<ObjectValuePair<byte[],byte[]>> future=ProcessUtil.execute(ProcessUtil.COLLECTOR_OUTPUT_PROCESSOR,"jps");
  ObjectValuePair<byte[],byte[]> objectValuePair=future.get();
  String stdOutString=new String(objectValuePair.getKey());
  if (!stdOutString.contains(String.valueOf(processId))) {
    throw new IllegalStateException("JPS cannot detect expected process ID " + processId);
  }
  byte[] stdErrBytes=objectValuePair.getValue();
  if (stdErrBytes.length != 0) {
    throw new IllegalStateException("JPS returns with error: " + new String(stdErrBytes));
  }
}
