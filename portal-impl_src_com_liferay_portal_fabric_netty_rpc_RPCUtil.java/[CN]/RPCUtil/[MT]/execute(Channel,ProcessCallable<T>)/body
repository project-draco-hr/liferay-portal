{
  final AsyncBroker<Long,T> asyncBroker=NettyChannelAttributes.getAsyncBroker(channel);
  final long id=NettyChannelAttributes.nextId(channel);
  NoticeableFuture<T> noticeableFuture=asyncBroker.post(id);
  ChannelFuture channelFuture=channel.writeAndFlush(new RPCRequest<T>(id,processCallable));
  channelFuture.addListener(new ChannelFutureListener(){
    @Override public void operationComplete(    ChannelFuture channelFuture){
      if (channelFuture.isSuccess()) {
        return;
      }
      if (!asyncBroker.takeWithException(id,channelFuture.cause())) {
        _log.error("No match key : " + id + " for rpc response exception",channelFuture.cause());
      }
    }
  }
);
  return noticeableFuture;
}
