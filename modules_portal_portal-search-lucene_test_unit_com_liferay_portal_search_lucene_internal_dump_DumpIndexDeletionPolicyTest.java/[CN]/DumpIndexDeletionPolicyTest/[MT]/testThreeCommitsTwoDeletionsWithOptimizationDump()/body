{
  _addDocument("name","test1");
  _addDocument("name","test2");
  _addDocument("name","test3");
  _deleteDocument("name","test2");
  _deleteDocument("name","test3");
  _indexWriter.commit();
  _assertHits(_sourceDirectory,"name","test1",1);
  _assertHits(_sourceDirectory,"name","test2",0);
  _assertHits(_sourceDirectory,"name","test3",0);
  _assertHits(_sourceDirectory,"name","test4",0);
  Directory targetDirectory=_dumpToTargetDirectory(_indexWriter);
  _assertDirectory(_sourceDirectory,targetDirectory);
  _assertHits(targetDirectory,"name","test1",1);
  _assertHits(targetDirectory,"name","test2",0);
  _assertHits(targetDirectory,"name","test3",0);
  _assertHits(targetDirectory,"name","test4",0);
  _indexWriter.close();
}
