{
  List<EmailAddress> emailAddresses=new ArrayList<EmailAddress>();
  int[] emailAddressIndexes=StringUtil.split(ParamUtil.getString(actionRequest,"emailAddressIndexes"),0);
  int emailAddressPrimary=ParamUtil.getInteger(actionRequest,"emailAddressPrimary");
  for (  int emailAddressIndex : emailAddressIndexes) {
    long emailAddressId=ParamUtil.getLong(actionRequest,"emailAddressId" + emailAddressIndex);
    String address=ParamUtil.getString(actionRequest,"emailAddressAddress" + emailAddressIndex);
    if (Validator.isNull(address)) {
      continue;
    }
    int typeId=ParamUtil.getInteger(actionRequest,"emailAddressTypeId" + emailAddressIndex);
    boolean primary=false;
    if (emailAddressIndex == emailAddressPrimary) {
      primary=true;
    }
    EmailAddress emailAddress=new EmailAddressImpl();
    emailAddress.setEmailAddressId(emailAddressId);
    emailAddress.setAddress(address);
    emailAddress.setTypeId(typeId);
    emailAddress.setPrimary(primary);
    emailAddresses.add(emailAddress);
  }
  return emailAddresses;
}
