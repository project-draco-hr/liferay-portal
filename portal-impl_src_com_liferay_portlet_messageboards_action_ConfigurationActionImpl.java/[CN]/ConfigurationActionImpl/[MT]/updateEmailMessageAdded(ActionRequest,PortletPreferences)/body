{
  boolean emailMessageAddedEnabled=ParamUtil.getBoolean(actionRequest,"emailMessageAddedEnabled");
  String emailMessageAddedSubjectPrefix=ParamUtil.getString(actionRequest,"emailMessageAddedSubjectPrefix");
  String emailMessageAddedBody=ParamUtil.getString(actionRequest,"emailMessageAddedBody");
  String emailMessageAddedSignature=ParamUtil.getString(actionRequest,"emailMessageAddedSignature");
  if (Validator.isNull(emailMessageAddedSubjectPrefix)) {
    SessionErrors.add(actionRequest,"emailMessageAddedSubjectPrefix");
  }
 else   if (Validator.isNull(emailMessageAddedBody)) {
    SessionErrors.add(actionRequest,"emailMessageAddedBody");
  }
 else {
    preferences.setValue("email-message-added-enabled",String.valueOf(emailMessageAddedEnabled));
    preferences.setValue("email-message-added-subject-prefix",emailMessageAddedSubjectPrefix);
    preferences.setValue("email-message-added-body",emailMessageAddedBody);
    preferences.setValue("email-message-added-signature",emailMessageAddedSignature);
  }
}
