{
  String emailFromName=ParamUtil.getString(actionRequest,"emailFromName");
  String emailFromAddress=ParamUtil.getString(actionRequest,"emailFromAddress");
  boolean emailHtmlFormat=ParamUtil.getBoolean(actionRequest,"emailHtmlFormat");
  if (Validator.isNull(emailFromName)) {
    SessionErrors.add(actionRequest,"emailFromName");
  }
 else   if (!Validator.isEmailAddress(emailFromAddress) && !Validator.isVariableTerm(emailFromAddress)) {
    SessionErrors.add(actionRequest,"emailFromAddress");
  }
 else {
    preferences.setValue("email-from-name",emailFromName);
    preferences.setValue("email-from-address",emailFromAddress);
    preferences.setValue("email-html-format",String.valueOf(emailHtmlFormat));
  }
}
