{
  Locale[] locales=LanguageUtil.getAvailableLocales();
  for (int i=0; i < locales.length; i++) {
    String languageId=LocaleUtil.toLanguageId(locales[i]);
    String[] ranks=StringUtil.split(ParamUtil.getString(req,"ranks_" + languageId),StringPool.NEW_LINE);
    Map map=new TreeMap();
    for (int j=0; j < ranks.length; j++) {
      String[] kvp=StringUtil.split(ranks[j],StringPool.EQUAL);
      String kvpName=kvp[0];
      String kvpValue=kvp[1];
      map.put(kvpValue,kvpName);
    }
    ranks=new String[map.size()];
    int count=0;
    Iterator itr=map.entrySet().iterator();
    while (itr.hasNext()) {
      Map.Entry entry=(Map.Entry)itr.next();
      String kvpValue=(String)entry.getKey();
      String kvpName=(String)entry.getValue();
      ranks[count++]=kvpName + StringPool.EQUAL + kvpValue;
    }
    LocalizationUtil.setPrefsValues(prefs,"ranks",languageId,ranks);
  }
}
