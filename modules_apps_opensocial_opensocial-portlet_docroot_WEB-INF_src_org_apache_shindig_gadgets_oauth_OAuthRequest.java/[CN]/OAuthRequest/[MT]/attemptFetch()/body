{
  if (needApproval()) {
    checkCanApprove();
    fetchRequestToken();
    buildClientApprovalState();
    buildAznUrl();
    return new HttpResponseBuilder().setHttpStatusCode(HttpResponse.SC_OK).setStrictNoCache();
  }
 else   if (needAccessToken()) {
    checkCanApprove();
    exchangeRequestToken();
    saveAccessToken();
    buildClientAccessState();
  }
  return fetchData();
}
