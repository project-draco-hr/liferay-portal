{
  HashMap<Long,Fields> fieldsMap=new HashMap<Long,Fields>();
  DLFileEntryType fileEntryType=dlFileEntryTypeLocalService.getFileEntryType(fileEntryTypeId);
  List<DDMStructure> ddmStructures=fileEntryType.getDDMStructures();
  for (  DDMStructure ddmStructure : ddmStructures) {
    DLFileEntryMetadata dlFileEntryMetadata=dlFileEntryMetadataLocalService.getFileEntryMetadata(ddmStructure.getStructureId(),fileVersionId);
    Fields fields=StorageEngineUtil.getFields(dlFileEntryMetadata.getDDMStorageId());
    fieldsMap.put(ddmStructure.getStructureId(),fields);
  }
  return fieldsMap;
}
