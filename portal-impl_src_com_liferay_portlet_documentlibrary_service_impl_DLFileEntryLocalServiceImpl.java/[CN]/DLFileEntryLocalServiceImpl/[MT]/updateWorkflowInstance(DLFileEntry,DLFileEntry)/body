{
  List<WorkflowInstanceLink> workflowInstanceLinks=workflowInstanceLinkLocalService.getWorkflowInstanceLinks(fileEntry.getCompanyId(),fileEntry.getGroupId(),DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  for (  WorkflowInstanceLink workflowInstanceLink : workflowInstanceLinks) {
    WorkflowInstance workflowInstance=WorkflowInstanceManagerUtil.getWorkflowInstance(workflowInstanceLink.getCompanyId(),workflowInstanceLink.getWorkflowInstanceId());
    Map<String,Serializable> newContext=new HashMap<String,Serializable>();
    newContext.putAll(workflowInstance.getContext());
    newContext.put(ContextConstants.ENTRY_CLASS_PK,newFileEntry.getFileEntryId());
    WorkflowInstanceManagerUtil.updateContext(workflowInstanceLink.getCompanyId(),workflowInstanceLink.getWorkflowInstanceId(),newContext);
    workflowInstanceLink.setClassPK(newFileEntry.getFileEntryId());
    workflowInstanceLinkPersistence.update(workflowInstanceLink,false);
  }
}
