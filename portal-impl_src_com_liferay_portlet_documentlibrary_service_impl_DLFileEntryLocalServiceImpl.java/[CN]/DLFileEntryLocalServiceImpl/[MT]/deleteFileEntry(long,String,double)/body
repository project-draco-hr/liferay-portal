{
  DLFileEntry fileEntry=DLFileEntryUtil.findByF_N(folderId,name);
  if (version > 0) {
    try {
      DLServiceUtil.deleteFile(fileEntry.getCompanyId(),PortletKeys.DOCUMENT_LIBRARY,fileEntry.getFolderId(),fileEntry.getName(),version);
    }
 catch (    RemoteException re) {
      throw new SystemException(re);
    }
    DLFileVersionUtil.removeByF_N_V(folderId,name,version);
  }
 else {
    deleteFileEntry(fileEntry);
  }
}
