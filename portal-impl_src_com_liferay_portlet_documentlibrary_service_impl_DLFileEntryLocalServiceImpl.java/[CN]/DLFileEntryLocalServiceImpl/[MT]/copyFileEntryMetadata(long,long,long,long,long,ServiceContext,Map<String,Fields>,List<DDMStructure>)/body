{
  for (  DDMStructure ddmStructure : ddmStructures) {
    DLFileEntryMetadata dlFileEntryMetadata=dlFileEntryMetadataLocalService.fetchFileEntryMetadata(ddmStructure.getStructureId(),fromFileVersionId);
    if (dlFileEntryMetadata == null) {
      continue;
    }
    Fields fields=StorageEngineUtil.getFields(dlFileEntryMetadata.getDDMStorageId());
    fieldsMap.put(ddmStructure.getStructureKey(),fields);
  }
  if (!fieldsMap.isEmpty()) {
    dlFileEntryMetadataLocalService.updateFileEntryMetadata(companyId,ddmStructures,fileEntryTypeId,fileEntryId,toFileVersionId,fieldsMap,serviceContext);
  }
}
