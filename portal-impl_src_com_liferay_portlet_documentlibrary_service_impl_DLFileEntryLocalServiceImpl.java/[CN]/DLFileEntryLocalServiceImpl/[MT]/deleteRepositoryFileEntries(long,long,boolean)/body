{
  int count=dlFileEntryPersistence.countByR_F(repositoryId,folderId);
  int pages=count / _DELETE_INTERVAL;
  for (int i=0; i <= pages; i++) {
    int start=(i * _DELETE_INTERVAL);
    int end=start + _DELETE_INTERVAL;
    List<DLFileEntry> dlFileEntries=dlFileEntryPersistence.findByR_F(repositoryId,folderId,start,end);
    for (    DLFileEntry dlFileEntry : dlFileEntries) {
      if (includeTrashedEntries || !dlFileEntry.isInTrashExplicitly()) {
        dlFileEntryLocalService.deleteFileEntry(dlFileEntry);
      }
    }
  }
}
