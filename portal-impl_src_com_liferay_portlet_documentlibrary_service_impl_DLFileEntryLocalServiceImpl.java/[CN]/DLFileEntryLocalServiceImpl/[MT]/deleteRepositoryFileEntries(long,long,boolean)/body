{
  final int count=dlFileEntryPersistence.countByR_F(repositoryId,folderId);
  final IndexerInterval indexerIntervalInstance=new IndexerInterval();
  indexerIntervalInstance.setPerformActionMethod(new IndexerInterval.PerformIntervalActionMethod(){
    @Override public void performIntervalAction(    int start,    int end) throws PortalException {
      List<DLFileEntry> dlFileEntries=dlFileEntryPersistence.findByR_F(repositoryId,folderId,start,end);
      for (      DLFileEntry dlFileEntry : dlFileEntries) {
        if (includeTrashedEntries || !dlFileEntry.isInTrashExplicitly()) {
          dlFileEntryLocalService.deleteFileEntry(dlFileEntry);
        }
 else {
          indexerIntervalInstance.incrementStart();
        }
      }
    }
  }
);
  indexerIntervalInstance.setCount(count);
  indexerIntervalInstance.performInterval();
}
