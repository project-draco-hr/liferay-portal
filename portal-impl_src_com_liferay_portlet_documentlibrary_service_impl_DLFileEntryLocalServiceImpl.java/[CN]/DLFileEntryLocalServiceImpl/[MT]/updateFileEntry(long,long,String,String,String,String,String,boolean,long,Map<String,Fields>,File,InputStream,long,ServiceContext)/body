{
  DLFileEntry dlFileEntry=dlFileEntryPersistence.findByPrimaryKey(fileEntryId);
  String extension=DLAppUtil.getExtension(title,sourceFileName);
  String extraSettings=StringPool.BLANK;
  if (fileEntryTypeId == -1) {
    fileEntryTypeId=dlFileEntry.getFileEntryTypeId();
  }
  validateFileEntryTypeId(PortalUtil.getCurrentAndAncestorSiteGroupIds(dlFileEntry.getGroupId()),dlFileEntry.getFolderId(),fileEntryTypeId);
  return updateFileEntry(userId,fileEntryId,sourceFileName,extension,mimeType,title,description,changeLog,majorVersion,extraSettings,fileEntryTypeId,fieldsMap,file,is,size,serviceContext);
}
