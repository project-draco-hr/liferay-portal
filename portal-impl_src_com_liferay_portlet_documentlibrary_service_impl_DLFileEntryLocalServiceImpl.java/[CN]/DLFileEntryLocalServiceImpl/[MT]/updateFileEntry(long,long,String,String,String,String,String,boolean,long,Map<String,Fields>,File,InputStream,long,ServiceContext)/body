{
  DLFileEntry dlFileEntry=dlFileEntryPersistence.findByPrimaryKey(fileEntryId);
  String extension=DLAppUtil.getExtension(title,sourceFileName);
  String extraSettings=StringPool.BLANK;
  if (fileEntryTypeId == 0) {
    fileEntryTypeId=dlFileEntry.getFileEntryTypeId();
  }
  fileEntryTypeId=getFileEntryTypeId(PortalUtil.getSiteAndCompanyGroupIds(dlFileEntry.getGroupId()),dlFileEntry.getFolderId(),fileEntryTypeId);
  return updateFileEntry(userId,fileEntryId,sourceFileName,extension,mimeType,title,description,changeLog,majorVersion,extraSettings,fileEntryTypeId,fieldsMap,file,is,size,serviceContext);
}
