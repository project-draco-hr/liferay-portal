{
  if (SearchEngineUtil.isIndexReadOnly()) {
    return;
  }
  DLFileEntry fileEntry=dlFileEntryPersistence.fetchByPrimaryKey(fileEntryId);
  if (fileEntry == null) {
    return;
  }
  DLFolder folder=fileEntry.getFolder();
  long companyId=fileEntry.getCompanyId();
  String portletId=PortletKeys.DOCUMENT_LIBRARY;
  long groupId=folder.getGroupId();
  long folderId=folder.getFolderId();
  String fileName=fileEntry.getName();
  String properties=fileEntry.getLuceneProperties();
  Date modifiedDate=fileEntry.getModifiedDate();
  String[] tagsCategories=tagsEntryLocalService.getEntryNames(DLFileEntry.class.getName(),fileEntryId,TagsEntryConstants.FOLKSONOMY_CATEGORY);
  String[] tagsEntries=tagsEntryLocalService.getEntryNames(DLFileEntry.class.getName(),fileEntryId);
  try {
    Indexer.updateFile(companyId,portletId,groupId,folderId,fileName,fileEntryId,properties,modifiedDate,tagsCategories,tagsEntries);
  }
 catch (  SearchException se) {
    _log.error("Reindexing " + fileEntryId,se);
  }
}
