{
  DLFileVersion fileVersion=dlFileVersionLocalService.getFileVersion(fileEntry.getGroupId(),fileEntry.getFolderId(),fileEntry.getName(),fileEntry.getPendingVersion());
  fileVersion.setDescription(description);
  fileVersion.setVersion(version);
  fileVersion.setSize(fileEntry.getSize());
  fileVersion.setStatus(status);
  fileVersion.setStatusByUserId(user.getUserId());
  fileVersion.setStatusByUserName(user.getFullName());
  fileVersion.setStatusDate(modifiedDate);
  dlFileVersionPersistence.update(fileVersion,false);
  try {
    dlService.deleteFile(user.getCompanyId(),PortletKeys.DOCUMENT_LIBRARY,fileEntry.getRepositoryId(),fileEntry.getName(),fileEntry.getPendingVersion());
  }
 catch (  NoSuchFileException nsfe) {
  }
}
