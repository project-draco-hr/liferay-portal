{
  Set<Object> taskDependencies=task.getDependsOn();
  Set<Object> skippedTaskDependencies=taskCache.getSkippedTaskDependencies();
  if (skippedTaskDependencies.isEmpty()) {
    taskDependencies.clear();
    if (_logger.isInfoEnabled()) {
      _logger.info("Removed all dependencies from " + task);
    }
  }
 else {
    for (    Object taskDependency : skippedTaskDependencies) {
      boolean removed=taskDependencies.remove(taskDependency);
      if (!removed && (taskDependency instanceof Task)) {
        Task taskDependencyTask=(Task)taskDependency;
        removed=taskDependencies.remove(taskDependencyTask.getName());
      }
      if (removed) {
        if (_logger.isInfoEnabled()) {
          _logger.info("Removed dependency " + taskDependency + " from "+ task);
        }
      }
 else       if (_logger.isWarnEnabled()) {
        _logger.warn("Unable to remove skipped task dependency " + taskDependency);
      }
    }
  }
}
