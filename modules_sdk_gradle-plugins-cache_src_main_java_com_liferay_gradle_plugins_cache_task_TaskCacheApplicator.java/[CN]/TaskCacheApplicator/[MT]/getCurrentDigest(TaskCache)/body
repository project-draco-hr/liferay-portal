{
  Clock clock=null;
  if (_logger.isInfoEnabled()) {
    clock=new Clock();
  }
  StringBuilder sb=new StringBuilder();
  for (  File testFile : taskCache.getTestFiles()) {
    if (!testFile.exists()) {
      continue;
    }
    if (testFile.isDirectory()) {
      Iterable<File> files;
      try {
        files=FileUtil.getFiles(testFile);
      }
 catch (      IOException ioe) {
        throw new GradleException("Unable to get files in " + testFile,ioe);
      }
      for (      File file : files) {
        sb.append(FileUtil.getDigest(file));
        sb.append(_DIGEST_SEPARATOR);
      }
    }
 else {
      sb.append(FileUtil.getDigest(testFile));
      sb.append(_DIGEST_SEPARATOR);
    }
  }
  if (sb.length() == 0) {
    throw new GradleException("At least one test file is required");
  }
  sb.setLength(sb.length() - 1);
  if (_logger.isInfoEnabled() && (clock != null)) {
    _logger.info("Getting the current digest took " + clock.getTimeInMs() + " ms");
  }
  return sb.toString();
}
