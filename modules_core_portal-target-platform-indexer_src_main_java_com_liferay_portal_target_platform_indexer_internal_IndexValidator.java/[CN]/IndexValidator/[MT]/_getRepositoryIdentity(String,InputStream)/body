{
  XMLInputFactory xmlInputFactory=XMLInputFactory.newInstance();
  xmlInputFactory.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE,false);
  xmlInputFactory.setProperty(XMLInputFactory.IS_REPLACING_ENTITY_REFERENCES,false);
  xmlInputFactory.setProperty(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES,false);
  XMLStreamReader xmlStreamReader=xmlInputFactory.createXMLStreamReader(inputStream);
  try {
    while (xmlStreamReader.hasNext()) {
      int eventType=xmlStreamReader.next();
      if ((eventType == XMLStreamConstants.START_ELEMENT) && xmlStreamReader.getLocalName().equals("repository")) {
        return xmlStreamReader.getAttributeValue(null,"name");
      }
    }
    return path;
  }
  finally {
    xmlStreamReader.close();
  }
}
