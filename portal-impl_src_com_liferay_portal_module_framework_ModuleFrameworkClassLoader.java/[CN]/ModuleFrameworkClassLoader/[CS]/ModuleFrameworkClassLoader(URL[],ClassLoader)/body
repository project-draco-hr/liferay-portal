{
  super(urls,parent);
  Field stateField=null;
  Object startedState=null;
  try {
    Class<?> clazz=parent.getClass();
    ClassLoader classLoader=clazz.getClassLoader();
    Class<?> lifecycleStateClass=classLoader.loadClass("org.apache.catalina.LifecycleState");
    Method valueOfMethod=lifecycleStateClass.getMethod("valueOf",String.class);
    startedState=valueOfMethod.invoke(null,"STARTED");
    Class<?> WebappClassLoaderBaseClass=classLoader.loadClass("org.apache.catalina.loader.WebappClassLoaderBase");
    stateField=ReflectionUtil.getDeclaredField(WebappClassLoaderBaseClass,"state");
  }
 catch (  Exception e) {
    startedState=null;
    stateField=null;
  }
  _startedState=startedState;
  _stateField=stateField;
}
