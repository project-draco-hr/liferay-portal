{
  long userId=42;
  String blogName="This is a blog";
  long groupId=16;
  String className=BlogsEntry.class.getName();
  long classPK=142857;
  String title="This is a title";
  _mockOriginalServletRequest.setParameter("blog_name",blogName);
  _mockOriginalServletRequest.setParameter("title",title);
  _mockOriginalServletRequest.setParameter("excerpt","This is an excerpt");
  when(_userLocalService.getDefaultUserId(anyLong())).thenReturn(userId);
  when(_blogsEntry.getGroupId()).thenReturn(groupId);
  when(_blogsEntry.getEntryId()).thenReturn(classPK);
  when(_blogsEntry.getUrlTitle()).thenReturn("__UrlTitle__");
  when(_language.get((Locale)any(),eq("read-more"))).thenReturn("Read more");
  when(_portal.getLayoutFullURL(_themeDisplay)).thenReturn("__LayoutFullURL__");
  when(_trackbackComments.addTrackbackComment(anyLong(),anyLong(),anyString(),anyLong(),anyString(),anyString(),anyString(),(PortletRequest)any())).thenReturn(99999L);
  initValidUrl();
  addTrackback();
  assertSuccess();
  verify(_trackbackComments).addTrackbackComment(eq(userId),eq(groupId),eq(className),eq(classPK),eq(blogName),eq(title),eq("[...] This is an excerpt [...] [url=__url__]Read more[/url]"),(PortletRequest)any());
  assertEquals("[99999, __url__, __LayoutFullURL__/-/blogs/__UrlTitle__]",_trackback);
}
