{
  try (LoggingTimer loggingTimer=new LoggingTimer(className)){
    if (_log.isDebugEnabled()) {
      _log.debug("Upgrading " + tableName);
    }
    long classNameId=PortalUtil.getClassNameId(className);
    try (PreparedStatement ps=connection.prepareStatement("select * from ExpandoTable where classNameId = ? and " + "name = ?")){
      ps.setLong(1,classNameId);
      ps.setString(2,ExpandoTableConstants.DEFAULT_TABLE_NAME);
      try (ResultSet rs=ps.executeQuery()){
        while (rs.next()) {
          long tableId=rs.getLong("tableId");
          updateRows(tableName,tableId,columnName);
        }
      }
     }
   }
 }
