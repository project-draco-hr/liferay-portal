{
  String path=getRecordSetPath(portletDataContext,recordSet);
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element recordSetElement=recordSetsElement.addElement("record-set");
  portletDataContext.addClassedModel(recordSetElement,path,recordSet,NAMESPACE);
  Element ddmStructuresElement=recordSetElement.addElement("ddm-structures");
  DDMStructure ddmStructure=recordSet.getDDMStructure();
  DDMPortletDataHandler.exportStructure(portletDataContext,ddmStructuresElement,ddmStructure);
  Element ddmTemplatesElement=recordSetElement.addElement("ddm-templates");
  List<DDMTemplate> ddmTemplates=ddmStructure.getTemplates();
  for (  DDMTemplate ddmTemplate : ddmTemplates) {
    DDMPortletDataHandler.exportTemplate(portletDataContext,ddmTemplatesElement,ddmTemplate);
  }
}
