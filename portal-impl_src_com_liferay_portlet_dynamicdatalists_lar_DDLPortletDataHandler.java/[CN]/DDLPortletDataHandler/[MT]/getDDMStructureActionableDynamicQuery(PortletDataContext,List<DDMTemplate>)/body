{
  return new DDMStructureExportActionableDynamicQuery(portletDataContext){
    @Override protected void addCriteria(    DynamicQuery dynamicQuery){
      super.addCriteria(dynamicQuery);
      Property classNameIdProperty=PropertyFactoryUtil.forName("classNameId");
      long classNameId=PortalUtil.getClassNameId(DDLRecordSet.class);
      dynamicQuery.add(classNameIdProperty.eq(classNameId));
    }
    @Override protected StagedModelType getStagedModelType(){
      return new StagedModelType(DDMStructure.class.getName(),DDLRecordSet.class.getName());
    }
    @Override protected void performAction(    Object object) throws PortalException {
      DDMStructure ddmStructure=(DDMStructure)object;
      StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,ddmStructure);
      try {
        ddmTemplates.addAll(ddmStructure.getTemplates());
      }
 catch (      SystemException se) {
      }
    }
  }
;
}
