{
  DiscussionRequestHelper discussionRequestHelper=new DiscussionRequestHelper(request);
  DiscussionTaglibHelper discussionTaglibHelper=new DiscussionTaglibHelper(request);
  CommentSectionDisplayContext commentSectionDisplayContext=new DefaultCommentSectionDisplayContext(discussionRequestHelper,discussionTaglibHelper,discussionPermission,discussion);
  for (  CommentDisplayContextFactory commentDisplayContextFactory : getDisplayContextFactories()) {
    commentSectionDisplayContext=commentDisplayContextFactory.getCommentSectionDisplayContext(commentSectionDisplayContext,request,response,discussionPermission,discussion);
  }
  return commentSectionDisplayContext;
}
