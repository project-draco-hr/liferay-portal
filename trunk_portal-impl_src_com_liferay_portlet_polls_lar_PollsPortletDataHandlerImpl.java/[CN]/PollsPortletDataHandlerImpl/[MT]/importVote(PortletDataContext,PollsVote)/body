{
  long userId=portletDataContext.getUserId(vote.getUserUuid());
  Map<Long,Long> questionPKs=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(PollsQuestion.class);
  long questionId=MapUtil.getLong(questionPKs,vote.getQuestionId(),vote.getQuestionId());
  Map<Long,Long> choicePKs=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(PollsChoice.class);
  long choiceId=MapUtil.getLong(choicePKs,vote.getChoiceId(),vote.getChoiceId());
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setCreateDate(vote.getVoteDate());
  PollsVoteLocalServiceUtil.addVote(userId,questionId,choiceId,serviceContext);
}
