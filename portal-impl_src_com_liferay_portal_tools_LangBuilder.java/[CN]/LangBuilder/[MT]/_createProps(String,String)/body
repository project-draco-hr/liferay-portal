{
  File propsFile=new File(_langDir + "/" + _langFile+ "_"+ languageId+ ".properties");
  Properties props=new Properties();
  if (propsFile.exists()) {
    props.load(new FileInputStream(propsFile));
  }
  File nativePropsFile=new File(_langDir + "/" + _langFile+ "_"+ languageId+ ".properties.native");
  Properties nativeProps=new Properties();
  if (nativePropsFile.exists()) {
    nativeProps.load(new FileInputStream(nativePropsFile));
  }
  String translationId="en_" + languageId;
  if (translationId.equals("en_pt_BR")) {
    translationId="en_pt";
  }
 else   if (translationId.equals("en_pt_PT")) {
    translationId="en_pt";
  }
 else   if (translationId.equals("en_zh_CN")) {
    translationId="en_zh";
  }
 else   if (translationId.equals("en_zh_TW")) {
    translationId="en_zt";
  }
  BufferedReader br=new BufferedReader(new StringReader(content));
  BufferedWriter bw=new BufferedWriter(new FileWriter(nativePropsFile));
  String line=null;
  while ((line=br.readLine()) != null) {
    line=line.trim();
    int pos=line.indexOf("=");
    if (pos != -1) {
      String key=line.substring(0,pos);
      String value=line.substring(pos + 1,line.length());
      String translatedText=props.getProperty(key);
      if ((translatedText != null) && ((translatedText.indexOf("Babel Fish") != -1) || (translatedText.indexOf("Yahoo! - 999") != -1))) {
        translatedText="";
      }
      if ((translatedText == null) || translatedText.equals("")) {
        if (line.indexOf("{") != -1 || line.indexOf("<") != -1) {
          translatedText=value;
        }
 else         if (key.equals("lang.dir")) {
          translatedText="ltr";
        }
 else         if (key.equals("lang.line.begin")) {
          translatedText="left";
        }
 else         if (key.equals("lang.line.end")) {
          translatedText="right";
        }
 else {
          translatedText=_translate(translationId,value,0);
        }
      }
      if (Validator.isNotNull(translatedText)) {
        if (translatedText.indexOf("&#39;") != -1) {
          translatedText=StringUtil.replace(translatedText,"&#39;","\'");
        }
        bw.write(key + "=" + translatedText);
        bw.newLine();
        bw.flush();
      }
 else       if (nativeProps.containsKey(key)) {
        bw.write(key + "=");
        bw.newLine();
        bw.flush();
      }
    }
 else {
      bw.write(line);
      bw.newLine();
      bw.flush();
    }
  }
  br.close();
  bw.close();
}
