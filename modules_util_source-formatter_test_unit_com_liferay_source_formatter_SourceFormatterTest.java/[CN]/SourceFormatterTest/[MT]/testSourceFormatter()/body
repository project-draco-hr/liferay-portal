{
  SourceFormatterArgs sourceFormatterArgs=new SourceFormatterArgs();
  sourceFormatterArgs.setAutoFix(false);
  sourceFormatterArgs.setBaseDirName("../../../");
  sourceFormatterArgs.setPrintErrors(false);
  sourceFormatterArgs.setThrowException(true);
  sourceFormatterArgs.setUseProperties(false);
  SourceFormatter sourceFormatter=new SourceFormatter(sourceFormatterArgs);
  try {
    sourceFormatter.format();
  }
 catch (  SourceMismatchException sme) {
    try {
      Assert.assertEquals(sme.getFileName(),sme.getFormattedSource(),sme.getOriginalSource());
    }
 catch (    AssertionError ae) {
      String message=ae.getMessage();
      if (message.length() < 10000) {
        throw ae;
      }
      throw new Exception(sme.getFileName());
    }
  }
}
