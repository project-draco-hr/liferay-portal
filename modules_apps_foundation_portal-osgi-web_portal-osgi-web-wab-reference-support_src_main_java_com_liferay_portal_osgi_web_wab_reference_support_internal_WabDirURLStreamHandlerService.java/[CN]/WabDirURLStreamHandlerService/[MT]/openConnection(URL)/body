{
  try {
    URI filePath=new URI(url.getPath());
    File warDir=new File(filePath);
    String contextName=HttpUtil.getParameter(url.toExternalForm(),"Web-ContextPath");
    if (contextName == StringPool.BLANK) {
      contextName=detectContextNameFromFilePath(warDir);
    }
    if (contextName == StringPool.BLANK) {
      contextName=detectContextNameFromDescriptor(warDir);
    }
    if (contextName == StringPool.BLANK) {
      throw new IllegalArgumentException("Could not determine contextName from url " + url);
    }
    Map<String,String[]> parameters=new HashMap<>();
    String[] webContextPath={contextName};
    parameters.put("Web-ContextPath",webContextPath);
    _wabGenerator.generate(_classLoader,warDir,parameters);
    URL wabDirURL=warDir.toURI().toURL();
    WabDirHandler wabDirHandler=new WabDirHandler(wabDirURL.toExternalForm());
    return wabDirHandler.openConnection(url);
  }
 catch (  IOException|URISyntaxException e) {
  }
  return null;
}
