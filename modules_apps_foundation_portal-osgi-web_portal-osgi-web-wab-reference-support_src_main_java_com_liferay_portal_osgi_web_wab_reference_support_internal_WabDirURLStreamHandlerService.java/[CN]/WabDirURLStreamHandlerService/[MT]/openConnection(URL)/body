{
  try {
    String contextName=HttpUtil.getParameter(url.toExternalForm(),"Web-ContextPath");
    URI uri=new URI(url.getPath());
    File warDir=new File(uri);
    if (contextName == StringPool.BLANK) {
      contextName=_getContextNameFromFilePath(warDir);
    }
    if (contextName == StringPool.BLANK) {
      contextName=_getContextNameFromDescriptor(warDir);
    }
    if (contextName == StringPool.BLANK) {
      throw new IllegalArgumentException("Could not determine contextName from url " + url);
    }
    Map<String,String[]> parameters=new HashMap<>();
    parameters.put("Web-ContextPath",new String[]{contextName});
    _wabGenerator.generate(_classLoader,warDir,parameters);
    uri=warDir.toURI();
    URL wabDirURL=uri.toURL();
    WabDirHandler wabDirHandler=new WabDirHandler(wabDirURL.toExternalForm());
    return wabDirHandler.openConnection(url);
  }
 catch (  IOException|URISyntaxException e) {
  }
  return null;
}
