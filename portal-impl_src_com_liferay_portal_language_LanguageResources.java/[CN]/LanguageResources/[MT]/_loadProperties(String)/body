{
  Properties properties=new Properties();
  boolean enabled=PortalSecurityManagerThreadLocal.isEnabled();
  try {
    PortalSecurityManagerThreadLocal.setEnabled(false);
    ClassLoader classLoader=LanguageResources.class.getClassLoader();
    URL url=classLoader.getResource(name);
    if (_log.isInfoEnabled()) {
      _log.info("Attempting to load " + name);
    }
    if (url != null) {
      InputStream inputStream=url.openStream();
      properties=PropertiesUtil.load(inputStream,StringPool.UTF8);
      inputStream.close();
      if (_log.isInfoEnabled()) {
        _log.info("Loading " + url + " with "+ properties.size()+ " values");
      }
    }
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
  }
 finally {
    PortalSecurityManagerThreadLocal.setEnabled(enabled);
  }
  return properties;
}
