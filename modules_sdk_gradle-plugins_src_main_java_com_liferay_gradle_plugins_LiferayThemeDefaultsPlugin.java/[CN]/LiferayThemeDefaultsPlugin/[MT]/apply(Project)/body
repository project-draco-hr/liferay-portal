{
  GradleUtil.applyPlugin(project,LiferayThemePlugin.class);
  applyPlugins(project);
  CacheExtension cacheExtension=GradleUtil.getExtension(project,CacheExtension.class);
  addTaskInstall(project);
  applyConfigScripts(project);
  LiferayOSGiDefaultsPlugin.configureRepositories(project);
  Configuration frontendCSSCommonConfiguration=addConfigurationFrontendCSSCommon(project);
  Copy expandFrontendCSSCommonTask=addTaskExpandFrontendCSSCommon(project,frontendCSSCommonConfiguration);
  final ReplaceRegexTask updateVersionTask=addTaskUpdateVersion(project);
  TaskCache gulpBuildTaskCache=configureCacheGulpBuild(project,cacheExtension);
  configureDeployDir(project);
  configureProject(project);
  Project frontendThemeStyledProject=getThemeProject(project,"frontend-theme-styled");
  Project frontendThemeUnstyledProject=getThemeProject(project,"frontend-theme-unstyled");
  configureTasksExecuteGulp(project,expandFrontendCSSCommonTask,frontendThemeStyledProject,frontendThemeUnstyledProject,gulpBuildTaskCache);
  GradleUtil.withPlugin(project,CachePlugin.class,new Action<CachePlugin>(){
    @Override public void execute(    CachePlugin cachePlugin){
      configureTaskUpdateVersionForCachePlugin(updateVersionTask);
    }
  }
);
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      GradleUtil.setProjectSnapshotVersion(project);
      configureTaskUploadArchives(project,updateVersionTask);
    }
  }
);
}
