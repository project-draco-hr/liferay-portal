{
  long[] groupIds=null;
  long[] groupIdsFromFacetConfiguration=getGroupIdsFromFacetConfiguration();
  if (ArrayUtil.isNotEmpty(groupIdsFromFacetConfiguration)) {
    groupIds=groupIdsFromFacetConfiguration;
  }
  if (ArrayUtil.isEmpty(groupIds)) {
    groupIds=searchContext.getGroupIds();
  }
  long[] groupIdsFromParameter=getGroupIdsFromParameter(searchContext);
  if (ArrayUtil.isNotEmpty(groupIdsFromParameter)) {
    groupIds=groupIdsFromParameter;
  }
  return groupIds;
}
