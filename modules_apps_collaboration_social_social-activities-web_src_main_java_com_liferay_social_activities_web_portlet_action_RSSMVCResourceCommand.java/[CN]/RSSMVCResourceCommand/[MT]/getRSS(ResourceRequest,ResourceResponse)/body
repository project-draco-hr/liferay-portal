{
  String feedTitle=ParamUtil.getString(resourceRequest,"feedTitle");
  String format=ParamUtil.getString(resourceRequest,"type",RSSUtil.FORMAT_DEFAULT);
  double version=ParamUtil.getDouble(resourceRequest,"version",RSSUtil.VERSION_DEFAULT);
  String displayStyle=ParamUtil.getString(resourceRequest,"displayStyle",RSSUtil.DISPLAY_STYLE_DEFAULT);
  int max=ParamUtil.getInteger(resourceRequest,"max",SearchContainer.DEFAULT_DELTA);
  String tabs1=ParamUtil.getString(resourceRequest,"tabs1","all");
  ThemeDisplay themeDisplay=(ThemeDisplay)resourceRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Group group=_groupLocalService.getGroup(themeDisplay.getScopeGroupId());
  SocialActivityQueryHelper.Scope scope=SocialActivityQueryHelper.Scope.fromValue(tabs1);
  List<SocialActivity> socialActivities=_socialActivityQueryHelper.getSocialActivities(group,themeDisplay.getLayout(),scope,0,max);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(resourceRequest);
  String rss=exportToRSS(resourceRequest,resourceResponse,feedTitle,null,format,version,displayStyle,socialActivities,serviceContext);
  return rss.getBytes(StringPool.UTF8);
}
