{
  List<Role> allRoles=roleLocalService.getRoles(companyId);
  if (roleTypes == null) {
    roleTypes=getRoleTypes(companyId,group,modelResource);
  }
  List<Role> roles=new ArrayList<Role>();
  for (  int roleType : roleTypes) {
    for (    Role role : allRoles) {
      if (role.getType() == roleType) {
        roles.add(role);
      }
    }
  }
  return roles;
}
