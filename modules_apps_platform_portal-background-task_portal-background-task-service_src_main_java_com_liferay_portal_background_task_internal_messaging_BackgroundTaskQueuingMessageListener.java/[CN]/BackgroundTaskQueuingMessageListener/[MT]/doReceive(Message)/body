{
  String taskExecutorClassName=(String)message.get("taskExecutorClassName");
  if (Validator.isNull(taskExecutorClassName)) {
    if (_log.isDebugEnabled()) {
      _log.debug("No taskExecutorClassName on message: " + message);
    }
    return;
  }
  int status=(Integer)message.get("status");
  if ((status == BackgroundTaskConstants.STATUS_CANCELLED) || (status == BackgroundTaskConstants.STATUS_FAILED) || (status == BackgroundTaskConstants.STATUS_SUCCESSFUL)) {
    executeQueuedBackgroundTasks(taskExecutorClassName);
  }
 else   if (status == BackgroundTaskConstants.STATUS_QUEUED) {
    long backgroundTaskId=(Long)message.get(BackgroundTaskConstants.BACKGROUND_TASK_ID);
    BackgroundTask backgroundTask=_backgroundTaskManager.fetchBackgroundTask(backgroundTaskId);
    if (!BackgroundTaskLockHelperUtil.isLockedBackgroundTask(backgroundTask)) {
      executeQueuedBackgroundTasks(taskExecutorClassName);
    }
  }
}
