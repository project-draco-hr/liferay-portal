{
  super(req);
  _params=new HashMap();
  _inherit=inherit;
  if (params != null) {
    Iterator itr=params.entrySet().iterator();
    while (itr.hasNext()) {
      Map.Entry entry=(Map.Entry)itr.next();
      _params.put(entry.getKey(),entry.getValue());
    }
  }
  if (_inherit && (req instanceof DynamicServletRequest)) {
    DynamicServletRequest dynamicReq=(DynamicServletRequest)req;
    setRequest(dynamicReq.getRequest());
    params=dynamicReq.getDynamicParameterMap();
    if (params != null) {
      Iterator itr=params.entrySet().iterator();
      while (itr.hasNext()) {
        Map.Entry entry=(Map.Entry)itr.next();
        String name=(String)entry.getKey();
        String[] oldValues=(String[])entry.getValue();
        String[] curValues=(String[])_params.get(name);
        if (curValues == null) {
          _params.put(name,oldValues);
        }
 else {
          String[] newValues=ArrayUtil.append(oldValues,curValues);
          _params.put(name,newValues);
        }
      }
    }
  }
}
