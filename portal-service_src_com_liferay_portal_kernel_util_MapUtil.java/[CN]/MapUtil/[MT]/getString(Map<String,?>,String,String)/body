{
  Object value=map.get(key);
  if (value != null) {
    if (value instanceof String[]) {
      String[] array=(String[])value;
      if (array.length > 0) {
        return GetterUtil.getString(array[0],defaultValue);
      }
    }
 else     if (value instanceof String) {
      return GetterUtil.getString((String)value,defaultValue);
    }
 else {
      return GetterUtil.getString(String.valueOf(value),defaultValue);
    }
  }
  return defaultValue;
}
