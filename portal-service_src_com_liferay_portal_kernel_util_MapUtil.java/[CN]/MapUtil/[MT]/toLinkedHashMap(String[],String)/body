{
  LinkedHashMap<String,Object> map=new LinkedHashMap<String,Object>();
  for (  String param : params) {
    String[] kvp=StringUtil.split(param,delimiter);
    if (kvp.length == 2) {
      map.put(kvp[0],kvp[1]);
    }
 else     if (kvp.length == 3) {
      String type=kvp[2];
      if (type.equalsIgnoreCase("boolean") || type.equals(Boolean.class.getName())) {
        map.put(kvp[0],Boolean.valueOf(kvp[1]));
      }
 else       if (type.equalsIgnoreCase("double") || type.equals(Double.class.getName())) {
        map.put(kvp[0],new Double(kvp[1]));
      }
 else       if (type.equalsIgnoreCase("int") || type.equals(Integer.class.getName())) {
        map.put(kvp[0],new Integer(kvp[1]));
      }
 else       if (type.equalsIgnoreCase("long") || type.equals(Long.class.getName())) {
        map.put(kvp[0],new Long(kvp[1]));
      }
 else       if (type.equalsIgnoreCase("short") || type.equals(Short.class.getName())) {
        map.put(kvp[0],new Short(kvp[1]));
      }
 else       if (type.equals(String.class.getName())) {
        map.put(kvp[0],kvp[1]);
      }
 else {
        try {
          Class<?> clazz=Class.forName(type);
          Constructor<?> constructor=clazz.getConstructor(String.class);
          map.put(kvp[0],constructor.newInstance(kvp[1]));
        }
 catch (        Exception e) {
          _log.error(e.getMessage(),e);
        }
      }
    }
  }
  return (LinkedHashMap<String,T>)map;
}
