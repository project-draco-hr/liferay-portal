{
  LiferayPortletRequest liferayPortletRequest=(LiferayPortletRequest)pageContext.getAttribute("liferayPortletRequest");
  if (liferayPortletRequest != null) {
    return liferayPortletRequest;
  }
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  PortletRequest portletRequest=(PortletRequest)request.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  if (portletRequest == null) {
    return null;
  }
  return PortalUtil.getLiferayPortletRequest(portletRequest);
}
