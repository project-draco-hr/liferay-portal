{
  long groupId=GetterUtil.getLong(pathArray[1]);
  String uuid=pathArray[3];
  FileEntry fileEntry=PortletFileRepositoryUtil.getPortletFileEntry(uuid,groupId);
  DLFileEntry dlFileEntry=(DLFileEntry)fileEntry.getModel();
  DLFileVersion dlFileVersion=dlFileEntry.getFileVersion();
  int status=ParamUtil.getInteger(request,"status",WorkflowConstants.STATUS_APPROVED);
  if ((status != WorkflowConstants.STATUS_IN_TRASH) && (dlFileVersion.isInTrash() || dlFileEntry.isInTrashContainer())) {
    return null;
  }
  return fileEntry;
}
