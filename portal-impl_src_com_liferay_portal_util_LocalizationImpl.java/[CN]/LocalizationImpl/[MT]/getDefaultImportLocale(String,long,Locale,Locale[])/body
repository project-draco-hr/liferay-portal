{
  Locale[] availableLocales=LanguageUtil.getAvailableLocales();
  if (ArrayUtil.contains(availableLocales,contentDefaultLocale)) {
    return contentDefaultLocale;
  }
  Locale defaultLocale=LocaleUtil.getDefault();
  if (ArrayUtil.contains(contentAvailableLocales,defaultLocale)) {
    return defaultLocale;
  }
  for (  Locale contentAvailableLocale : contentAvailableLocales) {
    if (ArrayUtil.contains(availableLocales,contentAvailableLocale)) {
      return contentAvailableLocale;
    }
  }
  if (_log.isWarnEnabled()) {
    StringBundler sb=new StringBundler();
    sb.append("Language ");
    sb.append(LocaleUtil.toLanguageId(contentDefaultLocale));
    sb.append(" is missing for ");
    sb.append(className);
    sb.append(" with primaryKey ");
    sb.append(classPK);
    sb.append(", setting default language to ");
    sb.append(LocaleUtil.toLanguageId(defaultLocale));
    _log.warn(sb.toString());
  }
  return defaultLocale;
}
