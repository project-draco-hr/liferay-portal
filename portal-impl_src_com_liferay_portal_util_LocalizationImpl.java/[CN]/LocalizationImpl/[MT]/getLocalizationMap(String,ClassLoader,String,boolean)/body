{
  if (key == null) {
    return null;
  }
  Map<Locale,String> map=new HashMap<>();
  Locale defaultLocale=LocaleUtil.getSiteDefault();
  String defaultValue=_getLocalization(bundleName,defaultLocale,classLoader,key,key);
  map.put(defaultLocale,defaultValue);
  Locale[] locales=null;
  if (includeBetaLocales) {
    locales=LanguageUtil.getAvailableLocales();
  }
 else {
    Set<Locale> localesSet=LanguageUtil.getSupportedLocales();
    locales=localesSet.toArray(new Locale[localesSet.size()]);
  }
  for (  Locale locale : locales) {
    if (locale.equals(defaultLocale)) {
      continue;
    }
    String value=_getLocalization(bundleName,locale,classLoader,key,null);
    if (Validator.isNotNull(value) && !value.equals(defaultValue)) {
      map.put(locale,value);
    }
  }
  return map;
}
