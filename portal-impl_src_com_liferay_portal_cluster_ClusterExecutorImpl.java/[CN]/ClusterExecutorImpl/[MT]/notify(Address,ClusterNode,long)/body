{
  removeExpiredInstances();
  if (System.currentTimeMillis() > expirationTime) {
    return;
  }
  ObjectValuePair<Address,ClusterNode> liveInstance=new ObjectValuePair<Address,ClusterNode>(address,clusterNode);
  Long oldExpirationTime=_liveInstances.remove(liveInstance);
  _liveInstances.put(liveInstance,expirationTime);
  if ((oldExpirationTime != null) || ((_localAddress != null) && _localAddress.equals(address))) {
    return;
  }
  _clusterNodeAddresses.put(clusterNode.getClusterNodeId(),address);
  ClusterEvent clusterEvent=ClusterEvent.join(clusterNode);
  fireClusterEvent(clusterEvent);
}
