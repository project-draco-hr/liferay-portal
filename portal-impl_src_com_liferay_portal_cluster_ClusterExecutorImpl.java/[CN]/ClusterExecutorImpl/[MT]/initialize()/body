{
  if (!isEnabled()) {
    return;
  }
  PortalUtil.addPortalPortEventListener(this);
  _localAddress=new AddressImpl(_controlChannel.getLocalAddress());
  try {
    initLocalClusterNode();
  }
 catch (  SystemException se) {
    _log.error("Unable to determine local network address",se);
  }
  ObjectValuePair<Address,ClusterNode> localInstance=new ObjectValuePair<Address,ClusterNode>(_localAddress,_localClusterNode);
  _liveInstances.put(localInstance,Long.MAX_VALUE);
  _clusterNodeAddresses.put(_localClusterNode.getClusterNodeId(),_localAddress);
  _clusterInvokeReceiver.initialize();
  _scheduledExecutorService=Executors.newScheduledThreadPool(1,new NamedThreadFactory(ClusterExecutorImpl.class.getName(),Thread.NORM_PRIORITY,Thread.currentThread().getContextClassLoader()));
  _scheduledExecutorService.scheduleWithFixedDelay(new HeartbeatTask(),0,PropsValues.CLUSTER_EXECUTOR_HEARTBEAT_INTERVAL,TimeUnit.MILLISECONDS);
}
