{
  InetAddress inetAddress=getBindInetAddress(_controlJChannel);
  ClusterNode clusterNode=new ClusterNode(PortalUUIDUtil.generate(),inetAddress);
  if (Validator.isNull(PropsValues.PORTAL_INSTANCE_PROTOCOL)) {
    _localClusterNode=clusterNode;
    return;
  }
  if (Validator.isNull(PropsValues.PORTAL_INSTANCE_INET_SOCKET_ADDRESS)) {
    throw new NullPointerException("Portal insttance inet socket address is null, please set it " + "by \"portal.instance.inet.socket.address\"");
  }
  String[] parts=StringUtil.split(PropsValues.PORTAL_INSTANCE_INET_SOCKET_ADDRESS,CharPool.COLON);
  try {
    clusterNode.setPortalInetSocketAddress(new InetSocketAddress(InetAddress.getByName(parts[0]),GetterUtil.getIntegerStrict(parts[1])));
  }
 catch (  Exception e) {
    _log.error("Unable to parse portal InetSocketAddress from " + PropsValues.PORTAL_INSTANCE_INET_SOCKET_ADDRESS,e);
  }
  clusterNode.setPortalProtocol(PropsValues.PORTAL_INSTANCE_PROTOCOL);
  _localClusterNode=clusterNode;
}
