{
  boolean isMulticast=clusterRequest.isMulticast();
  List<Address> addresses=null;
  if (isMulticast) {
    addresses=getAddresses(_controlJChannel);
  }
 else {
    addresses=new ArrayList<Address>();
    Collection<Address> clusterNodeAddresses=clusterRequest.getTargetClusterNodeAddresses();
    if (clusterNodeAddresses != null) {
      addresses.addAll(clusterNodeAddresses);
    }
    Collection<String> clusterNodeIds=clusterRequest.getTargetClusterNodeIds();
    if (clusterNodeIds != null) {
      for (      String clusterNodeId : clusterNodeIds) {
        Address address=_clusterNodeAddresses.get(clusterNodeId);
        addresses.add(address);
      }
    }
  }
  if (clusterRequest.isSkipLocal()) {
    addresses.remove(getLocalClusterNodeAddress());
  }
  return addresses;
}
