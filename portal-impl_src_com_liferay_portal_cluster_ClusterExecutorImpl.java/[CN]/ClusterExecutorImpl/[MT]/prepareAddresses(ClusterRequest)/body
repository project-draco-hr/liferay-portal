{
  boolean isMulticast=clusterRequest.isMulticast();
  List<Address> addresses=null;
  if (isMulticast) {
    addresses=ListUtil.fromCollection(_clusterNodeAddresses.values());
  }
 else {
    addresses=new ArrayList<>();
    Collection<String> clusterNodeIds=clusterRequest.getTargetClusterNodeIds();
    if (clusterNodeIds != null) {
      for (      String clusterNodeId : clusterNodeIds) {
        Address address=_clusterNodeAddresses.get(clusterNodeId);
        addresses.add(address);
      }
    }
  }
  if (clusterRequest.isSkipLocal()) {
    addresses.remove(_localAddress);
  }
  return addresses;
}
