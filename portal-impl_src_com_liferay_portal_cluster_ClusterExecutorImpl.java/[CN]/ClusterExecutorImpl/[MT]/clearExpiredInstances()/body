{
  if (_checkInInstanceMap.isEmpty()) {
    return;
  }
  Iterator<Map.Entry<ObjectValuePair<Address,ClusterNode>,Long>> itr=_checkInInstanceMap.entrySet().iterator();
  long now=System.currentTimeMillis();
  while (itr.hasNext()) {
    Map.Entry<ObjectValuePair<Address,ClusterNode>,Long> entry=itr.next();
    long expirationTime=entry.getValue().longValue();
    ClusterNode departingClusterNode=entry.getKey().getValue();
    if (now < expirationTime || _localClusterNode.equals(departingClusterNode)) {
      continue;
    }
    _clusterNodeIdMap.remove(departingClusterNode.getClusterNodeId());
    itr.remove();
    ClusterEvent clusterEvent=ClusterEvent.depart(departingClusterNode);
    fireClusterEvent(clusterEvent);
  }
}
