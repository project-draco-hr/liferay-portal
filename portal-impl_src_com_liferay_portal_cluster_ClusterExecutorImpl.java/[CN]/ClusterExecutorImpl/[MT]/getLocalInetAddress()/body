{
  List<NetworkInterface> networkInterfaces=new ArrayList<NetworkInterface>();
  Enumeration<NetworkInterface> enu1=NetworkInterface.getNetworkInterfaces();
  while (enu1.hasMoreElements()) {
    networkInterfaces.add(enu1.nextElement());
  }
  if (networkInterfaces.isEmpty()) {
    throw new SystemException("No interface available");
  }
  for (  NetworkInterface networkInterface : networkInterfaces) {
    if (isLoopback(networkInterface)) {
      continue;
    }
    Enumeration<InetAddress> enu2=networkInterface.getInetAddresses();
    List<InetAddress> inetAddresses=new ArrayList<InetAddress>();
    while (enu2.hasMoreElements()) {
      inetAddresses.add(enu2.nextElement());
    }
    if (inetAddresses.isEmpty()) {
      continue;
    }
    for (    InetAddress inetAddress : inetAddresses) {
      if (inetAddress instanceof Inet4Address) {
        return inetAddress;
      }
    }
  }
  throw new SystemException("No interface available");
}
