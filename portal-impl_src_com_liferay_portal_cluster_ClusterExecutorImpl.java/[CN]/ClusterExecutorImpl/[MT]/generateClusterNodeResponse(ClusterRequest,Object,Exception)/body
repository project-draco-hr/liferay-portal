{
  ClusterNodeResponse clusterNodeResponse=new ClusterNodeResponse();
  clusterNodeResponse.setAddress(getLocalClusterNodeAddress());
  clusterNodeResponse.setClusterNode(getLocalClusterNode());
  clusterNodeResponse.setClusterMessageType(clusterRequest.getClusterMessageType());
  clusterNodeResponse.setMulticast(clusterRequest.isMulticast());
  clusterNodeResponse.setUuid(clusterRequest.getUuid());
  if (exception != null) {
    clusterNodeResponse.setException(exception);
  }
 else {
    if (returnValue instanceof Serializable) {
      clusterNodeResponse.setResult(returnValue);
    }
 else     if (returnValue != null) {
      clusterNodeResponse.setException(new ClusterException("Return value is not serializable"));
    }
  }
  return clusterNodeResponse;
}
