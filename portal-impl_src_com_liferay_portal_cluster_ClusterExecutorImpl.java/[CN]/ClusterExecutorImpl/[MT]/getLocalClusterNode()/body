{
  if (!isEnabled()) {
    return null;
  }
  ClusterNode clusterNode=getClusterNode(getLocalControlAddress());
  if (clusterNode == null) {
    _localClusterNodeId=PortalUUIDUtil.generate();
    clusterNode=new ClusterNode(_localClusterNodeId);
    String autodetectAddress=PropsValues.CLUSTER_LINK_AUTODETECT_ADDRESS;
    clusterNode.setPort(PortalUtil.getPortalPort());
    try {
      InetAddress inetAddress=getHostInetAddress(autodetectAddress);
      clusterNode.setInetAddress(inetAddress);
      clusterNode.setHostName(inetAddress.getHostName());
    }
 catch (    Exception e) {
      throw new SystemException("Unable to determine local network address",e);
    }
  }
  return clusterNode;
}
