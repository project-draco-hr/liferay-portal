{
  TaskQueue<Object> taskQueue=new TaskQueue<>();
  Assert.assertNull(taskQueue.poll());
  taskQueue=new TaskQueue<>();
  Object object1=new Object();
  Assert.assertTrue(taskQueue.offer(object1,new boolean[1]));
  Assert.assertSame(object1,taskQueue.poll());
  taskQueue=new TaskQueue<>();
  object1=new Object();
  Object object2=new Object();
  Assert.assertTrue(taskQueue.offer(object1,new boolean[1]));
  Assert.assertTrue(taskQueue.offer(object2,new boolean[1]));
  Assert.assertSame(object1,taskQueue.poll());
  taskQueue=new TaskQueue<>();
  Assert.assertNull(taskQueue.poll(0,TimeUnit.MILLISECONDS));
  taskQueue=new TaskQueue<>();
  Assert.assertNull(taskQueue.poll(-1,TimeUnit.MILLISECONDS));
  taskQueue=new TaskQueue<>();
  Assert.assertNull(taskQueue.poll(100,TimeUnit.MILLISECONDS));
  taskQueue=new TaskQueue<>();
  object1=new Object();
  Assert.assertTrue(taskQueue.offer(object1,new boolean[1]));
  Assert.assertSame(object1,taskQueue.poll(100,TimeUnit.MILLISECONDS));
  taskQueue=new TaskQueue<>();
  object1=new Object();
  object2=new Object();
  Assert.assertTrue(taskQueue.offer(object1,new boolean[1]));
  Assert.assertTrue(taskQueue.offer(object2,new boolean[1]));
  Assert.assertSame(object1,taskQueue.poll(100,TimeUnit.MILLISECONDS));
}
