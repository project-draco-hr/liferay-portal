{
  try (LoggingTimer loggingTimer=new LoggingTimer(name)){
    List<String> modelActions=ResourceActionsUtil.getModelResourceActions(name);
    ResourceActionLocalServiceUtil.checkResourceActions(name,modelActions);
    int scope=ResourceConstants.SCOPE_INDIVIDUAL;
    long actionIdsLong=1;
    if (community) {
      ResourcePermissionLocalServiceUtil.addResourcePermissions(name,RoleConstants.ORGANIZATION_USER,scope,actionIdsLong);
      ResourcePermissionLocalServiceUtil.addResourcePermissions(name,RoleConstants.SITE_MEMBER,scope,actionIdsLong);
    }
    if (guest) {
      ResourcePermissionLocalServiceUtil.addResourcePermissions(name,RoleConstants.GUEST,scope,actionIdsLong);
    }
    ResourcePermissionLocalServiceUtil.addResourcePermissions(name,RoleConstants.OWNER,scope,actionIdsLong);
  }
 }
