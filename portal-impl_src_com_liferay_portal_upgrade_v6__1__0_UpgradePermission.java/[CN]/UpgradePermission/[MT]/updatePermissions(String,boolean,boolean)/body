{
  if (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 6) {
    List<String> modelActions=ResourceActionsUtil.getModelResourceActions(name);
    ResourceActionLocalServiceUtil.checkResourceActions(name,modelActions);
    long minimumBitwiseValue=1;
    if (community) {
      ResourcePermissionLocalServiceUtil.setContainerResourcePermissions(name,RoleConstants.SITE_MEMBER,minimumBitwiseValue);
    }
    if (guest) {
      ResourcePermissionLocalServiceUtil.setContainerResourcePermissions(name,RoleConstants.GUEST,minimumBitwiseValue);
    }
  }
 else {
    if (community) {
      PermissionLocalServiceUtil.setContainerResourcePermissions(name,RoleConstants.SITE_MEMBER,ActionKeys.VIEW);
    }
    if (guest) {
      PermissionLocalServiceUtil.setContainerResourcePermissions(name,RoleConstants.GUEST,ActionKeys.VIEW);
    }
  }
}
