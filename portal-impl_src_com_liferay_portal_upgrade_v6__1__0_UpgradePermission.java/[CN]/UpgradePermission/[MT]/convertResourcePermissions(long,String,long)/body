{
  PermissionedModel permissionedModel=ResourceBlockLocalServiceUtil.getPermissionedModel(name,primKey);
  long groupId=0;
  if (permissionedModel instanceof GroupedModel) {
    GroupedModel groupedModel=(GroupedModel)permissionedModel;
    groupId=groupedModel.getGroupId();
  }
  ResourceBlockPermissionsContainer resourceBlockPermissionsContainer=getResourceBlockPermissionsContainer(companyId,groupId,name,primKey);
  String permissionsHash=ResourceBlockLocalServiceUtil.getPermissionsHash(resourceBlockPermissionsContainer);
  ResourceBlock resourceBlock=ResourceBlockLocalServiceUtil.updateResourceBlockId(companyId,groupId,name,permissionedModel,permissionsHash,resourceBlockPermissionsContainer);
  return resourceBlock;
}
