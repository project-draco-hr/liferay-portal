{
  String friendlyURL=StringPool.SLASH + FriendlyURLNormalizerUtil.normalize(name);
  Layout layout=null;
  try {
    layout=LayoutLocalServiceUtil.getFriendlyURLLayout(groupId,false,friendlyURL);
    return layout;
  }
 catch (  NoSuchLayoutException nsle) {
  }
  ServiceContext serviceContext=getServiceContext();
  if (layoutPrototype != null) {
    serviceContext.setAttribute("layoutPrototypeLinkEnabled",linkEnabled);
    serviceContext.setAttribute("layoutPrototypeUuid",layoutPrototype.getUuid());
  }
  String description="This is a test page.";
  return LayoutLocalServiceUtil.addLayout(TestPropsValues.getUserId(),groupId,privateLayout,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID,name,null,description,LayoutConstants.TYPE_PORTLET,false,friendlyURL,serviceContext);
}
