{
  try {
    DBUpgrader.upgrade();
  }
 catch (  AssertionError ae) {
    _log.error(ae.getMessage(),ae);
  }
catch (  Exception e) {
    _log.error(e.getMessage(),e);
  }
  MessageBus messageBus=(MessageBus)PortalBeanLocatorUtil.locate(MessageBus.class.getName());
  MessageSender messageSender=(MessageSender)PortalBeanLocatorUtil.locate(MessageSender.class.getName());
  SynchronousMessageSender synchronousMessageSender=(SynchronousMessageSender)PortalBeanLocatorUtil.locate(SynchronousMessageSender.class.getName());
  MessageBusUtil.init(DoPrivilegedUtil.wrap(messageBus),DoPrivilegedUtil.wrap(messageSender),DoPrivilegedUtil.wrap(synchronousMessageSender));
  try {
    SchedulerEngineHelperUtil.start();
  }
 catch (  Exception e) {
    _log.error(e.getMessage(),e);
  }
  try {
    DBUpgrader.verify();
  }
 catch (  Exception e) {
    _log.error(e.getMessage(),e);
  }
}
