{
  if (isSearchWithIndex(portletName,assetEntryQuery)) {
    return AssetUtil.searchAssetEntries(assetEntryQuery,getAssetCategoryIds(portletPreferences),getAssetTagNames(portletPreferences),attributes,companyId,assetEntryQuery.getKeywords(),layout,locale,scopeGroupId,timeZone,userId,start,end);
  }
  int total=_assetEntryService.getEntriesCount(assetEntryQuery);
  assetEntryQuery.setEnd(end);
  assetEntryQuery.setStart(start);
  List<AssetEntry> results=_assetEntryService.getEntries(assetEntryQuery);
  return new BaseModelSearchResult<>(results,total);
}
