{
  super("Forwarding","");
  layout=new SpringLayout();
  setLayout(layout);
  enable=new JCheckBox("Enable:",Defaults.FORWARDING_ENABLE);
  forwardToLabel=new JLabel("Forward To: ");
  forwardTo=new JTextField(Defaults.FORWARDING_FORWARD_TO,25);
  actionLabel=new JLabel("Action: ");
  action=new JComboBox(Constants.FORWARDING_ACTION);
  action.setSelectedItem(Defaults.FORWARDING_ACTION);
  submit=new JButton("Submit");
  submit.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent event){
      if (GmailSettingsClient.settings == null) {
        JOptionPane.showMessageDialog(null,GmailSettingsClient.ERROR_AUTHENTICATION_REQUIRED,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
        return;
      }
      try {
        GmailSettingsClient.settings.changeForwarding(GmailSettingsClient.users.getSelectedUsers(),enable.isSelected(),forwardTo.getText(),action.getSelectedItem().toString());
      }
 catch (      IllegalArgumentException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
catch (      ServiceException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
catch (      MalformedURLException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
catch (      IOException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
    }
  }
);
  layout.putConstraint(SpringLayout.WEST,enable,5,SpringLayout.WEST,this);
  layout.putConstraint(SpringLayout.NORTH,enable,5,SpringLayout.NORTH,this);
  layout.putConstraint(SpringLayout.WEST,forwardToLabel,5,SpringLayout.WEST,this);
  layout.putConstraint(SpringLayout.NORTH,forwardToLabel,5,SpringLayout.SOUTH,enable);
  layout.putConstraint(SpringLayout.WEST,forwardTo,5,SpringLayout.EAST,forwardToLabel);
  layout.putConstraint(SpringLayout.NORTH,forwardTo,5,SpringLayout.SOUTH,enable);
  layout.putConstraint(SpringLayout.WEST,actionLabel,5,SpringLayout.WEST,this);
  layout.putConstraint(SpringLayout.NORTH,actionLabel,5,SpringLayout.SOUTH,forwardTo);
  layout.putConstraint(SpringLayout.WEST,action,5,SpringLayout.EAST,actionLabel);
  layout.putConstraint(SpringLayout.NORTH,action,5,SpringLayout.SOUTH,forwardTo);
  layout.putConstraint(SpringLayout.WEST,submit,5,SpringLayout.WEST,this);
  layout.putConstraint(SpringLayout.NORTH,submit,15,SpringLayout.SOUTH,action);
  add(enable);
  add(forwardToLabel);
  add(forwardTo);
  add(actionLabel);
  add(action);
  add(submit);
}
