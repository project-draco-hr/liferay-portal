{
  if (skip < 0) {
    throw new IllegalArgumentException("Skip is less than 0");
  }
  if (reader == null) {
    throw new IOException("Reader is null");
  }
  if (skip == 0) {
    return 0;
  }
  long available=firstInvalidIndex - index;
  if (available <= 0) {
    if (markLimitIndex < 0) {
      return reader.skip(skip);
    }
 else {
      fillInBuffer();
      available=firstInvalidIndex - index;
      if (available <= 0) {
        return 0;
      }
    }
  }
  if (available < skip) {
    skip=available;
  }
  index+=skip;
  return skip;
}
