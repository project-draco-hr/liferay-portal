{
  try {
    IMediaReader reader=ToolFactory.makeReader(srcFile.getCanonicalPath());
    VideoListener myVideoListener=new VideoListener(height,width);
    VideoResizer resizer=new VideoResizer(height,width);
    AudioListener audioListener=new AudioListener();
    reader.addListener(resizer);
    resizer.addListener(audioListener);
    IMediaWriter writer=ToolFactory.makeWriter(destFile.getCanonicalPath(),reader);
    audioListener.addListener(writer);
    writer.addListener(myVideoListener);
    while (reader.readPacket() == null) {
    }
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
