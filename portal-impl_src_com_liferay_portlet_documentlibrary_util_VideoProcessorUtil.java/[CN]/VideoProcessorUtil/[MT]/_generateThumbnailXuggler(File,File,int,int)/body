{
  try {
    IMediaReader reader=ToolFactory.makeReader(srcFile.getCanonicalPath());
    reader.setBufferedImageTypeToGenerate(BufferedImage.TYPE_3BYTE_BGR);
    CaptureFrameListener captureFrameListener=new CaptureFrameListener(thumbnailFile,THUMBNAIL_TYPE,height,width);
    reader.addListener(captureFrameListener);
    while (reader.readPacket() == null) {
    }
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
