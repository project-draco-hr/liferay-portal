{
  Set<Long> ddmDataProviderInstanceIdSet=new HashSet<>();
  List<DDMDataProviderInstanceLink> providerInstanceLinks=_ddmDataProviderInstanceLinkLocalService.getDataProviderInstanceLinks(structure.getStructureId());
  for (  DDMDataProviderInstanceLink providerLink : providerInstanceLinks) {
    long ddmDataProviderInstanceId=providerLink.getDataProviderInstanceId();
    DDMDataProviderInstance ddmDataProviderInstance=_ddmDataProviderInstanceLocalService.getDDMDataProviderInstance(ddmDataProviderInstanceId);
    StagedModelDataHandlerUtil.exportReferenceStagedModel(portletDataContext,structure,ddmDataProviderInstance,PortletDataContext.REFERENCE_TYPE_STRONG);
    ddmDataProviderInstanceIdSet.add(ddmDataProviderInstance.getDataProviderInstanceId());
  }
  String ddmDataProviderInstanceIds=ArrayUtil.toString(ddmDataProviderInstanceIdSet.toArray(new Long[ddmDataProviderInstanceIdSet.size()]),StringPool.BLANK);
  structureElement.addAttribute(_DDM_DATA_PROVIDER_INSTANCE_IDS,ddmDataProviderInstanceIds);
}
