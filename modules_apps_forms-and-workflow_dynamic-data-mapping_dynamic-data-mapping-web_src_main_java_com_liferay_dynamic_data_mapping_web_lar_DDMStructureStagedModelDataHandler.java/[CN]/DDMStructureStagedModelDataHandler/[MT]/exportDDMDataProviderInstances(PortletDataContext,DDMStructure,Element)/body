{
  Set<Long> ddmDataProviderInstanceIdsSet=new HashSet<>();
  List<DDMDataProviderInstanceLink> ddmDataProviderInstanceLinks=_ddmDataProviderInstanceLinkLocalService.getDataProviderInstanceLinks(structure.getStructureId());
  for (  DDMDataProviderInstanceLink ddmDataProviderInstanceLink : ddmDataProviderInstanceLinks) {
    long ddmDataProviderInstanceId=ddmDataProviderInstanceLink.getDataProviderInstanceId();
    DDMDataProviderInstance ddmDataProviderInstance=_ddmDataProviderInstanceLocalService.getDDMDataProviderInstance(ddmDataProviderInstanceId);
    StagedModelDataHandlerUtil.exportReferenceStagedModel(portletDataContext,structure,ddmDataProviderInstance,PortletDataContext.REFERENCE_TYPE_STRONG);
    ddmDataProviderInstanceIdsSet.add(ddmDataProviderInstance.getDataProviderInstanceId());
  }
  String ddmDataProviderInstanceIds=ArrayUtil.toString(ddmDataProviderInstanceIdsSet.toArray(new Long[ddmDataProviderInstanceIdsSet.size()]),StringPool.BLANK);
  structureElement.addAttribute(_DDM_DATA_PROVIDER_INSTANCE_IDS,ddmDataProviderInstanceIds);
}
