{
  FileEntry fileEntry=addFileEntry(false,_STRIPPED_FILE_NAME,_STRIPPED_FILE_NAME);
  try {
    addFileEntry(false,_STRIPPED_FILE_NAME,"");
    fail("Created" + _FAIL_DUPLICATE_MESSAGE_SUFFIX);
  }
 catch (  DuplicateFileException dfe) {
  }
  FileEntry tempFileEntry=addFileEntry(false,"Temp","");
  try {
    updateFileEntry(tempFileEntry.getFileEntryId(),_STRIPPED_FILE_NAME,"");
    fail("Renamed" + _FAIL_DUPLICATE_MESSAGE_SUFFIX);
  }
 catch (  DuplicateFileException dfe2) {
  }
 finally {
    DLAppLocalServiceUtil.deleteFileEntry(tempFileEntry.getFileEntryId());
  }
  try {
    addFileEntry(false,"",_STRIPPED_FILE_NAME);
    fail("Created" + _FAIL_DUPLICATE_MESSAGE_SUFFIX);
  }
 catch (  DuplicateFileException dfe) {
  }
  tempFileEntry=addFileEntry(false,"","Temp");
  try {
    updateFileEntry(tempFileEntry.getFileEntryId(),"",_STRIPPED_FILE_NAME);
    fail("Renamed" + _FAIL_DUPLICATE_MESSAGE_SUFFIX);
  }
 catch (  DuplicateFileException dfe) {
  }
 finally {
    DLAppLocalServiceUtil.deleteFileEntry(tempFileEntry.getFileEntryId());
  }
  DLAppLocalServiceUtil.deleteFileEntry(fileEntry.getFileEntryId());
}
