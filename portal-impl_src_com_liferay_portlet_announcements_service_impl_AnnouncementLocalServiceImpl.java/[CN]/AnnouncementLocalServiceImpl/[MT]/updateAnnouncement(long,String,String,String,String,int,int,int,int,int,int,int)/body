{
  validate(title,content);
  Date displayDate=PortalUtil.getDate(displayMonth,displayDay,displayYear,new AnnouncementDisplayDateException());
  Date expirationDate=PortalUtil.getDate(expirationMonth,expirationDay,expirationYear,new AnnouncementExpirationDateException());
  Announcement announcement=announcementPersistence.findByPrimaryKey(announcementId);
  announcement.setModifiedDate(new Date());
  announcement.setTitle(title);
  announcement.setContent(content);
  announcement.setUrl(url);
  announcement.setType(type);
  announcement.setDisplayDate(displayDate);
  announcement.setExpirationDate(expirationDate);
  announcement.setPriority(priority);
  announcementPersistence.update(announcement);
  announcementFlagLocalService.deleteAnnouncementFlags(announcement.getAnnouncementId());
  return announcement;
}
