{
  Group group=layoutSet.getGroup();
  Map<Locale,String> nameMap=new HashMap<Locale,String>();
  Locale[] locales=LanguageUtil.getAvailableLocales();
  for (  Locale locale : locales) {
    nameMap.put(locale,LanguageUtil.get(locale,nameKey));
  }
  Map<Locale,String> friendlyURLMap=new HashMap<Locale,String>();
  friendlyURLMap.put(LocaleUtil.getDefault(),friendlyURL);
  ServiceContext serviceContext=new ServiceContext();
  Layout layout=LayoutLocalServiceUtil.addLayout(group.getCreatorUserId(),group.getGroupId(),layoutSet.isPrivateLayout(),LayoutConstants.DEFAULT_PARENT_LAYOUT_ID,nameMap,null,null,null,null,LayoutConstants.TYPE_PORTLET,StringPool.BLANK,false,friendlyURLMap,serviceContext);
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,layouteTemplateId,false);
  return layout;
}
