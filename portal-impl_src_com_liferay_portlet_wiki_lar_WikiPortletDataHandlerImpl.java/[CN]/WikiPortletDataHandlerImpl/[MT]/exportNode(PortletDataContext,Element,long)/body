{
  if (!portletDataContext.hasDateRange()) {
    return;
  }
  WikiNode node=WikiNodeUtil.findByPrimaryKey(nodeId);
  String path=getNodePath(portletDataContext,node);
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element nodeElement=nodesElement.addElement("node");
  nodeElement.addAttribute("path",path);
  node.setUserUuid(node.getUserUuid());
  portletDataContext.addPermissions(WikiNode.class,node.getNodeId());
  portletDataContext.addZipEntry(path,node);
}
