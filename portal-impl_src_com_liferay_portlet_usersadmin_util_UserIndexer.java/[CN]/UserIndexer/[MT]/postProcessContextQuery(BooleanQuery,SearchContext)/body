{
  int status=GetterUtil.getInteger(searchContext.getAttribute(Field.STATUS),WorkflowConstants.STATUS_APPROVED);
  if (status != WorkflowConstants.STATUS_ANY) {
    contextQuery.addRequiredTerm(Field.STATUS,status);
  }
  LinkedHashMap<String,Object> params=(LinkedHashMap<String,Object>)searchContext.getAttribute("params");
  if (params != null) {
    for (    Map.Entry<String,Object> entry : params.entrySet()) {
      String key=entry.getKey();
      Object value=entry.getValue();
      if ((value == null) || (value.getClass().isArray() && ((Object[])value).length == 0)) {
        continue;
      }
      addContextQueryParams(contextQuery,searchContext,key,value);
    }
  }
}
