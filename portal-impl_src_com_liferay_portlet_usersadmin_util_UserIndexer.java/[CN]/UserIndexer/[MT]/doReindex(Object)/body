{
  if (obj instanceof Long) {
    long userId=(Long)obj;
    User user=UserLocalServiceUtil.getUserById(userId);
    doReindex(user);
  }
 else   if (obj instanceof long[]) {
    long[] userIds=(long[])obj;
    Map<Long,Collection<Document>> documentsMap=new HashMap<Long,Collection<Document>>();
    for (    long userId : userIds) {
      User user=UserLocalServiceUtil.getUserById(userId);
      if (user.isDefaultUser()) {
        continue;
      }
      Document document=getDocument(user);
      long companyId=user.getCompanyId();
      Collection<Document> documents=documentsMap.get(companyId);
      if (documents == null) {
        documents=new ArrayList<Document>();
        documentsMap.put(companyId,documents);
      }
      documents.add(document);
    }
    for (    Map.Entry<Long,Collection<Document>> entry : documentsMap.entrySet()) {
      long companyId=entry.getKey();
      Collection<Document> documents=entry.getValue();
      SearchEngineUtil.updateDocuments(getSearchEngineId(),companyId,documents);
    }
  }
 else   if (obj instanceof User) {
    User user=(User)obj;
    if (user.isDefaultUser()) {
      return;
    }
    Document document=getDocument(user);
    SearchEngineUtil.updateDocument(getSearchEngineId(),user.getCompanyId(),document);
    Indexer indexer=IndexerRegistryUtil.nullSafeGetIndexer(Contact.class);
    try {
      indexer.reindex(user.getContact());
    }
 catch (    NoSuchContactException nscce) {
    }
  }
}
