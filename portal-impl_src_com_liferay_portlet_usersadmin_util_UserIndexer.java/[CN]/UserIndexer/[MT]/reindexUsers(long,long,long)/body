{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(User.class,PortalClassLoaderUtil.getClassLoader());
  Property property=PropertyFactoryUtil.forName("userId");
  dynamicQuery.add(property.ge(startUserId));
  dynamicQuery.add(property.lt(endUserId));
  addReindexCriteria(dynamicQuery,companyId);
  List<User> users=UserLocalServiceUtil.dynamicQuery(dynamicQuery);
  if (users.isEmpty()) {
    return;
  }
  Collection<Document> documents=new ArrayList<Document>(users.size());
  for (  User user : users) {
    if (user.isDefaultUser()) {
      continue;
    }
    Document document=getDocument(user);
    documents.add(document);
  }
  SearchEngineUtil.updateDocuments(getSearchEngineId(),companyId,documents);
}
