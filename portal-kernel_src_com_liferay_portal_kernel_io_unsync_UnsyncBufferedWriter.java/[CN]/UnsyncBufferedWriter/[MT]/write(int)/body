{
  if (writer == null) {
    throw new IOException("Writer closed");
  }
  if (count >= bufferSize) {
    writer.write(buffer);
    count=0;
  }
  buffer[count++]=(char)c;
}
