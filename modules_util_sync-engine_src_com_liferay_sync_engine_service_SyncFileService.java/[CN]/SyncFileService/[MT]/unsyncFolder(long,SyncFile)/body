{
  SyncFile parentSyncFile=SyncFileService.fetchSyncFile(targetSyncFile.getRepositoryId(),syncAccountId,targetSyncFile.getParentFolderId());
  if (parentSyncFile == null) {
    return null;
  }
  String filePathName=FileUtil.getFilePathName(parentSyncFile.getFilePathName(),FileUtil.getSanitizedFileName(targetSyncFile.getName(),null));
  SyncFile sourceSyncFile=SyncFileService.fetchSyncFile(filePathName);
  if (sourceSyncFile == null) {
    targetSyncFile.setFilePathName(filePathName);
    targetSyncFile.setModifiedTime(0);
    targetSyncFile.setState(SyncFile.STATE_UNSYNCED);
    targetSyncFile.setSyncAccountId(syncAccountId);
    return update(targetSyncFile);
  }
  sourceSyncFile.setModifiedTime(0);
  setStatuses(sourceSyncFile,SyncFile.STATE_UNSYNCED,SyncFile.UI_EVENT_NONE);
  return sourceSyncFile;
}
