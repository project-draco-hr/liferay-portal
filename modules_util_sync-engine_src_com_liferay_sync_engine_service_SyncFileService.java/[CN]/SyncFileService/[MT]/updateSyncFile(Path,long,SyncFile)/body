{
  String sourceFilePathName=syncFile.getFilePathName();
  String targetFilePathName=filePath.toString();
  syncFile.setFilePathName(targetFilePathName);
  syncFile.setLocalSyncTime(System.currentTimeMillis());
  syncFile.setName(String.valueOf(filePath.getFileName()));
  syncFile.setParentFolderId(parentFolderId);
  update(syncFile);
  if (syncFile.isFile() || (syncFile.getTypePK() == 0)) {
    return syncFile;
  }
  try {
    _syncFilePersistence.renameByFilePathName(sourceFilePathName,targetFilePathName);
  }
 catch (  SQLException sqle) {
    if (_logger.isDebugEnabled()) {
      _logger.debug(sqle.getMessage(),sqle);
    }
    return null;
  }
  return syncFile;
}
