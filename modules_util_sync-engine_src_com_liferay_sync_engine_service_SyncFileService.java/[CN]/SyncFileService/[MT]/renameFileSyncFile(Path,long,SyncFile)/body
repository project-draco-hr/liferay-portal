{
  String name=_getName(filePath,syncFile);
  String sourceFileName=syncFile.getName();
  String sourceVersion=syncFile.getVersion();
  syncFile.setFilePathName(filePath.toString());
  syncFile.setName(name);
  update(syncFile);
  if ((syncFile.getState() != SyncFile.STATE_ERROR) && (syncFile.getState() != SyncFile.STATE_UNSYNCED)) {
    String type=syncFile.getType();
    if (type.equals(SyncFile.TYPE_FILE)) {
      FileEventUtil.updateFile(filePath,syncAccountId,syncFile,null,name,syncFile.getChecksum(),sourceFileName,sourceVersion,syncFile.getChecksum());
    }
 else {
      FileEventUtil.updateFolder(filePath,syncAccountId,syncFile);
    }
  }
  return syncFile;
}
