{
  List nodes=new ArrayList();
  Iterator itr=parent.elementIterator("dynamic-element");
  while (itr.hasNext()) {
    Element element=(Element)itr.next();
    Element content=element.element("dynamic-content");
    if (content == null) {
      throw new TransformException("Element missing \"dynamic-content\"");
    }
    String name=element.attributeValue("name","");
    if (name.length() == 0) {
      throw new TransformException("Element missing \"name\" attribute");
    }
    String type=element.attributeValue("type","");
    TemplateNode node=new TemplateNode(name,CDATAUtil.strip(content.getText()),type);
    if (element.element("dynamic-element") != null) {
      node.appendChildren(_extractDynamicContents(element));
    }
    nodes.add(node);
  }
  return nodes;
}
