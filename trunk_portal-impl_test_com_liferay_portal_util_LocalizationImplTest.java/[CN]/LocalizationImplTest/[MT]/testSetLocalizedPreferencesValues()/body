{
  final PortletRequest request=_mockery.mock(PortletRequest.class);
  Expectations expectations=new Expectations(){
{
      oneOf(request).getParameter("greeting_en_US");
      will(returnValue(_englishHello));
      oneOf(request).getParameter("greeting_de_DE");
      will(returnValue(_germanHello));
      allowing(request).getParameter(with(aNonNull(String.class)));
      will(returnValue(null));
    }
  }
;
  _mockery.checking(expectations);
  PortletPreferences preferences=new PortletPreferencesImpl();
  LocalizationUtil.setLocalizedPreferencesValues(request,preferences,"greeting");
  assertEquals(_englishHello,LocalizationUtil.getPreferencesValue(preferences,"greeting",_englishId));
  assertEquals(_germanHello,LocalizationUtil.getPreferencesValue(preferences,"greeting",_germanId));
}
