{
  String value=_portalProperties.getProperty("liferay.home");
  if ((value == null) || value.equals("")) {
    System.out.print("Please enter your Liferay home (../): ");
    String response=_consoleReader.readLine();
    if (response.equals("")) {
      response="../";
    }
    File liferayHome=new File(response);
    _portalProperties.setProperty("liferay.home",liferayHome.getCanonicalPath());
    for (    String name : databases.keySet()) {
      System.out.println(name);
    }
    System.out.println("Please enter your database (mysql): ");
    response=_consoleReader.readLine();
    if (response.equals("")) {
      response="mysql";
    }
    DatabaseConnection databaseConnection=databases.get(response);
    System.out.println("Please enter your database JDBC driver protocol (" + databaseConnection.getProtocol() + "):");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      databaseConnection.setProtocol(response);
    }
    System.out.println("Please enter your database JDBC driver class name(" + databaseConnection.getClassName() + "):");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      databaseConnection.setClassName(response);
    }
    System.out.println("Please enter your database host (" + databaseConnection.getHost() + "):");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      databaseConnection.setHost(response);
    }
    System.out.println("Please enter your database port (" + (databaseConnection.getPort() > 0 ? databaseConnection.getPort() : "none") + "):");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      if (response.equals("none")) {
        databaseConnection.setPort(0);
      }
 else {
        databaseConnection.setPort(Integer.parseInt(response));
      }
    }
    System.out.println("Please enter your database name (" + databaseConnection.getDatabaseName() + "):");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      databaseConnection.setDatabaseName(response);
    }
    System.out.println("Please enter your database username: ");
    String username=_consoleReader.readLine();
    System.out.println("Please enter your database password: ");
    String password=_consoleReader.readLine();
    _portalProperties.setProperty("jdbc.default.driverClassName",databaseConnection.getClassName());
    _portalProperties.setProperty("jdbc.default.url",databaseConnection.getUrl());
    _portalProperties.setProperty("jdbc.default.username",username);
    _portalProperties.setProperty("jdbc.default.password",password);
  }
}
