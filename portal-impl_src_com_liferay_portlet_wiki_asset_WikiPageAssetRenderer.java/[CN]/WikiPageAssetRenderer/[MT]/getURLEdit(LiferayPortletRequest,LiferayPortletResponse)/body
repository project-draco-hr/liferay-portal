{
  ThemeDisplay themeDisplay=(ThemeDisplay)liferayPortletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletURL editPortletURL=null;
  if (WikiPermission.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),ActionKeys.ADD_PAGE)) {
    editPortletURL=liferayPortletResponse.createRenderURL(PortletKeys.WIKI);
    try {
      editPortletURL.setWindowState(WindowState.MAXIMIZED);
    }
 catch (    Exception e) {
    }
    editPortletURL.setParameter("struts_action","/wiki/edit_page");
    editPortletURL.setParameter("nodeId",String.valueOf(_page.getNodeId()));
    editPortletURL.setParameter("title",_page.getTitle());
  }
  return editPortletURL;
}
