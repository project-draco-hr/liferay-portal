{
  PortletURL portletURL=_getActionURL("/document_library/edit_file_entry",Constants.CHECKIN);
  portletURL.setParameter("fileEntryId",String.valueOf(_fileEntry.getFileEntryId()));
  JavaScriptMenuItem javascriptMenuItem=new JavaScriptMenuItem();
  javascriptMenuItem.setKey(DLUIItemKeys.CHECKIN);
  javascriptMenuItem.setLabel("checkin");
  javascriptMenuItem.setOnClick(getNamespace() + "showVersionDetailsDialog('" + portletURL+ "');");
  String javaScript="/com/liferay/document/library/web/display/context/dependencies" + "/checkin_js.ftl";
  ResourceBundle resourcebundle=_getResourceBundle();
  Class<?> clazz=getClass();
  URLTemplateResource urlTemplateResource=new URLTemplateResource(javaScript,clazz.getResource(javaScript));
  Template template=TemplateManagerUtil.getTemplate(TemplateConstants.LANG_TYPE_FTL,urlTemplateResource,false);
  template.put("dialogCancelButtonLabel",LanguageUtil.get(resourcebundle,"cancel"));
  template.put("dialogSaveButtonLabel",LanguageUtil.get(resourcebundle,"save"));
  template.put("dialogTitle",UnicodeLanguageUtil.get(resourcebundle,"describe-your-changes"));
  template.put("namespace",getNamespace());
  template.put("randomNamespace",_request.getAttribute("randomNamespace"));
  UnsyncStringWriter unsyncStringWriter=new UnsyncStringWriter();
  template.processTemplate(unsyncStringWriter);
  javascriptMenuItem.setJavaScript(unsyncStringWriter.toString());
  return javascriptMenuItem;
}
