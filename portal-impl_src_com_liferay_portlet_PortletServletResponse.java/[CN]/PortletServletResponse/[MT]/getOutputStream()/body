{
  if (_lifecycle.equals(PortletRequest.RENDER_PHASE) || _lifecycle.equals(PortletRequest.RESOURCE_PHASE)) {
    MimeResponse mimeResponse=_getMimeResponse();
    OutputStream portletOutputStream=mimeResponse.getPortletOutputStream();
    ServletOutputStream servletOutputStream=new ServletOutputStreamAdapter(portletOutputStream);
    return servletOutputStream;
  }
 else {
    return new NullServletOutputStream();
  }
}
