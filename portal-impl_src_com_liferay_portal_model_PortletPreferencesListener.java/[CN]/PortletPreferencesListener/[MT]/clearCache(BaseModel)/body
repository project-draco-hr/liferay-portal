{
  PortletPreferencesModel preferences=(PortletPreferencesModel)model;
  try {
    Layout layout=LayoutLocalServiceUtil.getLayout(preferences.getPlid());
    if (!layout.isPrivateLayout()) {
      CacheUtil.clearCache(layout.getCompanyId());
    }
  }
 catch (  Exception e) {
    CacheUtil.clearCache();
  }
}
