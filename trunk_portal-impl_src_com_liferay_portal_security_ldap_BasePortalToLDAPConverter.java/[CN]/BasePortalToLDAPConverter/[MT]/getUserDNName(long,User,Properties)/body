{
  Binding userBinding=PortalLDAPUtil.getUser(ldapServerId,user.getCompanyId(),user.getScreenName(),user.getEmailAddress());
  if (userBinding != null) {
    return PortalLDAPUtil.getNameInNamespace(ldapServerId,user.getCompanyId(),userBinding);
  }
  StringBundler sb=new StringBundler(5);
  sb.append(GetterUtil.getString(userMappings.getProperty(_userDNFieldName),_DEFAULT_DN));
  sb.append(StringPool.EQUAL);
  sb.append(PropertyUtils.getProperty(user,_userDNFieldName));
  sb.append(StringPool.COMMA);
  sb.append(PortalLDAPUtil.getUsersDN(ldapServerId,user.getCompanyId()));
  return sb.toString();
}
