{
  try {
    File testFile=new File(_testFilePath);
    byte[] bytes={'a','b','c','d'};
    byte[] outputBuffer=new byte[3];
    FileOutputStream fileOutputStream=new FileOutputStream(testFile);
    fileOutputStream.write(bytes);
    fileOutputStream.close();
    int position=0;
    int padNumber=0;
    Base64InputStream base64InputStream=new Base64InputStream(new FileInputStream(testFile));
    int returnValue=base64InputStream.decode(bytes,outputBuffer,position,padNumber);
    int expResult=3;
    assertEquals(expResult,returnValue);
    padNumber=1;
    returnValue=base64InputStream.decode(bytes,outputBuffer,position,padNumber);
    expResult=2;
    assertEquals(expResult,returnValue);
    padNumber=2;
    returnValue=base64InputStream.decode(bytes,outputBuffer,position,padNumber);
    expResult=1;
    assertEquals(expResult,returnValue);
    padNumber=3;
    returnValue=base64InputStream.decode(bytes,outputBuffer,position,padNumber);
    expResult=-1;
    assertEquals(expResult,returnValue);
    base64InputStream.close();
    testFile.delete();
  }
 catch (  Exception ex) {
    fail("Test decode failed.");
  }
}
