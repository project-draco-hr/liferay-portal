{
  try {
    File testFile=new File(_TEST_FILE_NAME);
    FileOutputStream fileOutputStream=new FileOutputStream(testFile);
    byte[] bytes={'a','b','c','d'};
    fileOutputStream.write(bytes);
    fileOutputStream.close();
    Base64InputStream base64InputStream=new Base64InputStream(new FileInputStream(testFile));
    byte[] outputBuffer=new byte[3];
    int position=0;
    assertEquals(3,base64InputStream.decode(bytes,outputBuffer,position,0));
    assertEquals(2,base64InputStream.decode(bytes,outputBuffer,position,1));
    assertEquals(1,base64InputStream.decode(bytes,outputBuffer,position,2));
    assertEquals(-1,base64InputStream.decode(bytes,outputBuffer,position,3));
    base64InputStream.close();
    testFile.delete();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}
