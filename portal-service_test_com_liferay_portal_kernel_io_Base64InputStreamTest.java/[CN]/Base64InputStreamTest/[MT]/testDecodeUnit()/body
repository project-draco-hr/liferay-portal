{
  File testFile=new File(_TEST_FILE_NAME);
  FileOutputStream fileOutputStream=new FileOutputStream(testFile);
  byte[] bytes={'a','b','c','d','e','f','h','=','e','f','=','=','e','=','e','f','=','a'};
  fileOutputStream.write(bytes);
  fileOutputStream.close();
  Base64InputStream base64InputStream=new Base64InputStream(new FileInputStream(testFile));
  byte[] outputBuffer=new byte[3];
  int position=0;
  assertEquals(3,base64InputStream.decodeUnit(outputBuffer,position));
  assertEquals(2,base64InputStream.decodeUnit(outputBuffer,position));
  assertEquals(1,base64InputStream.decodeUnit(outputBuffer,position));
  assertEquals(-1,base64InputStream.decodeUnit(outputBuffer,position));
  assertEquals(-1,base64InputStream.decodeUnit(outputBuffer,position));
  assertEquals(-1,base64InputStream.decodeUnit(outputBuffer,position));
  base64InputStream.close();
  testFile.delete();
}
