{
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abc\rde"),5);
  assertEquals("abc",unsyncBufferedReader.readLine());
  assertEquals(4,unsyncBufferedReader.index);
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abc\nde"),5);
  assertEquals("abc",unsyncBufferedReader.readLine());
  assertEquals(4,unsyncBufferedReader.index);
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abc\r\nde"),5);
  assertEquals("abc",unsyncBufferedReader.readLine());
  assertEquals(5,unsyncBufferedReader.index);
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abc"),5);
  assertEquals("abc",unsyncBufferedReader.readLine());
  assertEquals(0,unsyncBufferedReader.index);
  assertNull(unsyncBufferedReader.readLine());
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abcdefghijklmn\r"),5);
  assertEquals("abcdefghijklmn",unsyncBufferedReader.readLine());
  assertEquals(5,unsyncBufferedReader.index);
}
