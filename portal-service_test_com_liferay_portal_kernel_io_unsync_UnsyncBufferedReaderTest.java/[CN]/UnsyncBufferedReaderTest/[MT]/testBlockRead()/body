{
  StringReader stringReader=new StringReader("abcdefghi");
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(stringReader,5);
  assertEquals(5,unsyncBufferedReader.buffer.length);
  assertTrue(stringReader.ready());
  assertTrue(unsyncBufferedReader.ready());
  char[] buffer=new char[3];
  assertEquals(0,unsyncBufferedReader.read(buffer,0,0));
  assertEquals(0,unsyncBufferedReader.read(buffer,0,-1));
  assertEquals('a',unsyncBufferedReader.read());
  assertEquals(1,unsyncBufferedReader.index);
  assertEquals(5,unsyncBufferedReader.firstInvalidIndex);
  int read=unsyncBufferedReader.read(buffer);
  assertEquals(buffer.length,read);
  assertEquals('b',buffer[0]);
  assertEquals('c',buffer[1]);
  assertEquals('d',buffer[2]);
  assertEquals(4,unsyncBufferedReader.index);
  assertEquals(5,unsyncBufferedReader.firstInvalidIndex);
  assertEquals('e',unsyncBufferedReader.read());
  assertEquals(5,unsyncBufferedReader.index);
  assertEquals(5,unsyncBufferedReader.firstInvalidIndex);
  read=unsyncBufferedReader.read(buffer);
  assertEquals(buffer.length,read);
  assertEquals('f',buffer[0]);
  assertEquals('g',buffer[1]);
  assertEquals('h',buffer[2]);
  assertEquals(3,unsyncBufferedReader.index);
  assertEquals(4,unsyncBufferedReader.firstInvalidIndex);
  stringReader=new StringReader(new String(_BUFFER));
  unsyncBufferedReader=new UnsyncBufferedReader(stringReader,_SIZE);
  char[] tempBuffer=new char[_SIZE];
  unsyncBufferedReader.read(tempBuffer);
  stringReader=new StringReader(new String(_BUFFER));
  unsyncBufferedReader=new UnsyncBufferedReader(stringReader,5);
  unsyncBufferedReader.mark(_SIZE);
  assertEquals(_SIZE,unsyncBufferedReader.read(tempBuffer));
  assertEquals(-1,unsyncBufferedReader.read(tempBuffer));
}
