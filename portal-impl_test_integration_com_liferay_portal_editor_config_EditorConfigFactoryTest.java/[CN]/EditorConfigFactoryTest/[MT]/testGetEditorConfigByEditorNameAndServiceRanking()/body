{
  Registry registry=RegistryUtil.getRegistry();
  EditorConfigContributor textFormatEditorConfigContributor=new TextFormatEditorConfigContributor();
  Map<String,Object> properties=new HashMap<>();
  properties.put("editor.name",_EDITOR_NAME);
  properties.put("service.ranking",1000);
  _editorConfigContributorServiceRegistration1=registry.registerService(EditorConfigContributor.class,textFormatEditorConfigContributor,properties);
  EditorConfigContributor videoEditorVideoConfigContributor=new VideoEditorConfigContributor();
  properties=new HashMap<>();
  properties.put("editor.name",_EDITOR_NAME);
  properties.put("service.ranking",2000);
  _editorConfigContributorServiceRegistration2=registry.registerService(EditorConfigContributor.class,videoEditorVideoConfigContributor,properties);
  EditorConfig editorConfig=EditorConfigFactoryUtil.getEditorConfig(_PORTLET_NAME,_CONFIG_KEY,_EDITOR_NAME,new HashMap<String,Object>(),null,null);
  JSONObject configJSONObject=editorConfig.getConfigJSONObject();
  Assert.assertEquals(TextFormatEditorConfigContributor.class.getName(),configJSONObject.getString("className"));
  JSONObject toolbarsJSONObject=configJSONObject.getJSONObject("toolbars");
  Assert.assertEquals("link",toolbarsJSONObject.getString("button1"));
  Assert.assertEquals("play",toolbarsJSONObject.getString("button2"));
  Assert.assertEquals("stop",toolbarsJSONObject.getString("button3"));
}
