{
  _session=new SessionImpl(_sessionFactoryImpl.openSession(new EmptyInterceptor(){
    @Override public String getEntityName(    Object object){
      if (object instanceof TestClassNameImpl) {
        return ClassNameImpl.class.getName();
      }
      return super.getEntityName(object);
    }
  }
));
  _className1=new TestClassNameImpl();
  _className1.setPrimaryKey(RandomTestUtil.nextLong());
  _session.save(_className1);
  _className2=new ClassNameImpl();
  _className2.setPrimaryKey(RandomTestUtil.nextLong());
  _session.save(_className2);
  _session.flush();
  _className1.setValue(RandomTestUtil.randomString());
  _className1.setMvccVersion(_className1.getMvccVersion() + 1);
  _className2.setValue(RandomTestUtil.randomString());
  _className2.setMvccVersion(_className1.getMvccVersion() + 1);
  TransactionInvokerUtil.invoke(_transactionConfig,callable);
}
