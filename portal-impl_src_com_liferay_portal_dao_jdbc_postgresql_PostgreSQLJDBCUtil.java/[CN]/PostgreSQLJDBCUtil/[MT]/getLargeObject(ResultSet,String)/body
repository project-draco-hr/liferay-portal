{
  Statement statement=resultSet.getStatement();
  Connection connection=statement.getConnection();
  connection.setAutoCommit(false);
  try {
    PGConnection pgConnection=connection.unwrap(PGConnection.class);
    LargeObjectManager largeObjectManager=pgConnection.getLargeObjectAPI();
    long id=resultSet.getLong(name);
    LargeObject largeObject=largeObjectManager.open(id,LargeObjectManager.READ);
    byte[] bytes=new byte[largeObject.size()];
    largeObject.read(bytes,0,largeObject.size());
    largeObject.close();
    return bytes;
  }
  finally {
    connection.setAutoCommit(true);
  }
}
