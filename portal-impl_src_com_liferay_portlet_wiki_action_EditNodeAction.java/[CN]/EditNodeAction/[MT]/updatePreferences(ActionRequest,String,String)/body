{
  PortletPreferences preferences=actionRequest.getPreferences();
  String hiddenNodes=preferences.getValue("hiddenNodes",StringPool.BLANK);
  String visibleNodes=preferences.getValue("visibleNodes",StringPool.BLANK);
  String regex=oldName + ",?";
  preferences.setValue("hiddenNodes",hiddenNodes.replaceFirst(regex,newName));
  preferences.setValue("visibleNodes",visibleNodes.replaceFirst(regex,newName));
  preferences.store();
}
