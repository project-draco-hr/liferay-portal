{
  PortletPreferences portletPreferences=actionRequest.getPreferences();
  String hiddenNodes=portletPreferences.getValue("hiddenNodes",StringPool.BLANK);
  String visibleNodes=portletPreferences.getValue("visibleNodes",StringPool.BLANK);
  String regex=oldName + ",?";
  portletPreferences.setValue("hiddenNodes",hiddenNodes.replaceFirst(regex,newName));
  portletPreferences.setValue("visibleNodes",visibleNodes.replaceFirst(regex,newName));
  portletPreferences.store();
}
