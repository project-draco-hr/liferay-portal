{
  Registry registry=RegistryUtil.getRegistry();
  RepositoryDefiner repositoryDefiner=registry.getService(serviceReference);
  RepositoryClassDefinition repositoryClassDefinition=RepositoryClassDefinition.fromRepositoryDefiner(repositoryDefiner);
  String className=repositoryDefiner.getClassName();
  if (repositoryDefiner.isExternalRepository()) {
    _externalRepositoriesClassNames.add(className);
    _externalRepositoryClassDefinitions.put(className,repositoryClassDefinition);
  }
  _repositoryClassDefinitions.put(className,repositoryClassDefinition);
  return repositoryDefiner;
}
