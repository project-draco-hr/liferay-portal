{
  LazyConnectionDataSourceProxy lazyConnectionDataSourceProxy=(LazyConnectionDataSourceProxy)PortalBeanLocatorUtil.locate("counterDataSource");
  Object dataSource=getDataSource();
  if (dataSource == null) {
    return;
  }
  if (dataSource.equals(lazyConnectionDataSourceProxy.getTargetDataSource())) {
    _name="counterDataSource";
    return;
  }
  lazyConnectionDataSourceProxy=(LazyConnectionDataSourceProxy)PortalBeanLocatorUtil.locate("liferayDataSource");
  Object targetDataSource=lazyConnectionDataSourceProxy.getTargetDataSource();
  if (dataSource.equals(targetDataSource)) {
    _name="liferayDataSource";
    return;
  }
 else   if (AopUtils.isAopProxy(targetDataSource) && (targetDataSource instanceof Advised)) {
    Advised advised=(Advised)targetDataSource;
    targetDataSource=advised.getTargetSource();
    if (targetDataSource instanceof DefaultDynamicDataSourceTargetSource) {
      try {
        Object readDataSource=((DefaultDynamicDataSourceTargetSource)targetDataSource).getReadDataSource();
        if (dataSource.equals(readDataSource)) {
          _name="readDataSource";
          return;
        }
        Object writeDataSource=((DefaultDynamicDataSourceTargetSource)targetDataSource).getWriteDataSource();
        if (dataSource.equals(writeDataSource)) {
          _name="writeDataSource";
          return;
        }
      }
 catch (      Exception e) {
      }
    }
  }
  _name=getPoolName();
}
