{
  CaptureHandler captureHandler=JDKLoggerTestUtil.configureJDKLogger(_CLASS_NAME,Level.WARNING);
  try {
    List<LogRecord> logRecords=captureHandler.getLogRecords();
    ClusterMasterExecutorImpl clusterMasterExecutorImpl=new ClusterMasterExecutorImpl();
    ClusterExecutor mockClusterExecutor=new MockClusterExecutor(true);
    clusterMasterExecutorImpl.setClusterExecutor(mockClusterExecutor);
    clusterMasterExecutorImpl.initialize();
    Assert.assertTrue(clusterMasterExecutorImpl.isEnabled());
    MockLockLocalService.setUnlockError(true);
    clusterMasterExecutorImpl.destroy();
    Assert.assertEquals(1,logRecords.size());
    LogRecord logRecord=logRecords.get(0);
    Assert.assertEquals("Unable to destroy the cluster master executor",logRecord.getMessage());
    logRecords=captureHandler.resetLogLevel(Level.OFF);
    clusterMasterExecutorImpl.destroy();
    Assert.assertTrue(logRecords.isEmpty());
  }
  finally {
    captureHandler.close();
    MockLockLocalService.setUnlockError(false);
  }
}
