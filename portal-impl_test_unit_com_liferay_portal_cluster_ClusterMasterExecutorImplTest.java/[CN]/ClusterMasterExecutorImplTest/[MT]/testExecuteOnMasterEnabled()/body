{
  PortalUUIDUtil portalUUIDUtil=new PortalUUIDUtil();
  portalUUIDUtil.setPortalUUID(new PortalUUIDImpl());
  ClusterMasterExecutorImpl clusterMasterExecutorImpl=new ClusterMasterExecutorImpl();
  clusterMasterExecutorImpl.setClusterExecutor(new MockClusterExecutor(true));
  clusterMasterExecutorImpl.initialize();
  Assert.assertTrue(clusterMasterExecutorImpl.isEnabled());
  String timeString=String.valueOf(System.currentTimeMillis());
  MethodHandler methodHandler=new MethodHandler(testMethodMethodKey,timeString);
  NoticeableFuture<String> noticeableFuture=clusterMasterExecutorImpl.executeOnMaster(methodHandler);
  Assert.assertSame(timeString,noticeableFuture.get());
  try {
    clusterMasterExecutorImpl.executeOnMaster(null);
    Assert.fail();
  }
 catch (  SystemException se) {
    Assert.assertEquals("Unable to execute on master " + _LOCAL_ADDRESS.getDescription(),se.getMessage());
  }
}
