{
  ClusterMasterExecutorImpl clusterMasterExecutorImpl=new ClusterMasterExecutorImpl();
  MockClusterExecutor mockClusterExecutor=new MockClusterExecutor(true);
  mockClusterExecutor.addClusterNodeAddress(_OTHER_ADDRESS);
  clusterMasterExecutorImpl.setClusterExecutor(mockClusterExecutor);
  clusterMasterExecutorImpl.initialize();
  List<ClusterEventListener> clusterEventListeners=mockClusterExecutor.getClusterEventListeners();
  ClusterEventListener clusterEventListener=clusterEventListeners.get(0);
  Assert.assertTrue(clusterMasterExecutorImpl.isMaster());
  clusterEventListener.processClusterEvent(null);
  Assert.assertTrue(clusterMasterExecutorImpl.isMaster());
  _mockLockLocalService.setLock(AddressSerializerUtil.serialize(_OTHER_ADDRESS));
  clusterEventListener.processClusterEvent(null);
  Assert.assertFalse(clusterMasterExecutorImpl.isMaster());
}
