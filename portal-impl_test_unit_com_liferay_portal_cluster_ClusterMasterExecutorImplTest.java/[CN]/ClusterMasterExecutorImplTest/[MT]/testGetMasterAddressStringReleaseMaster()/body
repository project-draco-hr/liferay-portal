{
  ClusterMasterExecutorImpl clusterMasterExecutorImpl=new ClusterMasterExecutorImpl();
  ClusterExecutor mockClusterExecutor=new MockClusterExecutor(true);
  clusterMasterExecutorImpl.setClusterExecutor(mockClusterExecutor);
  ClusterMasterTokenTransitionListener clusterMasterTokenTransitionListener=new MockClusterMasterTokenTransitionListener();
  clusterMasterExecutorImpl.registerClusterMasterTokenTransitionListener(clusterMasterTokenTransitionListener);
  clusterMasterExecutorImpl.initialize();
  Assert.assertTrue(clusterMasterExecutorImpl.isMaster());
  long otherTime=_TEST_TIME + 1;
  Address otherAddress=new AddressImpl(new MockAddress(otherTime));
  MockClusterExecutor.addClusterNodeAddress(otherAddress);
  String otherOwner=AddressSerializerUtil.serialize(otherAddress);
  MockLockLocalService.setLock(otherOwner);
  clusterMasterExecutorImpl.getMasterAddressString();
  Assert.assertFalse(clusterMasterExecutorImpl.isMaster());
}
