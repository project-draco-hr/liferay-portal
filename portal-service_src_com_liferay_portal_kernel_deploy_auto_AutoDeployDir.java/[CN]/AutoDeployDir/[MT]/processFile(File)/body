{
  String fileName=file.getName();
  if (!file.canRead()) {
    _log.error("Unable to read " + fileName);
    return;
  }
  if (!file.canWrite()) {
    _log.error("Unable to write " + fileName);
    return;
  }
  if (_blacklistFileTimestamps.containsKey(fileName) && (_blacklistFileTimestamps.get(fileName) == file.lastModified())) {
    if (_log.isDebugEnabled()) {
      _log.debug("Skip processing of " + fileName + " because it is "+ "blacklisted");
    }
    return;
  }
  if (_log.isInfoEnabled()) {
    _log.info("Processing " + fileName);
  }
  try {
    AutoDeploymentContext autoDeploymentContext=buildAutoDeploymentContext(file);
    deploy(autoDeploymentContext,_autoDeployListeners);
    if (file.delete()) {
      return;
    }
    _log.error("Auto deploy failed to remove " + fileName);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  if (_log.isInfoEnabled()) {
    _log.info("Add " + fileName + " to the blacklist");
  }
  _blacklistFileTimestamps.put(fileName,file.lastModified());
}
