{
  File[] files=_deployDir.listFiles();
  Set<String> blacklistedFileNames=_blacklistFileTimestamps.keySet();
  Iterator<String> iterator=blacklistedFileNames.iterator();
  while (iterator.hasNext()) {
    String blacklistedFileName=iterator.next();
    boolean blacklistedFileExists=false;
    for (    File file : files) {
      if (blacklistedFileName.equalsIgnoreCase(file.getName())) {
        blacklistedFileExists=true;
      }
    }
    if (!blacklistedFileExists) {
      if (_log.isDebugEnabled()) {
        _log.debug("Remove blacklisted file " + blacklistedFileName + " because it was deleted");
      }
      iterator.remove();
    }
  }
  for (  File file : files) {
    String fileName=file.getName();
    fileName=fileName.toLowerCase();
    if (file.isFile() && (fileName.endsWith(".jar") || fileName.endsWith(".lpkg") || fileName.endsWith(".war")|| fileName.endsWith(".xml")|| fileName.endsWith(".zip"))) {
      processFile(file);
    }
  }
}
