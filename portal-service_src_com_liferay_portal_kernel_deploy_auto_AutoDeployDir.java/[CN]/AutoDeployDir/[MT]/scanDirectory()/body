{
  File[] files=_deployDir.listFiles();
  for (Iterator<String> it=_blacklistFiles.keySet().iterator(); it.hasNext(); ) {
    String blacklistedFileName=it.next();
    boolean blacklistedFileExists=false;
    for (    File file : files) {
      if (blacklistedFileName.equalsIgnoreCase(file.getName())) {
        blacklistedFileExists=true;
      }
    }
    if (!blacklistedFileExists) {
      if (_log.isDebugEnabled()) {
        _log.debug("Remove blacklisted file " + blacklistedFileName + " because it was deleted.");
      }
      it.remove();
    }
  }
  for (  File file : files) {
    String fileName=file.getName().toLowerCase();
    if (file.isFile() && (fileName.endsWith(".jar") || fileName.endsWith(".lpkg") || fileName.endsWith(".war")|| fileName.endsWith(".xml")|| fileName.endsWith(".zip"))) {
      processFile(file);
    }
  }
}
