{
  File[] files=_deployDir.listFiles();
  if (files == null) {
    return;
  }
  Set<String> blacklistedFileNames=_blacklistFileTimestamps.keySet();
  Iterator<String> iterator=blacklistedFileNames.iterator();
  while (iterator.hasNext()) {
    String blacklistedFileName=iterator.next();
    boolean blacklistedFileExists=false;
    for (    File file : files) {
      if (StringUtil.equalsIgnoreCase(blacklistedFileName,file.getName())) {
        blacklistedFileExists=true;
      }
    }
    if (!blacklistedFileExists) {
      if (_log.isDebugEnabled()) {
        _log.debug("Remove blacklisted file " + blacklistedFileName + " because it was deleted");
      }
      iterator.remove();
    }
  }
  for (  File file : files) {
    String fileName=file.getName();
    fileName=StringUtil.toLowerCase(fileName);
    if (file.isFile() && (fileName.endsWith(".jar") || fileName.endsWith(".lpkg") || fileName.endsWith(".war")|| fileName.endsWith(".xml")|| fileName.endsWith(".zip"))) {
      processFile(file);
    }
  }
}
