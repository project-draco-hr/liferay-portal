{
  Signature signature=proceedingJoinPoint.getSignature();
  String methodName=signature.getName();
  if (isReadOnlyMethod(methodName)) {
    _dynamicDataSourceTargetSource.setOperation(Operation.READ_ONLY);
  }
 else {
    _dynamicDataSourceTargetSource.setOperation(Operation.TRANSACTIONAL);
  }
  StringBuilder sb=new StringBuilder();
  sb.append(signature.getDeclaringType().getName());
  sb.append(StringPool.PERIOD);
  sb.append(methodName);
  _dynamicDataSourceTargetSource.pushMethod(sb.toString());
  Object returnValue=null;
  try {
    returnValue=proceedingJoinPoint.proceed();
  }
  finally {
    _dynamicDataSourceTargetSource.popMethod();
  }
  return returnValue;
}
