{
  Configuration configuration=configurationAdmin.getConfiguration(configurationClass.getName());
  boolean allowDeleted=false;
  if ((getClass() == FileSystemStore.class) && (configurationClass != FileSystemStoreConfiguration.class)) {
    allowDeleted=true;
  }
  if ((getClass() == AdvancedFileSystemStore.class) && (configurationClass != AdvancedFileSystemStoreConfiguration.class)) {
    allowDeleted=true;
  }
  try {
    return configuration.getProperties();
  }
 catch (  IllegalStateException ise) {
    if (allowDeleted) {
      return null;
    }
    throw ise;
  }
}
