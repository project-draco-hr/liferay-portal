{
  File propsFile=new File(srcFile + "/WEB-INF/liferay-plugin-portal-dependencies.properties");
  if (!propsFile.exists()) {
    return;
  }
  String propsString=FileUtil.read(propsFile);
  propsString=StringUtil.replace(propsString,new String[]{"\\\n","\t","    "},new String[]{StringPool.BLANK,StringPool.BLANK,StringPool.BLANK});
  Properties props=PropertiesUtil.load(propsString);
  String[] portalJars=StringUtil.split(props.getProperty("jars"));
  for (int i=0; i < portalJars.length; i++) {
    String portalJar=portalJars[i].trim();
    if (_log.isDebugEnabled()) {
      _log.debug("Copy portal JAR " + portalJar);
    }
    try {
      String portalJarPath=PortalUtil.getPortalLibDir() + portalJar;
      FileUtil.copyFile(portalJarPath,srcFile + "/WEB-INF/lib/" + portalJar,true);
    }
 catch (    Exception e) {
      _log.error("Unable to copy portal JAR " + portalJar,e);
    }
  }
  String[] portalTlds=StringUtil.split(props.getProperty("tlds"));
  for (int i=0; i < portalTlds.length; i++) {
    String portalTld=portalTlds[i].trim();
    if (_log.isDebugEnabled()) {
      _log.debug("Copy portal TLD " + portalTld);
    }
    try {
      String portalTldPath=DeployUtil.getResourcePath(portalTld);
      FileUtil.copyFile(portalTldPath,srcFile + "/WEB-INF/tld/" + portalTld,true);
    }
 catch (    Exception e) {
      _log.error("Unable to copy portal TLD " + portalTld,e);
    }
  }
}
