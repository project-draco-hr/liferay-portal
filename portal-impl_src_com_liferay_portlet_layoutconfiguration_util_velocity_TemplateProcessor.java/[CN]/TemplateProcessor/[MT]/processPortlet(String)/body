{
  _request.setAttribute(WebKeys.RENDER_PORTLET_RESOURCE,Boolean.TRUE);
  BufferCacheServletResponse bufferCacheServletResponse=new BufferCacheServletResponse(_response);
  try {
    PortletContainerUtil.render(_request,bufferCacheServletResponse,_portlet);
    return bufferCacheServletResponse.getString();
  }
  finally {
    _request.removeAttribute(WebKeys.RENDER_PORTLET_RESOURCE);
  }
}
