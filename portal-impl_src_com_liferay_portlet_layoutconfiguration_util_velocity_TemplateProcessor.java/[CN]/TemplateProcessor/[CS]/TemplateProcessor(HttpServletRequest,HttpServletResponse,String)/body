{
  _request=request;
  _response=response;
  _portletsMap=new TreeMap<Portlet,Object[]>(new PortletRenderWeightComparator());
  if (Validator.isNotNull(portletId)) {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(com.liferay.portal.util.WebKeys.THEME_DISPLAY);
    _portlet=PortletLocalServiceUtil.getPortletById(themeDisplay.getCompanyId(),portletId);
  }
}
