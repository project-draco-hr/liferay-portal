{
  ByteBuf byteBuf=(ByteBuf)object;
  if (!receive(byteBuf)) {
    return;
  }
  fileChannel.close();
  if (eventExecutor.inEventLoop() || !fileResponse.isFolder()) {
    finish();
  }
 else {
    eventExecutor.submit(new Callable<Void>(){
      @Override public Void call() throws IOException {
        try {
          finish();
        }
 catch (        IOException ioe) {
          exceptionCaught(null,ioe);
        }
        return null;
      }
    }
);
  }
  ChannelPipeline channelPipeline=channelHandlerContext.pipeline();
  channelPipeline.remove(this);
  if (byteBuf.isReadable()) {
    channelHandlerContext.fireChannelRead(object);
  }
}
