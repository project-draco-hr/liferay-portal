{
  _addResourceBlock(_RESOURCE_BLOCK_ID,_REFERENCE_COUNT);
  PermissionedModel permissionedModel=new MockPermissionedModel();
  permissionedModel.setResourceBlockId(_RESOURCE_BLOCK_ID);
  Callable<Void> releaseResourceBlockCallable=new ReleaseResourceBlockCallable(permissionedModel,null);
  List<Callable<Void>> callables=new ArrayList<Callable<Void>>(_REFERENCE_COUNT);
  for (int i=0; i < _REFERENCE_COUNT; i++) {
    callables.add(releaseResourceBlockCallable);
  }
  ExecutorService executorService=Executors.newFixedThreadPool(_THREAD_COUNT,new NamedThreadFactory("Concurrent Release-",Thread.NORM_PRIORITY,null));
  List<Future<Void>> futures=executorService.invokeAll(callables);
  for (  Future<Void> future : futures) {
    future.get();
  }
  executorService.shutdownNow();
  _assertNoSuchResourceBlock(_RESOURCE_BLOCK_ID);
}
