{
  try (LoggingTimer loggingTimer=new LoggingTimer();PreparedStatement ps1=connection.prepareStatement("select content, groupId, id_, resourcePrimKey, userId from " + "JournalArticle where content like ?")){
    ps1.setString(1,"%type=\"image\"%");
    ResultSet rs1=ps1.executeQuery();
    while (rs1.next()) {
      String content=rs1.getString(1);
      long groupId=rs1.getLong(2);
      long id=rs1.getLong(3);
      long resourcePrimKey=rs1.getLong(4);
      long userId=rs1.getLong(5);
      String newContent=convertTypeImageElements(userId,groupId,content,resourcePrimKey);
      try (PreparedStatement ps2=connection.prepareStatement("update JournalArticle set content = ? where id_ = " + "?")){
        ps2.setString(1,newContent);
        ps2.setLong(2,id);
        ps2.executeUpdate();
      }
     }
  }
 }
