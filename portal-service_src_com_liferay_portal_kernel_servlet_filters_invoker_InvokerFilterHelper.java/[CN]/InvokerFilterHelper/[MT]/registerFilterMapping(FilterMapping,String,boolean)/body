{
  int i=0;
  int index=0;
  if (Validator.isNotNull(filterName)) {
    Filter filter=_filters.get(filterName);
    if (filter != null) {
      for (; i < _filterMappings.size(); i++) {
        FilterMapping currentFilterMapping=_filterMappings.get(i);
        if (currentFilterMapping.getFilter() == filter) {
          if (after) {
            index=i;
          }
 else {
            break;
          }
        }
      }
    }
  }
  if (after) {
    i=++index;
  }
  _filterMappings.add(i,filterMapping);
  for (  InvokerFilter invokerFilter : _invokerFilters) {
    invokerFilter.clearFilterChainsCache();
  }
}
