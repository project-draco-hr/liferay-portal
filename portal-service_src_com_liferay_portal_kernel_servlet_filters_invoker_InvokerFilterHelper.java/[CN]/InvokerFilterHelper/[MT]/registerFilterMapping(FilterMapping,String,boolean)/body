{
  int x=0;
  int y=0;
  if (Validator.isNotNull(filterName)) {
    Filter filter=_filters.get(filterName);
    if (filter != null) {
      for (; x < _filterMappings.size(); x++) {
        FilterMapping currentFilterMapping=_filterMappings.get(x);
        if (currentFilterMapping.getFilter() == filter) {
          if (after) {
            y=x;
          }
 else {
            break;
          }
        }
      }
    }
  }
  if (after) {
    x=++y;
  }
  _filterMappings.add(x,filterMapping);
  for (  InvokerFilter invokerFilter : _invokerFilters) {
    invokerFilter.clearFilterChainsCache();
  }
}
