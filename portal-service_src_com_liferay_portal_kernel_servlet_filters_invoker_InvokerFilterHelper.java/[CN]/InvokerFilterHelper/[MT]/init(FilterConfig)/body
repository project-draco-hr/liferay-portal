{
  try {
    ServletContext servletContext=filterConfig.getServletContext();
    readLiferayFilterWebXML(servletContext,"/WEB-INF/liferay-web.xml");
    Registry registry=RegistryUtil.getRegistry();
    com.liferay.registry.Filter filter=registry.getFilter("(&(servlet-context-name=" + GetterUtil.getString(servletContext.getServletContextName()) + ")(servlet-filter-name=*)(objectClass="+ Filter.class.getName()+ "))");
    _serviceTracker=registry.trackServices(filter,new FilterServiceTrackerCustomizer());
    _serviceTracker.open();
  }
 catch (  Exception e) {
    _log.error(e,e);
    throw new ServletException(e);
  }
}
