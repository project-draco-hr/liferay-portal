{
  String filterName=filterMapping.getFilterName();
  while (true) {
    List<FilterMapping> previousFilterMappings=_filterMappingsMap.get(filterName);
    List<FilterMapping> filterMappings=new ArrayList<>(previousFilterMappings);
    filterMappings.remove(filterMapping);
    if (filterMappings.isEmpty()) {
      if (_filterMappingsMap.remove(filterName,previousFilterMappings)) {
        _filterNames.remove(filterName);
        break;
      }
    }
 else {
      if (_filterMappingsMap.replace(filterName,previousFilterMappings,filterMappings)) {
        break;
      }
    }
  }
}
