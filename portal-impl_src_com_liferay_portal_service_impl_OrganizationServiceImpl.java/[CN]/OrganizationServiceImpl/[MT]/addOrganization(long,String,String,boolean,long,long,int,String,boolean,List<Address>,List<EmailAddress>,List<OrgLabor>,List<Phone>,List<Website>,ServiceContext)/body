{
  boolean indexingEnabled=serviceContext.isIndexingEnabled();
  serviceContext.setIndexingEnabled(false);
  try {
    Organization organization=addOrganization(parentOrganizationId,name,type,recursable,regionId,countryId,statusId,comments,site,serviceContext);
    UsersAdminUtil.updateAddresses(Organization.class.getName(),organization.getOrganizationId(),addresses);
    UsersAdminUtil.updateEmailAddresses(Organization.class.getName(),organization.getOrganizationId(),emailAddresses);
    UsersAdminUtil.updateOrgLabors(organization.getOrganizationId(),orgLabors);
    UsersAdminUtil.updatePhones(Organization.class.getName(),organization.getOrganizationId(),phones);
    UsersAdminUtil.updateWebsites(Organization.class.getName(),organization.getOrganizationId(),websites);
    if (indexingEnabled) {
      Indexer indexer=IndexerRegistryUtil.getIndexer(Organization.class);
      if (parentOrganizationId > 0) {
        String treePath=organization.getTreePath();
        if (treePath != null) {
          if (treePath.startsWith(StringPool.SLASH)) {
            treePath=treePath.substring(1);
          }
          String[] ids=StringUtil.split(treePath,StringPool.SLASH);
          long[] organizationIds=new long[ids.length];
          for (int i=0; i < ids.length; i++) {
            organizationIds[i]=Long.valueOf(ids[i]);
          }
          indexer.reindex(organizationIds);
        }
 else {
          indexer.reindex(organization);
        }
      }
 else {
        indexer.reindex(organization);
      }
    }
    return organization;
  }
  finally {
    serviceContext.setIndexingEnabled(indexingEnabled);
  }
}
