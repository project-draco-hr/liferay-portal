{
  if (_dlGroupServiceSettings != null) {
    return _dlGroupServiceSettings;
  }
  HttpServletRequest request=getRequest();
  _dlGroupServiceSettings=(DLGroupServiceSettings)request.getAttribute(DLWebKeys.DOCUMENT_LIBRARY_GROUP_SERVICE_SETTINGS);
  if (_dlGroupServiceSettings != null) {
    return _dlGroupServiceSettings;
  }
  String portletResource=getPortletResource();
  try {
    if (Validator.isNotNull(portletResource)) {
      _dlGroupServiceSettings=DLGroupServiceSettings.getInstance(getScopeGroupId(),request.getParameterMap());
    }
 else {
      _dlGroupServiceSettings=DLGroupServiceSettings.getInstance(getScopeGroupId());
    }
  }
 catch (  PortalException pe) {
    throw new SystemException(pe);
  }
  request.setAttribute(DLWebKeys.DOCUMENT_LIBRARY_GROUP_SERVICE_SETTINGS,_dlGroupServiceSettings);
  return _dlGroupServiceSettings;
}
