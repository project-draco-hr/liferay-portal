{
  BaseValidatorTagSupport baseValidatorTagSupport=(BaseValidatorTagSupport)findAncestorWithClass(this,BaseValidatorTagSupport.class);
  String name=getName();
  _custom=ModelHintsUtil.isCustomValidator(name);
  if (_custom) {
    HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
    final String namespace=baseValidatorTagSupport.getInputName();
    StringBuffer customName=new StringBuffer();
    customName.append(namespace);
    customName.append(StringPool.UNDERLINE);
    customName.append(PortalUtil.getUniqueElementId(request,namespace,name));
    name=customName.toString();
  }
  ValidatorTag validatorTag=new ValidatorTagImpl(name,getErrorMessage(),_body,_custom);
  baseValidatorTagSupport.addValidatorTag(name,validatorTag);
  return EVAL_BODY_BUFFERED;
}
