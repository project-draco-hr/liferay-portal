{
  BaseValidatorTagSupport baseValidatorTagSupport=(BaseValidatorTagSupport)findAncestorWithClass(this,BaseValidatorTagSupport.class);
  String name=getName();
  _custom=ModelHintsUtil.isCustomValidator(name);
  if (_custom) {
    HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
    String namespace=baseValidatorTagSupport.getInputName();
    StringBundler sb=new StringBundler(3);
    sb.append(namespace);
    sb.append(StringPool.UNDERLINE);
    sb.append(PortalUtil.getUniqueElementId(request,namespace,name));
    name=sb.toString();
  }
  ValidatorTag validatorTag=new ValidatorTagImpl(name,getErrorMessage(),_body,_custom);
  baseValidatorTagSupport.addValidatorTag(name,validatorTag);
  return EVAL_BODY_BUFFERED;
}
