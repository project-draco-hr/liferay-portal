{
  super.doBeforeExecute();
  File bndRootFile=getBndRootFile();
  File rootDir=bndRootFile.getParentFile();
  if ((_bndFile == null) || !_bndFile.exists() || _bndFile.isDirectory()) {
    if (_bndFile != null) {
      log("File is either missing or is a directory " + _bndFile.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("Bnd file is invalid");
  }
  if (_newJarFile == null) {
    throw new BuildException("New jar file is invalid");
  }
  _reportLevel=project.getProperty("baseline.jar.report.level");
  if (_reportLevel == null) {
    _reportLevel="";
  }
  _reportLevelIsDiff=_reportLevel.equals("diff");
  _reportLevelIsOff=_reportLevel.equals("off");
  boolean reportLevelIsPersist=_reportLevel.equals("persist");
  if (reportLevelIsPersist) {
    _reportLevelIsDiff=true;
    File baselineReportsDir=new File(rootDir,getBaselineReportsDirName());
    _logFile=new File(baselineReportsDir,_newJarFile.getName() + ".log");
  }
  _reportOnlyDirtyPackages=Boolean.parseBoolean(project.getProperty("baseline.jar.report.only.dirty.packages"));
  String sourceDirName=project.getProperty("plugin.source.dir");
  if (sourceDirName == null) {
    sourceDirName=project.getBaseDir() + "/src";
  }
  _sourceDir=new File(sourceDirName);
}
