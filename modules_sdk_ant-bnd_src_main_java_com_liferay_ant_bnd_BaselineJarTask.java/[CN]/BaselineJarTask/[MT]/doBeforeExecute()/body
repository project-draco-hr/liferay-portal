{
  super.doBeforeExecute();
  File bndRootFile=getBndRootFile();
  File rootDir=bndRootFile.getParentFile();
  if ((_bndFile == null) || !_bndFile.exists() || _bndFile.isDirectory()) {
    if (_bndFile != null) {
      log("File is either missing or is a directory " + _bndFile.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("Bnd file is invalid");
  }
  if (_newJarFile == null) {
    throw new BuildException("New jar file is invalid");
  }
  _reportLevel=project.getProperty("baseline.jar.report.level");
  if (_reportLevel == null) {
    _reportLevel="";
  }
  _reportLevelIsDiff=_reportLevel.equals("diff");
  _reportLevelIsOff=_reportLevel.equals("off");
  _reportLevelIsPersist=_reportLevel.equals("persist");
  _reportLevelIsStandard=_reportLevel.equals("standard");
  if (_reportLevelIsPersist) {
    _reportLevelIsDiff=true;
    File baselineReportsDir=new File(rootDir,getBaselineResportsDirName());
    if (!baselineReportsDir.exists() && !baselineReportsDir.mkdir()) {
      throw new BuildException("Unable to create " + baselineReportsDir.getName());
    }
    _logFile=new File(baselineReportsDir,_newJarFile.getName() + ".log");
    if (_logFile.exists()) {
      _logFile.delete();
    }
  }
  _reportOnlyDirtyPackages=Boolean.parseBoolean(project.getProperty("baseline.jar.report.only.dirty.packages"));
}
