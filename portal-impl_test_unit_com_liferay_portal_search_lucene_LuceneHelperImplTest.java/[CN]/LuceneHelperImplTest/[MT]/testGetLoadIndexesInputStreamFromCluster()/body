{
  URL url=new URL("http://127.0.0.1:80/lucene/dump");
  final MockURLConnection mockURLConnection=new MockURLConnection(url);
  ReflectionTestUtil.setFieldValue(url,"handler",new URLStreamHandler(){
    @Override protected URLConnection openConnection(    URL url){
      return mockURLConnection;
    }
  }
);
  SkipGetBootupClusterNodeObjectValuePairAdvice.setURL(url);
  InputStream inputStream=_luceneHelperImpl.getLoadIndexesInputStreamFromCluster(_COMPANY_ID,new AddressImpl(new MockAddress()));
  Assert.assertNotNull(inputStream);
  _mockIndexAccessor.loadIndex(inputStream);
  mockURLConnection.assertOutputContent("transientToken=&companyId=" + _COMPANY_ID);
  Assert.assertArrayEquals(_RESPONSE_MESSAGE,_mockIndexAccessor.getResponseMessage());
}
