{
  PortalUtil portalUtil=new PortalUtil();
  portalUtil.setPortal(new PortalImpl());
  PortalUUIDUtil portalUUIDUtil=new PortalUUIDUtil();
  portalUUIDUtil.setPortalUUID(new PortalUUIDImpl());
  PortalInstances.addCompanyId(_COMPANY_ID);
  _localhostInetAddress=InetAddress.getLocalHost();
  _mockClusterExecutor=new MockClusterExecutor();
  ClusterExecutorUtil clusterExecutorUtil=new ClusterExecutorUtil();
  clusterExecutorUtil.setClusterExecutor(_mockClusterExecutor);
  Class<LuceneHelperImpl> luceneHelperImplClass=LuceneHelperImpl.class;
  Constructor<LuceneHelperImpl> luceneHelperImplConstructor=luceneHelperImplClass.getDeclaredConstructor();
  luceneHelperImplConstructor.setAccessible(true);
  _luceneHelperImpl=luceneHelperImplConstructor.newInstance();
  Field indexAccessorsField=luceneHelperImplClass.getDeclaredField("_indexAccessors");
  indexAccessorsField.setAccessible(true);
  _mockIndexAccessor=new MockIndexAccessor();
  Map<Long,IndexAccessor> indexAccessorMap=(Map<Long,IndexAccessor>)indexAccessorsField.get(_luceneHelperImpl);
  indexAccessorMap.put(_COMPANY_ID,_mockIndexAccessor);
  LuceneHelperUtil luceneHelperUtil=new LuceneHelperUtil();
  luceneHelperUtil.setLuceneHelper(_luceneHelperImpl);
  _clusterNode=new ClusterNode(_CLUSER_NODE_ID,_localhostInetAddress);
  _captureHandler=JDKLoggerTestUtil.configureJDKLogger(LuceneHelperImpl.class.getName(),Level.ALL);
}
