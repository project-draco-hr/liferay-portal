{
  PortalUtil portalUtil=new PortalUtil();
  portalUtil.setPortal(new PortalImpl());
  PortalUUIDUtil portalUUIDUtil=new PortalUUIDUtil();
  portalUUIDUtil.setPortalUUID(new PortalUUIDImpl());
  PortalInstances.addCompanyId(_TEST_COMPANY_ID);
  _localhost=InetAddress.getLocalHost();
  _mockClusterExecutor=new MockClusterExecutor();
  ClusterExecutorUtil clusterExecutorUtil=new ClusterExecutorUtil();
  clusterExecutorUtil.setClusterExecutor(_mockClusterExecutor);
  Class<LuceneHelperImpl> clazz=LuceneHelperImpl.class;
  Constructor<LuceneHelperImpl> luceneHelperImplConstructor=clazz.getDeclaredConstructor();
  luceneHelperImplConstructor.setAccessible(true);
  _luceneHelperImpl=luceneHelperImplConstructor.newInstance();
  Field indexAccessorsField=clazz.getDeclaredField("_indexAccessors");
  indexAccessorsField.setAccessible(true);
  _mockIndexAccessor=new MockIndexAccessor();
  Map<Long,IndexAccessor> indexAccessorMap=(Map<Long,IndexAccessor>)indexAccessorsField.get(_luceneHelperImpl);
  indexAccessorMap.put(_TEST_COMPANY_ID,_mockIndexAccessor);
  LuceneHelperUtil luceneHelperUtil=new LuceneHelperUtil();
  luceneHelperUtil.setLuceneHelper(_luceneHelperImpl);
  _testClusterNode=new ClusterNode(_TEST_CLASSNODE_ID,_localhost);
}
