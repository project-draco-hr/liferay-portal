{
  _mockClusterExecutor.setNodeNumber(3);
  _mockClusterExecutor.setAutoResponse(false);
  CaptureHandler captureHandler=null;
  try {
    captureHandler=JDKLoggerTestUtil.configureJDKLogger(LuceneHelperImpl.class.getName(),Level.FINE);
    List<LogRecord> logRecords=captureHandler.getLogRecords();
    _luceneHelperImpl.loadIndexesFromCluster(_COMPANY_ID);
    Assert.assertEquals(2,logRecords.size());
    _assertLogger(logRecords.get(0),"Unable to get cluster node response in 10000" + TimeUnit.MILLISECONDS,null);
    _assertLogger(logRecords.get(1),"Unable to get cluster node response in 10000" + TimeUnit.MILLISECONDS,null);
    logRecords=captureHandler.resetLogLevel(Level.INFO);
    _luceneHelperImpl.loadIndexesFromCluster(_COMPANY_ID);
    Assert.assertTrue(logRecords.isEmpty());
  }
  finally {
    if (captureHandler != null) {
      captureHandler.close();
    }
  }
}
