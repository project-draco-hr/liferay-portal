{
  _mockClusterExecutor.setNodeNumber(2);
  _mockClusterExecutor.setPort(1);
  _mockClusterExecutor.setPortalInetAddress(_localhostInetAddress);
  List<LogRecord> logRecords=_captureHandler.resetLogLevel(Level.INFO);
  _luceneHelperImpl.loadIndexesFromCluster(_COMPANY_ID);
  Assert.assertEquals(_COMPANY_ID,SkipGetLoadIndexesInputStreamFromClusterAdvice._companyId);
  Set<String> clusterNodeIds=_mockClusterExecutor.getClusterNodeIds();
  Assert.assertTrue(clusterNodeIds.contains(SkipGetLoadIndexesInputStreamFromClusterAdvice._bootupClusterNodeId));
  Assert.assertEquals(2,logRecords.size());
  _assertLogger(logRecords.get(0),"Start loading lucene index files from cluster node",null);
  _assertLogger(logRecords.get(1),"Lucene index files loaded successfully",null);
  Assert.assertArrayEquals(_RESPONSE_MESSAGE,_mockIndexAccessor.getResponseMessage());
}
