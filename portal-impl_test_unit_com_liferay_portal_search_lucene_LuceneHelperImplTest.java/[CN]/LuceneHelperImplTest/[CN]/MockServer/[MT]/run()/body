{
  Socket connection=null;
  try {
    connection=_serverSocket.accept();
    _serverSocket.close();
    UnsyncBufferedReader reader=new UnsyncBufferedReader(new InputStreamReader(connection.getInputStream()));
    String request=reader.readLine();
    connection.shutdownInput();
    if (!request.contains("/lucene/dump")) {
      return;
    }
    StringBundler stringBundler=new StringBundler(3);
    stringBundler.append("HTTP/1.0 200 OK\r\nServer: \r\nContent-length: ");
    stringBundler.append(_RESPONSE_MESSAGE.length);
    stringBundler.append("\r\nContent-type: text/plain\r\n\r\n");
    OutputStream outputStream=connection.getOutputStream();
    outputStream.write(stringBundler.toString().getBytes());
    outputStream.write(_RESPONSE_MESSAGE);
    connection.shutdownOutput();
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
 finally {
    if (connection != null) {
      try {
        connection.close();
      }
 catch (      IOException ioe) {
      }
    }
  }
}
