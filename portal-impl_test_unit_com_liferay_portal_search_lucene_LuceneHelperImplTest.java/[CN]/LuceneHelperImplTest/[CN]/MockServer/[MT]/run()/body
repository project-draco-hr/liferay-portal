{
  Socket socket=null;
  try {
    socket=_serverSocket.accept();
    _serverSocket.close();
    UnsyncBufferedReader reader=new UnsyncBufferedReader(new InputStreamReader(socket.getInputStream()));
    String request=reader.readLine();
    socket.shutdownInput();
    if (!request.contains("/lucene/dump")) {
      return;
    }
    StringBundler sb=new StringBundler(3);
    sb.append("HTTP/1.0 200 OK\r\nServer: \r\nContent-length: ");
    sb.append(_RESPONSE_MESSAGE.length);
    sb.append("\r\nContent-type: text/plain\r\n\r\n");
    OutputStream outputStream=socket.getOutputStream();
    outputStream.write(sb.toString().getBytes());
    outputStream.write(_RESPONSE_MESSAGE);
    socket.shutdownOutput();
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
 finally {
    if (socket != null) {
      try {
        socket.close();
      }
 catch (      IOException ioe) {
      }
    }
  }
}
