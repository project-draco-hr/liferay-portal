{
  try {
    ThemeDisplay themeDisplay=(ThemeDisplay)renderRequest.getAttribute(WebKeys.THEME_DISPLAY);
    Token accessToken=_oAuthManager.getAccessToken(themeDisplay.getUser());
    if (accessToken == null) {
      include("/login.jsp",renderRequest,renderResponse);
      return;
    }
  }
 catch (  PortalException pe) {
    throw new PortletException(pe);
  }
  super.doDispatch(renderRequest,renderResponse);
}
