{
  try {
    Group group=layout.getGroup();
    if (group.isStagingGroup()) {
      group=group.getLiveGroup();
    }
    UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
    boolean branchingEnabled=false;
    if (layout.isPrivateLayout()) {
      branchingEnabled=GetterUtil.getBoolean(typeSettingsProperties.getProperty("branchingPrivate"));
    }
 else {
      branchingEnabled=GetterUtil.getBoolean(typeSettingsProperties.getProperty("branchingPublic"));
    }
    if (group.isStaged() && branchingEnabled) {
      if (!group.isStagedRemotely() && (layout.getGroupId() == group.getGroupId())) {
        return false;
      }
      return true;
    }
    return false;
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
}
