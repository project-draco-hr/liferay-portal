{
  DDMNavigationHelper navigationHelper=getDDMNavigationHelper();
  if (navigationHelper.startsOnEditTemplates(liferayPortletRequest)) {
    return StringPool.BLANK;
  }
  if (navigationHelper.startsOnSelectTemplates(liferayPortletRequest)) {
    return ParamUtil.getString(liferayPortletRequest,"redirect");
  }
  if (navigationHelper.startsOnTemplates(liferayPortletRequest)) {
    return getViewTemplatesURL(liferayPortletRequest,liferayPortletResponse,classNameId,0,resourceClassNameId);
  }
  return getViewTemplatesURL(liferayPortletRequest,liferayPortletResponse,classNameId,classPK,resourceClassNameId);
}
