{
  if (group.isCommunity()) {
    if (UserGroupRoleLocalServiceUtil.hasUserGroupRole(_userId,group.getGroupId(),RoleImpl.COMMUNITY_ADMINISTRATOR) || UserGroupRoleLocalServiceUtil.hasUserGroupRole(_userId,group.getGroupId(),RoleImpl.COMMUNITY_OWNER)) {
      return true;
    }
  }
 else   if (group.isOrganization()) {
    long organizationId=group.getClassPK();
    while (organizationId != OrganizationConstants.DEFAULT_PARENT_ORGANIZATION_ID) {
      Organization organization=OrganizationLocalServiceUtil.getOrganization(organizationId);
      Group organizationGroup=organization.getGroup();
      long organizationGroupId=organizationGroup.getGroupId();
      if (UserGroupRoleLocalServiceUtil.hasUserGroupRole(_userId,organizationGroupId,RoleImpl.ORGANIZATION_ADMINISTRATOR) || UserGroupRoleLocalServiceUtil.hasUserGroupRole(_userId,organizationGroupId,RoleImpl.ORGANIZATION_OWNER)) {
        return true;
      }
      organizationId=organization.getParentOrganizationId();
    }
  }
 else   if (group.isUser()) {
    long userId=group.getClassPK();
    if (userId == _userId) {
      return true;
    }
  }
  return false;
}
