{
  LayoutSetPrototype layoutSetPrototype=fetchLayoutSetPrototype(group.getCompanyId(),layoutSetPrototypeKey);
  if (layoutSetPrototype != null) {
    layoutSetLocalService.updateLayoutSetPrototypeLinkEnabled(group.getGroupId(),privateLayout,true,layoutSetPrototype.getUuid());
    LayoutSet layoutSet=group.getPublicLayoutSet();
    if (privateLayout) {
      layoutSet=group.getPrivateLayoutSet();
    }
    SitesUtil.mergeLayoutSetPrototypeLayouts(group,layoutSet);
    layoutLocalService.updatePriorities(group.getGroupId(),privateLayout);
  }
}
