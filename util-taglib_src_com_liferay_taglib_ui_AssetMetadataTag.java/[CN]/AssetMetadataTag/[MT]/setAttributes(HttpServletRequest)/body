{
  AssetEntry assetEntry=AssetEntryLocalServiceUtil.fetchEntry(_className,_classPK);
  request.setAttribute("liferay-ui:asset-metadata:assetEntry",assetEntry);
  AssetRendererFactory<?> assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(_className);
  try {
    AssetRenderer<?> assetRenderer=assetRendererFactory.getAssetRenderer(_classPK);
    request.setAttribute("liferay-ui:asset-metadata:assetRenderer",assetRenderer);
  }
 catch (  PortalException pe) {
    _log.error(pe);
  }
  request.setAttribute("liferay-ui:asset-metadata:className",_className);
  request.setAttribute("liferay-ui:asset-metadata:classPK",_classPK);
  request.setAttribute("liferay-ui:asset-metadata:filterByMetadata",_filterByMetadata);
  request.setAttribute("liferay-ui:asset-metadata:metadataFields",_metadataFields);
}
