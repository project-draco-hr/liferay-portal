{
  if (!(_event instanceof GetSyncContextEvent) && ConnectionRetryUtil.retryInProgress(getSyncAccountId())) {
    return;
  }
  SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(getSyncAccountId());
  syncAccount.setState(SyncAccount.STATE_DISCONNECTED);
  syncAccount.setUiEvent(uiEvent);
  SyncAccountService.update(syncAccount);
  ServerEventUtil.retryServerConnection(getSyncAccountId(),ConnectionRetryUtil.incrementRetryDelay(getSyncAccountId()));
  if (_logger.isDebugEnabled()) {
    _logger.debug("Attempting to reconnect to {}. Retry #{}.",syncAccount.getUrl(),ConnectionRetryUtil.getRetryCount(getSyncAccountId()));
  }
}
