{
  if (_itemSelector == null) {
    return null;
  }
  List<ItemSelectorReturnType> desiredItemSelectorReturnTypes=new ArrayList<>();
  desiredItemSelectorReturnTypes.add(new FileEntryItemSelectorReturnType());
  desiredItemSelectorReturnTypes.add(new UploadableFileReturnType());
  BlogsItemSelectorCriterion blogsItemSelectorCriterion=new BlogsItemSelectorCriterion();
  blogsItemSelectorCriterion.setDesiredItemSelectorReturnTypes(desiredItemSelectorReturnTypes);
  ImageItemSelectorCriterion imageItemSelectorCriterion=new ImageItemSelectorCriterion();
  imageItemSelectorCriterion.setDesiredItemSelectorReturnTypes(desiredItemSelectorReturnTypes);
  List<ItemSelectorReturnType> uploadCriterionsDesiredItemSelectorReturnTypes=new ArrayList<>();
  uploadCriterionsDesiredItemSelectorReturnTypes.add(new UploadableFileReturnType());
  PortletURL uploadURL=requestBackedPortletURLFactory.createActionURL(BlogsPortletKeys.BLOGS);
  uploadURL.setParameter(ActionRequest.ACTION_NAME,"/blogs/upload_cover_image");
  UploadItemSelectorCriterion uploadItemSelectorCriterion=new UploadItemSelectorCriterion(uploadURL.toString(),LanguageUtil.get(themeDisplay.getLocale(),"blog-images"));
  uploadItemSelectorCriterion.setDesiredItemSelectorReturnTypes(uploadCriterionsDesiredItemSelectorReturnTypes);
  PortletURL itemSelectorURL=_itemSelector.getItemSelectorURL(requestBackedPortletURLFactory,itemSelectedEventName,blogsItemSelectorCriterion,imageItemSelectorCriterion,uploadItemSelectorCriterion);
  return itemSelectorURL.toString();
}
