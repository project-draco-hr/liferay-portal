{
  super("Signature","Change a users's signature.");
  layout=new SpringLayout();
  setLayout(layout);
  signatureLabel=new JLabel("Signature: ");
  signature=new JTextArea(Defaults.SIGNATURE,4,25);
  signaturePane=new JScrollPane(signature);
  submit=new JButton("Set Signature");
  submit.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent event){
      if (GmailSettingsClient.settings == null) {
        JOptionPane.showMessageDialog(null,GmailSettingsClient.ERROR_AUTHENTICATION_REQUIRED,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
        return;
      }
      try {
        GmailSettingsClient.settings.changeSignature(GmailSettingsClient.users.getSelectedUsers(),signature.getText());
      }
 catch (      IllegalArgumentException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
catch (      ServiceException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
catch (      MalformedURLException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
catch (      IOException e) {
        JOptionPane.showMessageDialog(null,e,GmailSettingsClient.APP_TITLE,JOptionPane.ERROR_MESSAGE);
      }
    }
  }
);
  layout.putConstraint(SpringLayout.WEST,signatureLabel,5,SpringLayout.WEST,this);
  layout.putConstraint(SpringLayout.NORTH,signatureLabel,5,SpringLayout.NORTH,this);
  layout.putConstraint(SpringLayout.WEST,signaturePane,5,SpringLayout.EAST,signatureLabel);
  layout.putConstraint(SpringLayout.NORTH,signaturePane,5,SpringLayout.NORTH,this);
  layout.putConstraint(SpringLayout.WEST,submit,5,SpringLayout.WEST,this);
  layout.putConstraint(SpringLayout.NORTH,submit,15,SpringLayout.SOUTH,signaturePane);
  add(signatureLabel);
  add(signaturePane);
  add(submit);
}
