{
  JavaArchive javaArchive=ShrinkWrap.create(JavaArchive.class,"arquillian-junit-bridge.jar");
  javaArchive.add(EmptyAsset.INSTANCE,"/arquillian.remote.marker");
  javaArchive.addAsServiceProviderAndClasses(RemoteLoadableExtension.class,LiferayArquillianJUnitBridgeExtension.class);
  javaArchive.addAsServiceProviderAndClasses(TestRunner.class,JUnitTestRunner.class);
  javaArchive.addClasses(Arquillian.class,JUnitBridgeObserver.class,FrameworkMethodComparator.class);
  javaArchive.addPackages(false,BeforeRules.class.getPackage(),org.jboss.arquillian.junit.Arquillian.class.getPackage());
  OSGiManifestBuilder osgiManifestBuilder=OSGiManifestBuilder.newInstance();
  osgiManifestBuilder.addBundleManifestVersion(1);
  osgiManifestBuilder.addImportPackages(getPackageNames(getJarFile(Test.class)));
  javaArchive.add(new ByteArrayAsset(osgiManifestBuilder.openStream()),"/META-INF/MANIFEST.MF");
  return javaArchive;
}
