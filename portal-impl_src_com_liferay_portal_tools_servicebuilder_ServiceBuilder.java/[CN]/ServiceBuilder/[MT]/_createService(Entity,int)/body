{
  JavaClass javaClass=_getJavaClass(_outputPath + "/service/impl/" + entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceImpl.java");
  JavaMethod[] methods=_getMethods(javaClass);
  Type superClass=javaClass.getSuperClass();
  String superClassValue=superClass.getValue();
  if (superClassValue.endsWith(entity.getName() + _getSessionTypeName(sessionType) + "ServiceBaseImpl")) {
    JavaClass parentJavaClass=_getJavaClass(_outputPath + "/service/base/" + entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceBaseImpl.java");
    methods=ArrayUtil.append(parentJavaClass.getMethods(),methods);
  }
  Map<String,Object> context=_getContext();
  context.put("entity",entity);
  context.put("methods",methods);
  context.put("sessionTypeName",_getSessionTypeName(sessionType));
  context=_putDeprecatedKeys(context,javaClass);
  String content=_processTemplate(_tplService,context);
  File ejbFile=new File(_serviceOutputPath + "/service/" + entity.getName()+ _getSessionTypeName(sessionType)+ "Service.java");
  writeFile(ejbFile,content,_author);
  if (!_serviceOutputPath.equals(_outputPath)) {
    ejbFile=new File(_outputPath + "/service/" + entity.getName()+ _getSessionTypeName(sessionType)+ "Service.java");
    if (ejbFile.exists()) {
      System.out.println("Relocating " + ejbFile);
      ejbFile.delete();
    }
  }
}
