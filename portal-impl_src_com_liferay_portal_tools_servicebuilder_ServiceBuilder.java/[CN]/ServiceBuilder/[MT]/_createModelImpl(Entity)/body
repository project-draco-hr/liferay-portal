{
  Map<String,Object> context=_getContext();
  context.put("entity",entity);
  String content=_processTemplate(_tplModelImpl,context);
  File modelFile=new File(_outputPath + "/model/impl/" + entity.getName()+ "ModelImpl.java");
  Map<String,Object> jalopySettings=new HashMap<String,Object>();
  jalopySettings.put("keepJavadoc",Boolean.TRUE);
  writeFile(modelFile,content,_author,jalopySettings);
  String releaseVersion=StringUtil.replace(ReleaseInfo.getVersion(),StringPool.PERIOD,StringPool.UNDERLINE);
  String upgradePackagePath="com.liferay.portal.upgrade.v" + releaseVersion + ".util";
  context.put("upgradePackagePath",upgradePackagePath);
  File upgradeFile=new File(_implDir + "/com/liferay/portal/upgrade/v" + releaseVersion+ "/model/"+ entity.getName()+ "Table.java");
  content=_processTemplate(_tplUpgradeTable,context);
  writeFile(upgradeFile,content,_author,jalopySettings);
}
