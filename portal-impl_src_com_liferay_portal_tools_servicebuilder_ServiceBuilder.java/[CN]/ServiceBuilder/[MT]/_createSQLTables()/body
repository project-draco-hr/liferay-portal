{
  File sqlDir=new File(_sqlDir);
  if (!sqlDir.exists()) {
    return;
  }
  File sqlFile=new File(_sqlDir + "/" + _sqlFileName);
  if (!sqlFile.exists()) {
    FileUtils.touch(sqlFile);
  }
  for (int i=0; i < _ejbList.size(); i++) {
    Entity entity=_ejbList.get(i);
    if (!_isTargetEntity(entity)) {
      continue;
    }
    if (!entity.isDefaultDataSource()) {
      continue;
    }
    String createTableSQL=_getCreateTableSQL(entity);
    if (Validator.isNotNull(createTableSQL)) {
      _createSQLTables(sqlFile,createTableSQL,entity,true);
      _updateSQLFile("update-6.2.0-7.0.0.sql",createTableSQL,entity);
    }
  }
  for (  Map.Entry<String,EntityMapping> entry : _entityMappings.entrySet()) {
    EntityMapping entityMapping=entry.getValue();
    String createMappingTableSQL=_getCreateMappingTableSQL(entityMapping);
    if (Validator.isNotNull(createMappingTableSQL)) {
      _createSQLMappingTables(sqlFile,createMappingTableSQL,entityMapping,true);
    }
  }
  String content=FileUtils.readFileToString(sqlFile);
  FileUtils.write(sqlFile,content.trim());
}
