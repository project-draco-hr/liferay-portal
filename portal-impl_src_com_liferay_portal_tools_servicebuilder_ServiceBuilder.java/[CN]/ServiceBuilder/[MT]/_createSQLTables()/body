{
  if (!FileUtil.exists(_sqlDir)) {
    return;
  }
  File sqlFile=new File(_sqlDir + "/" + _sqlFileName);
  if (!sqlFile.exists()) {
    FileUtil.write(sqlFile,StringPool.BLANK);
  }
  for (int i=0; i < _ejbList.size(); i++) {
    Entity entity=_ejbList.get(i);
    if (!entity.isDefaultDataSource()) {
      continue;
    }
    String createTableSQL=_getCreateTableSQL(entity);
    if (Validator.isNotNull(createTableSQL)) {
      _createSQLTables(sqlFile,createTableSQL,entity,true);
      _updateSQLFile("update-6.0.6-6.1.0.sql",createTableSQL,entity);
      _updateSQLFile("update-6.0.12-6.1.0.sql",createTableSQL,entity);
    }
  }
  for (  Map.Entry<String,EntityMapping> entry : _entityMappings.entrySet()) {
    EntityMapping entityMapping=entry.getValue();
    String createMappingTableSQL=_getCreateMappingTableSQL(entityMapping);
    if (Validator.isNotNull(createMappingTableSQL)) {
      _createSQLMappingTables(sqlFile,createMappingTableSQL,entityMapping,true);
    }
  }
  String content=FileUtil.read(sqlFile);
  FileUtil.write(sqlFile,content.trim());
}
