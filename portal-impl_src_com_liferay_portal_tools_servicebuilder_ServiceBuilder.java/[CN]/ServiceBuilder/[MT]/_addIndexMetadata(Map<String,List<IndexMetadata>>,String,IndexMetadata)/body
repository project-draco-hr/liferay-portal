{
  List<IndexMetadata> indexMetadataList=indexMetadataMap.get(tableName);
  if (indexMetadataList == null) {
    indexMetadataList=new ArrayList<>();
    indexMetadataMap.put(tableName,indexMetadataList);
  }
  Iterator<IndexMetadata> iterator=indexMetadataList.iterator();
  while (iterator.hasNext()) {
    IndexMetadata currentIndexMetadata=iterator.next();
    Boolean redundant=currentIndexMetadata.redundantTo(indexMetadata);
    if (redundant == null) {
      continue;
    }
    if (redundant) {
      iterator.remove();
    }
 else {
      indexMetadata=null;
      break;
    }
  }
  if (indexMetadata != null) {
    indexMetadataList.add(indexMetadata);
  }
}
