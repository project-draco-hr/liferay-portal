{
  try {
    List<Organization> organizations=OrganizationLocalServiceUtil.getUserOrganizations(getUserId());
    Collections.sort(organizations,new OrganizationNameComparator(true));
    for (    Organization organization : organizations) {
      if (!organization.isLocation()) {
        return organization;
      }
    }
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to get an organization for user " + getUserId());
    }
  }
  return new OrganizationImpl();
}
