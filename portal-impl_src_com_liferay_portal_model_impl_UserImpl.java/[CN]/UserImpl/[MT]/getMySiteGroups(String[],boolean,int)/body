{
  ThreadLocalCache<List<Group>> threadLocalCache=ThreadLocalCacheManager.getThreadLocalCache(Lifecycle.REQUEST,UserImpl.class.getName());
  String key=StringUtil.toHexString(max);
  if ((classNames != null) && (classNames.length > 0)) {
    key=StringUtil.merge(classNames).concat(StringPool.POUND).concat(key);
  }
  key=key.concat(StringPool.POUND).concat(String.valueOf(includeControlPanel));
  List<Group> myPlaces=threadLocalCache.get(key);
  if (myPlaces != null) {
    return myPlaces;
  }
  myPlaces=GroupServiceUtil.getUserPlacesGroups(getUserId(),classNames,includeControlPanel,max);
  threadLocalCache.put(key,myPlaces);
  return myPlaces;
}
