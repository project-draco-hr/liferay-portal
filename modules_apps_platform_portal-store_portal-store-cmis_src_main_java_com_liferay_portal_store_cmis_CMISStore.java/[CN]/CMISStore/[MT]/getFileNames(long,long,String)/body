{
  Folder directory=getRepositoryFolder(companyId,repositoryId);
  String[] subFolderNames=StringUtil.split(dirName,StringPool.SLASH);
  for (  String subFolderName : subFolderNames) {
    directory=getFolder(directory,subFolderName);
    if (directory == null) {
      return new String[0];
    }
  }
  List<String> fileNames=new ArrayList<>();
  doGetFileNames(fileNames,dirName,directory);
  return fileNames.toArray(new String[fileNames.size()]);
}
