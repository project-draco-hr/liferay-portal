{
  int numPages=0;
  try {
    SAXReader saxReader=new SAXReader();
    Document doc=saxReader.read(file);
    Element root=doc.getRootElement();
    Iterator<Element> it=root.elements("page").iterator();
    while (it.hasNext()) {
      Element page=it.next();
      String title=page.elementText("title");
      String author=page.element("revision").element("contributor").elementText("username");
      List revisions=page.elements("revision");
      Element lastRevision=(Element)revisions.get(revisions.size() - 1);
      String content=lastRevision.elementText("text");
      addPage(node,userId,title,author,content);
      numPages++;
    }
  }
 catch (  DocumentException e) {
    throw new PortalException(e);
  }
  _log.info("Imported " + numPages + " pages into "+ node.getName());
}
