{
  try {
    long authorUserId=getUserId(userId,node,author);
    String[] tagsEntries=readTagsEntries(userId,node,content);
    String redirectTitle=readRedirectTitle(content);
    if (Validator.isNull(redirectTitle)) {
      content=_translator.translate(content);
    }
 else {
      content=StringPool.OPEN_BRACKET_2 + redirectTitle + StringPool.CLOSE_BRACKET_2;
    }
    WikiPage page=null;
    try {
      page=WikiPageLocalServiceUtil.getPage(node.getNodeId(),title);
    }
 catch (    NoSuchPageException nspe) {
      page=WikiPageLocalServiceUtil.addPage(authorUserId,node.getNodeId(),title,null,null);
    }
    WikiPageLocalServiceUtil.updatePage(authorUserId,node.getNodeId(),title,page.getVersion(),content,"creole",StringPool.BLANK,redirectTitle,tagsEntries,null,null);
  }
 catch (  Exception e) {
    throw new PortalException("Error importing page " + title,e);
  }
}
