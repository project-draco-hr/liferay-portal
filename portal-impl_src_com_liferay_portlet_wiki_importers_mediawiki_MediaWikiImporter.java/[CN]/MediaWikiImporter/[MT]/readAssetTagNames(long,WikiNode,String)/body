{
  Matcher matcher=_categoriesPattern.matcher(content);
  List<String> assetTagNames=new ArrayList<String>();
  while (matcher.find()) {
    String categoryName=matcher.group(1);
    categoryName=normalize(categoryName,75);
    AssetTag assetTag=null;
    try {
      assetTag=AssetTagLocalServiceUtil.getTag(node.getGroupId(),categoryName);
    }
 catch (    NoSuchTagException nste) {
      ServiceContext serviceContext=new ServiceContext();
      serviceContext.setAddGroupPermissions(true);
      serviceContext.setAddGuestPermissions(true);
      serviceContext.setScopeGroupId(node.getGroupId());
      assetTag=AssetTagLocalServiceUtil.addTag(userId,categoryName,null,serviceContext);
    }
    assetTagNames.add(assetTag.getName());
  }
  if (content.contains(_WORK_IN_PROGRESS)) {
    assetTagNames.add(_WORK_IN_PROGRESS_TAG);
  }
  return assetTagNames.toArray(new String[assetTagNames.size()]);
}
