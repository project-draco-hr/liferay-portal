{
  Matcher matcher=_categoriesPattern.matcher(content);
  List<String> tagsEntries=new ArrayList<String>();
  while (matcher.find()) {
    String categoryName=matcher.group(1);
    categoryName=normalize(categoryName,75);
    AssetTag assetTag=null;
    try {
      assetTag=AssetTagLocalServiceUtil.getTag(node.getCompanyId(),categoryName);
    }
 catch (    NoSuchEntryException nsee) {
      ServiceContext serviceContext=new ServiceContext();
      serviceContext.setAddCommunityPermissions(true);
      serviceContext.setAddGuestPermissions(true);
      serviceContext.setScopeGroupId(node.getGroupId());
      assetTag=AssetTagLocalServiceUtil.addTag(userId,categoryName,null,serviceContext);
    }
    tagsEntries.add(assetTag.getName());
  }
  if (content.indexOf(_WORK_IN_PROGRESS) != -1) {
    tagsEntries.add(_WORK_IN_PROGRESS_TAG);
  }
  return tagsEntries.toArray(new String[tagsEntries.size()]);
}
