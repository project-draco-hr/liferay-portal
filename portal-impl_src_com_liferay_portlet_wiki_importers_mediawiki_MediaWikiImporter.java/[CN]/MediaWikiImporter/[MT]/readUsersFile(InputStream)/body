{
  if (usersInputStream == null) {
    return Collections.emptyMap();
  }
  Map<String,String> usersMap=new HashMap<String,String>();
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new InputStreamReader(usersInputStream));
  String line=unsyncBufferedReader.readLine();
  while (line != null) {
    String[] array=StringUtil.split(line);
    if ((array.length == 2) && Validator.isNotNull(array[0]) && Validator.isNotNull(array[1])) {
      usersMap.put(array[0],array[1]);
    }
 else {
      if (_log.isInfoEnabled()) {
        _log.info("Ignoring line " + line + " because it does not contain exactly 2 columns");
      }
    }
    line=unsyncBufferedReader.readLine();
  }
  return usersMap;
}
