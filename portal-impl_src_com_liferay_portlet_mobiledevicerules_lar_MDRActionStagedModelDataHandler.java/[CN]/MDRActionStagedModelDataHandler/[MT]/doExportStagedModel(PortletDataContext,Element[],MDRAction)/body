{
  Element ruleGroupsElement=elements[0];
  Element ruleGroupInstancesElement=elements[1];
  MDRRuleGroupInstance ruleGroupInstance=MDRRuleGroupInstanceLocalServiceUtil.getRuleGroupInstance(action.getRuleGroupInstanceId());
  StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,new Element[]{ruleGroupsElement,ruleGroupInstancesElement},ruleGroupInstance);
  Element actionsElement=elements[2];
  Element actionElement=actionsElement.addElement("action");
  String type=action.getType();
  if (type.equals(SiteRedirectActionHandler.class.getName())) {
    UnicodeProperties typeSettingsProperties=action.getTypeSettingsProperties();
    long plid=GetterUtil.getLong(typeSettingsProperties.getProperty("plid"));
    try {
      Layout layout=LayoutLocalServiceUtil.getLayout(plid);
      actionElement.addAttribute("layout-uuid",layout.getUuid());
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn("Unable to set the layout uuid of layout " + plid + ". Site redirect may not match after import.",e);
      }
    }
  }
  portletDataContext.addClassedModel(actionElement,StagedModelPathUtil.getPath(action),action,MDRPortletDataHandler.NAMESPACE);
}
