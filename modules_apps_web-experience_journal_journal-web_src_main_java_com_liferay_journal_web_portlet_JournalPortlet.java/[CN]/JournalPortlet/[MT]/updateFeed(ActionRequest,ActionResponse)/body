{
  String actionName=ParamUtil.getString(actionRequest,ActionRequest.ACTION_NAME);
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  String feedId=ParamUtil.getString(actionRequest,"feedId");
  boolean autoFeedId=ParamUtil.getBoolean(actionRequest,"autoFeedId");
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  String ddmStructureKey=ParamUtil.getString(actionRequest,"ddmStructureKey");
  String ddmTemplateKey=ParamUtil.getString(actionRequest,"ddmTemplateKey");
  String ddmRendererTemplateKey=ParamUtil.getString(actionRequest,"ddmRendererTemplateKey");
  int delta=ParamUtil.getInteger(actionRequest,"delta");
  String orderByCol=ParamUtil.getString(actionRequest,"orderByCol");
  String orderByType=ParamUtil.getString(actionRequest,"orderByType");
  String targetLayoutFriendlyUrl=ParamUtil.getString(actionRequest,"targetLayoutFriendlyUrl");
  String targetPortletId=ParamUtil.getString(actionRequest,"targetPortletId");
  String contentField=ParamUtil.getString(actionRequest,"contentField");
  String feedType=ParamUtil.getString(actionRequest,"feedType",RSSUtil.FEED_TYPE_DEFAULT);
  String feedFormat=RSSUtil.getFeedTypeFormat(feedType);
  double feedVersion=RSSUtil.getFeedTypeVersion(feedType);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(JournalFeed.class.getName(),actionRequest);
  if (actionName.equals("addFeed")) {
    _journalFeedService.addFeed(groupId,feedId,autoFeedId,name,description,ddmStructureKey,ddmTemplateKey,ddmRendererTemplateKey,delta,orderByCol,orderByType,targetLayoutFriendlyUrl,targetPortletId,contentField,feedFormat,feedVersion,serviceContext);
  }
 else {
    _journalFeedService.updateFeed(groupId,feedId,name,description,ddmStructureKey,ddmTemplateKey,ddmRendererTemplateKey,delta,orderByCol,orderByType,targetLayoutFriendlyUrl,targetPortletId,contentField,feedFormat,feedVersion,serviceContext);
  }
}
