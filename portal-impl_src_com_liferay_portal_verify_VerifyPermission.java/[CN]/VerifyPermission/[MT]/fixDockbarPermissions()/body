{
  long[] companyIds=PortalInstances.getCompanyIdsBySQL();
  for (  long companyId : companyIds) {
    try {
      Role role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.USER);
      ResourcePermissionLocalServiceUtil.addResourcePermission(companyId,PortletKeys.DOCKBAR,ResourceConstants.SCOPE_COMPANY,String.valueOf(role.getCompanyId()),role.getRoleId(),ActionKeys.VIEW);
    }
 catch (    Exception e) {
      if (_log.isDebugEnabled()) {
        _log.debug(e,e);
      }
    }
  }
}
