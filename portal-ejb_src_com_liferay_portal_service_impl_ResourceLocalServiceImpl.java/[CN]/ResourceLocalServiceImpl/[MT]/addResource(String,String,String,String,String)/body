{
  Resource resource=null;
  try {
    resource=ResourceUtil.findByC_N_T_S_P(companyId,name,typeId,scope,primKey);
  }
 catch (  NoSuchResourceException nsre) {
    String resourceId=Long.toString(CounterServiceUtil.increment(Resource.class.getName()));
    resource=ResourceUtil.create(resourceId);
    resource.setCompanyId(companyId);
    resource.setName(name);
    resource.setTypeId(typeId);
    resource.setScope(scope);
    resource.setPrimKey(primKey);
    ResourceUtil.update(resource);
  }
  return resource;
}
