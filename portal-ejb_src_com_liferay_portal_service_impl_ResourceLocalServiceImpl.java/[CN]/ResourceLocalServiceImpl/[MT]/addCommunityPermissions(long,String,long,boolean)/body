{
  long start=0;
  if (_log.isDebugEnabled()) {
    start=System.currentTimeMillis();
  }
  Group group=GroupUtil.findByPrimaryKey(groupId);
  start=logAddCommunityPermissions(groupId,name,resourceId,start,1);
  List actions=null;
  if (portletActions) {
    actions=ResourceActionsUtil.getPortletResourceCommunityDefaultActions(name);
  }
 else {
    actions=ResourceActionsUtil.getModelResourceCommunityDefaultActions(name);
  }
  start=logAddCommunityPermissions(groupId,name,resourceId,start,2);
  String[] actionIds=(String[])actions.toArray(new String[0]);
  List permissions=PermissionLocalServiceUtil.getPermissions(group.getCompanyId(),actionIds,resourceId);
  start=logAddCommunityPermissions(groupId,name,resourceId,start,3);
  GroupUtil.addPermissions(groupId,permissions);
  start=logAddCommunityPermissions(groupId,name,resourceId,start,4);
}
