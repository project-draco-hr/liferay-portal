{
  IntrabandPortalCacheManager<String,String> intrabandPortalCacheManager=new IntrabandPortalCacheManager<String,String>(_mockRegistrationReference);
  String portalCacheName="portalCacheName";
  PortalCache<?,?> portalCache=intrabandPortalCacheManager.getCache(portalCacheName);
  Map<String,PortalCache<?,?>> portalCaches=getPortalCaches(intrabandPortalCacheManager);
  Assert.assertSame(portalCache,portalCaches.get(portalCacheName));
  Assert.assertEquals(1,portalCaches.size());
  intrabandPortalCacheManager.destroy();
  Assert.assertTrue(portalCaches.isEmpty());
  Datagram datagram=_mockIntraband.getDatagram();
  Assert.assertNotNull(datagram);
  Assert.assertEquals(SystemDataType.PORTAL_CACHE.getValue(),datagram.getType());
  Deserializer deserializer=new Deserializer(datagram.getDataByteBuffer());
  Assert.assertEquals(PortalCacheActionType.DESTROY.ordinal(),deserializer.readInt());
}
