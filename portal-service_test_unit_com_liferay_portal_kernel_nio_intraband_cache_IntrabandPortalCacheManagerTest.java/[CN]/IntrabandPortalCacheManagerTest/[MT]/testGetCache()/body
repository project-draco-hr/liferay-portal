{
  IntrabandPortalCacheManager<String,String> intrabandPortalCacheManager=new IntrabandPortalCacheManager<String,String>(_mockRegistrationReference);
  Map<String,PortalCache<?,?>> portalCaches=getPortalCaches(intrabandPortalCacheManager);
  Assert.assertTrue(portalCaches.isEmpty());
  String portalCacheName="portalCacheName";
  PortalCache<?,?> portalCache=intrabandPortalCacheManager.getCache(portalCacheName);
  Assert.assertNotNull(portalCache);
  Assert.assertEquals(portalCacheName,portalCache.getName());
  Assert.assertEquals(1,portalCaches.size());
  Assert.assertSame(portalCache,portalCaches.get(portalCacheName));
  PortalCache<?,?> portalCache2=intrabandPortalCacheManager.getCache(portalCacheName);
  Assert.assertNotNull(portalCache2);
  Assert.assertEquals(portalCacheName,portalCache2.getName());
  Assert.assertEquals(1,portalCaches.size());
  Assert.assertSame(portalCache,portalCache2);
}
