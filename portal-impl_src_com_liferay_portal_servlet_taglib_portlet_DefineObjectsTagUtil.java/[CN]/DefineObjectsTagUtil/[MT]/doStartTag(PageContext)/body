{
  ServletRequest req=pageContext.getRequest();
  PortletConfigImpl portletConfig=(PortletConfigImpl)req.getAttribute(WebKeys.JAVAX_PORTLET_CONFIG);
  if (portletConfig != null) {
    pageContext.setAttribute("portletConfig",portletConfig);
    pageContext.setAttribute("portletName",portletConfig.getPortletName());
  }
  RenderRequest renderRequest=(RenderRequest)req.getAttribute(WebKeys.JAVAX_PORTLET_REQUEST);
  if (renderRequest != null) {
    pageContext.setAttribute("renderRequest",renderRequest);
    pageContext.setAttribute("portletPreferences",renderRequest.getPreferences());
    pageContext.setAttribute("portletSession",renderRequest.getPortletSession());
  }
  RenderResponse renderResponse=(RenderResponse)req.getAttribute(WebKeys.JAVAX_PORTLET_RESPONSE);
  if (renderResponse != null) {
    pageContext.setAttribute("renderResponse",renderResponse);
  }
}
