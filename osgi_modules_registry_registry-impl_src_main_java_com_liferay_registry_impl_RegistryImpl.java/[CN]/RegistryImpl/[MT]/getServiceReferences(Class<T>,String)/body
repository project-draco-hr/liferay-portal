{
  Collection<org.osgi.framework.ServiceReference<T>> osgiServiceReferences=_bundleContext.getServiceReferences(clazz,filterString);
  if (osgiServiceReferences.isEmpty()) {
    return Collections.emptyList();
  }
  Collection<ServiceReference<T>> serviceReferences=new ArrayList<ServiceReference<T>>(osgiServiceReferences.size());
  Iterator<org.osgi.framework.ServiceReference<T>> iterator=osgiServiceReferences.iterator();
  while (iterator.hasNext()) {
    org.osgi.framework.ServiceReference<T> osgiServiceReference=iterator.next();
    ServiceReference<T> serviceReference=new ServiceReferenceWrapper<T>(osgiServiceReference);
    serviceReferences.add(serviceReference);
  }
  return serviceReferences;
}
