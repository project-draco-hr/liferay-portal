{
  Collection<org.osgi.framework.ServiceReference<T>> originalServiceReferences=_bundleContext.getServiceReferences(clazz,filter);
  if (originalServiceReferences.isEmpty()) {
    return Collections.emptyList();
  }
  Collection<ServiceReference<T>> newServiceReferences=new ArrayList<ServiceReference<T>>(originalServiceReferences.size());
  Iterator<org.osgi.framework.ServiceReference<T>> itr=originalServiceReferences.iterator();
  while (itr.hasNext()) {
    newServiceReferences.add(new ServiceReferenceWrapper<T>(itr.next()));
  }
  return newServiceReferences;
}
