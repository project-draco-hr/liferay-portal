{
  long companyId=serviceContext.getCompanyId();
  String dirName=getFileUploadPath(baseModel);
  if (!DLStoreUtil.hasDirectory(companyId,CompanyConstants.SYSTEM,dirName)) {
    DLStoreUtil.addDirectory(companyId,CompanyConstants.SYSTEM,dirName);
  }
  String fileName=dirName + StringPool.SLASH + fieldName;
  if (DLStoreUtil.hasFile(companyId,CompanyConstants.SYSTEM,fileName,Store.VERSION_DEFAULT)) {
    DLStoreUtil.deleteFile(companyId,CompanyConstants.SYSTEM,fileName,Store.VERSION_DEFAULT);
  }
  DLStoreUtil.addFile(companyId,CompanyConstants.SYSTEM,fileName,inputStream);
  return fileName;
}
