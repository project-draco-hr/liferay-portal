{
  if (Validator.isNull(script)) {
    return null;
  }
  JSONArray defaultDDMFormFieldsJSONArray=null;
  if (ddmForm != null) {
    defaultDDMFormFieldsJSONArray=getDDMFormFieldsJSONArray(ddmForm.getDDMFormFields(),ddmForm.getAvailableLocales(),ddmForm.getDefaultLocale());
  }
  try {
    DDMForm scriptDDMForm=DDMFormJSONDeserializerUtil.deserialize(script);
    return getDDMFormFieldsJSONArray(scriptDDMForm.getDDMFormFields(),scriptDDMForm.getAvailableLocales(),scriptDDMForm.getDefaultLocale());
  }
 catch (  PortalException pe) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to deserialize script",pe);
    }
    return defaultDDMFormFieldsJSONArray;
  }
}
