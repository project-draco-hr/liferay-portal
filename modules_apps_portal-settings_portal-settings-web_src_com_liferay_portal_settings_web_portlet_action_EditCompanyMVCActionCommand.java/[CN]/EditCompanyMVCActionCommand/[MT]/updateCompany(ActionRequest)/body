{
  long companyId=PortalUtil.getCompanyId(actionRequest);
  String virtualHostname=ParamUtil.getString(actionRequest,"virtualHostname");
  String mx=ParamUtil.getString(actionRequest,"mx");
  String homeURL=ParamUtil.getString(actionRequest,"homeURL");
  boolean deleteLogo=ParamUtil.getBoolean(actionRequest,"deleteLogo");
  byte[] logoBytes=null;
  long fileEntryId=ParamUtil.getLong(actionRequest,"fileEntryId");
  if (fileEntryId > 0) {
    FileEntry fileEntry=DLAppLocalServiceUtil.getFileEntry(fileEntryId);
    logoBytes=FileUtil.getBytes(fileEntry.getContentStream());
  }
  String name=ParamUtil.getString(actionRequest,"name");
  String legalName=ParamUtil.getString(actionRequest,"legalName");
  String legalId=ParamUtil.getString(actionRequest,"legalId");
  String legalType=ParamUtil.getString(actionRequest,"legalType");
  String sicCode=ParamUtil.getString(actionRequest,"sicCode");
  String tickerSymbol=ParamUtil.getString(actionRequest,"tickerSymbol");
  String industry=ParamUtil.getString(actionRequest,"industry");
  String type=ParamUtil.getString(actionRequest,"type");
  String size=ParamUtil.getString(actionRequest,"size");
  String languageId=ParamUtil.getString(actionRequest,"languageId");
  String timeZoneId=ParamUtil.getString(actionRequest,"timeZoneId");
  List<Address> addresses=UsersAdminUtil.getAddresses(actionRequest);
  List<EmailAddress> emailAddresses=UsersAdminUtil.getEmailAddresses(actionRequest);
  List<Phone> phones=UsersAdminUtil.getPhones(actionRequest);
  List<Website> websites=UsersAdminUtil.getWebsites(actionRequest);
  UnicodeProperties properties=PropertiesParamUtil.getProperties(actionRequest,"settings--");
  CompanyServiceUtil.updateCompany(companyId,virtualHostname,mx,homeURL,!deleteLogo,logoBytes,name,legalName,legalId,legalType,sicCode,tickerSymbol,industry,type,size,languageId,timeZoneId,addresses,emailAddresses,phones,websites,properties);
  PortalUtil.resetCDNHosts();
}
