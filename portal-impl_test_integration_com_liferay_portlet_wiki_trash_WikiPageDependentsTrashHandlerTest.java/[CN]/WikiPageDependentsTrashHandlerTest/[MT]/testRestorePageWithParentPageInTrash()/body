{
  WikiPage[] pages=WikiTestUtil.addTrashedPageWithChildPage(_group.getGroupId(),_node.getNodeId(),false);
  WikiPage childPage=pages[1];
  WikiPage newParentPage=WikiTestUtil.addPage(_group.getGroupId(),_node.getNodeId(),true);
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(getBaseModelClassName());
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  trashHandler.moveEntry(TestPropsValues.getUserId(),childPage.getResourcePrimKey(),newParentPage.getResourcePrimKey(),serviceContext);
  childPage=WikiPageLocalServiceUtil.getPage(childPage.getResourcePrimKey());
  Assert.assertTrue(childPage.isApproved());
  Assert.assertEquals(newParentPage.getTitle(),childPage.getParentTitle());
}
