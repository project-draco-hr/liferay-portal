{
  int initialBaseModelsCount=getNotInTrashBaseModelsCount(_node);
  int initialTrashEntriesCount=getTrashEntriesCount(_group.getGroupId());
  WikiPage[] pages=WikiTestUtil.addPageWithChangedParentPage(_group.getGroupId(),_node.getNodeId());
  WikiPage page=pages[0];
  WikiPage finalParentPage=pages[1];
  WikiPage initialParentPage=pages[2];
  WikiPageLocalServiceUtil.movePageToTrash(TestPropsValues.getUserId(),initialParentPage);
  page=WikiPageLocalServiceUtil.getPageByPageId(page.getPageId());
  finalParentPage=WikiPageLocalServiceUtil.getPageByPageId(finalParentPage.getPageId());
  initialParentPage=WikiPageLocalServiceUtil.getPageByPageId(initialParentPage.getPageId());
  Assert.assertFalse(page.isInTrash());
  Assert.assertFalse(finalParentPage.isInTrash());
  Assert.assertTrue(initialParentPage.isInTrashExplicitly());
  Assert.assertEquals(finalParentPage.getTitle(),page.getParentTitle());
  Assert.assertEquals(initialBaseModelsCount + 2,getNotInTrashBaseModelsCount(_node));
  Assert.assertEquals(initialTrashEntriesCount + 1,getTrashEntriesCount(_group.getGroupId()));
  Assert.assertEquals(page.getParentTitle(),finalParentPage.getTitle());
}
