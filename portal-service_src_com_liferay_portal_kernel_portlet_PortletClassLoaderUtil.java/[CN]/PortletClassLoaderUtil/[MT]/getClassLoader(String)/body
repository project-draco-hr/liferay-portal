{
  SecurityManager securityManager=System.getSecurityManager();
  if (securityManager != null) {
    Permission permission=new RuntimePermission(PACLConstants.RUNTIME_PERMISSION_GET_CLASSLOADER.concat(StringPool.PERIOD).concat(portletId));
    securityManager.checkPermission(permission);
  }
  PortletBag portletBag=PortletBagPool.get(portletId);
  if (portletBag == null) {
    return null;
  }
  ServletContext servletContext=portletBag.getServletContext();
  return (ClassLoader)servletContext.getAttribute(PluginContextListener.PLUGIN_CLASS_LOADER);
}
