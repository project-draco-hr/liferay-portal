{
  try (Connection con=DataAccess.getUpgradeOptimizedConnection()){
    _connection=con;
    _doUpgrade(bundleSymbolicName,portletIds);
  }
 catch (  Exception e) {
    throw new UpgradeException(e);
  }
 finally {
    _connection=null;
  }
}
