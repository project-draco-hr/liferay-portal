{
  if (referenceElement == null) {
    return;
  }
  boolean missing=portletDataContext.isMissingReference(referenceElement);
  StagedModelDataHandler<?> stagedModelDataHandler=StagedModelDataHandlerRegistryUtil.getStagedModelDataHandler(stagedModelClassName);
  if (stagedModelDataHandler == null) {
    return;
  }
  if (missing) {
    stagedModelDataHandler.importMissingReference(portletDataContext,referenceElement);
    return;
  }
  if (referenceElement != null) {
    importStagedModel(portletDataContext,referenceElement);
    return;
  }
  long groupId=GetterUtil.getLong(referenceElement.attributeValue("group-id"),portletDataContext.getSourceGroupId());
  String stagedModelPath=ExportImportPathUtil.getModelPath(groupId,stagedModelClassName,classPK);
  StagedModel stagedModel=(StagedModel)portletDataContext.getZipEntryAsObject(stagedModelPath);
  if (stagedModel != null) {
    importStagedModel(portletDataContext,stagedModel);
  }
}
