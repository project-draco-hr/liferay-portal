{
  boolean defaultAssetPublisher=ParamUtil.getBoolean(actionRequest,"defaultAssetPublisher");
  if (!defaultAssetPublisher) {
    return;
  }
  Layout layout=(Layout)actionRequest.getAttribute(WebKeys.LAYOUT);
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
  typeSettingsProperties.setProperty("default-asset-publisher-portlet-id",portletResource);
  layout=LayoutServiceUtil.updateLayout(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),layout.getTypeSettings());
}
