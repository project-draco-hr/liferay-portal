{
  if (_uploadRateLimiterCount == 0) {
    return;
  }
  int globalMaxUploadRate=SyncPropService.getInteger(SyncProp.KEY_GLOBAL_MAX_UPLOAD_RATE) / _uploadRateLimiterCount;
  for (  Map.Entry<Long,List<RateLimiter>> entry : _uploadRateLimiters.entrySet()) {
    long syncAccountId=entry.getKey();
    List<RateLimiter> rateLimiters=entry.getValue();
    if (rateLimiters.isEmpty()) {
      continue;
    }
    SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(syncAccountId);
    updateRateLimits(rateLimiters,globalMaxUploadRate,syncAccount.getMaxUploadRate() / rateLimiters.size());
  }
}
