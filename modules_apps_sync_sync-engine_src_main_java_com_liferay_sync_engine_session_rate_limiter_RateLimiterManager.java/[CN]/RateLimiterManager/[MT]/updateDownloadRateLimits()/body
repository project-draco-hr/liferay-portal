{
  if (_downloadRateLimiterCount == 0) {
    return;
  }
  int globalMaxDownloadRate=SyncPropService.getInteger(SyncProp.KEY_GLOBAL_MAX_DOWNLOAD_RATE) / _downloadRateLimiterCount;
  for (  Map.Entry<Long,List<RateLimiter>> entry : _downloadRateLimiters.entrySet()) {
    long syncAccountId=entry.getKey();
    List<RateLimiter> rateLimiters=entry.getValue();
    if (rateLimiters.isEmpty()) {
      continue;
    }
    SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(syncAccountId);
    updateRateLimits(rateLimiters,globalMaxDownloadRate,syncAccount.getMaxDownloadRate() / rateLimiters.size());
  }
}
