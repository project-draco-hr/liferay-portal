{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  String mode=ParamUtil.getString(request,"mode");
  String namespace=ParamUtil.getString(request,"namespace");
  String portletNamespace=ParamUtil.getString(request,"portletNamespace");
  boolean readOnly=ParamUtil.getBoolean(request,"readOnly");
  DDMFormFieldRenderingContext ddmFormFieldRenderingContext=new DDMFormFieldRenderingContext();
  request.setAttribute("aui:form:portletNamespace",portletNamespace);
  ddmFormFieldRenderingContext.setHttpServletRequest(request);
  ddmFormFieldRenderingContext.setHttpServletResponse(response);
  ddmFormFieldRenderingContext.setLocale(themeDisplay.getLocale());
  ddmFormFieldRenderingContext.setMode(mode);
  ddmFormFieldRenderingContext.setNamespace(namespace);
  ddmFormFieldRenderingContext.setPortletNamespace(portletNamespace);
  ddmFormFieldRenderingContext.setReadOnly(readOnly);
  return ddmFormFieldRenderingContext;
}
