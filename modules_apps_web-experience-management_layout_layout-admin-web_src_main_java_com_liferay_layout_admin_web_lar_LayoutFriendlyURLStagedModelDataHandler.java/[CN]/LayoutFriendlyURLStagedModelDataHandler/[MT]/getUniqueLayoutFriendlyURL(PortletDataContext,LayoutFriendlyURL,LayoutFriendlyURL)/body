{
  String friendlyURL=layoutFriendlyURL.getFriendlyURL();
  for (int i=1; ; i++) {
    LayoutFriendlyURL duplicateLayoutFriendlyURL=_layoutFriendlyURLLocalService.fetchLayoutFriendlyURL(portletDataContext.getScopeGroupId(),layoutFriendlyURL.isPrivateLayout(),layoutFriendlyURL.getFriendlyURL(),layoutFriendlyURL.getLanguageId());
    if ((duplicateLayoutFriendlyURL == null) || ((existingLayoutFriendlyURL != null) && (existingLayoutFriendlyURL.getLayoutFriendlyURLId() == duplicateLayoutFriendlyURL.getLayoutFriendlyURLId()))) {
      break;
    }
    layoutFriendlyURL.setFriendlyURL(friendlyURL + i);
  }
  return layoutFriendlyURL;
}
