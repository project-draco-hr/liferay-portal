{
  ServletContext servletContext=getServletContext();
  String basePath=ServletContextUtil.getRealPath(servletContext,_JAVASCRIPT_DIR);
  if (basePath == null) {
    return null;
  }
  basePath=StringUtil.replace(basePath,CharPool.BACK_SLASH,CharPool.SLASH);
  File baseDir=new File(basePath);
  if (!baseDir.exists()) {
    return null;
  }
  String filePath=ServletContextUtil.getRealPath(servletContext,path);
  if (filePath == null) {
    return null;
  }
  filePath=StringUtil.replace(filePath,CharPool.BACK_SLASH,CharPool.SLASH);
  File file=new File(filePath);
  if (!file.exists()) {
    return null;
  }
  String baseCanonicalPath=baseDir.getCanonicalPath();
  String fileCanonicalPath=file.getCanonicalPath();
  if (fileCanonicalPath.indexOf(baseCanonicalPath) == 0) {
    return file;
  }
  return null;
}
