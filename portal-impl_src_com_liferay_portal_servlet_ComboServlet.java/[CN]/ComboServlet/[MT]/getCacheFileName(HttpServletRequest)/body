{
  StringBundler sb=new StringBundler(5);
  String requestURI=request.getRequestURI();
  sb.append(requestURI);
  String queryString=request.getQueryString();
  if (queryString != null) {
    sb.append(StringPool.QUESTION);
    sb.append(queryString);
  }
  long modifiedTimes=0;
  Enumeration<String> enu=request.getParameterNames();
  while (enu.hasMoreElements()) {
    String modulePath=enu.nextElement();
    File file=getFile(request,modulePath);
    if (file != null) {
      modifiedTimes+=file.lastModified();
    }
  }
  sb.append(StringPool.AMPERSAND);
  sb.append(modifiedTimes);
  String cacheFileName=sb.toString();
  JavaMD5CacheKeyGenerator cacheKeyGenerator=new JavaMD5CacheKeyGenerator();
  String cacheKey=cacheKeyGenerator.getCacheKey(cacheFileName);
  StringBundler sbPath=new StringBundler(2);
  sbPath.append(_tempDir);
  sbPath.append(cacheKey);
  return sbPath.toString();
}
