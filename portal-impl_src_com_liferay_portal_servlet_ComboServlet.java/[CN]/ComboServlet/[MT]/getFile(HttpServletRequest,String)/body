{
  ServletContext servletContext=getServletContext();
  String basePath=ServletContextUtil.getRealPath(servletContext,_ALLOY_DIR);
  String realPath=ServletContextUtil.getRealPath(servletContext,modulePath);
  if ((basePath == null) || (realPath == null)) {
    return null;
  }
  basePath=StringUtil.replace(basePath,StringPool.BACK_SLASH,StringPool.SLASH);
  realPath=StringUtil.replace(realPath,StringPool.BACK_SLASH,StringPool.SLASH);
  File baseDir=new File(basePath);
  File file=new File(realPath);
  if (baseDir.exists() && file.exists()) {
    String rawBasePath=baseDir.getCanonicalPath();
    String rawFilePath=file.getCanonicalPath();
    if (rawFilePath.indexOf(rawBasePath) == 0) {
      return file;
    }
  }
  return null;
}
