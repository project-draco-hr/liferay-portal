{
  String code=calendarResource.getCode();
  for (int i=1; ; i++) {
    CalendarResource existingCalendarResource=CalendarResourceLocalServiceUtil.fetchCalendarResource(portletDataContext.getScopeGroupId(),code);
    if (existingCalendarResource == null) {
      break;
    }
    code=code.concat(String.valueOf(i));
  }
  return code;
}
