{
  String code=calendarResource.getCode();
  for (int i=1; ; i++) {
    CalendarResource duplicateCalendarResource=CalendarResourceUtil.fetchByG_C_First(portletDataContext.getScopeGroupId(),calendarResource.getCode(),null);
    if (duplicateCalendarResource == null) {
      break;
    }
    calendarResource.setCode(code + i);
  }
  return calendarResource;
}
