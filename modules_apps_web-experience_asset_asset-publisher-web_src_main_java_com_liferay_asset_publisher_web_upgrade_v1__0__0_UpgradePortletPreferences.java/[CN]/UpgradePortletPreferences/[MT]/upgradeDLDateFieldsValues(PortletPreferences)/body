{
  long fileEntryTypeId=GetterUtil.getLong(portletPreferences.getValue(_DL_CLASS_TYPE,"0"));
  if (fileEntryTypeId > 0) {
    long fileEntryTypeClassNameId=PortalUtil.getClassNameId(DLFileEntryType.class);
    List<DDMStructureLink> ddmStructureLinks=_ddmStructureLinkLocalService.getStructureLinks(fileEntryTypeClassNameId,fileEntryTypeId);
    String selectedFieldName=GetterUtil.getString(portletPreferences.getValue(_DDM_STRUCTURE_FIELD_NAME,null));
    for (    DDMStructureLink ddmStructureLink : ddmStructureLinks) {
      DDMForm ddmForm=getDDMForm(ddmStructureLink.getStructureId());
      if (isDateField(ddmForm,selectedFieldName)) {
        transformDateFieldValue(portletPreferences);
        break;
      }
    }
  }
}
