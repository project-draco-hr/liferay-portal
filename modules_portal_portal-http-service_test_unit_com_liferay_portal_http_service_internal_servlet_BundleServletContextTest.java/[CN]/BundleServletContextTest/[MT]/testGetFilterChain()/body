{
  mockBundleWiring();
  CaptureHandler captureHandler=JDKLoggerTestUtil.configureJDKLogger(MockLoggingFilter.class.getName(),Level.INFO);
  try {
    List<LogRecord> logRecords=captureHandler.getLogRecords();
    String cssFilterName="CSS Filter";
    registerFilter(cssFilterName,new MockLoggingFilter(cssFilterName),null,"/css/*");
    String jsFilterName="JS Filter";
    registerFilter(jsFilterName,new MockLoggingFilter(jsFilterName),null,"/js/*");
    FilterChain filterChain=_bundleServletContext.getFilterChain("/js/main.js");
    Assert.assertNotNull(filterChain);
    filterChain.doFilter(new MockHttpServletRequest(),new MockHttpServletResponse());
    Assert.assertEquals(1,logRecords.size());
    LogRecord logRecord=logRecords.get(0);
    Assert.assertEquals(jsFilterName,logRecord.getMessage());
    verifyBundleWiring();
  }
  finally {
    captureHandler.close();
  }
}
