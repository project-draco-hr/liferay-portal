{
  List<AssetTag> tags=assetEntryPersistence.getAssetTags(entry.getEntryId());
  if (visible && !entry.isVisible()) {
    for (    AssetTag tag : tags) {
      assetTagLocalService.incrementAssetCount(tag.getTagId(),entry.getClassNameId());
    }
  }
 else   if (!visible && entry.isVisible()) {
    for (    AssetTag tag : tags) {
      assetTagLocalService.decrementAssetCount(tag.getTagId(),entry.getClassNameId());
    }
  }
  entry.setVisible(visible);
}
