{
  try {
    Map<String,Serializable> attributes=new HashMap<String,Serializable>();
    attributes.put(Field.DESCRIPTION,description);
    attributes.put(Field.TITLE,title);
    attributes.put(Field.USER_NAME,userName);
    SearchContext searchContext=new SearchContext();
    searchContext.setAndSearch(andSearch);
    searchContext.setAttributes(attributes);
    searchContext.setCompanyId(companyId);
    searchContext.setEnd(end);
    searchContext.setGroupIds(groupIds);
    searchContext.setPortletIds(getPortletIds(portletId));
    searchContext.setStart(start);
    QueryConfig queryConfig=new QueryConfig();
    queryConfig.setHighlightEnabled(false);
    queryConfig.setScoreEnabled(false);
    searchContext.setQueryConfig(queryConfig);
    Indexer indexer=IndexerRegistryUtil.getIndexer(AssetEntry.class);
    return indexer.search(searchContext);
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
