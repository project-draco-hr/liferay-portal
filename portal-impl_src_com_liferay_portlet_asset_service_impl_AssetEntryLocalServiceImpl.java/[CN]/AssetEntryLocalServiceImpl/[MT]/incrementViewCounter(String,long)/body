{
  if (classPK <= 0) {
    return null;
  }
  long classNameId=PortalUtil.getClassNameId(className);
  AssetEntry entry=assetEntryPersistence.fetchByC_C(classNameId,classPK);
  if (entry != null) {
    entry.setViewCount(entry.getViewCount() + 1);
    assetEntryPersistence.update(entry,false);
  }
  try {
    long userId=new PrincipalBean().getGuestOrUserId();
    if (entry.getUserId() != userId) {
      socialEquityLogLocalService.addEquityLogs(userId,entry.getEntryId(),ActionKeys.VIEW);
    }
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
  return entry;
}
