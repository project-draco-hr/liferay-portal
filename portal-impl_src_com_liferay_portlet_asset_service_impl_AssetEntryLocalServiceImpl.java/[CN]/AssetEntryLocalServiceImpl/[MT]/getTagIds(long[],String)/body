{
  if (groupIds != null) {
    return assetTagLocalService.getTagIds(groupIds,tagName);
  }
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(AssetTag.class);
  Property tagNameProperty=PropertyFactoryUtil.forName("name");
  dynamicQuery.add(tagNameProperty.eq(tagName));
  List<AssetTag> assetTags=assetTagPersistence.findWithDynamicQuery(dynamicQuery);
  List<Long> tagIdList=new ArrayList<>();
  for (  AssetTag assetTag : assetTags) {
    tagIdList.add(assetTag.getTagId());
  }
  return ArrayUtil.toLongArray(tagIdList);
}
