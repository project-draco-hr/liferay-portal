{
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  if (permissionChecker == null) {
    return tagNames;
  }
  List<AssetTag> oldTags=assetTagLocalService.getTags(className,classPK);
  for (  AssetTag tag : oldTags) {
    if (!ArrayUtil.contains(tagNames,tag.getName()) && !AssetTagPermission.contains(permissionChecker,tag,ActionKeys.VIEW)) {
      tagNames=ArrayUtil.append(tagNames,tag.getName());
    }
  }
  return tagNames;
}
