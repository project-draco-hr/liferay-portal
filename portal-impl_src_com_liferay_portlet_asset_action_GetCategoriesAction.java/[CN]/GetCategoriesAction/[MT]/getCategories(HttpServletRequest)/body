{
  long categoryId=ParamUtil.getLong(request,"categoryId");
  long vocabularyId=ParamUtil.getLong(request,"vocabularyId");
  int start=ParamUtil.getInteger(request,"start",QueryUtil.ALL_POS);
  int end=ParamUtil.getInteger(request,"end",QueryUtil.ALL_POS);
  List<AssetCategory> categories=Collections.EMPTY_LIST;
  if (categoryId > 0) {
    categories=AssetCategoryLocalServiceUtil.getChildCategories(categoryId,start,end,null);
  }
 else   if (vocabularyId > 0) {
    long parentCategoryId=ParamUtil.getLong(request,"parentCategoryId",AssetCategoryConstants.DEFAULT_PARENT_CATEGORY_ID);
    categories=AssetCategoryLocalServiceUtil.getVocabularyCategories(parentCategoryId,vocabularyId,start,end,null);
  }
  return categories;
}
