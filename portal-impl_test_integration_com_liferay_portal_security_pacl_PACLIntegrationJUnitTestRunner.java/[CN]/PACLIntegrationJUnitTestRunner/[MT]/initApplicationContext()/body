{
  if (_initialized) {
    return;
  }
  Class<?> clazz=getClass();
  URL resource=clazz.getResource("pacl-test.properties");
  if (resource != null) {
    System.setProperty("external-properties",resource.getPath());
  }
  System.setProperty("catalina.base",".");
  System.setProperty(Context.INITIAL_CONTEXT_FACTORY,"org.apache.naming.java.javaURLContextFactory");
  ServiceTestUtil.initServices();
  ServiceTestUtil.initPermissions();
  HotDeployUtil.registerListener(new HookHotDeployListener());
  HotDeployUtil.setCapturePrematureEvents(false);
  PortalLifecycleUtil.flushInits();
  _initialized=true;
}
