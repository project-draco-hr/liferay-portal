{
  if (poshiProperties != null) {
    Enumeration<String> enumeration=(Enumeration<String>)poshiProperties.propertyNames();
    while (enumeration.hasMoreElements()) {
      String key=enumeration.nextElement();
      String value=poshiProperties.getProperty(key);
      systemProperties.put(key,value);
    }
  }
  systemProperties.putAll(poshiRunnerExtension.getPoshiProperties());
  File baseDir=poshiRunnerExtension.getBaseDir();
  if ((baseDir != null) && baseDir.exists()) {
    systemProperties.put("test.base.dir.name",poshiRunnerExtension.project.relativePath(baseDir));
  }
  List<String> testNames=poshiRunnerExtension.getTestNames();
  if (!testNames.isEmpty()) {
    systemProperties.put("test.name",CollectionUtils.join(",",testNames));
  }
  String testName=GradleUtil.getProperty(poshiRunnerExtension.project,"poshiTestName",(String)null);
  if (Validator.isNotNull(testName)) {
    systemProperties.put("test.name",testName);
  }
}
