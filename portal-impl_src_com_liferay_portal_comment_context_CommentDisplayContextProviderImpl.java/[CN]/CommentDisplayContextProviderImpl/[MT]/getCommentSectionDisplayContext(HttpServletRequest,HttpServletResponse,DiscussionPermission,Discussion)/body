{
  DiscussionRequestHelper discussionRequestHelper=new DiscussionRequestHelper(request);
  DiscussionTaglibHelper discussionTaglibHelper=new DiscussionTaglibHelper(request);
  CommentSectionDisplayContext commentSectionDisplayContext=new DefaultCommentSectionDisplayContext(discussionTaglibHelper,discussionRequestHelper,discussionPermission,discussion);
  for (  CommentDisplayContextFactory displayContextFactory : getDisplayContextFactories()) {
    commentSectionDisplayContext=displayContextFactory.getCommentSectionDisplayContext(commentSectionDisplayContext,request,response,discussionPermission,discussion);
  }
  return commentSectionDisplayContext;
}
