{
  DiscussionRequestHelper discussionRequestHelper=new DiscussionRequestHelper(request);
  DiscussionTaglibHelper discussionTaglibHelper=new DiscussionTaglibHelper(request);
  CommentTreeDisplayContext commentTreeDisplayContext=new DefaultCommentTreeDisplayContext(discussionTaglibHelper,discussionRequestHelper,discussionPermission,comment);
  for (  CommentDisplayContextFactory commentDisplayContextFactory : getDisplayContextFactories()) {
    commentTreeDisplayContext=commentDisplayContextFactory.getCommentTreeDisplayContext(commentTreeDisplayContext,request,response,discussionPermission,comment);
  }
  return commentTreeDisplayContext;
}
