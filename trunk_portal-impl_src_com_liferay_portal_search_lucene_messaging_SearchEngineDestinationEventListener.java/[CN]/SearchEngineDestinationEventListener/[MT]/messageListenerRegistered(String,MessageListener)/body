{
  if (!isProceed(destinationName,messageListener)) {
    return;
  }
  MessageBusUtil.unregisterMessageListener(DestinationNames.SEARCH_READER,_searchReaderMessageListener);
  MessageBusUtil.unregisterMessageListener(DestinationNames.SEARCH_WRITER,_searchWriterMessageListener);
  BaseSearchEngineMessageListener baseSearchEngineMessageListener=(BaseSearchEngineMessageListener)messageListener;
  String searchEngineName=baseSearchEngineMessageListener.getSearchEngineName();
  if (!searchEngineName.contains(LuceneSearchEngineImpl.NAME)) {
    setBooleanQueryFactory(new com.liferay.portal.search.generic.BooleanQueryFactoryImpl());
    setTermQueryFactory(new com.liferay.portal.search.generic.TermQueryFactoryImpl());
    _clusterSearchWriterMessageListener.setActive(false);
  }
}
