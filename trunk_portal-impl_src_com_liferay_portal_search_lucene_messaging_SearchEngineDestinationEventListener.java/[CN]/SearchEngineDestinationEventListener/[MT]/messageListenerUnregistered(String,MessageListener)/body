{
  if (!isProceed(destinationName,messageListener)) {
    return;
  }
  MessageBusUtil.registerMessageListener(DestinationNames.SEARCH_READER,_searchReaderMessageListener);
  MessageBusUtil.registerMessageListener(DestinationNames.SEARCH_WRITER,_searchWriterMessageListener);
  BaseSearchEngineMessageListener baseSearchEngineMessageListener=(BaseSearchEngineMessageListener)messageListener;
  String searchEngineName=baseSearchEngineMessageListener.getSearchEngineName();
  if (!searchEngineName.contains(LuceneSearchEngineImpl.NAME)) {
    setBooleanQueryFactory(new com.liferay.portal.search.lucene.BooleanQueryFactoryImpl());
    setTermQueryFactory(new com.liferay.portal.search.lucene.TermQueryFactoryImpl());
    _clusterSearchWriterMessageListener.setActive(PropsValues.LUCENE_REPLICATE_WRITE);
  }
}
