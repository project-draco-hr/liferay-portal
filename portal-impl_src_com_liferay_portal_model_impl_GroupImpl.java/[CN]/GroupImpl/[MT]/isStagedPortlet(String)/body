{
  portletId=PortletConstants.getRootPortletId(portletId);
  String typeSettingsProperty=getTypeSettingsProperty(StagingConstants.STAGED_PORTLET.concat(portletId));
  if (typeSettingsProperty != null) {
    return (GetterUtil.getBoolean(typeSettingsProperty));
  }
  try {
    Portlet portlet=PortletLocalServiceUtil.getPortletById(portletId);
    String portletDataHandlerClass=portlet.getPortletDataHandlerClass();
    if (portletDataHandlerClass == null) {
      return true;
    }
    Portlet stagedPortlet=null;
    String stagedPortletDataHandlerClass=null;
    String stagedPortletId=null;
    UnicodeProperties properties=getTypeSettingsProperties();
    for (    Map.Entry<String,String> entry : properties.entrySet()) {
      String key=entry.getKey();
      if (!key.contains(StagingConstants.STAGED_PORTLET)) {
        continue;
      }
      stagedPortletId=StringUtil.replace(key,StagingConstants.STAGED_PORTLET,StringPool.BLANK);
      stagedPortlet=PortletLocalServiceUtil.getPortletById(stagedPortletId);
      stagedPortletDataHandlerClass=stagedPortlet.getPortletDataHandlerClass();
      if (portletDataHandlerClass.equals(stagedPortletDataHandlerClass)) {
        return GetterUtil.getBoolean(entry.getValue());
      }
    }
  }
 catch (  Exception e) {
  }
  return true;
}
