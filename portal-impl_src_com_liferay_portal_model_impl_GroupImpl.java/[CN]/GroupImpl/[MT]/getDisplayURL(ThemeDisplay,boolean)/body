{
  if (!privateLayout && (getPublicLayoutsPageCount() > 0)) {
    try {
      String groupFriendlyURL=PortalUtil.getGroupFriendlyURL(getPublicLayoutSet(),themeDisplay);
      return PortalUtil.addPreservedParameters(themeDisplay,groupFriendlyURL);
    }
 catch (    PortalException pe) {
      _log.error(pe,pe);
    }
  }
 else   if (privateLayout && (getPrivateLayoutsPageCount() > 0)) {
    try {
      String groupFriendlyURL=PortalUtil.getGroupFriendlyURL(getPrivateLayoutSet(),themeDisplay);
      return PortalUtil.addPreservedParameters(themeDisplay,groupFriendlyURL);
    }
 catch (    PortalException pe) {
      _log.error(pe);
    }
  }
 else {
    try {
      if (GroupPermissionUtil.contains(themeDisplay.getPermissionChecker(),this,ActionKeys.VIEW_SITE_ADMINISTRATION)) {
        PortletURL portletURL=getAdministrationURL(themeDisplay);
        return portletURL.toString();
      }
    }
 catch (    PortalException pe) {
      _log.error(pe);
    }
  }
  return StringPool.BLANK;
}
