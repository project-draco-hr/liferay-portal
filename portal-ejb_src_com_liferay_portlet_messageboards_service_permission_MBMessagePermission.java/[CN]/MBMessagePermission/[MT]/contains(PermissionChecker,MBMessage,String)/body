{
  MBCategory category=message.getCategory();
  long groupId=category.getGroupId();
  MBBan ban=MBBanLocalServiceUtil.getBan(groupId,PrincipalThreadLocal.getName());
  if (ban != null) {
    return false;
  }
 else {
    return permissionChecker.hasPermission(category.getGroupId(),MBMessage.class.getName(),message.getPrimaryKey().toString(),actionId);
  }
}
