{
  String actualURL=null;
  if ((friendlyURL != null) && friendlyURL.startsWith(JournalArticleConstants.CANONICAL_URL_SEPARATOR)) {
    try {
      actualURL=getJournalArticleActualURL(groupId,mainPath,friendlyURL,params,requestContext);
    }
 catch (    Exception e) {
      friendlyURL=null;
    }
  }
  if (actualURL == null) {
    actualURL=getLayoutActualURL(groupId,privateLayout,mainPath,friendlyURL,params,requestContext);
  }
  return actualURL;
}
