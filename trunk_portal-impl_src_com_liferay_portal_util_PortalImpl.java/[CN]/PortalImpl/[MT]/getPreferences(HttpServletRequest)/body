{
  RenderRequest renderRequest=(RenderRequest)request.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  PortletPreferences portletPreferences=null;
  if (renderRequest != null) {
    PortletPreferencesWrapper portletPreferencesWrapper=(PortletPreferencesWrapper)renderRequest.getPreferences();
    portletPreferences=portletPreferencesWrapper.getPortletPreferencesImpl();
  }
  return portletPreferences;
}
