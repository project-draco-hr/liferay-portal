{
  while (xmlStreamReader.hasNext()) {
    int event=xmlStreamReader.next();
    if (event == XMLStreamConstants.START_ELEMENT) {
      String languageId=xmlStreamReader.getAttributeValue(null,_LANGUAGE_ID);
      if (Validator.isNull(languageId)) {
        languageId=defaultLanguageId;
      }
      if (!languageId.equals(exemptLanguageId)) {
        xmlStreamWriter.writeStartElement(xmlStreamReader.getLocalName());
        xmlStreamWriter.writeAttribute(_LANGUAGE_ID,languageId);
        while (xmlStreamReader.hasNext()) {
          event=xmlStreamReader.next();
          if (event == XMLStreamConstants.CHARACTERS || event == XMLStreamConstants.CDATA) {
            String text=xmlStreamReader.getText();
            if (cdata) {
              xmlStreamWriter.writeCData(text);
            }
 else {
              xmlStreamWriter.writeCharacters(xmlStreamReader.getText());
            }
            break;
          }
 else           if (event == XMLStreamConstants.END_ELEMENT) {
            break;
          }
        }
        xmlStreamWriter.writeEndElement();
      }
    }
 else     if (event == XMLStreamConstants.END_DOCUMENT) {
      break;
    }
  }
}
