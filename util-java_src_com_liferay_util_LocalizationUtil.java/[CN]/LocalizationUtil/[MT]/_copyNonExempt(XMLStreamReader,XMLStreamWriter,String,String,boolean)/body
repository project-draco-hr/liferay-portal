{
  while (reader.hasNext()) {
    int event=reader.next();
    if (event == XMLStreamConstants.START_ELEMENT) {
      String languageId=reader.getAttributeValue(null,_LANGUAGE_ID);
      if (Validator.isNull(languageId)) {
        languageId=defaultLanguageId;
      }
      if (!languageId.equals(exemptLanguageId)) {
        writer.writeStartElement(reader.getLocalName());
        writer.writeAttribute(_LANGUAGE_ID,languageId);
        while (reader.hasNext()) {
          event=reader.next();
          if (event == XMLStreamConstants.CHARACTERS || event == XMLStreamConstants.CDATA) {
            String text=reader.getText();
            if (cdata) {
              writer.writeCData(text);
            }
 else {
              writer.writeCharacters(reader.getText());
            }
            break;
          }
 else           if (event == XMLStreamConstants.END_ELEMENT) {
            break;
          }
        }
        writer.writeEndElement();
      }
    }
 else     if (event == XMLStreamConstants.END_DOCUMENT) {
      break;
    }
  }
}
