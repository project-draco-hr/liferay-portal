{
  LayoutSet layoutSet=layoutSetPersistence.findByG_P(groupId,privateLayout);
  Date now=new Date();
  layoutSet.setModifiedDate(now);
  layoutSet.setLogo(logo);
  if (logo) {
    long logoId=layoutSet.getLogoId();
    if (logoId <= 0) {
      logoId=counterLocalService.increment();
      layoutSet.setLogoId(logoId);
    }
  }
  layoutSetPersistence.update(layoutSet,false);
  if (logo) {
    imageLocalService.updateImage(layoutSet.getLogoId(),is,cleanUpStream);
  }
 else {
    imageLocalService.deleteImage(layoutSet.getLogoId());
  }
}
