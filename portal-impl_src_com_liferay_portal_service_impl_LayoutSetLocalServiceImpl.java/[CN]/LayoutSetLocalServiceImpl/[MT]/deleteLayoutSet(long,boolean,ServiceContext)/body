{
  Group group=groupPersistence.findByPrimaryKey(groupId);
  LayoutSet layoutSet=layoutSetPersistence.findByG_P(groupId,privateLayout);
  List<Layout> layouts=layoutPersistence.findByG_P_P(groupId,privateLayout,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID);
  for (int i=layouts.size() - 1; i >= 0; i--) {
    Layout layout=layouts.get(i);
    try {
      layoutLocalService.deleteLayout(layout,false,serviceContext);
    }
 catch (    NoSuchLayoutException nsle) {
    }
  }
  imageLocalService.deleteImage(layoutSet.getLogoId());
  layoutSetPersistence.removeByG_P(groupId,privateLayout);
  if (!group.isStagingGroup() && group.isOrganization() && group.isSite()) {
    addLayoutSet(group.getGroupId(),privateLayout);
  }
  counterLocalService.reset(LayoutLocalServiceImpl.getCounterName(groupId,privateLayout));
  try {
    virtualHostPersistence.removeByC_L(layoutSet.getCompanyId(),layoutSet.getLayoutSetId());
  }
 catch (  NoSuchVirtualHostException nsvhe) {
  }
}
