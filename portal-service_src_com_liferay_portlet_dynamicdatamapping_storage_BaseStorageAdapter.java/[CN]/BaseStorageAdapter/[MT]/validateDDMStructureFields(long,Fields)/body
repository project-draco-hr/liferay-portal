{
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getDDMStructure(ddmStructureId);
  Iterator<Field> itr=fields.iterator();
  while (itr.hasNext()) {
    Field field=itr.next();
    if (!ddmStructure.hasField(field.getName())) {
      throw new StorageFieldNameException();
    }
    boolean required=ddmStructure.getFieldRequired(field.getName());
    if (required && Validator.isNull(field.getValue())) {
      throw new StorageFieldRequiredException();
    }
  }
}
