{
  HttpAuthorizationHeader httpAuthorizationHeader=new HttpAuthorizationHeader(HttpAuthorizationHeader.SCHEME_DIGEST);
  authorization=authorization.substring(HttpAuthorizationHeader.SCHEME_DIGEST.length() + 1);
  authorization=StringUtil.replace(authorization,CharPool.COMMA,CharPool.NEW_LINE);
  UnicodeProperties authorizationProperties=new UnicodeProperties();
  authorizationProperties.fastLoad(authorization);
  for (  Map.Entry<String,String> authorizationProperty : authorizationProperties.entrySet()) {
    String key=authorizationProperty.getKey();
    String value=StringUtil.unquote(authorizationProperties.getProperty(key));
    httpAuthorizationHeader.setAuthParameter(key,value);
  }
  return httpAuthorizationHeader;
}
