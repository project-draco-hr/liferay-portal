{
  Folder folder=_getFolder(themeDisplay,portletRequest);
  if ((folder == null) && containsPermission(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,ActionKeys.ADD_REPOSITORY)) {
    URLMenuItem urlMenuItem=new URLMenuItem();
    urlMenuItem.setLabel(LanguageUtil.get(PortalUtil.getHttpServletRequest(portletRequest),"add-repository"));
    PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
    PortletURL portletURL=PortletURLFactoryUtil.create(portletRequest,portletDisplay.getId(),themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
    portletURL.setParameter("mvcRenderCommandName","/document_library/edit_repository");
    portletURL.setParameter("redirect",themeDisplay.getURLCurrent());
    portletURL.setParameter("folderId",String.valueOf(DLFolderConstants.DEFAULT_PARENT_FOLDER_ID));
    urlMenuItem.setURL(portletURL.toString());
    menuItems.add(urlMenuItem);
  }
}
