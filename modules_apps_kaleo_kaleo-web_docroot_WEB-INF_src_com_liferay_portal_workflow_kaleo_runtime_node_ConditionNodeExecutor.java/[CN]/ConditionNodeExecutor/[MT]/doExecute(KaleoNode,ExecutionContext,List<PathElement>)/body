{
  KaleoInstanceToken kaleoInstanceToken=executionContext.getKaleoInstanceToken();
  KaleoCondition kaleoCondition=kaleoConditionLocalService.getKaleoNodeKaleoCondition(currentKaleoNode.getKaleoNodeId());
  String[] scriptRequiredContexts=StringUtil.split(kaleoCondition.getScriptRequiredContexts());
  ClassLoader[] classloaders=ClassLoaderUtil.getClassLoaders(scriptRequiredContexts);
  String transitionName=_conditionEvaluator.evaluate(kaleoCondition,executionContext,classloaders);
  kaleoInstanceLocalService.updateKaleoInstance(kaleoInstanceToken.getKaleoInstanceId(),executionContext.getWorkflowContext(),executionContext.getServiceContext());
  KaleoTransition kaleoTransition=currentKaleoNode.getKaleoTransition(transitionName);
  ExecutionContext newExecutionContext=new ExecutionContext(kaleoInstanceToken,executionContext.getWorkflowContext(),executionContext.getServiceContext());
  PathElement pathElement=new PathElement(currentKaleoNode,kaleoTransition.getTargetKaleoNode(),newExecutionContext);
  remainingPathElements.add(pathElement);
}
