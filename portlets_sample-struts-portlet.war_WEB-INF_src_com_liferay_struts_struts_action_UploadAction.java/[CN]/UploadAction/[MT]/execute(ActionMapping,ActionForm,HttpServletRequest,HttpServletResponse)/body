{
  FileItemFactory factory=new DiskFileItemFactory();
  ServletFileUpload upload=new ServletFileUpload(factory);
  List items=upload.parseRequest(req);
  Iterator iter=items.iterator();
  String itemName="";
  while (iter.hasNext()) {
    FileItem item=(FileItem)iter.next();
    if (!item.isFormField()) {
      if (_log.isInfoEnabled()) {
        _log.info("Field name " + item.getFieldName());
      }
      itemName=item.getName();
      if (_log.isInfoEnabled()) {
        _log.info("Name " + itemName);
        _log.info("Content type " + item.getContentType());
        _log.info("In memory " + item.isInMemory());
        _log.info("Size " + item.getSize());
      }
    }
  }
  req.setAttribute("file_name",itemName);
  return mapping.findForward("/sample_struts_portlet/upload_success");
}
