{
  DDMExpression<Boolean> booleanDDMExpression=_ddmExpressionFactory.createBooleanDDMExpression(expression);
  Map<String,VariableDependencies> variableDependencies=booleanDDMExpression.getVariableDependenciesMap();
  for (  String variable : variableDependencies.keySet()) {
    if (_ddmFormFieldEvaluationResults.containsKey(variable)) {
      expression=expression.replaceAll(String.format("([,\\s\\(]+|.*)(%s)([,\\s\\)]+|.*)",variable),String.format("$1get(fieldAt(\"%s\", 0), \"value\")$3",variable));
    }
  }
  return expression;
}
