{
  validate(null,companyId,name);
  String roleId=String.valueOf(CounterLocalServiceUtil.increment(Role.class.getName()));
  Role role=RoleUtil.create(roleId);
  role.setCompanyId(companyId);
  role.setClassName(className);
  role.setClassPK(classPK);
  role.setName(name);
  role.setType(type);
  RoleUtil.update(role);
  if (userId != null) {
    ResourceLocalServiceUtil.addResources(companyId,0,userId,Role.class.getName(),role.getPrimaryKey().toString(),false,false,false);
  }
  return role;
}
