{
  _countDownLatch.await();
  if (_competeLatch.compete()) {
    try {
      processFilter(InitFilter.class.getName(),request,response,filterChain);
    }
  finally {
      _serviceRegistration.unregister();
      _competeLatch.done();
    }
  }
 else {
    _competeLatch.await();
    processFilter(InitFilter.class.getName(),request,response,filterChain);
  }
}
