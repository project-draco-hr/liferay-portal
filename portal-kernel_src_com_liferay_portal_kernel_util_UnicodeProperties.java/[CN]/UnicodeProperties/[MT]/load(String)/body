{
  if (Validator.isNull(props)) {
    return;
  }
  UnsyncBufferedReader br=null;
  try {
    br=new UnsyncBufferedReader(new UnsyncStringReader(props));
    String line=br.readLine();
    while (line != null) {
      line=line.trim();
      if (_isComment(line)) {
        line=br.readLine();
        continue;
      }
      int pos=line.indexOf(StringPool.EQUAL);
      if (pos != -1) {
        String key=line.substring(0,pos).trim();
        String value=line.substring(pos + 1).trim();
        if (_safe) {
          value=_decode(value);
        }
        setProperty(key,value);
      }
 else {
        _log.error("Invalid property on line " + line);
      }
      line=br.readLine();
    }
  }
  finally {
    if (br != null) {
      try {
        br.close();
      }
 catch (      Exception e) {
      }
    }
  }
}
