{
  BlogsEntry entry=blogsEntryPersistence.findByPrimaryKey(entryId);
  if (!entry.isInTrash()) {
    throw new RestoreEntryException(RestoreEntryException.INVALID_STATUS);
  }
  TrashEntry trashEntry=trashEntryLocalService.getEntry(BlogsEntry.class.getName(),entryId);
  entry=updateStatus(userId,entryId,trashEntry.getStatus(),new ServiceContext());
  JSONObject extraDataJSONObject=JSONFactoryUtil.createJSONObject();
  extraDataJSONObject.put("title",entry.getTitle());
  SocialActivityManagerUtil.addActivity(userId,entry,SocialActivityConstants.TYPE_RESTORE_FROM_TRASH,extraDataJSONObject.toString(),0);
  return entry;
}
