{
  _closed=true;
  Iterator<Session> iterator=_sessions.iterator();
  while (iterator.hasNext()) {
    Session session=iterator.next();
    iterator.remove();
    try {
      CloseReason closeReason=new CloseReason(CloseReason.CloseCodes.GOING_AWAY,"Service has gone away");
      session.close(closeReason);
      _endpoint.onClose(session,closeReason);
      _serviceObjects.ungetService(_endpoint);
    }
 catch (    IOException ioe) {
      _log.log(LogService.LOG_ERROR,"It is not possible close the session",ioe);
    }
  }
}
