{
  long[] ldapServerIdList=StringUtil.split(PrefsPropsUtil.getString(companyId,"ldap.server.ids"),0L);
  String ldapServerName=properties.getProperty("ldap.server.name." + ldapServerId);
  if (ldapServerName.isEmpty()) {
    throw new LDAPServerNameException();
  }
  for (  long ldapServerIterator : ldapServerIdList) {
    if (ldapServerId == ldapServerIterator) {
      continue;
    }
 else {
      if (ldapServerName.equals(PrefsPropsUtil.getString(companyId,"ldap.server.name." + ldapServerIterator))) {
        throw new DuplicateLDAPServerNameException();
      }
    }
  }
}
