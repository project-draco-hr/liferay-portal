{
  List<Portlet> portlets=new ArrayList<Portlet>();
  for (  Portlet portlet : PortletLocalServiceUtil.getPortlets()) {
    PortletApp portletApp=portlet.getPortletApp();
    if (portletApp.isWARFile() || portlet.isRemote()) {
      portlets.add(portlet);
    }
  }
  return portlets;
}
