{
  LayoutPrototype layoutPrototype=layoutPrototypePersistence.findByPrimaryKey(layoutPrototypeId);
  layoutPrototype.setModifiedDate(serviceContext.getModifiedDate(new Date()));
  layoutPrototype.setNameMap(nameMap);
  layoutPrototype.setDescription(description);
  layoutPrototype.setActive(active);
  layoutPrototypePersistence.update(layoutPrototype);
  Group group=groupLocalService.getLayoutPrototypeGroup(layoutPrototype.getCompanyId(),layoutPrototypeId);
  groupLocalService.updateGroup(group.getGroupId(),group.getParentGroupId(),layoutPrototype.getName(LocaleUtil.getDefault()),group.getDescription(),group.getType(),group.getManualMembership(),group.getMembershipRestriction(),group.getFriendlyURL(),group.isActive(),serviceContext);
  Layout layout=layoutPrototype.getLayout();
  layout.setModifiedDate(layoutPrototype.getModifiedDate());
  layout.setNameMap(nameMap);
  layoutPersistence.update(layout);
  return layoutPrototype;
}
