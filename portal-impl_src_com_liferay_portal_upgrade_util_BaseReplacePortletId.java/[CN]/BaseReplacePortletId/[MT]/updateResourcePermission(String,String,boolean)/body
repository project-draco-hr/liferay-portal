{
  if (hasResourcePermission(newRootPortletId)) {
    try (PreparedStatement ps=connection.prepareStatement("delete from ResourcePermission where name = ?")){
      ps.setString(1,oldRootPortletId);
      ps.execute();
    }
   }
 else {
    super.updateResourcePermission(oldRootPortletId,newRootPortletId,updateName);
  }
}
