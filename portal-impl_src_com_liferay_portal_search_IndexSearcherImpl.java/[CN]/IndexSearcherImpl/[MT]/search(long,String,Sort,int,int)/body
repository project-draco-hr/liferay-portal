{
  SearchEngineRequest req=new SearchEngineRequest(SearchEngineRequest.COMMAND_SEARCH,companyId,query,sort,start,end);
  String json=MessageBusUtil.sendSynchronizedMessage(DestinationNames.SEARCH,JSONUtil.serialize(req));
  try {
    JSONObject jsonObj=new JSONObject(json);
    return (Hits)JSONUtil.deserialize(jsonObj.getString("hits"));
  }
 catch (  JSONException je) {
    throw new SearchException(je);
  }
}
