{
  Field fileDescriptorField=ReflectionUtil.getDeclaredField(socketChannel.getClass(),"fd");
  FileDescriptor fileDescriptor=(FileDescriptor)fileDescriptorField.get(socketChannel);
  File tempFile=new File("temp-" + System.nanoTime());
  tempFile.deleteOnExit();
  FileOutputStream fileOutputStream=new FileOutputStream(tempFile);
  fileDescriptorField.set(socketChannel,fileOutputStream.getFD());
  fileOutputStream.close();
  return fileDescriptor;
}
