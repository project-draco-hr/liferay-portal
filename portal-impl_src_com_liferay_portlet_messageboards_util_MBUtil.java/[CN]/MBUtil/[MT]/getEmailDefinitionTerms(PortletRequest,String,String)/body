{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Map<String,String> definitionTerms=new LinkedHashMap<>();
  definitionTerms.put("[$CATEGORY_NAME$]",LanguageUtil.get(themeDisplay.getLocale(),"the-category-in-which-the-message-has-been-posted"));
  definitionTerms.put("[$COMPANY_ID$]",LanguageUtil.get(themeDisplay.getLocale(),"the-company-id-associated-with-the-message-board"));
  definitionTerms.put("[$COMPANY_MX$]",LanguageUtil.get(themeDisplay.getLocale(),"the-company-mx-associated-with-the-message-board"));
  definitionTerms.put("[$COMPANY_NAME$]",LanguageUtil.get(themeDisplay.getLocale(),"the-company-name-associated-with-the-message-board"));
  definitionTerms.put("[$FROM_ADDRESS$]",HtmlUtil.escape(emailFromAddress));
  definitionTerms.put("[$FROM_NAME$]",HtmlUtil.escape(emailFromName));
  if (PropsValues.POP_SERVER_NOTIFICATIONS_ENABLED) {
    definitionTerms.put("[$MAILING_LIST_ADDRESS$]",LanguageUtil.get(themeDisplay.getLocale(),"the-email-address-of-the-mailing-list"));
  }
  definitionTerms.put("[$MESSAGE_BODY$]",LanguageUtil.get(themeDisplay.getLocale(),"the-message-body"));
  definitionTerms.put("[$MESSAGE_ID$]",LanguageUtil.get(themeDisplay.getLocale(),"the-message-id"));
  definitionTerms.put("[$MESSAGE_SUBJECT$]",LanguageUtil.get(themeDisplay.getLocale(),"the-message-subject"));
  definitionTerms.put("[$MESSAGE_URL$]",LanguageUtil.get(themeDisplay.getLocale(),"the-message-url"));
  definitionTerms.put("[$MESSAGE_USER_ADDRESS$]",LanguageUtil.get(themeDisplay.getLocale(),"the-email-address-of-the-user-who-added-the-message"));
  definitionTerms.put("[$MESSAGE_USER_NAME$]",LanguageUtil.get(themeDisplay.getLocale(),"the-user-who-added-the-message"));
  Company company=themeDisplay.getCompany();
  definitionTerms.put("[$PORTAL_URL$]",company.getVirtualHostname());
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  definitionTerms.put("[$PORTLET_NAME$]",HtmlUtil.escape(portletDisplay.getTitle()));
  definitionTerms.put("[$SITE_NAME$]",LanguageUtil.get(themeDisplay.getLocale(),"the-site-name-associated-with-the-message-board"));
  if (!PropsValues.MESSAGE_BOARDS_EMAIL_BULK) {
    definitionTerms.put("[$TO_ADDRESS$]",LanguageUtil.get(themeDisplay.getLocale(),"the-address-of-the-email-recipient"));
    definitionTerms.put("[$TO_NAME$]",LanguageUtil.get(themeDisplay.getLocale(),"the-name-of-the-email-recipient"));
  }
  return definitionTerms;
}
