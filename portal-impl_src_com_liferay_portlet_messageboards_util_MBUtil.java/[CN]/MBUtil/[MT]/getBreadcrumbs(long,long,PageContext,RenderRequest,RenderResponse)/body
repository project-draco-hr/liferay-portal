{
  if (messageId > 0) {
    MBMessage message=MBMessageLocalServiceUtil.getMessage(messageId);
    return getBreadcrumbs(null,message,pageContext,renderRequest,renderResponse);
  }
 else {
    MBCategory category=null;
    try {
      if ((categoryId > 0) && (categoryId != MBCategoryImpl.DEFAULT_PARENT_CATEGORY_ID)) {
        category=MBCategoryLocalServiceUtil.getCategory(categoryId);
      }
    }
 catch (    Exception e) {
      _log.error("Unable to retrieve category " + categoryId,e);
    }
    return getBreadcrumbs(category,null,pageContext,renderRequest,renderResponse);
  }
}
