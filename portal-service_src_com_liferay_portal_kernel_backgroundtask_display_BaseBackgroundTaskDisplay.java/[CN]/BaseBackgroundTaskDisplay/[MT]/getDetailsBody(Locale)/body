{
  TemplateManager templateManager=TemplateManagerUtil.getTemplateManager(TemplateConstants.LANG_TYPE_FTL);
  Template template=templateManager.getTemplate(getTemplateResource(),true);
  JSONObject jsonObject=getDetailsJSONObject(locale);
  template.put("backgroundTask",_backgroundTask);
  template.put("backgroundTaskStatus",_backgroundTaskStatus);
  template.put("backgroundTaskDisplay",this);
  template.put("jsonObject",jsonObject);
  template.putAll(getTemplateVars());
  Writer writer=new UnsyncStringWriter();
  try {
    template.processTemplate(writer);
  }
 catch (  TemplateException te) {
    if (_log.isDebugEnabled()) {
      _log.debug(te,te);
    }
    return "";
  }
  return writer.toString();
}
