{
  String password=getUpdateUserPassword(request,userId);
  User user=UserLocalServiceUtil.getUserById(userId);
  Contact contact=user.getContact();
  Calendar birthdayCal=CalendarFactoryUtil.getCalendar();
  birthdayCal.setTime(contact.getBirthday());
  int birthdayMonth=birthdayCal.get(Calendar.MONTH);
  int birthdayDay=birthdayCal.get(Calendar.DATE);
  int birthdayYear=birthdayCal.get(Calendar.YEAR);
  long[] groupIds=null;
  long[] organizationIds=null;
  long[] regularRoleIds=null;
  List<UserGroupRole> userGroupRoles=null;
  long[] userGroupIds=null;
  ServiceContext serviceContext=new ServiceContext();
  return UserServiceUtil.updateUser(userId,password,StringPool.BLANK,StringPool.BLANK,user.isPasswordReset(),user.getReminderQueryQuestion(),user.getReminderQueryAnswer(),screenName,emailAddress,openId,languageId,timeZoneId,greeting,comments,contact.getFirstName(),contact.getMiddleName(),contact.getLastName(),contact.getPrefixId(),contact.getSuffixId(),contact.isMale(),birthdayMonth,birthdayDay,birthdayYear,smsSn,aimSn,facebookSn,icqSn,jabberSn,msnSn,mySpaceSn,skypeSn,twitterSn,ymSn,contact.getJobTitle(),groupIds,organizationIds,regularRoleIds,userGroupRoles,userGroupIds,serviceContext);
}
