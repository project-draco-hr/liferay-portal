{
  String password=getUpdateUserPassword(request,userId);
  User user=UserLocalServiceUtil.getUserById(userId);
  Contact contact=user.getContact();
  Calendar birthdayCal=CalendarFactoryUtil.getCalendar();
  birthdayCal.setTime(contact.getBirthday());
  int birthdayMonth=birthdayCal.get(Calendar.MONTH);
  int birthdayDay=birthdayCal.get(Calendar.DATE);
  int birthdayYear=birthdayCal.get(Calendar.YEAR);
  long[] groupIds=null;
  long[] organizationIds=null;
  long[] roleIds=null;
  return UserServiceUtil.updateUser(userId,password,StringPool.BLANK,StringPool.BLANK,user.isPasswordReset(),screenName,emailAddress,openId,languageId,timeZoneId,greeting,comments,contact.getFirstName(),contact.getMiddleName(),contact.getLastName(),contact.getPrefixId(),contact.getSuffixId(),contact.isMale(),birthdayMonth,birthdayDay,birthdayYear,smsSn,aimSn,facebookSn,icqSn,jabberSn,msnSn,mySpaceSn,skypeSn,twitterSn,ymSn,contact.getJobTitle(),groupIds,organizationIds,roleIds);
}
