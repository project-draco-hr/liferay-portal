{
  boolean allowBrowseDocuments=GetterUtil.getBoolean(inputEditorTaglibAttributes.get("liferay-ui:input-editor:allowBrowseDocuments"));
  if (!allowBrowseDocuments) {
    return;
  }
  ItemSelectorCriterion imageItemSelectorCriterion=new ImageItemSelectorCriterion();
  Set<ItemSelectorReturnType> desiredItemSelectorReturnTypes=new HashSet<>();
  desiredItemSelectorReturnTypes.add(DefaultItemSelectorReturnType.URL);
  imageItemSelectorCriterion.setDesiredItemSelectorReturnTypes(desiredItemSelectorReturnTypes);
  String name=GetterUtil.getString(inputEditorTaglibAttributes.get("liferay-ui:input-editor:name"));
  PortletURL itemSelectorURL=_itemSelector.getItemSelectorURL(liferayPortletResponse,name + "selectItem",imageItemSelectorCriterion);
  jsonObject.put("filebrowserImageBrowseLinkUrl",itemSelectorURL.toString());
  jsonObject.put("filebrowserImageBrowseUrl",itemSelectorURL.toString());
}
