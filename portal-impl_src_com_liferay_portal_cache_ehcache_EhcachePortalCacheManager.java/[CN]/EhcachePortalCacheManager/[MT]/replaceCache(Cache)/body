{
  String name=cache.getName();
synchronized (_cacheManager) {
    if (_cacheManager.cacheExists(name)) {
      if (_log.isInfoEnabled()) {
        _log.info("Overriding existing cache " + name);
      }
      _cacheManager.removeCache(name);
    }
    _cacheManager.addCache(cache);
    EhcachePortalCache<K,V> ehcachePortalCache=getEhcachePortalCache(_portalCaches.get(name));
    if (ehcachePortalCache != null) {
      ehcachePortalCache.setEhcache(cache);
    }
  }
}
