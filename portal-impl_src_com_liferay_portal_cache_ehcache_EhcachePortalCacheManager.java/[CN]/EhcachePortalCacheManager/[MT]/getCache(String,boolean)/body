{
  Ehcache cache=_cacheManager.getEhcache(name);
  if (cache == null) {
synchronized (_cacheManager) {
      cache=_cacheManager.getEhcache(name);
      if (cache == null) {
        try {
          _cacheManager.addCache(name);
        }
 catch (        ObjectExistsException oee) {
        }
        cache=_cacheManager.getEhcache(name);
        if (_log.isInfoEnabled()) {
          _log.info("Cache name " + name + " is using implementation "+ cache.getClass().getName());
        }
      }
    }
  }
  PortalCache portalCache=new EhcachePortalCache(cache);
  if (PropsValues.EHCACHE_BLOCKING_CACHE_ALLOWED && blocking) {
    portalCache=new BlockingPortalCache(portalCache);
  }
  return portalCache;
}
