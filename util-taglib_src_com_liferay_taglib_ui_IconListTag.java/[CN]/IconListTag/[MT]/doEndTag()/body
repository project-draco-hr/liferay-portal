{
  try {
    HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
    IntegerWrapper iconCount=(IntegerWrapper)request.getAttribute("liferay-ui:icon-list:icon-count");
    request.removeAttribute("liferay-ui:icon-list:icon-count");
    Boolean singleIcon=(Boolean)request.getAttribute("liferay-ui:icon-list:single-icon");
    request.removeAttribute("liferay-ui:icon-list:single-icon");
    if ((iconCount != null) && (iconCount.getValue() > 1) && ((singleIcon == null) || _showWhenSingleIcon)) {
      PortalIncludeUtil.include(pageContext,getStartPage());
    }
    pageContext.getOut().print(_bodyContentString);
    if ((iconCount != null) && (iconCount.getValue() > 1) && ((singleIcon == null) || _showWhenSingleIcon)) {
      PortalIncludeUtil.include(pageContext,getEndPage());
    }
    request.removeAttribute("liferay-ui:icon-list:showWhenSingleIcon");
    return EVAL_PAGE;
  }
 catch (  Exception e) {
    throw new JspException(e);
  }
 finally {
    if (!ServerDetector.isResin()) {
      _startPage=null;
      _endPage=null;
      _showWhenSingleIcon=false;
      _bodyContentString=StringPool.BLANK;
    }
  }
}
