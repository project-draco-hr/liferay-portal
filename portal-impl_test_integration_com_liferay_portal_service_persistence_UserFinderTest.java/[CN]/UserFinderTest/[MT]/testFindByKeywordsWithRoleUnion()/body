{
  long roleId=RoleTestUtil.addRegularRole(_site.getGroupId());
  RoleLocalServiceUtil.addGroupRole(_org.getGroupId(),roleId);
  RoleLocalServiceUtil.addGroupRole(_userGroup.getGroup().getGroupId(),roleId);
  LinkedHashMap<String,Object> params=new LinkedHashMap<String,Object>();
  params.put("usersRoles",roleId);
  params.put("inherit",Boolean.TRUE);
  List<User> usersFound=findByKeywords(params);
  Assert.assertTrue("Site user must inherit Role",usersFound.contains(_siteUser));
  Assert.assertTrue("Organization user must inherit Role",usersFound.contains(_orgUser));
  Assert.assertTrue("User Group user must inherit Role",usersFound.contains(_userGroupUser));
  User testUser=UserLocalServiceUtil.getUserByScreenName(TestPropsValues.getCompanyId(),"test");
  Assert.assertTrue(usersFound.contains(testUser));
  Assert.assertEquals(4,usersFound.size());
}
