{
  Set<Class<?>> interfaces=null;
  try {
    interfaces=getInterfaces(bean);
  }
 catch (  Exception e) {
    _log.log(Logger.LOG_ERROR,"Unable to register service " + bean,e);
  }
  interfaces.add(bean.getClass());
  List<String> names=new ArrayList<>(interfaces.size());
  for (  Class<?> interfaceClass : interfaces) {
    String interfaceClassName=interfaceClass.getName();
    if (!isIgnoredInterface(interfaceClassName)) {
      names.add(interfaceClassName);
    }
  }
  if (names.isEmpty()) {
    _log.log(Logger.LOG_DEBUG,"Skipping registration because of an empty list of interfaces");
    return;
  }
  registerService(bundleContext,bean,names,getBeanProperties(bean));
}
