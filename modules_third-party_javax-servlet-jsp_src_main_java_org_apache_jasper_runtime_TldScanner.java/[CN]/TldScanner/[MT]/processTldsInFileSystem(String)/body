{
  Set dirList=ctxt.getResourcePaths(startPath);
  if (dirList != null) {
    Iterator it=dirList.iterator();
    while (it.hasNext()) {
      String path=(String)it.next();
      if (path.endsWith("/")) {
        processTldsInFileSystem(path);
      }
      if (!path.endsWith(".tld")) {
        continue;
      }
      if (path.startsWith("/WEB-INF/tags/") && !path.endsWith("implicit.tld")) {
        throw new JasperException(Localizer.getMessage("jsp.error.tldinit.tldInWebInfTags",path));
      }
      InputStream stream=ctxt.getResourceAsStream(path);
      TldInfo tldInfo=scanTld(path,null,stream);
      if (scanListeners) {
        addListener(tldInfo,true);
      }
      mapTldLocation(path,tldInfo,true);
    }
  }
}
