{
  Manifest manifest;
  try {
    manifest=jconn.getManifest();
  }
 catch (  IOException ex) {
    return false;
  }
  String file=jconn.getJarFileURL().toString();
  if (!file.contains("WEB-INF")) {
    return true;
  }
  if (manifest == null)   return true;
  java.util.jar.Attributes attrs=manifest.getMainAttributes();
  String cp=(String)attrs.getValue("Class-Path");
  if (cp == null)   return true;
  String[] paths=cp.split(" ");
  int lastIndex=file.lastIndexOf('/');
  if (lastIndex < 0) {
    lastIndex=file.lastIndexOf('\\');
  }
  String baseDir="";
  if (lastIndex > 0) {
    baseDir=file.substring(0,lastIndex + 1);
  }
  for (  String path : paths) {
    String p;
    if (path.startsWith("/") || path.startsWith("\\")) {
      p="file:" + path;
    }
 else {
      p=baseDir + path;
    }
    if ((scannedJars == null || !scannedJars.contains(p)) && !newJars.contains(p)) {
      newJars.add(p);
    }
  }
  return true;
}
