{
  if (!_scalars.isEmpty()) {
    Collections.sort(_scalars);
    if (list.get(0) instanceof Collection) {
      List<Object> newList=new ArrayList<Object>();
      for (      Collection<Object> collection : (List<Collection<Object>>)list) {
        Object[] array=collection.toArray();
        Object[] values=new Object[_scalars.size()];
        for (int i=0; i < _scalars.size(); i++) {
          values[i]=array[_scalars.get(i)];
        }
        newList.add(values);
      }
      list=newList;
    }
 else     if (list.get(0) instanceof Object[]) {
      List<Object> newList=new ArrayList<Object>();
      for (      Object[] array : (List<Object[]>)list) {
        Object[] values=new Object[_scalars.size()];
        for (int i=0; i < _scalars.size(); i++) {
          values[i]=array[_scalars.get(i)];
        }
        newList.add(values);
      }
      list=newList;
    }
  }
 else   if (list.get(0) instanceof Collection) {
    List<Object> newList=new ArrayList<Object>();
    for (    Collection<Object> collection : (List<Collection<Object>>)list) {
      if (collection.size() == 1) {
        newList.add(collection.iterator().next());
      }
 else {
        newList.add(collection.toArray());
      }
    }
    list=newList;
  }
  return list;
}
