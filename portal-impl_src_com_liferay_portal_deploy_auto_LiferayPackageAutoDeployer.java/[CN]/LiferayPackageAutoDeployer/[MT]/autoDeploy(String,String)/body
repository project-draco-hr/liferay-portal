{
  try {
    ZipFile zipFile=new ZipFile(new File(baseDir + StringPool.SLASH + fileName));
    Enumeration<? extends ZipEntry> enu=zipFile.entries();
    while (enu.hasMoreElements()) {
      ZipEntry zipEntry=enu.nextElement();
      String zipEntryFileName=zipEntry.getName();
      if (!zipEntryFileName.endsWith(".war") && !zipEntryFileName.endsWith(".xml") && !zipEntryFileName.endsWith(".zip")) {
        continue;
      }
      if (_log.isInfoEnabled()) {
        _log.info("Extracting " + zipEntryFileName + " from "+ fileName);
      }
      InputStream inputStream=null;
      try {
        inputStream=zipFile.getInputStream(zipEntry);
        FileUtil.write(baseDir + StringPool.SLASH + zipEntryFileName,inputStream);
      }
  finally {
        StreamUtil.cleanUp(inputStream);
      }
    }
  }
 catch (  Exception e) {
    throw new AutoDeployException(e);
  }
}
