{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  if (themeDisplay.isSignedIn()) {
    try {
      PollsVoteLocalServiceUtil.getVote(questionId,themeDisplay.getUserId());
    }
 catch (    NoSuchVoteException nsve) {
      return false;
    }
    return true;
  }
  String votedCookie=CookieKeys.getCookie(request,PollsQuestion.class.getName() + "." + questionId);
  return GetterUtil.getBoolean(votedCookie);
}
