{
  String password=getUpdateUserPassword(req,userId);
  User user=UserLocalServiceUtil.getUserById(userId);
  Contact contact=user.getContact();
  Calendar birthdayCal=new GregorianCalendar();
  birthdayCal.setTime(contact.getBirthday());
  int birthdayMonth=birthdayCal.get(Calendar.MONTH);
  int birthdayDay=birthdayCal.get(Calendar.DATE);
  int birthdayYear=birthdayCal.get(Calendar.YEAR);
  return UserServiceUtil.updateUser(userId,password,screenName,emailAddress,languageId,timeZoneId,greeting,resolution,comments,contact.getFirstName(),contact.getMiddleName(),contact.getLastName(),contact.getNickName(),contact.getPrefixId(),contact.getSuffixId(),contact.isMale(),birthdayMonth,birthdayDay,birthdayYear,smsSn,aimSn,icqSn,jabberSn,msnSn,skypeSn,ymSn,contact.getJobTitle(),user.getOrganization().getOrganizationId(),user.getLocation().getOrganizationId());
}
