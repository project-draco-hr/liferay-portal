{
  Object model=fileEntry.getModel();
  if (!(model instanceof DLFileEntry)) {
    throw new IllegalArgumentException("Unsupported file entry model " + model.getClass());
  }
  String fileName=((DLFileEntry)model).getName();
  List<FileVersion> fileVersions=getFileVersions(fileEntry);
  if (fileVersions.isEmpty()) {
    String versionNumber=Store.VERSION_DEFAULT;
    migrateFile(companyId,repositoryId,fileName,versionNumber);
    return;
  }
  for (  FileVersion fileVersion : fileVersions) {
    String versionNumber=fileVersion.getVersion();
    migrateFile(companyId,repositoryId,fileName,versionNumber);
  }
}
