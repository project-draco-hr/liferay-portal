{
  super(sz,autoFlush);
  if (sz < 0)   throw new IllegalArgumentException("Buffer size <= 0");
  this.response=response;
  allocateCharBuffer();
  if (!response.isCommitted()) {
    try {
      response.setBufferSize(sz);
    }
 catch (    IllegalStateException ise) {
    }
  }
}
