{
  GroupPermissionUtil.check(getPermissionChecker(),groupId,ActionKeys.UPDATE);
  Group group=groupPersistence.findByPrimaryKey(groupId);
  UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
  for (  String stagedPortletId : stagedPortletIds.keySet()) {
    typeSettingsProperties.setProperty(StagingUtil.getStagedPortletId(stagedPortletId),stagedPortletIds.get(stagedPortletId));
  }
  groupLocalService.updateGroup(group);
}
