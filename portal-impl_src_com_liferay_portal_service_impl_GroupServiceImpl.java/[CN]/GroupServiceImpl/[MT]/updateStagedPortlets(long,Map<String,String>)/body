{
  Group group=groupPersistence.findByPrimaryKey(groupId);
  GroupPermissionUtil.check(getPermissionChecker(),group,ActionKeys.UPDATE);
  UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
  for (  Map.Entry<String,String> entry : stagedPortletIds.entrySet()) {
    typeSettingsProperties.setProperty(StagingUtil.getStagedPortletId(entry.getKey()),entry.getValue());
  }
  groupLocalService.updateGroup(group);
}
