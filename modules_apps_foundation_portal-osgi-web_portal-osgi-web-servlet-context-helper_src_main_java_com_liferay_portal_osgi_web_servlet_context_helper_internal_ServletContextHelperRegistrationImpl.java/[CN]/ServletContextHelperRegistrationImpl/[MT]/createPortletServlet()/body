{
  if (_wabShapedBundle) {
    return null;
  }
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_SELECT,createContextSelectFilterString());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_NAME,PortletServletWrapper.class.getName());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_PATTERN,"/portlet-servlet/*");
  return _bundleContext.registerService(Servlet.class,new PortletServletWrapper(),properties);
}
