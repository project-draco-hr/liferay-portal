{
  try {
    String communicationWays="";
    JSONObject ruonCommunicationJSON=JSONFactoryUtil.createJSONObject();
    JSONObject communicationWaysRequestJSON=JSONFactoryUtil.createJSONObject();
    communicationWaysRequestJSON.put("userId",_userId);
    communicationWaysRequestJSON.put("loggedInUserId",_loggedInUserId);
    ruonCommunicationJSON.put("communicationWaysRequest",communicationWaysRequestJSON);
    Message message=new Message(MessageTypes.RUON_MESSAGE);
    message.setPayload(ruonCommunicationJSON.toString());
    String ruonCommunicationResponse=(String)MessageBusUtil.sendSynchronizedMessage(DestinationNames.RUON,message);
    if (ruonCommunicationResponse != null) {
      JSONObject ruonCommunicationResponseJSON=JSONFactoryUtil.createJSONObject(ruonCommunicationResponse);
      JSONObject communicationWaysResponseJSON=ruonCommunicationResponseJSON.getJSONObject("communicationWaysResponse");
      if (communicationWaysResponseJSON != null) {
        communicationWays=communicationWaysResponseJSON.getString("communicationWays");
      }
    }
    pageContext.getOut().print(communicationWays);
  }
 catch (  Exception e) {
    throw new JspException(e);
  }
  return SKIP_BODY;
}
