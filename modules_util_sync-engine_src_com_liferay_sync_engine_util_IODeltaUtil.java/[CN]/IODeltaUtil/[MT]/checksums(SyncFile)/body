{
  if (isIgnoredFilePatchingExtension(syncFile)) {
    return null;
  }
  Path syncFilePath=Paths.get(syncFile.getFilePathName());
  if (Files.isDirectory(syncFilePath) || Files.notExists(syncFilePath)) {
    return null;
  }
  FileInputStream fileInputStream=null;
  FileChannel fileChannel=null;
  OutputStream outputStream=null;
  WritableByteChannel writableByteChannel=null;
  try {
    fileInputStream=new FileInputStream(syncFile.getFilePathName());
    fileChannel=fileInputStream.getChannel();
    Path checksumsFilePath=getChecksumsFilePath(syncFile);
    if (Files.notExists(checksumsFilePath)) {
      Files.createFile(checksumsFilePath);
    }
    outputStream=Files.newOutputStream(checksumsFilePath);
    writableByteChannel=Channels.newChannel(outputStream);
    ByteChannelWriter byteChannelWriter=new ByteChannelWriter(writableByteChannel);
    DeltaUtil.checksums(fileChannel,byteChannelWriter);
    byteChannelWriter.finish();
    return checksumsFilePath;
  }
 catch (  IOException ioe) {
    _logger.error(ioe.getMessage(),ioe);
    return null;
  }
 finally {
    StreamUtil.cleanUp(fileInputStream);
    StreamUtil.cleanUp(outputStream);
    StreamUtil.cleanUp(fileChannel);
    StreamUtil.cleanUp(writableByteChannel);
  }
}
