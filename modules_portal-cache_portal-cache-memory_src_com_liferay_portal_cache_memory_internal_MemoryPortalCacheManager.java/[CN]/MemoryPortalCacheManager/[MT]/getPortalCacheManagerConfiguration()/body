{
  Set<Properties> cacheListenerConfigurations=null;
  Properties bootstrapLoaderConfiguration=null;
  if (isClusterAware() && GetterUtil.getBoolean(props.get(PropsKeys.CLUSTER_LINK_ENABLED))) {
    Properties properties=new Properties();
    properties.put(PortalCacheReplicator.REPLICATOR,true);
    properties.put(PortalCacheConfiguration.PORTAL_CACHE_LISTENER_SCOPE,PortalCacheListenerScope.ALL);
    cacheListenerConfigurations=Collections.singleton(properties);
    bootstrapLoaderConfiguration=new Properties();
  }
  return new PortalCacheManagerConfiguration(null,new PortalCacheConfiguration(PortalCacheConfiguration.DEFAULT_PORTAL_CACHE_NAME,cacheListenerConfigurations,bootstrapLoaderConfiguration),null);
}
