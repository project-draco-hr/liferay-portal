{
  Map<CallbackConfiguration,PortalCacheListenerScope> cacheListenerConfigurations=null;
  CallbackConfiguration bootstrapLoaderConfiguration=null;
  if (isClusterAware() && GetterUtil.getBoolean(props.get(PropsKeys.CLUSTER_LINK_ENABLED))) {
    CallbackConfiguration cacheListenerConfiguration=new CallbackConfiguration(ClusterLinkCallbackFactory.INSTANCE,new Properties());
    cacheListenerConfigurations=new HashMap<>();
    cacheListenerConfigurations.put(cacheListenerConfiguration,PortalCacheListenerScope.ALL);
    bootstrapLoaderConfiguration=new CallbackConfiguration(ClusterLinkCallbackFactory.INSTANCE,new Properties());
  }
  return new PortalCacheManagerConfiguration(null,new PortalCacheConfiguration(PortalCacheConfiguration.DEFAULT_PORTAL_CACHE_NAME,cacheListenerConfigurations,bootstrapLoaderConfiguration),null);
}
