{
  DDMStructure structure=recordSet.getDDMStructure();
  Map<String,Map<String,String>> fieldsMap=structure.getFieldsMap();
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  for (  Map<String,String> fields : fieldsMap.values()) {
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    boolean editable=GetterUtil.getBoolean(fields.get(DDMFieldConstants.EDITABLE),true);
    boolean required=GetterUtil.getBoolean(fields.get(DDMFieldConstants.REQUIRED),false);
    boolean sortable=GetterUtil.getBoolean(fields.get(DDMFieldConstants.SORTABLE),true);
    String dataType=fields.get(DDMFieldConstants.DATA_TYPE);
    String label=fields.get(DDMFieldConstants.LABEL);
    String name=fields.get(DDMFieldConstants.NAME);
    String type=fields.get(DDMFieldConstants.TYPE);
    jsonObject.put("editable",editable);
    jsonObject.put("required",required);
    jsonObject.put("sortable",sortable);
    jsonObject.put("dataType",dataType);
    jsonObject.put("key",name);
    jsonObject.put("label",label);
    jsonObject.put("type",type);
    jsonArray.put(jsonObject);
  }
  return jsonArray;
}
