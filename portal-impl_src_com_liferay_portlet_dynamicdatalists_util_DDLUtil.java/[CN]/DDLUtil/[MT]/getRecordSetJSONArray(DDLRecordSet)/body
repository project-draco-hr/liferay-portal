{
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  DDMStructure ddmStructure=recordSet.getDDMStructure();
  Map<String,Map<String,String>> fieldsMap=ddmStructure.getFieldsMap();
  for (  Map<String,String> fields : fieldsMap.values()) {
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    String dataType=fields.get(DDMFieldConstants.DATA_TYPE);
    jsonObject.put("dataType",dataType);
    boolean editable=GetterUtil.getBoolean(fields.get(DDMFieldConstants.EDITABLE));
    jsonObject.put("editable",editable);
    String label=fields.get(DDMFieldConstants.LABEL);
    jsonObject.put("label",label);
    String name=fields.get(DDMFieldConstants.NAME);
    jsonObject.put("name",name);
    boolean required=GetterUtil.getBoolean(fields.get(DDMFieldConstants.REQUIRED));
    jsonObject.put("required",required);
    boolean sortable=GetterUtil.getBoolean(fields.get(DDMFieldConstants.SORTABLE));
    jsonObject.put("sortable",sortable);
    String type=fields.get(DDMFieldConstants.TYPE);
    jsonObject.put("type",type);
    jsonArray.put(jsonObject);
  }
  return jsonArray;
}
