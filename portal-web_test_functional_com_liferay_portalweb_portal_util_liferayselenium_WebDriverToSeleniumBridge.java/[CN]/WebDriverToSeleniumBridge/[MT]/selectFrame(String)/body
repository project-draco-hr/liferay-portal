{
  WebDriver.TargetLocator targetLocator=switchTo();
  if (locator.equals("relative=parent")) {
    targetLocator.window(_defaultWindowHandle);
    if (!_frameWebElementStack.isEmpty()) {
      _frameWebElementStack.pop();
      if (!_frameWebElementStack.isEmpty()) {
        targetLocator.frame(_frameWebElementStack.peek());
      }
    }
  }
 else   if (locator.equals("relative=top")) {
    _frameWebElementStack=new Stack<WebElement>();
    targetLocator.window(_defaultWindowHandle);
  }
 else {
    _frameWebElementStack.push(getWebElement(locator));
    targetLocator.frame(_frameWebElementStack.peek());
  }
}
