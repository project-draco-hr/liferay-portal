{
  if (timeout != null) {
    setTimeoutImplicit(timeout);
  }
  try {
    if (locator.startsWith("//")) {
      return findElements(By.xpath(locator));
    }
 else     if (locator.startsWith("class=")) {
      locator=locator.substring(6);
      return findElements(By.className(locator));
    }
 else     if (locator.startsWith("css=")) {
      locator=locator.substring(4);
      return findElements(By.cssSelector(locator));
    }
 else     if (locator.startsWith("link=")) {
      locator=locator.substring(5);
      return findElements(By.linkText(locator));
    }
 else     if (locator.startsWith("name=")) {
      locator=locator.substring(5);
      return findElements(By.name(locator));
    }
 else     if (locator.startsWith("tag=")) {
      locator=locator.substring(4);
      return findElements(By.tagName(locator));
    }
 else     if (locator.startsWith("xpath=") || locator.startsWith("xPath=")) {
      locator=locator.substring(6);
      return findElements(By.xpath(locator));
    }
 else {
      return findElements(By.id(locator));
    }
  }
  finally {
    if (timeout != null) {
      setDefaultTimeoutImplicit();
    }
  }
}
