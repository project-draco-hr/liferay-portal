{
  KaleoDefinition kaleoDefinition=getKaleoDefinition(name,version,serviceContext);
  if (kaleoDefinition.isActive()) {
    throw new WorkflowException("Cannot delete active workflow definition " + kaleoDefinition.getKaleoDefinitionId());
  }
  if (kaleoDefinition.hasIncompleteKaleoInstances()) {
    throw new WorkflowException("Cannot delete incomplete workflow definition " + kaleoDefinition.getKaleoDefinitionId());
  }
  kaleoDefinitionPersistence.remove(kaleoDefinition);
  kaleoConditionLocalService.deleteKaleoDefinitionKaleoCondition(kaleoDefinition.getKaleoDefinitionId());
  kaleoInstanceLocalService.deleteKaleoDefinitionKaleoInstances(kaleoDefinition.getKaleoDefinitionId());
  kaleoNodeLocalService.deleteKaleoDefinitionKaleoNodes(kaleoDefinition.getKaleoDefinitionId());
  kaleoTaskLocalService.deleteKaleoDefinitionKaleoTasks(kaleoDefinition.getKaleoDefinitionId());
  kaleoTransitionLocalService.deleteKaleoDefinitionKaleoTransitions(kaleoDefinition.getKaleoDefinitionId());
}
