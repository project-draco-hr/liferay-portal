{
  String status=null;
  int stage=1;
  Group group=GroupLocalServiceUtil.getGroup(getGroupId());
  int stages=group.getWorkflowStages();
  for (stage=1; stage <= stages; stage++) {
    status=getStatus(stage);
    if (status.equals(_STATUS_APPROVED)) {
    }
 else     if (status.equals(_STATUS_PENDING) || status.equals(_STATUS_REJECTED)) {
      break;
    }
 else     if ((status.equals(_STATUS_UNASSIGNED)) && (stage > 1)) {
    }
 else     if (stage == 1) {
      break;
    }
  }
  return LanguageUtil.format(getCompanyId(),locale,status,String.valueOf(stage));
}
