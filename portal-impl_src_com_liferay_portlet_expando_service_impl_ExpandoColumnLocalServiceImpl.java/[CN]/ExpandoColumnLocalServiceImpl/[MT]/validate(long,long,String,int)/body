{
  if (Validator.isNull(name)) {
    throw new ColumnNameException();
  }
  ExpandoColumn column=expandoColumnPersistence.fetchByT_N(tableId,name);
  if ((column != null) && (column.getColumnId() != columnId)) {
    throw new DuplicateColumnNameException();
  }
  if ((type != ExpandoColumnConstants.BOOLEAN) && (type != ExpandoColumnConstants.BOOLEAN_ARRAY) && (type != ExpandoColumnConstants.DATE)&& (type != ExpandoColumnConstants.DATE_ARRAY)&& (type != ExpandoColumnConstants.DOUBLE)&& (type != ExpandoColumnConstants.DOUBLE_ARRAY)&& (type != ExpandoColumnConstants.FLOAT)&& (type != ExpandoColumnConstants.FLOAT_ARRAY)&& (type != ExpandoColumnConstants.INTEGER)&& (type != ExpandoColumnConstants.INTEGER_ARRAY)&& (type != ExpandoColumnConstants.LONG)&& (type != ExpandoColumnConstants.LONG_ARRAY)&& (type != ExpandoColumnConstants.SHORT)&& (type != ExpandoColumnConstants.SHORT_ARRAY)&& (type != ExpandoColumnConstants.STRING)&& (type != ExpandoColumnConstants.STRING_ARRAY)) {
    throw new ColumnTypeException();
  }
}
