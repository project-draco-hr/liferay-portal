{
  Map preferences=CollectionFactory.getSyncHashMap();
  Enumeration keys=request.getPreferences().getNames();
  while (keys.hasMoreElements()) {
    String key=(String)keys.nextElement();
    String value=request.getPreferences().getValue(key,null);
    preferences.put(key,value);
  }
  return preferences;
}
