{
  Path destPath=Files.createTempDirectory(destDirPath,null);
  try (InputStream inputStream=Files.newInputStream(sourcePath)){
    long startTime=System.currentTimeMillis();
    long rawSize=unzip(new ZipInputStream(inputStream),destPath);
    if (_log.isDebugEnabled()) {
      long zippedSize=Files.size(sourcePath);
      long time=(System.currentTimeMillis() - startTime) / 1000;
      double compressionRatio=rawSize / zippedSize;
      StringBundler sb=new StringBundler(13);
      sb.append("Unzipped ");
      sb.append(sourcePath);
      sb.append(" (");
      sb.append(zippedSize);
      sb.append(" bytes) to ");
      sb.append(destPath);
      sb.append(" (");
      sb.append(rawSize);
      sb.append(" bytes)\" in ");
      sb.append(time);
      sb.append("s with a ");
      sb.append(compressionRatio);
      sb.append("compression ratio");
      _log.debug(sb.toString());
    }
  }
 catch (  IOException ioe) {
    delete(destPath);
    throw ioe;
  }
  return destPath;
}
