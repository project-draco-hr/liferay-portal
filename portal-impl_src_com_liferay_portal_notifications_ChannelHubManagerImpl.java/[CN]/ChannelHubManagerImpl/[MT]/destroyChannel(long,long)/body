{
  ChannelHub channelHub=fetchChannelHub(companyId);
  if (channelHub != null) {
    channelHub.destroyChannel(userId);
  }
  if (!ClusterInvokeThreadLocal.isEnabled()) {
    return;
  }
  MethodHandler methodHandler=new MethodHandler(_destroyChannelMethodKey,companyId,userId);
  ClusterRequest clusterRequest=ClusterRequest.createMulticastRequest(methodHandler,true);
  try {
    ClusterExecutorUtil.execute(clusterRequest);
  }
 catch (  Exception e) {
    throw new ChannelException("Unable to destroy channel across cluster",e);
  }
}
