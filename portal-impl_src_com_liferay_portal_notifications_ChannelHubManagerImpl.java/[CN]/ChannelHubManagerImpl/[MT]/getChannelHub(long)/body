{
  Lock readLock=_readWriteLock.readLock();
  try {
    readLock.lock();
    ChannelHub channelHub=_channelHubs.get(companyId);
    if (channelHub == null) {
      throw new UnknownChannelHubException("No channel exists with company id " + companyId);
    }
    return channelHub;
  }
  finally {
    readLock.unlock();
  }
}
