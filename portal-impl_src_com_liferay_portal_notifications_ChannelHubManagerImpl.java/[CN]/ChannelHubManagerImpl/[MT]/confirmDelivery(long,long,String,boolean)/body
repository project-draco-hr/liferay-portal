{
  ChannelHub channelHub=getChannelHub(companyId);
  channelHub.confirmDelivery(userId,notificationEventUuid,archive);
  if (!ClusterInvokeThreadLocal.isEnabled()) {
    return;
  }
  MethodHandler methodHandler=new MethodHandler(_confirmDeliveryMethodKey,companyId,userId,notificationEventUuid,archive);
  ClusterRequest clusterRequest=ClusterRequest.createMulticastRequest(methodHandler,true);
  try {
    ClusterExecutorUtil.execute(clusterRequest);
  }
 catch (  Exception e) {
    throw new ChannelException("Unable to confirm delivery of event across cluster",e);
  }
}
