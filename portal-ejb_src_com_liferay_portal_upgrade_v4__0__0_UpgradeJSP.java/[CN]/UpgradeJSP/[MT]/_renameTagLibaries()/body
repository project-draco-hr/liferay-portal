{
  String basedir="../portal-web/";
  DirectoryScanner ds=new DirectoryScanner();
  ds.setIncludes(new String[]{"**\\*.jsp"});
  ds.setBasedir(basedir);
  ds.scan();
  String[] files=ds.getIncludedFiles();
  for (int i=0; i < files.length; i++) {
    File file=new File(basedir + files[i]);
    String content=FileUtil.read(file);
    if (content.indexOf("<liferay:") != -1) {
      content=StringUtil.replace(content,new String[]{"liferay:actionURL","liferay:renderURL","liferay:runtime-portlet","liferay:encrypt","liferay:permissionsURL","liferay:box","liferay:breadcrumb","liferay:calendar","liferay:error","liferay:icon","liferay:input","liferay:journal-content-search","liferay:page-iterator","liferay:search","liferay:success","liferay:table-iterator","liferay:toggle","liferay:upload-progress","liferay:include","liferay:param"},new String[]{"liferay-portlet:actionURL","liferay-portlet:renderURL","liferay-portlet:runtime","liferay-security:encrypt","liferay-security:permissionsURL","liferay-ui:box","liferay-ui:breadcrumb","liferay-ui:calendar","liferay-ui:error","liferay-ui:icon","liferay-ui:input","liferay-ui:journal-content-search","liferay-ui:page-iterator","liferay-ui:search","liferay-ui:success","liferay-ui:table-iterator","liferay-ui:toggle","liferay-ui:upload-progress","liferay-util:include","liferay-util:param"});
      FileUtil.write(file,content,true);
    }
    if (content.indexOf("liferay:search") != -1) {
      content=StringUtil.replace(content,"liferay:search","liferay-ui:search");
      FileUtil.write(file,content,true);
    }
    if (content.indexOf("<theme:") != -1) {
      content=StringUtil.replace(content,new String[]{"<theme:","</theme:"},new String[]{"<liferay-theme:","</liferay-theme:"});
      FileUtil.write(file,content,true);
    }
  }
}
