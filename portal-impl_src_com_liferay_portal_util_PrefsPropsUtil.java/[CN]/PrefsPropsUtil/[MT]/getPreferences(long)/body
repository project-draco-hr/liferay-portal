{
  long ownerId=companyId;
  int ownerType=PortletKeys.PREFS_OWNER_TYPE_COMPANY;
  Map<Serializable,BasePreferencesImpl> preferencesPool=PortletPreferencesLocalUtil.getPreferencesPool(ownerId,ownerType);
  PortalPreferencesImpl portalPreferencesImpl=(PortalPreferencesImpl)preferencesPool.get(companyId);
  if (portalPreferencesImpl == null) {
    return PortalPreferencesLocalServiceUtil.getPreferences(companyId,ownerId,ownerType);
  }
 else {
    return new PortalPreferencesWrapper((PortalPreferencesImpl)portalPreferencesImpl.clone());
  }
}
