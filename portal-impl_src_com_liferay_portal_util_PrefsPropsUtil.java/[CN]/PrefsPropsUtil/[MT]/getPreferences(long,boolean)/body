{
  long ownerId=companyId;
  int ownerType=PortletKeys.PREFS_OWNER_TYPE_COMPANY;
  PortalPreferencesWrapper portalPreferencesWrapper=PortalPreferencesWrapperCacheUtil.get(ownerId,ownerType);
  if (portalPreferencesWrapper != null) {
    if (!readOnly) {
      portalPreferencesWrapper=portalPreferencesWrapper.clone();
    }
    return portalPreferencesWrapper;
  }
  return _portalPreferencesLocalService.getPreferences(ownerId,ownerType);
}
