{
  _dynamicDataSourceAdvice=new MockDynamicDataSourceAdvice();
  _dynamicDataSourceTargetSource=new DynamicDataSourceTargetSource();
  _dynamicDataSourceAdvice.setDynamicDataSourceTargetSource(_dynamicDataSourceTargetSource);
  ServiceBeanAopCacheManager serviceBeanAopCacheManager=new ServiceBeanAopCacheManager();
  Whitebox.setInternalState(_dynamicDataSourceAdvice,"serviceBeanAopCacheManager",serviceBeanAopCacheManager);
  TransactionAttributeSource transactionAttributeSource=new AnnotationTransactionAttributeSource();
  _dynamicDataSourceAdvice.setTransactionAttributeSource(transactionAttributeSource);
}
