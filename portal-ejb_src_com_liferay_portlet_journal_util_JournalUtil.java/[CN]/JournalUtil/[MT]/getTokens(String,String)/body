{
  Map tokens=CollectionFactory.getHashMap();
  try {
    Company company=CompanyLocalServiceUtil.getCompany(companyId);
    String friendlyURLPrivatePath=rootPath + PropsUtil.get(PropsUtil.LAYOUT_FRIENDLY_URL_PRIVATE_SERVLET_MAPPING);
    String friendlyURLPublicPath=rootPath + PropsUtil.get(PropsUtil.LAYOUT_FRIENDLY_URL_PUBLIC_SERVLET_MAPPING);
    String portalCtx=PrefsPropsUtil.getString(companyId,PropsUtil.PORTAL_CTX);
    if (portalCtx.equals(StringPool.SLASH)) {
      portalCtx=StringPool.BLANK;
    }
    tokens.put("company_id",companyId);
    tokens.put("cms_url",rootPath + "/cms/servlet");
    tokens.put("friendly_url_private",friendlyURLPrivatePath);
    tokens.put("friendly_url_public",friendlyURLPublicPath);
    tokens.put("portal_ctx",portalCtx);
    tokens.put("portal_url",company.getPortalURL());
    tokens.put("root_path",rootPath);
    tokens.put("friendly_url",friendlyURLPublicPath);
    tokens.put("page_url",friendlyURLPublicPath);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  return tokens;
}
