{
  LayoutSet layoutSet=addLayoutSetPrototype(companyId,defaultUserId,"Community Site","Site with Forums, Calendar and Wiki",layoutSetPrototypes);
  if (layoutSet == null) {
    return;
  }
  Layout layout=addLayout(layoutSet,"Home","/home","2_columns_iii");
  addPortletId(layout,PortletKeys.MESSAGE_BOARDS,"column-1");
  String portletId=addPortletId(layout,PortletKeys.SEARCH,"column-2");
  Map<String,String> preferences=new HashMap<String,String>();
  preferences.put("portletSetupShowBorders",Boolean.FALSE.toString());
  updatePortletSetup(layout,portletId,preferences);
  addPortletId(layout,PortletKeys.POLLS_DISPLAY,"column-2");
  addPortletId(layout,PortletKeys.TOP_USERS,"column-2");
  layout=addLayout(layoutSet,"Calendar","/calendar","2_columns_iii");
  addPortletId(layout,PortletKeys.CALENDAR,"column-1");
  portletId=addPortletId(layout,PortletKeys.ASSET_PUBLISHER,"column-2");
  preferences=new HashMap<String,String>();
  preferences.put("anyAssetType",Boolean.FALSE.toString());
  long classNameId=PortalUtil.getClassNameId(CalEvent.class);
  preferences.put("classNameIds",String.valueOf(classNameId));
  preferences.put("portletSetupTitle_" + LocaleUtil.getDefault(),"Upcoming Events");
  preferences.put("portletSetupUseCustomTitle",Boolean.TRUE.toString());
  updatePortletSetup(layout,portletId,preferences);
  layout=addLayout(layoutSet,"Wiki","/wiki","2_columns_iii");
  addPortletId(layout,PortletKeys.WIKI,"column-1");
  addPortletId(layout,PortletKeys.TAGS_CATEGORIES_NAVIGATION,"column-2");
  addPortletId(layout,PortletKeys.TAGS_CLOUD,"column-2");
}
