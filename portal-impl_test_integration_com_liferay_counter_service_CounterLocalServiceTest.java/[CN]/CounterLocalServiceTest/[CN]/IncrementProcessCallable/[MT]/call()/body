{
  System.setProperty("catalina.base",".");
  System.setProperty("external-properties","portal-test.properties");
  PropsUtil.set(PropsValues.COUNTER_INCREMENT + _COUNTER_NAME,"1");
  InitUtil.initWithSpringAndModuleFramework();
  List<Long> ids=new ArrayList<Long>();
  try {
    for (int i=0; i < _incrementCount; i++) {
      ids.add(CounterLocalServiceUtil.increment(_counterName));
    }
  }
 catch (  SystemException se) {
    throw new ProcessException(se);
  }
 finally {
    try {
      SchedulerEngineHelperUtil.shutdown();
      InitUtil.stopModuleFramework();
    }
 catch (    Exception e) {
      throw new ProcessException(e);
    }
  }
  return ids.toArray(new Long[ids.size()]);
}
