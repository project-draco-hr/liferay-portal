{
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject(userNotificationEvent.getPayload());
  AssetRenderer assetRenderer=getAssetRenderer(jsonObject);
  if (assetRenderer == null) {
    UserNotificationEventLocalServiceUtil.deleteUserNotificationEvent(userNotificationEvent.getUserNotificationEventId());
    return null;
  }
  String body=getBodyTemplate();
  body=StringUtil.replace(body,new String[]{"[$BODY$]","[$TITLE$]"},new String[]{HtmlUtil.escape(StringUtil.shorten(jsonObject.getString("entryTitle")),50),getTitle(jsonObject,assetRenderer,serviceContext)});
  return body;
}
