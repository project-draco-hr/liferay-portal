{
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject(userNotificationEvent.getPayload());
  String entryTitle=jsonObject.getString("entryTitle");
  String className=jsonObject.getString("className");
  long classPK=jsonObject.getLong("classPK");
  AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(className);
  if (assetRendererFactory == null) {
    return null;
  }
  AssetRenderer assetRenderer=null;
  try {
    assetRenderer=assetRendererFactory.getAssetRenderer(classPK);
  }
 catch (  Exception e) {
  }
  if (assetRenderer == null) {
    UserNotificationEventLocalServiceUtil.deleteUserNotificationEvent(userNotificationEvent.getUserNotificationEventId());
    return null;
  }
  int notificationType=jsonObject.getInt("notificationType");
  String title=getTitle(notificationType,assetRenderer,serviceContext);
  StringBundler sb=new StringBundler(5);
  sb.append("<div class=\"title\">");
  sb.append(title);
  sb.append("</div><div class=\"body\">");
  sb.append(HtmlUtil.escape(StringUtil.shorten(entryTitle),50));
  sb.append("</div>");
  return sb.toString();
}
