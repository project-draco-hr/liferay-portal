{
  Map<Long,ObjectValuePair<Configuration,LDAPServerConfiguration>> objectValuePairs=_configurations.get(companyId);
  if (MapUtil.isEmpty(objectValuePairs) && useDefault) {
    objectValuePairs=_configurations.get(CompanyConstants.SYSTEM);
  }
  List<LDAPServerConfiguration> ldapServerConfigurations=new ArrayList<>();
  if (MapUtil.isEmpty(objectValuePairs) && useDefault) {
    ldapServerConfigurations.add(_defaultLDAPServerConfiguration);
  }
 else   if (!MapUtil.isEmpty(objectValuePairs)) {
    for (    ObjectValuePair<Configuration,LDAPServerConfiguration> objectValuePair : objectValuePairs.values()) {
      ldapServerConfigurations.add(objectValuePair.getValue());
    }
  }
  return ldapServerConfigurations;
}
