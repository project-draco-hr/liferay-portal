{
  if (_imageFileEntryId != _oldImageFileEntryId) {
    if (_imageFileEntryId != 0) {
      FileEntry fileEntry=PortletFileRepositoryUtil.getPortletFileEntry(_imageFileEntryId);
      _fileEntryTempFile=fileEntry.isRepositoryCapabilityProvided(TemporaryFileEntriesCapability.class);
      return new ImageSelector(FileUtil.getBytes(fileEntry.getContentStream()),fileEntry.getFileName(),fileEntry.getMimeType(),_imageCropRegion);
    }
 else {
      return new ImageSelector();
    }
  }
 else   if (!_imageURL.equals(_oldImageURL)) {
    return new ImageSelector(_imageURL);
  }
  return null;
}
