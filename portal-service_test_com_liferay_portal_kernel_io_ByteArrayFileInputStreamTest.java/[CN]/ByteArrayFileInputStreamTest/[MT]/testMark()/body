{
  ByteArrayFileInputStream bafi=new ByteArrayFileInputStream(_testFile,2048);
  assertTrue(bafi.markSupported());
  for (int i=0; i < 512; i++) {
    assertEquals(i & 0xff,bafi.read());
  }
  bafi.mark(0);
  for (int i=512; i < 1024; i++) {
    assertEquals(i & 0xff,bafi.read());
  }
  assertEquals(-1,bafi.read());
  bafi.reset();
  for (int i=512; i < 1024; i++) {
    assertEquals(i & 0xff,bafi.read());
  }
  bafi.close();
  bafi=new ByteArrayFileInputStream(_testFile,512);
  assertFalse(bafi.markSupported());
  for (int i=0; i < 1024; i++) {
    assertEquals(i & 0xff,bafi.read());
  }
  assertEquals(-1,bafi.read());
  bafi.reset();
  for (int i=0; i < 1024; i++) {
    assertEquals(i & 0xff,bafi.read());
  }
  bafi.close();
}
