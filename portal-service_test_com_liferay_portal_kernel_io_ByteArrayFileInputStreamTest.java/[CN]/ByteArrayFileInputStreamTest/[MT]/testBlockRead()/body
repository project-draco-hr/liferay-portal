{
  ByteArrayFileInputStream bafi=new ByteArrayFileInputStream(_testFile,2048);
  byte[] buffer=new byte[17];
  int index=0;
  int length=0;
  while ((length=bafi.read(buffer)) != -1) {
    for (int i=0; i < length; i++) {
      assertEquals(index++ & 0xff,buffer[i] & 0xff);
    }
  }
  bafi.close();
  bafi=new ByteArrayFileInputStream(_testFile,2048);
  assertEquals(0,bafi.read(null,-1,0));
  buffer=new byte[48];
  index=0;
  length=0;
  while ((length=bafi.read(buffer,16,16)) != -1) {
    for (int i=0; i < length; i++) {
      assertEquals(index++ & 0xff,buffer[i + 16] & 0xff);
    }
  }
  bafi.close();
  bafi=new ByteArrayFileInputStream(_testFile,512);
  buffer=new byte[17];
  index=0;
  length=0;
  while ((length=bafi.read(buffer)) != -1) {
    for (int i=0; i < length; i++) {
      assertEquals(index++ & 0xff,buffer[i] & 0xff);
    }
  }
  bafi.close();
  bafi=new ByteArrayFileInputStream(_testFile,512);
  assertEquals(0,bafi.read(null,-1,0));
  buffer=new byte[48];
  index=0;
  length=0;
  while ((length=bafi.read(buffer,16,16)) != -1) {
    for (int i=0; i < length; i++) {
      assertEquals(index++ & 0xff,buffer[i + 16] & 0xff);
    }
  }
  bafi.close();
}
