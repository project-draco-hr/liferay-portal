{
  Whois whois=null;
  try (Socket socket=new Socket(WHOIS_SERVER,WHOIS_SERVER_PORT);UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new InputStreamReader(socket.getInputStream()))){
    PrintStream out=new PrintStream(socket.getOutputStream());
    out.println(_domain);
    StringBundler sb=new StringBundler();
    String line=null;
    while ((line=unsyncBufferedReader.readLine()) != null) {
      if (line.startsWith("Results ")) {
        break;
      }
      sb.append(line).append("\n");
    }
    whois=new Whois(_domain,StringUtil.replace(sb.toString().trim(),"\n\n","\n"));
  }
 catch (  Exception e) {
    throw new WebCacheException(_domain + " " + e.toString());
  }
  return whois;
}
