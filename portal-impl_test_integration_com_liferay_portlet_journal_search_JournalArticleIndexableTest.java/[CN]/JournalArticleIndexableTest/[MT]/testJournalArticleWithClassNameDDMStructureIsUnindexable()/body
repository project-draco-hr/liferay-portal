{
  AssetEntryQuery assetEntryQuery=AssetEntryQueryTestUtil.createAssetEntryQuery(_group.getGroupId(),JournalArticle.class.getName(),null,null,new long[0],null);
  SearchContext searchContext=SearchContextTestUtil.getSearchContext(_group.getGroupId());
  searchContext.setGroupIds(assetEntryQuery.getGroupIds());
  Hits hits=AssetUtil.search(searchContext,assetEntryQuery,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  int total=hits.getLength();
  JournalTestUtil.addArticle(_group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID,PortalUtil.getClassNameId(DDMStructure.class),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),LocaleUtil.getSiteDefault(),false,true,ServiceContextTestUtil.getServiceContext(_group.getGroupId()));
  hits=AssetUtil.search(searchContext,assetEntryQuery,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  Assert.assertEquals("Unindexable articles should not be indexed",total,hits.getLength());
}
