{
  ModelPermissions modelPermissions=new ModelPermissions();
  if ((groupId > 0) && (groupPermissions != null) && (groupPermissions.length > 0)) {
    Role defaultGroupRole=RoleLocalServiceUtil.getDefaultGroupRole(groupId);
    modelPermissions.addRolePermissions(defaultGroupRole,groupPermissions);
  }
  if ((guestPermissions != null) && (guestPermissions.length > 0)) {
    Role guestRole=RoleLocalServiceUtil.getRole(companyId,RoleConstants.GUEST);
    if (guestPermissions == null) {
      guestPermissions=new String[0];
    }
    modelPermissions.addRolePermissions(guestRole,guestPermissions);
  }
  return modelPermissions;
}
