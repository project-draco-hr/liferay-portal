{
  Properties iso8859_1Properties=new Properties();
  iso8859_1Properties.load(is);
  Properties properties=new Properties();
  CharsetEncoder charsetEncoder=CharsetEncoderUtil.getCharsetEncoder(StringPool.ISO_8859_1);
  CharsetDecoder charsetDecoder=CharsetDecoderUtil.getCharsetDecoder(charsetName);
  for (  Map.Entry<Object,Object> entry : iso8859_1Properties.entrySet()) {
    String key=(String)entry.getKey();
    String value=(String)entry.getValue();
    key=charsetDecoder.decode(charsetEncoder.encode(CharBuffer.wrap(key))).toString();
    value=charsetDecoder.decode(charsetEncoder.encode(CharBuffer.wrap(value))).toString();
    properties.put(key,value);
  }
  return properties;
}
