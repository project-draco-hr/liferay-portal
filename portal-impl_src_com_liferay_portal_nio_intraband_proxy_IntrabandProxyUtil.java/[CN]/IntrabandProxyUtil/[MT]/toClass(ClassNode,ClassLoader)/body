{
  ClassWriter classWriter=new ClassWriter(ClassWriter.COMPUTE_FRAMES);
  classNode.accept(classWriter);
  byte[] data=classWriter.toByteArray();
  try {
    if (PropsValues.INTRABAND_PROXY_DUMP_CLASSES_ENABLED) {
      File classFile=new File(_DUMP_DIR,classNode.name.concat(".class"));
      FileUtil.write(classFile,data);
      if (_log.isInfoEnabled()) {
        _log.info("Dumpped class " + classFile.getAbsolutePath());
      }
    }
    return (Class<?>)_defineClassMethod.invoke(classLoader,StringUtil.replace(classNode.name,CharPool.SLASH,CharPool.PERIOD),data,0,data.length);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
