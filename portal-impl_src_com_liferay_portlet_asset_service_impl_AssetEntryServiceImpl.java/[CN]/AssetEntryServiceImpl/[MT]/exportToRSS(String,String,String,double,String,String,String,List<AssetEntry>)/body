{
  SyndFeed syndFeed=new SyndFeedImpl();
  syndFeed.setFeedType(RSSUtil.getFeedType(type,version));
  syndFeed.setTitle(name);
  syndFeed.setLink(feedURL);
  syndFeed.setDescription(GetterUtil.getString(description,name));
  List<SyndEntry> entries=new ArrayList<SyndEntry>();
  syndFeed.setEntries(entries);
  for (  AssetEntry entry : assetEntries) {
    AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(entry.getClassName());
    String author=HtmlUtil.escape(PortalUtil.getUserName(entry.getUserId(),entry.getUserName()));
    StringBundler sb=new StringBundler(4);
    sb.append(tagURL);
    sb.append(assetRendererFactory.getType());
    sb.append("/id/");
    sb.append(entry.getEntryId());
    String link=sb.toString();
    String value=entry.getSummary();
    SyndEntry syndEntry=new SyndEntryImpl();
    syndEntry.setAuthor(author);
    syndEntry.setTitle(entry.getTitle());
    syndEntry.setLink(link);
    syndEntry.setUri(syndEntry.getLink());
    syndEntry.setPublishedDate(entry.getCreateDate());
    syndEntry.setUpdatedDate(entry.getModifiedDate());
    SyndContent syndContent=new SyndContentImpl();
    syndContent.setType(RSSUtil.DEFAULT_ENTRY_TYPE);
    syndContent.setValue(value);
    syndEntry.setDescription(syndContent);
    entries.add(syndEntry);
  }
  try {
    return RSSUtil.export(syndFeed);
  }
 catch (  FeedException fe) {
    throw new SystemException(fe);
  }
}
