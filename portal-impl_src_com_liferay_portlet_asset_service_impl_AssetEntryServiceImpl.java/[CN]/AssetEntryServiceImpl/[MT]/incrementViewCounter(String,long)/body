{
  if (!PropsValues.ASSET_ENTRY_INCREMENT_VIEW_COUNTER_ENABLED) {
    return null;
  }
  User user=getGuestOrUser();
  assetEntryLocalService.incrementViewCounter(user.getUserId(),className,classPK,1);
  AssetEntry assetEntry=assetEntryLocalService.getEntry(className,classPK);
  if (!user.isDefaultUser()) {
    socialActivityLocalService.addActivity(user.getUserId(),assetEntry.getGroupId(),className,classPK,SocialActivityConstants.TYPE_VIEW,StringPool.BLANK,0);
  }
  return assetEntry;
}
