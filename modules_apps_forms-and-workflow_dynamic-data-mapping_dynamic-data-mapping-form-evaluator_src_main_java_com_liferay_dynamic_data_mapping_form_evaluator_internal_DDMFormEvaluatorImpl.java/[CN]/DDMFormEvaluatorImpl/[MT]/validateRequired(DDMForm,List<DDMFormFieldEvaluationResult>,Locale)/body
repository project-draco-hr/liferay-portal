{
  Map<String,DDMFormField> map=ddmForm.getDDMFormFieldsMap(true);
  for (  DDMFormFieldEvaluationResult ddmFormFieldEvaluationResult : ddmFormFieldEvaluationResults) {
    DDMFormField ddmFormField=map.get(ddmFormFieldEvaluationResult.getName());
    if (ddmFormField.isRequired() && ddmFormFieldEvaluationResult.isVisible() && isDDMFormFieldValueEmpty(ddmFormField,ddmFormFieldEvaluationResult)) {
      ddmFormFieldEvaluationResult.setErrorMessage(LanguageUtil.get(locale,"this-field-is-required"));
      ddmFormFieldEvaluationResult.setValid(false);
    }
 else     if (!ddmFormField.isRequired() && isDDMFormFieldValueEmpty(ddmFormField,ddmFormFieldEvaluationResult)) {
      ddmFormFieldEvaluationResult.setErrorMessage("");
      ddmFormFieldEvaluationResult.setValid(true);
    }
  }
}
