{
  StringBundler sb=new StringBundler();
  try {
    sb.setIndex(-1);
    fail();
  }
 catch (  ArrayIndexOutOfBoundsException aioobe) {
  }
  sb=new StringBundler(4);
  sb.append("test1");
  sb.append("test2");
  assertEquals(2,sb.index());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  sb.setIndex(2);
  assertEquals(2,sb.index());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  assertEquals(4,sb.capacity());
  sb.setIndex(4);
  assertEquals(4,sb.capacity());
  assertEquals(4,sb.index());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  assertEquals(StringPool.BLANK,sb.stringAt(2));
  assertEquals(StringPool.BLANK,sb.stringAt(3));
  sb.setIndex(6);
  assertEquals(6,sb.capacity());
  assertEquals(6,sb.index());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  assertEquals(StringPool.BLANK,sb.stringAt(2));
  assertEquals(StringPool.BLANK,sb.stringAt(3));
  assertEquals(StringPool.BLANK,sb.stringAt(4));
  assertEquals(StringPool.BLANK,sb.stringAt(5));
  sb.setIndex(1);
  assertEquals(6,sb.capacity());
  assertEquals(1,sb.index());
  assertEquals("test1",sb.stringAt(0));
  try {
    assertEquals(null,sb.stringAt(1));
    fail();
  }
 catch (  ArrayIndexOutOfBoundsException aioobe) {
  }
}
