{
  String orderId=ParamUtil.getString(req,"order_id");
  String ppTxnId=ParamUtil.getString(req,"order_pp_txn_id");
  String ppPaymentStatus=ShoppingUtil.getPpPaymentStatus(ParamUtil.getString(req,"order_pp_payment_status"));
  double ppPaymentGross=ParamUtil.getDouble(req,"order_pp_payment_gross");
  String ppReceiverEmail=ParamUtil.getString(req,"order_pp_receiver_email");
  String ppPayerEmail=ParamUtil.getString(req,"order_pp_payer_email");
  ShoppingOrderServiceUtil.completeOrder(orderId,ppTxnId,ppPaymentStatus,ppPaymentGross,ppReceiverEmail,ppPayerEmail);
  SessionMessages.add(req,"order_updated");
  res.sendRedirect(ParamUtil.getString(req,"redirect"));
}
