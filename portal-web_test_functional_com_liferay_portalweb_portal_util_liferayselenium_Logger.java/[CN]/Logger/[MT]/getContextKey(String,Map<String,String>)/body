{
  if (!baseKey.contains("{")) {
    baseKey=StringEscapeUtils.escapeEcmaScript(baseKey);
    return baseKey;
  }
  int closeBrace=0;
  int countBraces=0;
  int openBrace=0;
  String contextKey="";
  for (int i=0; i < baseKey.length(); i++) {
    if (baseKey.charAt(i) == '{') {
      openBrace=i;
    }
 else     if (baseKey.charAt(i) == '}') {
      closeBrace=i;
      contextKey+=context.get(baseKey.substring(openBrace + 1,closeBrace));
    }
 else {
      continue;
    }
  }
  if (baseKey.charAt(1) == '$') {
    return contextKey;
  }
 else {
    String stringToBeReplaced=baseKey.substring(openBrace - 1,closeBrace + 1);
    baseKey=baseKey.replace(stringToBeReplaced,contextKey);
    return StringEscapeUtils.escapeEcmaScript(baseKey);
  }
}
