{
  StringBundler sb=new StringBundler();
  sb.append("/");
  for (  String xpathId : _xpathIdStack) {
    sb.append("/ul/li[@id='");
    sb.append(xpathId);
    sb.append("']");
  }
  sb.append("/div");
  List<WebElement> webElements=_webDriver.findElements(By.xpath(sb.toString()));
  sb=new StringBundler();
  sb.append("var element = arguments[0];");
  sb.append("element.className = \"fail\";");
  JavascriptExecutor javascriptExecutor=(JavascriptExecutor)_webDriver;
  for (  WebElement webElement : webElements) {
    javascriptExecutor.executeScript(sb.toString(),webElement);
  }
  sb=new StringBundler();
  sb.append("<font color=\"red\">");
  sb.append("Command failure <b>");
  sb.append(method.getName());
  sb.append("</b>");
  if (arguments != null) {
    if (arguments.length == 1) {
      sb.append(" with parameter ");
    }
 else     if (arguments.length > 1) {
      sb.append(" with parameters ");
    }
    for (    Object argument : arguments) {
      sb.append("<b>");
      sb.append(String.valueOf(argument));
      sb.append("</b> ");
    }
  }
  log(sb.toString());
  sb=new StringBundler();
  sb.append("Command failure ");
  sb.append(method.getName());
  if (arguments != null) {
    if (arguments.length == 1) {
      sb.append(" with parameter ");
    }
 else     if (arguments.length > 1) {
      sb.append(" with parameters ");
    }
    for (    Object argument : arguments) {
      sb.append(String.valueOf(argument));
      sb.append(" ");
    }
  }
  BaseTestCase.fail(sb.toString());
}
