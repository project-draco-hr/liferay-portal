{
  if (!PropsValues.SETUP_WIZARD_ENABLED) {
    return false;
  }
  ServletContext servletContext=getServletContext();
  Boolean startupFinished=(Boolean)servletContext.getAttribute(WebKeys.STARTUP_FINISHED);
  if ((startupFinished == null) || !startupFinished.booleanValue()) {
    return false;
  }
  String cmd=ParamUtil.getString(request,Constants.CMD);
  if (cmd.equals(Constants.UPDATE)) {
    SetupWizardUtil.processProperties(request);
    servletContext.setAttribute(WebKeys.SETUP_WIZARD_FINISHED,true);
  }
  RequestDispatcher requestDispatcher=request.getRequestDispatcher("/html/portal/setup_wizard.jsp");
  requestDispatcher.include(request,response);
  return true;
}
