{
  String liferayHome=PropsValues.LIFERAY_HOME;
  File rubyFolder=new File(liferayHome,"ruby");
  boolean unzipRubyGems=false;
  if (rubyFolder.exists() == false) {
    rubyFolder.mkdirs();
  }
  String liferayLibPortalDir=PropsValues.LIFERAY_LIB_PORTAL_DIR;
  File rubyGemsJar=new File(liferayLibPortalDir,"ruby-gems.jar");
  if (!rubyGemsJar.exists()) {
    throw new FileNotFoundException("ruby-gems.jar not found!");
  }
  File rubyGemsTouchFile=new File(rubyFolder,"ruby-gems");
  if (!rubyGemsTouchFile.exists()) {
    unzipRubyGems=true;
  }
 else {
    if (rubyGemsTouchFile.lastModified() < rubyGemsJar.lastModified()) {
      unzipRubyGems=true;
    }
  }
  if (unzipRubyGems) {
    FileUtil.deltree(rubyFolder);
    rubyFolder.mkdir();
    ZipUtil.unzip(rubyGemsJar,rubyFolder);
    FileUtil.touch(rubyGemsTouchFile);
  }
}
