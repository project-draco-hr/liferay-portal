{
  String liferayHome=PropsValues.LIFERAY_HOME;
  File rubyFolder=new File(liferayHome,"ruby");
  if (!rubyFolder.exists()) {
    rubyFolder.mkdirs();
  }
  String liferayLibPortalDir=PropsValues.LIFERAY_LIB_PORTAL_DIR;
  File rubyGemsJar=new File(liferayLibPortalDir,"ruby-gems.jar");
  if (!rubyGemsJar.exists()) {
    throw new FileNotFoundException("ruby-gems.jar not found!");
  }
  File rubyGemsTouchFile=new File(rubyFolder,"ruby-gems");
  if (!rubyGemsTouchFile.exists() || rubyGemsTouchFile.lastModified() < rubyGemsJar.lastModified()) {
    FileUtil.deltree(rubyFolder);
    rubyFolder.mkdir();
    ZipUtil.unzip(rubyGemsJar,rubyFolder);
    FileUtil.touch(rubyGemsTouchFile);
  }
}
