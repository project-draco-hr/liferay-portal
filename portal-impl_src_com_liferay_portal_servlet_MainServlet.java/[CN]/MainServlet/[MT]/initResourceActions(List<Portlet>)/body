{
  if (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM != 6) {
    if (_log.isWarnEnabled()) {
      StringBundler sb=new StringBundler(8);
      sb.append("Liferay is configured to use permission algorithm ");
      sb.append(PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM);
      sb.append(". As of version 6.2, only permission algorithm 6 ");
      sb.append("will be supported. Please log in as an ");
      sb.append("administrator, go to the \"Server ");
      sb.append("Administration\" control panel, select the \"Data ");
      sb.append("Migration\" tab, and convert from this legacy ");
      sb.append("permission algorithm as soon as possible.");
      _log.warn(sb.toString());
    }
    return;
  }
  Iterator<Portlet> itr=portlets.iterator();
  while (itr.hasNext()) {
    Portlet portlet=itr.next();
    List<String> portletActions=ResourceActionsUtil.getPortletResourceActions(portlet);
    ResourceActionLocalServiceUtil.checkResourceActions(portlet.getPortletId(),portletActions);
    List<String> modelNames=ResourceActionsUtil.getPortletModelResources(portlet.getPortletId());
    for (    String modelName : modelNames) {
      List<String> modelActions=ResourceActionsUtil.getModelResourceActions(modelName);
      ResourceActionLocalServiceUtil.checkResourceActions(modelName,modelActions);
    }
  }
}
