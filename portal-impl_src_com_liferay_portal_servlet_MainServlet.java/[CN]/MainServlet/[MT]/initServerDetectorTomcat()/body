{
  ServletContext servletContext=getServletContext();
  Class<?> applicationContextFacadeClass=servletContext.getClass();
  Field contextField1=ReflectionUtil.getDeclaredField(applicationContextFacadeClass,"context");
  Object contextValue1=contextField1.get(servletContext);
  Class<?> applicationContextClass=contextField1.getType();
  Field contextField2=ReflectionUtil.getDeclaredField(applicationContextClass,"context");
  Object contextValue2=contextField2.get(contextValue1);
  Class<?> standardContextClass=contextField2.getType();
  Class<?> containerBaseClass=standardContextClass.getSuperclass();
  Field parentField=ReflectionUtil.getDeclaredField(containerBaseClass,"parent");
  Object parentValue=parentField.get(contextValue2);
  Field autoDeployField=ReflectionUtil.getDeclaredField(parentValue.getClass(),"autoDeploy");
  Boolean autoDeployValue=(Boolean)autoDeployField.get(parentValue);
  ServerDetector.setSupportsHotDeploy(autoDeployValue);
}
