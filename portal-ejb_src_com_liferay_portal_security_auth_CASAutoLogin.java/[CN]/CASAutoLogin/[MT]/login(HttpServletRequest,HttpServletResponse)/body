{
  try {
    String[] credentials=null;
    HttpSession ses=req.getSession();
    String screenName=(String)ses.getAttribute(CASFilter.CAS_FILTER_USER);
    if (screenName != null) {
      String companyId=PortalUtil.getCompanyId(req);
      User user=null;
      try {
        user=UserLocalServiceUtil.getUserByScreenName(companyId,screenName);
      }
 catch (      NoSuchUserException nsue) {
        user=processNoSuchUserException(companyId,screenName,nsue);
      }
      credentials=new String[3];
      credentials[0]=String.valueOf(user.getUserId());
      credentials[1]=user.getPassword();
      credentials[2]=Boolean.TRUE.toString();
    }
    return credentials;
  }
 catch (  Exception e) {
    throw new AutoLoginException(e);
  }
}
