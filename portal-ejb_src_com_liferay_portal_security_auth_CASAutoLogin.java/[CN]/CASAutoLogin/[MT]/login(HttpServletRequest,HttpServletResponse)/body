{
  try {
    String[] credentials=null;
    HttpSession ses=req.getSession();
    String screenName=(String)ses.getAttribute(CASFilter.CAS_FILTER_USER);
    if (screenName != null) {
      User user=null;
      Company company=PortalUtil.getCompany(req);
      try {
        user=UserLocalServiceUtil.getUserByScreenName(company.getCompanyId(),screenName);
      }
 catch (      NoSuchUserException e) {
        user=processNoSuchUser(company.getCompanyId(),screenName,e);
      }
      credentials=new String[3];
      credentials[0]=user.getUserId();
      credentials[1]=user.getPassword();
      credentials[2]=Boolean.TRUE.toString();
    }
    return credentials;
  }
 catch (  Exception e) {
    throw new AutoLoginException(e);
  }
}
