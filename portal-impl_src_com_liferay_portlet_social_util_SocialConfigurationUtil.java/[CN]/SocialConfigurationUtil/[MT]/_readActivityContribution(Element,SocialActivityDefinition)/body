{
  Element contributionValueElement=activityElement.element("contribution-value");
  Element contributionLimitElement=activityElement.element("contribution-limit");
  if ((contributionValueElement == null) && (contributionLimitElement == null)) {
    return;
  }
  SocialActivityCounterDefinition activityCounterDefinition=new SocialActivityCounterDefinition();
  activityCounterDefinition.setName(SocialActivityCounterConstants.NAME_CONTRIBUTION);
  activityCounterDefinition.setOwnerType(SocialActivityCounterConstants.TYPE_CREATOR);
  if (contributionValueElement != null) {
    int increment=GetterUtil.getInteger(contributionValueElement.getText());
    activityCounterDefinition.setIncrement(increment);
  }
  if (contributionLimitElement != null) {
    String limitEnabled=contributionLimitElement.attributeValue("enabled");
    if (Validator.isNotNull(limitEnabled)) {
      activityCounterDefinition.setLimitEnabled(GetterUtil.getBoolean(limitEnabled));
    }
    String limitPeriod=contributionLimitElement.attributeValue("period");
    if (Validator.isNotNull(limitPeriod)) {
      activityCounterDefinition.setLimitPeriod(limitPeriod);
    }
    int limitValue=GetterUtil.getInteger(contributionLimitElement.getText());
    activityCounterDefinition.setLimitValue(limitValue);
  }
  activityDefinition.addCounter(activityCounterDefinition);
  SocialActivityCounterDefinition popularityActivityCounterDefinition=new SocialActivityCounterDefinition();
  popularityActivityCounterDefinition.setName(SocialActivityCounterConstants.NAME_POPULARITY);
  popularityActivityCounterDefinition.setOwnerType(SocialActivityCounterConstants.TYPE_ASSET);
  popularityActivityCounterDefinition.setIncrement(activityCounterDefinition.getIncrement());
  popularityActivityCounterDefinition.setLimitEnabled(activityCounterDefinition.isLimitEnabled());
  popularityActivityCounterDefinition.setLimitPeriod(activityCounterDefinition.getLimitPeriod());
  popularityActivityCounterDefinition.setLimitValue(activityCounterDefinition.getLimitValue());
  activityDefinition.addCounter(popularityActivityCounterDefinition);
}
