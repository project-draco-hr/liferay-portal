{
  Element participationValueElement=activityElement.element("participation-value");
  Element participationLimitElement=activityElement.element("participation-limit");
  if ((participationValueElement == null) && (participationLimitElement == null)) {
    return;
  }
  SocialActivityCounterDefinition activityCounterDefinition=new SocialActivityCounterDefinition();
  activityCounterDefinition.setName(SocialActivityCounterConstants.NAME_PARTICIPATION);
  activityCounterDefinition.setOwnerType(SocialActivityCounterConstants.TYPE_ACTOR);
  if (participationValueElement != null) {
    int increment=GetterUtil.getInteger(participationValueElement.getText());
    activityCounterDefinition.setIncrement(increment);
  }
  if (participationLimitElement != null) {
    String limitEnabled=participationLimitElement.attributeValue("enabled");
    if (Validator.isNotNull(limitEnabled)) {
      activityCounterDefinition.setLimitEnabled(GetterUtil.getBoolean(limitEnabled));
    }
    String limitPeriod=participationLimitElement.attributeValue("period");
    if (Validator.isNotNull(limitPeriod)) {
      activityCounterDefinition.setLimitPeriod(limitPeriod);
    }
    int limitValue=GetterUtil.getInteger(participationLimitElement.getText());
    activityCounterDefinition.setLimitValue(limitValue);
  }
  activityDefinition.addCounter(activityCounterDefinition);
}
