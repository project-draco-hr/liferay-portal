{
  HttpServletRequest originalServletRequest=PortalUtil.getOriginalServletRequest(request);
  String type=ParamUtil.getString(originalServletRequest,"Type");
  Set<String> mimeTypes=null;
  if (StringUtil.equalsIgnoreCase(type,"audio")) {
    mimeTypes=AudioProcessorUtil.getAudioMimeTypes();
  }
 else   if (StringUtil.equalsIgnoreCase(type,"image")) {
    mimeTypes=ImageProcessorUtil.getImageMimeTypes();
  }
 else   if (StringUtil.equalsIgnoreCase(type,"video")) {
    mimeTypes=VideoProcessorUtil.getVideoMimeTypes();
  }
  if (mimeTypes == null) {
    return null;
  }
  return ArrayUtil.toStringArray(mimeTypes.toArray());
}
