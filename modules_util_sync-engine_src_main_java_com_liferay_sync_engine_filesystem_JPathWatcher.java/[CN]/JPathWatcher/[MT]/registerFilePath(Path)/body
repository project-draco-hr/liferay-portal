{
  if (Files.notExists(filePath)) {
    return;
  }
  if (OSDetector.isWindows() && !filePath.equals(getBaseFilePath())) {
    return;
  }
  WatchKey watchKey=null;
  name.pachler.nio.file.Path jpathwatchFilePath=Paths.get(filePath.toString());
  if (OSDetector.isWindows()) {
    watchKey=jpathwatchFilePath.register(_watchService,new WatchEvent.Kind[]{ExtendedWatchEventKind.ENTRY_RENAME_FROM,ExtendedWatchEventKind.ENTRY_RENAME_TO,ExtendedWatchEventKind.KEY_INVALID,StandardWatchEventKind.ENTRY_CREATE,StandardWatchEventKind.ENTRY_DELETE,StandardWatchEventKind.ENTRY_MODIFY},ExtendedWatchEventModifier.FILE_TREE);
  }
 else {
    watchKey=jpathwatchFilePath.register(_watchService,ExtendedWatchEventKind.ENTRY_RENAME_FROM,ExtendedWatchEventKind.ENTRY_RENAME_TO,ExtendedWatchEventKind.KEY_INVALID,StandardWatchEventKind.ENTRY_CREATE,StandardWatchEventKind.ENTRY_DELETE,StandardWatchEventKind.ENTRY_MODIFY);
  }
  _filePaths.put(watchKey,filePath);
  if (_logger.isTraceEnabled()) {
    _logger.trace("Registered file path {}",filePath);
  }
}
