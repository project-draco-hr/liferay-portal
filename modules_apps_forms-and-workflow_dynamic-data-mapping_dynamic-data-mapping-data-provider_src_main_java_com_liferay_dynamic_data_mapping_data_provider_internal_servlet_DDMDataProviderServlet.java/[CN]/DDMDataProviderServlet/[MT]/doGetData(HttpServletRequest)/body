{
  try {
    long ddmDataProviderInstanceId=ParamUtil.getLong(request,"ddmDataProviderInstanceId");
    DDMDataProviderInstance ddmDataProviderInstance=_ddmDataProviderInstanceService.getDataProviderInstance(ddmDataProviderInstanceId);
    DDMDataProvider ddmDataProvider=_ddmDataProviderTracker.getDDMDataProvider(ddmDataProviderInstance.getType());
    DDMForm ddmForm=DDMFormFactory.create(ddmDataProvider.getSettings());
    DDMFormValues ddmFormValues=_ddmFormValuesJSONDeserializer.deserialize(ddmForm,ddmDataProviderInstance.getDefinition());
    DDMDataProviderContext ddmDataProviderContext=new DDMDataProviderContext(ddmFormValues);
    List<DDMDataProviderContextContributor> ddmDataProviderContextContributors=_ddmDataProviderTracker.getDDMDataProviderContextContributors(ddmDataProviderInstance.getType());
    addDDMDataProviderContextParameters(request,ddmDataProviderContext,ddmDataProviderContextContributors);
    JSONArray jsonArray=toJSONArray(ddmDataProvider.getData(ddmDataProviderContext));
    return jsonArray.toString();
  }
 catch (  PortalException pe) {
    if (_log.isDebugEnabled()) {
      _log.debug(pe,pe);
    }
  }
  return null;
}
