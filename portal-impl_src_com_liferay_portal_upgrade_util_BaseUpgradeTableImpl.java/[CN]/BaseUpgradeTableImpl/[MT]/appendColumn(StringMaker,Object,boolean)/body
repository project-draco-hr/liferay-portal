{
  if (value == null) {
    throw new UpgradeException("Nulls should never be inserted into the database. " + "Attempted to append column to " + sm.toString() + ".");
  }
 else   if (value instanceof Clob || value instanceof String) {
    value=StringUtil.replace((String)value,_SAFE_CHARS[0],_SAFE_CHARS[1]);
    sm.append(value);
  }
 else   if (value instanceof Date) {
    DateFormat df=DateUtil.getISOFormat();
    sm.append(df.format(value));
  }
 else {
    sm.append(value);
  }
  sm.append(StringPool.COMMA);
  if (last) {
    sm.append(StringPool.NEW_LINE);
  }
}
