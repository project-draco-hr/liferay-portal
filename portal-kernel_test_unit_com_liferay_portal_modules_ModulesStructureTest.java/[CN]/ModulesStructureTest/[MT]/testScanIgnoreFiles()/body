{
  ClassLoader classLoader=ModulesStructureTest.class.getClassLoader();
  final String gitRepoGitIgnoreTemplate=StringUtil.read(classLoader,"com/liferay/portal/modules/dependencies/git_repo_gitignore.tmpl");
  final String themeGitIgnoreTemplate=StringUtil.read(classLoader,"com/liferay/portal/modules/dependencies/theme_gitignore.tmpl");
  Files.walkFileTree(_modulesDirPath,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult preVisitDirectory(    Path dirPath,    BasicFileAttributes basicFileAttributes) throws IOException {
      Path dirNamePath=dirPath.getFileName();
      String dirName=dirNamePath.toString();
      if (dirPath.equals(_modulesDirPath) || (!dirName.equals("journal") && Files.exists(dirPath.resolve(".gitrepo")))) {
        _testGitRepoIgnoreFiles(dirPath,gitRepoGitIgnoreTemplate);
      }
 else       if (dirName.startsWith("frontend-theme-") && Files.exists(dirPath.resolve("gulpfile.js"))) {
        _testThemeIgnoreFiles(dirPath,themeGitIgnoreTemplate);
      }
      return FileVisitResult.CONTINUE;
    }
  }
);
}
