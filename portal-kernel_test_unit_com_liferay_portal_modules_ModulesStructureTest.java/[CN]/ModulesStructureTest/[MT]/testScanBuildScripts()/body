{
  Files.walkFileTree(Paths.get("modules"),new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult preVisitDirectory(    Path dirPath,    BasicFileAttributes basicFileAttributes){
      Path dirNamePath=dirPath.getFileName();
      String dirName=dirNamePath.toString();
      if (dirName.charAt(0) == '.') {
        return FileVisitResult.SKIP_SUBTREE;
      }
      Path buildXmlPath=dirPath.resolve("build.xml");
      if (Files.notExists(buildXmlPath)) {
        Assert.fail("Missing " + buildXmlPath);
      }
      Path ivyXmlPath=dirPath.resolve("ivy.xml");
      if (Files.exists(ivyXmlPath)) {
        Assert.fail("Forbidden " + ivyXmlPath);
      }
      if (Files.exists(dirPath.resolve("bnd.bnd"))) {
        Path buildGradlePath=dirPath.resolve("build.gradle");
        if (Files.notExists(buildGradlePath)) {
          Assert.fail("Missing " + buildGradlePath);
        }
        return FileVisitResult.SKIP_SUBTREE;
      }
 else       if (Files.exists(dirPath.resolve("package.json"))) {
        return FileVisitResult.SKIP_SUBTREE;
      }
      return FileVisitResult.CONTINUE;
    }
  }
);
}
