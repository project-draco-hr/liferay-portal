{
  if (_charBuffer != null) {
    return _charBuffer;
  }
  if (_byteBuffer != null) {
    return CharsetDecoderUtil.decode(getCharacterEncoding(),_byteBuffer.duplicate());
  }
  _flushInternalBuffer();
  if (_unsyncStringWriter != null) {
    return CharBuffer.wrap(_unsyncStringWriter.toString());
  }
  if (_unsyncByteArrayOutputStream != null) {
    ByteBuffer byteBuffer=_unsyncByteArrayOutputStream.unsafeGetByteBuffer();
    return CharsetDecoderUtil.decode(getCharacterEncoding(),byteBuffer);
  }
  return _emptyCharBuffer;
}
