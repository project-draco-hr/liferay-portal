{
  File pomFile=_project.file(System.currentTimeMillis() + ".xml");
  File preparedSourceDir=null;
  try {
    if (isUseSetterComments()) {
      preparedSourceDir=new File(getTemporaryDir(),"prepared-source");
      prepareSources(preparedSourceDir);
    }
    buildPomFile(pomFile,preparedSourceDir);
    buildPluginDescriptor(pomFile);
  }
 catch (  Exception e) {
    throw new GradleException(e.getMessage(),e);
  }
 finally {
    if (preparedSourceDir != null) {
      _project.delete(preparedSourceDir);
    }
    _project.delete(pomFile);
  }
}
