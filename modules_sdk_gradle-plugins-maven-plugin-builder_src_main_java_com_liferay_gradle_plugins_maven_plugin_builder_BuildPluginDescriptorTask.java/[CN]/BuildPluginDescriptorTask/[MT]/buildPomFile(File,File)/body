{
  if (sourceDir == null) {
    sourceDir=getSourceDir();
  }
  Document document=XMLUtil.createDocument();
  Element projectElement=document.createElementNS("http://maven.apache.org/POM/4.0.0","project");
  document.appendChild(projectElement);
  XMLUtil.appendElement(document,projectElement,"modelVersion","4.0.0");
  XMLUtil.appendElement(document,projectElement,"groupId",getPomGroupId());
  XMLUtil.appendElement(document,projectElement,"artifactId",getPomArtifactId());
  XMLUtil.appendElement(document,projectElement,"version",getPomVersion());
  XMLUtil.appendElement(document,projectElement,"packaging","maven-plugin");
  Element buildElement=document.createElement("build");
  projectElement.appendChild(buildElement);
  XMLUtil.appendElement(document,buildElement,"outputDirectory",_project.relativePath(getClassesDir()));
  XMLUtil.appendElement(document,buildElement,"sourceDirectory",_project.relativePath(sourceDir));
  Element dependenciesElement=document.createElement("dependencies");
  projectElement.appendChild(dependenciesElement);
  Map<String,String> pomConfigurationScopeMappings=getConfigurationScopeMappings();
  for (  Map.Entry<String,String> entry : pomConfigurationScopeMappings.entrySet()) {
    String configurationName=entry.getKey();
    String scope=entry.getValue();
    appendDependencyElements(document,dependenciesElement,configurationName,scope);
  }
  XMLUtil.write(document,pomFile);
}
