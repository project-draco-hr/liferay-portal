{
  Project project=getProject();
  ConfigurationContainer configurationContainer=project.getConfigurations();
  Configuration configuration=configurationContainer.findByName(configurationName);
  if (configuration == null) {
    return;
  }
  Set<Dependency> dependencies=configuration.getDependencies();
  Set<String> forcedExclusions=getForcedExclusions();
  for (  Dependency dependency : dependencies) {
    Element dependencyEl=doc.createElement("dependency");
    dependenciesEl.appendChild(dependencyEl);
    XMLUtil.appendElement(doc,dependencyEl,"groupId",dependency.getGroup());
    XMLUtil.appendElement(doc,dependencyEl,"artifactId",dependency.getName());
    XMLUtil.appendElement(doc,dependencyEl,"version",dependency.getVersion());
    XMLUtil.appendElement(doc,dependencyEl,"scope",scope);
    if (!forcedExclusions.isEmpty()) {
      Element exclusionsEl=doc.createElement("exclusions");
      dependencyEl.appendChild(exclusionsEl);
      for (      String dependencyNotation : forcedExclusions) {
        appendDependencyExclusionElement(doc,exclusionsEl,dependencyNotation);
      }
    }
  }
}
