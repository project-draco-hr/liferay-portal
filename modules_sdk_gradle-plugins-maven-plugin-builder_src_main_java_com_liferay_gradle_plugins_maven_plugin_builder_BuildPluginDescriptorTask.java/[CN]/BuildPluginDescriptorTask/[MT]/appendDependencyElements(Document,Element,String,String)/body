{
  Project project=getProject();
  ConfigurationContainer configurationContainer=project.getConfigurations();
  Configuration configuration=configurationContainer.findByName(configurationName);
  if (configuration == null) {
    return;
  }
  Set<Dependency> dependencies=configuration.getDependencies();
  Set<String> forcedExclusions=getForcedExclusions();
  for (  Dependency dependency : dependencies) {
    Element dependencyElement=document.createElement("dependency");
    dependenciesElement.appendChild(dependencyElement);
    XMLUtil.appendElement(document,dependencyElement,"groupId",dependency.getGroup());
    XMLUtil.appendElement(document,dependencyElement,"artifactId",dependency.getName());
    XMLUtil.appendElement(document,dependencyElement,"version",dependency.getVersion());
    XMLUtil.appendElement(document,dependencyElement,"scope",scope);
    if (!forcedExclusions.isEmpty()) {
      Element exclusionsElement=document.createElement("exclusions");
      dependencyElement.appendChild(exclusionsElement);
      for (      String dependencyNotation : forcedExclusions) {
        appendDependencyExclusionElement(document,exclusionsElement,dependencyNotation);
      }
    }
  }
}
