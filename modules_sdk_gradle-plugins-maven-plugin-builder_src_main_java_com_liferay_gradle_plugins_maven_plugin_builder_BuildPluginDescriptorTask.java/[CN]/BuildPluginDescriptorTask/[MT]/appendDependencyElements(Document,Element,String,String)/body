{
  Project project=getProject();
  ConfigurationContainer configurationContainer=project.getConfigurations();
  Configuration configuration=configurationContainer.findByName(configurationName);
  if (configuration == null) {
    return;
  }
  Set<Dependency> dependencies=configuration.getDependencies();
  Set<String> forcedExclusions=getForcedExclusions();
  for (  Dependency dependency : dependencies) {
    Element dependencyElement=doc.createElement("dependency");
    dependenciesElement.appendChild(dependencyElement);
    XMLUtil.appendElement(doc,dependencyElement,"groupId",dependency.getGroup());
    XMLUtil.appendElement(doc,dependencyElement,"artifactId",dependency.getName());
    XMLUtil.appendElement(doc,dependencyElement,"version",dependency.getVersion());
    XMLUtil.appendElement(doc,dependencyElement,"scope",scope);
    if (!forcedExclusions.isEmpty()) {
      Element exclusionsElement=doc.createElement("exclusions");
      dependencyElement.appendChild(exclusionsElement);
      for (      String dependencyNotation : forcedExclusions) {
        appendDependencyExclusionElement(doc,exclusionsElement,dependencyNotation);
      }
    }
  }
}
