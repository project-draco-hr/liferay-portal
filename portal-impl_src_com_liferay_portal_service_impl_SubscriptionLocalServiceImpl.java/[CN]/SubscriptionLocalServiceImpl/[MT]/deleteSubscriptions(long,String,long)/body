{
  long classNameId=PortalUtil.getClassNameId(className);
  List<Subscription> subscriptions=subscriptionPersistence.findByC_C_C(companyId,classNameId,classPK);
  for (  Subscription subscription : subscriptions) {
    if (assetEntryPersistence.countByC_C(subscription.getClassNameId(),subscription.getClassPK()) > 0) {
      socialEquityLogLocalService.deactivateEquityLogs(subscription.getUserId(),PortalUtil.getClassName(subscription.getClassNameId()),subscription.getClassPK(),ActionKeys.SUBSCRIBE,StringPool.BLANK);
    }
  }
  subscriptionPersistence.removeByC_C_C(companyId,classNameId,classPK);
}
