{
  List<Subscription> subscriptions=subscriptionPersistence.findByUserId(userId);
  for (  Subscription subscription : subscriptions) {
    if (assetEntryPersistence.countByC_C(subscription.getClassNameId(),subscription.getClassPK()) > 0) {
      socialEquityLogLocalService.deactivateEquityLogs(subscription.getUserId(),PortalUtil.getClassName(subscription.getClassNameId()),subscription.getClassPK(),ActionKeys.SUBSCRIBE,StringPool.BLANK);
    }
  }
  subscriptionPersistence.removeByUserId(userId);
}
