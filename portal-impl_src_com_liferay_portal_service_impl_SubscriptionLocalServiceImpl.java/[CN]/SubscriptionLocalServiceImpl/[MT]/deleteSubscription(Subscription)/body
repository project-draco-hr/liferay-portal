{
  subscriptionPersistence.remove(subscription);
  AssetEntry assetEntry=assetEntryPersistence.fetchByC_C(subscription.getClassNameId(),subscription.getClassPK());
  if (assetEntry != null) {
    String className=PortalUtil.getClassName(subscription.getClassNameId());
    socialActivityLocalService.addActivity(subscription.getUserId(),assetEntry.getGroupId(),className,subscription.getClassPK(),SocialActivityConstants.TYPE_UNSUBSCRIBE,StringPool.BLANK,0);
    socialEquityLogLocalService.deactivateEquityLogs(subscription.getUserId(),className,subscription.getClassPK(),ActionKeys.SUBSCRIBE,StringPool.BLANK);
  }
}
