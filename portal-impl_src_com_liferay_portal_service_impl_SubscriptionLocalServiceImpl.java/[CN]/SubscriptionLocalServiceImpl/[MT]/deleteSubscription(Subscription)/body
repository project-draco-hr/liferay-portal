{
  subscriptionPersistence.remove(subscription);
  AssetEntry assetEntry=assetEntryPersistence.fetchByC_C(subscription.getClassNameId(),subscription.getClassPK());
  if (assetEntry != null) {
    ClassName className=classNameLocalService.getClassName(subscription.getClassNameId());
    String subscriptionClassName=className.getValue();
    JSONObject extraDataJSONObject=JSONFactoryUtil.createJSONObject();
    extraDataJSONObject.put("title",assetEntry.getTitle());
    socialActivityLocalService.addActivity(subscription.getUserId(),assetEntry.getGroupId(),subscriptionClassName,subscription.getClassPK(),SocialActivityConstants.TYPE_UNSUBSCRIBE,extraDataJSONObject.toString(),0);
  }
  return subscription;
}
