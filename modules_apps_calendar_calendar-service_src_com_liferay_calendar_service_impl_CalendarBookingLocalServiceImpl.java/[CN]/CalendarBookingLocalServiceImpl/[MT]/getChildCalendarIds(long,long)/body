{
  CalendarBooking calendarBooking=calendarBookingPersistence.findByPrimaryKey(calendarBookingId);
  List<CalendarBooking> childCalendarBookings=calendarBookingPersistence.findByParentCalendarBookingId(calendarBookingId);
  long[] childCalendarIds=new long[childCalendarBookings.size()];
  for (int i=0; i < childCalendarIds.length; i++) {
    CalendarBooking childCalendarBooking=childCalendarBookings.get(i);
    if (childCalendarBooking.getCalendarId() == calendarBooking.getCalendarId()) {
      childCalendarIds[i]=calendarId;
    }
 else {
      childCalendarIds[i]=childCalendarBooking.getCalendarId();
    }
  }
  return childCalendarIds;
}
