{
  boolean sendNotification=ParamUtil.getBoolean(serviceContext,"sendNotification",true);
  if (!sendNotification) {
    return;
  }
  try {
    User sender=userLocalService.fetchUser(serviceContext.getUserId());
    NotificationType notificationType=NotificationType.parse(PortletPropsValues.CALENDAR_NOTIFICATION_DEFAULT_TYPE);
    NotificationUtil.notifyCalendarBookingRecipients(calendarBooking,notificationType,notificationTemplateType,sender);
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
  }
}
