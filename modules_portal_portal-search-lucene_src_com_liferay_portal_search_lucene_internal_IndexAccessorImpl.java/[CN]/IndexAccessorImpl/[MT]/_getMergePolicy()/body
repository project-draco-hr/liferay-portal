{
  if (luceneConfiguration.mergePolicy().equals(NoMergePolicy.class.getName())) {
    return NoMergePolicy.NO_COMPOUND_FILES;
  }
  MergePolicy mergePolicy=(MergePolicy)InstanceFactory.newInstance(getClass().getClassLoader(),luceneConfiguration.mergePolicy());
  if (mergePolicy instanceof LogMergePolicy) {
    LogMergePolicy logMergePolicy=(LogMergePolicy)mergePolicy;
    logMergePolicy.setMergeFactor(luceneConfiguration.mergeFactor());
  }
  return mergePolicy;
}
