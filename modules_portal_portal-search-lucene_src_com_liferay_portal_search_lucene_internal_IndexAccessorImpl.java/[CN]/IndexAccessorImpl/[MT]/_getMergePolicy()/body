{
  if (Validator.equals(luceneConfiguration.mergePolicy(),NoMergePolicy.class.getName())) {
    return NoMergePolicy.NO_COMPOUND_FILES;
  }
  Class<?> clazz=getClass();
  MergePolicy mergePolicy=(MergePolicy)InstanceFactory.newInstance(clazz.getClassLoader(),luceneConfiguration.mergePolicy());
  if (mergePolicy instanceof LogMergePolicy) {
    LogMergePolicy logMergePolicy=(LogMergePolicy)mergePolicy;
    logMergePolicy.setMergeFactor(luceneConfiguration.mergeFactor());
  }
  return mergePolicy;
}
