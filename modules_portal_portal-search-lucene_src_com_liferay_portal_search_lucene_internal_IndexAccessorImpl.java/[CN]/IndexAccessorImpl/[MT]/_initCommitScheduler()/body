{
  if ((luceneConfiguration.commitBatchSize() <= 0) || (luceneConfiguration.commitTimeInterval() <= 0)) {
    return;
  }
  _scheduledExecutorService=Executors.newSingleThreadScheduledExecutor();
  Runnable runnable=new Runnable(){
    @Override public void run(){
      try {
        if (_batchCount > 0) {
          _doCommit();
        }
      }
 catch (      IOException ioe) {
        _log.error("Could not run scheduled commit",ioe);
      }
    }
  }
;
  _scheduledExecutorService.scheduleWithFixedDelay(runnable,0,luceneConfiguration.commitTimeInterval(),TimeUnit.MILLISECONDS);
}
