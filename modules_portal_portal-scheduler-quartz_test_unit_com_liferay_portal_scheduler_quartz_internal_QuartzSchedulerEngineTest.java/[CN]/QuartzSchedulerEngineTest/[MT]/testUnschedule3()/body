{
  Assert.assertEquals(0,_synchronousDestination.getMessageListenerCount());
  String testJobName=_TEST_JOB_NAME_PREFIX + "memory";
  Trigger trigger=_quartzTriggerFactory.createTrigger(testJobName,_MEMORY_TEST_GROUP_NAME,_DEFAULT_INTERVAL,TimeUnit.SECOND);
  Message message=new Message();
  message.put(SchedulerEngine.MESSAGE_LISTENER_CLASS_NAME,TestMessageListener.class.getName());
  _quartzSchedulerEngine.schedule(trigger,StringPool.BLANK,_TEST_DESTINATION_NAME,message,StorageType.MEMORY);
  SchedulerResponse schedulerResponse=_quartzSchedulerEngine.getScheduledJob(testJobName,_MEMORY_TEST_GROUP_NAME,StorageType.MEMORY);
  assertTriggerState(schedulerResponse,TriggerState.NORMAL);
  Assert.assertEquals(1,_synchronousDestination.getMessageListenerCount());
  _quartzSchedulerEngine.unschedule(testJobName,_MEMORY_TEST_GROUP_NAME,StorageType.MEMORY);
  schedulerResponse=_quartzSchedulerEngine.getScheduledJob(testJobName,_MEMORY_TEST_GROUP_NAME,StorageType.MEMORY);
  assertTriggerState(schedulerResponse,TriggerState.UNSCHEDULED);
  Assert.assertEquals(0,_synchronousDestination.getMessageListenerCount());
}
