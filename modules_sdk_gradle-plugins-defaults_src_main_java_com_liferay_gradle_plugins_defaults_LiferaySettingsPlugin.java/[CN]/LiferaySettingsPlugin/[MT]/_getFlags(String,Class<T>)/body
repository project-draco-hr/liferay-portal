{
  Set<T> flags=EnumSet.allOf(clazz);
  Iterator<T> iterator=flags.iterator();
  while (iterator.hasNext()) {
    T flag=iterator.next();
    String flagName=flag.toString();
    flagName=flagName.replace('_','.');
    flagName=flagName.toLowerCase();
    if (!Boolean.getBoolean(prefix + flagName)) {
      iterator.remove();
    }
  }
  return flags;
}
