{
  PortletItem portletItem=null;
  String className=PortletPreferences.class.getName();
  try {
    portletItem=PortletItemLocalServiceUtil.getPortletItem(groupId,name,portletId,className);
  }
 catch (  NoSuchPortletItemException nspie) {
    long userId=PrincipalThreadLocal.getUserId();
    portletItem=PortletItemLocalServiceUtil.updatePortletItem(userId,groupId,name,portletId,className);
  }
  return new ArchivedSettingsImpl(portletItem);
}
