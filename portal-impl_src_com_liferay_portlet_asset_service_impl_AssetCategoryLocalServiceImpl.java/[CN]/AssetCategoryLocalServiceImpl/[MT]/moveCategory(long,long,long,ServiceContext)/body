{
  AssetCategory category=assetCategoryPersistence.findByPrimaryKey(categoryId);
  validate(categoryId,parentCategoryId,category.getName(),vocabularyId);
  if (parentCategoryId > 0) {
    assetCategoryPersistence.findByPrimaryKey(parentCategoryId);
  }
  if (vocabularyId != category.getVocabularyId()) {
    assetVocabularyPersistence.findByPrimaryKey(vocabularyId);
    category.setVocabularyId(vocabularyId);
    updateChildrenVocabularyId(category,vocabularyId);
  }
  category.setParentCategoryId(parentCategoryId);
  assetCategoryPersistence.update(category);
  return category;
}
