{
  if (Validator.isNull(name)) {
    throw new AssetCategoryNameException();
  }
  List<AssetCategory> categories=assetCategoryPersistence.findByP_N(parentCategoryId,name);
  if ((categories.size() > 0) && (categories.get(0).getCategoryId() != categoryId)) {
    StringBundler sb=new StringBundler(4);
    sb.append("There is another category named ");
    sb.append(name);
    sb.append(" as a child of category ");
    sb.append(parentCategoryId);
    throw new DuplicateCategoryException(sb.toString());
  }
}
