{
  List<AssetCategory> categories=null;
  if (parentCategoryId == 0) {
    categories=assetCategoryPersistence.findByN_V(name,vocabularyId);
  }
 else {
    categories=assetCategoryPersistence.findByP_N(parentCategoryId,name);
  }
  if ((categories.size() > 0) && (categories.get(0).getCategoryId() != categoryId)) {
    StringBundler sb=new StringBundler(4);
    sb.append("There is another category category named ");
    sb.append(name);
    sb.append(" as a child of category ");
    sb.append(parentCategoryId);
    throw new DuplicateCategoryException(sb.toString());
  }
}
