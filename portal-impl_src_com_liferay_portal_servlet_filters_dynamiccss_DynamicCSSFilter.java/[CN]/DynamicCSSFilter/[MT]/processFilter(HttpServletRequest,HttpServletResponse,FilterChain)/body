{
  StringServletResponse stringResponse=new StringServletResponse(response);
  processFilter(DynamicCSSFilter.class,request,stringResponse,filterChain);
  StopWatch timer=null;
  if (_log.isDebugEnabled()) {
    timer=new StopWatch();
    timer.start();
  }
  try {
    Object parsedContent=getDynamicContent(request,stringResponse,filterChain);
    if (parsedContent == null) {
      parsedContent=parseSass(request,stringResponse.getString());
    }
    if (parsedContent instanceof File) {
      ServletResponseUtil.write(response,(File)parsedContent);
    }
 else     if (parsedContent instanceof String) {
      ServletResponseUtil.write(response,(String)parsedContent);
    }
  }
  finally {
    if (_log.isDebugEnabled()) {
      timer.stop();
      _log.debug("Execution time: " + timer.toString());
    }
  }
}
