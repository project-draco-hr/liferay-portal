{
  super.init(filterConfig);
  _servletContext=filterConfig.getServletContext();
  _servletContextName=GetterUtil.getString(_servletContext.getServletContextName());
  String contextPath=ContextPathUtil.getContextPath(_servletContext);
  String portalContextPath=PortalUtil.getPathContext();
  if (!contextPath.equals(portalContextPath)) {
    ServletContext portalServletContext=ServletContextPool.get(portalContextPath);
    _rubyScriptFile=new File(ServletContextUtil.getRealPath(portalServletContext,"/WEB-INF/sass/main.rb"));
  }
 else {
    _rubyScriptFile=new File(ServletContextUtil.getRealPath(_servletContext,"/WEB-INF/sass/main.rb"));
  }
  try {
    _rubyExecutor.eval(null,new HashMap<String,Object>(),null,"require 'rubygems'\nrequire 'sass'");
  }
 catch (  ScriptingException se) {
    _log.error(se,se);
  }
  if (Validator.isNull(_servletContextName)) {
    _tempDir+="/portal";
  }
}
