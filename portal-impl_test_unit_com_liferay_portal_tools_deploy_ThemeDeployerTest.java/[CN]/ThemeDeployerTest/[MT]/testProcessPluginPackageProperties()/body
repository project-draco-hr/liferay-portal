{
  try {
    String displayName="test-theme";
    Properties properties=PropertiesUtil.load(LIFERAY_PLUGIN_PACKAGE_PROPERTIES_CONTENT);
    Assert.assertFalse("Test properties not loaded.",properties.isEmpty());
    PluginPackage pluginPackage=PluginPackageUtil.readPluginPackageProperties(displayName,properties);
    Assert.assertNotNull(pluginPackage);
    Assert.assertEquals("Test Theme EE",pluginPackage.getName());
    ThemeDeployer themeDeployer=new ThemeDeployer();
    File testDir=new File(TMP_TEST_DIR);
    Assert.assertTrue(testDir.exists());
    Map<String,String> filterMap=themeDeployer.processPluginPackageProperties(testDir.getParentFile(),displayName,pluginPackage);
    Assert.assertNotNull("FilterMap must not be null.",filterMap);
    Assert.assertFalse("FilterMap must not be empty.",filterMap.isEmpty());
    File xmlFile=new File(TMP_TEST_DIR + "/liferay-plugin-package.xml");
    validateLiferayPluginPackageXMLFile(xmlFile);
    xmlFile=new File(TMP_TEST_DIR + "/liferay-look-and-feel.xml");
    validateLiferayLookAndFeelXMLFile(xmlFile);
  }
 catch (  Exception e) {
    Assert.fail(format(e,5));
  }
}
