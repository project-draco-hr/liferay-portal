{
  Iterator itr=layouts.iterator();
  while (itr.hasNext()) {
    Layout layout=(Layout)itr.next();
    Properties props=layout.getTypeSettingsProperties();
    if (PortalUtil.isLayoutSitemapable(layout) && !layout.isHidden() && GetterUtil.getBoolean(props.getProperty("sitemap-include"),true)) {
      Element url=element.addElement("url");
      String layoutURL=PortalUtil.getLayoutActualURL(layout,urlPrefix);
      url.addElement("loc").addText(encodeXML(layoutURL));
      String changefreq=props.getProperty("sitemap-changefreq");
      if (Validator.isNotNull(changefreq)) {
        url.addElement("changefreq").addText(changefreq);
      }
      String priority=props.getProperty("sitemap-priority");
      if (Validator.isNotNull(priority)) {
        url.addElement("priority").addText(priority);
      }
      List children=layout.getChildren();
      _visitLayouts(element,children,urlPrefix);
    }
  }
}
