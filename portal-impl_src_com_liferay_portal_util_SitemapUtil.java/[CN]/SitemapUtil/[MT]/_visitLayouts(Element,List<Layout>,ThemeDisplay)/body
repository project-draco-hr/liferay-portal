{
  for (  Layout layout : layouts) {
    UnicodeProperties props=layout.getTypeSettingsProperties();
    if (PortalUtil.isLayoutSitemapable(layout) && !layout.isHidden() && GetterUtil.getBoolean(props.getProperty("sitemap-include"),true)) {
      Element url=element.addElement("url");
      String layoutURL=PortalUtil.getLayoutURL(layout,themeDisplay);
      if (!HttpUtil.hasDomain(layoutURL)) {
        layoutURL=themeDisplay.getPortalURL() + layoutURL;
      }
      url.addElement("loc").addText(encodeXML(layoutURL));
      String changefreq=props.getProperty("sitemap-changefreq");
      if (Validator.isNotNull(changefreq)) {
        url.addElement("changefreq").addText(changefreq);
      }
      String priority=props.getProperty("sitemap-priority");
      if (Validator.isNotNull(priority)) {
        url.addElement("priority").addText(priority);
      }
      List<Layout> children=layout.getChildren();
      _visitLayouts(element,children,themeDisplay);
    }
  }
}
