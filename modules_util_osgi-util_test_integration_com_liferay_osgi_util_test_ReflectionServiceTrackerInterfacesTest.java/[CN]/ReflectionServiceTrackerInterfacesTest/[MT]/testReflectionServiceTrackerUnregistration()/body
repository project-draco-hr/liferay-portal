{
  TestInterface testInterface=new TestInterface();
  ReflectionServiceTracker reflectionServiceTracker=new ReflectionServiceTracker(testInterface);
  Assert.assertNotNull(testInterface.getTrackedOne());
  Assert.assertNotNull(testInterface.getTrackedTwo());
  TrackedOne trackedOne=new TrackedOne();
  ServiceRegistration<InterfaceOne> sr1=registerService(InterfaceOne.class,trackedOne,0);
  TrackedTwo trackedTwo=new TrackedTwo();
  ServiceRegistration<InterfaceTwo> sr2=registerService(InterfaceTwo.class,trackedTwo,0);
  Assert.assertEquals(trackedOne,testInterface.getTrackedOne());
  Assert.assertEquals(trackedTwo,testInterface.getTrackedTwo());
  sr1.unregister();
  sr2.unregister();
  Assert.assertNotNull(testInterface.getTrackedOne());
  Assert.assertNotNull(testInterface.getTrackedTwo());
  reflectionServiceTracker.close();
}
