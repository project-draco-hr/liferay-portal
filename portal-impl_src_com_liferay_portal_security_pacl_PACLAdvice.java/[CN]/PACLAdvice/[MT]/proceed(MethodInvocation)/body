{
  ClassLoader contextClassLoader=PACLClassLoaderUtil.getContextClassLoader();
  Object thisObject=methodInvocation.getThis();
  Class<?> clazz=thisObject.getClass();
  ClassLoader classLoader=PACLClassLoaderUtil.getClassLoader(clazz);
  try {
    if (contextClassLoader != classLoader) {
      PACLClassLoaderUtil.setContextClassLoader(classLoader);
    }
    return methodInvocation.proceed();
  }
  finally {
    if (contextClassLoader != classLoader) {
      PACLClassLoaderUtil.setContextClassLoader(contextClassLoader);
    }
  }
}
