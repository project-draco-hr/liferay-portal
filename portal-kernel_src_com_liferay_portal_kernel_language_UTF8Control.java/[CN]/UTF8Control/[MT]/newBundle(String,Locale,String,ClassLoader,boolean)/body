{
  URL url=classLoader.getResource(toResourceName(toBundleName(baseName,locale),"properties"));
  if (url == null) {
    return null;
  }
  URLConnection urlConnection=url.openConnection();
  urlConnection.setUseCaches(!reload);
  if (!reload) {
    CachedResourceBundle cachedResourceBundle=_cachedResourceBundles.get(url);
    if (cachedResourceBundle != null) {
      if (urlConnection.getLastModified() <= cachedResourceBundle.getLastModified()) {
        return cachedResourceBundle.getResourceBundle();
      }
    }
  }
  try (InputStream inputStream=urlConnection.getInputStream()){
    ResourceBundle resourceBundle=new PropertyResourceBundle(new InputStreamReader(inputStream,StringPool.UTF8));
    CachedResourceBundle cachedResourceBundle=new CachedResourceBundle(resourceBundle,urlConnection.getLastModified());
    _cachedResourceBundles.put(url,cachedResourceBundle);
    return resourceBundle;
  }
 }
