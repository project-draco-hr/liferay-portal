{
  Parameters requireCapabilityHeaders=new Parameters(analyzer.getProperty(Constants.REQUIRE_CAPABILITY));
  Parameters parameters=new Parameters();
  Attrs attrs=new Attrs();
  Version portalSpringExtenderVersion=Version.parseVersion(portalSpringExtenderJar.getVersion());
  StringBuilder sb=new StringBuilder();
  sb.append("(&(");
  sb.append(_LIFERAY_EXTENDER);
  sb.append("=spring.extender)(version>=");
  sb.append(portalSpringExtenderVersion.getMajor());
  sb.append(".0)(!(version>=");
  sb.append(portalSpringExtenderVersion.getMajor() + 1);
  sb.append(".0)))");
  attrs.put(Constants.FILTER_DIRECTIVE,sb.toString());
  parameters.add(_LIFERAY_EXTENDER,attrs);
  requireCapabilityHeaders.mergeWith(parameters,false);
  analyzer.setProperty(Constants.REQUIRE_CAPABILITY,requireCapabilityHeaders.toString());
}
