{
  WikiTestUtil.addPage(TestPropsValues.getUserId(),_group.getGroupId(),_node.getNodeId(),"A",true);
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  WikiPageLocalServiceUtil.renamePage(TestPropsValues.getUserId(),_node.getNodeId(),"A","B",true,serviceContext);
  WikiPageLocalServiceUtil.renamePage(TestPropsValues.getUserId(),_node.getNodeId(),"A","C",true,serviceContext);
  WikiPage pageA=WikiPageLocalServiceUtil.getPage(_node.getNodeId(),"A");
  WikiPage pageB=WikiPageLocalServiceUtil.getPage(_node.getNodeId(),"B");
  WikiPage pageC=WikiPageLocalServiceUtil.getPage(_node.getNodeId(),"C");
  Assert.assertEquals(pageA.getRedirectTitle(),"C");
  Assert.assertEquals(pageB.getRedirectTitle(),StringPool.BLANK);
  Assert.assertEquals(pageC.getRedirectTitle(),StringPool.BLANK);
  Assert.assertEquals(pageA.getSummary(),"Renamed to C");
  Assert.assertEquals(pageB.getSummary(),"Summary");
  Assert.assertEquals(pageC.getSummary(),StringPool.BLANK);
  Assert.assertEquals(pageA.getContent(),"[[C]]");
  Assert.assertEquals(pageC.getContent(),"[[B]]");
}
