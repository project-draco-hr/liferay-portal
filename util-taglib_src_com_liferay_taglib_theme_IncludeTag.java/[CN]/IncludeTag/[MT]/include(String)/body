{
  ServletContext servletContext=getServletContext();
  HttpServletRequest request=getServletRequest();
  Theme theme=(Theme)request.getAttribute(WebKeys.THEME);
  ComponentContext componentContext=(ComponentContext)request.getAttribute(ComponentConstants.COMPONENT_CONTEXT);
  if (componentContext != null) {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    themeDisplay.setTilesTitle((String)componentContext.getAttribute("title"));
    themeDisplay.setTilesContent((String)componentContext.getAttribute("content"));
    themeDisplay.setTilesSelectable(GetterUtil.getBoolean((String)componentContext.getAttribute("selectable")));
  }
  ThemeUtil.include(servletContext,request,new PipingServletResponse(pageContext),pageContext,page,theme);
}
