{
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  jsonObject.put("extraPlugins","plugin1,plugin2,plugin3");
  jsonObject.put("toolbars",getToolbarsWithCameraHlineButtonJSONObject());
  WikiAttachmentAlloyEditorEditorConfigContributor wikiAttachmentAlloyEditorEditorConfigContributor=new WikiAttachmentAlloyEditorEditorConfigContributor();
  wikiAttachmentAlloyEditorEditorConfigContributor.removeImageButton(jsonObject);
  Assert.assertEquals(2,jsonObject.length());
  Assert.assertEquals("plugin1,plugin2,plugin3",jsonObject.getString("extraPlugins"));
  JSONObject toolbarsJSONObject=jsonObject.getJSONObject("toolbars");
  JSONObject addJSONObject=toolbarsJSONObject.getJSONObject("add");
  JSONArray buttonsJSONArray=addJSONObject.getJSONArray("buttons");
  Assert.assertEquals(2,buttonsJSONArray.length());
  for (int i=0; i < buttonsJSONArray.length(); i++) {
    String button=buttonsJSONArray.getString(i);
    if (!button.equals("camera") && !button.equals("hline")) {
      Assert.fail(button + " should not be in toolbar");
    }
  }
}
