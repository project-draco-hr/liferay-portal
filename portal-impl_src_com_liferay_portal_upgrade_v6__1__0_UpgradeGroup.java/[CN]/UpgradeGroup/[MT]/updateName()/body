{
  long organizationClassNameId=getClassNameId(Organization.class.getName());
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  try {
    con=DataAccess.getConnection();
    StringBundler sb=new StringBundler(4);
    sb.append("select Group_.groupId, Group_.classPK, ");
    sb.append("Organization_.name from Group_ inner join ");
    sb.append("Organization_ on Organization_.organizationId = ");
    sb.append("Group_.classPK where classNameId = ?");
    String sql=sb.toString();
    ps=con.prepareStatement(sql);
    ps.setLong(1,organizationClassNameId);
    rs=ps.executeQuery();
    while (rs.next()) {
      long groupId=rs.getLong("groupId");
      long classPK=rs.getLong("classPK");
      String name=rs.getString("name");
      runSQL("update Group_ set name = '" + classPK + _ORGANIZATION_NAME_DELIMETER+ name+ "' where groupId = "+ groupId);
    }
  }
  finally {
    DataAccess.cleanUp(con,ps,rs);
  }
  try {
    runSQL("alter_column_type Group_ name VARCHAR(150) null");
  }
 catch (  Exception e) {
    UpgradeTable upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(GroupTable.TABLE_NAME,GroupTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(GroupTable.TABLE_SQL_CREATE);
    upgradeTable.setIndexesSQL(GroupTable.TABLE_SQL_ADD_INDEXES);
    upgradeTable.updateTable();
  }
}
