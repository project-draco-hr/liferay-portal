{
  long groupClassNameId=getClassNameId("com.liferay.portal.model.Group");
  runSQL("update Group_ set site = TRUE where classNameId = " + groupClassNameId);
  long organizationClassNameId=getClassNameId("com.liferay.portal.model.Organization");
  try (PreparedStatement ps=connection.prepareStatement("select distinct Group_.groupId from Group_ inner join " + "Layout on Layout.groupId = Group_.groupId where " + "classNameId = ?")){
    ps.setLong(1,organizationClassNameId);
    try (ResultSet rs=ps.executeQuery()){
      while (rs.next()) {
        long groupId=rs.getLong("groupId");
        runSQL("update Group_ set site = TRUE where groupId = " + groupId);
      }
    }
   }
 }
