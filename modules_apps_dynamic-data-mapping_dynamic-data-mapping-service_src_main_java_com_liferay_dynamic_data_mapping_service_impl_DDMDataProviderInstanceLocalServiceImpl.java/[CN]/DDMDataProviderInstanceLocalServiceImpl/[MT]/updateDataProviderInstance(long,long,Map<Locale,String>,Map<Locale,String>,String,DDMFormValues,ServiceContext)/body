{
  User user=userPersistence.findByPrimaryKey(userId);
  ddmFormValuesValidator.validate(ddmFormValues);
  validateName(nameMap);
  DDMDataProviderInstance ddmDataProviderInstance=ddmDataProviderInstancePersistence.findByPrimaryKey(dataProviderInstanceId);
  ddmDataProviderInstance.setUserId(user.getUserId());
  ddmDataProviderInstance.setUserName(user.getFullName());
  ddmDataProviderInstance.setDefinition(definition);
  ddmDataProviderInstance.setDescriptionMap(descriptionMap);
  ddmDataProviderInstance.setNameMap(nameMap);
  ddmDataProviderInstancePersistence.update(ddmDataProviderInstance);
  return ddmDataProviderInstance;
}
