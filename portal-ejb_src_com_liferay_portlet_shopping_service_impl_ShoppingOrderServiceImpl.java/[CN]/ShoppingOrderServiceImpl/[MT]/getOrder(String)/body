{
  ShoppingOrder order=ShoppingOrderUtil.findByPrimaryKey(orderId);
  if (!order.getUserId().equals(getUserId()) && !hasAdmin(orderId)) {
    throw new PrincipalException();
  }
  return order;
}
