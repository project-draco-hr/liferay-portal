{
  if (!hasAdmin(orderId)) {
    throw new PrincipalException();
  }
  ShoppingOrder order=ShoppingOrderUtil.findByPrimaryKey(orderId);
  ShoppingOrderLocalServiceUtil.sendOrderEmail(order,true);
}
