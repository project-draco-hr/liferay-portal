{
  long layoutRevisionId=ParamUtil.getLong(actionRequest,"mergeLayoutRevisionId");
  LayoutRevision layoutRevision=LayoutRevisionLocalServiceUtil.getLayoutRevision(layoutRevisionId);
  String variationName=ParamUtil.getString(actionRequest,"variationName",layoutRevision.getVariationName());
  ServiceContext serviceContext=ServiceContextFactory.getInstance(actionRequest);
  LayoutRevisionServiceUtil.addLayoutRevision(serviceContext.getUserId(),layoutRevision.getLayoutSetBranchId(),LayoutRevisionConstants.DEFAULT_PARENT_LAYOUT_REVISION_ID,false,variationName,layoutRevision.getPlid(),layoutRevision.isPrivateLayout(),layoutRevision.getName(),layoutRevision.getTitle(),layoutRevision.getDescription(),layoutRevision.getKeywords(),layoutRevision.getRobots(),layoutRevision.getTypeSettings(),layoutRevision.getIconImage(),layoutRevision.getIconImageId(),layoutRevision.getThemeId(),layoutRevision.getColorSchemeId(),layoutRevision.getWapThemeId(),layoutRevision.getWapColorSchemeId(),layoutRevision.getCss(),serviceContext);
}
