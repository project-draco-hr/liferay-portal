{
  long incompleteLayoutRevisionId=ParamUtil.getLong(actionRequest,"incompleteLayoutRevisionId");
  LayoutRevision incompleteLayoutRevision=LayoutRevisionLocalServiceUtil.getLayoutRevision(incompleteLayoutRevisionId);
  String variationName=ParamUtil.getString(actionRequest,"variationName",incompleteLayoutRevision.getVariationName());
  ServiceContext serviceContext=ServiceContextFactory.getInstance(actionRequest);
  serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  LayoutRevisionLocalServiceUtil.addLayoutRevision(serviceContext.getUserId(),incompleteLayoutRevision.getLayoutSetBranchId(),incompleteLayoutRevision.getLayoutRevisionId(),false,variationName,incompleteLayoutRevision.getPlid(),incompleteLayoutRevision.isPrivateLayout(),incompleteLayoutRevision.getName(),incompleteLayoutRevision.getTitle(),incompleteLayoutRevision.getDescription(),incompleteLayoutRevision.getKeywords(),incompleteLayoutRevision.getRobots(),incompleteLayoutRevision.getTypeSettings(),incompleteLayoutRevision.getIconImage(),incompleteLayoutRevision.getIconImageId(),incompleteLayoutRevision.getThemeId(),incompleteLayoutRevision.getColorSchemeId(),incompleteLayoutRevision.getWapThemeId(),incompleteLayoutRevision.getWapColorSchemeId(),incompleteLayoutRevision.getCss(),serviceContext);
}
