{
  long incompleteLayoutRevisionId=ParamUtil.getLong(actionRequest,"incompleteLayoutRevisionId");
  LayoutRevision incompleteLayoutRevision=LayoutRevisionLocalServiceUtil.getLayoutRevision(incompleteLayoutRevisionId);
  long layoutBranchId=ParamUtil.getLong(actionRequest,"layoutBranchId",incompleteLayoutRevision.getLayoutBranchId());
  ServiceContext serviceContext=ServiceContextFactory.getInstance(actionRequest);
  serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  LayoutRevisionLocalServiceUtil.updateLayoutRevision(serviceContext.getUserId(),incompleteLayoutRevision.getLayoutRevisionId(),layoutBranchId,incompleteLayoutRevision.getName(),incompleteLayoutRevision.getTitle(),incompleteLayoutRevision.getDescription(),incompleteLayoutRevision.getKeywords(),incompleteLayoutRevision.getRobots(),incompleteLayoutRevision.getTypeSettings(),incompleteLayoutRevision.getIconImage(),incompleteLayoutRevision.getIconImageId(),incompleteLayoutRevision.getThemeId(),incompleteLayoutRevision.getColorSchemeId(),incompleteLayoutRevision.getWapThemeId(),incompleteLayoutRevision.getWapColorSchemeId(),incompleteLayoutRevision.getCss(),serviceContext);
}
