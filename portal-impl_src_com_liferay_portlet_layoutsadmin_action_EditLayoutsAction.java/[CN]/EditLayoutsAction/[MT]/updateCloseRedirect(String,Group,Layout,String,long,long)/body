{
  if (Validator.isNull(closeRedirect) || Validator.isNull(oldLayoutFriendlyURL)) {
    return closeRedirect;
  }
  if ((plid == 0 || refererPlid == 0) && plid == refererPlid) {
    closeRedirect=HttpUtil.removeParameter(closeRedirect,"refererPlid");
  }
  if (layout != null) {
    String oldPath=oldLayoutFriendlyURL;
    String newPath=layout.getFriendlyURL();
    return PortalUtil.updateRedirect(closeRedirect,oldPath,newPath);
  }
 else   if (group != null) {
    String oldPath=group.getFriendlyURL() + oldLayoutFriendlyURL;
    String newPath=group.getFriendlyURL();
    return PortalUtil.updateRedirect(closeRedirect,oldPath,newPath);
  }
  return closeRedirect;
}
