{
  if (_ratingsDataTransformer == null) {
    return;
  }
  for (  String portletId : RatingsDataTransformerHelperUtil.getPortletIds()) {
    String[] classNames=RatingsDataTransformerHelperUtil.getClassNames(portletId);
    for (    String className : classNames) {
      String propertyName=className + StringPool.UNDERLINE + "RatingsType";
      String fromRatingsType=oldProperties.getProperty(propertyName);
      String toRatingsType=properties.getProperty(propertyName);
      if (Validator.isNotNull(fromRatingsType) && Validator.isNotNull(toRatingsType) && !fromRatingsType.equals(toRatingsType)) {
        classNames=ArrayUtil.append(classNames,className);
      }
      if (ArrayUtil.isNotEmpty(classNames)) {
        _ratingsDataTransformer.transformGroupRatingsData(groupId,fromRatingsType,toRatingsType,classNames);
      }
    }
  }
}
