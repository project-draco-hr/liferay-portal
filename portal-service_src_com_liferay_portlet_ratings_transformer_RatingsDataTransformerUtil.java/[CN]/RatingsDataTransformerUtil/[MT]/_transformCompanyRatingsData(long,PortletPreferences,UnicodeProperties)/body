{
  RatingsDataTransformer ratingsDataTransformer=_serviceTracker.getService();
  if (ratingsDataTransformer == null) {
    return;
  }
  for (  String portletId : PortletRatingsDefinitionUtil.getPortletIds()) {
    String[] classNames=PortletRatingsDefinitionUtil.getClassNames(portletId);
    for (    final String className : classNames) {
      String propertyKey=_getPropertyKey(className);
      _transformRatingsData("companyId",companyId,className,oldPortletPreferences.getValue(propertyKey,StringPool.BLANK),properties.getProperty(propertyKey));
    }
  }
}
