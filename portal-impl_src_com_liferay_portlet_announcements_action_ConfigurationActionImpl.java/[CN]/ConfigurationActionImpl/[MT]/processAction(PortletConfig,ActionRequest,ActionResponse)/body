{
  try {
    String cmd=ParamUtil.getString(req,Constants.CMD);
    if (!cmd.equals(Constants.UPDATE)) {
      return;
    }
    String content=ParamUtil.getString(req,"content");
    if (Validator.isNull(content)) {
      throw new AnnouncementsContentException();
    }
    String portletResource=ParamUtil.getString(req,"portletResource");
    String languageId=LanguageUtil.getLanguageId(req);
    PortletPreferences prefs=PortletPreferencesFactoryUtil.getPortletSetup(req,portletResource,false,false);
    LocalizationUtil.setPrefsValue(prefs,"content",languageId,content);
    prefs.store();
    SessionMessages.add(req,config.getPortletName() + ".doConfigure");
  }
 catch (  AnnouncementsContentException ace) {
    SessionErrors.add(req,ace.getClass().getName());
  }
}
