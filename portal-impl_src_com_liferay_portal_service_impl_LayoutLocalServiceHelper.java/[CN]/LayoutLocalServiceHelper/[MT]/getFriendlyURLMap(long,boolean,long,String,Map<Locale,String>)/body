{
  Map<Locale,String> newFriendlyURLMap=new HashMap<Locale,String>();
  Locale[] locales=LanguageUtil.getAvailableLocales(groupId);
  for (  Locale locale : locales) {
    String friendlyURL=friendlyURLMap.get(locale);
    if (Validator.isNotNull(friendlyURL)) {
      friendlyURL=getFriendlyURL(groupId,privateLayout,layoutId,name,friendlyURL);
      newFriendlyURLMap.put(locale,friendlyURL);
    }
  }
  Locale siteDefaultLocale=LocaleUtil.getSiteDefault();
  if (newFriendlyURLMap.isEmpty() || Validator.isNull(newFriendlyURLMap.get(siteDefaultLocale))) {
    String friendlyURL=getFriendlyURL(groupId,privateLayout,layoutId,name,StringPool.BLANK);
    newFriendlyURLMap.put(siteDefaultLocale,friendlyURL);
  }
  return newFriendlyURLMap;
}
