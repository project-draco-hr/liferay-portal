{
  if (Validator.isNull(friendlyURL)) {
    return;
  }
  int exceptionType=LayoutImpl.validateFriendlyURL(friendlyURL);
  if (exceptionType != -1) {
    throw new LayoutFriendlyURLException(exceptionType);
  }
  List<LayoutFriendlyURL> layoutFriendlyURLs=layoutFriendlyURLPersistence.findByG_P_F(groupId,privateLayout,friendlyURL);
  for (  LayoutFriendlyURL layoutFriendlyURL : layoutFriendlyURLs) {
    Layout layout=layoutPersistence.findByPrimaryKey(layoutFriendlyURL.getPlid());
    if (layout.getLayoutId() != layoutId) {
      throw new LayoutFriendlyURLException(LayoutFriendlyURLException.DUPLICATE);
    }
  }
  LayoutImpl.validateFriendlyURLKeyword(friendlyURL);
  String layoutIdFriendlyURL=friendlyURL.substring(1);
  if (Validator.isNumber(layoutIdFriendlyURL) && !layoutIdFriendlyURL.equals(String.valueOf(layoutId))) {
    LayoutFriendlyURLException lfurle=new LayoutFriendlyURLException(LayoutFriendlyURLException.POSSIBLE_DUPLICATE);
    lfurle.setKeywordConflict(layoutIdFriendlyURL);
    throw lfurle;
  }
}
