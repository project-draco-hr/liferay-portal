{
  for (  File file : dir.listFiles()) {
    if (file.isDirectory()) {
      processFiles(file,uri,classPath,portalDependencyJars);
      continue;
    }
    URI relativizedURI=uri.relativize(file.toURI());
    String path=relativizedURI.getPath();
    if (ArrayUtil.contains(PropsValues.MODULE_FRAMEWORK_WEB_GENERATOR_EXCLUDED_PATHS,path)) {
      continue;
    }
    if (path.equals("WEB-INF/service.xml")) {
      processServicePackageName(uri,file);
    }
    if (path.startsWith("WEB-INF/lib/")) {
      if (path.endsWith("-service.jar")) {
        if (path.endsWith(_context.concat("-service.jar"))) {
          expandServiceJarIntoClassesDir(uri,file);
        }
        _ignoredResources.add(path);
        continue;
      }
      String jar=path.substring("WEB-INF/lib/".length());
      if (ArrayUtil.contains(portalDependencyJars,jar)) {
        _ignoredResources.add(path);
        continue;
      }
      classPath.put(path,file);
    }
 else     if (path.endsWith(".jsp") || path.endsWith(".jspf")) {
      _importPackageNames.addAll(processJSPDependencies(file));
    }
  }
}
