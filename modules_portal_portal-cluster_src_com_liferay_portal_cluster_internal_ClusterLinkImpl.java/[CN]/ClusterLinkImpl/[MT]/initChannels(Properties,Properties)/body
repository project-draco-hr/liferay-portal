{
  _channelCount=transportChannelProperties.size();
  if ((_channelCount <= 0) || (_channelCount > MAX_CHANNEL_COUNT)) {
    throw new IllegalArgumentException("Channel count must be between 1 and " + MAX_CHANNEL_COUNT);
  }
  _localAddresses=new ArrayList<>(_channelCount);
  _clusterChannels=new ArrayList<>(_channelCount);
  _clusterReceivers=new ArrayList<>(_channelCount);
  List<String> keys=new ArrayList<>(transportChannelProperties.stringPropertyNames());
  Collections.sort(keys);
  for (  String customName : keys) {
    String channelProperties=transportChannelProperties.getProperty(customName);
    String channelName=transportChannelNames.getProperty(customName);
    if (Validator.isNull(channelProperties) || Validator.isNull(channelName)) {
      continue;
    }
    ClusterReceiver clusterReceiver=new ClusterForwardReceiver(this);
    ClusterChannel clusterChannel=_clusterChannelFactory.createClusterChannel(channelProperties,channelName,clusterReceiver);
    _clusterReceivers.add(clusterReceiver);
    _localAddresses.add(clusterChannel.getLocalAddress());
    _clusterChannels.add(clusterChannel);
  }
}
