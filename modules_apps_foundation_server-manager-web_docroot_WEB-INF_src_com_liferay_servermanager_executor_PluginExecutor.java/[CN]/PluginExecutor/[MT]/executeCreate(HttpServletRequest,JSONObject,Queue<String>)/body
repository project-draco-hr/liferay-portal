{
  AutoDeploymentContext autoDeploymentContext=new AutoDeploymentContext();
  String context=arguments.poll();
  autoDeploymentContext.setContext(context);
  File tempFile=getTempFile(request,responseJSONObject);
  if (tempFile == null) {
    return;
  }
  autoDeploymentContext.setFile(tempFile);
  DeployManagerUtil.deploy(autoDeploymentContext);
  boolean success=FileUtils.deleteQuietly(tempFile.getParentFile());
  if (success) {
    return;
  }
  String message="Unable to remove temp directory " + tempFile.getParentFile();
  _log.error(message);
  responseJSONObject.put(JSONKeys.ERROR,message);
  success=FileUtils.deleteQuietly(tempFile);
  if (success) {
    return;
  }
  message="Unable to remove temp file " + tempFile;
  _log.error(message);
  responseJSONObject.put(JSONKeys.ERROR,message);
}
