{
  Project project=getProject();
  ExtensionContainer extensionContainer=project.getExtensions();
  ServiceBuilderBean serviceBuilderBean=extensionContainer.findByType(ServiceBuilderBean.class);
  if (serviceBuilderBean == null) {
    serviceBuilderBean=new ServiceBuilderBean();
  }
  try {
    ServiceBuilder serviceBuilder=ServiceBuilderInvoker.invoke(serviceBuilderBean);
    Set<String> modifiedFiles=serviceBuilder.getModifiedFiles();
    ExtraPropertiesExtension extraProperties=extensionContainer.getExtraProperties();
    extraProperties.set(ServiceBuilder.MODIFIED_FILES_ATTRIBUTE,modifiedFiles);
  }
 catch (  Exception e) {
    throw new GradleException(e.getMessage(),e);
  }
}
