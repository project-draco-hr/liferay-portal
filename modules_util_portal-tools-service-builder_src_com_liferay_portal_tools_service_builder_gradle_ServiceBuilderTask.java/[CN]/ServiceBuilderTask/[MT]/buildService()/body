{
  Project project=getProject();
  ExtensionContainer extensionContainer=project.getExtensions();
  ServiceBuilderArgs serviceBuilderArgs=extensionContainer.findByType(ServiceBuilderArgs.class);
  if (serviceBuilderArgs == null) {
    serviceBuilderArgs=new ServiceBuilderArgs();
  }
  try {
    ServiceBuilder serviceBuilder=ServiceBuilderInvoker.invoke(project.getProjectDir(),serviceBuilderArgs);
    Set<String> modifiedFileNames=serviceBuilder.getModifiedFileNames();
    ExtraPropertiesExtension extraProperties=extensionContainer.getExtraProperties();
    extraProperties.set(ServiceBuilder.OUTPUT_KEY_MODIFIED_FILES,modifiedFileNames);
  }
 catch (  Exception e) {
    throw new GradleException(e.getMessage(),e);
  }
}
