{
  StringWriter sw=new StringWriter();
  UnsyncPrintWriter writer=new UnsyncPrintWriter(sw);
  writer.write('a');
  assertEquals("a",sw.toString());
  writer.write('b');
  assertEquals("ab",sw.toString());
  writer.write(new char[]{'c','d'});
  assertEquals("abcd",sw.toString());
  writer.write(new char[]{'e','f'});
  assertEquals("abcdef",sw.toString());
  writer.write(new char[]{'e','f','g','h','i','j'},2,2);
  assertEquals("abcdefgh",sw.toString());
  writer.write(new char[]{'g','h','i','j','k','l'},2,2);
  assertEquals("abcdefghij",sw.toString());
  writer.write("kl");
  assertEquals("abcdefghijkl",sw.toString());
  writer.write("mn");
  assertEquals("abcdefghijklmn",sw.toString());
  writer.write("mnopqr",2,2);
  assertEquals("abcdefghijklmnop",sw.toString());
  writer.write("opqrst",2,2);
  assertEquals("abcdefghijklmnopqr",sw.toString());
}
