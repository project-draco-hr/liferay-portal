{
  StringWriter sw=new StringWriter();
  UnsyncPrintWriter writer=new UnsyncPrintWriter(sw);
  assertEquals(sw,_getOut(writer));
  assertFalse(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(sw,false);
  assertEquals(sw,_getOut(writer));
  assertFalse(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(sw,true);
  assertEquals(sw,_getOut(writer));
  assertTrue(_isAutoFlush(writer));
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  writer=new UnsyncPrintWriter(baos);
  assertTrue(_getOut(writer) instanceof OutputStreamWriter);
  assertFalse(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(baos,false);
  assertTrue(_getOut(writer) instanceof OutputStreamWriter);
  assertFalse(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(baos,true);
  assertTrue(_getOut(writer) instanceof OutputStreamWriter);
  assertTrue(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(_testFileName);
  assertTrue(_getOut(writer) instanceof FileWriter);
  assertFalse(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(_testFileName,"UTF8");
  assertTrue(_getOut(writer) instanceof OutputStreamWriter);
  assertFalse(_isAutoFlush(writer));
  OutputStreamWriter osw=(OutputStreamWriter)_getOut(writer);
  assertEquals("UTF8",osw.getEncoding());
  writer=new UnsyncPrintWriter(new File(_testFileName));
  assertTrue(_getOut(writer) instanceof FileWriter);
  assertFalse(_isAutoFlush(writer));
  writer=new UnsyncPrintWriter(new File(_testFileName),"UTF8");
  assertTrue(_getOut(writer) instanceof OutputStreamWriter);
  assertFalse(_isAutoFlush(writer));
  osw=(OutputStreamWriter)_getOut(writer);
  assertEquals("UTF8",osw.getEncoding());
}
