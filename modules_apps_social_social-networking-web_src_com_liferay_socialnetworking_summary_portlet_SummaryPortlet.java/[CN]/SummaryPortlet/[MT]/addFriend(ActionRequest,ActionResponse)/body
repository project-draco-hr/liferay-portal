{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Group group=GroupLocalServiceUtil.getGroup(themeDisplay.getScopeGroupId());
  User user=UserLocalServiceUtil.getUserById(group.getClassPK());
  JSONObject extraDataJSONObject=getExtraDataJSONObject(actionRequest);
  String addFriendMessage=ParamUtil.getString(actionRequest,"addFriendMessage");
  extraDataJSONObject.put("addFriendMessage",addFriendMessage);
  SocialRequestLocalServiceUtil.addRequest(themeDisplay.getUserId(),0,User.class.getName(),themeDisplay.getUserId(),FriendsRequestKeys.ADD_FRIEND,extraDataJSONObject.toString(),user.getUserId());
}
