{
  HttpAuthorizationHeader httpAuthorizationHeader=HttpAuthManagerUtil.parse(request);
  if (httpAuthorizationHeader == null) {
    return 0;
  }
  String scheme=httpAuthorizationHeader.getScheme();
  if (!StringUtil.equalsIgnoreCase(scheme,HttpAuthorizationHeader.SCHEME_DIGEST)) {
    return 0;
  }
  return getUserId(request,httpAuthorizationHeader);
}
