{
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  try {
    con=DataAccess.getConnection();
    if (isSupportsUpdateWithInnerJoin()) {
      ps=con.prepareStatement(_DELETE_ROLES_PERMISSIONS_SQL);
      ps.setString(1,className);
      ps.executeUpdate();
    }
 else {
      ps=con.prepareStatement(_GET_ROLES_PERMISSIONS_SQL);
      ps.setString(1,className);
      rs=ps.executeQuery();
      while (rs.next()) {
        long roleId=rs.getLong("roleId");
        long permissionId=rs.getLong("permissionId");
        runSQL("delete from Roles_Permissions where roleId = " + roleId + " and permissionId = "+ permissionId);
      }
    }
  }
  finally {
    DataAccess.cleanUp(con,ps);
  }
}
