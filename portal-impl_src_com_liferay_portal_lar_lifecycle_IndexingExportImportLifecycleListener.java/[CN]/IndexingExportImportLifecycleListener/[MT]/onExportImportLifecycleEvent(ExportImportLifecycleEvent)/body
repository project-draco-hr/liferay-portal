{
  int code=exportImportLifecycleEvent.getCode();
  boolean isLayoutImportInProcess=exportImportLifecycleEvent.getProcessFlag(ExportImportLifecycleConstants.PROCESS_FLAG_LAYOUT_IMPORT_IN_PROCESS);
  boolean isPortletImportInProcess=exportImportLifecycleEvent.getProcessFlag(ExportImportLifecycleConstants.PROCESS_FLAG_PORTLET_IMPORT_IN_PROCESS);
  if (((code != ExportImportLifecycleConstants.EVENT_LAYOUT_IMPORT_SUCCEEDED) || !isLayoutImportInProcess) && ((code != ExportImportLifecycleConstants.EVENT_PORTLET_IMPORT_SUCCEEDED) || !isPortletImportInProcess)) {
    return;
  }
  List<Serializable> attributes=exportImportLifecycleEvent.getAttributes();
  if (ListUtil.isEmpty(attributes)) {
    return;
  }
  PortletDataContext portletDataContext=(PortletDataContext)attributes.get(0);
  if (portletDataContext == null) {
    return;
  }
  long userId=0;
  if (attributes.size() == 2) {
    userId=GetterUtil.getLong(attributes.get(1));
  }
  reindex(portletDataContext,userId);
}
