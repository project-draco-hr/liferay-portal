{
  boolean layoutImportInProcess=exportImportLifecycleEvent.getProcessFlag(ExportImportLifecycleConstants.PROCESS_FLAG_LAYOUT_IMPORT_IN_PROCESS);
  boolean portletImportInProcess=exportImportLifecycleEvent.getProcessFlag(ExportImportLifecycleConstants.PROCESS_FLAG_PORTLET_IMPORT_IN_PROCESS);
  if (((exportImportLifecycleEvent.getCode() != ExportImportLifecycleConstants.EVENT_LAYOUT_IMPORT_SUCCEEDED) || !layoutImportInProcess) && ((exportImportLifecycleEvent.getCode() != ExportImportLifecycleConstants.EVENT_PORTLET_IMPORT_SUCCEEDED) || !portletImportInProcess)) {
    return;
  }
  List<Serializable> attributes=exportImportLifecycleEvent.getAttributes();
  if (ListUtil.isEmpty(attributes)) {
    return;
  }
  PortletDataContext portletDataContext=(PortletDataContext)attributes.get(0);
  if (portletDataContext == null) {
    return;
  }
  long userId=0;
  if (attributes.size() == 2) {
    userId=GetterUtil.getLong(attributes.get(1));
  }
  reindex(portletDataContext,userId);
}
