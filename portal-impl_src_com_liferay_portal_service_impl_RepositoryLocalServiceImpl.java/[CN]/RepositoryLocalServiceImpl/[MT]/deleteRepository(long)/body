{
  Repository repository=repositoryPersistence.fetchByPrimaryKey(repositoryId);
  if (repository == null) {
    return null;
  }
  LocalRepository localRepository=repositoryProvider.getLocalRepository(repositoryId);
  if (localRepository.isCapabilityProvided(RepositoryEventTriggerCapability.class)) {
    RepositoryEventTriggerCapability repositoryEventTriggerCapability=localRepository.getCapability(RepositoryEventTriggerCapability.class);
    repositoryEventTriggerCapability.trigger(RepositoryEventType.Delete.class,LocalRepository.class,localRepository);
  }
  return repositoryLocalService.deleteRepository(repository);
}
