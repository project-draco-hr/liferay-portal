{
  LocalRepository localRepository=repositoryProvider.getLocalRepository(repositoryId);
  if (localRepository.isCapabilityProvided(RepositoryEventTriggerCapability.class)) {
    RepositoryEventTriggerCapability repositoryEventTriggerCapability=localRepository.getCapability(RepositoryEventTriggerCapability.class);
    repositoryEventTriggerCapability.trigger(RepositoryEventType.Delete.class,LocalRepository.class,localRepository);
  }
  Repository repository=repositoryPersistence.fetchByPrimaryKey(repositoryId);
  if (repository != null) {
    repositoryLocalService.deleteRepository(repository);
  }
  return repository;
}
