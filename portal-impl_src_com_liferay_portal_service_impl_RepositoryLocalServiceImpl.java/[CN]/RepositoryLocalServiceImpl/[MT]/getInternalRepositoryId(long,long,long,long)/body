{
  long repositoryId=0;
  if (folderId != 0) {
    DLFolder dlFolder=dlFolderLocalService.fetchDLFolder(folderId);
    if (dlFolder != null) {
      if (dlFolder.isMountPoint()) {
        repositoryId=dlFolder.getGroupId();
      }
 else {
        repositoryId=dlFolder.getRepositoryId();
      }
    }
  }
 else   if (fileEntryId != 0) {
    DLFileEntry dlFileEntry=dlFileEntryLocalService.fetchDLFileEntry(fileEntryId);
    if (dlFileEntry != null) {
      repositoryId=dlFileEntry.getRepositoryId();
    }
  }
 else   if (fileVersionId != 0) {
    DLFileVersion dlFileVersion=dlFileVersionLocalService.fetchDLFileVersion(fileVersionId);
    if (dlFileVersion != null) {
      repositoryId=dlFileVersion.getRepositoryId();
    }
  }
 else   if (fileShortcutId != 0) {
    DLFileShortcut dlFileShortcut=dlFileShortcutLocalService.fetchDLFileShortcut(fileShortcutId);
    if (dlFileShortcut != null) {
      repositoryId=dlFileShortcut.getRepositoryId();
    }
  }
 else {
    throw new InvalidRepositoryIdException("Missing a valid ID for folder, file entry, or file " + "version");
  }
  return repositoryId;
}
