{
  String name=PrincipalThreadLocal.getName();
  if (name == null) {
    throw new PrincipalException();
  }
  if (Validator.isNull(name)) {
    throw new PrincipalException("Principal cannot be null");
  }
  return GetterUtil.getLong(name);
}
