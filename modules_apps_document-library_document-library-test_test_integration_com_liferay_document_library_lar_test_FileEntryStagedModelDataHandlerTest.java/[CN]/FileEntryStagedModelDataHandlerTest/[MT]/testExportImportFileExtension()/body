{
  String sourceFileName=RandomTestUtil.randomString() + ".pdf";
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(stagingGroup.getGroupId(),TestPropsValues.getUserId());
  FileEntry fileEntry=DLAppLocalServiceUtil.addFileEntry(TestPropsValues.getUserId(),stagingGroup.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,sourceFileName,ContentTypes.APPLICATION_PDF,RandomTestUtil.randomBytes(TikaSafeRandomizerBumper.INSTANCE),serviceContext);
  exportImportStagedModel(fileEntry);
  FileEntry importedFileEntry=DLAppLocalServiceUtil.getFileEntryByUuidAndGroupId(fileEntry.getUuid(),liveGroup.getGroupId());
  Assert.assertEquals(importedFileEntry.getExtension(),"pdf");
  String title=RandomTestUtil.randomString() + ".awesome";
  DLAppServiceUtil.updateFileEntry(fileEntry.getFileEntryId(),StringPool.BLANK,ContentTypes.TEXT_PLAIN,title,StringPool.BLANK,StringPool.BLANK,false,(byte[])null,serviceContext);
  exportImportStagedModel(fileEntry);
  importedFileEntry=DLAppLocalServiceUtil.getFileEntryByUuidAndGroupId(fileEntry.getUuid(),liveGroup.getGroupId());
  Assert.assertEquals(importedFileEntry.getExtension(),"pdf");
}
