{
  if (_portletLocalService == null) {
    throw new IllegalStateException("Portlet local service not initialized");
  }
  MessageListener schedulerEventListener=(MessageListener)message.get(SchedulerEngine.MESSAGE_LISTENER);
  if (schedulerEventListener == null) {
    return;
  }
  SchedulerEventMessageListenerWrapper schedulerEventListenerWrapper=new SchedulerEventMessageListenerWrapper();
  schedulerEventListenerWrapper.setMessageListener(schedulerEventListener);
  schedulerEventListenerWrapper.afterPropertiesSet();
  _messageBus.registerMessageListener(destinationName,schedulerEventListenerWrapper);
  message.put(SchedulerEngine.MESSAGE_LISTENER_UUID,schedulerEventListenerWrapper.getMessageListenerUUID());
}
