{
  Map params=new HashMap();
  if (rewriteURL.indexOf(Constants.URL_TYPE_BLOCKINGACTION) != -1) {
    params.put(Constants.URL_TYPE,Constants.URL_TYPE_BLOCKINGACTION);
  }
 else   if (rewriteURL.indexOf(Constants.URL_TYPE_RENDER) != -1) {
    params.put(Constants.URL_TYPE,Constants.URL_TYPE_RENDER);
  }
 else   if (rewriteURL.indexOf(Constants.URL_TYPE_RESOURCE) != -1) {
    params.put(Constants.URL_TYPE,Constants.URL_TYPE_RESOURCE);
  }
 else {
  }
  int equals=0;
  int next=0;
  int end=rewriteURL.indexOf(Constants.REWRITE_END);
  int index=rewriteURL.indexOf(Constants.NEXT_PARAM);
  int lengthNext=0;
  String subNext=null;
  while (index != -1) {
    subNext=rewriteURL.substring(index,index + Constants.NEXT_PARAM_AMP.length());
    if (subNext.equals(Constants.NEXT_PARAM_AMP)) {
      lengthNext=Constants.NEXT_PARAM_AMP.length();
    }
 else {
      lengthNext=Constants.NEXT_PARAM.length();
    }
    equals=rewriteURL.indexOf(Constants.EQUALS,index + lengthNext);
    next=rewriteURL.indexOf(Constants.NEXT_PARAM,equals);
    if (equals != -1) {
      if (next != -1) {
        params.put(rewriteURL.substring(index + lengthNext,equals),rewriteURL.substring(equals + 1,next));
      }
 else {
        params.put(rewriteURL.substring(index + lengthNext,equals),rewriteURL.substring(equals + 1,end));
      }
    }
    index=next;
  }
  Set keys=params.keySet();
  String encoding=SystemProperties.get("file.encoding");
  for (Iterator i=keys.iterator(); i.hasNext(); ) {
    Object key=i.next();
    String value=(String)params.get(key);
    try {
      params.put(key,URLDecoder.decode(value,encoding));
    }
 catch (    Exception e) {
    }
  }
  return params;
}
