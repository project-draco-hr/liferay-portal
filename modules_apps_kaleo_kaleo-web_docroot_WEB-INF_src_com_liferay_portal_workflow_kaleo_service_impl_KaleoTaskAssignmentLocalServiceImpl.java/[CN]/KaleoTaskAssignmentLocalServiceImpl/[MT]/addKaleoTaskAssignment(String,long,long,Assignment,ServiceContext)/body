{
  User user=userPersistence.findByPrimaryKey(serviceContext.getGuestOrUserId());
  Date now=new Date();
  long kaleoTaskAssignmentId=counterLocalService.increment();
  KaleoTaskAssignment kaleoTaskAssignment=kaleoTaskAssignmentPersistence.create(kaleoTaskAssignmentId);
  kaleoTaskAssignment.setCompanyId(user.getCompanyId());
  kaleoTaskAssignment.setUserId(user.getUserId());
  kaleoTaskAssignment.setUserName(user.getFullName());
  kaleoTaskAssignment.setCreateDate(now);
  kaleoTaskAssignment.setModifiedDate(now);
  kaleoTaskAssignment.setKaleoClassName(kaleoClassName);
  kaleoTaskAssignment.setKaleoClassPK(kaleoClassPK);
  kaleoTaskAssignment.setKaleoDefinitionId(kaleoDefinitionId);
  setAssignee(kaleoTaskAssignment,assignment,serviceContext);
  kaleoTaskAssignmentPersistence.update(kaleoTaskAssignment);
  return kaleoTaskAssignment;
}
