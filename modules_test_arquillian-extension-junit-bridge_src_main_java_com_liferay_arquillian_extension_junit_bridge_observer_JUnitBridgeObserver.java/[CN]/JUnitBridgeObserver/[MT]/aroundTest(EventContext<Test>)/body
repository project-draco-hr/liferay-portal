{
  Test test=eventContext.getEvent();
  Statement statement=new InvokeMethod(null,test.getTestInstance()){
    @Override public void evaluate(){
      eventContext.proceed();
    }
  }
;
  TestClass arquillianTestClass=test.getTestClass();
  Class<?> clazz=arquillianTestClass.getJavaClass();
  org.junit.runners.model.TestClass junitTestClass=new org.junit.runners.model.TestClass(clazz);
  Object target=test.getTestInstance();
  statement=withBefores(statement,Before.class,junitTestClass,target);
  statement=withAfters(statement,After.class,junitTestClass,target);
  Method method=test.getTestMethod();
  statement=withRules(statement,Rule.class,junitTestClass,target,Description.createTestDescription(clazz,method.getName(),method.getAnnotations()));
  List<FrameworkMethod> frameworkMethods=new ArrayList<>(junitTestClass.getAnnotatedMethods(org.junit.Test.class));
  frameworkMethods.removeAll(junitTestClass.getAnnotatedMethods(Ignore.class));
  Collections.sort(frameworkMethods,FrameworkMethodComparator.INSTANCE);
  FrameworkMethod firstFrameworkMethod=frameworkMethods.get(0);
  Method firstMethod=firstFrameworkMethod.getMethod();
  if (firstMethod.equals(method)) {
    statement=withBefores(statement,BeforeClass.class,junitTestClass,null);
  }
  FrameworkMethod lastFrameworkMethod=frameworkMethods.get(frameworkMethods.size() - 1);
  Method lastMethod=lastFrameworkMethod.getMethod();
  if (lastMethod.equals(method)) {
    statement=withAfters(statement,AfterClass.class,junitTestClass,null);
  }
  statement=withRules(statement,ClassRule.class,junitTestClass,null,Description.createSuiteDescription(clazz));
  statement.evaluate();
}
