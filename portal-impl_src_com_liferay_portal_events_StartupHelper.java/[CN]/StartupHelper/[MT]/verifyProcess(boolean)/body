{
  int verifyFrequency=GetterUtil.getInteger(PropsUtil.get(PropsKeys.VERIFY_FREQUENCY));
  if ((verifyFrequency == VerifyProcess.ALWAYS) || ((verifyFrequency == VerifyProcess.ONCE) && !verified) || (_upgraded)) {
    if (_upgraded) {
      PropsUtil.set(PropsKeys.INDEX_ON_STARTUP,"true");
    }
    String[] verifyProcesses=PropsUtil.getArray(PropsKeys.VERIFY_PROCESSES);
    BatchSessionUtil.setEnabled(true);
    boolean tempIndexReadOnly=SearchEngineUtil.isIndexReadOnly();
    SearchEngineUtil.setIndexReadOnly(true);
    try {
      for (      String className : verifyProcesses) {
        verifyProcess(className);
      }
    }
  finally {
      BatchSessionUtil.setEnabled(false);
      SearchEngineUtil.setIndexReadOnly(tempIndexReadOnly);
    }
  }
}
