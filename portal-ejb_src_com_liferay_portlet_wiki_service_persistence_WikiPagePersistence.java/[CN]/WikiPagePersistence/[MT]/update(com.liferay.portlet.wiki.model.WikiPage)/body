{
  Session session=null;
  try {
    if (wikiPage.isNew() || wikiPage.isModified()) {
      session=openSession();
      if (wikiPage.isNew()) {
        WikiPageHBM wikiPageHBM=new WikiPageHBM();
        wikiPageHBM.setNodeId(wikiPage.getNodeId());
        wikiPageHBM.setTitle(wikiPage.getTitle());
        wikiPageHBM.setVersion(wikiPage.getVersion());
        wikiPageHBM.setCompanyId(wikiPage.getCompanyId());
        wikiPageHBM.setUserId(wikiPage.getUserId());
        wikiPageHBM.setUserName(wikiPage.getUserName());
        wikiPageHBM.setCreateDate(wikiPage.getCreateDate());
        wikiPageHBM.setContent(wikiPage.getContent());
        wikiPageHBM.setFormat(wikiPage.getFormat());
        wikiPageHBM.setHead(wikiPage.getHead());
        session.save(wikiPageHBM);
        session.flush();
      }
 else {
        WikiPageHBM wikiPageHBM=(WikiPageHBM)session.get(WikiPageHBM.class,wikiPage.getPrimaryKey());
        if (wikiPageHBM != null) {
          wikiPageHBM.setCompanyId(wikiPage.getCompanyId());
          wikiPageHBM.setUserId(wikiPage.getUserId());
          wikiPageHBM.setUserName(wikiPage.getUserName());
          wikiPageHBM.setCreateDate(wikiPage.getCreateDate());
          wikiPageHBM.setContent(wikiPage.getContent());
          wikiPageHBM.setFormat(wikiPage.getFormat());
          wikiPageHBM.setHead(wikiPage.getHead());
          session.flush();
        }
 else {
          wikiPageHBM=new WikiPageHBM();
          wikiPageHBM.setNodeId(wikiPage.getNodeId());
          wikiPageHBM.setTitle(wikiPage.getTitle());
          wikiPageHBM.setVersion(wikiPage.getVersion());
          wikiPageHBM.setCompanyId(wikiPage.getCompanyId());
          wikiPageHBM.setUserId(wikiPage.getUserId());
          wikiPageHBM.setUserName(wikiPage.getUserName());
          wikiPageHBM.setCreateDate(wikiPage.getCreateDate());
          wikiPageHBM.setContent(wikiPage.getContent());
          wikiPageHBM.setFormat(wikiPage.getFormat());
          wikiPageHBM.setHead(wikiPage.getHead());
          session.save(wikiPageHBM);
          session.flush();
        }
      }
      wikiPage.setNew(false);
      wikiPage.setModified(false);
    }
    return wikiPage;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
