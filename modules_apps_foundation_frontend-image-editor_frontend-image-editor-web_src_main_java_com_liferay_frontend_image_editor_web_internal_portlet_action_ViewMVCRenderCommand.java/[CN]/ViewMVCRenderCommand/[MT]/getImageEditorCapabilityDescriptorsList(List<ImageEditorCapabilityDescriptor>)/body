{
  Map<String,List<ImageEditorCapabilityDescriptor>> imageEditorCapabilityDescriptorsMap=new HashMap<>();
  for (  ImageEditorCapabilityDescriptor imageEditorCapabilityDescriptor : imageEditorCapabilityDescriptors) {
    Map<String,Object> properties=imageEditorCapabilityDescriptor.getProperties();
    String category=GetterUtil.getString(properties.get("com.liferay.frontend.image.editor.capability.category"));
    if (!imageEditorCapabilityDescriptorsMap.containsKey(category)) {
      imageEditorCapabilityDescriptorsMap.put(category,new ArrayList<ImageEditorCapabilityDescriptor>());
    }
    List<ImageEditorCapabilityDescriptor> curImageEditorCapabilityDescriptors=imageEditorCapabilityDescriptorsMap.get(category);
    curImageEditorCapabilityDescriptors.add(imageEditorCapabilityDescriptor);
  }
  return new ArrayList<>(imageEditorCapabilityDescriptorsMap.values());
}
