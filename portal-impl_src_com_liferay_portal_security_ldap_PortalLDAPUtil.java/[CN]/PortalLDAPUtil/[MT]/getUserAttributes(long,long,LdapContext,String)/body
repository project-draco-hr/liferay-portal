{
  Properties userMappings=LDAPSettingsUtil.getUserMappings(ldapServerId,companyId);
  Properties userExpandoMappings=LDAPSettingsUtil.getUserExpandoMappings(ldapServerId,companyId);
  PropertiesUtil.merge(userMappings,userExpandoMappings);
  Properties contactMappings=LDAPSettingsUtil.getContactMappings(ldapServerId,companyId);
  Properties contactExpandoMappings=LDAPSettingsUtil.getContactExpandoMappings(ldapServerId,companyId);
  PropertiesUtil.merge(contactMappings,contactExpandoMappings);
  PropertiesUtil.merge(userMappings,contactMappings);
  String[] mappedUserAttributeIds=ArrayUtil.toStringArray(userMappings.values().toArray(new Object[userMappings.size()]));
  return _getAttributes(ldapContext,fullDistinguishedName,mappedUserAttributeIds);
}
