{
  String postfix=LDAPSettingsUtil.getPropertyPostfix(ldapServerId);
  LdapContext ctx=getContext(ldapServerId,companyId);
  NamingEnumeration<SearchResult> enu=null;
  try {
    if (ctx == null) {
      return null;
    }
    String baseDN=PrefsPropsUtil.getString(companyId,PropsKeys.LDAP_BASE_DN + postfix);
    Properties userMappings=LDAPSettingsUtil.getUserMappings(ldapServerId,companyId);
    StringBuilder filter=new StringBuilder();
    filter.append(StringPool.OPEN_PARENTHESIS);
    filter.append(userMappings.getProperty("screenName"));
    filter.append(StringPool.EQUAL);
    filter.append(screenName);
    filter.append(StringPool.CLOSE_PARENTHESIS);
    SearchControls cons=new SearchControls(SearchControls.SUBTREE_SCOPE,1,0,null,false,false);
    enu=ctx.search(baseDN,filter.toString(),cons);
  }
 catch (  Exception e) {
    throw e;
  }
 finally {
    if (ctx != null) {
      ctx.close();
    }
  }
  if (enu.hasMoreElements()) {
    Binding binding=enu.nextElement();
    enu.close();
    return binding;
  }
 else {
    return null;
  }
}
