{
  if ((fromTag == null) || (clazz == null) || (!Tag.class.isAssignableFrom(clazz) && !clazz.isInterface())) {
    return null;
  }
  while (true) {
    Tag parentTag=fromTag.getParent();
    if (parentTag == null) {
      return null;
    }
    if (clazz.isInstance(parentTag)) {
      return parentTag;
    }
    fromTag=parentTag;
  }
}
