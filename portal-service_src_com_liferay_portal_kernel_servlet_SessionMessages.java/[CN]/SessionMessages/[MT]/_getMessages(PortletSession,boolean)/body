{
  Map<String,Object> messages=null;
  try {
    messages=(Map<String,Object>)portletSession.getAttribute(SessionMessages.class.getName());
    if ((messages == null) && createIfAbsent) {
      messages=new LinkedHashMap<String,Object>();
      portletSession.setAttribute(SessionMessages.class.getName(),messages);
    }
  }
 catch (  IllegalStateException ise) {
  }
  return messages;
}
