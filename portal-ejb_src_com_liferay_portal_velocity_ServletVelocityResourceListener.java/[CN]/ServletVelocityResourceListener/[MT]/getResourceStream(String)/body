{
  InputStream is=null;
  int pos=source.indexOf(SERVLET_SEPARATOR);
  if (pos != -1) {
    String ctxName=source.substring(0,pos);
    if (Validator.isNull(ctxName)) {
      ctxName=PropsUtil.get(PropsUtil.PORTAL_CTX);
    }
    ServletContext ctx=VelocityContextPool.get(ctxName);
    if (ctx != null) {
      String name=source.substring(pos + SERVLET_SEPARATOR.length());
      if (_log.isDebugEnabled()) {
        _log.debug(name + " is associated with the servlet context " + ctxName+ " "+ ctx);
      }
      is=ctx.getResourceAsStream(name);
    }
 else {
      _log.error(source + " is not valid because " + ctxName+ " does not map to a servlet context");
    }
  }
  return is;
}
