{
  when(_mbMessageLocalService.getMessage(SearchTestUtil.ENTRY_CLASS_PK)).thenReturn(null);
  SearchResult searchResult=assertThatSearchSingleDocumentReturnsOneSearchResult(createMBMessageAttachmentDocument());
  Assert.assertEquals(SearchTestUtil.ATTACHMENT_OWNER_CLASS_NAME,searchResult.getClassName());
  Assert.assertEquals(SearchTestUtil.ATTACHMENT_OWNER_CLASS_PK,searchResult.getClassPK());
  List<MBMessage> mbMessages=searchResult.getMBMessages();
  Assert.assertTrue(mbMessages.isEmpty());
  Mockito.verify(_mbMessageLocalService).getMessage(SearchTestUtil.ENTRY_CLASS_PK);
  Assert.assertNull(searchResult.getSummary());
  verifyStatic();
  IndexerRegistryUtil.getIndexer(SearchTestUtil.ATTACHMENT_OWNER_CLASS_NAME);
  verifyStatic();
  AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(SearchTestUtil.ATTACHMENT_OWNER_CLASS_NAME);
  assertThatFileEntryTuplesAndVersionsAreEmpty(searchResult);
}
