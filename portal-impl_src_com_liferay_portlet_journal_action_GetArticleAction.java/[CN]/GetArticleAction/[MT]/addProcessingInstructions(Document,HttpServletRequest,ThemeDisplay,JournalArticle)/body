{
  String url=PortalUtil.getStaticResourceURL(request,themeDisplay.getCDNDynamicResourcesHost() + themeDisplay.getPathContext() + "/html/portal/css.jsp");
  Map<String,String> arguments=new LinkedHashMap<String,String>();
  arguments.put("type","text/css");
  arguments.put("href",url);
  arguments.put("title","portal css");
  arguments.put("alternate","yes");
  addStyleSheet(doc,url,arguments);
  url=PortalUtil.getStaticResourceURL(request,themeDisplay.getPathThemeCss() + "/main.css");
  arguments.clear();
  arguments.put("type","text/css");
  arguments.put("href",url);
  arguments.put("title","theme css");
  addStyleSheet(doc,url,arguments);
  String ddmTemplateKey=article.getDDMTemplateKey();
  if (Validator.isNull(ddmTemplateKey)) {
    return;
  }
  try {
    DDMTemplate ddmTemplate=DDMTemplateLocalServiceUtil.getTemplate(article.getGroupId(),PortalUtil.getClassNameId(DDMStructure.class),ddmTemplateKey,true);
    if (Validator.equals(ddmTemplate.getLanguage(),TemplateConstants.LANG_TYPE_XSL)) {
      url=themeDisplay.getPathMain() + "/journal/get_template?groupId=" + article.getGroupId()+ "&ddmTemplateKey="+ ddmTemplateKey;
      arguments.clear();
      arguments.put("type","text/xsl");
      arguments.put("href",url);
      arguments.put("title","xsl");
      addStyleSheet(doc,url,arguments);
    }
  }
 catch (  Exception e) {
  }
}
