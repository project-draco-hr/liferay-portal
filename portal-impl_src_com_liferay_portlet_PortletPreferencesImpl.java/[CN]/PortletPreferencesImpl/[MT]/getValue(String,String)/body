{
  if (key == null) {
    throw new IllegalArgumentException();
  }
  Preference preference=_preferences.get(key);
  String[] values=null;
  if (preference != null) {
    values=preference.getValues();
  }
  String value=null;
  if (Validator.isNotNull(values)) {
    value=_getActualValue(values[0]);
  }
  if (Validator.isNull(value)) {
    value=_getActualValue(def);
  }
  return value;
}
