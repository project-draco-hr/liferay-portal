{
  _ownerType=null;
  _oldGroupId=null;
  _newGroupId=null;
  _privateLayout=null;
  String ownerId=(String)oldValue;
  int ownerType=0;
  if (ownerId.startsWith("PUB.") || ownerId.startsWith("PRI.")) {
    _privateLayout=new Boolean(ownerId.startsWith("PRI."));
    int pos=ownerId.indexOf(".USER.");
    if (pos != -1) {
      _oldGroupId=new Long(GetterUtil.getLong(ownerId.substring(4,pos)));
      _newGroupId=(Long)_groupIdMapper.getNewValue(_oldGroupId);
      ownerId=String.valueOf(_userIdMapper.getNewValue(ownerId.substring(pos + 6,ownerId.length())));
      ownerType=PortletKeys.PREFS_OWNER_TYPE_USER;
    }
 else {
      _oldGroupId=new Long(GetterUtil.getLong(ownerId.substring(4,ownerId.length())));
      _newGroupId=(Long)_groupIdMapper.getNewValue(_oldGroupId);
      ownerId=String.valueOf(PortletKeys.PREFS_OWNER_ID_DEFAULT);
      ownerType=PortletKeys.PREFS_OWNER_TYPE_LAYOUT;
    }
  }
 else   if (ownerId.startsWith("COMPANY.")) {
    ownerType=PortletKeys.PREFS_OWNER_TYPE_COMPANY;
  }
 else   if (ownerId.startsWith("GROUP.")) {
    Long groupId=new Long(GetterUtil.getLong(ownerId.substring(6,ownerId.length())));
    groupId=(Long)_groupIdMapper.getNewValue(groupId);
    ownerId=String.valueOf(groupId);
    ownerType=PortletKeys.PREFS_OWNER_TYPE_GROUP;
  }
 else   if (ownerId.startsWith("USER.")) {
    ownerId=String.valueOf(_userIdMapper.getNewValue(ownerId.substring(5,ownerId.length())));
    ownerType=PortletKeys.PREFS_OWNER_TYPE_USER;
  }
 else {
    ownerId=String.valueOf(_userIdMapper.getNewValue(ownerId));
    ownerType=PortletKeys.PREFS_OWNER_TYPE_USER;
  }
  _ownerType=new Integer(ownerType);
  return ownerId;
}
