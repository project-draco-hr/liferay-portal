{
  ServletContext servletContext=(ServletContext)request.getAttribute(WebKeys.CTX);
  String portletId=ParamUtil.getString(request,"p_p_id");
  String path=getViewPath(portletId,BrowserSnifferUtil.isWap(request));
  RequestDispatcher requestDispatcher=DirectRequestDispatcherFactoryUtil.getRequestDispatcher(servletContext,path);
  UnsyncStringWriter unsyncStringWriter=new UnsyncStringWriter();
  PipingServletResponse pipingServletResponse=new PipingServletResponse(response,unsyncStringWriter);
  String contentType=pipingServletResponse.getContentType();
  requestDispatcher.include(request,pipingServletResponse);
  if (contentType != null) {
    response.setContentType(contentType);
  }
  request.setAttribute(WebKeys.LAYOUT_CONTENT,unsyncStringWriter.getStringBundler());
  return false;
}
