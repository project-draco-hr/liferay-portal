{
  String path=StrutsUtil.TEXT_HTML_DIR;
  if (wap) {
    path=StrutsUtil.TEXT_WAP_DIR;
  }
  if (Validator.isNotNull(portletId)) {
    if (_type.equals(LayoutConstants.TYPE_PANEL)) {
      path+="/portal/layout/view/panel.jsp";
    }
 else     if (_type.equals(LayoutConstants.TYPE_CONTROL_PANEL)) {
      path+="/portal/layout/view/control_panel.jsp";
    }
 else {
      path+="/portal/layout/view/portlet.jsp";
    }
  }
 else {
    path=StrutsUtil.TEXT_HTML_DIR + _viewPage;
  }
  return path;
}
