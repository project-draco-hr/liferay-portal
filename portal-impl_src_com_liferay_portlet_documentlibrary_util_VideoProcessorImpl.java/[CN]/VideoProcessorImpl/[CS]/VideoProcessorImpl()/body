{
  boolean valid=true;
  if ((_PREVIEW_TYPES.length == 0) || (_PREVIEW_TYPES.length > 2)) {
    valid=false;
  }
 else {
    for (    String previewType : _PREVIEW_TYPES) {
      if (!previewType.equals("mp4") && !previewType.equals("ogv")) {
        valid=false;
        break;
      }
    }
  }
  if (!valid && _log.isWarnEnabled()) {
    StringBundler sb=new StringBundler(5);
    sb.append("Liferay is incorrectly configured to generate video ");
    sb.append("previews using video containers other than MP4 or ");
    sb.append("OGV. Please change the property ");
    sb.append(PropsKeys.DL_FILE_ENTRY_PREVIEW_VIDEO_CONTAINERS);
    sb.append(" in portal-ext.properties.");
    _log.warn(sb.toString());
  }
  FileUtil.mkdirs(PREVIEW_TMP_PATH);
  FileUtil.mkdirs(THUMBNAIL_TMP_PATH);
}
