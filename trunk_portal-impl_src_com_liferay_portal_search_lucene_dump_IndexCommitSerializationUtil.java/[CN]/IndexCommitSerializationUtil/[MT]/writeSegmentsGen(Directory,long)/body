{
  if (_log.isDebugEnabled()) {
    _log.debug("Writing " + _SEGMENTS_GEN_FILE_NAME + " with generation "+ generation);
  }
  IndexOutput indexOutput=directory.createOutput(_SEGMENTS_GEN_FILE_NAME);
  try {
    indexOutput.writeInt(SegmentInfos.FORMAT_LOCKLESS);
    indexOutput.writeLong(generation);
    indexOutput.writeLong(generation);
  }
  finally {
    indexOutput.close();
  }
}
