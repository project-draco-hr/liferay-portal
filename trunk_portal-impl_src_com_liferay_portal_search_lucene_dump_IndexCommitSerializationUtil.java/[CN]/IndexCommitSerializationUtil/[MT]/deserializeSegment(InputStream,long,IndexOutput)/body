{
  try {
    indexOutput.setLength(length);
    byte[] buffer=new byte[_BUFFER_SIZE];
    long received=0;
    while (received < length) {
      int bufferSize=_BUFFER_SIZE;
      if ((received + _BUFFER_SIZE) > length) {
        bufferSize=(int)(length - received);
      }
      int actualSize=inputStream.read(buffer,0,bufferSize);
      indexOutput.writeBytes(buffer,actualSize);
      received+=actualSize;
    }
  }
  finally {
    indexOutput.close();
  }
}
