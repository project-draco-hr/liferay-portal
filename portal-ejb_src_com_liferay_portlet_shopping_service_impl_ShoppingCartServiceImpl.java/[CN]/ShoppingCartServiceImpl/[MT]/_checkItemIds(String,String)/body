{
  String[] itemIdsArray=StringUtil.split(itemIds);
  for (int i=0; i < itemIdsArray.length; i++) {
    String itemId=ShoppingUtil.getItemId(itemIdsArray[i]);
    ShoppingItem item=null;
    try {
      item=ShoppingItemUtil.findByPrimaryKey(itemId);
      if (!item.getCompanyId().equals(companyId)) {
        item=null;
      }
    }
 catch (    Exception e) {
    }
    if (item == null) {
      itemIds=StringUtil.remove(itemIds,itemIdsArray[i]);
    }
  }
  return itemIds;
}
