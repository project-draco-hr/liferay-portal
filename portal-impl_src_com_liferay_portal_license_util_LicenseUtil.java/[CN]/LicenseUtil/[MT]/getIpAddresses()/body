{
  if (_ipAddresses == null) {
    _ipAddresses=new HashSet<String>();
    try {
      List<NetworkInterface> networkInterfaces=Collections.list(NetworkInterface.getNetworkInterfaces());
      for (      NetworkInterface networkInterface : networkInterfaces) {
        List<InetAddress> inetAddresses=Collections.list(networkInterface.getInetAddresses());
        for (        InetAddress inetAddress : inetAddresses) {
          if (inetAddress.isLinkLocalAddress() || inetAddress.isLoopbackAddress() || !(inetAddress instanceof Inet4Address)) {
            continue;
          }
          _ipAddresses.add(inetAddress.getHostAddress());
        }
      }
    }
 catch (    Exception e) {
      _log.error("Unable to read local server's IP addresses");
      _log.error(e,e);
    }
  }
  return new HashSet<String>(_ipAddresses);
}
