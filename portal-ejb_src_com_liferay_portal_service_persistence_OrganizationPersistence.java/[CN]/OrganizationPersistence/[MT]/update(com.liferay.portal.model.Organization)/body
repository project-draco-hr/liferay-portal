{
  Session session=null;
  try {
    if (organization.isNew() || organization.isModified()) {
      session=openSession();
      if (organization.isNew()) {
        OrganizationHBM organizationHBM=new OrganizationHBM();
        organizationHBM.setOrganizationId(organization.getOrganizationId());
        organizationHBM.setCompanyId(organization.getCompanyId());
        organizationHBM.setParentOrganizationId(organization.getParentOrganizationId());
        organizationHBM.setName(organization.getName());
        organizationHBM.setRecursable(organization.getRecursable());
        organizationHBM.setRegionId(organization.getRegionId());
        organizationHBM.setCountryId(organization.getCountryId());
        organizationHBM.setStatusId(organization.getStatusId());
        organizationHBM.setComments(organization.getComments());
        session.save(organizationHBM);
        session.flush();
      }
 else {
        OrganizationHBM organizationHBM=(OrganizationHBM)session.get(OrganizationHBM.class,organization.getPrimaryKey());
        if (organizationHBM != null) {
          organizationHBM.setCompanyId(organization.getCompanyId());
          organizationHBM.setParentOrganizationId(organization.getParentOrganizationId());
          organizationHBM.setName(organization.getName());
          organizationHBM.setRecursable(organization.getRecursable());
          organizationHBM.setRegionId(organization.getRegionId());
          organizationHBM.setCountryId(organization.getCountryId());
          organizationHBM.setStatusId(organization.getStatusId());
          organizationHBM.setComments(organization.getComments());
          session.flush();
        }
 else {
          organizationHBM=new OrganizationHBM();
          organizationHBM.setOrganizationId(organization.getOrganizationId());
          organizationHBM.setCompanyId(organization.getCompanyId());
          organizationHBM.setParentOrganizationId(organization.getParentOrganizationId());
          organizationHBM.setName(organization.getName());
          organizationHBM.setRecursable(organization.getRecursable());
          organizationHBM.setRegionId(organization.getRegionId());
          organizationHBM.setCountryId(organization.getCountryId());
          organizationHBM.setStatusId(organization.getStatusId());
          organizationHBM.setComments(organization.getComments());
          session.save(organizationHBM);
          session.flush();
        }
      }
      organization.setNew(false);
      organization.setModified(false);
    }
    return organization;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
