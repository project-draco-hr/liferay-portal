{
  Session session=null;
  try {
    session=openSession();
    CounterHBM counterHBM=(CounterHBM)session.load(CounterHBM.class,oldName);
    long currentId=counterHBM.getCurrentId();
    session.delete(counterHBM);
    counterHBM=new CounterHBM();
    counterHBM.setName(newName);
    counterHBM.setCurrentId(currentId);
    session.save(counterHBM);
    session.flush();
  }
 catch (  ObjectNotFoundException onfe) {
  }
catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
