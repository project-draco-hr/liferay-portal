{
  Session session=null;
  try {
    session=HibernateUtil.getSessionFactory().openSession();
    Counter counter=(Counter)session.load(Counter.class,oldName);
    long currentId=counter.getCurrentId();
    session.delete(counter);
    counter=new Counter();
    counter.setName(newName);
    counter.setCurrentId(currentId);
    session.save(counter);
    session.flush();
  }
 catch (  ObjectNotFoundException onfe) {
  }
catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    session.close();
  }
}
