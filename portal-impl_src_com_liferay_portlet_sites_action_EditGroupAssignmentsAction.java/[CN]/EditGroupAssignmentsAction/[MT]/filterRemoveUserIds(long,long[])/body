{
  Set<Long> filteredUserIds=new HashSet<Long>(userIds.length);
  for (  long userId : userIds) {
    if (UserLocalServiceUtil.hasGroupUser(groupId,userId)) {
      filteredUserIds.add(userId);
    }
  }
  return ArrayUtil.toArray(filteredUserIds.toArray(new Long[filteredUserIds.size()]));
}
