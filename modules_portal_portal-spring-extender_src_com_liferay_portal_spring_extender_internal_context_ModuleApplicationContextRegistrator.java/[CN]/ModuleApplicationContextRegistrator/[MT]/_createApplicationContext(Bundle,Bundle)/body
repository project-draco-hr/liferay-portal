{
  SpringContextHeaderParser springContextHeaderParser=new SpringContextHeaderParser(extendee);
  String[] beanDefinitionFileNames=springContextHeaderParser.getBeanDefinitionFileNames();
  if (ArrayUtil.isEmpty(beanDefinitionFileNames)) {
    return null;
  }
  ClassLoader classLoader=new BundleResolverClassLoader(extendee,extender);
  Bundle compositeResourceLoaderBundle=new CompositeResourceLoaderBundle(extendee,extender);
  ModuleApplicationContext moduleApplicationContext=new ModuleApplicationContext(compositeResourceLoaderBundle,classLoader,beanDefinitionFileNames);
  moduleApplicationContext.addBeanFactoryPostProcessor(new ModuleBeanFactoryPostProcessor(classLoader,extendee.getBundleContext()));
  moduleApplicationContext.refresh();
  return moduleApplicationContext;
}
