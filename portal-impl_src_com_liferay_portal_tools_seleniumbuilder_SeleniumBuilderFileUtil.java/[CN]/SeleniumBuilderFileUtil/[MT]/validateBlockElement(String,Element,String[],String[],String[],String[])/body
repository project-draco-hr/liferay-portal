{
  List<Element> elements=commandElement.elements();
  if (elements.isEmpty()) {
    throwValidationException(1001,fileName,commandElement,allowedBlockChildElementNames);
  }
  for (  Element element : elements) {
    String elementName=element.getName();
    if (!ArrayUtil.contains(allowedBlockChildElementNames,elementName)) {
      throwValidationException(1002,fileName,element,elementName);
    }
    if (elementName.equals("echo") || elementName.equals("fail")) {
      validateSimpleElement(fileName,element,new String[]{"message"});
    }
 else     if (elementName.equals("execute")) {
      validateExecuteElement(fileName,element,allowedExecuteAttributeNames,".+",allowedExecuteChildElementNames);
    }
 else     if (elementName.equals("if")) {
      validateIfElement(fileName,element,allowedBlockChildElementNames,allowedExecuteAttributeNames,allowedExecuteChildElementNames,allowedIfConditionElementNames);
    }
 else     if (elementName.equals("var")) {
      validateVarElement(fileName,element);
    }
 else     if (elementName.equals("while")) {
      validateWhileElement(fileName,element,allowedBlockChildElementNames,allowedExecuteAttributeNames,allowedExecuteChildElementNames,allowedIfConditionElementNames);
    }
 else {
      throwValidationException(1002,fileName,element,elementName);
    }
  }
}
