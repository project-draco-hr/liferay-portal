{
  ThemeDisplay themeDisplay=(ThemeDisplay)_request.getAttribute(WebKeys.THEME_DISPLAY);
  SearchContainer<Group> searchContainer=getSearchContainer();
  GroupSearchTerms searchTerms=(GroupSearchTerms)searchContainer.getSearchTerms();
  long parentGroupId=getParentGroupId();
  Company company=themeDisplay.getCompany();
  if (!searchTerms.hasSearchTerms() && isFilterManageableGroups() && (parentGroupId <= 0)) {
    return getAllGroups().size();
  }
 else   if (searchTerms.hasSearchTerms()) {
    return GroupLocalServiceUtil.searchCount(company.getCompanyId(),_classNameIds,searchTerms.getKeywords(),getGroupParams(themeDisplay,searchTerms,parentGroupId));
  }
 else {
    return GroupLocalServiceUtil.searchCount(company.getCompanyId(),_classNameIds,getGroupId(),searchTerms.getKeywords(),getGroupParams(themeDisplay,searchTerms,parentGroupId));
  }
}
