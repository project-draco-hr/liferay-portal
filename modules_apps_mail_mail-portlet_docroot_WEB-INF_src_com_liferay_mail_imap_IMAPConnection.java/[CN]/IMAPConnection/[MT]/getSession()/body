{
  if (_session != null) {
    return _session;
  }
  Properties properties=new Properties();
  properties.put("mail.debug",String.valueOf(PortletPropsValues.JAVAMAIL_DEBUG));
  properties.put("mail.imap.host",_incomingHostName);
  properties.put("mail.imap.port",_incomingPort);
  properties.put("mail.imaps.auth","true");
  properties.put("mail.imaps.host",_incomingHostName);
  properties.put("mail.imaps.port",_incomingPort);
  properties.put("mail.imaps.socketFactory.class",SSLSocketFactory.class.getName());
  properties.put("mail.imaps.socketFactory.fallback","false");
  properties.put("mail.imaps.socketFactory.port",_incomingPort);
  properties.put("mail.smtp.host",_outgoingHostName);
  properties.put("mail.smtp.port",_outgoingPort);
  properties.put("mail.smtps.auth","true");
  properties.put("mail.smtps.host",_outgoingHostName);
  properties.put("mail.smtps.port",_outgoingPort);
  properties.put("mail.smtps.socketFactory.class",SSLSocketFactory.class.getName());
  properties.put("mail.smtps.socketFactory.fallback","false");
  properties.put("mail.smtps.socketFactory.port",_outgoingPort);
  _session=Session.getInstance(properties);
  _session.setDebug(PortletPropsValues.JAVAMAIL_DEBUG);
  return _session;
}
