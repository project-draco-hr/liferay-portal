{
  SocialActivity activity=socialActivityPersistence.findByPrimaryKey(activityId);
  long activitySetId=counterLocalService.increment();
  SocialActivitySet activitySet=socialActivitySetPersistence.create(activitySetId);
  activitySet.setGroupId(activity.getGroupId());
  activitySet.setCompanyId(activity.getCompanyId());
  activitySet.setUserId(activity.getUserId());
  activitySet.setCreateDate(activity.getCreateDate());
  activitySet.setModifiedDate(activity.getCreateDate());
  activitySet.setClassName(activity.getClassName());
  activitySet.setClassPK(activity.getClassPK());
  activitySet.setType(activity.getType());
  activitySet.setActivityCount(1);
  socialActivitySetPersistence.update(activitySet);
  activity.setActivitySetId(activitySetId);
  socialActivityPersistence.update(activity);
  return activitySet;
}
