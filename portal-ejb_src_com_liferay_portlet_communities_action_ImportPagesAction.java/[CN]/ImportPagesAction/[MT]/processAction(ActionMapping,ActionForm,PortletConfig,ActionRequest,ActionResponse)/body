{
  try {
    UploadPortletRequest uploadReq=PortalUtil.getUploadPortletRequest(req);
    long groupId=ParamUtil.getLong(uploadReq,"groupId");
    boolean privateLayout=ParamUtil.getBoolean(uploadReq,"privateLayout");
    File file=uploadReq.getFile("importFileName");
    LayoutServiceUtil.importLayouts(groupId,privateLayout,req.getParameterMap(),file);
    SessionMessages.add(req,"request_processed");
  }
 catch (  Exception e) {
    _log.error(e,e);
    SessionErrors.add(req,LayoutImportException.class.getName());
  }
}
