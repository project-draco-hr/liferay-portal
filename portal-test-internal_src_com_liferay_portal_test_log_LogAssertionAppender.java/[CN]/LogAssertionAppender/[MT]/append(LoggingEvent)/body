{
  Level level=loggingEvent.getLevel();
  if (level.equals(Level.ERROR) || level.equals(Level.FATAL)) {
    StringBundler sb=new StringBundler(6);
    sb.append("{level=");
    sb.append(loggingEvent.getLevel());
    sb.append(", loggerName=");
    sb.append(loggingEvent.getLoggerName());
    sb.append(", message=");
    sb.append(loggingEvent.getMessage());
    ThrowableInformation throwableInformation=loggingEvent.getThrowableInformation();
    Throwable cause=null;
    if (throwableInformation != null) {
      cause=throwableInformation.getThrowable();
    }
    LogAssertionTestRule.caughtFailure(new AssertionError(sb.toString(),cause));
  }
}
