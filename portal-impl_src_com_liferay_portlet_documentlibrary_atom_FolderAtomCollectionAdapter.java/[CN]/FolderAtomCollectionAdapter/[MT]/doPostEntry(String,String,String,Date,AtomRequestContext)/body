{
  long repositoryId=0L;
  long parentFolderId=atomRequestContext.getLongParameter("parentFolderId");
  if (parentFolderId != 0) {
    Folder parentFolder=DLAppServiceUtil.getFolder(parentFolderId);
    repositoryId=parentFolder.getRepositoryId();
  }
 else {
    repositoryId=atomRequestContext.getLongParameter("repositoryId");
  }
  ServiceContext serviceContext=new ServiceContext();
  Folder folder=DLAppServiceUtil.addFolder(repositoryId,parentFolderId,title,summary,serviceContext);
  return folder;
}
