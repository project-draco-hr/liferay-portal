{
  CascadingStyleSheet cascadingStyleSheet=CSSReader.readFromString(css,CCharset.CHARSET_UTF_8_OBJ,ECSSVersion.CSS30,new DoNothingCSSParseErrorHandler());
  List<ICSSTopLevelRule> rules=cascadingStyleSheet.getAllRules();
  for (  ICSSTopLevelRule rule : rules) {
    if (rule instanceof CSSStyleRule) {
      CSSStyleRule cssStyleRule=(CSSStyleRule)rule;
      for (      String property : _replacementStyles.keySet()) {
        replaceStyle(cssStyleRule,property);
      }
      for (      CSSDeclaration cssDeclaration : cssStyleRule.getAllDeclarations()) {
        String property=cssDeclaration.getProperty();
        String strippedProperty=stripProperty(property);
        if (_shorthandStyles.contains(strippedProperty)) {
          convertShorthand(cssStyleRule,property);
        }
 else         if (_shorthandRadiusStyles.contains(strippedProperty)) {
          convertShorthandRadius(cssStyleRule,property);
        }
 else         if (_reverseStyles.contains(strippedProperty)) {
          reverseStyle(cssStyleRule,property);
        }
 else         if (_reverseImageStyles.contains(strippedProperty)) {
          reverseImage(cssStyleRule,property);
        }
 else         if (_backgroundPositionStyles.contains(strippedProperty)) {
          convertBGPosition(cssStyleRule,property);
        }
      }
    }
  }
  return _writer.getCSSAsString(cascadingStyleSheet);
}
