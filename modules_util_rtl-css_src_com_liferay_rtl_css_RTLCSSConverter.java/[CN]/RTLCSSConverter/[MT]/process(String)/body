{
  CascadingStyleSheet css=CSSReader.readFromString(cssString,CCharset.CHARSET_UTF_8_OBJ,ECSSVersion.CSS30);
  List<CSSStyleRule> styleRules=css.getAllStyleRules();
  StringBundler sb=new StringBundler(styleRules.size());
  for (  CSSStyleRule styleRule : styleRules) {
    for (    String property : REPLACEMENT_STYLES.keySet()) {
      replaceStyle(styleRule,property);
    }
    for (    CSSDeclaration declaration : styleRule.getAllDeclarations()) {
      String property=declaration.getProperty();
      String strippedProperty=stripProperty(property);
      if (SHORTHAND_STYLES.contains(strippedProperty)) {
        convertShortHand(styleRule,property);
      }
 else       if (SHORTHAND_RADIUS_STYLES.contains(strippedProperty)) {
        convertShortHandRadius(styleRule,property);
      }
 else       if (REVERSE_STYLES.contains(strippedProperty)) {
        reverseStyle(styleRule,property);
      }
 else       if (REVERSE_IMAGE_STYLES.contains(strippedProperty)) {
        reverseImage(styleRule,property);
      }
 else       if (BGPOSITION_STYLES.contains(strippedProperty)) {
        convertBGPosition(styleRule,property);
      }
    }
    sb.append(styleRule.getAsCSSString(_cssWriterSettings,1));
  }
  return sb.toString();
}
