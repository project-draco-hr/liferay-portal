{
  CascadingStyleSheet cascadingStyleSheet=CSSReader.readFromString(css,CCharset.CHARSET_UTF_8_OBJ,ECSSVersion.CSS30);
  List<CSSStyleRule> cssStyleRules=cascadingStyleSheet.getAllStyleRules();
  StringBuilder sb=new StringBuilder(cssStyleRules.size());
  for (  CSSStyleRule cssStyleRule : cssStyleRules) {
    for (    String property : _replacementStyles.keySet()) {
      replaceStyle(cssStyleRule,property);
    }
    for (    CSSDeclaration cssDeclaration : cssStyleRule.getAllDeclarations()) {
      String property=cssDeclaration.getProperty();
      String strippedProperty=stripProperty(property);
      if (_shorthandStyles.contains(strippedProperty)) {
        convertShorthand(cssStyleRule,property);
      }
 else       if (_shorthandRadiusStyles.contains(strippedProperty)) {
        convertShorthandRadius(cssStyleRule,property);
      }
 else       if (_reverseStyles.contains(strippedProperty)) {
        reverseStyle(cssStyleRule,property);
      }
 else       if (_reverseImageStyles.contains(strippedProperty)) {
        reverseImage(cssStyleRule,property);
      }
 else       if (_backgroundPositionStyles.contains(strippedProperty)) {
        convertBGPosition(cssStyleRule,property);
      }
    }
    sb.append(cssStyleRule.getAsCSSString(_cssWriterSettings,1));
  }
  return sb.toString();
}
