{
  for (  long organizationId : organizationIds) {
    OrganizationPermissionUtil.check(getPermissionChecker(),organizationId,ActionKeys.ASSIGN_MEMBERS);
  }
  List<Organization> oldOrganizations=organizationLocalService.getUserOrganizations(userId);
  for (  Organization organization : oldOrganizations) {
    if (!ArrayUtil.contains(organizationIds,organization.getOrganizationId()) && !OrganizationPermissionUtil.contains(getPermissionChecker(),organization.getOrganizationId(),ActionKeys.ASSIGN_MEMBERS)) {
      organizationIds=ArrayUtil.append(organizationIds,organization.getOrganizationId());
    }
  }
  return organizationIds;
}
