{
  try {
    UserPermissionUtil.check(getPermissionChecker(),userId,ActionKeys.VIEW);
  }
 catch (  PrincipalException pe) {
    Role role=roleLocalService.getRole(companyId,name);
    RolePermissionUtil.check(getPermissionChecker(),role.getRoleId(),ActionKeys.VIEW_MEMBERS);
  }
  return userLocalService.hasRoleUser(companyId,name,userId,inherited);
}
