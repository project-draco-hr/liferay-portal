{
  Image image=null;
  String queryString=HttpUtil.getQueryString(url);
  Map<String,String[]> parameters=HttpUtil.parameterMapFromString(queryString);
  if (parameters.containsKey("image_id") || parameters.containsKey("img_id") || parameters.containsKey("i_id")) {
    try {
      long imageId=0;
      if (parameters.containsKey("image_id")) {
        imageId=GetterUtil.getLong(parameters.get("image_id")[0]);
      }
 else       if (parameters.containsKey("img_id")) {
        imageId=GetterUtil.getLong(parameters.get("img_id")[0]);
      }
 else       if (parameters.containsKey("i_id")) {
        imageId=GetterUtil.getLong(parameters.get("i_id")[0]);
      }
      image=_imageLocalService.getImage(imageId);
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e,e);
      }
    }
  }
  return image;
}
