{
  try {
    Portlet portlet=(Portlet)request.getAttribute(WebKeys.RENDER_PORTLET);
    PortletURL basePortletURL=PortletURLFactoryUtil.create(request,PortletKeys.PORTLET_SHARING,themeDisplay.getPlid(),PortletRequest.RESOURCE_PHASE);
    StringBundler sb=new StringBundler();
    sb.append("javascript:Liferay.PortletSharing.showWidgetInfo('");
    sb.append(PortalUtil.getWidgetURL(portlet,themeDisplay));
    sb.append("', '");
    sb.append(basePortletURL);
    sb.append("');");
    return sb.toString();
  }
 catch (  PortalException pe) {
    return StringPool.BLANK;
  }
}
