{
  String targetFilePathName=FileUtil.getFilePathName(System.getProperty("user.home"),"liferay-sync-test2");
  PowerMockito.stub(PowerMockito.method(FileUtil.class,"moveFile",Path.class,Path.class,boolean.class)).toThrow(new DirectoryNotEmptyException(targetFilePathName));
  SyncAccountService.updateSyncAccountSyncFile(Paths.get(targetFilePathName),syncAccount.getSyncAccountId(),true);
  SyncFile syncFile=SyncFileService.fetchSyncFile(targetFilePathName);
  Assert.assertTrue(FileKeyUtil.hasFileKey(Paths.get(syncFile.getFilePathName()),syncFile.getSyncFileId()));
}
