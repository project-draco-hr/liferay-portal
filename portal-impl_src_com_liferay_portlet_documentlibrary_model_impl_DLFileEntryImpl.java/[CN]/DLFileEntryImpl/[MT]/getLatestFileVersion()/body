{
  long userId=0;
  if (PrincipalThreadLocal.getName() != null) {
    userId=GetterUtil.getLong(PrincipalThreadLocal.getName());
  }
 else {
    userId=UserLocalServiceUtil.getDefaultUserId(getCompanyId());
  }
  return DLFileEntryLocalServiceUtil.getLatestFileVersion(userId,getFileEntryId());
}
