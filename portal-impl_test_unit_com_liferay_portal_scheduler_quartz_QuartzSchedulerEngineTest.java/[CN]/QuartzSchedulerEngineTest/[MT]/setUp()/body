{
  JSONFactoryUtil jsonFactoryUtil=new JSONFactoryUtil();
  jsonFactoryUtil.setJSONFactory(new JSONFactoryImpl());
  Thread currentThread=Thread.currentThread();
  ClassLoader currentClassLoader=currentThread.getContextClassLoader();
  PortalClassLoaderUtil.setClassLoader(currentClassLoader);
  PortalUUIDUtil portalUUIDUtil=new PortalUUIDUtil();
  portalUUIDUtil.setPortalUUID(new PortalUUIDImpl());
  PropsUtil.setProps(new PropsImpl());
  RegistryUtil.setRegistry(new BasicRegistryImpl());
  MessageBusUtil messageBusUtil=new MessageBusUtil();
  messageBusUtil.setMessageBus(new DefaultMessageBus());
  messageBusUtil.setSynchronousMessageSender(null);
  _testDestination=new SynchronousDestination();
  _testDestination.setName(_TEST_DESTINATION_NAME);
  MessageBusUtil.addDestination(_testDestination);
  _quartzSchedulerEngine=new QuartzSchedulerEngine();
  ReflectionTestUtil.setFieldValue(_quartzSchedulerEngine,"_memoryScheduler",new MockScheduler(StorageType.MEMORY,_MEMORY_TEST_GROUP_NAME));
  ReflectionTestUtil.setFieldValue(_quartzSchedulerEngine,"_persistedScheduler",new MockScheduler(StorageType.PERSISTED,_PERSISTED_TEST_GROUP_NAME));
  _quartzSchedulerEngine.start();
}
