{
  long initialSearchCount=searchCount(true);
  JournalArticle article=JournalTestUtil.addArticle(_group.getGroupId(),JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID);
  Assert.assertEquals(initialSearchCount + 1,searchCount(true));
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext();
  JournalArticle updateArticle=JournalTestUtil.updateArticle(article,article.getTitleMap(),article.getContent(),true,true,serviceContext);
  Assert.assertEquals(initialSearchCount + 1,searchCount(true));
  JournalArticleLocalServiceUtil.deleteArticle(updateArticle,updateArticle.getUrlTitle(),serviceContext);
  List<JournalArticle> articles=search(true);
  Assert.assertEquals(initialSearchCount + 1,articles.size());
  JournalArticle searchArticle=articles.get(0);
  Assert.assertEquals(article.getId(),searchArticle.getId());
}
