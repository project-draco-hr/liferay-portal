{
  String queryString=url.substring(url.indexOf('?') + 1);
  Image entry=null;
  Map parameters=HttpUtil.parameterMapFromString(queryString);
  if (parameters.containsKey("image_id") || parameters.containsKey("img_id") || parameters.containsKey("i_id")) {
    try {
      long imageId=0;
      if (parameters.get("image_id") != null) {
        imageId=Long.parseLong(((String[])parameters.get("image_id"))[0]);
      }
 else       if (parameters.get("img_id") != null) {
        imageId=Long.parseLong(((String[])parameters.get("img_id"))[0]);
      }
 else       if (parameters.get("i_id") != null) {
        imageId=Long.parseLong(((String[])parameters.get("i_id"))[0]);
      }
      entry=ImageLocalUtil.getImage(imageId);
    }
 catch (    Exception e) {
    }
  }
 else   if (parameters.containsKey("groupId") && parameters.containsKey("uuid")) {
    try {
      long groupId=Long.parseLong(((String[])parameters.get("groupId"))[0]);
      String uuid=((String[])parameters.get("uuid"))[0];
      IGImage igImage=IGImageLocalServiceUtil.getImageByUuidAndGroupId(uuid,groupId);
      entry=ImageLocalUtil.getImage(igImage.getLargeImageId());
    }
 catch (    Exception e) {
      System.out.println(e.getMessage());
    }
  }
  return entry;
}
