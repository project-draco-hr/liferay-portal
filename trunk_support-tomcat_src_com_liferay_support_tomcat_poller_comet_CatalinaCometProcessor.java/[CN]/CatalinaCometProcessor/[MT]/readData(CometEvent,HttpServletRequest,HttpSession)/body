{
  InputStream inputStream=request.getInputStream();
  byte[] buffer=new byte[512];
  StringBundler sb=new StringBundler();
  while (inputStream.available() > 0) {
    int read=inputStream.read(buffer);
    if (read > 0) {
      String dataSegment=new String(buffer);
      sb.append(dataSegment);
    }
 else {
      if (_log.isDebugEnabled()) {
        _log.debug(session.getId() + " " + cometEvent.getEventSubType());
      }
    }
  }
  String data=sb.toString();
  if (_log.isDebugEnabled()) {
    _log.debug("Read " + data);
  }
  CometHandler cometHandler=CometHandlerPoolUtil.getCometHandler(session.getId());
  cometHandler.receiveData(data);
}
