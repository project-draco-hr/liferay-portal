{
  int pos=name.indexOf(THEME_LOADER_SEPARATOR);
  if (pos != -1) {
    String ctxName=name.substring(0,pos);
    ThemeLoader themeLoader=ThemeLoaderFactory.getThemeLoader(ctxName);
    if (themeLoader != null) {
      String templateName=name.substring(pos + THEME_LOADER_SEPARATOR.length());
      String themesPath=themeLoader.getThemesPath();
      if (templateName.startsWith(themesPath)) {
        name=templateName.substring(themesPath.length(),templateName.length());
      }
      if (_log.isDebugEnabled()) {
        _log.debug(name + " is associated with the theme loader " + ctxName+ " "+ themeLoader);
      }
      File fileStorage=themeLoader.getFileStorage();
      return new File(fileStorage.getPath() + name).toURI().toURL();
    }
 else {
      _log.error(name + " is not valid because " + ctxName+ " does not map to a theme loader");
    }
  }
  return null;
}
