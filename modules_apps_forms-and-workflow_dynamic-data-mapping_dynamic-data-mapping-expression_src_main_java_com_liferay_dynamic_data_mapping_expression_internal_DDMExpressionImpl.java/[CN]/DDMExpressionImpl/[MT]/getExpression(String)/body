{
  com.udojava.evalex.Expression expression=new com.udojava.evalex.Expression(expressionString);
  TokenExtractor tokenExtractor=new TokenExtractor(expressionString);
  Map<String,String> variableMap=tokenExtractor.getVariableMap();
  for (  String key : variableMap.keySet()) {
    Variable variable=_variables.get(key);
    if (variable != null) {
      BigDecimal variableValue=getVariableValue(variable);
      expression.setVariable(key,variableValue);
    }
  }
  return expression;
}
