{
  List<Portlet> allPortlets=PortletLocalServiceUtil.getPortlets(CompanyThreadLocal.getCompanyId());
  SortedSet<Portlet> portlets=new TreeSet<Portlet>(new PortletControlPanelWeigthComparator());
  for (  Portlet portlet : allPortlets) {
    if (category.equals(portlet.getControlPanelEntryCategory())) {
      portlets.add(portlet);
    }
  }
  return new ArrayList(portlets);
}
