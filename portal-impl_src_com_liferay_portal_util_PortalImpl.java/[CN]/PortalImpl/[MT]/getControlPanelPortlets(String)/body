{
  String[] portletIds=null;
  if (category.equals(PortletCategoryKeys.CONTENT)) {
    portletIds=PropsValues.CONTROL_PANEL_CATEGORY_CONTENT_PORTLETS;
  }
 else   if (category.equals(PortletCategoryKeys.PORTAL)) {
    portletIds=PropsValues.CONTROL_PANEL_CATEGORY_PORTAL_PORTLETS;
  }
 else   if (category.equals(PortletCategoryKeys.SERVER)) {
    portletIds=PropsValues.CONTROL_PANEL_CATEGORY_SERVER_PORTLETS;
  }
 else {
    portletIds=new String[0];
  }
  List<Portlet> portlets=new ArrayList<Portlet>();
  for (  String portletId : portletIds) {
    Portlet portlet=null;
    try {
      portlet=PortletLocalServiceUtil.getPortletById(CompanyThreadLocal.getCompanyId(),portletId);
      if (portlet != null) {
        portlets.add(portlet);
      }
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e,e);
      }
    }
  }
  return portlets;
}
