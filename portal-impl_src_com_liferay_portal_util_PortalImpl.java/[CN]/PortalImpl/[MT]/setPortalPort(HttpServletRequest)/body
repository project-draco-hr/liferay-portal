{
  if (_portalPort == -1) {
    _lock.lock();
    try {
      if (_portalPort == -1) {
        _portalPort=request.getServerPort();
      }
    }
  finally {
      _lock.unlock();
    }
  }
}
