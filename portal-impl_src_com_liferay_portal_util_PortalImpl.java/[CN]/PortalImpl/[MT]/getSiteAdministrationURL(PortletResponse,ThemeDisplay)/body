{
  LiferayPortletResponse liferayPortletResponse=(LiferayPortletResponse)portletResponse;
  Portlet portlet=getFirstSiteAdministrationPortlet(themeDisplay);
  if (portlet == null) {
    return null;
  }
  LiferayPortletURL siteAdministrationURL=liferayPortletResponse.createRenderURL(portlet.getPortletName());
  siteAdministrationURL.setControlPanelCategory(PortletCategoryKeys.SITES);
  siteAdministrationURL.setDoAsGroupId(themeDisplay.getScopeGroupId());
  siteAdministrationURL.setParameter("redirect",themeDisplay.getURLCurrent());
  return siteAdministrationURL;
}
