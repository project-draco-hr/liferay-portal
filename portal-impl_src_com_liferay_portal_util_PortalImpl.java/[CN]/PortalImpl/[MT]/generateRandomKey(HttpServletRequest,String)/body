{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  if (themeDisplay.isLifecycleResource() || themeDisplay.isStateExclusive() || themeDisplay.isAjax()|| themeDisplay.isIsolated()) {
    return PwdGenerator.getPassword(PwdGenerator.KEY3,4);
  }
 else {
    return DeterminateKeyGenerator.generate(input);
  }
}
