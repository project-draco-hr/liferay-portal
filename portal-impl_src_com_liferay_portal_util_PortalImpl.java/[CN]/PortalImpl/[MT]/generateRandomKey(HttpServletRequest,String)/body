{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  if (themeDisplay.isAjax() || themeDisplay.isIsolated() || themeDisplay.isLifecycleResource()|| themeDisplay.isStateExclusive()) {
    return PwdGenerator.getPassword(PwdGenerator.KEY3,4);
  }
 else {
    return DeterminateKeyGenerator.generate(input);
  }
}
