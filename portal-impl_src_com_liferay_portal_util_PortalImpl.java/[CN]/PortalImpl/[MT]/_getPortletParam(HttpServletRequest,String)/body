{
  String portletId=ParamUtil.getString(request,"p_p_id");
  if (Validator.isNull(portletId)) {
    return StringPool.BLANK;
  }
  String value=null;
  int valueCount=0;
  String keyName=StringPool.UNDERLINE.concat(name);
  Map<String,String[]> parameterMap=request.getParameterMap();
  for (  Map.Entry<String,String[]> parameterEntry : parameterMap.entrySet()) {
    String parameterName=parameterEntry.getKey();
    int index=parameterName.indexOf(keyName);
    if (index != -1) {
      valueCount++;
      if (valueCount > 1) {
        return StringPool.BLANK;
      }
      String[] parameterValues=parameterEntry.getValue();
      if ((parameterValues != null) && (parameterValues.length > 0) && Validator.isNotNull(parameterValues[0])) {
        String portletId1=parameterName.substring(1,index);
        if (portletId1.equals(portletId)) {
          value=parameterValues[0];
        }
      }
    }
  }
  if (value == null) {
    value=StringPool.BLANK;
  }
  return value;
}
