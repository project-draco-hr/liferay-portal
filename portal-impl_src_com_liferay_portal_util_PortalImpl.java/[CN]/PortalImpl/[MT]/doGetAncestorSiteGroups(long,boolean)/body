{
  List<Group> groups=new ArrayList<Group>();
  long siteGroupId=getSiteGroupId(groupId);
  Group siteGroup=GroupLocalServiceUtil.getGroup(siteGroupId);
  for (  Group group : siteGroup.getAncestors()) {
    if (checkContentSharingWithChildrenEnabled && !SitesUtil.isContentSharingWithChildrenEnabled(group)) {
      continue;
    }
    groups.add(group);
  }
  if (!siteGroup.isCompany()) {
    groups.add(GroupLocalServiceUtil.getCompanyGroup(siteGroup.getCompanyId()));
  }
  return ListUtil.unique(groups);
}
