{
  Map<String,String> variables=new HashMap<String,String>();
  variables.put("liferay:groupId",String.valueOf(layout.getGroupId()));
  variables.put("liferay:mainPath",mainPath);
  variables.put("liferay:plid",String.valueOf(layout.getPlid()));
  UnicodeProperties typeSettingsProperties=layout.getLayoutType().getTypeSettingsProperties();
  Iterator<Map.Entry<String,String>> itr=typeSettingsProperties.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry<String,String> entry=itr.next();
    String key=entry.getKey();
    String value=entry.getValue();
    variables.put(key,value);
  }
  String href=PropsUtil.get(PropsKeys.LAYOUT_URL,new Filter(layout.getType(),variables));
  return href;
}
