{
  Map<String,String> variables=new HashMap<String,String>();
  variables.put("liferay:groupId",String.valueOf(layout.getGroupId()));
  variables.put("liferay:mainPath",mainPath);
  variables.put("liferay:plid",String.valueOf(layout.getPlid()));
  UnicodeProperties typeSettingsProperties=layout.getLayoutType().getTypeSettingsProperties();
  variables.putAll(typeSettingsProperties);
  LayoutSettings layoutSettings=LayoutSettings.getInstance(layout);
  return layoutSettings.getURL(variables);
}
