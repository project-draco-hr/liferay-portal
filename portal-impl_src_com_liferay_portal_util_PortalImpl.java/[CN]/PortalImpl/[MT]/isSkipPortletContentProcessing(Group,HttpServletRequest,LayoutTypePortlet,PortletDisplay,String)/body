{
  boolean skipPortletContentRendering=isSkipPortletContentRendering(group,layoutTypePortlet,portletDisplay,portletName);
  if (!skipPortletContentRendering) {
    return false;
  }
  long companyId=getCompanyId(httpServletRequest);
  Portlet portlet=PortletLocalServiceUtil.getPortletById(companyId,portletDisplay.getId());
  boolean strutsPortlet=false;
  ServletContext servletContext=(ServletContext)httpServletRequest.getAttribute(WebKeys.CTX);
  InvokerPortlet invokerPortlet=PortletInstanceFactoryUtil.create(portlet,servletContext);
  if (invokerPortlet.isStrutsPortlet() || invokerPortlet.isStrutsBridgePortlet()) {
    strutsPortlet=true;
  }
  return (!portlet.isSystem() && !strutsPortlet);
}
