{
  Class baseModelClass=baseModel.getClass();
  String className=baseModelClass.getName();
  int pos=className.indexOf(".model.impl.");
  String packagePath=className.substring(0,pos);
  StringBuilder sb=new StringBuilder();
  sb.append(packagePath);
  sb.append(".service.ClpSerializer");
  String servletContextName=null;
  try {
    ClassLoader classLoader=baseModelClass.getClassLoader();
    Class<?> clpSerializerClass=classLoader.loadClass(className.toString());
    Field field=clpSerializerClass.getField("SERVLET_CONTEXT_NAME");
    servletContextName=(String)field.get(null);
  }
 catch (  ClassNotFoundException cnfe) {
  }
catch (  Exception e) {
    throw new IllegalArgumentException("Cannot retrieve the servlet context name from ClpSerializer");
  }
  return getBasePersistence(servletContextName,className);
}
