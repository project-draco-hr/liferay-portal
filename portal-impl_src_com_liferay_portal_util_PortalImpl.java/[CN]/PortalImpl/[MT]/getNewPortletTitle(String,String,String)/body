{
  if (portletTitle.endsWith(" (" + oldScopeName + ")")) {
    int pos=portletTitle.lastIndexOf(" " + oldScopeName);
    if (Validator.isNotNull(newScopeName)) {
      return portletTitle.substring(0,pos) + " " + newScopeName;
    }
 else {
      return portletTitle.substring(0,pos);
    }
  }
 else {
    if (Validator.isNotNull(newScopeName)) {
      return portletTitle + " " + newScopeName;
    }
 else {
      return portletTitle;
    }
  }
}
