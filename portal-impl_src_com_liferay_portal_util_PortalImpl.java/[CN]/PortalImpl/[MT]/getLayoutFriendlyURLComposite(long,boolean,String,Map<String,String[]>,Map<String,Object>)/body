{
  LayoutFriendlyURLComposite layoutFriendlyURLComposite=null;
  if (friendlyURL != null) {
    HttpServletRequest request=(HttpServletRequest)requestContext.get("request");
    long companyId=PortalInstances.getCompanyId(request);
    Collection<FriendlyURLResolver> friendlyURLResolvers=FriendlyURLResolverRegistryUtil.getFriendlyURLResolversAsCollection();
    for (    FriendlyURLResolver friendlyURLResolver : friendlyURLResolvers) {
      if (!friendlyURL.startsWith(friendlyURLResolver.getURLSeparator())) {
        continue;
      }
      try {
        layoutFriendlyURLComposite=friendlyURLResolver.getLayoutFriendlyURLComposite(companyId,groupId,privateLayout,friendlyURL,params,requestContext);
        break;
      }
 catch (      Exception e) {
        throw new NoSuchLayoutException(e);
      }
    }
  }
  if (layoutFriendlyURLComposite != null) {
    return layoutFriendlyURLComposite;
  }
  LayoutQueryStringComposite layoutQueryStringComposite=getActualLayoutQueryStringComposite(groupId,privateLayout,friendlyURL,params,requestContext);
  return new LayoutFriendlyURLComposite(layoutQueryStringComposite.getLayout(),layoutQueryStringComposite.getFriendlyURL());
}
