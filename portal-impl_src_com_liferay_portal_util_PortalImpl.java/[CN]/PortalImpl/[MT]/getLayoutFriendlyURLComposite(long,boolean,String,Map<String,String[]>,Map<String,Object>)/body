{
  LayoutFriendlyURLComposite layoutFriendlyURLComposite=null;
  if (friendlyURL != null) {
    HttpServletRequest request=(HttpServletRequest)requestContext.get("request");
    long companyId=PortalInstances.getCompanyId(request);
    List<FriendlyURLResolver> friendlyURLResolvers=FriendlyURLResolverRegistryUtil.getFriendlyURLResolvers();
    for (    FriendlyURLResolver friendlyURLResolver : friendlyURLResolvers) {
      if (friendlyURL.startsWith(friendlyURLResolver.getURLSeparator())) {
        try {
          layoutFriendlyURLComposite=friendlyURLResolver.getLayoutFriendlyURLComposite(companyId,groupId,privateLayout,friendlyURL,params,requestContext);
          break;
        }
 catch (        Exception e) {
          throw new NoSuchLayoutException(e);
        }
      }
    }
  }
  if (layoutFriendlyURLComposite != null) {
    return layoutFriendlyURLComposite;
  }
  LayoutQueryStringComposite layoutQueryStringComposite=getActualLayoutQueryStringComposite(groupId,privateLayout,friendlyURL,params,requestContext);
  Layout layout=layoutQueryStringComposite.getLayout();
  String layoutFriendlyURL=layoutQueryStringComposite.getFriendlyURL();
  return new LayoutFriendlyURLComposite(layout,layoutFriendlyURL);
}
