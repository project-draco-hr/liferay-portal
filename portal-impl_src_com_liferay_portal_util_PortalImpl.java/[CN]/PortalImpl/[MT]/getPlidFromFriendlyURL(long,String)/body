{
  if (Validator.isNull(friendlyURL)) {
    return LayoutConstants.DEFAULT_PLID;
  }
  String[] urlParts=friendlyURL.split("\\/",4);
  if ((friendlyURL.charAt(0) != CharPool.SLASH) && (urlParts.length != 4)) {
    return LayoutConstants.DEFAULT_PLID;
  }
  boolean privateLayout=true;
  String urlPrefix=StringPool.SLASH + urlParts[1];
  if (_PUBLIC_GROUP_SERVLET_MAPPING.equals(urlPrefix)) {
    privateLayout=false;
  }
 else   if (_PRIVATE_GROUP_SERVLET_MAPPING.equals(urlPrefix) || _PRIVATE_USER_SERVLET_MAPPING.equals(urlPrefix)) {
    privateLayout=true;
  }
 else {
    return LayoutConstants.DEFAULT_PLID;
  }
  Group group=null;
  try {
    group=GroupLocalServiceUtil.getFriendlyURLGroup(companyId,StringPool.SLASH + urlParts[2]);
  }
 catch (  Exception e) {
  }
  if (group != null) {
    Layout layout=null;
    try {
      String layoutFriendlyURL=null;
      if (urlParts.length == 4) {
        layoutFriendlyURL=StringPool.SLASH + urlParts[3];
      }
 else {
        layoutFriendlyURL="/1";
      }
      layout=LayoutLocalServiceUtil.getFriendlyURLLayout(group.getGroupId(),privateLayout,layoutFriendlyURL);
      return layout.getPlid();
    }
 catch (    Exception e) {
    }
  }
  return LayoutConstants.DEFAULT_PLID;
}
