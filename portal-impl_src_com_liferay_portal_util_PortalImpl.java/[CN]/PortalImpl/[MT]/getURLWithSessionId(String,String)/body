{
  int x=url.indexOf(StringPool.SEMICOLON);
  if (x != -1) {
    return url;
  }
  x=url.indexOf(StringPool.QUESTION);
  if (x != -1) {
    StringMaker sm=new StringMaker();
    sm.append(url.substring(0,x));
    sm.append(_JSESSIONID);
    sm.append(sessionId);
    sm.append(url.substring(x));
    return sm.toString();
  }
  x=url.indexOf(StringPool.DOUBLE_SLASH);
  StringMaker sm=new StringMaker();
  sm.append(url);
  if (x != -1) {
    int y=url.lastIndexOf(StringPool.SLASH);
    if (x + 1 == y) {
      sm.append(StringPool.SLASH);
    }
  }
  sm.append(_JSESSIONID);
  sm.append(sessionId);
  return sm.toString();
}
