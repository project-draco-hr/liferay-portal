{
  int x=url.indexOf(StringPool.SEMICOLON);
  if (x != -1) {
    return url;
  }
  x=url.indexOf(StringPool.QUESTION);
  if (x != -1) {
    StringBuilder sb=new StringBuilder();
    sb.append(url.substring(0,x));
    sb.append(_JSESSIONID);
    sb.append(sessionId);
    sb.append(url.substring(x));
    return sb.toString();
  }
  x=url.indexOf(StringPool.DOUBLE_SLASH);
  StringBuilder sb=new StringBuilder();
  sb.append(url);
  if (x != -1) {
    int y=url.lastIndexOf(StringPool.SLASH);
    if (x + 1 == y) {
      sb.append(StringPool.SLASH);
    }
  }
  sb.append(_JSESSIONID);
  sb.append(sessionId);
  return sb.toString();
}
