{
  if (portletResponse instanceof ActionResponseImpl) {
    ActionResponseImpl actionResponseImpl=(ActionResponseImpl)portletResponse;
    return actionResponseImpl.getHttpServletResponse();
  }
 else   if (portletResponse instanceof RenderResponseImpl) {
    RenderResponseImpl renderResponseImpl=(RenderResponseImpl)portletResponse;
    return renderResponseImpl.getHttpServletResponse();
  }
 else   if (portletResponse instanceof PortletResponseWrapper) {
    PortletResponseWrapper portletResponseWrapper=(PortletResponseWrapper)portletResponse;
    return getHttpServletResponse(portletResponseWrapper.getResponse());
  }
  HttpServletResponse response=HttpServletUtil.getHttpServletResponse(portletResponse);
  if (response != null) {
    return response;
  }
  PortletResponseImpl portletResponseImpl=PortletResponseImpl.getPortletResponseImpl(portletResponse);
  return portletResponseImpl.getHttpServletResponse();
}
