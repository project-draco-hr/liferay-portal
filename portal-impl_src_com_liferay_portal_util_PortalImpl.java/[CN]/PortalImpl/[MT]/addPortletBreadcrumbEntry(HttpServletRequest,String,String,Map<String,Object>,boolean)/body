{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  String name=WebKeys.PORTLET_BREADCRUMBS;
  if (isPortletBreadcrumbEntry) {
    name+=StringPool.UNDERLINE + portletDisplay.getId();
  }
  List<BreadcrumbEntry> breadcrumbEntries=(List<BreadcrumbEntry>)request.getAttribute(name);
  if (breadcrumbEntries == null) {
    breadcrumbEntries=new ArrayList<>();
    request.setAttribute(name,breadcrumbEntries);
  }
  BreadcrumbEntry breadcrumbEntry=new BreadcrumbEntry();
  breadcrumbEntry.setData(data);
  breadcrumbEntry.setTitle(title);
  breadcrumbEntry.setURL(url);
  breadcrumbEntries.add(breadcrumbEntry);
}
