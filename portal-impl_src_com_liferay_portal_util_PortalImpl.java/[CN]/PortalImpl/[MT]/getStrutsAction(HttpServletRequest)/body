{
  String strutsAction=ParamUtil.getString(request,"struts_action");
  if (Validator.isNotNull(strutsAction)) {
    return StringPool.BLANK;
  }
  int strutsActionCount=0;
  Enumeration<String> enu=request.getParameterNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    int pos=name.indexOf("_struts_action");
    if (pos != -1) {
      strutsActionCount++;
      if (strutsActionCount > 1) {
        return StringPool.BLANK;
      }
      String curStrutsAction=ParamUtil.getString(request,name);
      if (Validator.isNotNull(curStrutsAction)) {
        String portletId1=name.substring(1,pos);
        String portletId2=ParamUtil.getString(request,"p_p_id");
        if (portletId1.equals(portletId2)) {
          strutsAction=curStrutsAction;
        }
      }
    }
  }
  return strutsAction;
}
