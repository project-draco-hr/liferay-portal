{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  String name=WebKeys.PORTLET_BREADCRUMBS;
  if (Validator.isNotNull(portletDisplay.getId()) && !portletDisplay.isFocused()) {
    name+=StringPool.UNDERLINE + portletDisplay.getId();
  }
  List<BreadcrumbEntry> breadcrumbEntries=(List<BreadcrumbEntry>)request.getAttribute(name);
  if (breadcrumbEntries == null) {
    breadcrumbEntries=new ArrayList<BreadcrumbEntry>();
    request.setAttribute(name,breadcrumbEntries);
  }
  BreadcrumbEntry breadcrumbEntry=new BreadcrumbEntry();
  breadcrumbEntry.setData(data);
  breadcrumbEntry.setTitle(title);
  breadcrumbEntry.setURL(url);
  breadcrumbEntries.add(breadcrumbEntry);
}
