{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  if (!portletDisplay.isFocused()) {
    return;
  }
  List<BreadcrumbEntry> breadcrumbEntries=(List<BreadcrumbEntry>)request.getAttribute(WebKeys.PORTLET_BREADCRUMBS);
  if (breadcrumbEntries == null) {
    breadcrumbEntries=new ArrayList<BreadcrumbEntry>();
    request.setAttribute(WebKeys.PORTLET_BREADCRUMBS,breadcrumbEntries);
  }
  BreadcrumbEntry breadcrumbEntry=new BreadcrumbEntry();
  breadcrumbEntry.setData(data);
  breadcrumbEntry.setTitle(title);
  breadcrumbEntry.setURL(url);
  breadcrumbEntries.add(breadcrumbEntry);
}
