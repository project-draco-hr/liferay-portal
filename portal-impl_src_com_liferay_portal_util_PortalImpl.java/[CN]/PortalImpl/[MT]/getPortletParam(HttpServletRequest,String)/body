{
  String portletId=ParamUtil.getString(request,"p_p_id");
  if (Validator.isNull(portletId)) {
    return StringPool.BLANK;
  }
  String value=null;
  int valueCount=0;
  String keyName=StringPool.UNDERLINE.concat(name);
  Map<String,String[]> parameterMap=request.getParameterMap();
  for (  Map.Entry<String,String[]> entry : parameterMap.entrySet()) {
    String parameterName=entry.getKey();
    int pos=parameterName.indexOf(keyName);
    if (pos == -1) {
      continue;
    }
    valueCount++;
    if (valueCount > 1) {
      return StringPool.BLANK;
    }
    String[] parameterValues=entry.getValue();
    if ((parameterValues == null) || (parameterValues.length == 0) || Validator.isNull(parameterValues[0])) {
      continue;
    }
    String portletId1=parameterName.substring(1,pos);
    if (portletId.equals(portletId1)) {
      value=parameterValues[0];
    }
  }
  if (value == null) {
    value=StringPool.BLANK;
  }
  return value;
}
