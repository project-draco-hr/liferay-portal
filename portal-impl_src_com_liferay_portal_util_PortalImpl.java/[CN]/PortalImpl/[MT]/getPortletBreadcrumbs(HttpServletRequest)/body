{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  String portletBreadcrumbKey=WebKeys.PORTLET_BREADCRUMBS;
  if (Validator.isNotNull(portletDisplay.getId()) && !themeDisplay.isPortletDisplayFocused()) {
    portletBreadcrumbKey=WebKeys.PORTLET_BREADCRUMBS + StringPool.UNDERLINE + portletDisplay.getId();
  }
  return (List<BreadcrumbEntry>)request.getAttribute(portletBreadcrumbKey);
}
