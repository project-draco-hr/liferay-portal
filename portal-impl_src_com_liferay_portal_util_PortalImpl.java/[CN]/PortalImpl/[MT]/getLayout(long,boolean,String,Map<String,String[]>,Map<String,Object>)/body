{
  Layout layout=null;
  String layoutFriendlyURL=friendlyURL;
  if (friendlyURL != null) {
    if (friendlyURL.startsWith(JournalArticleConstants.CANONICAL_URL_SEPARATOR)) {
      try {
        layout=getJournalArticleLayout(groupId,privateLayout,friendlyURL);
      }
 catch (      Exception e) {
        throw new NoSuchLayoutException(e);
      }
    }
 else     if (friendlyURL.startsWith(VirtualLayoutConstants.CANONICAL_URL_SEPARATOR)) {
      try {
        Object[] object=getVirtualLayout(privateLayout,friendlyURL,params,requestContext);
        layout=(Layout)object[0];
        layoutFriendlyURL=(String)object[1];
      }
 catch (      Exception e) {
        throw new NoSuchLayoutException(e);
      }
    }
  }
  if (layout == null) {
    Object[] object=getActualLayout(groupId,privateLayout,friendlyURL,params,requestContext);
    layout=(Layout)object[0];
  }
  return new Object[]{layout,layoutFriendlyURL};
}
