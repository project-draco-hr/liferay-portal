{
  if (StringUtil.equalsIgnoreCase(portalDomain,_LOCALHOST) || !StringUtil.equalsIgnoreCase(virtualHostname,_LOCALHOST) || Validator.isBlank(portalDomain)) {
    return virtualHostname;
  }
  int pos=portalDomain.indexOf(CharPool.COLON);
  if (pos == -1) {
    pos=portalDomain.length();
  }
  return portalDomain.substring(0,pos);
}
