{
  String serverName=request.getServerName();
  if (PropsValues.WEB_SERVER_FORWARD_HOST_ENABLED) {
    serverName=request.getHeader(PropsValues.WEB_SERVER_FORWARD_HOST_HEADER);
  }
  int serverPort=request.getServerPort();
  if (PropsValues.WEB_SERVER_FORWARD_PORT_ENABLED) {
    serverPort=GetterUtil.getInteger(request.getHeader(PropsValues.WEB_SERVER_FORWARD_PORT_HEADER));
  }
  return getPortalURL(serverName,serverPort,secure);
}
