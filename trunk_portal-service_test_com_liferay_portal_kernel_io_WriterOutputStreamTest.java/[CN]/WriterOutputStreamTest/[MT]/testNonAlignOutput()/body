{
  CharArrayWriter charArrayWriter=new CharArrayWriter();
  WriterOutputStream writerOutputStream=new WriterOutputStream(charArrayWriter,StringPool.UTF8,true);
  int charNumber=0;
  String nonAlignOutput="???????????????????????????";
  byte[] nonAlignInput=nonAlignOutput.getBytes(StringPool.UTF8);
  for (  byte b : nonAlignInput) {
    writerOutputStream.write(b);
    int currentCharNumber=charArrayWriter.size();
    if (currentCharNumber > charNumber) {
      charNumber=currentCharNumber;
      assertEquals(nonAlignOutput.charAt(charNumber - 1),charArrayWriter.toCharArray()[charNumber - 1]);
    }
  }
}
