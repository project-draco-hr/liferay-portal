{
  Assert.assertTrue(_portalServiceJarFile.delete());
  List<LogRecord> logRecords=JDKLoggerTestUtil.configureJDKLogger(SPIClassPathContextListener.class.getName(),Level.SEVERE);
  SPIClassPathContextListener spiClassPathContextListener=new SPIClassPathContextListener();
  spiClassPathContextListener.contextInitialized(new ServletContextEvent(_mockServletContext));
  Assert.assertSame(StringPool.BLANK,SPIClassPathContextListener.SPI_CLASS_PATH);
  AtomicReference<SPIProvider> spiProviderReference=SPIClassPathContextListener.spiProviderReference;
  Assert.assertNull(spiProviderReference.get());
  Assert.assertEquals(1,logRecords.size());
  LogRecord logRecord=logRecords.get(0);
  Assert.assertEquals("Unable to find portal-service.jar file " + _portalServiceJarFile.getAbsolutePath(),logRecord.getMessage());
}
