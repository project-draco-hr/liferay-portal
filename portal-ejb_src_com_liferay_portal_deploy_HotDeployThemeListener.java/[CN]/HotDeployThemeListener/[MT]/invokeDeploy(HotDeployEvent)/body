{
  String servletContextName=null;
  try {
    ServletContext ctx=event.getServletContext();
    servletContextName=StringUtil.replace(ctx.getServletContextName(),StringPool.SPACE,StringPool.UNDERLINE);
    _log.debug("Invoking deploy for " + servletContextName);
    String[] xmls=new String[]{Http.URLtoString(ctx.getResource("/WEB-INF/liferay-look-and-feel.xml"))};
    if (xmls[0] == null) {
      return;
    }
    _log.info("Registering themes for " + servletContextName);
    List themeIds=ThemeLocalUtil.init(servletContextName,ctx,xmls);
    VelocityContextPool.put(servletContextName,ctx);
    _vars.put(servletContextName,themeIds);
    _log.info("Themes for " + servletContextName + " registered successfully");
  }
 catch (  Exception e) {
    throw new HotDeployException("Error registering themes for " + servletContextName,e);
  }
}
