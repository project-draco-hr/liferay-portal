{
  if (tempFile == null) {
    File tempDir=repository;
    if (tempDir == null) {
      tempDir=new File(System.getProperty("java.io.tmpdir"));
    }
    String tempFileName="upload_" + UID + "_"+ getUniqueId()+ ".tmp";
    tempFile=new File(tempDir,tempFileName);
  }
  return tempFile;
}
