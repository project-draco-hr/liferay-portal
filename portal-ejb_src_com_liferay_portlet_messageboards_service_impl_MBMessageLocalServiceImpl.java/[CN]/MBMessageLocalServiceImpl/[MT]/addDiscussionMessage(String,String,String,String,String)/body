{
  String categoryId=Company.SYSTEM;
  List files=new ArrayList();
  boolean anonymous=false;
  PortletPreferences prefs=null;
  boolean addCommunityPermissions=true;
  boolean addGuestPermissions=true;
  try {
    MBCategoryUtil.findByPrimaryKey(categoryId);
  }
 catch (  NoSuchCategoryException nsce) {
    MBCategory category=MBCategoryUtil.create(categoryId);
    category.setCompanyId(categoryId);
    category.setUserId(categoryId);
    MBCategoryUtil.update(category);
  }
  return addMessage(userId,categoryId,threadId,parentMessageId,subject,body,files,anonymous,prefs,addCommunityPermissions,addGuestPermissions);
}
