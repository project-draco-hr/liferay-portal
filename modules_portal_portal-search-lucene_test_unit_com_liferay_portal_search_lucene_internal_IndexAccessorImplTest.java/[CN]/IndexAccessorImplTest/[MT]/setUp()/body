{
  _documentsCount=1;
  IndexAccessorImpl.luceneConfiguration=new MockLuceneConfiguration();
  IndexCommitSerializationUtil.luceneConfiguration=IndexAccessorImpl.luceneConfiguration;
  ComponentContext mockComponentContext=Mockito.mock(ComponentContext.class);
  BundleContext bundleContext=Mockito.mock(BundleContext.class);
  Mockito.when(bundleContext.registerService(Version.class,Version.LUCENE_35,new Hashtable<String,Object>())).thenReturn(Mockito.mock(ServiceRegistration.class));
  Mockito.when(mockComponentContext.getBundleContext()).thenReturn(bundleContext);
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  properties.put("version","LUCENE_35");
  Mockito.when(mockComponentContext.getProperties()).thenReturn(properties);
  PerFieldAnalyzer perFieldAnalyzer=new PerFieldAnalyzer();
  perFieldAnalyzer.activate(mockComponentContext);
  IndexAccessorImpl.luceneHelper=Mockito.mock(LuceneHelper.class);
  _indexAccessorImpl=new IndexAccessorImpl(perFieldAnalyzer,Version.LUCENE_35,_TEST_COMPANY_ID);
  FastDateFormatFactoryUtil fastDateFormatFactoryUtil=new FastDateFormatFactoryUtil();
  fastDateFormatFactoryUtil.setFastDateFormatFactory(new FastDateFormatFactoryImpl());
  FileUtil fileUtil=new FileUtil();
  fileUtil.setFile(new FileImpl());
}
