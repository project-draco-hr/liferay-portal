{
  if (portalSource && !isModulesFile(absolutePath)) {
    if (_tablesContent == null) {
      _tablesContent=getContent("sql/portal-tables.sql",PORTAL_MAX_DIR_LEVEL);
    }
    return _tablesContent;
  }
  String tablesContent=_tablesContentMap.get(fileName);
  if (tablesContent != null) {
    return tablesContent;
  }
  int pos=fileName.lastIndexOf(CharPool.SLASH);
  String moduleOrPluginFolder=fileName.substring(0,pos);
  if (portalSource) {
    tablesContent=FileUtil.read(new File(moduleOrPluginFolder + "/src/main/resources/META-INF/sql/tables.sql"));
    if (tablesContent == null) {
      tablesContent=FileUtil.read(new File(moduleOrPluginFolder + "/src/META-INF/sql/tables.sql"));
    }
  }
 else {
    tablesContent=FileUtil.read(new File(moduleOrPluginFolder + "/sql/tables.sql"));
  }
  _tablesContentMap.put(fileName,tablesContent);
  return tablesContent;
}
