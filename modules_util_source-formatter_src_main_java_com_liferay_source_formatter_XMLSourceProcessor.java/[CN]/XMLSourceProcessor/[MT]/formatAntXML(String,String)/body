{
  String newContent=trimContent(content,true);
  newContent=fixAntXMLProjectName(fileName,newContent);
  Document document=readXML(content);
  checkOrder(fileName,document.getRootElement(),"macrodef",null,new ElementComparator());
  checkOrder(fileName,document.getRootElement(),"target",null,new ElementComparator());
  int x=content.lastIndexOf("</macrodef>");
  int y=content.indexOf("<process-ivy");
  if ((y != -1) && (x > y)) {
    processErrorMessage(fileName,"macrodefs go before process-ivy: " + fileName);
  }
  int z=content.indexOf("</target>");
  if ((z != -1) && (x > z)) {
    processErrorMessage(fileName,"macrodefs go before targets: " + fileName);
  }
  return newContent;
}
