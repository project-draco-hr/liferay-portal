{
  if (isExcludedPath(_xmlExcludes,absolutePath)) {
    return content;
  }
  String newContent=content;
  if (!fileName.startsWith(sourceFormatterArgs.getBaseDirName() + "build") && !fileName.contains("/build")) {
    newContent=trimContent(newContent,false);
  }
  if (fileName.startsWith(sourceFormatterArgs.getBaseDirName() + "build") || (fileName.contains("/build") && !fileName.contains("/tools/"))) {
    newContent=formatAntXML(fileName,newContent);
  }
 else   if (fileName.contains("/custom-sql/")) {
    formatCustomSQLXML(fileName,newContent);
  }
 else   if (fileName.endsWith("structures.xml")) {
    newContent=formatDDLStructuresXML(newContent);
  }
 else   if (fileName.endsWith("routes.xml")) {
    newContent=formatFriendlyURLRoutesXML(fileName,newContent);
  }
 else   if (fileName.endsWith("-hbm.xml")) {
    formatHBMXML(fileName,newContent);
  }
 else   if (fileName.endsWith("-model-hints.xml")) {
    formatModelHintsXML(fileName,newContent);
  }
 else   if (fileName.endsWith("/liferay-portlet.xml") || (portalSource && fileName.endsWith("/portlet-custom.xml")) || (!portalSource && fileName.endsWith("/portlet.xml"))) {
    newContent=formatPortletXML(fileName,absolutePath,newContent);
  }
 else   if (fileName.endsWith(".action") || fileName.endsWith(".function") || fileName.endsWith(".macro")|| fileName.endsWith(".testcase")) {
    newContent=formatPoshiXML(fileName,newContent);
  }
 else   if (fileName.contains("/resource-actions/")) {
    formatResourceActionXML(fileName,newContent);
  }
 else   if (fileName.endsWith("/service.xml")) {
    formatServiceXML(fileName,absolutePath,newContent);
  }
 else   if (fileName.endsWith("/schema.xml") && absolutePath.contains("solr")) {
    formatSolrSchema(fileName,newContent);
  }
 else   if (portalSource && fileName.endsWith("/struts-config.xml")) {
    formatStrutsConfigXML(fileName,newContent);
  }
 else   if (portalSource && fileName.endsWith("/tiles-defs.xml")) {
    formatTilesDefsXML(fileName,newContent);
  }
 else   if ((portalSource && fileName.endsWith("portal-web/docroot/WEB-INF/web.xml")) || (!portalSource && fileName.endsWith("/web.xml"))) {
    newContent=formatWebXML(fileName,newContent);
  }
  return formatXML(newContent);
}
