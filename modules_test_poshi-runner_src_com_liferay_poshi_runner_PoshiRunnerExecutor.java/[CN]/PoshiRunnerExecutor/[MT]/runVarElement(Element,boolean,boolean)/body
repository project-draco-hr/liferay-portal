{
  PoshiRunnerStackTraceUtil.setCurrentElement(element);
  if (updateLoggerStatus) {
    XMLLoggerHandler.updateStatus(element,"pending");
  }
  String varName=element.attributeValue("name");
  String varValue=element.attributeValue("value");
  if (varValue == null) {
    if (element.attributeValue("method") != null) {
      String classCommandName=PoshiRunnerVariablesUtil.replaceCommandVars(element.attributeValue("method"));
      if (classCommandName.startsWith("TestPropsUtil")) {
        classCommandName=classCommandName.replace("TestPropsUtil","PropsUtil");
      }
      varValue=PoshiRunnerGetterUtil.getVarMethodValue(classCommandName);
    }
 else     if (element.attributeValue("attribute") != null) {
      LiferaySelenium liferaySelenium=SeleniumUtil.getSelenium();
      String attributeName=element.attributeValue("attribute");
      String locator=element.attributeValue("locator");
      varValue=liferaySelenium.getAttribute(locator + "@" + attributeName);
    }
 else     if ((element.attributeValue("group") != null) && (element.attributeValue("input") != null) && (element.attributeValue("pattern") != null)) {
      StringBuilder sb=new StringBuilder();
      sb.append("RegexUtil#replace(");
      sb.append(element.attributeValue("input"));
      sb.append(StringPool.COMMA);
      sb.append(element.attributeValue("pattern"));
      sb.append(StringPool.COMMA);
      sb.append(element.attributeValue("group"));
      sb.append(StringPool.CLOSE_PARENTHESIS);
      varValue=PoshiRunnerGetterUtil.getVarMethodValue(sb.toString());
    }
 else {
      varValue=element.getText();
    }
  }
 else {
    Matcher matcher=_variableMethodPattern.matcher(varValue);
    if (matcher.find()) {
      String method=matcher.group(2);
      String variable=matcher.group(1);
      if (method.equals("length()")) {
        if (PoshiRunnerVariablesUtil.containsKeyInCommandMap(variable)) {
          variable=PoshiRunnerVariablesUtil.getValueFromCommandMap(variable);
        }
 else {
          throw new Exception("No such variable " + variable);
        }
        varValue=String.valueOf(variable.length());
      }
 else {
        throw new Exception("No such method " + method);
      }
    }
  }
  String replacedVarValue=PoshiRunnerVariablesUtil.replaceCommandVars(varValue);
  Matcher matcher=_variablePattern.matcher(replacedVarValue);
  if (matcher.matches() && replacedVarValue.equals(varValue)) {
    if (updateLoggerStatus) {
      XMLLoggerHandler.updateStatus(element,"pass");
    }
    return;
  }
  if (commandVar) {
    PoshiRunnerVariablesUtil.putIntoCommandMap(varName,replacedVarValue);
  }
 else {
    PoshiRunnerVariablesUtil.putIntoExecuteMap(varName,replacedVarValue);
  }
  if (updateLoggerStatus) {
    XMLLoggerHandler.updateStatus(element,"pass");
  }
}
