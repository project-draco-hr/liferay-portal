{
  PoshiRunnerStackTraceUtil.setCurrentElement(executeElement);
  List<Element> executeVarElements=executeElement.elements("var");
  for (  Element executeVarElement : executeVarElements) {
    runVarElement(executeVarElement,false);
  }
  String classCommandName=executeElement.attributeValue("function");
  String className=classCommandName;
  if (classCommandName.contains("#")) {
    className=PoshiRunnerGetterUtil.getClassNameFromClassCommandName(classCommandName);
  }
  int locatorCount=PoshiRunnerContext.getFunctionLocatorCount(className);
  for (int i=0; i < locatorCount; i++) {
    String locator=executeElement.attributeValue("locator" + (i + 1));
    if (locator == null) {
      locator=PoshiRunnerVariablesUtil.getValueFromCommandMap("locator" + (i + 1));
    }
    if (locator != null) {
      if (locator.contains("#")) {
        String pathClassName=PoshiRunnerGetterUtil.getClassNameFromClassCommandName(locator);
        String locatorKey=PoshiRunnerVariablesUtil.replaceCommandVars(PoshiRunnerGetterUtil.getCommandNameFromClassCommandName(locator));
        PoshiRunnerVariablesUtil.putIntoExecuteMap("locator-key" + (i + 1),locatorKey);
        locator=PoshiRunnerContext.getPathLocator(pathClassName + "#" + locatorKey);
        locator=PoshiRunnerVariablesUtil.replaceExecuteVars(locator);
      }
      PoshiRunnerVariablesUtil.putIntoExecuteMap("locator" + (i + 1),locator);
    }
    String value=executeElement.attributeValue("value" + (i + 1));
    if (value == null) {
      value=PoshiRunnerVariablesUtil.getValueFromCommandMap("value" + (i + 1));
    }
    if (value != null) {
      PoshiRunnerVariablesUtil.putIntoExecuteMap("value" + (i + 1),value);
    }
  }
  PoshiRunnerStackTraceUtil.pushStackTrace(executeElement.attributeValue("line-number"));
  CommandLoggerHandler.startCommand(executeElement);
  SummaryLoggerHandler.startSummary(executeElement);
  Element commandElement=PoshiRunnerContext.getFunctionCommandElement(classCommandName);
  try {
    runFunctionCommandElement(classCommandName,commandElement);
  }
 catch (  Exception e) {
    CommandLoggerHandler.failCommand(executeElement);
    SummaryLoggerHandler.failSummary(executeElement,e.getMessage());
    throw e;
  }
  CommandLoggerHandler.passCommand(executeElement);
  SummaryLoggerHandler.passSummary(executeElement);
  PoshiRunnerStackTraceUtil.popStackTrace();
}
