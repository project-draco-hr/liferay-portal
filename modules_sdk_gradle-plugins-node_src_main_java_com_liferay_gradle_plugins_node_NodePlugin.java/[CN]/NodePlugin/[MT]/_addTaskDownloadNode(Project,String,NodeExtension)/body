{
  DownloadNodeTask downloadNodeTask=GradleUtil.addTask(project,taskName,DownloadNodeTask.class);
  downloadNodeTask.setNodeDir(new Callable<File>(){
    @Override public File call() throws Exception {
      return nodeExtension.getNodeDir();
    }
  }
);
  downloadNodeTask.setNodeExeUrl(new Callable<String>(){
    @Override public String call() throws Exception {
      return nodeExtension.getNodeExeUrl();
    }
  }
);
  downloadNodeTask.setNodeUrl(new Callable<String>(){
    @Override public String call() throws Exception {
      return nodeExtension.getNodeUrl();
    }
  }
);
  downloadNodeTask.onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      return nodeExtension.isDownload();
    }
  }
);
  downloadNodeTask.setDescription("Downloads Node.js in the project build directory.");
  return downloadNodeTask;
}
