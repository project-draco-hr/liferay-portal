{
  ServletRequest servletRequest=getRequest();
  try {
    Field servletRequestAttributesField=ReflectionUtil.getDeclaredField(servletRequest.getClass(),"attributes");
    Object servletRequestAttributes=servletRequestAttributesField.get(servletRequest);
    Field attributesField=ReflectionUtil.getDeclaredField(servletRequestAttributes.getClass(),"attributes");
    Map<Object,Object> map=(Map<Object,Object>)attributesField.get(servletRequestAttributes);
    Object attribute=map.get(attributeName);
    Field isWebLogicClassLoaderField=ReflectionUtil.getDeclaredField(attribute.getClass(),"isWebLogicClassLoader");
    isWebLogicClassLoaderField.set(attribute,false);
  }
 catch (  NoSuchFieldException nsfe) {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to get fields from a Weblogic servlet request");
    }
  }
catch (  Exception e) {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to set WebLogic class loader flag for attribute " + attributeName + " in servlet request "+ servletRequest);
    }
  }
}
