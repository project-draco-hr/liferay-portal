{
  Group group=GroupUtil.findByPrimaryKey(groupId);
  String name=group.getName();
  if (group.isUser()) {
    long userId=group.getClassPK();
    User user=UserUtil.findByPrimaryKey(userId);
    name=user.getFullName();
  }
  SyndFeed syndFeed=new SyndFeedImpl();
  syndFeed.setFeedType(type + "_" + version);
  syndFeed.setTitle(name);
  syndFeed.setLink(url);
  syndFeed.setDescription(name);
  List entries=new ArrayList();
  syndFeed.setEntries(entries);
  Iterator itr=BlogsEntryUtil.findByGroupId(groupId,begin,end).iterator();
  while (itr.hasNext()) {
    BlogsEntry entry=(BlogsEntry)itr.next();
    String firstLine=StringUtil.shorten(Html.stripHtml(entry.getContent()),80,StringPool.BLANK);
    SyndEntry syndEntry=new SyndEntryImpl();
    syndEntry.setTitle(entry.getTitle());
    syndEntry.setLink(url + "&entryId=" + entry.getEntryId());
    syndEntry.setPublishedDate(entry.getCreateDate());
    SyndContent syndContent=new SyndContentImpl();
    syndContent.setType(Constants.TEXT_PLAIN);
    syndContent.setValue(firstLine);
    syndEntry.setDescription(syndContent);
    entries.add(syndEntry);
  }
  try {
    return RSSUtil.export(syndFeed);
  }
 catch (  FeedException fe) {
    throw new SystemException(fe);
  }
catch (  IOException ioe) {
    throw new SystemException(ioe);
  }
}
