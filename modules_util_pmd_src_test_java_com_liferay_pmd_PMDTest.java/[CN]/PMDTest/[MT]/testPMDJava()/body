{
  SourceLanguage sourceLanguage=new SourceLanguage();
  sourceLanguage.setName("java");
  sourceLanguage.setVersion(_buildProperties.getProperty("ant.build.javac.source"));
  _pmdTask.addConfiguredSourceLanguage(sourceLanguage);
  CaptureHandler captureHandler=JDKLoggerTestUtil.configureJDKLogger(ClassTypeResolver.class.getName(),Level.SEVERE);
  try {
    _pmdTask.execute();
    List<LogRecord> logRecords=captureHandler.getLogRecords();
    if (!logRecords.isEmpty()) {
      AssertionError assertionError=new AssertionError("PMD Java log error");
      for (      LogRecord logRecord : logRecords) {
        assertionError.addSuppressed(new Throwable(logRecord.getMessage(),logRecord.getThrown()));
      }
      throw assertionError;
    }
    List<String> list=Files.readAllLines(_logFilePath,Charset.defaultCharset());
    Assert.assertTrue(list.toString(),list.isEmpty());
  }
  finally {
    captureHandler.close();
  }
}
