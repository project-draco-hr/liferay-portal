{
  JspWriter jspWriter=pageContext.getOut();
  jspWriter.write("<script type=\"text/javascript\">\n// <![CDATA[\n");
  StringBundler rawSB=scriptData.getRawSB();
  rawSB.writeTo(jspWriter);
  StringBundler callbackSB=scriptData.getCallbackSB();
  if (callbackSB.index() > 0) {
    String loadMethod="use";
    HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
    if (BrowserSnifferUtil.isIe(request) && (BrowserSnifferUtil.getMajorVersion(request) < 8)) {
      loadMethod="ready";
    }
    jspWriter.write("AUI().");
    jspWriter.write(loadMethod);
    jspWriter.write("(");
    Set<String> useSet=scriptData.getUseSet();
    for (    String use : useSet) {
      jspWriter.write(StringPool.APOSTROPHE);
      jspWriter.write(use);
      jspWriter.write(StringPool.APOSTROPHE);
      jspWriter.write(StringPool.COMMA_AND_SPACE);
    }
    jspWriter.write("function(A) {");
    callbackSB.writeTo(jspWriter);
    jspWriter.write("});");
  }
  jspWriter.write("\n// ]]>\n</script>");
}
