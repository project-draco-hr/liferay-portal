{
  CharArrayWriter charArrayWriter=new CharArrayWriter();
  WriterOutputStream writerOutputStream=new WriterOutputStream(charArrayWriter,StringPool.UTF8,true);
  String unalignedOutput="???????????????????????????";
  byte[] unalignedInput=unalignedOutput.getBytes(StringPool.UTF8);
  writerOutputStream.write(unalignedInput[0]);
  writerOutputStream.write(unalignedInput,1,unalignedInput.length - 2);
  writerOutputStream.write(unalignedInput[unalignedInput.length - 1]);
  writerOutputStream.close();
  Assert.assertEquals(unalignedOutput,charArrayWriter.toString());
}
