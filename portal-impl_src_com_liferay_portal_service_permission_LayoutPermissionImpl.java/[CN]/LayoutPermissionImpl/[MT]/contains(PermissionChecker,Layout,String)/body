{
  if (GroupPermissionUtil.contains(permissionChecker,layout.getGroupId(),ActionKeys.MANAGE_LAYOUTS)) {
    return true;
  }
  try {
    ResourceLocalServiceUtil.getResource(layout.getCompanyId(),Layout.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,String.valueOf(layout.getPlid()));
  }
 catch (  NoSuchResourceException nsre) {
    boolean addCommunityPermission=true;
    boolean addGuestPermission=true;
    if (layout.isPrivateLayout()) {
      addGuestPermission=false;
    }
    ResourceLocalServiceUtil.addResources(layout.getCompanyId(),layout.getGroupId(),0,Layout.class.getName(),layout.getPlid(),false,addCommunityPermission,addGuestPermission);
  }
  return permissionChecker.hasPermission(layout.getGroupId(),Layout.class.getName(),layout.getPlid(),actionId);
}
