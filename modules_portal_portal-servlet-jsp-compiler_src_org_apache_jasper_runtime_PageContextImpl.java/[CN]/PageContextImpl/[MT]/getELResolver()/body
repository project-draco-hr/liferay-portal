{
  if (elResolver == null) {
    CompositeELResolver celResolver=new CompositeELResolver();
    celResolver.add(new ImplicitObjectELResolver());
    JspApplicationContextImpl jaContext=getJspApplicationContext();
    Iterator<ELResolver> it=jaContext.getELResolvers();
    while (it.hasNext()) {
      celResolver.add(it.next());
    }
    celResolver.add(new MapELResolver());
    celResolver.add(new ResourceBundleELResolver());
    celResolver.add(new ListELResolver());
    celResolver.add(new ArrayELResolver());
    celResolver.add(new BeanELResolver());
    if (com.liferay.portal.kernel.util.ServerDetector.isResin()) {
      celResolver.add(new com.liferay.servletjspcompiler.el.JSP_2_2_CompatibleElResolver());
    }
 else {
      celResolver.add(new ScopedAttributeELResolver());
    }
    elResolver=celResolver;
  }
  return elResolver;
}
