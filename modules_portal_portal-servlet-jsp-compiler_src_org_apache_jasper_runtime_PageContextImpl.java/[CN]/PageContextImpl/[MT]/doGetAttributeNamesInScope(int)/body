{
switch (scope) {
case PAGE_SCOPE:
    if (!isNametableInitialized) {
      initializePageScopeNameTable();
    }
  return Collections.enumeration(attributes.keySet());
case REQUEST_SCOPE:
return request.getAttributeNames();
case SESSION_SCOPE:
if (session == null) {
throw new IllegalStateException(Localizer.getMessage("jsp.error.page.noSession"));
}
return session.getAttributeNames();
case APPLICATION_SCOPE:
return context.getAttributeNames();
default :
throw new IllegalArgumentException("Invalid scope");
}
}
