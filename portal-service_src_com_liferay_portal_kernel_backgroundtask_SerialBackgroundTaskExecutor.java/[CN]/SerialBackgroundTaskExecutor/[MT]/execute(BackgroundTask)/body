{
  Lock lock=null;
  String owner=backgroundTask.getName() + StringPool.POUND + backgroundTask.getBackgroundTaskId();
  try {
    if (isSerial()) {
      lock=acquireLock(backgroundTask,owner);
    }
    BackgroundTaskExecutor backgroundTaskExecutor=getBackgroundTaskExecutor();
    return backgroundTaskExecutor.execute(backgroundTask);
  }
  finally {
    if (lock != null) {
      LockLocalServiceUtil.unlock(BackgroundTaskExecutor.class.getName(),backgroundTask.getTaskExecutorClassName(),owner,false);
    }
  }
}
