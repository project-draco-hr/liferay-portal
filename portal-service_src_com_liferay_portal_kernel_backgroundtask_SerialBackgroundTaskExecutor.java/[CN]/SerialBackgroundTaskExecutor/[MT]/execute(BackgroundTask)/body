{
  Lock lock=null;
  try {
    if (isSerial()) {
      String owner=backgroundTask.getName() + StringPool.POUND + backgroundTask.getBackgroundTaskId();
      lock=LockLocalServiceUtil.lock(backgroundTask.getUserId(),BackgroundTaskExecutor.class.getName(),backgroundTask.getTaskExecutorClassName(),owner,false,0);
    }
    return _backgroundTaskExecutor.execute(backgroundTask);
  }
  finally {
    if (lock != null) {
      LockLocalServiceUtil.unlock(BaseBackgroundTaskExecutor.class.getName(),backgroundTask.getTaskExecutorClassName());
    }
  }
}
