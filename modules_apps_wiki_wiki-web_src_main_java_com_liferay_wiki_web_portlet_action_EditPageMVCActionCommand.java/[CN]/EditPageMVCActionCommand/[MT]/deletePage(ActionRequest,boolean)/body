{
  long nodeId=ParamUtil.getLong(actionRequest,"nodeId");
  String title=ParamUtil.getString(actionRequest,"title");
  double version=ParamUtil.getDouble(actionRequest,"version");
  String[] deletePageTitles=null;
  if (Validator.isNotNull(title)) {
    deletePageTitles=new String[]{title};
  }
 else {
    deletePageTitles=ParamUtil.getStringValues(actionRequest,"rowIdsWikiPage");
  }
  List<TrashedModel> trashedModels=new ArrayList<>();
  for (  String deletePageTitle : deletePageTitles) {
    if (moveToTrash) {
      WikiPage trashedWikiPage=null;
      if (version > 0) {
        trashedWikiPage=_wikiPageService.movePageToTrash(nodeId,deletePageTitle,version);
      }
 else {
        trashedWikiPage=_wikiPageService.movePageToTrash(nodeId,deletePageTitle);
      }
      trashedModels.add(trashedWikiPage);
    }
 else {
      if (version > 0) {
        _wikiPageService.discardDraft(nodeId,deletePageTitle,version);
      }
 else {
        _wikiPageService.deletePage(nodeId,deletePageTitle);
      }
    }
  }
  if (moveToTrash && !trashedModels.isEmpty()) {
    TrashUtil.addTrashSessionMessages(actionRequest,trashedModels);
    hideDefaultSuccessMessage(actionRequest);
  }
}
