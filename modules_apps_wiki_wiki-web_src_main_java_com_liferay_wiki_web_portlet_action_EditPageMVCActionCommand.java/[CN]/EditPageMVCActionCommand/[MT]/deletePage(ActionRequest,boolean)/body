{
  long nodeId=ParamUtil.getLong(actionRequest,"nodeId");
  String title=ParamUtil.getString(actionRequest,"title");
  double version=ParamUtil.getDouble(actionRequest,"version");
  String[] deletePageTitles=null;
  if (Validator.isNotNull(title)) {
    deletePageTitles=new String[]{title};
  }
 else {
    long[] rowIdsWikiPages=ParamUtil.getLongValues(actionRequest,"rowIdsWikiPage");
    deletePageTitles=new String[rowIdsWikiPages.length];
    for (    long rowIdsWikiPage : rowIdsWikiPages) {
      WikiPage rowPage=_wikiPageLocalService.getPageByPageId(rowIdsWikiPage);
      deletePageTitles=ArrayUtil.append(deletePageTitles,rowPage.getTitle());
    }
  }
  List<TrashedModel> trashedModels=new ArrayList<>();
  if (moveToTrash) {
    for (    String deletePageTitle : deletePageTitles) {
      WikiPage trashedWikiPage=null;
      if (version > 0) {
        trashedWikiPage=_wikiPageService.movePageToTrash(nodeId,deletePageTitle,version);
      }
 else {
        trashedWikiPage=_wikiPageService.movePageToTrash(nodeId,deletePageTitle);
      }
      trashedModels.add(trashedWikiPage);
    }
  }
 else {
    for (    String deletePageTitle : deletePageTitles) {
      if (version > 0) {
        _wikiPageService.discardDraft(nodeId,deletePageTitle,version);
      }
 else {
        _wikiPageService.deletePage(nodeId,deletePageTitle);
      }
    }
  }
  if (moveToTrash && !trashedModels.isEmpty()) {
    TrashUtil.addTrashSessionMessages(actionRequest,trashedModels);
    hideDefaultSuccessMessage(actionRequest);
  }
}
