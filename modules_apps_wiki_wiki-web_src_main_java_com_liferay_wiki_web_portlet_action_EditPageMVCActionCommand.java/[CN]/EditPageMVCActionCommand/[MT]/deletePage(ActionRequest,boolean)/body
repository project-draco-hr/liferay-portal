{
  long nodeId=ParamUtil.getLong(actionRequest,"nodeId");
  String title=ParamUtil.getString(actionRequest,"title");
  double version=ParamUtil.getDouble(actionRequest,"version");
  WikiPage wikiPage=null;
  if (moveToTrash) {
    if (version > 0) {
      wikiPage=_wikiPageService.movePageToTrash(nodeId,title,version);
    }
 else {
      wikiPage=_wikiPageService.movePageToTrash(nodeId,title);
    }
  }
 else {
    if (version > 0) {
      _wikiPageService.discardDraft(nodeId,title,version);
    }
 else {
      _wikiPageService.deletePage(nodeId,title);
    }
  }
  if (moveToTrash && (wikiPage != null)) {
    TrashUtil.addTrashSessionMessages(actionRequest,wikiPage);
    hideDefaultSuccessMessage(actionRequest);
  }
}
