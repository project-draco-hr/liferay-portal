{
  Map<String,byte[]> images=new HashMap<String,byte[]>();
  Iterator<Field> iterator=fields.iterator();
  while (iterator.hasNext()) {
    Field field=iterator.next();
    String dataType=field.getDataType();
    String name=field.getName();
    if (!dataType.equals(FieldConstants.IMAGE)) {
      continue;
    }
    List<Serializable> values=field.getValues(locale);
    for (int i=0; i < values.size(); i++) {
      String content=(String)values.get(i);
      if (content.equals("update")) {
        continue;
      }
      StringBundler sb=new StringBundler(6);
      sb.append(StringPool.UNDERLINE);
      sb.append(name);
      sb.append(StringPool.UNDERLINE);
      sb.append(i);
      sb.append(StringPool.UNDERLINE);
      sb.append(LanguageUtil.getLanguageId(locale));
      images.put(sb.toString(),UnicodeFormatter.hexToBytes(content));
    }
  }
  return images;
}
