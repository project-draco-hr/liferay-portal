{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String originalRedirect=ParamUtil.getString(actionRequest,"originalRedirect");
  LiferayPortletURL liferayPortletURL=PortletURLFactoryUtil.create(actionRequest,portletConfig.getPortletName(),themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  liferayPortletURL.setWindowState(WindowState.MAXIMIZED);
  liferayPortletURL.setParameter("struts_action","/journal/edit_article");
  liferayPortletURL.setParameter(Constants.CMD,Constants.UPDATE,false);
  liferayPortletURL.setParameter("redirect",redirect,false);
  liferayPortletURL.setParameter("originalRedirect",originalRedirect,false);
  liferayPortletURL.setParameter("groupId",String.valueOf(article.getGroupId()),false);
  liferayPortletURL.setParameter("articleId",article.getArticleId(),false);
  liferayPortletURL.setParameter("version",String.valueOf(article.getVersion()),false);
  return liferayPortletURL.toString();
}
