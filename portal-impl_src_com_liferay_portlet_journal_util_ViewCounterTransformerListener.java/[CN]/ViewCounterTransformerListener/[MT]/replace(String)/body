{
  Map<String,String> tokens=getTokens();
  String articleResourcePK=tokens.get("article_resource_pk");
  String counterToken=StringPool.AT + "view_counter" + StringPool.AT;
  StringBundler sb=new StringBundler(8);
  sb.append("<script type=\"text/javascript\">");
  sb.append("Liferay.Service.Tags.TagsAsset.incrementViewCounter");
  sb.append("({className:'");
  sb.append("com.liferay.portlet.journal.model.JournalArticle', ");
  sb.append("classPK:");
  sb.append(articleResourcePK);
  sb.append("});");
  sb.append("</script>");
  s=StringUtil.replace(s,counterToken,sb.toString());
  return s;
}
