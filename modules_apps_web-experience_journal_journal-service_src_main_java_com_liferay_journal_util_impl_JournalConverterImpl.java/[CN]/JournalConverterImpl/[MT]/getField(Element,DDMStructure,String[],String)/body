{
  Field ddmField=new Field();
  Locale defaultLocale=null;
  if (defaultLanguageId == null) {
    defaultLocale=LocaleUtil.getSiteDefault();
  }
 else {
    defaultLocale=LocaleUtil.fromLanguageId(defaultLanguageId);
  }
  ddmField.setDDMStructureId(ddmStructure.getStructureId());
  ddmField.setDefaultLocale(defaultLocale);
  String name=dynamicElementElement.attributeValue("name");
  ddmField.setName(name);
  String dataType=ddmStructure.getFieldDataType(name);
  String type=ddmStructure.getFieldType(name);
  Set<String> missingLanguageIds=SetUtil.fromArray(availableLanguageIds);
  missingLanguageIds.remove(defaultLanguageId);
  List<Element> dynamicContentElements=dynamicElementElement.elements("dynamic-content");
  for (  Element dynamicContentElement : dynamicContentElements) {
    Locale locale=defaultLocale;
    String languageId=dynamicContentElement.attributeValue("language-id");
    if (Validator.isNotNull(languageId)) {
      locale=LocaleUtil.fromLanguageId(languageId);
      missingLanguageIds.remove(languageId);
    }
    Serializable serializable=getFieldValue(dataType,type,dynamicContentElement);
    ddmField.addValue(locale,serializable);
  }
  addMissingFieldValues(ddmField,defaultLanguageId,missingLanguageIds);
  return ddmField;
}
