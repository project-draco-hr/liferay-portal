{
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddGuestPermissions(true);
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAttribute("layout.instanceable.allowed",Boolean.TRUE);
  serviceContext.setAttribute("layoutUpdateable",Boolean.FALSE);
  serviceContext.setScopeGroupId(groupId);
  long defaultUserId=_userLocalService.getDefaultUserId(companyId);
  serviceContext.setUserId(defaultUserId);
  _layoutLocalService.addLayout(defaultUserId,groupId,false,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID,"Shared",StringPool.BLANK,StringPool.BLANK,LayoutConstants.TYPE_SHARED_PORTLET,true,"/shared",serviceContext);
}
