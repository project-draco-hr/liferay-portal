{
  if (!content.equals(newContent)) {
    if (sourceFormatterArgs.isPrintErrors()) {
      _sourceFormatterHelper.printError(fileName,file);
    }
    if (sourceFormatterArgs.isAutoFix()) {
      FileUtil.write(file,newContent);
    }
 else     if (_firstSourceMismatchException == null) {
      _firstSourceMismatchException=new SourceMismatchException(fileName,content,newContent);
    }
  }
  if (sourceFormatterArgs.isPrintErrors()) {
    Set<SourceFormatterMessage> sourceFormatterMessages=_sourceFormatterMessagesMap.get(fileName);
    if (sourceFormatterMessages != null) {
      for (      SourceFormatterMessage sourceFormatterMessage : sourceFormatterMessages) {
        _sourceFormatterHelper.printError(fileName,sourceFormatterMessage.toString());
      }
    }
  }
  _modifiedFileNames.add(file.getAbsolutePath());
}
