{
  String previousDefinition=null;
  Matcher matcher=_definitionPattern.matcher(content);
  while (matcher.find()) {
    String newContent=formatDefinitionKey(fileName,content,matcher.group(1));
    if (!newContent.equals(content)) {
      return newContent;
    }
    String definition=matcher.group();
    if (Validator.isNotNull(matcher.group(1))) {
      definition=definition.substring(0,definition.length() - 1);
    }
    if (Validator.isNotNull(previousDefinition)) {
      int value=comparator.compare(previousDefinition,definition);
      if (value > 0) {
        content=StringUtil.replaceFirst(content,previousDefinition,definition);
        content=StringUtil.replaceLast(content,definition,previousDefinition);
        return content;
      }
      if (value == 0) {
        return StringUtil.replaceFirst(content,previousDefinition + "\n",StringPool.BLANK);
      }
    }
    previousDefinition=definition;
  }
  return content;
}
