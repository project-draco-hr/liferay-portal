{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  HttpServletRequest request=PortalUtil.getHttpServletRequest(actionRequest);
  HttpServletRequest originalRequest=PortalUtil.getOriginalServletRequest(request);
  String title=ParamUtil.getString(originalRequest,"title");
  String excerpt=ParamUtil.getString(originalRequest,"excerpt");
  String url=ParamUtil.getString(originalRequest,"url");
  String blogName=ParamUtil.getString(originalRequest,"blog_name");
  BlogsEntry entry=validate(actionRequest,request,url);
  long userId=UserLocalServiceUtil.getDefaultUserId(themeDisplay.getCompanyId());
  long groupId=entry.getGroupId();
  String className=BlogsEntry.class.getName();
  long classPK=entry.getEntryId();
  String body="[...] " + excerpt + " [...] [url="+ url+ "]"+ themeDisplay.translate("read-more")+ "[/url]";
  String entryURL=PortalUtil.getLayoutFullURL(themeDisplay) + Portal.FRIENDLY_URL_SEPARATOR + "blogs/"+ entry.getUrlTitle();
  long messageId=_comments.addTrackbackComment(userId,groupId,className,classPK,blogName,title,body,actionRequest);
  LinkbackConsumerUtil.addNewTrackback(messageId,url,entryURL);
}
