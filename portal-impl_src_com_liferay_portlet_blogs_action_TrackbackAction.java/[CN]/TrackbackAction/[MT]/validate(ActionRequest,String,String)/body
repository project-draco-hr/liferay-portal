{
  if (!isCommentsEnabled(actionRequest)) {
    throw new TrackbackValidationException("Comments are disabled");
  }
  if (Validator.isNull(url)) {
    throw new TrackbackValidationException("Trackback requires a valid permanent URL");
  }
  String trackbackIP=HttpUtil.getIpAddress(url);
  if (!remoteIP.equals(trackbackIP)) {
    throw new TrackbackValidationException("Remote IP does not match the trackback URL's IP");
  }
}
