{
  Map<Long,Integer> hostRecentBuildsMap=_recentBuildsMap.get(hostName);
  if ((hostRecentBuildsMap == null) || hostRecentBuildsMap.isEmpty()) {
    return 0;
  }
  int totalBuildCount=0;
  Set<Map.Entry<Long,Integer>> recentBuildsMapEntrySet=hostRecentBuildsMap.entrySet();
  List<Map.Entry<Long,Integer>> recentBuildsEntriesToBeDeleted=new ArrayList<>(hostRecentBuildsMap.size());
  for (  Map.Entry<Long,Integer> recentBuild : recentBuildsMapEntrySet) {
    int buildCount=recentBuild.getValue();
    long timestamp=recentBuild.getKey();
    if ((timestamp + recentBuildsPeriod) > System.currentTimeMillis()) {
      totalBuildCount+=buildCount;
    }
 else {
      recentBuildsEntriesToBeDeleted.add(recentBuild);
    }
  }
  recentBuildsMapEntrySet.removeAll(recentBuildsEntriesToBeDeleted);
  return totalBuildCount;
}
