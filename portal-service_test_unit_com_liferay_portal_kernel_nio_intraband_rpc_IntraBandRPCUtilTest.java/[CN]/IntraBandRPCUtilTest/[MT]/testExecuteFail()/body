{
  PortalClassLoaderUtil.setClassLoader(getClass().getClassLoader());
  MockIntraBand mockIntraBand=new MockIntraBand(){
    @Override protected void doSendDatagram(    RegistrationReference registrationReference,    Datagram datagram){
      throw new RuntimeException();
    }
  }
;
  try {
    IntraBandRPCUtil.execute(new MockRegistrationReference(mockIntraBand),new TestProcessCallable());
    Assert.fail();
  }
 catch (  IntraBandRPCException ibrpce) {
    Throwable throwable=ibrpce.getCause();
    Assert.assertSame(RuntimeException.class,throwable.getClass());
  }
  try {
    IntraBandRPCUtil.execute(new MockRegistrationReference(mockIntraBand),new TestProcessCallable(),1,TimeUnit.MILLISECONDS);
    Assert.fail();
  }
 catch (  IntraBandRPCException ibrpce) {
    Throwable throwable=ibrpce.getCause();
    Assert.assertSame(RuntimeException.class,throwable.getClass());
  }
}
