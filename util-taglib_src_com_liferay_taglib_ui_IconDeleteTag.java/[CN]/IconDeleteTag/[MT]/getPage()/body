{
  if (FileAvailabilityUtil.isAvailable(servletContext,_PAGE)) {
    return _PAGE;
  }
  if (Validator.isNull(getImage())) {
    if (_trash) {
      setImage("trash");
    }
 else {
      setImage("delete");
    }
  }
  if (_trash && Validator.isNull(getMessage())) {
    setMessage("move-to-the-recycle-bin");
  }
  String url=getUrl();
  if (url.startsWith("javascript:if (confirm('")) {
    return super.getPage();
  }
  if (url.startsWith("javascript:")) {
    url=url.substring(11);
  }
  if (url.startsWith(Http.HTTP_WITH_SLASH) || url.startsWith(Http.HTTPS_WITH_SLASH)) {
    url="submitForm(document.hrefFm, '".concat(HttpUtil.encodeURL(url)).concat("');");
  }
  if (url.startsWith("wsrp_rewrite?")) {
    url=StringUtil.replace(url,"/wsrp_rewrite","&wsrp-extensions=encodeURL/wsrp_rewrite");
    url="submitForm(document.hrefFm, '".concat(url).concat("');");
  }
  if (!_trash) {
    StringBundler sb=new StringBundler(5);
    sb.append("javascript:if (confirm('");
    if (Validator.isNotNull(_confirmation)) {
      sb.append(UnicodeLanguageUtil.get(pageContext,_confirmation));
    }
 else {
      String confirmation="are-you-sure-you-want-to-delete-this";
      sb.append(UnicodeLanguageUtil.get(pageContext,confirmation));
    }
    sb.append("')) { ");
    sb.append(url);
    sb.append(" } else { self.focus(); }");
    url=sb.toString();
  }
 else {
    url="javascript:".concat(url);
  }
  setUrl(url);
  return super.getPage();
}
