{
  parameterMap.put(PortletDataHandlerKeys.PERFORM_DIRECT_BINARY_IMPORT,new String[]{Boolean.TRUE.toString()});
  User user=_userLocalService.getUser(userId);
  Map<String,Serializable> publishLayoutLocalSettingsMap=ExportImportConfigurationSettingsMapFactory.buildPublishLayoutLocalSettingsMap(user,sourceGroupId,targetGroupId,privateLayout,layoutIds,parameterMap);
  ExportImportConfiguration exportImportConfiguration=null;
  if (Validator.isNotNull(name)) {
    exportImportConfiguration=_exportImportConfigurationLocalService.addDraftExportImportConfiguration(userId,name,ExportImportConfigurationConstants.TYPE_PUBLISH_LAYOUT_LOCAL,publishLayoutLocalSettingsMap);
  }
 else {
    exportImportConfiguration=_exportImportConfigurationLocalService.addDraftExportImportConfiguration(userId,ExportImportConfigurationConstants.TYPE_PUBLISH_LAYOUT_LOCAL,publishLayoutLocalSettingsMap);
  }
  publishLayouts(userId,exportImportConfiguration);
}
