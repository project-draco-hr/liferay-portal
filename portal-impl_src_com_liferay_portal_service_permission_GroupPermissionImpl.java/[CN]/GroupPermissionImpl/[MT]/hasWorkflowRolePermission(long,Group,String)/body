{
  if (!group.isWorkflowEnabled()) {
    return false;
  }
  String[] workflowRoleNames=StringUtil.split(group.getWorkflowRoleNames());
  if (actionId == ActionKeys.APPROVE_PROPOSAL) {
    for (    String workflowRoleName : workflowRoleNames) {
      if (UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),workflowRoleName) || isMemberRole(userId,group,workflowRoleName)) {
        return true;
      }
    }
  }
 else   if (actionId == ActionKeys.MANAGE_LAYOUTS) {
    String stageTwoRoleName=workflowRoleNames[0];
    String publisherRoleName=workflowRoleNames[workflowRoleNames.length - 1];
    if (UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),stageTwoRoleName) || UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),publisherRoleName) || isMemberRole(userId,group,stageTwoRoleName)|| isMemberRole(userId,group,publisherRoleName)) {
      return true;
    }
  }
 else   if (actionId == ActionKeys.PUBLISH_STAGING) {
    String publisherRoleName=workflowRoleNames[workflowRoleNames.length - 1];
    if (UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),publisherRoleName) || isMemberRole(userId,group,publisherRoleName)) {
      return true;
    }
  }
  return false;
}
