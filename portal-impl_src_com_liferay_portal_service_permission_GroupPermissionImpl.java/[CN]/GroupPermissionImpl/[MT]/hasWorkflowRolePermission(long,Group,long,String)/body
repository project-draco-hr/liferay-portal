{
  if (group.isWorkflowEnabled()) {
    String[] workflowRoleNames=StringUtil.split(group.getWorkflowRoleNames());
    if (actionId == ActionKeys.APPROVE_PROPOSAL) {
      for (      String workflowRoleName : workflowRoleNames) {
        if (UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),workflowRoleName) || isGroupMemberRole(group,userId,workflowRoleName)) {
          return true;
        }
      }
    }
 else     if (actionId == ActionKeys.MANAGE_STAGING) {
      String stageTwoRoleName=workflowRoleNames[0];
      String publisherRoleName=workflowRoleNames[workflowRoleNames.length - 1];
      return UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),stageTwoRoleName) || UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),publisherRoleName) || isGroupMemberRole(group,userId,stageTwoRoleName)|| isGroupMemberRole(group,userId,publisherRoleName);
    }
 else     if (actionId == ActionKeys.PUBLISH_STAGING) {
      String publisherRoleName=workflowRoleNames[workflowRoleNames.length - 1];
      return UserGroupRoleLocalServiceUtil.hasUserGroupRole(userId,group.getGroupId(),publisherRoleName) || isGroupMemberRole(group,userId,publisherRoleName);
    }
  }
  return false;
}
