{
  try {
    Group group=GroupLocalServiceUtil.getGroup(layoutSet.getGroupId());
    if (!group.isCommunity() || group.getName().contains(_TEMPLATE_POSTFIX)) {
      return;
    }
    Group templateGroup=getTemplateGroup(group);
    if (templateGroup == null) {
      return;
    }
    Group templateStagingGroup=templateGroup.getStagingGroup();
    if (templateStagingGroup == null) {
      return;
    }
    boolean isPrivate=layoutSet.isPrivateLayout();
    FileCacheOutputStream layoutStream=LayoutLocalServiceUtil.exportLayoutsAsStream(templateStagingGroup.getGroupId(),isPrivate,null,_templateParameters,null,null);
    LayoutLocalServiceUtil.importLayouts(group.getCreatorUserId(),group.getGroupId(),isPrivate,_templateParameters,layoutStream.getFileInputStream());
  }
 catch (  Exception e) {
    if (_log.isErrorEnabled()) {
      _log.error("Unble to import layouts for group: " + layoutSet.getGroupId(),e);
    }
  }
}
