{
  hideDefaultSuccessMessage(actionRequest);
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (Validator.isNull(cmd)) {
    return;
  }
  try {
    long groupId=ParamUtil.getLong(actionRequest,"liveGroupId");
    boolean privateLayout=ParamUtil.getBoolean(actionRequest,"privateLayout");
    long[] layoutIds=getLayoutIds(actionRequest);
    String taskName=StringPool.BLANK;
    if (privateLayout) {
      taskName=LanguageUtil.get(actionRequest.getLocale(),"private-pages");
    }
 else {
      taskName=LanguageUtil.get(actionRequest.getLocale(),"public-pages");
    }
    ExportImportServiceUtil.exportLayoutsAsFileInBackground(taskName,groupId,privateLayout,layoutIds,actionRequest.getParameterMap());
    String redirect=ParamUtil.getString(actionRequest,"redirect");
    sendRedirect(actionRequest,actionResponse,redirect);
  }
 catch (  Exception e) {
    SessionErrors.add(actionRequest,e.getClass());
    if (!(e instanceof LARFileNameException)) {
      _log.error(e,e);
      sendRedirect(actionRequest,actionResponse);
    }
  }
}
