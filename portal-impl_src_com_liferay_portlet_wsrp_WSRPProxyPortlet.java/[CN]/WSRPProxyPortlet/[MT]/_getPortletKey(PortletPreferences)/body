{
  PortletKey portletKey=null;
  String portletHandle=preferences.getValue("portlet-handle",StringPool.BLANK);
  if (portletHandle != null) {
    String producerID=_getProducerID(preferences);
    if (producerID != null) {
      portletKey=new PortletKeyImpl(portletHandle,producerID);
    }
  }
  return portletKey;
}
