{
  String[] macroTemplateIds=PropsUtil.getArray(PropsKeys.VELOCITY_ENGINE_VELOCIMACRO_LIBRARY);
  for (  String macroTemplateId : macroTemplateIds) {
    if (resourceName.equals(macroTemplateId)) {
      try {
        return AccessController.doPrivileged(new ResourcePrivilegedExceptionAction(resourceName,resourceType,encoding));
      }
 catch (      PrivilegedActionException pae) {
        throw (IOException)pae.getException();
      }
    }
  }
  return doGetResource(resourceName,resourceType,encoding);
}
