{
  String servletContextName=hotDeployEvent.getServletContextName();
  if (!_isMissingDependentServletContext(hotDeployEvent)) {
    if (_dependentHotDeployEvents.contains(hotDeployEvent)) {
      if (_log.isInfoEnabled()) {
        _log.info("Deploying " + servletContextName + " from queue");
      }
    }
synchronized (_dependentServletContexts) {
      _initDependentServletContextListeners(servletContextName);
      _dependentServletContexts.remove(servletContextName);
    }
    for (    HotDeployListener hotDeployListener : _hotDeployListeners) {
      try {
        hotDeployListener.invokeDeploy(hotDeployEvent);
      }
 catch (      HotDeployException hde) {
        _log.error(hde,hde);
      }
    }
    _deployedServletContextNames.add(servletContextName);
    _dependentHotDeployEvents.remove(hotDeployEvent);
    List<HotDeployEvent> dependentEvents=new ArrayList<HotDeployEvent>(_dependentHotDeployEvents);
    for (    HotDeployEvent dependentEvent : dependentEvents) {
      _doFireDeployEvent(dependentEvent);
    }
  }
 else {
    if (!_dependentHotDeployEvents.contains(hotDeployEvent)) {
      if (_log.isInfoEnabled()) {
        StringBundler sb=new StringBundler(4);
        sb.append("Queueing ");
        sb.append(servletContextName);
        sb.append(" for deploy because it is missing ");
        sb.append(_getRequiredServletContextNames(hotDeployEvent));
        _log.info(sb.toString());
      }
      _dependentHotDeployEvents.add(hotDeployEvent);
    }
 else {
      if (_log.isInfoEnabled()) {
        for (        HotDeployEvent dependentHotDeployEvent : _dependentHotDeployEvents) {
          StringBundler sb=new StringBundler(3);
          sb.append(servletContextName);
          sb.append(" is still in queue because it is missing ");
          sb.append(_getRequiredServletContextNames(dependentHotDeployEvent));
          _log.info(sb.toString());
        }
      }
    }
  }
}
