{
  ResourcePermission resourcePermission=null;
  for (  ResourcePermission curResourcePermission : resourcePermissionPersistence.findByC_N_S_P(companyId,name,scope,primKey)) {
    if (curResourcePermission.getRoleId() == roleId) {
      resourcePermission=curResourcePermission;
      break;
    }
  }
  if (resourcePermission == null) {
    return false;
  }
  ResourceAction resourceAction=resourceActionLocalService.getResourceAction(name,actionId);
  if (hasActionId(resourcePermission,resourceAction)) {
    return true;
  }
 else {
    return false;
  }
}
