{
  IntrabandPortalCacheManager<String,String> intraBandPortalCacheManager=new IntrabandPortalCacheManager<String,String>(_mockRegistrationReference);
  String portalCacheName1="portalCacheName1";
  PortalCache<?,?> portalCache1=intraBandPortalCacheManager.getCache(portalCacheName1);
  String portalCacheName2="portalCacheName2";
  PortalCache<?,?> portalCache2=intraBandPortalCacheManager.getCache(portalCacheName2);
  Map<String,PortalCache<?,?>> portalCaches=getPortalCaches(intraBandPortalCacheManager);
  Assert.assertEquals(2,portalCaches.size());
  Assert.assertSame(portalCache1,portalCaches.get(portalCacheName1));
  Assert.assertSame(portalCache2,portalCaches.get(portalCacheName2));
  intraBandPortalCacheManager.removeCache(portalCacheName1);
  Assert.assertEquals(1,portalCaches.size());
  Assert.assertSame(portalCache2,portalCaches.get(portalCacheName2));
  intraBandPortalCacheManager.clearAll();
  Assert.assertTrue(portalCaches.isEmpty());
}
