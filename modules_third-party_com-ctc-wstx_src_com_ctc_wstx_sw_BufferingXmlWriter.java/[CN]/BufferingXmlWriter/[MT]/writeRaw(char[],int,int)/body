{
  if (mOut == null) {
    return;
  }
  if (len < mSmallWriteSize) {
    if ((mOutputPtr + len) > mOutputBufLen) {
      flushBuffer();
    }
    System.arraycopy(cbuf,offset,mOutputBuffer,mOutputPtr,len);
    mOutputPtr+=len;
    return;
  }
  int ptr=mOutputPtr;
  if (ptr > 0) {
    if (ptr < mSmallWriteSize) {
      int needed=(mSmallWriteSize - ptr);
      System.arraycopy(cbuf,offset,mOutputBuffer,ptr,needed);
      mOutputPtr=ptr + needed;
      len-=needed;
      offset+=needed;
    }
    flushBuffer();
  }
  mOut.write(cbuf,offset,len);
}
