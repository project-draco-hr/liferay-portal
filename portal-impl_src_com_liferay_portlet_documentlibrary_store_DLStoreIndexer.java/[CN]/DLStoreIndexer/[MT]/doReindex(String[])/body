{
  long companyId=GetterUtil.getLong(ids[0]);
  String portletId=ids[1];
  long groupId=GetterUtil.getLong(ids[2]);
  long repositoryId=GetterUtil.getLong(ids[3]);
  Collection<Document> documents=new ArrayList<Document>();
  Store hook=StoreFactory.getInstance();
  String[] fileNames=hook.getFileNames(companyId,repositoryId);
  for (  String fileName : fileNames) {
    Indexer indexer=IndexerRegistryUtil.getIndexer(FileModel.class);
    FileModel fileModel=new FileModel();
    fileModel.setCompanyId(companyId);
    fileModel.setFileName(fileName);
    fileModel.setGroupId(groupId);
    fileModel.setPortletId(portletId);
    fileModel.setRepositoryId(repositoryId);
    Document document=indexer.getDocument(fileModel);
    if (document == null) {
      continue;
    }
    documents.add(document);
  }
  SearchEngineUtil.updateDocuments(companyId,documents);
}
