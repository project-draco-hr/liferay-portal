{
  Iterator itr1=root.elements("dynamic-element").iterator();
  while (itr1.hasNext()) {
    Element dynamicEl=(Element)itr1.next();
    String type=dynamicEl.attributeValue("type");
    if (type.equals("image")) {
      Iterator itr2=dynamicEl.elements("dynamic-content").iterator();
      while (itr2.hasNext()) {
        Element dynamicContent=(Element)itr2.next();
        String id=dynamicContent.attributeValue("id");
        String content=dynamicContent.getText();
        if (id != null) {
          String newId=_getNewArticleImageId(id,groupId);
          int x=content.indexOf("?img_id=") + 8;
          String newContent=content.substring(0,x) + groupId + "."+ content.substring(x,content.length());
          dynamicContent.addAttribute("id",newId);
          dynamicContent.setText(newContent);
        }
      }
    }
    _upgradeImageId(groupId,dynamicEl);
  }
}
