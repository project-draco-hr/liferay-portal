{
  Map<String,Object> properties=Collections.<String,Object>singletonMap("objectClass",clazz.getName());
  if (filter.matches(properties)) {
    return filter;
  }
  Registry registry=RegistryUtil.getRegistry();
  StringBuilder sb=new StringBuilder(5);
  sb.append("(&(objectClass=");
  sb.append(clazz.getName());
  sb.append(")");
  sb.append(filter.toString());
  sb.append(")");
  return registry.getFilter(sb.toString());
}
