{
  if (locator != null) {
    return locator;
  }
  if (paths.containsKey(locatorKey)) {
    String locatorValue=paths.get(locatorKey);
    if (locatorValue.contains("${") && locatorValue.contains("}")) {
      String regex="\\$\\{[^}]*?\\}";
      Pattern p=Pattern.compile(regex);
      Matcher m=p.matcher(locatorValue);
      while (m.find()) {
        String varKey=m.group();
        int x=varKey.indexOf("{");
        int y=varKey.indexOf("}");
        varKey=varKey.substring(x + 1,y);
        Set<String> varKeys=commandScopeVariables.keySet();
        if (varKeys.contains(varKey)) {
          String varValue=commandScopeVariables.get(varKey);
          locatorValue=locatorValue.replaceFirst(regex,varValue);
        }
 else {
          return null;
        }
      }
      return locatorValue;
    }
 else {
      return locatorValue;
    }
  }
  return locatorKey;
}
