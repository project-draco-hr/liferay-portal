{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  long currentGroupId;
  if (ParamUtil.getLong(actionRequest,"doAsGroupId") == 0) {
    currentGroupId=themeDisplay.getScopeGroupId();
  }
 else {
    currentGroupId=ParamUtil.getLong(actionRequest,"doAsGroupId");
  }
  if (groupId == currentGroupId) {
    throw new GroupCanNotDeleteException();
  }
  GroupServiceUtil.deleteGroup(groupId);
  LiveUsers.deleteGroup(themeDisplay.getCompanyId(),groupId);
}
