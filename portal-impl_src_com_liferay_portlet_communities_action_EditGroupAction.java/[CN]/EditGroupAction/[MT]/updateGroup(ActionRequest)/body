{
  long userId=PortalUtil.getUserId(req);
  long groupId=ParamUtil.getLong(req,"groupId");
  String name=ParamUtil.getString(req,"name");
  String description=ParamUtil.getString(req,"description");
  int type=ParamUtil.getInteger(req,"type");
  String friendlyURL=ParamUtil.getString(req,"friendlyURL");
  boolean active=ParamUtil.getBoolean(req,"active");
  if (groupId <= 0) {
    Group group=GroupServiceUtil.addGroup(name,description,type,friendlyURL,active);
    LiveUsers.joinGroup(userId,group.getGroupId());
  }
 else {
    GroupServiceUtil.updateGroup(groupId,name,description,type,friendlyURL,active);
  }
}
