{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Enumeration<String> enu=actionRequest.getParameterNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    if (!name.startsWith(_PREFIX)) {
      continue;
    }
    String value=ParamUtil.getString(actionRequest,name);
    long classNameId=GetterUtil.getLong(name.substring(_PREFIX.length(),name.length()));
    if (Validator.isNull(value)) {
      WorkflowLinkLocalServiceUtil.deleteWorkflowLink(themeDisplay.getUserId(),themeDisplay.getCompanyId(),0,classNameId);
    }
 else {
      String[] values=StringUtil.split(value,StringPool.AT);
      String workflowDefinitionName=values[0];
      int workflowDefinitionVersion=GetterUtil.getInteger(values[1]);
      WorkflowLinkLocalServiceUtil.updateWorkflowLink(themeDisplay.getUserId(),themeDisplay.getCompanyId(),0,classNameId,workflowDefinitionName,workflowDefinitionVersion);
    }
  }
}
