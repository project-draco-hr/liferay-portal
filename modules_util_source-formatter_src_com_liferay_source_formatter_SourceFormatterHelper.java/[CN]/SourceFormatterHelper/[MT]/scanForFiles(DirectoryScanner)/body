{
  directoryScanner.scan();
  String[] fileNamesArray=directoryScanner.getIncludedFiles();
  if (!_useProperties) {
    return ListUtil.toList(fileNamesArray);
  }
  List<String> fileNames=new ArrayList<>(fileNamesArray.length);
  for (  String fileName : fileNamesArray) {
    File file=new File(fileName);
    String encodedFileName=StringUtil.replace(fileName,StringPool.BACK_SLASH,StringPool.SLASH);
    long timestamp=GetterUtil.getLong(_properties.getProperty(encodedFileName));
    if (timestamp < file.lastModified()) {
      fileNames.add(fileName);
      _properties.setProperty(encodedFileName,String.valueOf(file.lastModified()));
    }
  }
  return fileNames;
}
