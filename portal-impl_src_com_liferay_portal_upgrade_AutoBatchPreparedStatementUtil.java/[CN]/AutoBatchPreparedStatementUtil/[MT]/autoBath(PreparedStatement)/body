{
  Connection connection=preparedStatement.getConnection();
  DatabaseMetaData databaseMetaData=connection.getMetaData();
  if (databaseMetaData.supportsBatchUpdates()) {
    return (PreparedStatement)ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),_interfaces,new BatchInvocationHandler(preparedStatement));
  }
  return (PreparedStatement)ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),_interfaces,new NoBatchInvocationHandler(preparedStatement));
}
