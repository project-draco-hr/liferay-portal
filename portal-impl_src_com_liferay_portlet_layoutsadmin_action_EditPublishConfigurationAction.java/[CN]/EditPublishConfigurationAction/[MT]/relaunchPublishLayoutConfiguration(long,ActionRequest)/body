{
  long backgroundTaskId=ParamUtil.getLong(actionRequest,"backgroundTaskId");
  BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.getBackgroundTask(backgroundTaskId);
  Map<String,Serializable> taskContextMap=backgroundTask.getTaskContextMap();
  ExportImportConfiguration exportImportConfiguration=ExportImportConfigurationLocalServiceUtil.getExportImportConfiguration(MapUtil.getLong(taskContextMap,"exportImportConfigurationId"));
  if (exportImportConfiguration.getType() == ExportImportConfigurationConstants.TYPE_PUBLISH_LAYOUT_LOCAL) {
    ExportImportConfigurationHelper.publishLocalLayoutByExportImportConfiguration(userId,exportImportConfiguration);
  }
 else   if (exportImportConfiguration.getType() == ExportImportConfigurationConstants.TYPE_PUBLISH_LAYOUT_REMOTE) {
    ExportImportConfigurationHelper.publishRemoteLayoutByExportImportConfiguration(exportImportConfiguration);
  }
}
