{
  long[] ids=SharepointUtil.getIds(initialURL);
  long groupId=ids[0];
  long parentFolderId=ids[1];
  String rootFolderPath=SharepointUtil.getGroupPath(groupId);
  Date rootCreateDate=new Date();
  Date rootModifiedDate=rootCreateDate;
  Date rootLastPostDate=rootCreateDate;
  List<DLFileEntry> entries=new ArrayList<DLFileEntry>();
  if (parentFolderId != DLFolderImpl.DEFAULT_PARENT_FOLDER_ID) {
    DLFolder folder=DLFolderLocalServiceUtil.getDLFolder(parentFolderId);
    rootCreateDate=folder.getCreateDate();
    rootModifiedDate=folder.getModifiedDate();
    rootLastPostDate=folder.getLastPostDate();
    rootFolderPath=SharepointUtil.getDLFolderPath(parentFolderId);
    entries=DLFileEntryLocalServiceUtil.getFileEntries(parentFolderId);
    addFileEntries(elements,entries,rootFolderPath);
  }
 else {
    addFileEntries(elements,entries,null);
  }
  List<DLFolder> folders=DLFolderLocalServiceUtil.getFolders(groupId,parentFolderId);
  for (  DLFolder folder : folders) {
    urlDirsTree.addChild(SharepointUtil.getDLFolderTree(folder));
  }
  Tree rootFolderTree=SharepointUtil.getFolderTree(rootFolderPath,rootCreateDate,rootModifiedDate,rootLastPostDate);
  urlDirsTree.addChild(rootFolderTree);
}
