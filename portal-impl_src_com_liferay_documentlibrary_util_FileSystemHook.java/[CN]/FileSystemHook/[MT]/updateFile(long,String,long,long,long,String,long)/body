{
  File fileNameDir=getFileNameDir(companyId,repositoryId,fileName);
  File newFileNameDir=getFileNameDir(companyId,newRepositoryId,fileName);
  FileUtil.copyDirectory(fileNameDir,newFileNameDir);
  FileUtil.deltree(fileNameDir);
  Indexer indexer=IndexerRegistryUtil.getIndexer(FileModel.class);
  FileModel fileModel=new FileModel();
  fileModel.setCompanyId(companyId);
  fileModel.setFileName(fileName);
  fileModel.setPortletId(portletId);
  fileModel.setRepositoryId(repositoryId);
  indexer.delete(fileModel);
  fileModel.setRepositoryId(newRepositoryId);
  fileModel.setGroupId(groupId);
  indexer.reindex(fileModel);
}
