{
  try {
    File fileNameDir=getFileNameDir(companyId,repositoryId,fileName);
    File newFileNameDir=getFileNameDir(companyId,newRepositoryId,fileName);
    FileUtil.copyDirectory(fileNameDir,newFileNameDir);
    FileUtil.deltree(fileNameDir);
    try {
      DLIndexerUtil.deleteFile(companyId,portletId,repositoryId,fileName);
    }
 catch (    SearchException se) {
    }
    DLIndexerUtil.addFile(companyId,portletId,groupId,newRepositoryId,fileName);
  }
 catch (  SearchException se) {
    throw new SystemException();
  }
}
