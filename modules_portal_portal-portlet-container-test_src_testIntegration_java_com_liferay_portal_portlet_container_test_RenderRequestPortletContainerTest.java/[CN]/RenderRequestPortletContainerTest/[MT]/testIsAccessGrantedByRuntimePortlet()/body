{
  testPortlet=new TestPortlet(){
    @Override public void render(    RenderRequest renderRequest,    RenderResponse renderResponse) throws IOException, PortletException {
      PortletContext portletContext=getPortletContext();
      PortletRequestDispatcher portletRequestDispatcher=portletContext.getRequestDispatcher("/runtime_portlet.jsp");
      portletRequestDispatcher.include(renderRequest,renderResponse);
    }
  }
;
  setUpPortlet(testPortlet,new HashMapDictionary<String,Object>(),TEST_PORTLET_ID);
  HttpServletRequest httpServletRequest=PortletContainerTestUtil.getHttpServletRequest(group,layout);
  PortletURL portletURL=new PortletURLImpl(httpServletRequest,TEST_PORTLET_ID,layout.getPlid(),PortletRequest.RENDER_PHASE);
  String testRuntimePortletId="testRuntimePortletId";
  TestPortlet testRuntimePortlet=new TestPortlet();
  setUpPortlet(testRuntimePortlet,new HashMapDictionary<String,Object>(),testRuntimePortletId,false);
  portletURL.setParameter("testRuntimePortletId",testRuntimePortletId);
  Response response=PortletContainerTestUtil.request(portletURL.toString());
  Assert.assertEquals(200,response.getCode());
  Assert.assertTrue(testRuntimePortlet.isRenderCalled());
}
