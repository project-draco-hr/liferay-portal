{
  File relengDir=getRelengDir(project);
  if (relengDir == null) {
    return;
  }
  GradleUtil.applyPlugin(project,ChangeLogBuilderPlugin.class);
  GradleUtil.applyPlugin(project,MavenPlugin.class);
  final BuildChangeLogTask buildChangeLogTask=(BuildChangeLogTask)GradleUtil.getTask(project,ChangeLogBuilderPlugin.BUILD_CHANGE_LOG_TASK_NAME);
  WritePropertiesTask recordArtifactTask=addTaskRecordArtifact(project,relengDir);
  addTaskPrintStaleArtifact(project,recordArtifactTask);
  configureTaskBuildChangeLog(buildChangeLogTask,relengDir);
  configureTaskUploadArchives(project,recordArtifactTask);
  GradleUtil.withPlugin(project,JavaPlugin.class,new Action<JavaPlugin>(){
    @Override public void execute(    JavaPlugin javaPlugin){
      configureTaskProcessResources(project,buildChangeLogTask);
    }
  }
);
}
