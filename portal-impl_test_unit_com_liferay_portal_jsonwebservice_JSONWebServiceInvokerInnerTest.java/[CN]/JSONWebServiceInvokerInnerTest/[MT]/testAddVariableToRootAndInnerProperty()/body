{
  Map<String,Object> map=new LinkedHashMap<String,Object>();
  Map<String,Object> params=new LinkedHashMap<String,Object>();
  map.put("$p = /foo/get-foo-page",params);
  Map<String,Object> map2=new LinkedHashMap<String,Object>();
  params.put("$XXX1 = /foo/hello-world",map2);
  map2.put("@userId","$p.page");
  map2.put("worldName","galaxy");
  Map<String,Object> map3=new LinkedHashMap<String,Object>();
  params.put("data.$XXX2 = /foo/hello-world",map3);
  map3.put("@userId","$p.page");
  map3.put("worldName","star");
  String json=invoke(map);
  String expected=prepareExpectedResult(true);
  Assert.assertEquals(expected,json);
}
