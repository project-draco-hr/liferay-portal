{
  SyndFeed syndFeed=new SyndFeedImpl();
  syndFeed.setDescription(description);
  List<SyndEntry> syndEntries=new ArrayList<>();
  syndFeed.setEntries(syndEntries);
  Locale locale=themeDisplay.getLocale();
  for (  CalendarBooking calendarBooking : calendarBookings) {
    SyndEntry syndEntry=new SyndEntryImpl();
    String author=PortalUtil.getUserName(calendarBooking);
    syndEntry.setAuthor(author);
    SyndContent syndContent=new SyndContentImpl();
    syndContent.setType(RSSUtil.ENTRY_TYPE_DEFAULT);
    String value=RSSUtil.getContent(calendarBooking,displayStyle,themeDisplay);
    syndContent.setValue(value);
    syndEntry.setDescription(syndContent);
    String link=StringPool.BLANK;
    syndEntry.setLink(link);
    syndEntry.setPublishedDate(calendarBooking.getCreateDate());
    syndEntry.setTitle(calendarBooking.getTitle(locale));
    syndEntry.setUpdatedDate(calendarBooking.getModifiedDate());
    syndEntry.setUri(link);
    syndEntries.add(syndEntry);
  }
  syndFeed.setFeedType(RSSUtil.getFeedType(type,version));
  List<SyndLink> syndLinks=new ArrayList<>();
  syndFeed.setLinks(syndLinks);
  SyndLink syndLink=new SyndLinkImpl();
  syndLinks.add(syndLink);
  syndLink.setHref(feedURL);
  syndLink.setRel("self");
  syndFeed.setPublishedDate(new Date());
  syndFeed.setTitle(name);
  syndFeed.setUri(feedURL);
  try {
    return RSSUtil.export(syndFeed);
  }
 catch (  FeedException fe) {
    throw new SystemException(fe);
  }
}
