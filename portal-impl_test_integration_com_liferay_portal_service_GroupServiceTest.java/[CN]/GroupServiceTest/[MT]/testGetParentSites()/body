{
  Group group=GroupTestUtil.addGroup();
  Assert.assertTrue(group.isRoot());
  String keywords=StringPool.BLANK;
  LinkedHashMap<String,Object> groupParams=new LinkedHashMap<String,Object>();
  groupParams.put("site",Boolean.TRUE);
  List<Long> excludedGroupIds=new ArrayList<Long>();
  excludedGroupIds.add(group.getGroupId());
  groupParams.put("excludedGroupIds",excludedGroupIds);
  List<Group> parentCandidates=GroupLocalServiceUtil.search(group.getCompanyId(),null,keywords,groupParams,-1,-1,null);
  for (  Group parentCandidate : parentCandidates) {
    if (parentCandidate.getGroupId() == group.getGroupId()) {
      Assert.fail("A group cannot be its own parent");
    }
  }
}
