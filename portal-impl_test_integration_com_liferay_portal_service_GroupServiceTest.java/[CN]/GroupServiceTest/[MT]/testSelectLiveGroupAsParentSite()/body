{
  Group group=GroupTestUtil.addGroup();
  GroupTestUtil.enableLocalStaging(group);
  Assert.assertTrue(group.hasStagingGroup());
  try {
    Group stagingGroup=group.getStagingGroup();
    GroupLocalServiceUtil.updateGroup(stagingGroup.getGroupId(),group.getGroupId(),stagingGroup.getName(),stagingGroup.getDescription(),stagingGroup.getType(),stagingGroup.isManualMembership(),stagingGroup.getMembershipRestriction(),stagingGroup.getFriendlyURL(),stagingGroup.isInheritContent(),stagingGroup.isActive(),ServiceContextTestUtil.getServiceContext());
    Assert.fail("A group cannot have its live group as parent");
  }
 catch (  GroupParentException gpe) {
    Assert.assertEquals(GroupParentException.STAGING_DESCENDANT,gpe.getType());
  }
}
