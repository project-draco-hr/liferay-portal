{
  List<String> badSymbols=new ArrayList<String>();
  String[] symbols=preferences.getValues("symbols",new String[0]);
  for (int i=0; i < symbols.length; i++) {
    Currency currency=CurrencyUtil.getCurrency(symbols[i]);
    if (currency == null) {
      badSymbols.add(symbols[i]);
    }
  }
  if (!badSymbols.isEmpty()) {
    throw new ValidatorException("Failed to retrieve symbols",badSymbols);
  }
}
