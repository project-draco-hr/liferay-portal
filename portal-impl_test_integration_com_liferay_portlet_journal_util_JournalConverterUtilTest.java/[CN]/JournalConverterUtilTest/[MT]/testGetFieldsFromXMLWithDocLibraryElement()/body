{
  Fields expectedFields=new Fields();
  FileEntry fileEntry=DLAppTestUtil.addFileEntry(TestPropsValues.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,true,"Test 1.txt");
  Field docLibraryField=getDocLibraryField(fileEntry,_ddmStructure.getStructureId());
  expectedFields.put(docLibraryField);
  Field fieldsDisplayField=new Field(DDMImpl.FIELDS_DISPLAY_NAME,"doc_library_INSTANCE_4aGOvP3N");
  expectedFields.put(fieldsDisplayField);
  String xml=readText("sample-journal-content-doc-library-field.xml");
  XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-content");
  Document document=SAXReaderUtil.read(xml);
  Element element=(Element)xPathSelector.selectSingleNode(document);
  String previewURL=DLUtil.getPreviewURL(fileEntry,fileEntry.getFileVersion(),null,StringPool.BLANK,false,true);
  element.addCDATA(previewURL);
  Fields actualFields=JournalConverterUtil.getDDMFields(_ddmStructure,document.asXML());
  assertEquals(expectedFields,actualFields);
}
