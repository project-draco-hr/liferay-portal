{
  Fields fields=new Fields();
  FileEntry fileEntry=DLAppTestUtil.addFileEntry(TestPropsValues.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,true,"Test 2.txt");
  Field docLibrary=getDocLibraryField(fileEntry,_ddmStructure.getStructureId());
  fields.put(docLibrary);
  Field fieldsDisplayField=getFieldsDisplayField(_ddmStructure.getStructureId(),"doc_library_INSTANCE_4aGOvP3N");
  fields.put(fieldsDisplayField);
  String expectedXML=readText("sample-journal-content-doc-library-field.xml");
  XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-content");
  Document document=SAXReaderUtil.read(expectedXML);
  Element element=(Element)xPathSelector.selectSingleNode(document);
  String previewURL=DLUtil.getPreviewURL(fileEntry,fileEntry.getFileVersion(),null,StringPool.BLANK,false,true);
  element.addCDATA(previewURL);
  String actualXML=JournalConverterUtil.getXML(_ddmStructure,fields);
  assertEquals(document.asXML(),actualXML);
}
