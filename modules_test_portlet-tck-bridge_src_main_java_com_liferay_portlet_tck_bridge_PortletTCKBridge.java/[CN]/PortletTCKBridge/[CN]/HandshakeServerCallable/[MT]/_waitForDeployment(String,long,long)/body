{
  while ((System.currentTimeMillis() - startTime) < timeout) {
    ServletContext serviceContext=ServletContextPool.get(servletContextName);
    if ((serviceContext == null) || (serviceContext.getAttribute(WebKeys.PLUGIN_PORTLETS) == null)) {
      try {
        Thread.sleep(100);
      }
 catch (      InterruptedException ie) {
      }
    }
 else {
      return;
    }
  }
  _log.error("Timeout on waiting " + servletContextName);
  _log.error(ThreadUtil.threadDump());
}
