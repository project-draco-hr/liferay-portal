{
  String digest;
  try {
    List<String> lines=Files.readAllLines(file.toPath(),StandardCharsets.UTF_8);
    digest=Integer.toHexString(lines.hashCode());
  }
 catch (  IOException ioe) {
    if (_logger.isDebugEnabled()) {
      _logger.debug(file + " is not a text file",ioe);
    }
    HashValue hashValue=HashUtil.sha1(file);
    digest=hashValue.asHexString();
  }
  if (_logger.isInfoEnabled()) {
    _logger.info("Digest of " + file + " is "+ digest);
  }
  return digest;
}
