{
  List<Fact<?>> facts=RulesContextBuilder.buildRulesContext(executionContext);
  RulesResourceRetriever rulesResourceRetriever=new RulesResourceRetriever(new StringResourceRetriever(kaleoAction.getScript()));
  Map<String,?> results=RulesEngineUtil.execute(rulesResourceRetriever,facts,Query.createStandardQuery(),getScriptClassLoaders(kaleoAction));
  Map<String,Serializable> resultsWorkflowContext=(Map<String,Serializable>)results.get(WorkflowContextUtil.WORKFLOW_CONTEXT_NAME);
  WorkflowContextUtil.mergeWorkflowContexts(executionContext,resultsWorkflowContext);
}
