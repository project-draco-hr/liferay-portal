{
  long plid=0;
  int pos=resourcePrimKey.indexOf(PortletConstants.LAYOUT_SEPARATOR);
  if (pos != -1) {
    plid=GetterUtil.getLong(resourcePrimKey.substring(0,pos));
  }
 else   if (selResource.equals(Layout.class.getName())) {
    plid=GetterUtil.getLong(resourcePrimKey);
  }
  if (plid <= 0) {
    return;
  }
  Layout layout=LayoutLocalServiceUtil.fetchLayout(plid);
  if (layout != null) {
    layout.setModifiedDate(new Date());
    LayoutLocalServiceUtil.updateLayout(layout);
    CacheUtil.clearCache(layout.getCompanyId());
  }
}
