{
  try {
    Class<?> clazz=Class.forName("net.sf.ehcache.hibernate.AbstractEhcacheProvider");
    Field field=clazz.getDeclaredField("manager");
    field.setAccessible(true);
    CacheManager cacheManager=(CacheManager)field.get(_cacheProvider);
    if (cacheManager == null) {
      throw new SystemException("CacheManager has been initialized");
    }
    return cacheManager;
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
