{
  String description=StringPool.BLANK;
  String changeLog=StringPool.BLANK;
  byte[] bytes=null;
  if (Validator.isNotNull(sourceFileName)) {
    String newContent=_CONTENT + "\n" + System.currentTimeMillis();
    bytes=newContent.getBytes();
  }
  serviceContext=(ServiceContext)serviceContext.clone();
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  serviceContext.setScopeGroupId(groupId);
  serviceContext.setWorkflowAction(WorkflowConstants.ACTION_PUBLISH);
  if (workflowEnabled && !approved) {
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  }
  FileEntry fileEntry=DLAppServiceUtil.updateFileEntry(fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,bytes,serviceContext);
  if (workflowEnabled && approved) {
    updateStatus(fileEntry,serviceContext);
  }
  return fileEntry;
}
