{
  portletDataContext.addPortletPermissions(DDLPermission.RESOURCE_NAME);
  Element rootElement=addExportDataRootElement(portletDataContext);
  if (portletDataContext.getBooleanParameter(NAMESPACE,"record-sets")) {
    ActionableDynamicQuery recordSetActionableDynamicQuery=_ddlRecordSetStagedModelRepository.getExportActionableDynamicQuery(portletDataContext);
    recordSetActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"records")) {
    ActionableDynamicQuery recordActionableDynamicQuery=_ddlRecordStagedModelRepository.getExportActionableDynamicQuery(portletDataContext);
    recordActionableDynamicQuery.performActions();
  }
  return getExportDataRootElementString(rootElement);
}
