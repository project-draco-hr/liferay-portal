{
  try {
    UserServiceSoapServiceLocator userLocator=new UserServiceSoapServiceLocator();
    UserServiceSoap userSoap=userLocator.getPortal_UserService(getURL("Portal_UserService"));
    GroupServiceSoapServiceLocator groupLocator=new GroupServiceSoapServiceLocator();
    GroupServiceSoap groupSoap=groupLocator.getPortal_GroupService(getURL("Portal_GroupService"));
    RoleServiceSoapServiceLocator roleLocator=new RoleServiceSoapServiceLocator();
    RoleServiceSoap roleSoap=roleLocator.getPortal_RoleService(getURL("Portal_RoleService"));
    if (type.equals("user")) {
      if (Validator.isNotNull(id)) {
        assignable.setActorId(id);
      }
 else {
        UserSoap user=userSoap.getUserByEmailAddress(companyId,name);
        assignable.setActorId(user.getUserId());
      }
    }
 else     if (type.equals("group")) {
      if (Validator.isNull(id)) {
        GroupSoap group=groupSoap.getGroup(companyId,name);
        id=group.getGroupId();
      }
      UserSoap[] users=userSoap.getGroupUsers(id);
      String[] actorIds=new String[users.length];
      for (int i=0; i < users.length; i++) {
        actorIds[i]=users[i].getUserId();
      }
      assignable.setPooledActors(actorIds);
    }
 else     if (type.equals("role")) {
      if (Validator.isNull(id)) {
        RoleSoap role=roleSoap.getRole(companyId,name);
        id=role.getRoleId();
      }
      UserSoap[] users=userSoap.getRoleUsers(id);
      String[] actorIds=new String[users.length];
      for (int i=0; i < users.length; i++) {
        actorIds[i]=users[i].getUserId();
      }
      assignable.setPooledActors(actorIds);
    }
  }
 catch (  Exception e) {
    assignable.setPooledActors(null);
  }
}
