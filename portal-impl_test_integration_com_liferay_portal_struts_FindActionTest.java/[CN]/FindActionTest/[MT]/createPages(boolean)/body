{
  _group=GroupTestUtil.addGroup();
  _blog=LayoutTestUtil.addLayout(_group.getGroupId(),"blog");
  _asset=LayoutTestUtil.addLayout(_group.getGroupId(),"asset");
  if (portletExists) {
    LayoutTestUtil.addPortletToLayout(_blog,PortletKeys.BLOGS);
  }
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  preferenceMap.put("assetLinkBehavior",new String[]{"viewInPortlet"});
  _assetPublisherPortletId=PortletKeys.ASSET_PUBLISHER + PortletConstants.INSTANCE_SEPARATOR + ServiceTestUtil.randomString();
  LayoutTestUtil.addPortletToLayout(TestPropsValues.getUserId(),_asset,_assetPublisherPortletId,"column-1",preferenceMap);
  _blogsEntry=BlogsTestUtil.addEntry(TestPropsValues.getUserId(),_group,true);
}
