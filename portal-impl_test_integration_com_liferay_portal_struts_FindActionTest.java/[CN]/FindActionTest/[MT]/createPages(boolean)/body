{
  _group=GroupTestUtil.addGroup();
  _blogLayout=LayoutTestUtil.addLayout(_group.getGroupId(),"blog");
  _assetLayout=LayoutTestUtil.addLayout(_group.getGroupId(),"asset");
  if (portletExists) {
    LayoutTestUtil.addPortletToLayout(_blogLayout,PortletKeys.BLOGS);
  }
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  preferenceMap.put("assetLinkBehavior",new String[]{"viewInPortlet"});
  _assetPublisherPortletId=PortletKeys.ASSET_PUBLISHER + PortletConstants.INSTANCE_SEPARATOR + ServiceTestUtil.randomString();
  LayoutTestUtil.addPortletToLayout(TestPropsValues.getUserId(),_assetLayout,_assetPublisherPortletId,"column-1",preferenceMap);
  _blogsEntry=BlogsTestUtil.addEntry(TestPropsValues.getUserId(),_group,true);
}
