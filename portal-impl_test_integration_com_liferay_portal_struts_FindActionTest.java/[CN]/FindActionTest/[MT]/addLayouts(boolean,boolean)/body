{
  _group=GroupTestUtil.addGroup();
  _blogLayout=LayoutTestUtil.addLayout(_group.getGroupId(),"Blog");
  _assetLayout=LayoutTestUtil.addLayout(_group.getGroupId(),"Asset");
  if (portletExists) {
    LayoutTestUtil.addPortletToLayout(_blogLayout,PortletKeys.BLOGS);
  }
  Map<String,String[]> preferenceMap=new HashMap<String,String[]>();
  preferenceMap.put("assetLinkBehavior",new String[]{"viewInPortlet"});
  _assetPublisherPortletId=PortletKeys.ASSET_PUBLISHER + PortletConstants.INSTANCE_SEPARATOR + ServiceTestUtil.randomString();
  LayoutTestUtil.addPortletToLayout(TestPropsValues.getUserId(),_assetLayout,_assetPublisherPortletId,"column-1",preferenceMap);
  Group blogEntryGroup=_group;
  if (blogEntryWithAlternateGroup) {
    blogEntryGroup=GroupTestUtil.addGroup();
  }
  _blogsEntry=BlogsTestUtil.addEntry(TestPropsValues.getUserId(),blogEntryGroup,true);
}
