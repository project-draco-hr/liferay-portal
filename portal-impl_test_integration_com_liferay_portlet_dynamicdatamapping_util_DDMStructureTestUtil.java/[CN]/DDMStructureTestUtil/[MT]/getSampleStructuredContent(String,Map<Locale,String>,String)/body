{
  StringBundler sb=new StringBundler(2 * contents.size());
  for (  Map.Entry<Locale,String> content : contents.entrySet()) {
    Locale locale=content.getKey();
    sb.append(LocaleUtil.toLanguageId(locale));
    sb.append(StringPool.COMMA);
  }
  sb.setIndex(sb.index() - 1);
  Document document=createDocumentContent(sb.toString(),defaultLocale);
  Element rootElement=document.getRootElement();
  Element dynamicElementElement=rootElement.addElement("dynamic-element");
  dynamicElementElement.addAttribute("index-type","keyword");
  dynamicElementElement.addAttribute("name",name);
  dynamicElementElement.addAttribute("type","text");
  for (  Map.Entry<Locale,String> content : contents.entrySet()) {
    Element dynamicContentElement=dynamicElementElement.addElement("dynamic-content");
    dynamicContentElement.addAttribute("language-id",LocaleUtil.toLanguageId(content.getKey()));
    dynamicContentElement.addCDATA(content.getValue());
  }
  return document.asXML();
}
