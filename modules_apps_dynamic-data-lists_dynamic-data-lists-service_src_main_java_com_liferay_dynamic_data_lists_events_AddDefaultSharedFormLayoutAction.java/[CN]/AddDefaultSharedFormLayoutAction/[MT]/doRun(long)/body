{
  Group group=_groupLocalService.fetchGroup(companyId,GroupConstants.FORMS);
  long defaultUserId=_userLocalService.getDefaultUserId(companyId);
  ServiceContext serviceContext=new ServiceContext();
  if (group == null) {
    Map<Locale,String> nameMap=new HashMap<>();
    nameMap.put(LocaleUtil.getDefault(),GroupConstants.FORMS);
    group=_groupLocalService.addGroup(defaultUserId,GroupConstants.DEFAULT_PARENT_GROUP_ID,null,0,GroupConstants.DEFAULT_LIVE_GROUP_ID,nameMap,null,GroupConstants.TYPE_SITE_OPEN,true,GroupConstants.DEFAULT_MEMBERSHIP_RESTRICTION,GroupConstants.FORMS_FRIENDLY_URL,true,false,true,serviceContext);
  }
  Layout layout=_layoutLocalService.fetchLayoutByFriendlyURL(group.getGroupId(),false,"/shared");
  if (layout != null) {
    return;
  }
  serviceContext.setAttribute("layout.instanceable.allowed",Boolean.TRUE);
  serviceContext.setAttribute("layoutUpdateable",Boolean.FALSE);
  serviceContext.setScopeGroupId(group.getGroupId());
  serviceContext.setUserId(defaultUserId);
  _layoutLocalService.addLayout(defaultUserId,group.getGroupId(),false,LayoutConstants.DEFAULT_PARENT_LAYOUT_ID,"Shared",StringPool.BLANK,StringPool.BLANK,LayoutConstants.TYPE_SHARED_PORTLET,true,"/shared",serviceContext);
}
