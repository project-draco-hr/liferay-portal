{
  String[] facebookData=getFacebookData(req,res);
  if (facebookData == null) {
    PortalUtil.sendError(HttpServletResponse.SC_NOT_FOUND,new NoSuchLayoutException(),req,res);
  }
 else {
    String appId=facebookData[0];
    String redirect=facebookData[1];
    req.setAttribute(WebKeys.FACEBOOK_APP_ID,appId);
    ServletContext ctx=getServletContext();
    RequestDispatcher rd=ctx.getRequestDispatcher(redirect);
    rd.forward(req,res);
  }
}
