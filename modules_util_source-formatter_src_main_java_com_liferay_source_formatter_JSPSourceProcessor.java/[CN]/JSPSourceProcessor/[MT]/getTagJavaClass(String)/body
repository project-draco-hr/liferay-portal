{
  JavaClass tagJavaClass=_tagJavaClassesMap.get(tag);
  if (tagJavaClass != null) {
    return tagJavaClass;
  }
  String[] tagParts=StringUtil.split(tag,CharPool.COLON);
  if (tagParts.length != 2) {
    return null;
  }
  String utilTaglibDirName=getUtilTaglibDirName();
  if (Validator.isNull(utilTaglibDirName)) {
    return null;
  }
  String tagName=tagParts[1];
  String tagJavaClassName=TextFormatter.format(tagName,TextFormatter.M);
  tagJavaClassName=TextFormatter.format(tagJavaClassName,TextFormatter.G) + "Tag";
  String tagCategory=tagParts[0];
  StringBundler sb=new StringBundler(6);
  sb.append(utilTaglibDirName);
  sb.append("/src/com/liferay/taglib/");
  sb.append(tagCategory);
  sb.append(StringPool.SLASH);
  sb.append(tagJavaClassName);
  sb.append(".java");
  File tagJavaFile=new File(sb.toString());
  if (!tagJavaFile.exists()) {
    return null;
  }
  JavaDocBuilder javaDocBuilder=new JavaDocBuilder();
  javaDocBuilder.addSource(tagJavaFile);
  sb=new StringBundler(4);
  sb.append("com.liferay.taglib.");
  sb.append(tagCategory);
  sb.append(StringPool.PERIOD);
  sb.append(tagJavaClassName);
  tagJavaClass=javaDocBuilder.getClassByName(sb.toString());
  _tagJavaClassesMap.put(tag,tagJavaClass);
  return tagJavaClass;
}
