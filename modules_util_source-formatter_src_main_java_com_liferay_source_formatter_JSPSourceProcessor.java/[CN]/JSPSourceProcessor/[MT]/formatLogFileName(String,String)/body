{
  if (!isModulesFile(absolutePath) && !absolutePath.contains("/portal-web/")) {
    return content;
  }
  Matcher matcher=_logPattern.matcher(content);
  if (!matcher.find()) {
    return content;
  }
  String logFileName=StringUtil.replace(absolutePath,CharPool.PERIOD,CharPool.UNDERLINE);
  logFileName=StringUtil.replace(logFileName,CharPool.SLASH,CharPool.PERIOD);
  logFileName=StringUtil.replace(logFileName,CharPool.DASH,CharPool.UNDERLINE);
  int x=logFileName.lastIndexOf(".portal_web.");
  if (x != -1) {
    logFileName=logFileName.substring(x + 1);
  }
 else {
    x=logFileName.lastIndexOf(".docroot.");
    if (x == -1) {
      x=Math.max(logFileName.lastIndexOf(".src.main.resources.META_INF.resources."),logFileName.lastIndexOf(".src.META_INF.resources."));
    }
    if (x == -1) {
      return content;
    }
    x=logFileName.lastIndexOf(StringPool.PERIOD,x - 1);
    logFileName="com_liferay_" + logFileName.substring(x + 1);
    logFileName=StringUtil.replace(logFileName,new String[]{".docroot.",".src.main.resources.META_INF.resources.",".src.META_INF.resources."},new String[]{StringPool.PERIOD,StringPool.PERIOD,StringPool.PERIOD});
  }
  return StringUtil.replace(content,matcher.group(),"Log _log = LogFactoryUtil.getLog(\"" + logFileName + "\")");
}
