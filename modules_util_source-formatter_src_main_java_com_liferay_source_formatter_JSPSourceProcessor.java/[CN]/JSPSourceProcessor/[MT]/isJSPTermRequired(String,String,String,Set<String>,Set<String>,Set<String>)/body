{
  if (checkedForUnusedJSPTerm.contains(fileName)) {
    return false;
  }
  checkedForUnusedJSPTerm.add(fileName);
  String content=_jspContents.get(fileName);
  if (Validator.isNull(content)) {
    return false;
  }
  Pattern pattern=Pattern.compile(regex);
  Matcher matcher=pattern.matcher(content);
  if (matcher.find() && (!type.equals("variable") || (checkedForUnusedJSPTerm.size() > 1) || matcher.find())) {
    return true;
  }
  if (!checkedForIncludesFileNames.contains(fileName)) {
    includeFileNames.addAll(getJSPIncludeFileNames(fileName,includeFileNames));
    includeFileNames.addAll(getJSPReferenceFileNames(fileName,includeFileNames));
  }
  checkedForIncludesFileNames.add(fileName);
  String[] includeFileNamesArray=includeFileNames.toArray(new String[includeFileNames.size()]);
  for (  String includeFileName : includeFileNamesArray) {
    if (!checkedForUnusedJSPTerm.contains(includeFileName) && isJSPTermRequired(includeFileName,regex,type,checkedForUnusedJSPTerm,checkedForIncludesFileNames,includeFileNames)) {
      return true;
    }
  }
  return false;
}
