{
  Set<String> includeFileNames=new HashSet<>();
  String content=_jspContents.get(fileName);
  if (Validator.isNull(content)) {
    return includeFileNames;
  }
  for (int x=0; ; ) {
    x=content.indexOf("<%@ include file=",x);
    if (x == -1) {
      break;
    }
    x=content.indexOf(CharPool.QUOTE,x);
    if (x == -1) {
      break;
    }
    int y=content.indexOf(CharPool.QUOTE,x + 1);
    if (y == -1) {
      break;
    }
    String includeFileName=content.substring(x + 1,y);
    if (!includeFileName.startsWith(StringPool.SLASH)) {
      includeFileName=StringPool.SLASH + includeFileName;
    }
    Matcher matcher=_jspIncludeFilePattern.matcher(includeFileName);
    if (!matcher.find()) {
      throw new RuntimeException("Invalid include " + includeFileName);
    }
    includeFileName=buildFullPathIncludeFileName(fileName,includeFileName);
    if ((includeFileName.endsWith("jsp") || includeFileName.endsWith("jspf")) && !includeFileName.endsWith("html/common/init.jsp") && !includeFileName.endsWith("html/portlet/init.jsp")&& !includeFileName.endsWith("html/taglib/init.jsp")&& !fileNames.contains(includeFileName)) {
      includeFileNames.add(includeFileName);
    }
    x=y;
  }
  return includeFileNames;
}
