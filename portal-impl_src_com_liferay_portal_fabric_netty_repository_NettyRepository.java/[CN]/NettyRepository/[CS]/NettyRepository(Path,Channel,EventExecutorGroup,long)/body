{
  if (repositoryPath == null) {
    throw new NullPointerException("Repository path is null");
  }
  if (channel == null) {
    throw new NullPointerException("Channel is null");
  }
  if (eventExecutorGroup == null) {
    throw new NullPointerException("Event executor group is null");
  }
  if (!Files.isDirectory(repositoryPath)) {
    throw new IllegalArgumentException(repositoryPath + " is not a directory");
  }
  this.repositoryPath=repositoryPath;
  this.channel=channel;
  this.getFileTimeout=getFileTimeout;
  ChannelPipeline channelPipeline=channel.pipeline();
  channelPipeline.addLast(new FileResponseChannelHandler(asyncBroker,eventExecutorGroup));
}
