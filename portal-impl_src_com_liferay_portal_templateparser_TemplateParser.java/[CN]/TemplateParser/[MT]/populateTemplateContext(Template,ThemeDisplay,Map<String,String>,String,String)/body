{
  template.put("company",getCompany(themeDisplay,tokens));
  template.put("companyId",getCompanyId(themeDisplay,tokens));
  template.put("device",getDevice(themeDisplay));
  template.put("groupId",getGroupId(themeDisplay,tokens));
  template.put("journalTemplatesPath",getJournalTemplatesPath(themeDisplay,tokens));
  Locale locale=LocaleUtil.fromLanguageId(languageId);
  template.put("locale",locale);
  template.put("permissionChecker",PermissionThreadLocal.getPermissionChecker());
  template.put("viewMode",viewMode);
  String randomNamespace=PwdGenerator.getPassword(PwdGenerator.KEY3,4) + StringPool.UNDERLINE;
  template.put("randomNamespace",randomNamespace);
}
