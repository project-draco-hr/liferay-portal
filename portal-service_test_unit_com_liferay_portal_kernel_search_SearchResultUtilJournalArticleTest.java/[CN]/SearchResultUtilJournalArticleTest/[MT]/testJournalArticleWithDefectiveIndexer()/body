{
  Indexer indexer=Mockito.mock(Indexer.class);
  Mockito.doThrow(IllegalArgumentException.class).when(indexer).getSummary((Document)Matchers.any(),Matchers.anyString(),(PortletURL)Matchers.any(),(PortletRequest)Matchers.any(),(PortletResponse)Matchers.any());
  stub(method(IndexerRegistryUtil.class,"getIndexer",String.class)).toReturn(indexer);
  Document document=createJournalArticleDocumentWithVersion();
  SearchResult searchResult=assertThatSearchSingleDocumentReturnsOneSearchResult(document);
  assertThatSearchResultHasVersion(searchResult);
  Assert.assertNull("Indexer is attempted, exception is discarded, no summary returned",searchResult.getSummary());
  Mockito.verify(indexer).getSummary(document,StringPool.BLANK,portletURL,null,null);
}
