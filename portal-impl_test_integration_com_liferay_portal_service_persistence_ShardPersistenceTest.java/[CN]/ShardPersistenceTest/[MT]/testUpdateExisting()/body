{
  long pk=ServiceTestUtil.nextLong();
  Shard newShard=_persistence.create(pk);
  newShard.setMvccVersion(ServiceTestUtil.nextLong());
  newShard.setClassNameId(ServiceTestUtil.nextLong());
  newShard.setClassPK(ServiceTestUtil.nextLong());
  newShard.setName(ServiceTestUtil.randomString());
  _persistence.update(newShard);
  Shard existingShard=_persistence.findByPrimaryKey(newShard.getPrimaryKey());
  Assert.assertEquals(existingShard.getMvccVersion(),newShard.getMvccVersion());
  Assert.assertEquals(existingShard.getShardId(),newShard.getShardId());
  Assert.assertEquals(existingShard.getClassNameId(),newShard.getClassNameId());
  Assert.assertEquals(existingShard.getClassPK(),newShard.getClassPK());
  Assert.assertEquals(existingShard.getName(),newShard.getName());
}
