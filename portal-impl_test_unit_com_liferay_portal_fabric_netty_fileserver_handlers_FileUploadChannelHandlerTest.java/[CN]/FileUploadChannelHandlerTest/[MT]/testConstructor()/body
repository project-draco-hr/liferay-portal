{
  FileResponse fileResponse=new FileResponse(Paths.get("testFile"),1,-1,false);
  FileUploadChannelHandler fileUploadChannelHandler=new FileUploadChannelHandler(_asyncBroker,fileResponse,_embeddedChannel.eventLoop());
  Assert.assertSame(_asyncBroker,fileUploadChannelHandler.asyncBroker);
  Assert.assertSame(fileResponse,fileUploadChannelHandler.fileResponse);
  Assert.assertSame(_embeddedChannel.eventLoop(),fileUploadChannelHandler.eventExecutor);
  Path file=FileServerTestUtil.registerForCleanUp(fileResponse.getLocalFile());
  Assert.assertTrue(Files.isRegularFile(file));
  try (FileChannel fileChannel=fileUploadChannelHandler.fileChannel){
    Assert.assertTrue(fileChannel.isOpen());
  }
 }
