{
  SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(_watchEventListener.getSyncAccountId());
  Path syncAccountFilePath=java.nio.file.Paths.get(syncAccount.getFilePathName());
  if (!FileUtil.exists(syncAccountFilePath)) {
    if (_logger.isTraceEnabled()) {
      _logger.trace("Missing sync account file path {}",syncAccountFilePath);
    }
    syncAccount.setActive(false);
    syncAccount.setUiEvent(SyncAccount.UI_EVENT_SYNC_ACCOUNT_FOLDER_MISSING);
    SyncAccountService.update(syncAccount);
  }
 else {
    SyncSite syncSite=SyncSiteService.fetchSyncSite(missingFilePath.toString(),syncAccount.getSyncAccountId());
    if ((syncSite != null) && syncSite.isActive() && !FileUtil.exists(missingFilePath)) {
      if (_logger.isTraceEnabled()) {
        _logger.trace("Missing sync site file path {}",missingFilePath);
      }
      syncSite.setUiEvent(SyncSite.UI_EVENT_SYNC_SITE_FOLDER_MISSING);
      SyncSiteService.update(syncSite);
      SyncSiteService.deactivateSyncSite(syncSite.getSyncSiteId());
    }
  }
}
