{
  if (_moduleName == null) {
    return StringPool.BLANK;
  }
  JSONObject contextJSONObject=JSONFactoryUtil.createJSONObject();
  for (  String key : template.getKeys()) {
    if (Validator.equals(key,TemplateConstants.NAMESPACE)) {
      continue;
    }
    contextJSONObject.put(key,template.get(key));
  }
  contextJSONObject.put("element",getPortletBoundaryId(portletNamespace));
  String javaScript=StringUtil.replace(_javaScriptTpl,new String[]{"$MODULE_NAME","$CONTROLLER_NAME","$PORTLET_NAMESPACE","$CONTEXT"},new String[]{_moduleName,getControllerName(path),portletNamespace,contextJSONObject.toJSONString()});
  return javaScript;
}
