{
  _mockHttpServletRequest.setParameter("portalResiliencyPortletShowFooter",StringPool.TRUE);
  SPIAgentRequest spiAgentRequest=new SPIAgentRequest(_mockHttpServletRequest);
  Map<String,String[]> parameterMap=spiAgentRequest.parameterMap;
  Assert.assertArrayEquals(new String[]{StringPool.TRUE},parameterMap.get("portalResiliencyPortletShowFooter"));
  ThemeDisplay themeDisplay=new ThemeDisplay();
  _mockHttpServletRequest.setAttribute(WebKeys.THEME_DISPLAY,themeDisplay);
  spiAgentRequest=new SPIAgentRequest(_mockHttpServletRequest);
  parameterMap=spiAgentRequest.parameterMap;
  Assert.assertArrayEquals(new String[]{StringPool.TRUE},parameterMap.get("portalResiliencyPortletShowFooter"));
  themeDisplay.setAjax(true);
  spiAgentRequest=new SPIAgentRequest(_mockHttpServletRequest);
  parameterMap=spiAgentRequest.parameterMap;
  Assert.assertArrayEquals(new String[]{StringPool.FALSE},parameterMap.get("portalResiliencyPortletShowFooter"));
}
