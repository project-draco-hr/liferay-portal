{
  URL.setURLStreamHandlerFactory(new URLStreamHandlerFactory(){
    @Override public URLStreamHandler createURLStreamHandler(    String protocol){
      if (!protocol.equals("bytes")) {
        return null;
      }
      return new URLStreamHandler(){
        @Override protected URLConnection openConnection(        URL url){
          return new URLConnection(url){
            @Override public void connect(){
            }
            @Override public InputStream getInputStream() throws IOException {
              byte[] bytes=_bytesMap.get(url);
              if (bytes == null) {
                throw new IOException("Unable to get bytes for " + url);
              }
              return new ByteArrayInputStream(bytes);
            }
          }
;
        }
      }
;
    }
  }
);
}
