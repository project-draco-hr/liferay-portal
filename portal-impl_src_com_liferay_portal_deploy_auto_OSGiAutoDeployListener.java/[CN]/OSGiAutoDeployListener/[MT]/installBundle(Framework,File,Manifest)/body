{
  Bundle bundle=getBundle(framework,manifest);
  InputStream inputStream=new FileInputStream(file);
  if (bundle != null) {
    bundle.update(inputStream);
  }
 else {
    try {
      BundleContext bundleContext=framework.getBundleContext();
      URI uri=file.toURI();
      bundle=bundleContext.installBundle(uri.toString(),inputStream);
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  if (bundle != null) {
    bundle.start();
  }
}
