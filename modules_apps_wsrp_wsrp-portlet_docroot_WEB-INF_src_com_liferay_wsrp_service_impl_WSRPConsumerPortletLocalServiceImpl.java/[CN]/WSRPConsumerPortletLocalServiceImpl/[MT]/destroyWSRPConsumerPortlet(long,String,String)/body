{
  try {
    Portlet portlet=_portletsPool.remove(wsrpConsumerPortletUuid);
    if (portlet == null) {
      WSRPConsumerPortlet wsrpConsumerPortlet=getWSRPConsumerPortlet(wsrpConsumerPortletId);
      portlet=PortletLocalServiceUtil.getPortletById(wsrpConsumerPortlet.getCompanyId(),getPortletId(wsrpConsumerPortletUuid));
    }
 else {
      WSRPConsumerManagerFactory.destroyWSRPConsumerManager(url);
      _failedWSRPConsumerPortlets.remove(wsrpConsumerPortletId);
    }
    PortletInstanceFactoryUtil.destroy(portlet);
  }
 catch (  Exception e) {
    _log.error("Unable to destroy WSRP consumer portlet " + wsrpConsumerPortletId,e);
  }
}
