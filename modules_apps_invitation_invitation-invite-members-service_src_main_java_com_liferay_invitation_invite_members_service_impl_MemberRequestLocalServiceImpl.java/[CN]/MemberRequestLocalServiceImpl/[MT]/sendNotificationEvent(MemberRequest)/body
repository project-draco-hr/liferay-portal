{
  if (UserNotificationManagerUtil.isDeliver(memberRequest.getReceiverUserId(),PortletKeys.SO_INVITE_MEMBERS,0,MembershipRequestConstants.STATUS_PENDING,UserNotificationDeliveryConstants.TYPE_WEBSITE)) {
    JSONObject notificationEventJSONObject=JSONFactoryUtil.createJSONObject();
    notificationEventJSONObject.put("actionRequired",true);
    notificationEventJSONObject.put("classPK",memberRequest.getMemberRequestId());
    notificationEventJSONObject.put("userId",memberRequest.getUserId());
    NotificationEvent notificationEvent=NotificationEventFactoryUtil.createNotificationEvent(System.currentTimeMillis(),PortletKeys.SO_INVITE_MEMBERS,notificationEventJSONObject);
    notificationEvent.setDeliveryRequired(0);
    UserNotificationEventLocalServiceUtil.addUserNotificationEvent(memberRequest.getReceiverUserId(),notificationEvent);
  }
}
