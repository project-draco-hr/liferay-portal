{
  if (!PropsValues.SESSION_ENABLE_PERSISTENT_COOKIES || PropsValues.TCK_URL) {
    return;
  }
  String name=cookie.getName();
  String originalValue=cookie.getValue();
  String encodedValue=originalValue;
  if (isEncodedCookie(name)) {
    encodedValue=new String(Hex.encodeHex(originalValue.getBytes()));
    if (_log.isDebugEnabled()) {
      _log.debug("Add encoded cookie " + name);
      _log.debug("Original value " + originalValue);
      _log.debug("Hex encoded value " + encodedValue);
    }
  }
  cookie.setSecure(request.isSecure());
  cookie.setValue(encodedValue);
  cookie.setVersion(VERSION);
  response.addCookie(cookie);
}
