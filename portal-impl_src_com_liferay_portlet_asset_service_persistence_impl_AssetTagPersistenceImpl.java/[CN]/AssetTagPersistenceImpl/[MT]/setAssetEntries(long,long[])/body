{
  Set<Long> newAssetEntryPKsSet=SetUtil.fromArray(assetEntryPKs);
  Set<Long> oldAssetEntryPKsSet=SetUtil.fromArray(assetTagToAssetEntryTableMapper.getRightPrimaryKeys(pk));
  Set<Long> removeAssetEntryPKsSet=new HashSet<Long>(oldAssetEntryPKsSet);
  removeAssetEntryPKsSet.removeAll(newAssetEntryPKsSet);
  long[] removeAssetEntryPKs=new long[removeAssetEntryPKsSet.size()];
  int i=0;
  for (  long removeAssetEntryPK : removeAssetEntryPKsSet) {
    removeAssetEntryPKs[i++]=removeAssetEntryPK;
  }
  assetTagToAssetEntryTableMapper.deleteTableMappings(pk,removeAssetEntryPKs);
  newAssetEntryPKsSet.removeAll(oldAssetEntryPKsSet);
  long[] newAssetEntryPKs=new long[newAssetEntryPKsSet.size()];
  i=0;
  for (  long newAssetEntryPK : newAssetEntryPKsSet) {
    newAssetEntryPKs[i++]=newAssetEntryPK;
  }
  long companyId=0;
  AssetTag assetTag=fetchByPrimaryKey(pk);
  if (assetTag == null) {
    companyId=companyProvider.getCompanyId();
  }
 else {
    companyId=assetTag.getCompanyId();
  }
  assetTagToAssetEntryTableMapper.addTableMappings(companyId,pk,newAssetEntryPKs);
}
