{
  IndicesAdminClient indicesAdminClient=adminClient.indices();
  if (hasIndex(indicesAdminClient,companyId)) {
    return;
  }
  CreateIndexRequestBuilder createIndexRequestBuilder=indicesAdminClient.prepareCreate(String.valueOf(companyId));
  if (Validator.isNotNull(_indexConfigFile)) {
    ImmutableSettings.Builder builder=ImmutableSettings.settingsBuilder();
    Class<?> clazz=getClass();
    builder.classLoader(clazz.getClassLoader());
    builder.loadFromClasspath(_indexConfigFile);
    createIndexRequestBuilder.setSettings(builder);
  }
  for (  Map.Entry<String,String> entry : _typeMappings.entrySet()) {
    Class<?> clazz=getClass();
    String typeMapping=StringUtil.read(clazz.getClassLoader(),entry.getValue());
    createIndexRequestBuilder.addMapping(entry.getKey(),typeMapping);
  }
  Future<CreateIndexResponse> future=createIndexRequestBuilder.execute();
  CreateIndexResponse createIndexResponse=future.get();
  LogUtil.logActionResponse(_log,createIndexResponse);
}
