{
  boolean emailEnabled=GetterUtil.getBoolean(getParameter(actionRequest,emailParam + "Enabled"));
  String emailSubject=null;
  String emailBody=null;
  if (localized) {
    String languageId=LocaleUtil.toLanguageId(LocaleUtil.getSiteDefault());
    emailSubject=getLocalizedParameter(actionRequest,emailParam + "Subject",languageId);
    emailBody=getLocalizedParameter(actionRequest,emailParam + "Body",languageId);
  }
 else {
    emailSubject=getParameter(actionRequest,emailParam + "Subject");
    emailBody=getParameter(actionRequest,emailParam + "Body");
  }
  if (emailEnabled) {
    if (Validator.isNull(emailSubject)) {
      SessionErrors.add(actionRequest,emailParam + "Subject");
    }
 else     if (Validator.isNull(emailBody)) {
      SessionErrors.add(actionRequest,emailParam + "Body");
    }
  }
}
