{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(WikiNode.class,PACLClassLoaderUtil.getPortalClassLoader());
  Projection minEntryIdProjection=ProjectionFactoryUtil.min("nodeId");
  Projection maxEntryIdProjection=ProjectionFactoryUtil.max("nodeId");
  ProjectionList projectionList=ProjectionFactoryUtil.projectionList();
  projectionList.add(minEntryIdProjection);
  projectionList.add(maxEntryIdProjection);
  dynamicQuery.setProjection(projectionList);
  addReindexCriteria(dynamicQuery,companyId);
  List<Object[]> results=WikiNodeLocalServiceUtil.dynamicQuery(dynamicQuery);
  Object[] minAndMaxNodeIds=results.get(0);
  if ((minAndMaxNodeIds[0] == null) || (minAndMaxNodeIds[1] == null)) {
    return;
  }
  long minNodeId=(Long)minAndMaxNodeIds[0];
  long maxNodeId=(Long)minAndMaxNodeIds[1];
  long startNodeId=minNodeId;
  long endNodeId=startNodeId + DEFAULT_INTERVAL;
  while (startNodeId <= maxNodeId) {
    reindexEntries(companyId,startNodeId,endNodeId);
    startNodeId=endNodeId;
    endNodeId+=DEFAULT_INTERVAL;
  }
}
