{
  request.setAttribute("liferay-ui:language:displayCurrentLocale",String.valueOf(_displayCurrentLocale));
  request.setAttribute("liferay-ui:language:displayStyle",getDisplayStyle());
  request.setAttribute("liferay-ui:language:displayStyleGroupId",_ddmTemplateGroupId);
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  String formAction=_formAction;
  if (Validator.isNull(formAction)) {
    formAction=themeDisplay.getPathMain() + "/portal/update_language?p_l_id=" + themeDisplay.getPlid();
    formAction=HttpUtil.setParameter(formAction,"redirect",PortalUtil.getCurrentURL(request));
  }
  request.setAttribute("liferay-ui:language:formAction",formAction);
  request.setAttribute("liferay-ui:language:formName",_formName);
  request.setAttribute("liferay-ui:language:languageEntries",getLanguageEntries(getLocales(),themeDisplay.getLocale(),_displayCurrentLocale,formAction,_name));
  request.setAttribute("liferay-ui:language:languageId",_languageId);
  request.setAttribute("liferay-ui:language:locales",getLocales());
  request.setAttribute("liferay-ui:language:name",_name);
}
