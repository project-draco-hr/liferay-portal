{
  String from=getEmailAddress(message.getFrom());
  String recipient=getEmailAddress(message.getRecipients(RecipientType.TO));
  if (_log.isDebugEnabled()) {
    _log.debug("From " + from);
    _log.debug("Recipient " + recipient);
  }
  for (  MessageListener messageListener : messageListeners) {
    try {
      if (messageListener.accept(from,recipient,message)) {
        messageListener.deliver(from,recipient,message);
      }
    }
 catch (    MessageListenerException mle) {
      _log.error(mle,mle);
    }
  }
}
