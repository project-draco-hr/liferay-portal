{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long scopeGroupId=themeDisplay.getScopeGroupId();
  String[] classNames=PortalUtil.getSocialEquityClassNames();
  for (  String className : classNames) {
    List<SocialEquityActionMapping> mergedEquityActionMappings=getMergedEquityActionMappings(actionRequest,className);
    SocialEquitySettingLocalServiceUtil.updateSocialEquitySettings(scopeGroupId,className,mergedEquityActionMappings);
    boolean informationEquityEnabled=ParamUtil.getBoolean(actionRequest,className + ".informationEquityEnabled",false);
    SocialEquityGroupSettingLocalServiceUtil.updateSetting(scopeGroupId,className,SocialEquitySettingConstants.TYPE_INFORMATION,informationEquityEnabled);
    boolean participationEquityEnabled=ParamUtil.getBoolean(actionRequest,className + ".participationEquityEnabled",false);
    SocialEquityGroupSettingLocalServiceUtil.updateSetting(scopeGroupId,className,SocialEquitySettingConstants.TYPE_PARTICIPATION,participationEquityEnabled);
  }
}
