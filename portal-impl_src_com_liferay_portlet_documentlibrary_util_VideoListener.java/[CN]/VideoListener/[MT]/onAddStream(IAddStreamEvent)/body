{
  IMediaCoder mediaCoder=event.getSource();
  IContainer container=mediaCoder.getContainer();
  int streamIndex=event.getStreamIndex();
  IStream stream=container.getStream(streamIndex);
  IStreamCoder streamCoder=stream.getStreamCoder();
  if (streamCoder.getCodecType() == ICodec.Type.CODEC_TYPE_AUDIO) {
    streamCoder.setSampleRate(44100);
  }
 else   if (streamCoder.getCodecType() == ICodec.Type.CODEC_TYPE_VIDEO) {
    streamCoder.setHeight(_height);
    streamCoder.setWidth(_width);
  }
  super.onAddStream(event);
}
