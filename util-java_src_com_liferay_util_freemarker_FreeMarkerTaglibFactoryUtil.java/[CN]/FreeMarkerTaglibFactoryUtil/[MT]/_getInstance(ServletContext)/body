{
  if (_instance != null) {
    return _instance;
  }
synchronized (FreeMarkerTaglibFactoryUtil.class) {
    if (_instance == null) {
      String contextPath=ContextPathUtil.getContextPath(servletContext);
      _instance=new FreeMarkerTaglibFactoryUtil(contextPath);
      CacheRegistryUtil.unregister(_instance._registryName);
      CacheRegistryUtil.register(_instance);
      final String name=_instance._registryName;
      FinalizeManager.register(servletContext,new FinalizeAction(){
        @Override public void doFinalize(){
          CacheRegistryUtil.unregister(name);
        }
      }
);
    }
  }
  return _instance;
}
