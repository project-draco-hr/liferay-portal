{
  Map<String,ServletDefinition> servletDefinitions=_webXML.getServletDefinitions();
  for (  Entry<String,ServletDefinition> entry : servletDefinitions.entrySet()) {
    ServletDefinition servletDefinition=entry.getValue();
    Servlet servlet=servletDefinition.getServlet();
    try {
      if (servlet instanceof WabResourceServlet) {
        List<String> urlPatterns=servletDefinition.getURLPatterns();
        String prefix=MapUtil.getString(servletDefinition.getInitParameters(),"prefix",StringPool.SLASH);
        _extendedHttpService.registerResources(urlPatterns.toArray(new String[0]),prefix,_servletContextName);
        continue;
      }
      _extendedHttpService.registerServlet(servlet,servletDefinition.getName(),servletDefinition.getURLPatterns().toArray(new String[0]),servletDefinition.getErrorPages().toArray(new String[0]),servletDefinition.isAsyncSupported(),servletDefinition.getInitParameters(),_servletContextName);
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
}
