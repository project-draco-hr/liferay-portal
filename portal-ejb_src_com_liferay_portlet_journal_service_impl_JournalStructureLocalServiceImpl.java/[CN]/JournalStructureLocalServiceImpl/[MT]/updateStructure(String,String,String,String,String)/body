{
  structureId=structureId.trim().toUpperCase();
  try {
    xsd=JournalUtil.formatXML(xsd);
  }
 catch (  DocumentException de) {
    throw new StructureXsdException();
  }
catch (  IOException ioe) {
    throw new StructureXsdException();
  }
  validate(name,description,xsd);
  JournalStructure structure=JournalStructureUtil.findByPrimaryKey(new JournalStructurePK(companyId,structureId));
  structure.setModifiedDate(new Date());
  structure.setName(name);
  structure.setDescription(description);
  structure.setXsd(xsd);
  JournalStructureUtil.update(structure);
  return structure;
}
