{
  Map<Long,LDAPServerConfiguration> ldapServerConfigurations=_ldapServerConfigurations.get(companyId);
  if (MapUtil.isEmpty(ldapServerConfigurations)) {
    ldapServerConfigurations=_ldapServerConfigurations.get(0L);
  }
  if (MapUtil.isEmpty(ldapServerConfigurations)) {
    throw new IllegalArgumentException("No default LDAPServerConfiguration found");
  }
  LDAPServerConfiguration ldapServerConfiguration=ldapServerConfigurations.get(ldapServerId);
  if (ldapServerConfiguration == null) {
    throw new IllegalArgumentException("No LDAPServerConfiguration found: companyId=" + companyId + ", ldapServerId="+ ldapServerId);
  }
  return ldapServerConfiguration;
}
