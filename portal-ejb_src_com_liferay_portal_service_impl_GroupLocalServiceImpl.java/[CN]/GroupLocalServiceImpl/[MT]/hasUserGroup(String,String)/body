{
  User user=UserLocalServiceUtil.getUserById(userId);
  Map params=new HashMap();
  params.put("usersGroups",userId);
  List communities=GroupFinder.findByC_N_U(user.getCompanyId(),null,userId,params);
  for (int i=0; communities != null && i < communities.size(); i++) {
    Group community=(Group)communities.get(i);
    if (community.getGroupId().equals(groupId)) {
      return true;
    }
  }
  return false;
}
