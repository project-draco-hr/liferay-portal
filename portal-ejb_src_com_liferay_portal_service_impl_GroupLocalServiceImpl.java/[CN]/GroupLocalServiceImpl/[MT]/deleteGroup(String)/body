{
  Group group=GroupUtil.findByPrimaryKey(groupId);
  if (PortalUtil.isSystemGroup(group.getName())) {
    throw new RequiredGroupException();
  }
  LayoutSetLocalServiceUtil.deleteLayoutSet(Layout.PRIVATE + groupId);
  LayoutSetLocalServiceUtil.deleteLayoutSet(Layout.PUBLIC + groupId);
  try {
    Role role=RoleLocalServiceUtil.getGroupRole(group.getCompanyId(),groupId);
    RoleLocalServiceUtil.deleteRole(role.getRoleId());
  }
 catch (  NoSuchRoleException nsre) {
  }
  BlogsEntryLocalServiceUtil.deleteEntries(groupId);
  BookmarksFolderLocalServiceUtil.deleteFolders(groupId);
  CalEventLocalServiceUtil.deleteEvents(groupId);
  DLFolderLocalServiceUtil.deleteFolders(groupId);
  IGFolderLocalServiceUtil.deleteFolders(groupId);
  JournalArticleLocalServiceUtil.deleteArticles(groupId);
  MBCategoryLocalServiceUtil.deleteCategories(groupId);
  PollsQuestionLocalServiceUtil.deleteQuestions(groupId);
  ShoppingCartLocalServiceUtil.deleteGroupCarts(groupId);
  WikiNodeLocalServiceUtil.deleteNodes(groupId);
  Iterator itr=ResourceUtil.findByC_T_S_P(group.getCompanyId(),Resource.TYPE_CLASS,Resource.SCOPE_GROUP,groupId).iterator();
  while (itr.hasNext()) {
    Resource resource=(Resource)itr.next();
    ResourceLocalServiceUtil.deleteResource(resource);
  }
  ResourceLocalServiceUtil.deleteResource(group.getCompanyId(),Group.class.getName(),Resource.TYPE_CLASS,Resource.SCOPE_INDIVIDUAL,group.getPrimaryKey().toString());
  GroupUtil.remove(groupId);
}
