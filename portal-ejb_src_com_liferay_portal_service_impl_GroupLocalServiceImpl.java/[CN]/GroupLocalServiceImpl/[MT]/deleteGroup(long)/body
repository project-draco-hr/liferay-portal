{
  Group group=GroupUtil.findByPrimaryKey(groupId);
  if (PortalUtil.isSystemGroup(group.getName())) {
    throw new RequiredGroupException();
  }
  LayoutSetLocalServiceUtil.deleteLayoutSet(LayoutImpl.PRIVATE + groupId);
  LayoutSetLocalServiceUtil.deleteLayoutSet(LayoutImpl.PUBLIC + groupId);
  try {
    Role role=RoleLocalServiceUtil.getGroupRole(group.getCompanyId(),groupId);
    RoleLocalServiceUtil.deleteRole(role.getRoleId());
  }
 catch (  NoSuchRoleException nsre) {
  }
  BlogsEntryLocalServiceUtil.deleteEntries(groupId);
  BookmarksFolderLocalServiceUtil.deleteFolders(groupId);
  CalEventLocalServiceUtil.deleteEvents(groupId);
  DLFolderLocalServiceUtil.deleteFolders(groupId);
  IGFolderLocalServiceUtil.deleteFolders(groupId);
  JournalArticleLocalServiceUtil.deleteArticles(groupId);
  MBCategoryLocalServiceUtil.deleteCategories(groupId);
  MBStatsUserLocalServiceUtil.deleteStatsUserByGroupId(groupId);
  PollsQuestionLocalServiceUtil.deleteQuestions(groupId);
  ShoppingCartLocalServiceUtil.deleteGroupCarts(groupId);
  WikiNodeLocalServiceUtil.deleteNodes(groupId);
  Iterator itr=ResourceUtil.findByC_T_S_P(group.getCompanyId(),ResourceImpl.TYPE_CLASS,ResourceImpl.SCOPE_GROUP,String.valueOf(groupId)).iterator();
  while (itr.hasNext()) {
    Resource resource=(Resource)itr.next();
    ResourceLocalServiceUtil.deleteResource(resource);
  }
  if (Validator.isNull(group.getClassName()) && Validator.isNull(group.getClassPK())) {
    ResourceLocalServiceUtil.deleteResource(group.getCompanyId(),Group.class.getName(),ResourceImpl.TYPE_CLASS,ResourceImpl.SCOPE_INDIVIDUAL,group.getPrimaryKey());
  }
  GroupUtil.remove(groupId);
}
