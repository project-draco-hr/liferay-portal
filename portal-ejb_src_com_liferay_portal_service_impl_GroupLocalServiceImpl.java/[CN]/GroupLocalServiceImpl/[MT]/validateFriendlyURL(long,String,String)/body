{
  if (Validator.isNotNull(friendlyURL)) {
    int exceptionType=LayoutImpl.validateFriendlyURL(friendlyURL);
    if (exceptionType != -1) {
      throw new GroupFriendlyURLException(exceptionType);
    }
    try {
      Group group=GroupUtil.findByC_F(companyId,friendlyURL);
      if ((groupId <= 0) || (group.getGroupId() != groupId)) {
        throw new GroupFriendlyURLException(GroupFriendlyURLException.DUPLICATE);
      }
    }
 catch (    NoSuchGroupException nsge) {
    }
    String screenName=friendlyURL;
    if (screenName.startsWith(StringPool.SLASH)) {
      screenName=friendlyURL.substring(1,friendlyURL.length());
    }
    User user=UserUtil.fetchByC_SN(companyId,screenName);
    if (user != null) {
      throw new GroupFriendlyURLException(GroupFriendlyURLException.DUPLICATE);
    }
  }
}
