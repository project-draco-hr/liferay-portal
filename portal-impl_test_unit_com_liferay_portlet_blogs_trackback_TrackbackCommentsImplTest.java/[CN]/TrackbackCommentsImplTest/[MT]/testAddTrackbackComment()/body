{
  long threadId=7;
  when(_mbThread.getThreadId()).thenReturn(threadId);
  long parentMessageId=37;
  when(_mbThread.getRootMessageId()).thenReturn(parentMessageId);
  long messageId=99999L;
  when(_mbMessage.getMessageId()).thenReturn(messageId);
  long userId=42;
  long groupId=16;
  String className=BlogsEntry.class.getName();
  long classPK=142857;
  long result=_comments.addTrackbackComment(userId,groupId,className,classPK,"__blogName__","__title__","__body__",_portletRequest);
  assertEquals(messageId,result);
  verify(_mbMessageLocalService).getDiscussionMessageDisplay(userId,groupId,className,classPK,WorkflowConstants.STATUS_APPROVED);
  verify(_mbMessageLocalService).addDiscussionMessage(eq(userId),eq("__blogName__"),eq(groupId),eq(className),eq(classPK),eq(threadId),eq(parentMessageId),eq("__title__"),eq("__body__"),same(_mockServiceContext));
  PowerMockito.verifyStatic();
  ServiceContextFactory.getInstance(MBMessage.class.getName(),_portletRequest);
}
