{
  if (ddmStructureId <= 0) {
    return null;
  }
  TemplateVariableGroup templateVariableGroup=new TemplateVariableGroup("fields");
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getStructure(ddmStructureId);
  List<String> fieldNames=ddmStructure.getRootFieldNames();
  for (  String fieldName : fieldNames) {
    if (fieldName.startsWith(StringPool.UNDERLINE)) {
      continue;
    }
    String label=ddmStructure.getFieldLabel(fieldName,locale);
    String tip=ddmStructure.getFieldTip(fieldName,locale);
    String dataType=ddmStructure.getFieldDataType(fieldName);
    boolean repeatable=ddmStructure.getFieldRepeatable(fieldName);
    templateVariableGroup.addFieldVariable(label,getFieldVariableClass(),fieldName,tip,dataType,repeatable,getTemplateVariableCodeHandler());
  }
  return templateVariableGroup;
}
