{
  return new ServiceTrackerCustomizer<S,S>(){
    @Override public S addingService(    ServiceReference<S> serviceReference){
      Registry registry=RegistryUtil.getRegistry();
      S service=registry.getService(serviceReference);
      try {
        if (predicateFilter.filter(service)) {
          return service;
        }
      }
 catch (      Exception e) {
      }
      registry.ungetService(serviceReference);
      return null;
    }
    @Override public void removedService(    ServiceReference<S> serviceReference,    S service){
    }
    @Override public void modifiedService(    ServiceReference<S> serviceReference,    S service){
      Registry registry=RegistryUtil.getRegistry();
      registry.ungetService(serviceReference);
    }
  }
;
}
