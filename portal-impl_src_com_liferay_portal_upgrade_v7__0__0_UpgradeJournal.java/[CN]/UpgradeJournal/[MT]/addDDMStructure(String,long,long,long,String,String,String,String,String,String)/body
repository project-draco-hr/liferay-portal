{
  Timestamp now=new Timestamp(System.currentTimeMillis());
  Connection con=null;
  PreparedStatement ps=null;
  try {
    con=DataAccess.getUpgradeOptimizedConnection();
    StringBundler sb=new StringBundler(6);
    sb.append("insert into DDMStructure (uuid_, structureId, ");
    sb.append("groupId, companyId, userId, userName, createDate, ");
    sb.append("modifiedDate, parentStructureId, classNameId, ");
    sb.append("structureKey, version, name, description, definition, ");
    sb.append("storageType, type_) values (?, ?, ?, ?, ?, ?, ?, ?, ");
    sb.append("?, ?, ?, ?, ?, ?, ?, ?, ?)");
    String sql=sb.toString();
    ps=con.prepareStatement(sql);
    ps.setString(1,uuid);
    ps.setLong(2,ddmStructureId);
    ps.setLong(3,groupId);
    ps.setLong(4,companyId);
    ps.setLong(5,getDefaultUserId(companyId));
    ps.setString(6,StringPool.BLANK);
    ps.setTimestamp(7,now);
    ps.setTimestamp(8,now);
    ps.setLong(9,DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID);
    ps.setLong(10,PortalUtil.getClassNameId("com.liferay.portlet.journal.model.JournalArticle"));
    ps.setString(11,ddmStructureKey);
    ps.setString(12,DDMStructureConstants.VERSION_DEFAULT);
    ps.setString(13,localizedName);
    ps.setString(14,localizedDescription);
    ps.setString(15,definition);
    ps.setString(16,storageType);
    ps.setInt(17,DDMStructureConstants.TYPE_DEFAULT);
    ps.executeUpdate();
    long ddmStructureVersionId=increment();
    addDDMStructureVersion(ddmStructureVersionId,groupId,companyId,getDefaultUserId(companyId),StringPool.BLANK,now,ddmStructureId,DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID,localizedName,localizedDescription,definition,storageType,DDMStructureConstants.TYPE_DEFAULT,WorkflowConstants.STATUS_APPROVED,getDefaultUserId(companyId),StringPool.BLANK,now);
    addDDMStructureLayout(PortalUUIDUtil.generate(),increment(),groupId,companyId,getDefaultUserId(companyId),StringPool.BLANK,now,now,ddmStructureVersionId,layout);
    Map<String,Long> bitwiseValues=getBitwiseValues(DDMStructure.class.getName());
    List<String> actionIds=new ArrayList<>();
    actionIds.add(ActionKeys.VIEW);
    long bitwiseValue=getBitwiseValue(bitwiseValues,actionIds);
    addResourcePermission(companyId,DDMStructure.class.getName(),ddmStructureId,getRoleId(companyId,RoleConstants.GUEST),bitwiseValue);
    addResourcePermission(companyId,DDMStructure.class.getName(),ddmStructureId,getRoleId(companyId,RoleConstants.SITE_MEMBER),bitwiseValue);
  }
 catch (  Exception e) {
    _log.error("Unable to create the basic web content structure");
    throw e;
  }
 finally {
    DataAccess.cleanUp(con,ps);
  }
  return ddmStructureId;
}
