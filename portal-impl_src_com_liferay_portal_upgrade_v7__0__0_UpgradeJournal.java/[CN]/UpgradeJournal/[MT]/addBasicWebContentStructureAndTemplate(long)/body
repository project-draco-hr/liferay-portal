{
  long groupId=getCompanyGroupId(companyId);
  String defaultLanguageId=UpgradeProcessUtil.getDefaultLanguageId(companyId);
  Locale defaultLocale=LocaleUtil.fromLanguageId(defaultLanguageId);
  List<Element> structureElements=getDDMStructures(defaultLocale);
  Element structureElement=structureElements.get(0);
  String name=structureElement.elementText("name");
  String description=structureElement.elementText("description");
  String localizedName=localize(groupId,name,defaultLanguageId);
  String localizedDescription=localize(groupId,description,defaultLanguageId);
  Element structureElementRootElement=structureElement.element("root");
  String xsd=structureElementRootElement.asXML();
  if (hasDDMStructure(groupId,name) > 0) {
    return name;
  }
  String ddmStructureUUID=PortalUUIDUtil.generate();
  long ddmStructureId=addDDMStructure(ddmStructureUUID,increment(),groupId,companyId,name,localizedName,localizedDescription,xsd);
  Element templateElement=structureElement.element("template");
  String fileName=templateElement.elementText("file-name");
  boolean cacheable=GetterUtil.getBoolean(templateElement.elementText("cacheable"));
  String ddmTemplateUUID=PortalUUIDUtil.generate();
  addDDMTemplate(ddmTemplateUUID,increment(),groupId,companyId,ddmStructureId,name,localizedName,localizedDescription,getContent(fileName),cacheable);
  long liveGroupId=getStagingGroupId(groupId);
  if (liveGroupId > 0) {
    ddmStructureId=addDDMStructure(ddmStructureUUID,increment(),liveGroupId,companyId,name,localizedName,localizedDescription,xsd);
    addDDMTemplate(ddmTemplateUUID,increment(),liveGroupId,companyId,ddmStructureId,name,localizedName,localizedDescription,getContent(fileName),cacheable);
  }
  return name;
}
