{
  try {
    String[] pathArray=webDavReq.getPathArray();
    DLFolder parentFolder=null;
    String parentFolderId=DLFolderImpl.DEFAULT_PARENT_FOLDER_ID;
    for (int i=2; i < (pathArray.length - 1); i++) {
      String folderId=pathArray[i];
      parentFolder=DLFolderLocalServiceUtil.getFolder(folderId);
      if (webDavReq.getGroupId() == parentFolder.getGroupId()) {
        parentFolderId=folderId;
      }
    }
    String name=pathArray[pathArray.length - 1];
    try {
      DLFolder folder=DLFolderLocalServiceUtil.getFolder(parentFolderId,name);
      return toResource(webDavReq,folder);
    }
 catch (    NoSuchFolderException nsfe) {
      try {
        DLFileEntry fileEntry=DLFileEntryLocalServiceUtil.getFileEntry(parentFolderId,name);
        return toResource(webDavReq,fileEntry);
      }
 catch (      NoSuchFileEntryException nsfee) {
        return null;
      }
    }
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
}
