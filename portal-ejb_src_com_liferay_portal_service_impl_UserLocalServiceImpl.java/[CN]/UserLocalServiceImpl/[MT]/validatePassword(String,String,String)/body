{
  if (!password1.equals(password2)) {
    throw new UserPasswordException(UserPasswordException.PASSWORDS_DO_NOT_MATCH);
  }
 else   if (!PwdToolkitUtil.validate(password1) || !PwdToolkitUtil.validate(password2)) {
    throw new UserPasswordException(UserPasswordException.PASSWORD_INVALID);
  }
 else   if (!PasswordTrackerLocalServiceUtil.isValidPassword(userId,password1)) {
    throw new UserPasswordException(UserPasswordException.PASSWORD_ALREADY_USED);
  }
}
