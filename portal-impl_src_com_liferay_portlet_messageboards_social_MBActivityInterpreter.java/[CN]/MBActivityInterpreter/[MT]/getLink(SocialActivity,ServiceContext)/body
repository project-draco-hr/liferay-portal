{
  MBMessage message=getMessage(activity);
  MBThread thread=message.getThread();
  if (thread.isInTrash()) {
    PortletURL portletURL=TrashUtil.getViewContentURL(MBThread.class.getName(),thread.getThreadId(),serviceContext.getRequest());
    return portletURL.toString();
  }
  StringBundler sb=new StringBundler(4);
  sb.append(serviceContext.getPortalURL());
  sb.append(serviceContext.getPathMain());
  sb.append("/message_boards/find_message?messageId=");
  sb.append(message.getMessageId());
  return sb.toString();
}
