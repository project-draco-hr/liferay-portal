{
  long trashEntryId=ParamUtil.getLong(actionRequest,"trashEntryId");
  String newName=ParamUtil.getString(actionRequest,"newName");
  TrashEntry entry=TrashEntryLocalServiceUtil.getTrashEntry(trashEntryId);
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(entry.getClassName());
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  try {
    trashHandler.checkDuplicateTrashEntry(entry,TrashEntryConstants.DEFAULT_CONTAINER_ID,newName);
    jsonObject.put("success",true);
  }
 catch (  DuplicateEntryException dee) {
    jsonObject.put("duplicateEntryId",dee.getDuplicateEntryId());
    jsonObject.put("oldName",dee.getOldName());
    jsonObject.put("success",false);
    jsonObject.put("trashEntryId",dee.getTrashEntryId());
  }
  return jsonObject;
}
