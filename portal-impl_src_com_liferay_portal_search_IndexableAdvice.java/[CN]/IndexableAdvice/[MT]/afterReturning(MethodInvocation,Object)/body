{
  if (result == null) {
    return;
  }
  Indexable indexable=findAnnotation(methodInvocation);
  if (indexable == _nullIndexable) {
    return;
  }
  Method method=methodInvocation.getMethod();
  Class<?> returnType=method.getReturnType();
  if (!BaseModel.class.isAssignableFrom(returnType)) {
    if (_log.isWarnEnabled()) {
      _log.warn(methodInvocation + " does not have a valid return type");
    }
    return;
  }
  Object[] arguments=methodInvocation.getArguments();
  ServiceContext serviceContext=null;
  for (int i=arguments.length - 1; i >= 0; i--) {
    if (arguments[i] instanceof ServiceContext) {
      serviceContext=(ServiceContext)arguments[i];
      break;
    }
  }
  Indexer indexer=null;
  if ((serviceContext == null) || serviceContext.isIndexingEnabled()) {
    indexer=IndexerRegistryUtil.getIndexer(returnType.getName());
  }
  if (indexer != null) {
    if (indexable.type() == IndexableType.DELETE) {
      indexer.delete(result);
    }
 else {
      indexer.reindex(result);
    }
  }
 else {
    ServiceBeanAopProxy.removeMethodInterceptor(methodInvocation,this);
  }
}
