{
  List<Layout> layouts=null;
  if (privateLayoutParam == null) {
    layouts=getLayouts(groupId,false);
    if (layouts.size() == 0) {
      layouts=getLayouts(groupId,true);
    }
  }
 else {
    boolean privateLayout=GetterUtil.getBoolean(privateLayoutParam);
    layouts=getLayouts(groupId,privateLayout);
  }
  String redirect=null;
  for (Iterator iter=layouts.iterator(); iter.hasNext(); ) {
    Layout element=(Layout)iter.next();
    if (LayoutPermissionUtil.contains(PermissionThreadLocal.getPermissionChecker(),element,ActionKeys.VIEW)) {
      redirect=PortalUtil.getLayoutURL(element,themeDisplay);
      break;
    }
  }
  return redirect;
}
