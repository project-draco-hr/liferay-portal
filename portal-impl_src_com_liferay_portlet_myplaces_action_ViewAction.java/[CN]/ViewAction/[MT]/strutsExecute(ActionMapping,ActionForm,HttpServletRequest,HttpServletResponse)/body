{
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(req,"groupId");
  boolean privateLayout=ParamUtil.getBoolean(req,"privateLayout");
  List layouts=LayoutLocalServiceUtil.getLayouts(groupId,privateLayout,LayoutImpl.DEFAULT_PARENT_LAYOUT_ID,0,1);
  String redirect=themeDisplay.getPathMain();
  if (layouts.size() > 0) {
    Layout layout=(Layout)layouts.get(0);
    redirect=PortalUtil.getLayoutURL(layout,themeDisplay);
  }
 else {
    redirect=ParamUtil.getString(req,"redirect");
    SessionErrors.add(req,NoSuchLayoutSetException.class.getName(),new NoSuchLayoutSetException("{groupId=" + groupId + ",privateLayout="+ privateLayout+ "}"));
  }
  res.sendRedirect(redirect);
  return null;
}
