{
  User user=UserUtil.findByPrimaryKey(userId);
  Date now=new Date();
  validate(0,user.getCompanyId(),className,classPK,url,typeId,primary);
  long websiteId=CounterLocalServiceUtil.increment(Counter.class.getName());
  Website website=WebsiteUtil.create(websiteId);
  website.setCompanyId(user.getCompanyId());
  website.setUserId(user.getUserId());
  website.setUserName(user.getFullName());
  website.setCreateDate(now);
  website.setModifiedDate(now);
  website.setClassName(className);
  website.setClassPK(classPK);
  website.setUrl(url);
  website.setTypeId(typeId);
  website.setPrimary(primary);
  WebsiteUtil.update(website);
  return website;
}
