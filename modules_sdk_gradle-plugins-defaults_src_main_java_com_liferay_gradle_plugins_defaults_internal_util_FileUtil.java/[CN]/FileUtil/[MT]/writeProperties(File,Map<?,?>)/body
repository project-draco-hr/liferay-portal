{
  File dir=file.getParentFile();
  dir.mkdirs();
  properties=new TreeMap<>(properties);
  try (BufferedWriter bufferedWriter=Files.newBufferedWriter(file.toPath(),StandardCharsets.ISO_8859_1)){
    boolean firstLine=true;
    for (    Map.Entry<?,?> entry : properties.entrySet()) {
      String key=GradleUtil.toString(entry.getKey());
      String value=GradleUtil.toString(entry.getValue());
      if (firstLine) {
        firstLine=false;
      }
 else {
        bufferedWriter.newLine();
      }
      bufferedWriter.write(key);
      bufferedWriter.write('=');
      bufferedWriter.write(value);
    }
  }
 catch (  IOException ioe) {
    throw new UncheckedIOException(ioe);
  }
}
