{
  int bufferSize=10;
  ByteArrayInputStream bais=new ByteArrayInputStream(_BUFFER);
  UnsyncBufferedInputStream ubis=new UnsyncBufferedInputStream(bais,bufferSize);
  assertEquals(_BUFFER_SIZE,bais.available());
  assertEquals(_BUFFER_SIZE,ubis.available());
  assertEquals(0,ubis.read());
  assertEquals(_BUFFER_SIZE - bufferSize,bais.available());
  assertEquals(_BUFFER_SIZE - 1,ubis.available());
  for (int i=1; i < bufferSize + 1; i++) {
    assertEquals(i,ubis.read());
  }
  assertEquals(_BUFFER_SIZE - bufferSize * 2,bais.available());
  assertEquals(_BUFFER_SIZE - bufferSize - 1,ubis.available());
}
