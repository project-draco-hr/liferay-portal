{
  String indexType=StringPool.BLANK;
  if (ddmStructureId > 0) {
    DDMStructure ddmStructure=_ddmStructureLocalService.fetchDDMStructure(ddmStructureId);
    if (ddmStructure != null) {
      try {
        indexType=ddmStructure.getFieldProperty(fieldName,"indexType");
      }
 catch (      PortalException pe) {
        throw new IllegalArgumentException("Unable to obtain index tpe for field " + fieldName + " and DDM structure ID "+ ddmStructureId);
      }
    }
  }
  return encodeName(ddmStructureId,fieldName,locale,indexType);
}
