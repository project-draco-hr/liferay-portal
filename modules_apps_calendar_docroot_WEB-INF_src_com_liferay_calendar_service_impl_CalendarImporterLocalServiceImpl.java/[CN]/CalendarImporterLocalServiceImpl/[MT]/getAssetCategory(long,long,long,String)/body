{
  AssetVocabulary assetVocabulary=assetVocabularyPersistence.fetchByG_N(groupId,_ASSET_VOCABULARY_NAME);
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setScopeGroupId(groupId);
  User user=userPersistence.fetchByC_U(companyId,userId);
  if (user == null) {
    user=userPersistence.fetchByC_DU(companyId,true);
    userId=user.getUserId();
  }
  serviceContext.setUserId(userId);
  if (assetVocabulary == null) {
    assetVocabulary=assetVocabularyLocalService.addVocabulary(userId,groupId,_ASSET_VOCABULARY_NAME,serviceContext);
  }
  AssetCategory assetCategory=assetCategoryPersistence.fetchByP_N_V(AssetCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,name,assetVocabulary.getVocabularyId());
  if (assetCategory != null) {
    return assetCategory;
  }
  return assetCategoryLocalService.addCategory(userId,groupId,name,assetVocabulary.getVocabularyId(),serviceContext);
}
