{
  content=HtmlUtil.stripComments(content);
  Document document=SAXReaderUtil.read(content);
  Element rootElement=document.getRootElement();
  Element serviceElement=rootElement.element("service");
  Map<String,Element> operationElementsById=new TreeMap<String,Element>();
  List<Element> operationElements=serviceElement.elements("operation");
  for (  Element operationElement : operationElements) {
    operationElement.detach();
    StringBundler sb=new StringBundler();
    String name=operationElement.attributeValue("name");
    sb.append(name);
    sb.append("_METHOD_");
    List<Element> parameterElements=operationElement.elements("parameter");
    for (    Element parameterElement : parameterElements) {
      String type=parameterElement.attributeValue("type");
      sb.append(type);
      sb.append("_PARAMETER_");
    }
    operationElementsById.put(sb.toString(),operationElement);
  }
  for (  Map.Entry<String,Element> entry : operationElementsById.entrySet()) {
    Element operationElement=entry.getValue();
    serviceElement.add(operationElement);
  }
  content=StringUtil.replace(document.formattedString(),"\"/>","\" />");
  return content;
}
