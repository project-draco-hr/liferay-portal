{
  Portlet portlet=PortletLocalServiceUtil.getPortletById(companyId,portletName);
  List<String> modelNames=ResourceActionsUtil.getPortletModelResources(portletName);
  for (  String modelName : modelNames) {
    ResourceLocalServiceUtil.deleteResource(_user.getCompanyId(),modelName,ResourceConstants.SCOPE_INDIVIDUAL,modelName);
  }
  ResourceLocalServiceUtil.deleteResource(_user.getCompanyId(),portletName,ResourceConstants.SCOPE_INDIVIDUAL,portletName);
  PortletLocalServiceUtil.destroyRemotePortlet(portlet);
}
