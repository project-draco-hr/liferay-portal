{
  _user=UserTestUtil.addUser();
  PermissionChecker permissionChecker=_getPermissionChecker(_user);
  String withExceptionPortletId="com_liferay_blogs_web_portlet_BlogsAdminPortlet";
  String withExceptionActionId="ADD_TO_PAGE";
  String withoutExceptionPortletId="11";
  String withoutExceptionActionId="VIEW";
  try {
    Assert.assertFalse(permissionChecker.hasPermission(_group.getGroupId(),withExceptionPortletId,_group.getGroupId(),withExceptionActionId));
    Assert.assertFalse(permissionChecker.hasPermission(_group.getGroupId(),withoutExceptionPortletId,_group.getGroupId(),withoutExceptionActionId));
  }
 catch (  Exception e) {
    Assert.fail();
  }
  boolean hasWithException=false;
  boolean hasWithoutException=false;
  String withExceptionMessage="Guest does not have permission to " + withExceptionActionId + " on "+ withExceptionPortletId+ " with primary key "+ _group.getGroupId();
  String withoutExceptionMessage="Guest does not have permission to " + withoutExceptionActionId + " on "+ withoutExceptionPortletId+ " with primary key "+ _group.getGroupId();
  List<LoggingEvent> loggingEvents=_captureAppender.getLoggingEvents();
  for (  LoggingEvent loggingEvent : loggingEvents) {
    String message=loggingEvent.getRenderedMessage();
    if (message.equals(withExceptionMessage)) {
      hasWithException=true;
    }
    if (message.equals(withoutExceptionMessage)) {
      hasWithoutException=true;
    }
  }
  Assert.assertTrue(hasWithException);
  Assert.assertFalse(hasWithoutException);
}
