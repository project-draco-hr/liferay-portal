{
  _user=UserTestUtil.addUser();
  PermissionChecker permissionChecker=_getPermissionChecker(_user);
  String exceptionPortledId="com_liferay_blogs_web_portlet_BlogsAdminPortlet";
  String exceptionActionId="ADD_TO_PAGE";
  String nonExceptionPortledId="11";
  String nonExceptionActionId="VIEW";
  try {
    Assert.assertFalse(permissionChecker.hasPermission(_group.getGroupId(),exceptionPortledId,_group.getGroupId(),exceptionActionId));
    Assert.assertFalse(permissionChecker.hasPermission(_group.getGroupId(),nonExceptionPortledId,_group.getGroupId(),nonExceptionActionId));
  }
 catch (  Exception e) {
    Assert.fail();
  }
  String exceptionErrorMessage=exceptionPortledId + " does not have guest permission to resource:" + exceptionActionId;
  String nonExceptionErrorMessage=nonExceptionPortledId + " does not have guest permission to resource:" + nonExceptionActionId;
  boolean foundException=false;
  boolean foundNonException=false;
  List<LoggingEvent> loggingEvents=_captureAppender.getLoggingEvents();
  for (  LoggingEvent loggingEvent : loggingEvents) {
    String message=loggingEvent.getRenderedMessage();
    if (exceptionErrorMessage.equals(message)) {
      foundException=true;
    }
    if (nonExceptionErrorMessage.equals(message)) {
      foundNonException=true;
    }
  }
  Assert.assertTrue(foundException);
  Assert.assertFalse(foundNonException);
}
