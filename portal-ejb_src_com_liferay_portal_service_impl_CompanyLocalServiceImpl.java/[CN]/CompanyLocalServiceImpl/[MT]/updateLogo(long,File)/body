{
  try {
    ImageLocalUtil.put(companyId + ".portal.company",FileUtil.getBytes(file));
    BufferedImage thumbnail=ImageUtil.scale(ImageIO.read(file),.6);
    ByteArrayMaker bam=new ByteArrayMaker();
    ImageIO.write(thumbnail,"png",bam);
    ImageLocalUtil.put(companyId + ".portal.company.png",bam.toByteArray());
    bam=new ByteArrayMaker();
    ImageUtil.encodeWBMP(thumbnail,bam);
    ImageLocalUtil.put(companyId + ".portal.company.wbmp",bam.toByteArray());
  }
 catch (  InterruptedException ie) {
    throw new SystemException(ie);
  }
catch (  IOException ioe) {
    throw new SystemException(ioe);
  }
}
