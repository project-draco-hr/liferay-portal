{
  _scanForResources();
  if (_contributorType == null) {
    return;
  }
  BundleContext bundleContext=_bundle.getBundleContext();
  Iterator<ServiceReference<ServletContext>> iterator=null;
  while ((iterator == null) || !iterator.hasNext()) {
    Collection<ServiceReference<ServletContext>> serviceReferences=bundleContext.getServiceReferences(ServletContext.class,"(osgi.web.symbolicname=" + _bundle.getSymbolicName() + ")");
    iterator=serviceReferences.iterator();
  }
  ServiceReference<ServletContext> reference=iterator.next();
  ServletContext themeContributorServletContext=bundleContext.getService(reference);
  if (themeContributorServletContext != null) {
    _contextPath=themeContributorServletContext.getContextPath();
    _portalWebResourcesServiceRegistration=bundleContext.registerService(PortalWebResources.class.getName(),new ThemeContributorPortalWebResources(themeContributorServletContext),null);
  }
  _dynamicIncludeServiceRegistration=bundleContext.registerService(DynamicInclude.class.getName(),new ThemeContributorDynamicInclude(),null);
}
