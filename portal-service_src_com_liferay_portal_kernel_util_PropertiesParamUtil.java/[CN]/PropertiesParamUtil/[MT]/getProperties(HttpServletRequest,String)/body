{
  UnicodeProperties properties=new UnicodeProperties(true);
  Map<String,String[]> parameterMap=request.getParameterMap();
  List<String> params=filterParams(prefix,ListUtil.fromCollection(parameterMap.keySet()),null);
  for (  String param : params) {
    String key=param.substring(prefix.length(),param.length() - 2);
    String value=request.getParameter(param);
    properties.setProperty(key,value);
  }
  String checkboxNames=ParamUtil.getString(request,"checkboxNames");
  if (Validator.isNull(checkboxNames)) {
    return properties;
  }
  List<String> checkboxParams=filterParams(prefix,ListUtil.fromString(checkboxNames,StringPool.COMMA),params);
  for (  String param : checkboxParams) {
    properties.setProperty(getKey(param,prefix),Boolean.FALSE.toString());
  }
  return properties;
}
