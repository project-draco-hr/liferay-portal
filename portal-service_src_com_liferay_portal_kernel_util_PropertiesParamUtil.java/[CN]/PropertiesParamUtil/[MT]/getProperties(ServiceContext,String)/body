{
  UnicodeProperties properties=new UnicodeProperties(true);
  Map<String,Serializable> attributes=serviceContext.getAttributes();
  List<String> params=filterParams(prefix,ListUtil.fromCollection(attributes.keySet()),null);
  for (  String param : params) {
    String value=ParamUtil.getString(serviceContext,param);
    properties.setProperty(getKey(param,prefix),value);
  }
  String checkboxNames=ParamUtil.getString(serviceContext,"checkboxNames");
  if (Validator.isNull(checkboxNames)) {
    return properties;
  }
  List<String> checkboxParams=filterParams(prefix,ListUtil.fromString(checkboxNames,StringPool.COMMA),params);
  for (  String param : checkboxParams) {
    properties.setProperty(getKey(param,prefix),Boolean.FALSE.toString());
  }
  return properties;
}
