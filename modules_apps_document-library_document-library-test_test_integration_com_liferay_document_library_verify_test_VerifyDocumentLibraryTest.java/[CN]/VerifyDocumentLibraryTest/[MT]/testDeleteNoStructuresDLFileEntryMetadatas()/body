{
  DLFileEntry dlFileEntry=addDLFileEntry();
  DLFileEntryType dlFileEntryType=dlFileEntry.getDLFileEntryType();
  List<com.liferay.portlet.dynamicdatamapping.DDMStructure> ddmStructures=dlFileEntryType.getDDMStructures();
  com.liferay.portlet.dynamicdatamapping.DDMStructure ddmStructure=ddmStructures.get(0);
  DDMStructureLocalServiceUtil.deleteDDMStructure(ddmStructure.getStructureId());
  DLFileVersion dlFileVersion=dlFileEntry.getFileVersion();
  DLFileEntryMetadata dlFileEntryMetadata=DLFileEntryMetadataLocalServiceUtil.fetchFileEntryMetadata(ddmStructure.getStructureId(),dlFileVersion.getFileVersionId());
  Assert.assertNotNull(dlFileEntryMetadata);
  doVerify();
  dlFileEntryMetadata=DLFileEntryMetadataLocalServiceUtil.fetchFileEntryMetadata(ddmStructure.getStructureId(),dlFileVersion.getFileVersionId());
  Assert.assertNull(dlFileEntryMetadata);
}
