{
  DLPortletInstanceSettings dlPortletInstanceSettings=_dlRequestHelper.getDLPortletInstanceSettings();
  String[] entryColumns=dlPortletInstanceSettings.getEntryColumns();
  String portletName=_dlRequestHelper.getPortletName();
  if (!_dlActionsDisplayContext.isShowActions()) {
    entryColumns=ArrayUtil.remove(entryColumns,"action");
  }
 else   if (!portletName.equals(PortletKeys.DOCUMENT_LIBRARY) && !portletName.equals(PortletKeys.DOCUMENT_LIBRARY_ADMIN) && !ArrayUtil.contains(entryColumns,"action")) {
    entryColumns=ArrayUtil.append(entryColumns,"action");
  }
  return entryColumns;
}
