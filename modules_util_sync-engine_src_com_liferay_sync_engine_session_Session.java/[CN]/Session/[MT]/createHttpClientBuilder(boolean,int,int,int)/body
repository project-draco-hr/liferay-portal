{
  HttpClientBuilder httpClientBuilder=HttpClientBuilder.create();
  httpClientBuilder.disableAutomaticRetries();
  RequestConfig.Builder builder=RequestConfig.custom();
  builder.setConnectTimeout(connectionTimeout);
  builder.setSocketTimeout(socketTimeout);
  List<Header> headers=new ArrayList<>(1);
  Header header=new BasicHeader("Sync-Build",String.valueOf(ReleaseInfo.getBuildNumber()));
  headers.add(header);
  httpClientBuilder.setDefaultHeaders(headers);
  httpClientBuilder.setDefaultRequestConfig(builder.build());
  httpClientBuilder.setMaxConnPerRoute(maxConnections);
  httpClientBuilder.setMaxConnTotal(maxConnections);
  httpClientBuilder.setRedirectStrategy(new LaxRedirectStrategy());
  httpClientBuilder.setRoutePlanner(getHttpRoutePlanner());
  if (trustSelfSigned) {
    try {
      httpClientBuilder.setSSLSocketFactory(_getTrustingSSLSocketFactory());
    }
 catch (    Exception e) {
      _logger.error(e.getMessage(),e);
    }
  }
  return httpClientBuilder;
}
