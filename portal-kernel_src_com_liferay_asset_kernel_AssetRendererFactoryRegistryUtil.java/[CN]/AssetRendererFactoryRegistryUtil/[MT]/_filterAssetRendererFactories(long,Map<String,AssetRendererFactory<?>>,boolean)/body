{
  Map<String,AssetRendererFactory<?>> filteredAssetRendererFactories=new ConcurrentHashMap<>();
  for (  String className : assetRendererFactories.keySet()) {
    AssetRendererFactory<?> assetRendererFactory=assetRendererFactories.get(className);
    if (assetRendererFactory.isActive(companyId) && (!filterSelectable || assetRendererFactory.isSelectable())) {
      filteredAssetRendererFactories.put(className,assetRendererFactory);
    }
  }
  return filteredAssetRendererFactories;
}
