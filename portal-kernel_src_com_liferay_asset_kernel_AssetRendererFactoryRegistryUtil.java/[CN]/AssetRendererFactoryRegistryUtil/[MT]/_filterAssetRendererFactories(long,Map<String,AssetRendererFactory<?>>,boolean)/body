{
  Map<String,AssetRendererFactory<?>> filteredAssetRendererFactories=new ConcurrentHashMap<>();
  for (  Map.Entry<String,AssetRendererFactory<?>> entry : assetRendererFactories.entrySet()) {
    String className=entry.getKey();
    AssetRendererFactory<?> assetRendererFactory=entry.getValue();
    if (assetRendererFactory.isActive(companyId) && (!filterSelectable || assetRendererFactory.isSelectable())) {
      filteredAssetRendererFactories.put(className,assetRendererFactory);
    }
  }
  return filteredAssetRendererFactories;
}
