{
  WSRPConsumer newWSRPConsumer=addWSRPConsumer();
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(WSRPConsumer.class,_dynamicQueryClassLoader);
  dynamicQuery.add(RestrictionsFactoryUtil.eq("wsrpConsumerId",newWSRPConsumer.getWsrpConsumerId()));
  List<WSRPConsumer> result=_persistence.findWithDynamicQuery(dynamicQuery);
  Assert.assertEquals(1,result.size());
  WSRPConsumer existingWSRPConsumer=result.get(0);
  Assert.assertEquals(existingWSRPConsumer,newWSRPConsumer);
}
