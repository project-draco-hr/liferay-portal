{
  Map<String,Object> data=null;
  if (_data != null) {
    data=new HashMap<>(_data);
  }
 else {
    data=new HashMap<>(1);
  }
  if (_useDialog && Validator.isNull(data.get("title"))) {
    String message=getProcessedMessage();
    if (_localizeMessage) {
      message=LanguageUtil.get(request,message);
    }
    data.put("title",HtmlUtil.stripHtml(message));
  }
  return data;
}
