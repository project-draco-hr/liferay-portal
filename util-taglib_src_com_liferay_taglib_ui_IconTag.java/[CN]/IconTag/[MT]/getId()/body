{
  if (Validator.isNotNull(_id)) {
    return _id;
  }
  String id=(String)request.getAttribute("liferay-ui:icon-menu:id");
  String message=_message;
  if (Validator.isNull(message)) {
    message=_image;
  }
  if (Validator.isNotNull(id) && Validator.isNotNull(message)) {
    id=id.concat(StringPool.UNDERLINE).concat(FriendlyURLNormalizerUtil.normalize(message));
    PortletResponse portletResponse=(PortletResponse)request.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
    String namespace=StringPool.BLANK;
    if (portletResponse != null) {
      namespace=portletResponse.getNamespace();
    }
    id=PortalUtil.getUniqueElementId(getOriginalServletRequest(),namespace,id);
  }
 else {
    id=PortalUtil.generateRandomKey(request,IconTag.class.getName());
  }
  id=HtmlUtil.getAUICompatibleId(id);
  return id;
}
