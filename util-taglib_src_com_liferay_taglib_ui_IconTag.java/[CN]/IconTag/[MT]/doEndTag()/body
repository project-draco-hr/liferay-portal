{
  int value=super.doEndTag();
  try {
    HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
    request.removeAttribute("liferay-ui:icon:image");
    request.removeAttribute("liferay-ui:icon:imageHover");
    request.removeAttribute("liferay-ui:icon:message");
    request.removeAttribute("liferay-ui:icon:src");
    request.removeAttribute("liferay-ui:icon:srcHover");
    request.removeAttribute("liferay-ui:icon:url");
    request.removeAttribute("liferay-ui:icon:method");
    request.removeAttribute("liferay-ui:icon:target");
    request.removeAttribute("liferay-ui:icon:label");
    request.removeAttribute("liferay-ui:icon:toolTip");
    request.removeAttribute("liferay-ui:icon:cssClass");
    return value;
  }
 catch (  Exception e) {
    throw new JspException(e);
  }
 finally {
    if (!ServerDetector.isResin()) {
      _image=null;
      _imageHover=null;
      _message=null;
      _src=null;
      _srcHover=null;
      _url=null;
      _method=null;
      _target=null;
      _label=false;
      _toolTip=false;
    }
  }
}
