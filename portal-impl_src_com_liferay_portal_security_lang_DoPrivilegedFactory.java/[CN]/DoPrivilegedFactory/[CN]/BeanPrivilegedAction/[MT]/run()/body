{
  Class<?> clazz=_bean.getClass();
  if (clazz.isPrimitive()) {
    rerturn _bean;
  }
  Package pkg=clazz.getPackage();
  if (pkg != null) {
    String packageName=pkg.getName();
    if (packageName.startsWith("java.")) {
      return _bean;
    }
  }
  Class<?>[] interfaces=_getInterfaces(_bean);
  if (interfaces.length <= 0) {
    return _bean;
  }
  interfaces=ArrayUtil.append(interfaces,DoPrivilegedBean.class);
  try {
    return (T)ProxyUtil.newProxyInstance(ClassLoaderUtil.getPortalClassLoader(),interfaces,new DoPrivilegedHandler(_bean));
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
  }
  return _bean;
}
