{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(KaleoInstance.class,getClassLoader());
  Property companyIdProperty=PropertyFactoryUtil.forName("companyId");
  dynamicQuery.add(companyIdProperty.eq(serviceContext.getCompanyId()));
  Property kaleoDefinitionNameProperty=PropertyFactoryUtil.forName("kaleoDefinitionName");
  dynamicQuery.add(kaleoDefinitionNameProperty.eq(kaleoDefinitionName));
  Property kaleoDefinitionVersionProperty=PropertyFactoryUtil.forName("kaleoDefinitionVersion");
  dynamicQuery.add(kaleoDefinitionVersionProperty.eq(kaleoDefinitionVersion));
  if (completed) {
    Property completionDateProperty=PropertyFactoryUtil.forName("completionDate");
    dynamicQuery.add(completionDateProperty.isNotNull());
  }
 else {
    Property completionDateProperty=PropertyFactoryUtil.forName("completionDate");
    dynamicQuery.add(completionDateProperty.isNull());
  }
  return dynamicQuery;
}
