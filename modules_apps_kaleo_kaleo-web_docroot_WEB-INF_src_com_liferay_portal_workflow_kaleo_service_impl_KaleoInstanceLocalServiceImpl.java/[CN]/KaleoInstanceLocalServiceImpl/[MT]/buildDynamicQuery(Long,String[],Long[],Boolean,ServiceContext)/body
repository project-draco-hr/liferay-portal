{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(KaleoInstance.class,getClassLoader());
  Property companyIdProperty=PropertyFactoryUtil.forName("companyId");
  dynamicQuery.add(companyIdProperty.eq(serviceContext.getCompanyId()));
  if (userId != null) {
    Property userIdProperty=PropertyFactoryUtil.forName("userId");
    dynamicQuery.add(userIdProperty.eq(userId));
  }
  if (ArrayUtil.isNotEmpty(assetClassNames)) {
    dynamicQuery.add(getAssetClassNames(assetClassNames));
  }
  if (ArrayUtil.isNotEmpty(assetClassPKs)) {
    dynamicQuery.add(getAssetClassPKs(assetClassPKs));
  }
  if (completed != null) {
    if (completed) {
      Property completionDateProperty=PropertyFactoryUtil.forName("completionDate");
      dynamicQuery.add(completionDateProperty.isNotNull());
    }
 else {
      Property completionDateProperty=PropertyFactoryUtil.forName("completionDate");
      dynamicQuery.add(completionDateProperty.isNull());
    }
  }
  return dynamicQuery;
}
