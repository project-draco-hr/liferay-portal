{
  StringBundler sb=new StringBundler(45);
  sb.append("create or replace rule delete_");
  sb.append(tableName);
  sb.append(StringPool.UNDERLINE);
  sb.append(columnName);
  sb.append(" as on delete to ");
  sb.append(tableName);
  sb.append(" do also select case when exists(select 1 from ");
  sb.append("pg_catalog.pg_largeobject where (loid = old.");
  sb.append(columnName);
  sb.append(")) then lo_unlink(old.");
  sb.append(columnName);
  sb.append(") end from ");
  sb.append(tableName);
  sb.append(" where ");
  sb.append(tableName);
  sb.append(StringPool.PERIOD);
  sb.append(columnName);
  sb.append(" = old.");
  sb.append(columnName);
  sb.append(";\ncreate or replace rule update_");
  sb.append(tableName);
  sb.append(StringPool.UNDERLINE);
  sb.append(columnName);
  sb.append(" as on update to ");
  sb.append(tableName);
  sb.append(" where old.");
  sb.append(columnName);
  sb.append(" is distinct from new.");
  sb.append(columnName);
  sb.append(" and old.");
  sb.append(columnName);
  sb.append(" is not null do also select case when exists(select 1 ");
  sb.append("from pg_catalog.pg_largeobject where (loid = old.");
  sb.append(columnName);
  sb.append(")) then lo_unlink(old.");
  sb.append(columnName);
  sb.append(") end from ");
  sb.append(tableName);
  sb.append(" where ");
  sb.append(tableName);
  sb.append(StringPool.PERIOD);
  sb.append(columnName);
  sb.append(" = old.");
  sb.append(columnName);
  sb.append(StringPool.SEMICOLON);
  return sb.toString();
}
