{
  if (_ddmTemplate != null) {
    return _ddmTemplate;
  }
  if (_displayStyle == null) {
    _displayStyle=PrefsParamUtil.getString(_portletPreferences,_request,"displayStyle");
    if (Validator.isNull(_displayStyle) && Validator.isNotNull(PropsValues.BREADCRUMB_DDM_TEMPLATE_KEY_DEFAULT)) {
      try {
        _ddmTemplate=DDMTemplateLocalServiceUtil.fetchTemplate(getDisplayStyleGroupId(),PortalUtil.getClassNameId(BreadcrumbEntry.class.getName()),PropsValues.BREADCRUMB_DDM_TEMPLATE_KEY_DEFAULT,true);
      }
 catch (      PortalException e) {
        _log.error("Unable to get dynamic data mapping template with key" + PropsValues.BREADCRUMB_DDM_TEMPLATE_KEY_DEFAULT);
      }
    }
  }
  if ((_ddmTemplate == null) && Validator.isNotNull(_displayStyle)) {
    ThemeDisplay themeDisplay=(ThemeDisplay)_request.getAttribute(WebKeys.THEME_DISPLAY);
    _displayStyleGroupId=PrefsParamUtil.getLong(_portletPreferences,_request,"displayStyleGroupId",themeDisplay.getSiteGroupId());
    _ddmTemplate=PortletDisplayTemplateUtil.fetchDDMTemplate(_displayStyleGroupId,_displayStyle);
  }
  return _ddmTemplate;
}
