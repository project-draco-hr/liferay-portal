{
  File fileNameDir=getFileNameDir(companyId,repositoryId,fileName);
  if (!fileNameDir.exists()) {
    return DEFAULT_VERSION;
  }
  String[] versionNumbers=FileUtil.listFiles(fileNameDir);
  double headVersionNumber=DEFAULT_VERSION;
  for (int i=0; i < versionNumbers.length; i++) {
    String versionNumberFragment=versionNumbers[i];
    int pos=versionNumberFragment.lastIndexOf(StringPool.UNDERLINE);
    if (pos > -1) {
      versionNumberFragment=versionNumberFragment.substring(pos + 1);
    }
    double versionNumber=GetterUtil.getDouble(versionNumberFragment);
    if (versionNumber > headVersionNumber) {
      headVersionNumber=versionNumber;
    }
  }
  return headVersionNumber;
}
