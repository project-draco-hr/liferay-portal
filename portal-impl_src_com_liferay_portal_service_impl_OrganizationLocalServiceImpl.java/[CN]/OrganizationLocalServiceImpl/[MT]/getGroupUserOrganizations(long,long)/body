{
  long[] groupOrganizationIds=groupPersistence.getOrganizationPrimaryKeys(groupId);
  if (groupOrganizationIds.length == 0) {
    return Collections.emptyList();
  }
  long[] userOrganizationIds=userPersistence.getOrganizationPrimaryKeys(userId);
  if (userOrganizationIds.length == 0) {
    return Collections.emptyList();
  }
  Set<Long> organizationIds=SetUtil.intersect(groupOrganizationIds,userOrganizationIds);
  if (organizationIds.isEmpty()) {
    return Collections.emptyList();
  }
  List<Organization> organizations=new ArrayList<Organization>(organizationIds.size());
  for (  Long organizationId : organizationIds) {
    organizations.add(organizationPersistence.findByPrimaryKey(organizationId));
  }
  return organizations;
}
