{
  if (!includeAdministrative) {
    return getUserOrganizations(userId);
  }
  Set<Organization> organizations=new HashSet<>(getUserOrganizations(userId));
  List<UserGroupRole> userGroupRoles=userGroupRoleLocalService.getUserGroupRoles(userId);
  for (  UserGroupRole userGroupRole : userGroupRoles) {
    Role role=userGroupRole.getRole();
    String roleName=role.getName();
    if (roleName.equals(RoleConstants.ORGANIZATION_ADMINISTRATOR) || roleName.equals(RoleConstants.ORGANIZATION_OWNER)) {
      Group group=userGroupRole.getGroup();
      Organization organization=organizationPersistence.findByPrimaryKey(group.getOrganizationId());
      organizations.add(organization);
    }
  }
  return new ArrayList<>(organizations);
}
