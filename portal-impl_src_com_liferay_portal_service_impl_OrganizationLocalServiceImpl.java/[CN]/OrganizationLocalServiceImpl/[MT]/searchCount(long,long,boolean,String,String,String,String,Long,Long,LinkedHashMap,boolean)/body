{
  String parentOrganizationComparator=StringPool.EQUAL;
  if (parentOrganizationId == OrganizationImpl.ANY_PARENT_ORGANIZATION_ID) {
    parentOrganizationComparator=StringPool.NOT_EQUAL;
  }
  if (location) {
    if (parentOrganizationId == -1) {
      parentOrganizationId=OrganizationImpl.DEFAULT_PARENT_ORGANIZATION_ID;
    }
    int i=0;
    if (parentOrganizationId == OrganizationImpl.DEFAULT_PARENT_ORGANIZATION_ID) {
      i=OrganizationFinder.countByC_PO_L_N_S_C_Z_R_C(companyId,parentOrganizationId,location,parentOrganizationComparator,name,street,city,zip,regionId,countryId,params,andOperator);
    }
 else {
      long parentOrgId=getOrganization(parentOrganizationId).getParentOrganizationId();
      i=searchCount(companyId,parentOrgId,location,name,street,city,zip,regionId,countryId,params,andOperator);
      i=i + OrganizationFinder.countByC_PO_L_N_S_C_Z_R_C(companyId,parentOrganizationId,location,parentOrganizationComparator,name,street,city,zip,regionId,countryId,params,andOperator);
    }
    return i;
  }
 else {
    return OrganizationFinder.countByC_PO_L_N_S_C_Z_R_C(companyId,parentOrganizationId,location,parentOrganizationComparator,name,street,city,zip,regionId,countryId,params,andOperator);
  }
}
