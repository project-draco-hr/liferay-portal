{
  try {
    long companyId=PortalUtil.getCompanyId(request);
    TokenConfiguration tokenCompanyServiceSettings=_configurationFactory.getConfiguration(TokenConfiguration.class,new CompanyServiceSettingsLocator(companyId,TokenSettingsConstants.SERVICE_NAME));
    if (!tokenCompanyServiceSettings.enabled()) {
      return;
    }
    String[] authenticationCookies=tokenCompanyServiceSettings.authenticationCookies();
    if (ArrayUtil.isNotEmpty(authenticationCookies)) {
      LogoutProcessor cookieLogoutProcessor=_logoutProcessors.get(LogoutProcessorType.COOKIE);
      if (cookieLogoutProcessor != null) {
        cookieLogoutProcessor.logout(request,response,authenticationCookies);
      }
    }
    String logoutRedirectURL=tokenCompanyServiceSettings.logoutRedirectURL();
    if (Validator.isNotNull(logoutRedirectURL)) {
      LogoutProcessor redirectLogoutProcessor=_logoutProcessors.get(LogoutProcessorType.REDIRECT);
      if (redirectLogoutProcessor != null) {
        redirectLogoutProcessor.logout(request,response,logoutRedirectURL);
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
