{
  try {
    AuthenticationUtils.startSession(url,userId,password);
    ContentServiceSoapBindingStub contentService=WebServiceFactory.getContentService(url);
    if (Validator.isNotNull(path)) {
      uuid=null;
    }
 else     if (Validator.isNotNull(uuid)) {
      path=null;
    }
 else {
      return null;
    }
    Reference reference=new Reference(_SPACES_STORE,uuid,path);
    Predicate predicate=new Predicate(new Reference[]{reference},_SPACES_STORE,null);
    Content[] contents=contentService.read(predicate,Constants.PROP_CONTENT);
    String ticket=AuthenticationUtils.getCurrentTicket();
    return Http.URLtoString(contents[0].getUrl() + "?ticket=" + ticket);
  }
  finally {
    AuthenticationUtils.endSession(url);
  }
}
