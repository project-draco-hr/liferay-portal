{
  try {
    AuthenticationUtils.startSession(userId,password);
    RepositoryServiceSoapBindingStub repositoryService=WebServiceFactory.getRepositoryService();
    Reference reference=null;
    if (Validator.isNull(uuid)) {
      Predicate predicate=new Predicate(null,_SPACES_STORE,null);
      Node[] nodes=repositoryService.get(predicate);
      reference=nodes[0].getReference();
    }
 else {
      reference=new Reference(_SPACES_STORE,uuid,null);
    }
    QueryResult result=repositoryService.queryChildren(reference);
    ResultSetRow[] rows=result.getResultSet().getRows();
    return rows;
  }
  finally {
    AuthenticationUtils.endSession();
  }
}
