{
  if (out == null) {
    return;
  }
  StackTraceElement stackTraceElement=Thread.currentThread().getStackTrace()[2];
  StringWriter sw1=new StringWriter();
  PrintWriter pw1=new PrintWriter(sw1);
  StringWriter sw2=new StringWriter();
  PrintWriter pw2=new PrintWriter(sw2);
  for (  Object element : input) {
    if (element instanceof Throwable) {
      pw2.println();
      ((Throwable)element).printStackTrace(pw2);
    }
 else {
      pw1.print(' ');
      pw1.print(element);
    }
  }
  out.printf(pattern,new Date(),stackTraceElement.getClassName(),stackTraceElement.getLineNumber(),sw1.toString(),sw2.toString());
}
