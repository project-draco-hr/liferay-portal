{
  PortletPreferences newPortletPreferences1=addPortletPreferences();
  PortletPreferences newPortletPreferences2=addPortletPreferences();
  Set<Serializable> primaryKeys=new HashSet<Serializable>();
  primaryKeys.add(newPortletPreferences1.getPrimaryKey());
  primaryKeys.add(newPortletPreferences2.getPrimaryKey());
  Map<Serializable,PortletPreferences> portletPreferenceses=_persistence.fetchByPrimaryKeys(primaryKeys);
  Assert.assertEquals(2,portletPreferenceses.size());
  Assert.assertEquals(newPortletPreferences1,portletPreferenceses.get(newPortletPreferences1.getPrimaryKey()));
  Assert.assertEquals(newPortletPreferences2,portletPreferenceses.get(newPortletPreferences2.getPrimaryKey()));
}
