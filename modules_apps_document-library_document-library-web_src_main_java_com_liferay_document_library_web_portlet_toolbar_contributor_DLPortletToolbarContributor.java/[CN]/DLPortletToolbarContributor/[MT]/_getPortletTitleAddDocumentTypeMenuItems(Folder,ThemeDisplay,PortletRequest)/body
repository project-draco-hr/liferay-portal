{
  List<MenuItem> menuItems=new ArrayList<>();
  List<DLFileEntryType> fileEntryTypes=getFileEntryTypes(themeDisplay.getScopeGroupId(),folder);
  for (  DLFileEntryType fileEntryType : fileEntryTypes) {
    try {
      MenuItem urlMenuItem=getFileEntryTypeMenuItem(portletRequest,folder,fileEntryTypes,fileEntryType,themeDisplay);
      menuItems.add(urlMenuItem);
    }
 catch (    PortalException pe) {
      _log.error("Unable to add menu item for file entry type " + fileEntryType.getName(),pe);
    }
  }
  return menuItems;
}
