{
  if ((folder != null) && !folder.isSupportsMultipleUpload()) {
    return null;
  }
  List<DLFileEntryType> fileEntryTypes=getFileEntryTypes(themeDisplay.getScopeGroupId(),folder);
  if (fileEntryTypes.isEmpty()) {
    return null;
  }
  long folderId=_getFolderId(folder);
  if (!containsPermission(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),folderId,ActionKeys.ADD_DOCUMENT)) {
    return null;
  }
  URLMenuItem urlMenuItem=new URLMenuItem();
  urlMenuItem.setLabel(LanguageUtil.get(PortalUtil.getHttpServletRequest(portletRequest),"multiple-documents"));
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  PortletURL portletURL=PortletURLFactoryUtil.create(portletRequest,portletDisplay.getId(),themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  portletURL.setParameter("mvcRenderCommandName","/document_library/upload_multiple_file_entries");
  portletURL.setParameter("redirect",PortalUtil.getCurrentURL(portletRequest));
  portletURL.setParameter("repositoryId",String.valueOf(_getRepositoryId(themeDisplay,folder)));
  portletURL.setParameter("folderId",String.valueOf(folderId));
  urlMenuItem.setURL(portletURL.toString());
  return urlMenuItem;
}
