{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Folder folder=_dlPortletToolbarContributorHelper.getFolder(themeDisplay,portletRequest);
  List<MenuItem> menuItems=new ArrayList<>();
  try {
    addPortletTitleAddFolderMenuItem(menuItems,folder,themeDisplay,portletRequest);
  }
 catch (  PortalException pe) {
    _log.error("Unable to add folder menu item",pe);
  }
  try {
    addPortletTitleAddShortcutMenuItem(menuItems,folder,themeDisplay,portletRequest);
  }
 catch (  PortalException pe) {
    _log.error("Unable to add shortcut menu item",pe);
  }
  try {
    addPortletTitleAddRepositoryMenuItem(menuItems,folder,themeDisplay,portletRequest);
  }
 catch (  PortalException pe) {
    _log.error("Unable to add repository menu item",pe);
  }
  try {
    addPortletTitleAddMultipleDocumentsMenuItem(menuItems,folder,themeDisplay,portletRequest);
  }
 catch (  PortalException pe) {
    _log.error("Unable to add multiple documents menu item",pe);
  }
  try {
    addPortletTitleAddDocumentMenuItems(menuItems,folder,themeDisplay,portletRequest);
  }
 catch (  PortalException pe) {
    _log.error("Unable to add add document menu item",pe);
  }
  return menuItems;
}
