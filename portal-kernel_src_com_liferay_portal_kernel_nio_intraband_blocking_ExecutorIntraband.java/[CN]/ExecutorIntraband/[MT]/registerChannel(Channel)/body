{
  if (channel == null) {
    throw new NullPointerException("Channel is null");
  }
  if (!(channel instanceof GatheringByteChannel)) {
    throw new IllegalArgumentException("Channel is not of type GatheringByteChannel");
  }
  if (!(channel instanceof ScatteringByteChannel)) {
    throw new IllegalArgumentException("Channel is not of type ScatteringByteChannel");
  }
  if (channel instanceof SelectableChannel) {
    SelectableChannel selectableChannel=(SelectableChannel)channel;
    if (!selectableChannel.isBlocking()) {
      throw new IllegalArgumentException("Channel is of type SelectableChannel and " + "configured in nonblocking mode");
    }
  }
  ensureOpen();
  return doRegisterChannel((ScatteringByteChannel)channel,(GatheringByteChannel)channel);
}
