{
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(content));
  String line=null;
  String annotation=StringPool.BLANK;
  String previousAnnotation=StringPool.BLANK;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    if (line.equals(indent + StringPool.CLOSE_CURLY_BRACE)) {
      return content;
    }
    if (StringUtil.count(line,StringPool.TAB) == indent.length()) {
      if (Validator.isNotNull(previousAnnotation) && (previousAnnotation.compareTo(annotation) > 0)) {
        content=StringUtil.replaceFirst(content,previousAnnotation,annotation);
        content=StringUtil.replaceLast(content,annotation,previousAnnotation);
        return sortAnnotations(content,indent);
      }
      if (line.startsWith(indent + StringPool.AT)) {
        if (Validator.isNotNull(annotation)) {
          previousAnnotation=annotation;
        }
        annotation=line + "\n";
      }
 else {
        annotation=StringPool.BLANK;
        previousAnnotation=StringPool.BLANK;
      }
    }
 else {
      if (Validator.isNull(annotation)) {
        return content;
      }
      annotation+=line + "\n";
    }
  }
  return content;
}
