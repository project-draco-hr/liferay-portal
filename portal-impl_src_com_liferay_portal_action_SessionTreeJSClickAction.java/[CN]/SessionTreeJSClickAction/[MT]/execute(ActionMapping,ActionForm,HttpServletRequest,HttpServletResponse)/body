{
  try {
    String cmd=ParamUtil.getString(request,Constants.CMD);
    String treeId=ParamUtil.getString(request,"treeId");
    if (cmd.equals("collapse")) {
      SessionTreeJSClicks.closeNodes(request,treeId);
    }
 else     if (cmd.equals("expand")) {
      String[] nodeIds=StringUtil.split(ParamUtil.getString(request,"nodeIds"));
      SessionTreeJSClicks.openNodes(request,treeId,nodeIds);
    }
 else {
      String nodeId=ParamUtil.getString(request,"nodeId");
      boolean openNode=ParamUtil.getBoolean(request,"openNode");
      if (openNode) {
        SessionTreeJSClicks.openNode(request,treeId,nodeId);
      }
 else {
        SessionTreeJSClicks.closeNode(request,treeId,nodeId);
      }
    }
    return null;
  }
 catch (  Exception e) {
    PortalUtil.sendError(e,request,response);
    return null;
  }
}
