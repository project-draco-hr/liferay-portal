{
  mockStatic(PortalUtil.class);
  OngoingStubbing<String[]> ongoingStubbing=when(PortalUtil.stripURLAnchor(url,StringPool.POUND));
  ongoingStubbing.thenReturn(new String[]{url,StringPool.BLANK});
  String newURL=_httpImpl.addParameter(url,parameterName,parameterValue);
  verifyStatic();
  StringBundler sb=new StringBundler(5);
  sb.append(url);
  sb.append(StringPool.QUESTION);
  sb.append(parameterName);
  sb.append(StringPool.EQUAL);
  sb.append(parameterValue);
  Assert.assertEquals(sb.toString(),newURL);
}
