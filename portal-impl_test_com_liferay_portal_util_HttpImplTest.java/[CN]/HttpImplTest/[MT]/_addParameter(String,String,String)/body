{
  mockStatic(PortalUtil.class);
  when(PortalUtil.stripURLAnchor(url,StringPool.POUND)).thenReturn(new String[]{url,StringPool.BLANK});
  String composedUrl=_httpImpl.addParameter(url,parameterName,parameterValue);
  verifyStatic();
  StringBundler stringBundler=new StringBundler(5);
  stringBundler.append(url);
  stringBundler.append(StringPool.QUESTION);
  stringBundler.append(parameterName);
  stringBundler.append(StringPool.EQUAL);
  stringBundler.append(parameterValue);
  Assert.assertEquals(stringBundler.toString(),composedUrl);
}
