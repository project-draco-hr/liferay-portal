{
  JournalArticleResource existingArticleResource=null;
  if (!preloaded) {
    existingArticleResource=JournalArticleResourceLocalServiceUtil.fetchJournalArticleResourceByUuidAndGroupId(articleResourceUuid,groupId);
  }
 else {
    existingArticleResource=JournalArticleResourceLocalServiceUtil.fetchArticleResource(groupId,articleId);
  }
  JournalArticle existingArticle=null;
  if (existingArticleResource != null) {
    existingArticle=JournalArticleLocalServiceUtil.fetchLatestArticle(existingArticleResource.getResourcePrimKey(),WorkflowConstants.STATUS_ANY,false);
  }
  if ((existingArticle == null) && Validator.isNotNull(newArticleId) && (version > 0.0)) {
    existingArticle=JournalArticleLocalServiceUtil.fetchArticle(groupId,newArticleId,version);
  }
  if ((existingArticle == null) && Validator.isNull(newArticleId)) {
    existingArticle=JournalArticleLocalServiceUtil.fetchArticle(groupId,articleId,version);
    if (existingArticle != null) {
      throw new PortletDataException("Article " + articleId + " with version "+ version+ " already exists with different resource. "+ "Resource uuid in LAR: "+ articleResourceUuid+ " resource uuid in database: "+ existingArticle.getArticleResourceUuid());
    }
  }
  return existingArticle;
}
