{
  Image image=null;
  try {
    image=ImageUtil.findByPrimaryKey(articleImage.getArticleImageId());
    if (image.getTextObj() == null) {
      return;
    }
  }
 catch (  NoSuchImageException nsie) {
    return;
  }
  String fileName=image.getImageId() + StringPool.PERIOD + image.getType();
  String articleImagePath=ExportImportPathUtil.getModelPath(article,fileName);
  if (!portletDataContext.isPathNotProcessed(articleImagePath)) {
    return;
  }
  Element imageElement=portletDataContext.getExportDataElement(image);
  imageElement.addAttribute("path",articleImagePath);
  if (Validator.isNotNull(fileName)) {
    imageElement.addAttribute("file-name",fileName);
  }
  portletDataContext.addZipEntry(articleImagePath,image.getTextObj());
  portletDataContext.addReferenceElement(article,articleElement,image,articleImagePath,false);
}
