{
  Image image=ImageLocalServiceUtil.fetchImage(articleImage.getArticleImageId());
  if ((image == null) || (image.getTextObj() == null)) {
    return;
  }
  StringBundler sb=new StringBundler(4);
  sb.append(articleImage.getElInstanceId());
  sb.append(StringPool.UNDERLINE);
  sb.append(articleImage.getElName());
  if (Validator.isNotNull(articleImage.getLanguageId())) {
    sb.append(articleImage.getLanguageId());
  }
  String fileName=sb.toString();
  String articleImagePath=ExportImportPathUtil.getModelPath(article,fileName);
  Element imageElement=portletDataContext.getExportDataElement(image);
  imageElement.addAttribute("file-name",fileName);
  imageElement.addAttribute("path",articleImagePath);
  portletDataContext.addZipEntry(articleImagePath,image.getTextObj());
  portletDataContext.addReferenceElement(article,articleElement,image,articleImagePath,PortletDataContext.REFERENCE_TYPE_DEPENDENCY,false);
}
