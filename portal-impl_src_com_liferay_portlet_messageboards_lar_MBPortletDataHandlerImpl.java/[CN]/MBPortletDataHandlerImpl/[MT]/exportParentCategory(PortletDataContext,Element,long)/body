{
  if ((!context.hasDateRange()) || (categoryId == MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID)) {
    return;
  }
  MBCategory category=MBCategoryUtil.findByPrimaryKey(categoryId);
  exportParentCategory(context,categoriesEl,category.getParentCategoryId());
  String path=getCategoryPath(context,category);
  if (context.isPathNotProcessed(path)) {
    Element categoryEl=categoriesEl.addElement("category");
    categoryEl.addAttribute("path",path);
    category.setUserUuid(category.getUserUuid());
    context.addPermissions(MBCategory.class,category.getCategoryId());
    context.addZipEntry(path,category);
  }
}
