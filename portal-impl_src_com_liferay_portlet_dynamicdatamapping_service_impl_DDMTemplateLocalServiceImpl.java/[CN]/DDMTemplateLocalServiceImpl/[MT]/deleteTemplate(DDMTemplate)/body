{
  if (template.getClassNameId() == PortalUtil.getClassNameId(DDMStructure.class.getName())) {
    DDMStructure structure=ddmStructureLocalService.fetchDDMStructure(template.getClassPK());
    if ((structure != null) && (structure.getClassNameId() == PortalUtil.getClassNameId(JournalArticle.class.getName())) && (JournalArticleUtil.countByTemplateId(template.getTemplateKey()) > 0)) {
      throw new RequiredTemplateException();
    }
  }
  ddmTemplatePersistence.remove(template);
  resourceLocalService.deleteResource(template.getCompanyId(),DDMTemplate.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,template.getTemplateId());
}
