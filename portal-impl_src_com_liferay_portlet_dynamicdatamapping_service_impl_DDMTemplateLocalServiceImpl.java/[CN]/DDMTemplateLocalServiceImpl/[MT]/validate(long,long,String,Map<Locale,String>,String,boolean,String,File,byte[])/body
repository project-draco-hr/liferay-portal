{
  templateKey=StringUtil.toUpperCase(templateKey.trim());
  DDMTemplate template=ddmTemplatePersistence.fetchByG_C_T(groupId,classNameId,templateKey);
  if (template != null) {
    throw new TemplateDuplicateTemplateKeyException();
  }
  validate(nameMap,script,smallImage,smallImageURL,smallImageFile,smallImageBytes);
}
