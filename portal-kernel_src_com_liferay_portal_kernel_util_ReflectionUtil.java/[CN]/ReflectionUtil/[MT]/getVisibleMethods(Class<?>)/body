{
  Set<Method> visibleMethods=new HashSet<>(Arrays.asList(clazz.getMethods()));
  visibleMethods.addAll(Arrays.asList(clazz.getDeclaredMethods()));
  while ((clazz=clazz.getSuperclass()) != null) {
    for (    Method method : clazz.getDeclaredMethods()) {
      int modifiers=method.getModifiers();
      if (!Modifier.isPrivate(modifiers) & !Modifier.isPublic(modifiers)) {
        visibleMethods.add(method);
      }
    }
  }
  return visibleMethods;
}
