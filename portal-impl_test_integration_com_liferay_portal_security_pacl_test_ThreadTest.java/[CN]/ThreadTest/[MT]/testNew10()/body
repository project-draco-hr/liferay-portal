{
  Class<?> clazz=getClass();
  final ClassLoader classLoader=clazz.getClassLoader();
  FutureTask<Exception> futureTask=new FutureTask<Exception>(new Callable<Exception>(){
    @Override public Exception call() throws Exception {
      try {
        Thread.currentThread().setContextClassLoader(classLoader);
      }
 catch (      SecurityException se) {
        return se;
      }
      return null;
    }
  }
);
  Thread thread=new Thread(futureTask);
  thread.start();
  Exception exception=futureTask.get();
  Assert.assertNotNull(exception);
  Assert.assertTrue(exception instanceof SecurityException);
}
