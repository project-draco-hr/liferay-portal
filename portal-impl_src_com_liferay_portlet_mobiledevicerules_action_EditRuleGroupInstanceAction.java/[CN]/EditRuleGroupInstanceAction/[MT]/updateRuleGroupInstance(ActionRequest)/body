{
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  String className=ParamUtil.getString(actionRequest,"className");
  long classPK=ParamUtil.getLong(actionRequest,"classPK");
  long ruleGroupId=ParamUtil.getLong(actionRequest,"ruleGroupId");
  int priority=ParamUtil.getInteger(actionRequest,"priority");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(actionRequest);
  MDRRuleGroupInstance ruleGroupInstance=MDRRuleGroupInstanceLocalServiceUtil.fetchRuleGroupInstance(className,classPK,ruleGroupId);
  if (ruleGroupInstance == null) {
    return MDRRuleGroupInstanceServiceUtil.addRuleGroupInstance(groupId,className,classPK,ruleGroupId,priority,serviceContext);
  }
 else {
    return MDRRuleGroupInstanceServiceUtil.updateRuleGroupInstance(ruleGroupInstance.getRuleGroupInstanceId(),priority);
  }
}
