{
  int priority=ParamUtil.getInteger(actionRequest,MDRPortletConstants.PRIORITY);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(actionRequest);
  if (ruleGroupInstance == null) {
    long groupId=ParamUtil.getLong(actionRequest,MDRPortletConstants.GROUP_ID);
    return MDRRuleGroupInstanceServiceUtil.addRuleGroupInstance(groupId,className,classPK,ruleGroupId,priority,serviceContext);
  }
 else {
    return MDRRuleGroupInstanceServiceUtil.updateRuleGroupInstance(ruleGroupInstance.getRuleGroupInstanceId(),priority);
  }
}
