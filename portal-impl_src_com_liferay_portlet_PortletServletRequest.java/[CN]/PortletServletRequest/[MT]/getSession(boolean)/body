{
  HttpSession session=_request.getSession(create);
  if (session == null) {
    return null;
  }
  session=new PortletServletSession(session,_portletRequestImpl);
  if (ServerDetector.isJetty()) {
    try {
      session=wrapJettySession(session);
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  return session;
}
