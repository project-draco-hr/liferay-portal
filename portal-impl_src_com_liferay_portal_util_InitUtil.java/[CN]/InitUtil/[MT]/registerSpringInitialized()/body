{
  Registry registry=RegistryUtil.getRegistry();
  Map<String,Object> properties=new HashMap<>();
  properties.put("module.service.lifecycle","spring.initialized");
  properties.put("service.vendor",ReleaseInfo.getVendor());
  properties.put("service.version",ReleaseInfo.getVersion());
  final ServiceRegistration<ModuleServiceLifecycle> moduleServiceLifecycleServiceRegistration=registry.registerService(ModuleServiceLifecycle.class,new ModuleServiceLifecycle(){
  }
,properties);
  PortalLifecycleUtil.register(new BasePortalLifecycle(){
    @Override protected void doPortalDestroy(){
      moduleServiceLifecycleServiceRegistration.unregister();
    }
    @Override protected void doPortalInit(){
    }
  }
,PortalLifecycle.METHOD_DESTROY);
}
