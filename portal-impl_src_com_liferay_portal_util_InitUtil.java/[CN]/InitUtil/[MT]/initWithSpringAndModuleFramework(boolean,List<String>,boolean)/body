{
  if (force) {
    _initialized=false;
  }
  if (_initialized) {
    return;
  }
  if (!_neverInitialized) {
    PropsUtil.reload();
  }
 else {
    _neverInitialized=false;
  }
  try {
    PropsValues.LIFERAY_WEB_PORTAL_CONTEXT_TEMPDIR=System.getProperty(SystemProperties.TMP_DIR);
    init();
    ModuleFrameworkUtilAdapter.startFramework();
    if (loadFromProperties) {
      SpringUtil.loadContext(extraConfigLocations);
    }
 else {
      SpringUtil.loadContext(extraConfigLocations.toArray(new String[extraConfigLocations.size()]));
    }
    BeanLocatorImpl beanLocatorImpl=(BeanLocatorImpl)PortalBeanLocatorUtil.getBeanLocator();
    ModuleFrameworkUtilAdapter.registerContext(beanLocatorImpl.getApplicationContext());
    ModuleFrameworkUtilAdapter.startRuntime();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  _initialized=true;
}
