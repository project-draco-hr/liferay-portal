{
  PortalMessageBusPermission portalMessageBusPermission=(PortalMessageBusPermission)permission;
  String name=portalMessageBusPermission.getName();
  String destinationName=portalMessageBusPermission.getDestinationName();
  if (name.equals(PORTAL_MESSAGE_BUS_PERMISSION_LISTEN)) {
    if (!_listenDestinationNames.contains(destinationName)) {
      throw new SecurityException("Attempted to listen on destination " + destinationName);
    }
  }
 else   if (name.equals(PORTAL_MESSAGE_BUS_PERMISSION_SEND)) {
    if (!_sendDestinationNames.contains(destinationName)) {
      throw new SecurityException("Attempted to send to " + destinationName);
    }
  }
}
