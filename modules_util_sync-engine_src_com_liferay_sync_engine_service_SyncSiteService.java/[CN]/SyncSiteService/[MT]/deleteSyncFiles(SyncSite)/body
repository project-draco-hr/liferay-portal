{
  List<SyncFile> syncFiles=SyncFileService.findSyncFilesByRepositoryId(syncSite.getGroupId(),syncSite.getSyncAccountId());
  for (  SyncFile syncFile : syncFiles) {
    SyncFileService.deleteSyncFile(syncFile,false);
  }
  Path filePath=Paths.get(syncSite.getFilePathName());
  if (!Files.exists(filePath)) {
    return;
  }
  Files.walkFileTree(filePath,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult postVisitDirectory(    Path filePath,    IOException ioe) throws IOException {
      Files.deleteIfExists(filePath);
      return FileVisitResult.CONTINUE;
    }
    @Override public FileVisitResult visitFile(    Path filePath,    BasicFileAttributes basicFileAttributes) throws IOException {
      Files.deleteIfExists(filePath);
      return FileVisitResult.CONTINUE;
    }
  }
);
}
