{
  if (hasResourcePermission(newRootPortletId)) {
    String sql="delete from ResourcePermission where name = ?";
    try (PreparedStatement ps=connection.prepareStatement(sql)){
      ps.setString(1,oldRootPortletId);
      ps.execute();
    }
   }
 else {
    super.updateResourcePermission(oldRootPortletId,newRootPortletId,updateName);
  }
}
