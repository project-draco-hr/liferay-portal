{
  User user=UserTestUtil.addGroupUser(_group,RoleConstants.POWER_USER);
  PermissionChecker permissionChecker=PermissionCheckerFactoryUtil.create(user);
  PermissionChecker originalPermissionChecker=PermissionThreadLocal.getPermissionChecker();
  PermissionThreadLocal.setPermissionChecker(permissionChecker);
  try {
    DLFileEntryType fileEntryType=addFileEntryType();
    List<DLFileEntryType> fileEntryTypes=DLFileEntryTypeFinderUtil.filterFindByKeywords(_group.getCompanyId(),new long[]{_group.getGroupId()},_DL_FILE_ENTRY_TYPE_NAME,true,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
    Assert.assertTrue(fileEntryTypes.contains(fileEntryType));
    Assert.assertEquals(fileEntryTypes.size(),DLFileEntryTypeFinderUtil.filterCountByKeywords(_group.getCompanyId(),new long[]{_group.getGroupId()},_DL_FILE_ENTRY_TYPE_NAME,true));
  }
  finally {
    PermissionThreadLocal.setPermissionChecker(originalPermissionChecker);
  }
}
