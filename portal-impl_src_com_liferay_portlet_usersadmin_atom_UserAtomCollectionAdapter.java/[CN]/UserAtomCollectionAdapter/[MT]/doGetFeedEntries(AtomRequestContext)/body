{
  long groupId=atomRequestContext.getLongParameter("groupId");
  if (groupId > 0) {
    List<User> users=UserServiceUtil.getGroupUsers(groupId);
    return users;
  }
  long organizationId=atomRequestContext.getLongParameter("organizationId");
  if (organizationId > 0) {
    List<User> users=UserServiceUtil.getOrganizationUsers(organizationId);
    return users;
  }
  long userGroupId=atomRequestContext.getLongParameter("userGroupId");
  if (userGroupId > 0) {
    List<User> users=UserServiceUtil.getUserGroupUsers(userGroupId);
    return users;
  }
  long companyId=CompanyThreadLocal.getCompanyId();
  if (companyId > 0) {
    int usersCount=UserServiceUtil.getCompanyUsersCount(companyId);
    AtomPager atomPager=new AtomPager(atomRequestContext,usersCount);
    AtomUtil.saveAtomPagerInRequest(atomRequestContext,atomPager);
    List<User> users=UserServiceUtil.getCompanyUsers(companyId,atomPager.getStart(),atomPager.getEnd() + 1);
    return users;
  }
  return Collections.emptyList();
}
