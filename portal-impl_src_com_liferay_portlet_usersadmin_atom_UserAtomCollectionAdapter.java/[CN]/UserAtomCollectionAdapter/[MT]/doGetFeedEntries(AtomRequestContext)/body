{
  long groupId=atomRequestContext.getLongParameter("groupId");
  if (groupId != 0) {
    List<User> users=UserLocalServiceUtil.getGroupUsers(groupId);
    return users;
  }
  long userGroupId=atomRequestContext.getLongParameter("userGroupId");
  if (userGroupId != 0) {
    List<User> users=UserLocalServiceUtil.getUserGroupUsers(userGroupId);
    return users;
  }
  long organizationId=atomRequestContext.getLongParameter("organizationId");
  if (organizationId != 0) {
    List<User> users=UserLocalServiceUtil.getOrganizationUsers(organizationId);
    return users;
  }
  long companyId=CompanyThreadLocal.getCompanyId();
  if (companyId != 0) {
    int usersCount=UserLocalServiceUtil.getCompanyUsersCount(companyId);
    AtomPager atomPager=new AtomPager(atomRequestContext,usersCount);
    AtomUtil.saveAtomPagerInRequest(atomRequestContext,atomPager);
    List<User> users=UserLocalServiceUtil.getCompanyUsers(companyId,atomPager.getStart(),atomPager.getEnd() + 1);
    return users;
  }
  return Collections.emptyList();
}
