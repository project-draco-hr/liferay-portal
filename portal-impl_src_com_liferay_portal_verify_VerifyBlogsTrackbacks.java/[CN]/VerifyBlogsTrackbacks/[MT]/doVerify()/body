{
  List<MBDiscussion> discussions=MBMessageLocalServiceUtil.getDiscussions(BlogsEntry.class.getName());
  for (  MBDiscussion discussion : discussions) {
    long entryId=discussion.getClassPK();
    long threadId=discussion.getThreadId();
    try {
      BlogsEntry entry=BlogsEntryLocalServiceUtil.getBlogsEntry(entryId);
      List<MBMessage> messages=MBMessageLocalServiceUtil.getThreadMessages(threadId,WorkflowConstants.STATUS_APPROVED);
      for (      MBMessage message : messages) {
        LinkbackConsumer linkbackConsumer=LinkbackConsumerUtil.getLinkbackConsumer();
        linkbackConsumer.verifyPost(entry,message);
      }
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
}
