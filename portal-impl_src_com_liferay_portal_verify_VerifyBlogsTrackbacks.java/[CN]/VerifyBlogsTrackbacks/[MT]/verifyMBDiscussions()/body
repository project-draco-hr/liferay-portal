{
  try (LoggingTimer loggingTimer=new LoggingTimer()){
    List<MBDiscussion> mbDiscussions=MBMessageLocalServiceUtil.getDiscussions(BlogsEntry.class.getName());
    for (    MBDiscussion mbDiscussion : mbDiscussions) {
      try {
        BlogsEntry entry=BlogsEntryLocalServiceUtil.getBlogsEntry(mbDiscussion.getClassPK());
        List<MBMessage> mbMessages=MBMessageLocalServiceUtil.getThreadMessages(mbDiscussion.getThreadId(),WorkflowConstants.STATUS_APPROVED);
        for (        MBMessage mbMessage : mbMessages) {
          _verifyPost(entry,mbMessage);
        }
      }
 catch (      Exception e) {
        _log.error(e,e);
      }
    }
  }
 }
