{
  String companyId=PortalUtil.getCompanyId(req);
  String layoutId=ParamUtil.getString(req,"layoutId");
  String ownerId=ParamUtil.getString(req,"ownerId");
  String themeId=ParamUtil.getString(req,"themeId");
  String colorSchemeId=ParamUtil.getString(req,"colorSchemeId");
  String css=ParamUtil.getString(req,"themeCss");
  if (Validator.isNotNull(themeId) && Validator.isNull(colorSchemeId)) {
    ColorScheme colorScheme=ThemeLocalUtil.getColorScheme(companyId,themeId,colorSchemeId);
    colorSchemeId=colorScheme.getColorSchemeId();
  }
  System.out.println("updating look and fee");
  if (Validator.isNull(layoutId)) {
    LayoutSetServiceUtil.updateLookAndFeel(ownerId,themeId,colorSchemeId,css);
  }
 else {
    LayoutServiceUtil.updateLookAndFeel(layoutId,ownerId,themeId,colorSchemeId,css);
  }
}
