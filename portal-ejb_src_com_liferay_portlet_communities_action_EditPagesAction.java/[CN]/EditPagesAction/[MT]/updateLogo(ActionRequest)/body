{
  UploadPortletRequest uploadReq=PortalUtil.getUploadPortletRequest(req);
  long groupId=ParamUtil.getLong(req,"groupId");
  boolean privateLayout=ParamUtil.getBoolean(req,"privateLayout");
  boolean logo=ParamUtil.getBoolean(req,"logo");
  File file=uploadReq.getFile("logoFileName");
  byte[] bytes=FileUtil.getBytes(file);
  if (logo && ((bytes == null) || (bytes.length == 0))) {
    throw new UploadException();
  }
  LayoutSetServiceUtil.updateLogo(groupId,privateLayout,logo,file);
}
