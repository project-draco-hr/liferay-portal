{
  StringBundler sb=new StringBundler();
  for (  DDMFormFieldValue ddmFormFieldValue : ddmFormValues.getDDMFormFieldValues()) {
    try {
      String indexType=ddmStructure.getFieldProperty(ddmFormFieldValue.getName(),"indexType");
      if (Validator.isNull(indexType)) {
        continue;
      }
      String valueString=ddmFormFieldValue.getValue().getString(locale);
      String type=ddmStructure.getDDMFormField(ddmFormFieldValue.getName()).getType();
      if (type.equals(DDMImpl.TYPE_RADIO) || type.equals(DDMImpl.TYPE_SELECT)) {
        JSONArray jsonArray=JSONFactoryUtil.createJSONArray(valueString);
        String[] stringArray=ArrayUtil.toStringArray(jsonArray);
        sb.append(stringArray);
        sb.append(StringPool.SPACE);
      }
 else {
        if (type.equals(DDMImpl.TYPE_DDM_TEXT_HTML)) {
          valueString=HtmlUtil.extractText(valueString);
        }
        sb.append(valueString);
        sb.append(StringPool.SPACE);
      }
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e,e);
      }
    }
  }
  return sb.toString();
}
