{
  if (isCommitted()) {
    return;
  }
  if (contentType == null) {
    return;
  }
  int index=contentType.indexOf(CharPool.SEMICOLON);
  if (index != -1) {
    String firstPart=contentType.substring(0,index);
    _metaData._contentType=firstPart.trim();
    index=contentType.indexOf("charset=");
    if (index != -1) {
      String charsetName=contentType.substring(index + 8);
      charsetName=charsetName.trim();
      setCharacterEncoding(charsetName);
    }
 else {
      _metaData._charsetName=null;
    }
  }
 else {
    _metaData._contentType=contentType;
    _metaData._charsetName=null;
  }
  super.setContentType(contentType);
}
