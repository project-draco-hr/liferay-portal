{
  Field field=refreshPoint._field;
  Object oldReferenceBean=field.get(targetBean);
  String referencedBeanName=refreshPoint._referencedBeanName;
  Object newReferencedBean=beanFactory.getBean(referencedBeanName);
  Object doPrivilegedBean=_doPrivilegedBeanRegistry.get(newReferencedBean);
  if ((doPrivilegedBean == null) && DoPrivilegedFactory.isEarlyBeanReference(referencedBeanName)) {
    doPrivilegedBean=DoPrivilegedFactory.wrap(newReferencedBean);
    _doPrivilegedBeanRegistry.put(newReferencedBean,doPrivilegedBean);
  }
  if (doPrivilegedBean != null) {
    newReferencedBean=doPrivilegedBean;
  }
  if (oldReferenceBean == newReferencedBean) {
    return;
  }
  field.set(targetBean,newReferencedBean);
  if (_log.isDebugEnabled()) {
    _log.debug("Refreshed field " + field + " with old value "+ oldReferenceBean+ " with new value "+ newReferencedBean+ " on bean "+ targetBean);
  }
}
