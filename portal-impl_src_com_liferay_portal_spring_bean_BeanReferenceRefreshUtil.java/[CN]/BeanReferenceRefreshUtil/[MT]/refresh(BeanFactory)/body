{
  for (  Map.Entry<Object,List<RefreshPoint>> entry : _registeredRefreshPoints.entrySet()) {
    Object targetBean=entry.getKey();
    for (    RefreshPoint refreshPoint : entry.getValue()) {
      Field field=refreshPoint._field;
      String referencedBeanName=refreshPoint._referencedBeanName;
      Object oldReferencedBean=field.get(targetBean);
      Object newReferencedBean=beanFactory.getBean(referencedBeanName);
      if (oldReferencedBean != newReferencedBean) {
        field.set(targetBean,newReferencedBean);
        if (_log.isDebugEnabled()) {
          _log.debug("Refreshed on bean : " + targetBean + ", field : "+ field+ ", old value : "+ oldReferencedBean+ ", new value : "+ newReferencedBean);
        }
      }
    }
  }
  _registeredRefreshPoints.clear();
}
