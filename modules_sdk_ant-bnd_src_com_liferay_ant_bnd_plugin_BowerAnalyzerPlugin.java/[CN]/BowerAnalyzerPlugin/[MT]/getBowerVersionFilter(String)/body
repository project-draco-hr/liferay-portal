{
  StringBuilder sb=new StringBuilder();
  String[] comparatorSets=version.split("\\|\\|");
  if (comparatorSets.length > 1) {
    sb.append("(|");
  }
  for (  String comparatorSet : comparatorSets) {
    comparatorSet=comparatorSet.trim();
    if ((comparatorSet.length() == 0) || comparatorSet.equals("*")) {
      comparatorSet=">=0";
    }
    Matcher inclusiveMatcher=VERSION_INCLUSIVE_RANGE_PATTERN.matcher(comparatorSet);
    Matcher rangeMatcher=VERSION_RANGE_PATTERN.matcher(comparatorSet);
    Matcher prefixRangeMatcher=VERSION_PREFIX_RANGE_PATTERN.matcher(comparatorSet);
    Matcher versionMatcherMatcher=VERSION_NAMED_PATTERN.matcher(comparatorSet);
    if (inclusiveMatcher.matches()) {
      doInclusive(sb,inclusiveMatcher.group(1),inclusiveMatcher.group(9));
    }
 else     if (rangeMatcher.matches()) {
      appendRange(sb,rangeMatcher.group(1),rangeMatcher.group(11));
    }
 else     if (prefixRangeMatcher.matches()) {
      appendPrefixRange(sb,prefixRangeMatcher.group(1),prefixRangeMatcher.group(2));
    }
 else     if (versionMatcherMatcher.matches()) {
      appendVersion(sb,versionMatcherMatcher);
    }
  }
  if (comparatorSets.length > 1) {
    sb.append(")");
  }
  return sb.toString();
}
