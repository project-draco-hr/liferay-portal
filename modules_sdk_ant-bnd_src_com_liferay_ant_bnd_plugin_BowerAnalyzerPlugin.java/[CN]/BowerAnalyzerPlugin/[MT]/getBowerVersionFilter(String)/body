{
  StringBuilder sb=new StringBuilder();
  String[] comparatorSets=version.split("\\|\\|");
  if (comparatorSets.length > 1) {
    sb.append("(|");
  }
  for (  String comparatorSet : comparatorSets) {
    comparatorSet=comparatorSet.trim();
    if ((comparatorSet.length() == 0) || comparatorSet.equals("*")) {
      comparatorSet=">=0";
    }
    Matcher inclusive=VERSION_INCLUSIVE_RANGE_PATTERN.matcher(comparatorSet);
    Matcher range=VERSION_RANGE_PATTERN.matcher(comparatorSet);
    Matcher prefixRange=VERSION_PREFIX_RANGE_PATTERN.matcher(comparatorSet);
    Matcher versionMatcher=VERSION_NAMED_PATTERN.matcher(comparatorSet);
    if (inclusive.matches()) {
      _doInclusive(sb,inclusive.group(1),inclusive.group(9));
    }
 else     if (range.matches()) {
      _doRange(sb,range.group(1),range.group(11));
    }
 else     if (prefixRange.matches()) {
      _doPrefixRange(sb,prefixRange.group(1),prefixRange.group(2));
    }
 else     if (versionMatcher.matches()) {
      _doVersion(sb,versionMatcher);
    }
  }
  if (comparatorSets.length > 1) {
    sb.append(")");
  }
  return sb.toString();
}
