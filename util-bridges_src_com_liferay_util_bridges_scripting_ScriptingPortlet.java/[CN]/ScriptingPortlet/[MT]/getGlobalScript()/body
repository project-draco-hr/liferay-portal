{
  if (globalScript != null) {
    return globalScript;
  }
  StringBundler sb=new StringBundler();
  for (  String globalFile : globalFiles) {
    InputStream is=getPortletContext().getResourceAsStream(globalFile);
    if (is == null) {
      if (_log.isWarnEnabled()) {
        _log.warn("Global file " + globalFile + " does not exist");
      }
    }
    try {
      if (is != null) {
        String script=new String(FileUtil.getBytes(is));
        sb.append(script);
        sb.append(StringPool.NEW_LINE);
      }
    }
  finally {
      is.close();
    }
  }
  globalScript=sb.toString();
  return globalScript;
}
