{
  try {
    String redirect=getRedirect(req);
    if (redirect == null) {
      PortalUtil.sendError(HttpServletResponse.SC_NOT_FOUND,new NoSuchLayoutException(),req,res);
    }
 else {
      req.setAttribute(WebKeys.WIDGET,Boolean.TRUE);
      ServletContext ctx=getServletContext();
      RequestDispatcher rd=ctx.getRequestDispatcher(redirect);
      rd.forward(req,res);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
    PortalUtil.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,e,req,res);
  }
}
