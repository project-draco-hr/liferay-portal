{
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  V firstValue=null;
  try {
    con=_getConnection();
    ps=con.prepareStatement("SELECT value_ FROM Map WHERE key_ = ?");
    ps.setBytes(1,SerializableUtil.serialize(key));
    rs=ps.executeQuery();
    if (rs.next()) {
      firstValue=(V)SerializableUtil.deserialize(rs.getBytes(_VALUE));
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
 finally {
    DataAccess.cleanUp(con,ps,rs);
  }
  try {
    con=_getConnection();
    ps=con.prepareStatement("DELETE FROM Map WHERE key_ = ?");
    ps.setBytes(1,SerializableUtil.serialize(key));
    ps.execute();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
 finally {
    DataAccess.cleanUp(con,ps);
  }
  return firstValue;
}
