{
  ManifestSummary manifestSummary=portletDataContext.getManifestSummary();
  if ((portletPreferences == null) || (manifestSummary.getModelAdditionCount(WikiPage.class) > -1)) {
    return;
  }
  long nodeId=GetterUtil.getLong(portletPreferences.getValue("nodeId",StringPool.BLANK));
  if (nodeId > 0) {
    manifestSummary.addModelAdditionCount(new StagedModelType(WikiPage.class),WikiPageLocalServiceUtil.getPagesCount(nodeId));
  }
}
