{
  final JChannel channel=new JChannel(properties);
  channel.setReceiver(new ReceiverAdapter(){
    @Override public void viewAccepted(    View new_view){
      if (_log.isInfoEnabled()) {
        _log.info("Portal cluster link view updated:" + new_view);
      }
    }
    @Override public void receive(    org.jgroups.Message message){
      if (!_localAddressList.contains(message.getSrc())) {
        _portalClusterForwardMessageListener.receive((Message)message.getObject());
      }
 else {
        if (_log.isInfoEnabled()) {
          _log.info("Block receiving local message:" + message);
        }
      }
    }
  }
);
  channel.connect(LIFERAY_JGROUPS_CLUSTER + index);
  if (_log.isInfoEnabled()) {
    _log.info("Create a new channel with properties:" + channel.getProperties());
  }
  return channel;
}
