{
  PermissionCheckerImpl permissionCheckerImpl=(PermissionCheckerImpl)permissionChecker;
  if (permissionChecker.hasPermission(0,Location.class.getName(),locationId,actionId)) {
    return true;
  }
 else   if (actionId.equals(ActionKeys.VIEW)) {
    User user=permissionCheckerImpl.getUser();
    Organization location=user.getLocation();
    if (locationId == location.getOrganizationId()) {
      return true;
    }
 else {
      return false;
    }
  }
 else   if (actionId.endsWith("_USER")) {
    Organization location=OrganizationLocalServiceUtil.getOrganization(locationId);
    long parentOrganizationId=location.getParentOrganizationId();
    if (permissionChecker.hasPermission(0,Organization.class.getName(),parentOrganizationId,actionId)) {
      return true;
    }
 else {
      return false;
    }
  }
 else {
    return false;
  }
}
