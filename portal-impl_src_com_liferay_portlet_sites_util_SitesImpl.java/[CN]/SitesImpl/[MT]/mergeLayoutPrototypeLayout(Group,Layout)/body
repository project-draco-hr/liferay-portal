{
  String sourcePrototypeLayoutUuid=layout.getSourcePrototypeLayoutUuid();
  if (Validator.isNotNull(sourcePrototypeLayoutUuid)) {
    LayoutSet layoutSet=layout.getLayoutSet();
    long layoutSetPrototypeId=layoutSet.getLayoutSetPrototypeId();
    if (Validator.isNotNull(layoutSetPrototypeId)) {
      Group layoutSetPrototypeGroup=GroupLocalServiceUtil.getLayoutSetPrototypeGroup(layout.getCompanyId(),layoutSetPrototypeId);
      Layout sourcePrototypeLayout=LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(sourcePrototypeLayoutUuid,layoutSetPrototypeGroup.getGroupId(),true);
      doMergeLayoutPrototypeLayout(layoutSetPrototypeGroup,sourcePrototypeLayout);
    }
  }
  doMergeLayoutPrototypeLayout(group,layout);
}
