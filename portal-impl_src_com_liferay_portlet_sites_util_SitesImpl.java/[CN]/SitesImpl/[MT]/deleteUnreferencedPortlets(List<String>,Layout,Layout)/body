{
  LayoutTypePortlet sourceLayoutType=(LayoutTypePortlet)sourceLayout.getLayoutType();
  List<String> unreferencedPortletIds=new ArrayList<>(targetLayoutPortletIds);
  unreferencedPortletIds.removeAll(sourceLayoutType.getPortletIds());
  PortletLocalServiceUtil.deletePortlets(targetLayout.getCompanyId(),unreferencedPortletIds.toArray(new String[unreferencedPortletIds.size()]),targetLayout.getPlid());
}
