{
  try {
    indexOutput.setLength(length);
    byte[] buffer=new byte[_BUFFER_SIZE];
    long received=0;
    while (received < length) {
      int trySize=_BUFFER_SIZE;
      if (received + _BUFFER_SIZE > length) {
        trySize=(int)(length - received);
      }
      int actualSize=is.read(buffer,0,trySize);
      indexOutput.writeBytes(buffer,actualSize);
      received+=actualSize;
    }
  }
  finally {
    indexOutput.close();
  }
}
