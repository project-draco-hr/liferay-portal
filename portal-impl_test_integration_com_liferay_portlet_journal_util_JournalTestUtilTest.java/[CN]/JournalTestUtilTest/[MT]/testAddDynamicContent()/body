{
  try {
    Map<String,String> tokens=getTokens();
    Document document=JournalTestUtil.createDocument("en_US,pt_BR","en_US");
    Element dynamicElementElement=JournalTestUtil.addDynamicElement(document.getRootElement(),"text","name");
    JournalTestUtil.addDynamicContent(dynamicElementElement,"en_US","Joe Bloggs");
    String xml=document.asXML();
    String script="$name.getData()";
    String content=JournalUtil.transform(null,tokens,Constants.VIEW,"en_US",xml,script,JournalTemplateConstants.LANG_TYPE_VM);
    Assert.assertEquals("Joe Bloggs",content);
  }
 catch (  Exception e) {
    Assert.fail(e.getMessage());
  }
}
