{
  _filterConfig=filterConfig;
  ServletContext servletContext=_filterConfig.getServletContext();
  _contextPath=servletContext.getContextPath();
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  if (contextClassLoader != PortalClassLoaderUtil.getClassLoader()) {
    registerPortalLifecycle();
  }
 else {
    try {
      doPortalInit();
    }
 catch (    Exception e) {
      _log.error(e,e);
      throw new ServletException(e);
    }
  }
}
