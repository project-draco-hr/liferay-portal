{
  _filterConfig=filterConfig;
  ServletContext servletContext=_filterConfig.getServletContext();
  _contextPath=servletContext.getContextPath();
  boolean registerPortalLifecycle=GetterUtil.getBoolean(_filterConfig.getInitParameter("register-portal-lifecycle"),true);
  if (registerPortalLifecycle) {
    registerPortalLifecycle();
  }
 else {
    try {
      doPortalInit();
    }
 catch (    Exception e) {
      _log.error(e,e);
      throw new ServletException(e);
    }
  }
}
