{
  HttpServletRequest request=(HttpServletRequest)servletRequest;
  Dispatcher dispatcher=Dispatcher.REQUEST;
  String uri=request.getRequestURI();
  String errorRequestURI=(String)request.getAttribute(JavaConstants.JAVAX_SERVLET_ERROR_REQUEST_URI);
  String forwardRequestURI=(String)request.getAttribute(JavaConstants.JAVAX_SERVLET_FORWARD_REQUEST_URI);
  String includeRequestURI=(String)request.getAttribute(JavaConstants.JAVAX_SERVLET_INCLUDE_REQUEST_URI);
  if (Validator.isNotNull(errorRequestURI)) {
    dispatcher=Dispatcher.ERROR;
    uri=errorRequestURI;
  }
 else   if (Validator.isNotNull(forwardRequestURI)) {
    dispatcher=Dispatcher.FORWARD;
  }
 else   if (Validator.isNotNull(includeRequestURI)) {
    dispatcher=Dispatcher.INCLUDE;
    uri=includeRequestURI;
  }
  InvokerFilterChain invokerFilterChain=new InvokerFilterChain(filterChain);
  for (  FilterMapping filterMapping : _filterMappings) {
    if (filterMapping.isMatch(request,dispatcher,uri)) {
      Filter filter=filterMapping.getFilter();
      invokerFilterChain.addFilter(filter);
    }
  }
  invokerFilterChain.doFilter(servletRequest,servletResponse);
}
