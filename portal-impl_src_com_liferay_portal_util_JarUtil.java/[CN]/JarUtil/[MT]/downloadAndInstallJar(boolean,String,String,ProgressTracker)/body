{
  setProgressStatus(progressTracker,ProgressStatusConstants.DOWNLOADING);
  if (_log.isInfoEnabled()) {
    _log.info("Downloading " + url);
  }
  byte[] bytes=HttpUtil.URLtoByteArray(url);
  setProgressStatus(progressTracker,ProgressStatusConstants.COPYING);
  if (PropsValues.CLUSTER_LINK_ENABLED) {
    try {
      DLStoreUtil.deleteFile(_REPOSITORY,_REPOSITORY,_FILE_PATH + name);
    }
 catch (    Exception e) {
    }
    DLStoreUtil.addFile(_REPOSITORY,_REPOSITORY,_FILE_PATH + name,bytes);
    try {
      ClusterRequest clusterRequest=ClusterRequest.createMulticastRequest(new MethodHandler(_installJarKey,globalClassPath,name));
      FutureClusterResponses futureClusterResponses=ClusterExecutorUtil.execute(clusterRequest);
      futureClusterResponses.get(30,TimeUnit.SECONDS);
    }
  finally {
      try {
        DLStoreUtil.deleteFile(_REPOSITORY,_REPOSITORY,_FILE_PATH + name);
      }
 catch (      Exception e) {
      }
    }
  }
 else {
    setProgressStatus(progressTracker,ProgressStatusConstants.COPYING);
    installJar(bytes,globalClassPath,name);
  }
}
