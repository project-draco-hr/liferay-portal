{
  StringMaker sm=new StringMaker();
  if (publishDate != null) {
    sm.append(" AND (publishDate IS NULL OR publishDate < ?)");
  }
  if (expirationDate != null) {
    sm.append(" AND (expirationDate IS NULL OR expirationDate > ?)");
  }
  sql=StringUtil.replace(sql,"[$DATES$]",sm.toString());
  return sql;
}
