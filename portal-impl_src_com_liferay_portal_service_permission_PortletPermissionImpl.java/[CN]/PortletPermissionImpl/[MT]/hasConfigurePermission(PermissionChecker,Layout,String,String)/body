{
  if (!actionId.equals(ActionKeys.CONFIGURATION)) {
    return false;
  }
  Portlet portlet=PortletLocalServiceUtil.getPortletById(layout.getCompanyId(),portletId);
  if (portlet.isPreferencesUniquePerLayout()) {
    return LayoutPermissionUtil.contains(permissionChecker,layout,ActionKeys.CONFIGURE_PORTLETS);
  }
  return GroupPermissionUtil.contains(permissionChecker,layout.getGroupId(),ActionKeys.CONFIGURE_PORTLETS);
}
