{
  if ((layout != null) && layout.isTypeControlPanel()) {
    String category=portlet.getControlPanelEntryCategory();
    if (Validator.equals(category,PortletCategoryKeys.CONTENT)) {
      layout=null;
    }
  }
  boolean access=contains(permissionChecker,scopeGroupId,layout,portlet,ActionKeys.VIEW);
  if (access && !PropsValues.TCK_URL && portletMode.equals(PortletMode.EDIT)) {
    access=contains(permissionChecker,scopeGroupId,layout,portlet,ActionKeys.PREFERENCES);
  }
  return access;
}
