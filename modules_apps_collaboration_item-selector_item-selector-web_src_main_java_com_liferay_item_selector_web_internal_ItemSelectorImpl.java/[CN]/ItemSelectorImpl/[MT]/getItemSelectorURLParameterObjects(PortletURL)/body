{
  Map<String,String[]> parameters=HttpUtil.getParameterMap(portletURL.toString());
  Map<String,String[]> itemSelectorURLParameterMap=new HashMap<>();
  for (  String parameterName : parameters.keySet()) {
    if (parameterName.contains(_ITEM_SELECTOR_PARAMETER_PREFIX)) {
      String key=StringUtil.removeSubstring(parameterName,_ITEM_SELECTOR_PARAMETER_PREFIX);
      itemSelectorURLParameterMap.put(key,parameters.get(parameterName));
    }
  }
  List<ItemSelectorCriterion> itemSelectorCriteria=getItemSelectorCriteria(itemSelectorURLParameterMap);
  String itemSelectedEventName=getValue(itemSelectorURLParameterMap,PARAMETER_ITEM_SELECTED_EVENT_NAME);
  return new Tuple(itemSelectorCriteria,itemSelectedEventName);
}
