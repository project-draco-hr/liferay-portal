{
  if (indexCommit == null) {
    _empty=true;
    return;
  }
  _empty=false;
  List<String> fileNameLists=new ArrayList<String>(indexCommit.getFileNames());
  _fileInfoList=new ArrayList<FileInfo>(fileNameLists.size());
  Directory directory=indexCommit.getDirectory();
  for (  String fileName : fileNameLists) {
    FileInfo fileInfo=new FileInfo(fileName,directory.fileLength(fileName));
    _fileInfoList.add(fileInfo);
  }
  _generation=indexCommit.getGeneration();
}
