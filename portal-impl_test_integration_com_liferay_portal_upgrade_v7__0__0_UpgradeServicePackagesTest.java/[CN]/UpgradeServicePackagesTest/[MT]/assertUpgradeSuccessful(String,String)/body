{
  StringBundler oldNameSB=new StringBundler(9);
  oldNameSB.append("select ");
  oldNameSB.append(columnName);
  oldNameSB.append(" from ");
  oldNameSB.append(tableName);
  oldNameSB.append(" where ");
  oldNameSB.append(columnName);
  oldNameSB.append(" like '%");
  oldNameSB.append(_OLD_CLASS_NAME);
  oldNameSB.append("%'");
  String oldName=null;
  try (PreparedStatement ps=connection.prepareStatement(oldNameSB.toString());ResultSet rs=ps.executeQuery()){
    Assert.assertTrue(tableName + "does not have a row whose " + columnName+ "'s value contains "+ _OLD_CLASS_NAME,rs.next());
    oldName=rs.getString(columnName);
  }
   upgradeTable(tableName,columnName);
  String newName=StringUtil.replace(oldName,_OLD_CLASS_NAME,_NEW_CLASS_NAME);
  StringBundler newNameSB=new StringBundler(9);
  newNameSB.append("select ");
  newNameSB.append(columnName);
  newNameSB.append(" from ");
  newNameSB.append(tableName);
  newNameSB.append(" where ");
  newNameSB.append(columnName);
  newNameSB.append(" = '");
  newNameSB.append(newName);
  newNameSB.append("'");
  try (PreparedStatement ps=connection.prepareStatement(newNameSB.toString());ResultSet rs=ps.executeQuery()){
    Assert.assertTrue(tableName + "does not have a row whose " + columnName+ "'s value is "+ newName,rs.next());
  }
 }
