{
  List<SyncFile> syncFiles=new ArrayList<>();
  SyncFile folderSyncFileA=SyncFileTestUtil.addFolderSyncFile(FileUtil.getFilePathName(filePathName,"a"),syncAccount.getSyncAccountId());
  syncFiles.add(folderSyncFileA);
  SyncFile folderSyncFileAA=SyncFileTestUtil.addFolderSyncFile(FileUtil.getFilePathName(filePathName,"a","a"),folderSyncFileA.getTypePK(),syncAccount.getSyncAccountId());
  syncFiles.add(folderSyncFileAA);
  SyncFile folderSyncFileAB=SyncFileTestUtil.addFolderSyncFile(FileUtil.getFilePathName(filePathName,"a","b"),folderSyncFileA.getTypePK(),syncAccount.getSyncAccountId());
  syncFiles.add(folderSyncFileAB);
  SyncFile folderSyncFileAAA=SyncFileTestUtil.addFolderSyncFile(FileUtil.getFilePathName(filePathName,"a","a","a"),folderSyncFileAA.getTypePK(),syncAccount.getSyncAccountId());
  syncFiles.add(folderSyncFileAAA);
  SyncFilePersistence syncFilePersistence=SyncFileService.getSyncFilePersistence();
  List<SyncFile> syncedSyncFiles=syncFilePersistence.queryForEq("state",SyncFile.STATE_SYNCED);
  int previousSyncedSyncFilesSize=syncedSyncFiles.size();
  SyncFileService.unsyncFolders(syncAccount.getSyncAccountId(),syncFiles);
  syncedSyncFiles=syncFilePersistence.queryForEq("state",SyncFile.STATE_SYNCED);
  Assert.assertEquals(previousSyncedSyncFilesSize - 4,syncedSyncFiles.size());
  for (  SyncFile syncFile : syncFiles) {
    syncFilePersistence.delete(syncFile);
  }
}
