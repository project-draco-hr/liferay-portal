{
  List<SocialActivity> activities=socialActivityPersistence.findByUserId(userId,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  SocialActivity activity : activities) {
    socialActivitySetLocalService.decrementActivityCount(activity.getActivitySetId());
    socialActivityPersistence.remove(activity);
  }
  activities=socialActivityPersistence.findByReceiverUserId(userId,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  SocialActivity activity : activities) {
    socialActivitySetLocalService.decrementActivityCount(activity.getActivitySetId());
    socialActivityPersistence.remove(activity);
  }
  socialActivityCounterLocalService.deleteActivityCounters(User.class.getName(),userId);
}
