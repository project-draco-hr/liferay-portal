{
  List<SocialActivity> activities=socialActivityPersistence.findByUserId(userId,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  SocialActivity activity : activities) {
    if (PropsValues.SOCIAL_ACTIVITY_SETS_ENABLED) {
      socialActivitySetLocalService.decrementActivityCount(activity.getActivitySetId());
    }
    socialActivityPersistence.remove(activity);
  }
  activities=socialActivityPersistence.findByReceiverUserId(userId,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  SocialActivity activity : activities) {
    if (PropsValues.SOCIAL_ACTIVITY_SETS_ENABLED) {
      socialActivitySetLocalService.decrementActivityCount(activity.getActivitySetId());
    }
    socialActivityPersistence.remove(activity);
  }
  socialActivityCounterLocalService.deleteActivityCounters(User.class.getName(),userId);
}
