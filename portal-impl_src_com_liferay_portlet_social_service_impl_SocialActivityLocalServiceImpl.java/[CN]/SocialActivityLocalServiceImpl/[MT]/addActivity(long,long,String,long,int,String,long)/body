{
  Date createDate=new Date();
  long classNameId=PortalUtil.getClassNameId(className);
  while (socialActivityPersistence.fetchByG_U_CD_C_C_T_R(groupId,userId,createDate,classNameId,classPK,type,receiverUserId) != null) {
    createDate=new Date(createDate.getTime() + Timer.ONE_SECOND);
  }
  return addActivity(userId,groupId,createDate,className,classPK,type,extraData,receiverUserId);
}
