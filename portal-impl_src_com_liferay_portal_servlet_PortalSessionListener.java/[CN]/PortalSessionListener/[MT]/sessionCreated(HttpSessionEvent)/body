{
  if (CompoundSessionIdFilter.hasCompoundSessionId()) {
    CompoundSessionIdHttpSession compoundSessionIdHttpSession=new CompoundSessionIdHttpSession(httpSessionEvent.getSession());
    httpSessionEvent=new HttpSessionEvent(compoundSessionIdHttpSession);
  }
  new PortalSessionCreator(httpSessionEvent);
  HttpSession session=httpSessionEvent.getSession();
  session.setAttribute(PortalSessionActivationListener.class.getName(),PortalSessionActivationListener.getInstance());
}
