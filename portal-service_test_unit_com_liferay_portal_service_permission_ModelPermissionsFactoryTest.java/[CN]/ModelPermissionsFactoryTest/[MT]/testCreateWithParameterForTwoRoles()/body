{
  Map<String,String[]> parameterMap=new HashMap<>();
  String[] permissions={ActionKeys.VIEW};
  parameterMap.put(ModelPermissionsFactory.MODEL_PERMISSIONS_PREFIX + RoleConstants.GUEST,permissions);
  parameterMap.put(ModelPermissionsFactory.MODEL_PERMISSIONS_PREFIX + RoleConstants.SITE_MEMBER,permissions);
  ModelPermissions modelPermissions=ModelPermissionsFactory.create(parameterMap);
  Collection<Role> roles=modelPermissions.getRoles();
  Assert.assertEquals(2,roles.size());
  Role role=roles.iterator().next();
  Assert.assertEquals(ListUtil.fromArray(permissions),modelPermissions.getActionIds(role));
}
