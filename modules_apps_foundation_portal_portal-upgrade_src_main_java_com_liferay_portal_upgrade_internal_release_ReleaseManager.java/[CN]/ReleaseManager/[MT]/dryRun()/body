{
  Set<String> bundleSymbolicNames=_serviceTrackerMap.keySet();
  for (  String bundleSymbolicName : bundleSymbolicNames) {
    String schemaVersionString=getSchemaVersionString(bundleSymbolicName);
    ReleaseGraphManager releaseGraphManager=new ReleaseGraphManager(_serviceTrackerMap.getService(bundleSymbolicName));
    List<List<UpgradeInfo>> upgradeInfosList=releaseGraphManager.getUpgradeInfosList(schemaVersionString);
    int size=upgradeInfosList.size();
    if (size > 1) {
      System.out.println("There are " + size + " possible end nodes for "+ schemaVersionString);
    }
    if (size == 0) {
      continue;
    }
    List<UpgradeInfo> upgradeInfos=upgradeInfosList.get(0);
    UpgradeInfo lastUpgradeInfo=upgradeInfos.get(upgradeInfos.size() - 1);
    System.out.println("Would upgrade " + bundleSymbolicName + " from "+ schemaVersionString+ " to "+ lastUpgradeInfo.getToSchemaVersionString()+ " and "+ "its dependent modules");
  }
}
