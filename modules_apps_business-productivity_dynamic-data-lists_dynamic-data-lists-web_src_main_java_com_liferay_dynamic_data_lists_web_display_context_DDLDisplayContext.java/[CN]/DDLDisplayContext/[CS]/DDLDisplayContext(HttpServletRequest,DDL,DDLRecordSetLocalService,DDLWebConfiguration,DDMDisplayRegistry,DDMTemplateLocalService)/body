{
  _ddl=ddl;
  _ddlRecordSetLocalService=ddlRecordSetLocalService;
  _ddlWebConfiguration=ddlWebConfiguration;
  _ddmDisplayRegistry=ddmDisplayRegistry;
  _ddmTemplateLocalService=ddmTemplateLocalService;
  _ddlRequestHelper=new DDLRequestHelper(request);
  if (Validator.isNotNull(getPortletResource())) {
    return;
  }
  DDLRecordSet recordSet=getRecordSet();
  if ((recordSet == null) || !hasViewPermission()) {
    RenderRequest renderRequest=_ddlRequestHelper.getRenderRequest();
    renderRequest.setAttribute(WebKeys.PORTLET_CONFIGURATOR_VISIBILITY,Boolean.TRUE);
  }
}
