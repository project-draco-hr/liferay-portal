{
  if (sort.getType() == Sort.SCORE_TYPE) {
    return scoreFieldName;
  }
  String fieldName=sort.getFieldName();
  if (DocumentImpl.isSortableFieldName(fieldName)) {
    return fieldName;
  }
  if ((sort.getType() == Sort.STRING_TYPE) && !DocumentImpl.isSortableTextField(fieldName)) {
    return scoreFieldName;
  }
  return DocumentImpl.getSortableFieldName(fieldName);
}
