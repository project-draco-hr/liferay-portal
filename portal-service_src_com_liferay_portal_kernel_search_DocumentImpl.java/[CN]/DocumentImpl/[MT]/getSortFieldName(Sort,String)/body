{
  if (sort.getType() == Sort.SCORE_TYPE) {
    return scoreFieldName;
  }
  String fieldName=sort.getFieldName();
  if (fieldName.endsWith(_SORTABLE_FIELD_SUFFIX)) {
    return fieldName;
  }
  String sortFieldName=null;
  if (DocumentImpl.isSortableTextField(fieldName) || (sort.getType() != Sort.STRING_TYPE)) {
    sortFieldName=DocumentImpl.getSortableFieldName(fieldName);
  }
  if (Validator.isNull(sortFieldName)) {
    sortFieldName=scoreFieldName;
  }
  return sortFieldName;
}
