{
  Exception exception=new Exception(new RuntimeException(new NullPointerException(_message)));
  String exceptionPrefix="java.lang.Exception: java.lang.RuntimeException: " + "java.lang.NullPointerException: ";
  try {
    _log.debug(exception);
    _log.debug(null,exception);
    _log.error(exception);
    _log.error(null,exception);
    _log.fatal(exception);
    _log.fatal(null,exception);
    _log.info(exception);
    _log.info(null,exception);
    _log.trace(exception);
    _log.trace(null,exception);
    _log.warn(exception);
    _log.warn(null,exception);
    List<LoggingEvent> loggingEvents=_captureAppender.getLoggingEvents();
    Assert.assertNotNull(loggingEvents);
    Assert.assertEquals(12,loggingEvents.size());
    for (    LoggingEvent loggingEvent : loggingEvents) {
      ThrowableInformation throwableInformation=loggingEvent.getThrowableInformation();
      String line=throwableInformation.getThrowableStrRep()[0];
      Assert.assertTrue(line.startsWith(exceptionPrefix));
      char[] messageChars=new char[line.length() - exceptionPrefix.length()];
      line.getChars(exceptionPrefix.length(),line.length(),messageChars,0);
      Assert.assertArrayEquals(_messageChars,messageChars);
    }
  }
  finally {
    _captureAppender.close();
  }
}
