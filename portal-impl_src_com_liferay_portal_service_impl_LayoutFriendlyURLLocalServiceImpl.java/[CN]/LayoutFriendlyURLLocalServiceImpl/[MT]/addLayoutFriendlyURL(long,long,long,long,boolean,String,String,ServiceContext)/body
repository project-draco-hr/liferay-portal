{
  User user=userPersistence.findByPrimaryKey(userId);
  Date now=new Date();
  long layoutFriendlyURLId=counterLocalService.increment();
  LayoutFriendlyURL layoutFriendlyURL=layoutFriendlyURLPersistence.create(layoutFriendlyURLId);
  layoutFriendlyURL.setUuid(serviceContext.getUuid());
  layoutFriendlyURL.setGroupId(groupId);
  layoutFriendlyURL.setCompanyId(companyId);
  layoutFriendlyURL.setUserId(user.getUserId());
  layoutFriendlyURL.setUserName(user.getFullName());
  layoutFriendlyURL.setCreateDate(serviceContext.getCreateDate(now));
  layoutFriendlyURL.setModifiedDate(serviceContext.getModifiedDate(now));
  layoutFriendlyURL.setPlid(plid);
  layoutFriendlyURL.setPrivateLayout(privateLayout);
  layoutFriendlyURL.setFriendlyURL(friendlyURL);
  layoutFriendlyURL.setLanguageId(languageId);
  return layoutFriendlyURLPersistence.update(layoutFriendlyURL);
}
