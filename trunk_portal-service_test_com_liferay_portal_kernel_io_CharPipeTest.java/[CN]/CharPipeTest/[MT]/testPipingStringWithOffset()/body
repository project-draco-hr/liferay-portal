{
  CharPipe charPipe=new CharPipe(4);
  Writer writer=charPipe.getWriter();
  writer.write("abcd",0,0);
  Reader reader=charPipe.getReader();
  assertFalse(reader.ready());
  writer.write("abcd",1,3);
  char[] buffer=new char[4];
  int result=reader.read(buffer,1,0);
  assertEquals(0,result);
  result=reader.read(buffer,1,3);
  assertEquals(3,result);
  assertEquals('b',buffer[1]);
  assertEquals('c',buffer[2]);
  assertEquals('d',buffer[3]);
  charPipe.close();
}
