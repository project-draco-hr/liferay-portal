{
  try {
    StringBundler sb=new StringBundler(5);
    sb.append("window.open('");
    PortletURL portletURL=PortalUtil.getControlPanelPortletURL(portletRequest,KBPortletKeys.KNOWLEDGE_BASE_ADMIN,PortletRequest.RENDER_PHASE);
    portletURL.setParameter("mvcPath","/admin/print_template.jsp");
    KBTemplate kbTemplate=(KBTemplate)portletRequest.getAttribute(KBWebKeys.KNOWLEDGE_BASE_KB_TEMPLATE);
    portletURL.setParameter("kbTemplateId",String.valueOf(kbTemplate.getKbTemplateId()));
    portletURL.setParameter("viewMode",Constants.PRINT);
    portletURL.setWindowState(LiferayWindowState.POP_UP);
    sb.append(portletURL.toString());
    sb.append("', '', 'directories=no,height=640,location=no,");
    sb.append("menubar=no,resizable=yes,scrollbars=yes,status=0,");
    sb.append("toolbar=0,width=680');");
    return sb.toString();
  }
 catch (  Exception e) {
  }
  return StringPool.BLANK;
}
