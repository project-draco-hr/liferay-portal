{
  Document document=SAXReaderUtil.read(xmlString);
  Element rootElement=document.getRootElement();
  try {
    String id=rootElement.elementText("id");
    String javaExecutable=rootElement.elementText("javaExecutable");
    String jvmArguments=rootElement.elementText("jvmArguments");
    String spiAgentClassName=rootElement.elementText("spiAgentClassName");
    int connectorPort=Integer.parseInt(rootElement.elementText("connectorPort"));
    String baseDir=rootElement.elementText("baseDir");
    String[] portletIds=StringUtil.split(rootElement.elementText("portletIds"));
    String[] servletContextNames=StringUtil.split(rootElement.elementText("servletContextNames"));
    long pingInterval=Long.parseLong(rootElement.elementText("pingInterval"));
    long registerTimeout=Long.parseLong(rootElement.elementText("registerTimeout"));
    long shutdownTimeout=Long.parseLong(rootElement.elementText("shutdownTimeout"));
    return new SPIConfiguration(id,javaExecutable,jvmArguments,spiAgentClassName,connectorPort,baseDir,portletIds,servletContextNames,pingInterval,registerTimeout,shutdownTimeout);
  }
 catch (  NumberFormatException nfe) {
    throw new DocumentException("Unable to parse XML to SPI configuration",nfe);
  }
}
