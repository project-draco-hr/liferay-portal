{
  if (!isDeleteActionAvailable()) {
    return;
  }
  LiferayPortletResponse liferayPortletResponse=_getLiferayPortletResponse();
  PortletURL portletURL=liferayPortletResponse.createRenderURL();
  long folderId=_fileEntry.getFolderId();
  if (folderId == DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    portletURL.setParameter("mvcRenderCommandName","/document_library/view");
  }
 else {
    portletURL.setParameter("mvcRenderCommandName","/document_library/view_folder");
  }
  portletURL.setParameter("folderId",String.valueOf(folderId));
  StringBundler sb=new StringBundler(5);
  sb.append("if (confirm('");
  sb.append(UnicodeLanguageUtil.get(_request,"are-you-sure-you-want-to-delete-this"));
  sb.append("')) {");
  sb.append(getSubmitFormJavaScript(Constants.DELETE,portletURL.toString()));
  sb.append("}");
  _addJavaScriptUIItem(new JavaScriptToolbarItem(),toolbarItems,DLUIItemKeys.DELETE,LanguageUtil.get(_request,"delete"),sb.toString());
}
