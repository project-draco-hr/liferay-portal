{
  if (!isMoveToTheRecycleBinActionAvailable()) {
    return;
  }
  LiferayPortletResponse liferayPortletResponse=_getLiferayPortletResponse();
  PortletURL portletURL=liferayPortletResponse.createRenderURL();
  long folderId=_fileEntry.getFolderId();
  if (folderId == DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    portletURL.setParameter("mvcRenderCommandName","/document_library/view");
  }
 else {
    portletURL.setParameter("mvcRenderCommandName","/document_library/view_folder");
  }
  portletURL.setParameter("folderId",String.valueOf(folderId));
  portletURL.setParameter("folderId",String.valueOf(_fileEntry.getFolderId()));
  _addJavaScriptUIItem(new JavaScriptToolbarItem(),toolbarItems,DLUIItemKeys.MOVE_TO_THE_RECYCLE_BIN,LanguageUtil.get(_request,"move-to-the-recycle-bin"),getSubmitFormJavaScript(Constants.MOVE_TO_TRASH,portletURL.toString()));
}
