{
  url=fixURL(url);
  String key=url.replace("//","/");
  if (checkCache && _toStringCache.containsKey(key) && !url.startsWith("file:")) {
    System.out.println("Loading " + url);
    return _toStringCache.get(key);
  }
  int retryCount=0;
  while (true) {
    try {
      System.out.println("Downloading " + url);
      StringBuilder sb=new StringBuilder();
      URL urlObject=new URL(url);
      InputStreamReader inputStreamReader=new InputStreamReader(urlObject.openStream());
      BufferedReader bufferedReader=new BufferedReader(inputStreamReader);
      String line=null;
      while ((line=bufferedReader.readLine()) != null) {
        sb.append(line);
        sb.append("\n");
      }
      bufferedReader.close();
      if (!url.startsWith("file:")) {
        _toStringCache.put(key,sb.toString());
      }
      return sb.toString();
    }
 catch (    FileNotFoundException e) {
      retryCount++;
      if (retryCount > _MAX_RETRIES) {
        throw e;
      }
      System.out.println("Download file not found. Waiting 5 seconds before retry." + " Retry " + retryCount + " of "+ _MAX_RETRIES);
      Thread.sleep(5000);
    }
  }
}
