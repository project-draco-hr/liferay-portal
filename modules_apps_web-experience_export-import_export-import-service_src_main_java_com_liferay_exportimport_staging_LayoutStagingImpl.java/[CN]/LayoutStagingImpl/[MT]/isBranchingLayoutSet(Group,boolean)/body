{
  boolean isStagingGroup=false;
  if (group.isStagingGroup() && !group.isStagedRemotely()) {
    isStagingGroup=true;
    group=group.getLiveGroup();
  }
  UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
  if (typeSettingsProperties.isEmpty()) {
    return false;
  }
  boolean branchingEnabled=false;
  if (privateLayout) {
    branchingEnabled=GetterUtil.getBoolean(typeSettingsProperties.getProperty("branchingPrivate"));
  }
 else {
    branchingEnabled=GetterUtil.getBoolean(typeSettingsProperties.getProperty("branchingPublic"));
  }
  if (!branchingEnabled || !group.isStaged() || (!group.isStagedRemotely() && !isStagingGroup)) {
    return false;
  }
  Group stagingGroup=group;
  if (isStagingGroup) {
    stagingGroup=group.getStagingGroup();
  }
  try {
    _layoutSetBranchLocalService.getMasterLayoutSetBranch(stagingGroup.getGroupId(),privateLayout);
    return true;
  }
 catch (  PortalException pe) {
    return false;
  }
}
