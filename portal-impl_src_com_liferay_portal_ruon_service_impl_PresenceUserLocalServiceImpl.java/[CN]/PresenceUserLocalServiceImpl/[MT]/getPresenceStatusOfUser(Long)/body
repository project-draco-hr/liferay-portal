{
  try {
    Long presenceStatus=PresenceUserLocalServiceUtil.getPresenceUser(userId).getPresenceStatus();
    String presenceMessage=PresenceStatusesLocalServiceUtil.getPresenceStatuses(presenceStatus).getPresenceStatusMessage();
    if (presenceMessage.equalsIgnoreCase("online")) {
      return "<img src=\"/ruon/images/status_online.png\"/>";
    }
 else     if (presenceMessage.equalsIgnoreCase("offline")) {
      return "<img src=\"/ruon/images/status_offline.png\"/>";
    }
 else {
      return "";
    }
  }
 catch (  Exception e) {
    throw new RUONException(e);
  }
}
