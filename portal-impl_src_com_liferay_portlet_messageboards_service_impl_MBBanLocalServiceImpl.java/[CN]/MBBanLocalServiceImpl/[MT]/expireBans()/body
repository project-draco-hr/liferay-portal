{
  long now=System.currentTimeMillis();
  int expireInterval=GetterUtil.getInteger(PropsUtil.get(PropsUtil.MESSAGE_BOARDS_EXPIRE_BAN_INTERVAL));
  List bans=mbBanPersistence.findAll();
  for (int i=0; i < bans.size(); i++) {
    MBBan ban=(MBBan)bans.get(i);
    long unbanDate=MBUtil.getUnbanDate(ban,expireInterval).getTime();
    if (now >= unbanDate) {
      if (_log.isDebugEnabled()) {
        _log.debug("Auto expiring ban " + ban.getBanId() + " on user "+ ban.getBanUserId());
      }
      mbBanPersistence.remove(ban);
    }
  }
}
