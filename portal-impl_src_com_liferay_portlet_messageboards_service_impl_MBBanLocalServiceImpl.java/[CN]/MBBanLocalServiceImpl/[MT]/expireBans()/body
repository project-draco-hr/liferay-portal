{
  long now=System.currentTimeMillis();
  int expireInterval=GetterUtil.getInteger(PropsUtil.get(PropsUtil.MESSAGE_BOARDS_EXPIRE_BAN_INTERVAL));
  List<MBBan> bans=mbBanPersistence.findAll();
  for (  MBBan ban : bans) {
    long unbanDate=MBUtil.getUnbanDate(ban,expireInterval).getTime();
    if (now >= unbanDate) {
      if (_log.isDebugEnabled()) {
        _log.debug("Auto expiring ban " + ban.getBanId() + " on user "+ ban.getBanUserId());
      }
      mbBanPersistence.remove(ban);
    }
  }
}
