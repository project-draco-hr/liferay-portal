{
  DynamicQuery dynamicQuery=dynamicQuery();
  Property property=PropertyFactoryUtil.forName("status");
  dynamicQuery.add(property.eq(BackgroundTaskConstants.STATUS_IN_PROGRESS));
  final List<BackgroundTask> backgroundTasks=dynamicQuery(dynamicQuery);
  for (  BackgroundTask backgroundTask : backgroundTasks) {
    backgroundTask.setStatus(BackgroundTaskConstants.STATUS_FAILED);
    terminateBackgroundTask(backgroundTask,BackgroundTaskConstants.STATUS_FAILED);
  }
}
