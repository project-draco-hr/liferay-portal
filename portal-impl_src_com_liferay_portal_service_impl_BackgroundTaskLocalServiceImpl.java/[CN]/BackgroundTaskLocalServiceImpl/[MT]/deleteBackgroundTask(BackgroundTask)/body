{
  long folderId=backgroundTask.getAttachmentsFolderId();
  if (folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    PortletFileRepositoryUtil.deleteFolder(folderId);
  }
  if (backgroundTask.getStatus() == BackgroundTaskConstants.STATUS_IN_PROGRESS) {
    terminateBackgroundTask(backgroundTask,BackgroundTaskConstants.STATUS_CANCELLED);
  }
  return backgroundTaskPersistence.remove(backgroundTask);
}
