{
  PortletPreferences oldCompanyPortletPreferences=PrefsPropsUtil.getPreferences(companyId);
  Company company=updateCompany(companyId,virtualHost,mx,homeURL,logo,logoBytes,name,legalName,legalId,legalType,sicCode,tickerSymbol,industry,type,size);
  updateDisplay(company.getCompanyId(),languageId,timeZoneId);
  updatePreferences(company.getCompanyId(),properties);
  RatingsDataTransformerUtil.transformCompanyRatingsData(companyId,oldCompanyPortletPreferences,properties);
  UsersAdminUtil.updateAddresses(Account.class.getName(),company.getAccountId(),addresses);
  UsersAdminUtil.updateEmailAddresses(Account.class.getName(),company.getAccountId(),emailAddresses);
  UsersAdminUtil.updatePhones(Account.class.getName(),company.getAccountId(),phones);
  UsersAdminUtil.updateWebsites(Account.class.getName(),company.getAccountId(),websites);
  return company;
}
