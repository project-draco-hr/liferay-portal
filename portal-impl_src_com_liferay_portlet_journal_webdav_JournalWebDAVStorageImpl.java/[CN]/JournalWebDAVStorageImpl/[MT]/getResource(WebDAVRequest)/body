{
  try {
    String[] pathArray=webDavReq.getPathArray();
    if (pathArray.length == 3) {
      String path=getRootPath() + webDavReq.getPath();
      return new BaseResourceImpl(path,StringPool.BLANK,getToken());
    }
 else     if (pathArray.length == 4) {
      String type=pathArray[3];
      return toResource(webDavReq,type,false);
    }
 else     if (pathArray.length == 5) {
      String type=pathArray[3];
      String journalTypeId=pathArray[4];
      if (type.equals(_TYPE_STRUCTURES)) {
        try {
          JournalStructure journalStructure=JournalStructureLocalServiceUtil.getStructure(webDavReq.getGroupId(),journalTypeId);
          return toResource(webDavReq,journalStructure,false);
        }
 catch (        NoSuchStructureException nsse) {
          return null;
        }
      }
 else       if (type.equals(_TYPE_TEMPLATES)) {
        try {
          JournalTemplate journalTemplate=JournalTemplateLocalServiceUtil.getTemplate(webDavReq.getGroupId(),journalTypeId);
          return toResource(webDavReq,journalTemplate,false);
        }
 catch (        NoSuchTemplateException nste) {
          return null;
        }
      }
    }
    return null;
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
}
