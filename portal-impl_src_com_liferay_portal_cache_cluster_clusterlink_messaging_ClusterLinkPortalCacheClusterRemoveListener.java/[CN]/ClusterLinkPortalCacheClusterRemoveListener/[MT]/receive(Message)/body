{
  PortalCacheClusterEvent event=(PortalCacheClusterEvent)message.getPayload();
  if (event == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("Received a message without payload.");
    }
    return;
  }
  String cacheName=event.getCacheName();
  Cache cache=_portalCacheManager.getCache(cacheName);
  if (cache == null) {
    cache=_hibernateCacheManager.getCache(cacheName);
  }
  if (cache != null) {
switch (event.getEventType()) {
case REMOVEALL:
      cache.removeAll(true);
    break;
default :
  cache.remove(event.getElementKey(),true);
break;
}
}
}
