{
  PortalCacheClusterEvent portalCacheClusterEvent=(PortalCacheClusterEvent)message.getPayload();
  if (portalCacheClusterEvent == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("Payload is null");
    }
    return;
  }
  String cacheName=portalCacheClusterEvent.getCacheName();
  Cache cache=_portalCacheManager.getCache(cacheName);
  if (cache == null) {
    cache=_hibernateCacheManager.getCache(cacheName);
  }
  if (cache != null) {
    PortalCacheClusterEventType portalCacheClusterEventType=portalCacheClusterEvent.getEventType();
    if (portalCacheClusterEventType.equals(PortalCacheClusterEventType.REMOVEALL)) {
      cache.removeAll(true);
    }
 else {
      cache.remove(portalCacheClusterEvent.getElementKey(),true);
    }
  }
}
