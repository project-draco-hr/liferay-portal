{
  String fileName="Test Range.txt";
  FileEntry fileEntry=DLAppTestUtil.addFileEntry(parentFolder.getFolderId(),fileName,fileName,_SAMPLE_DATA.getBytes());
  String path=fileEntry.getGroupId() + "/" + fileEntry.getFolderId()+ "/"+ fileEntry.getTitle();
  Map<String,String> headers=new HashMap<String,String>();
  if (Validator.isNotNull(rangeHeader)) {
    headers.put(HttpHeaders.RANGE,rangeHeader);
  }
  MockHttpServletResponse mockHttpServletResponse=service(Method.GET,path,headers,null,null,null);
  int status=mockHttpServletResponse.getStatus();
  Assert.assertTrue(mockHttpServletResponse.containsHeader(HttpHeaders.ACCEPT_RANGES));
  if (Validator.isNotNull(rangeHeader)) {
    Assert.assertEquals(HttpServletResponse.SC_PARTIAL_CONTENT,status);
  }
 else {
    Assert.assertEquals(HttpServletResponse.SC_OK,status);
  }
  String contentType=mockHttpServletResponse.getContentType();
  if (Validator.isNotNull(rangeHeader) && rangeHeader.contains(StringPool.COMMA)) {
    Assert.assertTrue(contentType.startsWith("multipart/byteranges"));
  }
 else {
    Assert.assertEquals(ContentTypes.TEXT_PLAIN,contentType);
  }
  return mockHttpServletResponse;
}
