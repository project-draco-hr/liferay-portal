{
  User user=new UserImpl();
  Date date=new Date();
  user.setUuid(SequentialUUID.generate());
  user.setUserId(_counter.get());
  user.setCompanyId(_company.getCompanyId());
  user.setCreateDate(date);
  user.setModifiedDate(date);
  user.setDefaultUser(defaultUser);
  user.setContactId(_counter.get());
  user.setPassword(_PASSWORD);
  user.setPasswordModifiedDate(date);
  user.setReminderQueryQuestion(_QUERY_QUESTION);
  user.setLanguageId(_DEFAULT_LANGUAGE_ID);
  user.setFirstName(firstName);
  user.setLastName(lastName);
  user.setLoginDate(date);
  user.setLastLoginDate(date);
  user.setLastFailedLoginDate(date);
  user.setLockoutDate(date);
  user.setAgreedToTermsOfUse(true);
  user.setEmailAddressVerified(true);
  if (Validator.isNull(screenName)) {
    screenName=String.valueOf(user.getUserId());
  }
  user.setScreenName(screenName);
  user.setReminderQueryAnswer(screenName);
  user.setGreeting("Welcome " + screenName + StringPool.EXCLAMATION);
  user.setEmailAddress(screenName + "@liferay.com");
  return user;
}
