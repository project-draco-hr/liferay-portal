{
  List<AssetCategoryModel> assetCategoryModels=_assetCategoryModelsArray[(int)groupId - 1];
  boolean assetPublisherFilterEnabled=false;
  if ((_maxAssetPublisherPageCount * _maxAssetPublisherFilterRuleCount) > 0) {
    assetPublisherFilterEnabled=true;
  }
  if (!assetPublisherFilterEnabled || (currentIndex == 1) || (assetCategoryModels == null)|| assetCategoryModels.isEmpty()) {
    return newPortletPreferencesModel(plid,portletId,PortletConstants.DEFAULT_PREFERENCES);
  }
  SimpleCounter counter=_assetPublisherRuleCounter.get(groupId);
  if (counter == null) {
    counter=new SimpleCounter(0);
    _assetPublisherRuleCounter.put(groupId,counter);
  }
  javax.portlet.PortletPreferences jxPortletPreferences=new com.liferay.portlet.PortletPreferencesImpl();
  for (int i=0; i < _maxAssetPublisherFilterRuleCount; i++) {
    int index=(int)counter.get() % assetCategoryModels.size();
    AssetCategoryModel assetCategoryModel=assetCategoryModels.get(index);
    jxPortletPreferences.setValue("queryAndOperator" + i,"false");
    jxPortletPreferences.setValue("queryContains" + i,"false");
    jxPortletPreferences.setValue("queryName" + i,"assetCategories");
    jxPortletPreferences.setValue("queryValues" + i,String.valueOf(assetCategoryModel.getCategoryId()));
  }
  return newPortletPreferencesModel(plid,portletId,_PORTLET_PREFERENCES_FACTORY.toXML(jxPortletPreferences));
}
