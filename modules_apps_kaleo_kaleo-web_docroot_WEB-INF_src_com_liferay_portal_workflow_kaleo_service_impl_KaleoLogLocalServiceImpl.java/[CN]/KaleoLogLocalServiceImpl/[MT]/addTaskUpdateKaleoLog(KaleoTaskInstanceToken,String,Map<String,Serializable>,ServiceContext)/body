{
  KaleoInstanceToken kaleoInstanceToken=kaleoTaskInstanceToken.getKaleoInstanceToken();
  KaleoLog kaleoLog=createKaleoLog(kaleoInstanceToken,LogType.TASK_UPDATE,serviceContext);
  List<KaleoTaskAssignmentInstance> kaleoTaskAssignmentInstances=kaleoTaskInstanceToken.getKaleoTaskAssignmentInstances();
  if (!kaleoTaskAssignmentInstances.isEmpty()) {
    KaleoTaskAssignmentInstance kaleoTaskAssignmentInstance=kaleoTaskAssignmentInstances.get(0);
    kaleoLog.setCurrentAssigneeClassPK(kaleoTaskAssignmentInstance.getAssigneeClassPK());
    kaleoLog.setCurrentAssigneeClassName(kaleoTaskAssignmentInstance.getAssigneeClassName());
  }
  kaleoLog.setComment(comment);
  kaleoLog.setWorkflowContext(WorkflowContextUtil.convert(workflowContext));
  kaleoLogPersistence.update(kaleoLog);
  return kaleoLog;
}
