{
  List<ResourceBundle> resourceBundles=new ArrayList<>();
  for (  ServiceTracker<ResourceBundleLoader,ResourceBundleLoader> serviceTracker : _serviceTrackers) {
    ResourceBundleLoader resourceBundleLoader=serviceTracker.getService();
    ResourceBundle resourceBundle=resourceBundleLoader.loadResourceBundle(languageId);
    if (resourceBundle != null) {
      resourceBundles.add(resourceBundle);
    }
  }
  if (resourceBundles.isEmpty()) {
    return null;
  }
  if (resourceBundles.size() == 1) {
    return resourceBundles.get(0);
  }
  return new AggregateResourceBundle(resourceBundles.toArray(new ResourceBundle[resourceBundles.size()]));
}
