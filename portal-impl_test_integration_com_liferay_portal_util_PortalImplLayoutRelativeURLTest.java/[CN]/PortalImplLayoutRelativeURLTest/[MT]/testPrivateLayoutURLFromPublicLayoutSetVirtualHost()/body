{
  ThemeDisplay themeDisplay=initThemeDisplay(company,group,privateLayout,LOCALHOST,VIRTUAL_HOSTNAME);
  Assert.assertEquals(privateLayoutRelativeURL,PortalUtil.getLayoutRelativeURL(privateLayout,themeDisplay));
  Layout layout=LayoutTestUtil.addLayout(group);
  updateThemeDisplay(themeDisplay,"refererPlid",String.valueOf(layout.getPlid()));
  Assert.assertEquals(privateLayoutRelativeURL,PortalUtil.getLayoutRelativeURL(privateLayout,themeDisplay));
  updateThemeDisplay(themeDisplay,"refererPlid","foo");
  Assert.assertEquals(privateLayoutRelativeURL,PortalUtil.getLayoutRelativeURL(privateLayout,themeDisplay));
  updateThemeDisplay(themeDisplay,"refererPlid","1");
  try {
    PortalUtil.getLayoutRelativeURL(privateLayout,themeDisplay);
    Assert.fail();
  }
 catch (  NoSuchLayoutException nsle) {
  }
}
