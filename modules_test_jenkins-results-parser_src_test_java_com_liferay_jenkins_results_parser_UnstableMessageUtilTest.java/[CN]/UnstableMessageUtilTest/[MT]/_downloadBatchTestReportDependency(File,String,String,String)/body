{
  File testReportJSONDir=new File(batchDir.getPath() + "/testReport/api");
  testReportJSONDir.mkdirs();
  File testReportJSONFile=new File(testReportJSONDir.getPath() + "/json");
  String testReportURLString="https://${hostName}/job/${jobName}/${buildNumber}/testReport/" + "api/json";
  testReportURLString=_replaceToken(testReportURLString,"buildNumber",buildNumber);
  testReportURLString=_replaceToken(testReportURLString,"hostName",hostName);
  testReportURLString=_replaceToken(testReportURLString,"jobName",jobName);
  URL url=_createURL(testReportURLString);
  URI uri=url.toURI();
  JSONObject testReportJSONObject=JenkinsResultsParserUtil.toJSONObject(JenkinsResultsParserUtil.getLocalURL(uri.toASCIIString()));
  JSONArray childJSONArray=testReportJSONObject.getJSONArray("childReports");
  if (childJSONArray != null) {
    for (int i=0; i < childJSONArray.length(); i++) {
      JSONObject childReportJSONObject=childJSONArray.getJSONObject(i);
      if (childReportJSONObject != null) {
        JSONObject childJSONObject=childReportJSONObject.getJSONObject("child");
        String runUrlString=URLDecoder.decode(childJSONObject.getString("url"),"UTF8");
        String localRunUrlString=_downloadSlaveDependency(batchDir,runUrlString,buildNumber,jobName,hostName);
        if (localRunUrlString != null) {
          childJSONObject.put("url",localRunUrlString);
        }
      }
    }
  }
  _write(testReportJSONFile,testReportJSONObject);
}
