{
  if (_attachmentFolderId > 0) {
    return _attachmentFolderId;
  }
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  long repositoryId=PortletFileRepositoryUtil.getPortletRepository(getGroupId(),PortletKeys.WIKI,serviceContext);
  long nodeFolderId=PortletFileRepositoryUtil.getFolder(getUserId(),repositoryId,DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,String.valueOf(getNodeId()),serviceContext);
  _attachmentFolderId=PortletFileRepositoryUtil.getFolder(getUserId(),repositoryId,nodeFolderId,String.valueOf(getResourcePrimKey()),serviceContext);
  return _attachmentFolderId;
}
