{
  DLFileEntry dlFileEntry=(DLFileEntry)fileEntry.getModel();
  if (dlFileEntry.isInTrashExplicitly()) {
    TrashEntryLocalServiceUtil.deleteEntry(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
  }
 else {
    List<DLFileVersion> dlFileVersions=dlFileEntry.getFileVersions(WorkflowConstants.STATUS_ANY);
    for (    DLFileVersion dlFileVersion : dlFileVersions) {
      TrashVersionLocalServiceUtil.deleteTrashVersion(DLFileVersion.class.getName(),dlFileVersion.getFileVersionId());
    }
  }
}
