{
  Repository repository=RepositoryLocalServiceUtil.fetchRepository(repositoryId);
  if (repository == null) {
    deleteRepositoryTrashEntries(repositoryId,DLFileEntry.class.getName());
    deleteRepositoryTrashEntries(repositoryId,DLFolder.class.getName());
  }
 else {
    QueryDefinition<Object> queryDefinition=new QueryDefinition<Object>();
    queryDefinition.setStatus(WorkflowConstants.STATUS_ANY);
    List<Object> foldersAndFileEntriesAndFileShortcuts=DLFolderLocalServiceUtil.getFoldersAndFileEntriesAndFileShortcuts(repository.getGroupId(),repository.getDlFolderId(),null,true,queryDefinition);
    for (    Object folderFileEntryOrFileShortcut : foldersAndFileEntriesAndFileShortcuts) {
      if (folderFileEntryOrFileShortcut instanceof DLFileEntry) {
        deleteTrashEntry((DLFileEntry)folderFileEntryOrFileShortcut);
      }
 else       if (folderFileEntryOrFileShortcut instanceof DLFolder) {
        deleteTrashEntry((DLFolder)folderFileEntryOrFileShortcut);
      }
    }
  }
}
