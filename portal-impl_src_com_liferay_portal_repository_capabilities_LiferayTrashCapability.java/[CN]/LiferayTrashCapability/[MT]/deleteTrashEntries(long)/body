{
  Repository repository=RepositoryLocalServiceUtil.fetchRepository(repositoryId);
  if (repository == null) {
    deleteRepositoryTrashEntries(repositoryId,DLFileEntry.class.getName());
    deleteRepositoryTrashEntries(repositoryId,DLFolder.class.getName());
  }
 else {
    QueryDefinition<Object> queryDefinition=new QueryDefinition<Object>();
    queryDefinition.setStatus(WorkflowConstants.STATUS_ANY);
    List<Object> entries=DLFolderLocalServiceUtil.getFoldersAndFileEntriesAndFileShortcuts(repository.getGroupId(),repository.getDlFolderId(),null,true,queryDefinition);
    for (    Object entry : entries) {
      if (entry instanceof DLFileEntry) {
        deleteTrashEntry((DLFileEntry)entry);
      }
 else       if (entry instanceof DLFolder) {
        deleteTrashEntry((DLFolder)entry);
      }
    }
  }
}
