{
  String portalCacheName=portalCacheConfiguration.getPortalCacheName();
  TestPortalCache<K,V> portalCache=_testPortalCaches.get(portalCacheName);
  if (portalCache != null) {
    return portalCache;
  }
  portalCache=new TestPortalCache<>(this,portalCacheName);
  TestPortalCache<K,V> previousPortalCache=_testPortalCaches.putIfAbsent(portalCacheName,portalCache);
  if (previousPortalCache == null) {
    aggregatedCacheManagerListener.notifyPortalCacheAdded(portalCacheName);
  }
 else {
    portalCache=previousPortalCache;
  }
  return portalCache;
}
