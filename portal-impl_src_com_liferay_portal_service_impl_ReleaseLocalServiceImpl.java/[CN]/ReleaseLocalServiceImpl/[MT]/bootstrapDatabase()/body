{
  int buildNumber=NO_BUILD_NUMBER;
  if (GetterUtil.getBoolean(PropsUtil.get(PropsKeys.SCHEMA_RUN_ENABLED))) {
    if (_log.isInfoEnabled()) {
      _log.info("Create tables and populate with default data");
    }
    createTablesAndPopulate();
    Release release=getRelease();
    if (release == null) {
      release=addRelease();
    }
    buildNumber=release.getBuildNumber();
  }
 else {
    throw new NoSuchReleaseException("The database needs to be populated");
  }
  return buildNumber;
}
