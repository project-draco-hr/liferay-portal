{
  String propertiesDestDirName=GetterUtil.getString(arguments.get("properties.dest.dir"));
  String propertiesFileName=GetterUtil.getString(arguments.get("properties.file"));
  String title=GetterUtil.getString(arguments.get("properties.title"));
  boolean toc=GetterUtil.getBoolean(arguments.get("properties.toc"));
  System.out.println("Converting " + propertiesFileName + " to HTML");
  File propertiesFile=new File(propertiesFileName);
  Map<String,Object> context=new HashMap<>();
  context.put("pageTitle",title);
  int pos=propertiesFileName.lastIndexOf(StringPool.SLASH);
  if (pos != -1) {
    propertiesFileName=propertiesFileName.substring(pos + 1);
  }
  context.put("propertiesFileName",propertiesFileName);
  List<PropertiesSection> propertiesSections=getPropertiesSections(propertiesFile);
  if (propertiesSections == null) {
    return;
  }
  context.put("sections",propertiesSections);
  context.put("toc",toc);
  try {
    StringBundler sb=new StringBundler(4);
    sb.append(propertiesDestDirName);
    sb.append(StringPool.SLASH);
    sb.append(propertiesFileName);
    sb.append(".html");
    String propertiesHTMLFileName=sb.toString();
    File propertiesHTMLFile=new File(propertiesHTMLFileName);
    System.out.println("Writing " + propertiesHTMLFile);
    Writer writer=new FileWriter(propertiesHTMLFile);
    try {
      FreeMarkerUtil.process("com/liferay/portal/tools/propertiesdoc/dependencies" + "/properties.ftl",context,writer);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    writer.flush();
  }
 catch (  IOException ioe) {
    ioe.printStackTrace();
  }
}
