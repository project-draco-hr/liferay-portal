{
  Plugin<Project> plugin=null;
  if (FileUtil.exists(project,"bnd.bnd")) {
    plugin=new LiferayOSGiPlugin();
  }
 else {
    String projectName=project.getName();
    if (projectName.endsWith("-shared")) {
      plugin=new LiferayJavaPlugin();
    }
 else     if (projectName.endsWith("-theme")) {
      plugin=new LiferayThemePlugin();
    }
 else {
      plugin=new LiferayWebAppPlugin();
    }
  }
  plugin.apply(project);
}
