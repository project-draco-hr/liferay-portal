{
  try (PreparedStatement ps=connection.prepareStatement("select portletPreferencesId from PortletPreferences where " + "ownerId = ? and ownerType = ? and plid = ? and " + "portletId = ?")){
    ps.setLong(1,ownerId);
    ps.setInt(2,ownerType);
    ps.setLong(3,plid);
    ps.setString(4,portletId);
    try (ResultSet rs=ps.executeQuery()){
      if (rs.next()) {
        return rs.getLong("portletPreferencesId");
      }
    }
   }
   return 0;
}
