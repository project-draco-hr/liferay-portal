{
  try (LoggingTimer loggingTimer=new LoggingTimer();PreparedStatement ps=connection.prepareStatement("select ownerId, ownerType, preferences from " + "PortletPreferences where portletId = ?")){
    ps.setString(1,PortletKeys.LIFERAY_PORTAL);
    try (ResultSet rs=ps.executeQuery()){
      while (rs.next()) {
        long ownerId=rs.getLong("ownerId");
        int ownerType=rs.getInt("ownerType");
        String preferences=rs.getString("preferences");
        addPortalPreferences(ownerId,ownerType,preferences);
      }
      runSQL("delete from PortletPreferences where portletId = '" + PortletKeys.LIFERAY_PORTAL + "'");
    }
   }
 }
