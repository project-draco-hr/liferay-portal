{
  String webContextpath=getWebContextPath();
  AutoDeploymentContext autoDeploymentContext=buildAutoDeploymentContext(webContextpath);
  executeAutoDeployers(autoDeploymentContext);
  _pluginPackage=autoDeploymentContext.getPluginPackage();
  if (_pluginPackage != null) {
    _context=_pluginPackage.getContext();
  }
 else {
    _context=autoDeploymentContext.getContext();
  }
  if (_file.isDirectory()) {
    return _file;
  }
  File deployDir=autoDeploymentContext.getDeployDir();
  if (!deployDir.exists()) {
    File parentFile=deployDir.getParentFile();
    File[] files=parentFile.listFiles(new FilenameFilter(){
      @Override public boolean accept(      File dir,      String name){
        return name.endsWith(".war");
      }
    }
);
    if ((files == null) || (files.length == 0)) {
      _log.error("Unable to find any WARs in " + parentFile);
      return null;
    }
    File file=files[0];
    deployDir.mkdirs();
    if (file.isDirectory()) {
      FileUtil.move(file,deployDir);
    }
 else {
      AntUtil.expandFile(file,deployDir);
    }
  }
  return deployDir;
}
