{
  List<String> tokens=new ArrayList<>();
  TokenStream tokenStream=null;
  try {
    String localizedFieldName=DocumentImpl.getLocalizedName(languageId,fieldName);
    Analyzer analyzer=getAnalyzer(localizedFieldName);
    tokenStream=analyzer.tokenStream(localizedFieldName,new StringReader(input));
    CharTermAttribute charTermAttribute=tokenStream.addAttribute(CharTermAttribute.class);
    tokenStream.reset();
    while (tokenStream.incrementToken()) {
      tokens.add(charTermAttribute.toString());
    }
    tokenStream.end();
  }
 catch (  IOException ioe) {
    throw new SearchException(ioe);
  }
 finally {
    if (tokenStream != null) {
      try {
        tokenStream.close();
      }
 catch (      IOException ioe) {
        if (_log.isWarnEnabled()) {
          _log.warn("Unable to close token stream",ioe);
        }
      }
    }
  }
  return tokens;
}
