{
  String url=StringPool.BLANK;
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  try {
    long roleId=_getRoleId(portletRequest);
    Role role=_roleService.fetchRole(roleId);
    int[] roleTypes={role.getType()};
    if (role.getType() != RoleConstants.TYPE_REGULAR) {
      roleTypes=new int[]{RoleConstants.TYPE_REGULAR,role.getType()};
    }
    url=PermissionsURLTag.doTag(StringPool.BLANK,Role.class.getName(),themeDisplay.getScopeGroupName(),null,String.valueOf(_getRoleId(portletRequest)),LiferayWindowState.POP_UP.toString(),roleTypes,themeDisplay.getRequest());
  }
 catch (  Exception e) {
  }
  return url;
}
