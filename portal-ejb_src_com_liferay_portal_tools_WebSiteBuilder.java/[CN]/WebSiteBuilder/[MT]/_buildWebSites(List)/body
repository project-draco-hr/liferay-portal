{
  Properties props=new Properties();
  props.load(new FileInputStream("../portal-ejb/classes/portal.properties"));
  String sessionTimeout=GetterUtil.getString(props.getProperty("session.timeout"),"30");
  Iterator itr=webSites.iterator();
  while (itr.hasNext()) {
    WebSite webSite=(WebSite)itr.next();
    String id=webSite.getId();
    String forwardURL=webSite.getForwardURL();
    String indexHTML="<html>\n" + "<head>\n" + "\t<title></title>\n"+ "\t<meta content=\"0; url=" + forwardURL + "\" http-equiv=\"refresh\">\n"+ "</head>\n"+ "\n"+ "<body onLoad=\"javascript:location.replace('"+ forwardURL+ "')\">\n"+ "\n"+ "</body>\n"+ "\n"+ "</html>";
    File indexHTMLFile=new File("../web-sites/" + id + "-web/docroot/index.html");
    FileUtil.write(indexHTMLFile,indexHTML);
    String orionWebXML="<?xml version=\"1.0\"?>\n" + "<!DOCTYPE orion-web-app PUBLIC " + "\"-//Evermind//DTD Orion Web Application 2.3//EN\" "+ "\"http://www.orionserver.com/dtds/orion-web.dtd\">\n"+ "\n"+ "<orion-web-app>\n"+ "\t<web-app-class-loader search-local-classes-first=\"true\" include-war-manifest-class-path=\"true\" />\n"+ "</orion-web-app>";
    File orionWebXMLFile=new File("../web-sites/" + id + "-web/docroot/WEB-INF/orion-web.xml");
    FileUtil.write(orionWebXMLFile,orionWebXML);
    String webXML=StringUtil.replace(FileUtil.read("../portal-ejb/src/com/liferay/portal/tools/tmpl/" + "web.xml.tmpl"),new String[]{"[$COMPANY_WEB_ID$]","[$SESSION_TIMEOUT$]"},new String[]{id,sessionTimeout});
    File webXMLFile=new File("../web-sites/" + id + "-web/docroot/WEB-INF/web.xml");
    FileUtil.write(webXMLFile,webXML);
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/lib/util-taglib.jar","../web-sites/" + id + "-web/docroot/WEB-INF/lib/util-taglib.jar");
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/tld/liferay-portlet.tld","../web-sites/" + id + "-web/docroot/WEB-INF/tld/liferay-portlet.tld");
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/tld/liferay-portletext.tld","../web-sites/" + id + "-web/docroot/WEB-INF/tld/liferay-portletext.tld");
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/tld/liferay-security.tld","../web-sites/" + id + "-web/docroot/WEB-INF/tld/liferay-security.tld");
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/tld/liferay-theme.tld","../web-sites/" + id + "-web/docroot/WEB-INF/tld/liferay-theme.tld");
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/tld/liferay-ui.tld","../web-sites/" + id + "-web/docroot/WEB-INF/tld/liferay-ui.tld");
    FileUtil.copyFile("../portal-web/docroot/WEB-INF/tld/liferay-util.tld","../web-sites/" + id + "-web/docroot/WEB-INF/tld/liferay-util.tld");
  }
}
