{
  try {
    try {
      ProcessContext.attach("Child Process",100,null);
      throw new ProcessException("Shutdown hook is null");
    }
 catch (    IllegalArgumentException iae) {
    }
    boolean result=ProcessContext.attach("Child Process",100,new TestShutdownHook());
    if (!result || !ProcessContext.isAttached()) {
      throw new ProcessException("Attach failed!");
    }
    Thread.sleep(1000);
    result=ProcessContext.attach("Child Process",100,new TestShutdownHook());
    if (result) {
      throw new ProcessException("Duplicate attach");
    }
    super.call();
  }
 catch (  Exception e) {
    throw new ProcessException(e);
  }
  return null;
}
