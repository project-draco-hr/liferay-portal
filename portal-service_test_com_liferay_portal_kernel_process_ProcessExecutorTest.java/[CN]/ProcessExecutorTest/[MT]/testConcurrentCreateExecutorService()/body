{
  _nullOutExecutorService();
  final AtomicReference<ExecutorService> executorServiceReference=new AtomicReference<ExecutorService>();
  Thread secondCreateThread=new Thread(){
    public void run(){
      try {
        ExecutorService executorService=_invokeGetExecutorService();
        executorServiceReference.set(executorService);
      }
 catch (      Exception e) {
        fail();
      }
    }
  }
;
  ExecutorService executorService=null;
synchronized (ProcessExecutor.class) {
    secondCreateThread.start();
    while (secondCreateThread.getState() != Thread.State.BLOCKED)     ;
    executorService=_invokeGetExecutorService();
  }
  secondCreateThread.join();
  assertSame(executorService,executorServiceReference.get());
}
