{
  ProcessExecutor processExecutor=new ProcessExecutor();
  processExecutor.destroy();
  assertNull(_getExecutorService());
  ExecutorService executorService=_invokeGetExecutorService();
  assertNotNull(executorService);
  assertNotNull(_getExecutorService());
  processExecutor.destroy();
  assertNull(_getExecutorService());
  executorService=_invokeGetExecutorService();
  assertNotNull(executorService);
  assertNotNull(_getExecutorService());
  DummyJob dummyJob=new DummyJob();
  Future<Void> futureResult=executorService.submit(dummyJob);
  dummyJob.waitUntilStarted();
  processExecutor.destroy();
  try {
    futureResult.get();
    fail();
  }
 catch (  ExecutionException ee) {
    Throwable throwable=ee.getCause();
    assertTrue(throwable instanceof InterruptedException);
  }
  assertNull(_getExecutorService());
  _invokeGetExecutorService();
  final ProcessExecutor processExecutorRef=processExecutor;
  Thread secondDestroyThread=new Thread(){
    public void run(){
      processExecutorRef.destroy();
    }
  }
;
synchronized (ProcessExecutor.class) {
    secondDestroyThread.start();
    while (secondDestroyThread.getState() != Thread.State.BLOCKED)     ;
    processExecutor.destroy();
  }
  secondDestroyThread.join();
  _invokeGetExecutorService();
  processExecutor.destroy();
  processExecutor.destroy();
  assertNull(_getExecutorService());
}
