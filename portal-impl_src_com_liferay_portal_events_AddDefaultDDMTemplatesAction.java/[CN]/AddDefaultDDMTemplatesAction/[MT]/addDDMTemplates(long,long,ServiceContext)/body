{
  List<PortletDisplayTemplateHandler> portletDisplayTemplateHandlers=PortletDisplayTemplateHandlerRegistryUtil.getPortletDisplayTemplateHandlers();
  for (  PortletDisplayTemplateHandler portletDisplayTemplateHandler : portletDisplayTemplateHandlers) {
    long classNameId=PortalUtil.getClassNameId(portletDisplayTemplateHandler.getClassName());
    List<Element> templateElements=portletDisplayTemplateHandler.getDefaultTemplateElements();
    for (    Element templateElement : templateElements) {
      String templateKey=templateElement.elementText("template-key");
      DDMTemplate ddmTemplate=DDMTemplateLocalServiceUtil.fetchTemplate(groupId,classNameId,templateKey);
      if (ddmTemplate != null) {
        continue;
      }
      String name=templateElement.elementText("name");
      String description=templateElement.elementText("description");
      String language=templateElement.elementText("language");
      String scriptFileName=templateElement.elementText("script-file");
      boolean cacheable=GetterUtil.getBoolean(templateElement.elementText("cacheable"));
      addDDMTemplate(userId,groupId,classNameId,templateKey,name,description,language,scriptFileName,cacheable,serviceContext);
    }
  }
}
