{
  List<TemplateHandler> templateHandlers=TemplateHandlerRegistryUtil.getTemplateHandlers();
  for (  TemplateHandler templateHandler : templateHandlers) {
    long classNameId=PortalUtil.getClassNameId(templateHandler.getClassName());
    List<Element> templateElements=templateHandler.getDefaultTemplateElements();
    for (    Element templateElement : templateElements) {
      String templateKey=templateElement.elementText("template-key");
      DDMTemplate ddmTemplate=DDMTemplateLocalServiceUtil.fetchTemplate(groupId,classNameId,templateKey);
      if (ddmTemplate != null) {
        continue;
      }
      Map<Locale,String> nameMap=getLocalizationMap(groupId,templateElement.elementText("name"));
      Map<Locale,String> descriptionMap=getLocalizationMap(groupId,templateElement.elementText("description"));
      String language=templateElement.elementText("language");
      String scriptFileName=templateElement.elementText("script-file");
      Class<?> clazz=templateHandler.getClass();
      ClassLoader classLoader=clazz.getClassLoader();
      String script=ContentUtil.get(classLoader,scriptFileName);
      boolean cacheable=GetterUtil.getBoolean(templateElement.elementText("cacheable"));
      DDMTemplateLocalServiceUtil.addTemplate(userId,groupId,classNameId,0,templateKey,nameMap,descriptionMap,DDMTemplateConstants.TEMPLATE_TYPE_DISPLAY,null,language,script,cacheable,false,null,null,serviceContext);
    }
  }
}
