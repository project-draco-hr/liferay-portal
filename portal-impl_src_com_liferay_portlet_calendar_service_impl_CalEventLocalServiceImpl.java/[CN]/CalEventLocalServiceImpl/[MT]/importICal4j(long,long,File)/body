{
  FileReader fileReader=null;
  try {
    fileReader=new FileReader(file);
    CalendarBuilder builder=new CalendarBuilder();
    net.fortuna.ical4j.model.Calendar calendar=builder.build(fileReader);
    Iterator<VEvent> itr=calendar.getComponents(Component.VEVENT).iterator();
    while (itr.hasNext()) {
      VEvent vEvent=itr.next();
      importICal4j(userId,groupId,vEvent);
    }
  }
 catch (  IOException ioe) {
    throw new SystemException(ioe.getMessage());
  }
catch (  ParserException pe) {
    throw new SystemException(pe.getMessage());
  }
 finally {
    try {
      if (fileReader != null) {
        fileReader.close();
      }
    }
 catch (    IOException ioe) {
      _log.error(ioe);
    }
  }
}
