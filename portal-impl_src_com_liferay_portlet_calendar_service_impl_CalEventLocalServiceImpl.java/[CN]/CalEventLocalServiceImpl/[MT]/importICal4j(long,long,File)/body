{
  try {
    CalendarBuilder builder=new CalendarBuilder();
    net.fortuna.ical4j.model.Calendar calendar=builder.build(new FileReader(file));
    TimeZone timeZone=toTimeZone(userId,(VTimeZone)calendar.getComponent(Component.VTIMEZONE));
    Iterator itr=calendar.getComponents(Component.VEVENT).iterator();
    while (itr.hasNext()) {
      VEvent vEvent=(VEvent)itr.next();
      importICal4j(userId,plid,vEvent,timeZone);
    }
  }
 catch (  IOException ioe) {
    throw new SystemException(ioe.getMessage());
  }
catch (  ParserException pe) {
    throw new SystemException(pe.getMessage());
  }
}
