{
  Iterator itr=CalEventFinder.findByRemindBy().iterator();
  while (itr.hasNext()) {
    CalEvent event=(CalEvent)itr.next();
    User user=UserUtil.findByPrimaryKey(event.getUserId());
    Calendar now=CalendarFactoryUtil.getCalendar(user.getTimeZone(),user.getLocale());
    if (!event.isTimeZoneSensitive()) {
      Calendar temp=CalendarFactoryUtil.getCalendar();
      temp.setTime(Time.getDate(now));
      now=temp;
    }
    Calendar startDate=null;
    if (event.isTimeZoneSensitive()) {
      startDate=CalendarFactoryUtil.getCalendar(user.getTimeZone(),user.getLocale());
    }
 else {
      startDate=CalendarFactoryUtil.getCalendar();
    }
    startDate.setTime(event.getStartDate());
    long diff=(startDate.getTime().getTime() - now.getTime().getTime()) / Time.MINUTE;
    if ((diff == (event.getFirstReminder() / Time.MINUTE)) || (diff == (event.getSecondReminder() / Time.MINUTE))) {
      remindUser(event,user);
    }
  }
}
