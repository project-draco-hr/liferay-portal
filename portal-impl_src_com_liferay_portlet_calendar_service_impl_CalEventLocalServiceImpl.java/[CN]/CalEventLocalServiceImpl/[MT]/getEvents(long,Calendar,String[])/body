{
  if (types != null) {
    types=ArrayUtil.distinct(types);
    Arrays.sort(types);
  }
  List<CalEvent> events=new ArrayList<CalEvent>();
  List<CalEvent> events1=calEventFinder.filterFindByG_SD_T(groupId,CalendarUtil.getGTDate(cal),CalendarUtil.getLTDate(cal),true,types);
  Calendar tzICal=CalendarFactoryUtil.getCalendar(TimeZoneUtil.getDefault());
  tzICal.set(cal.get(Calendar.YEAR),cal.get(Calendar.MONTH),cal.get(Calendar.DATE));
  List<CalEvent> events2=calEventFinder.filterFindByG_SD_T(groupId,CalendarUtil.getGTDate(tzICal),CalendarUtil.getLTDate(tzICal),false,types);
  events=new ArrayList<CalEvent>();
  events.addAll(events1);
  events.addAll(events2);
  events.addAll(getRepeatingEvents(groupId,cal,types));
  events=new UnmodifiableList<CalEvent>(events);
  return events;
}
