{
  Map eventsPool=CalEventLocalUtil.getEventsPool(groupId);
  String key=CalUtil.toString(cal);
  List events=(List)eventsPool.get(key);
  if (events == null) {
    Collection eventsCol1=CalEventFinder.findByG_SD(groupId,CalendarUtil.getGTDate(cal),CalendarUtil.getLTDate(cal),true);
    Calendar tzICal=CalendarFactoryUtil.getCalendar(cal.get(Calendar.YEAR),cal.get(Calendar.MONTH),cal.get(Calendar.DATE));
    Collection eventsCol2=CalEventFinder.findByG_SD(groupId,CalendarUtil.getGTDate(tzICal),CalendarUtil.getLTDate(tzICal),false);
    events=new ArrayList();
    events.addAll(eventsCol1);
    events.addAll(eventsCol2);
    Iterator itr=getRepeatingEvents(groupId).iterator();
    while (itr.hasNext()) {
      CalEvent event=(CalEvent)itr.next();
      Recurrence recurrence=event.getRecurrenceObj();
      if (recurrence.isInRecurrence(getRecurrenceCal(cal,tzICal,event))) {
        events.add(event);
      }
    }
    eventsPool.put(key,events);
  }
  return events;
}
