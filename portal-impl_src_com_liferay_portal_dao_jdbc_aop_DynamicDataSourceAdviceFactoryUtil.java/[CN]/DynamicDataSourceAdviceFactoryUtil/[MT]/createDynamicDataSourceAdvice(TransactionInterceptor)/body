{
  DynamicDataSourceTargetSource dynamicDataSourceTargetSource=(DynamicDataSourceTargetSource)InfrastructureUtil.getDynamicDataSourceTargetSource();
  if (dynamicDataSourceTargetSource == null) {
    return transactionInterceptor;
  }
  DynamicDataSourceAdvice dynamicDataSourceAdvice=new DynamicDataSourceAdvice();
  dynamicDataSourceAdvice.setDynamicDataSourceTargetSource(dynamicDataSourceTargetSource);
  dynamicDataSourceAdvice.setNextMethodInterceptor(transactionInterceptor);
  dynamicDataSourceAdvice.setTransactionAttributeSource(transactionInterceptor.getTransactionAttributeSource());
  return dynamicDataSourceAdvice;
}
