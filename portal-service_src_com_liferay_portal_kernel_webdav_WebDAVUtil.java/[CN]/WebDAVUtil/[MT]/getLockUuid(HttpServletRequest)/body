{
  String token=StringPool.BLANK;
  String value=GetterUtil.getString(request.getHeader("If"));
  if (_log.isDebugEnabled()) {
    _log.debug("\"If\" header is " + value);
  }
  if (value.contains("(<DAV:no-lock>)")) {
    if (_log.isWarnEnabled()) {
      _log.warn("Lock tokens can never be <DAV:no-lock>");
    }
    throw new WebDAVException();
  }
  int beg=value.indexOf(TOKEN_PREFIX);
  if (beg >= 0) {
    beg+=TOKEN_PREFIX.length();
    if (beg < value.length()) {
      int end=value.indexOf(CharPool.GREATER_THAN,beg);
      token=GetterUtil.getString(value.substring(beg,end));
    }
  }
  return token;
}
