{
  long companyId=getCompanyId(_layout.getGroupId());
  Settings portalPropertiesSettings=_settingsLocatorHelper.getPortalPropertiesSettings();
  Settings configurationBeanSettings=_settingsLocatorHelper.getConfigurationBeanSettings(_settingsId,portalPropertiesSettings);
  Settings portalPreferencesSettings=_settingsLocatorHelper.getPortalPreferencesSettings(companyId,configurationBeanSettings);
  Settings companyPortletPreferencesSettings=_settingsLocatorHelper.getCompanyPortletPreferencesSettings(companyId,_settingsId,portalPreferencesSettings);
  Settings groupPortletPreferencesSettings=_settingsLocatorHelper.getGroupPortletPreferencesSettings(_layout.getGroupId(),_settingsId,companyPortletPreferencesSettings);
  return _settingsLocatorHelper.getPortletInstancePortletPreferencesSettings(_layout.getCompanyId(),getPlid(),_settingsId,groupPortletPreferencesSettings);
}
