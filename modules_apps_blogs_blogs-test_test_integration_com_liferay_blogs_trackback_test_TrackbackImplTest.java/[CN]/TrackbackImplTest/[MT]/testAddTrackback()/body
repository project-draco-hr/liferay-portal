{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext();
  BlogsEntry blogsEntry=BlogsEntryLocalServiceUtil.addEntry(TestPropsValues.getUserId(),StringUtil.randomString(),StringUtil.randomString(),new Date(),serviceContext);
  IdentityServiceContextFunction serviceContextFunction=new IdentityServiceContextFunction(serviceContext);
  CommentManagerUtil.addComment(TestPropsValues.getUserId(),TestPropsValues.getGroupId(),BlogsEntry.class.getName(),blogsEntry.getEntryId(),StringUtil.randomString(),serviceContextFunction);
  int initialCommentsCount=CommentManagerUtil.getCommentsCount(BlogsEntry.class.getName(),blogsEntry.getEntryId());
  Trackback trackback=new TrackbackImpl();
  ThemeDisplay themeDisplay=new ThemeDisplay();
  Company company=CompanyLocalServiceUtil.getCompany(TestPropsValues.getCompanyId());
  themeDisplay.setCompany(company);
  String excerpt=StringUtil.randomString();
  String url=StringUtil.randomString();
  String blogName=StringUtil.randomString();
  String title=StringUtil.randomString();
  trackback.addTrackback(blogsEntry,themeDisplay,excerpt,url,blogName,title,serviceContextFunction);
  Assert.assertEquals(initialCommentsCount + 1,CommentManagerUtil.getCommentsCount(BlogsEntry.class.getName(),blogsEntry.getEntryId()));
}
