{
  if (_log.isDebugEnabled()) {
    _log.debug("Transform CSS to JSON " + css);
  }
  JSONObject cssJSONObject=null;
  if (Validator.isNotNull(css)) {
    cssJSONObject=JSONFactoryUtil.createJSONObject(css);
    cssJSONObject.put("cssValue",true);
  }
 else {
    cssJSONObject=JSONFactoryUtil.createJSONObject();
  }
  JSONObject portletDataJSONObject=JSONFactoryUtil.createJSONObject();
  cssJSONObject.put("portletData",portletDataJSONObject);
  JSONObject titlesJSONObject=JSONFactoryUtil.createJSONObject();
  portletDataJSONObject.put("titles",titlesJSONObject);
  Locale[] locales=LanguageUtil.getAvailableLocales();
  for (int i=0; i < locales.length; i++) {
    String languageId=LocaleUtil.toLanguageId(locales[i]);
    String title=portletSetup.getValue("portletSetupTitle_" + languageId,null);
    if (Validator.isNotNull(languageId)) {
      titlesJSONObject.put(languageId,title);
    }
  }
  boolean useCustomTitle=GetterUtil.getBoolean(portletSetup.getValue("portletSetupUseCustomTitle",null));
  boolean showBorders=GetterUtil.getBoolean(portletSetup.getValue("portletSetupShowBorders",null),true);
  String linkToLayoutUuid=GetterUtil.getString(portletSetup.getValue("portletSetupLinkToLayoutUuid",null));
  portletDataJSONObject.put("useCustomTitle",useCustomTitle);
  portletDataJSONObject.put("showBorders",showBorders);
  portletDataJSONObject.put("portletLinksTarget",linkToLayoutUuid);
  return cssJSONObject;
}
