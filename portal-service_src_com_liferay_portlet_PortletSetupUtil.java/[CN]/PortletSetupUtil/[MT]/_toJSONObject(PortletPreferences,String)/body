{
  if (_log.isDebugEnabled()) {
    _log.debug("Transform CSS to JSON " + css);
  }
  JSONObject jsonObj=null;
  if (Validator.isNotNull(css)) {
    jsonObj=JSONFactoryUtil.createJSONObject(css);
    jsonObj.put("cssValue",true);
  }
 else {
    jsonObj=JSONFactoryUtil.createJSONObject();
  }
  JSONObject portletData=JSONFactoryUtil.createJSONObject();
  jsonObj.put("portletData",portletData);
  JSONObject titles=JSONFactoryUtil.createJSONObject();
  portletData.put("titles",titles);
  Locale[] locales=LanguageUtil.getAvailableLocales();
  for (int i=0; i < locales.length; i++) {
    String languageId=LocaleUtil.toLanguageId(locales[i]);
    String title=portletSetup.getValue("portletSetupTitle_" + languageId,null);
    if (Validator.isNotNull(languageId)) {
      titles.put(languageId,title);
    }
  }
  boolean useCustomTitle=GetterUtil.getBoolean(portletSetup.getValue("portletSetupUseCustomTitle",null));
  boolean showBorders=GetterUtil.getBoolean(portletSetup.getValue("portletSetupShowBorders",null),true);
  String linkToLayoutUuid=GetterUtil.getString(portletSetup.getValue("portletSetupLinkToLayoutUuid",null));
  portletData.put("useCustomTitle",useCustomTitle);
  portletData.put("showBorders",showBorders);
  portletData.put("portletLinksTarget",linkToLayoutUuid);
  return jsonObj;
}
