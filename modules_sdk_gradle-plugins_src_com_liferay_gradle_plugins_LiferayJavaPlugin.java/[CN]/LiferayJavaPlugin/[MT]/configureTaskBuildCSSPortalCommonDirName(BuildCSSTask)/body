{
  Project project=buildCSSTask.getProject();
  String portalCommonDirName=buildCSSTask.getPortalCommonDirName();
  if (Validator.isNotNull(portalCommonDirName) && FileUtil.exists(project,portalCommonDirName)) {
    return;
  }
  Task expandPortalWebTask=GradleUtil.getTask(project,EXPAND_PORTAL_WEB_TASK_NAME);
  FileCollection cssFiles=buildCSSTask.getCSSFiles();
  if (!cssFiles.isEmpty()) {
    buildCSSTask.dependsOn(expandPortalWebTask);
  }
  TaskOutputs taskOutputs=expandPortalWebTask.getOutputs();
  FileCollection fileCollection=taskOutputs.getFiles();
  File portalCommonDir=new File(fileCollection.getSingleFile(),"html/css/common");
  buildCSSTask.setPortalCommonDirName(project.relativePath(portalCommonDir));
}
