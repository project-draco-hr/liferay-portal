{
  Project project=cleanTask.getProject();
  for (  Task task : project.getTasks()) {
    String taskName=task.getName();
    if (taskName.equals(DEPLOY_TASK_NAME)) {
      continue;
    }
    TaskOutputs taskOutputs=task.getOutputs();
    if (taskOutputs.getHasOutput()) {
      taskName=BasePlugin.CLEAN_TASK_NAME + StringUtil.capitalize(taskName);
      cleanTask.dependsOn(taskName);
    }
  }
  Configuration compileConfiguration=GradleUtil.getConfiguration(project,JavaPlugin.COMPILE_CONFIGURATION_NAME);
  cleanTask.dependsOn(compileConfiguration.getTaskDependencyFromProjectDependency(true,BasePlugin.CLEAN_TASK_NAME));
}
