{
  InitGradleTask initGradleTask=GradleUtil.addTask(project,INIT_GRADLE_TASK_NAME,InitGradleTask.class);
  initGradleTask.setDescription("Initializes build.gradle by migrating information from legacy " + "files.");
  initGradleTask.onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      Project project=task.getProject();
      File buildGradleFile=project.file("build.gradle");
      if (!buildGradleFile.exists() || (buildGradleFile.length() == 0)) {
        return true;
      }
      long buildGradleFileLastModified=buildGradleFile.lastModified();
      for (      String sourceFileName : InitGradleTask.SOURCE_FILE_NAMES) {
        File sourceFile=project.file(sourceFileName);
        if (sourceFile.exists() && (buildGradleFileLastModified < sourceFile.lastModified())) {
          return true;
        }
      }
      return false;
    }
  }
);
  return initGradleTask;
}
