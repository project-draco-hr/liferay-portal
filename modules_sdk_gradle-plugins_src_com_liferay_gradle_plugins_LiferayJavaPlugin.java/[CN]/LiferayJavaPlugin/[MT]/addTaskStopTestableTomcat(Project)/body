{
  StopAppServerTask stopTestableTomcatTask=GradleUtil.addTask(project,STOP_TESTABLE_TOMCAT_TASK_NAME,StopAppServerTask.class);
  stopTestableTomcatTask.setAppServerType("tomcat");
  stopTestableTomcatTask.doLast(new Action<Task>(){
    @Override public void execute(    Task task){
      Project project=task.getProject();
      File testablePortalStartedFile=new File(project.getRootDir(),_TESTABLE_PORTAL_STARTED_FILE_NAME);
      project.delete(testablePortalStartedFile);
    }
  }
);
  stopTestableTomcatTask.onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      Project project=task.getProject();
      File testablePortalStartedFile=new File(project.getRootDir(),_TESTABLE_PORTAL_STARTED_FILE_NAME);
      if (testablePortalStartedFile.exists()) {
        return true;
      }
      return false;
    }
  }
);
  return stopTestableTomcatTask;
}
