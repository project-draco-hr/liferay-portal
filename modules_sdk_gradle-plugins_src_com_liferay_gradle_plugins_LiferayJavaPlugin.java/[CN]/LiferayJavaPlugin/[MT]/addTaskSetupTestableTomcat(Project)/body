{
  SetupTestableTomcatTask setupTestableTomcatTask=GradleUtil.addTask(project,SETUP_TESTABLE_TOMCAT_TASK_NAME,SetupTestableTomcatTask.class);
  setupTestableTomcatTask.onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      StartAppServerTask startTestableTomcatTask=(StartAppServerTask)GradleUtil.getTask(task.getProject(),START_TESTABLE_TOMCAT_TASK_NAME);
      if (startTestableTomcatTask.isPortalStarted()) {
        return false;
      }
      return true;
    }
  }
);
  return setupTestableTomcatTask;
}
