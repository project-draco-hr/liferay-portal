{
  Hits hits=null;
  Query queryModel=searchRequest.getQueryModel();
  if (queryModel != null) {
    hits=LuceneSearchEngineUtil.search(searchRequest.getCompanyId(),queryModel,searchRequest.getSort(),searchRequest.getStart(),searchRequest.getEnd());
  }
 else {
    hits=LuceneSearchEngineUtil.search(searchRequest.getCompanyId(),searchRequest.getQuery(),searchRequest.getSort(),searchRequest.getStart(),searchRequest.getEnd());
  }
  message.setResponseValue(hits);
  MessageBusUtil.sendMessage(message.getResponseDestination(),message);
}
