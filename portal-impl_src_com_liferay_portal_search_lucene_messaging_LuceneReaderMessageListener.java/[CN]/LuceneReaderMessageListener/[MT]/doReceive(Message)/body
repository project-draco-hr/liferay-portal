{
  Object payload=message.getPayload();
  if (!LuceneSearchEngineUtil.isRegistered() || !(payload instanceof SearchRequest)) {
    return;
  }
  SearchRequest searchRequest=(SearchRequest)payload;
  String command=searchRequest.getCommand();
  if (command.equals(SearchRequest.COMMAND_INDEX_ONLY)) {
    doCommandIndexOnly(message);
  }
 else   if (command.equals(SearchRequest.COMMAND_SEARCH)) {
    doCommandSearch(message,searchRequest);
  }
}
