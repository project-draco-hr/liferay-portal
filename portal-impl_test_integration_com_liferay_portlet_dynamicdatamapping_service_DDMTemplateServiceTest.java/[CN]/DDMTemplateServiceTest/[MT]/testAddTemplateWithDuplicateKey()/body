{
  String templateKey=ServiceTestUtil.randomString();
  String language=DDMTemplateConstants.LANG_TYPE_VM;
  try {
    addTemplate(_classNameId,0,templateKey,"Test Template 1",DDMTemplateConstants.TEMPLATE_TYPE_DETAIL,DDMTemplateConstants.TEMPLATE_MODE_CREATE,language,getTestTemplateScript(language));
    addTemplate(_classNameId,0,templateKey,"Test Template 2",DDMTemplateConstants.TEMPLATE_TYPE_DETAIL,DDMTemplateConstants.TEMPLATE_MODE_CREATE,language,getTestTemplateScript(language));
    Assert.fail();
  }
 catch (  TemplateDuplicateTemplateKeyException tdtke) {
  }
}
