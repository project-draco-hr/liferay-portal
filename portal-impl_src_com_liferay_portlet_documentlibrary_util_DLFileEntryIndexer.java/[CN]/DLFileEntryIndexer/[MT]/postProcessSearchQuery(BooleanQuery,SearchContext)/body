{
  long searchRepositoryId=GetterUtil.getLong(searchContext.getAttribute("searchRepositoryId"));
  if (searchRepositoryId != 0) {
    searchQuery.addRequiredTerm("repositoryId",searchRepositoryId);
  }
  String keywords=searchContext.getKeywords();
  if (Validator.isNull(keywords)) {
    addSearchTerm(searchQuery,searchContext,Field.DESCRIPTION,false);
    addSearchTerm(searchQuery,searchContext,Field.TITLE,false);
    addSearchTerm(searchQuery,searchContext,Field.USER_NAME,false);
  }
  addSearchTerm(searchQuery,searchContext,"ddmContent",false);
  addSearchTerm(searchQuery,searchContext,"extension",false);
  addSearchTerm(searchQuery,searchContext,"fileEntryTypeId",false);
  addSearchTerm(searchQuery,searchContext,"path",false);
  LinkedHashMap<String,Object> params=(LinkedHashMap<String,Object>)searchContext.getAttribute("params");
  if (params != null) {
    String expandoAttributes=(String)params.get("expandoAttributes");
    if (Validator.isNotNull(expandoAttributes)) {
      addSearchExpando(searchQuery,searchContext,expandoAttributes);
    }
  }
}
