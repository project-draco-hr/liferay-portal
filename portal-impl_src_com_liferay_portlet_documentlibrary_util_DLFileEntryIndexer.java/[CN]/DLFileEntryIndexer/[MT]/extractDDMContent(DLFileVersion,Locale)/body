{
  DLFileEntryType dlFileEntryType=DLFileEntryTypeLocalServiceUtil.getDLFileEntryType(dlFileVersion.getFileEntryTypeId());
  List<DDMStructure> ddmStructures=dlFileEntryType.getDDMStructures();
  StringBundler sb=new StringBundler(ddmStructures.size());
  for (  DDMStructure ddmStructure : ddmStructures) {
    DLFileEntryMetadata fileEntryMetadata=DLFileEntryMetadataLocalServiceUtil.fetchFileEntryMetadata(ddmStructure.getStructureId(),dlFileVersion.getFileVersionId());
    if (fileEntryMetadata == null) {
      continue;
    }
    Fields fields=null;
    try {
      fields=StorageEngineUtil.getFields(fileEntryMetadata.getDDMStorageId());
    }
 catch (    Exception e) {
      continue;
    }
    if (fields != null) {
      sb.append(DDMIndexerUtil.extractAttributes(ddmStructure,fields,locale));
    }
  }
  return sb.toString();
}
