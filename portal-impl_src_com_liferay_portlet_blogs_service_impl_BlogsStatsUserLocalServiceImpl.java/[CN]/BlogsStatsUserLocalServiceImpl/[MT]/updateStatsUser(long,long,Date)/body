{
  int entryCount=blogsEntryPersistence.countByG_U(groupId,userId);
  BlogsStatsUser statsUser=getStatsUser(groupId,userId);
  statsUser.setEntryCount(entryCount);
  if (Validator.isNotNull(displayDate)) {
    BlogsEntry blogsEntry=blogsEntryPersistence.findByG_U_First(groupId,userId,new EntryDisplayDateComparator());
    Date lastDisplayDate=blogsEntry.getDisplayDate();
    Date lastPostDate=statsUser.getLastPostDate();
    if (Validator.isNull(lastPostDate)) {
      statsUser.setLastPostDate(displayDate);
    }
 else     if (displayDate.after(lastPostDate)) {
      statsUser.setLastPostDate(displayDate);
    }
 else     if (lastDisplayDate.before(lastPostDate)) {
      statsUser.setLastPostDate(lastDisplayDate);
    }
  }
  blogsStatsUserPersistence.update(statsUser,false);
}
