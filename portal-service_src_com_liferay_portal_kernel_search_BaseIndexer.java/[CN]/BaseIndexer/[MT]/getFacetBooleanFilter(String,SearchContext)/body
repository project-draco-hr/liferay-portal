{
  BooleanFilter facetBooleanFilter=new BooleanFilter();
  facetBooleanFilter.addTerm(Field.ENTRY_CLASS_NAME,className);
  if (searchContext.getUserId() > 0) {
    SearchPermissionChecker searchPermissionChecker=SearchEngineHelperUtil.getSearchPermissionChecker();
    List<Long> groupIds=new ArrayList<>();
    long groupId=GetterUtil.getLong(searchContext.getAttribute("groupId"));
    if (groupId > 0) {
      groupIds.add(groupId);
    }
 else {
      groupIds=ListUtil.toList(searchContext.getGroupIds());
    }
    facetBooleanFilter=searchPermissionChecker.getPermissionBooleanFilter(searchContext.getCompanyId(),groupIds,searchContext.getUserId(),className,facetBooleanFilter,searchContext);
  }
  return facetBooleanFilter;
}
