{
  try {
    if (SearchEngineUtil.isIndexReadOnly() || !isIndexerEnabled() || collection.isEmpty()) {
      return;
    }
    List<Document> documents=new ArrayList<>();
    for (    T element : collection) {
      Document document=getDocument(element);
      documents.add(document);
    }
    Document document=documents.get(0);
    long companyId=Long.parseLong(document.get(Field.COMPANY_ID));
    SearchEngineUtil.updateDocuments(getSearchEngineId(),companyId,documents,isCommitImmediately());
  }
 catch (  SearchException se) {
    throw se;
  }
catch (  Exception e) {
    throw new SearchException(e);
  }
}
