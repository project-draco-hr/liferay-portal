{
  List<String> cities=new ArrayList<String>();
  List<String> countries=new ArrayList<String>();
  if (countryId > 0) {
    try {
      Country country=CountryServiceUtil.getCountry(countryId);
      countries.addAll(getLocalizedCountryNames(country));
    }
 catch (    NoSuchCountryException nsce) {
      if (_log.isWarnEnabled()) {
        _log.warn(nsce.getMessage());
      }
    }
  }
  List<String> regions=new ArrayList<String>();
  if (regionId > 0) {
    try {
      Region region=RegionServiceUtil.getRegion(regionId);
      regions.add(StringUtil.toLowerCase(region.getName()));
    }
 catch (    NoSuchRegionException nsre) {
      if (_log.isWarnEnabled()) {
        _log.warn(nsre.getMessage());
      }
    }
  }
  List<String> streets=new ArrayList<String>();
  List<String> zips=new ArrayList<String>();
  for (  Address address : addresses) {
    cities.add(StringUtil.toLowerCase(address.getCity()));
    countries.addAll(getLocalizedCountryNames(address.getCountry()));
    regions.add(StringUtil.toLowerCase(address.getRegion().getName()));
    streets.add(StringUtil.toLowerCase(address.getStreet1()));
    streets.add(StringUtil.toLowerCase(address.getStreet2()));
    streets.add(StringUtil.toLowerCase(address.getStreet3()));
    zips.add(StringUtil.toLowerCase(address.getZip()));
  }
  document.addText("city",cities.toArray(new String[cities.size()]));
  document.addText("country",countries.toArray(new String[countries.size()]));
  document.addText("region",regions.toArray(new String[regions.size()]));
  document.addText("street",streets.toArray(new String[streets.size()]));
  document.addText("zip",zips.toArray(new String[zips.size()]));
}
