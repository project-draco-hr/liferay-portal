{
  long[] categoryIds=searchContext.getCategoryIds();
  if ((categoryIds == null) || (categoryIds.length == 0)) {
    return;
  }
  BooleanQuery categoryIdsQuery=BooleanQueryFactoryUtil.create();
  for (  long categoryId : categoryIds) {
    if (searchContext.getUserId() > 0) {
      try {
        checkSearchCategoryId(categoryId,searchContext);
      }
 catch (      Exception e) {
        continue;
      }
    }
    TermQuery termQuery=TermQueryFactoryUtil.create(Field.CATEGORY_ID,categoryId);
    categoryIdsQuery.add(termQuery,BooleanClauseOccur.SHOULD);
  }
  if (!categoryIdsQuery.clauses().isEmpty()) {
    contextQuery.add(categoryIdsQuery,BooleanClauseOccur.MUST);
  }
}
