{
  Set<String> selectedFieldNames=null;
  if (!ArrayUtil.isEmpty(getDefaultSelectedFieldNames())) {
    selectedFieldNames=SetUtil.fromArray(getDefaultSelectedFieldNames());
  }
  if (!ArrayUtil.isEmpty(getDefaultSelectedLocalizedFieldNames())) {
    if (selectedFieldNames == null) {
      selectedFieldNames=new HashSet<String>();
    }
    if (isSelectAllLocales()) {
      addSelectedLocalizedFieldNames(selectedFieldNames,LocaleUtil.toLanguageIds(LanguageUtil.getSupportedLocales()));
    }
 else {
      addSelectedLocalizedFieldNames(selectedFieldNames,LocaleUtil.toLanguageId(queryConfig.getLocale()));
    }
  }
  if ((selectedFieldNames != null) && !selectedFieldNames.isEmpty()) {
    queryConfig.setSelectedFieldNames(selectedFieldNames.toArray(new String[selectedFieldNames.size()]));
  }
}
