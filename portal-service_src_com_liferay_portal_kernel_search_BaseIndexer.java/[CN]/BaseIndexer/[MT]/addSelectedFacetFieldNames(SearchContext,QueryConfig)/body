{
  String[] selectedFieldNames=queryConfig.getSelectedFieldNames();
  if (ArrayUtil.isEmpty(selectedFieldNames) || (selectedFieldNames.length == 1) && selectedFieldNames[0].equals(Field.ALL_FIELDS_ID)) {
    return;
  }
  Set<String> selectedFieldNameSet=SetUtil.fromArray(selectedFieldNames);
  Set<String> facetNames=searchContext.getFacets().keySet();
  selectedFieldNameSet.addAll(facetNames);
  selectedFieldNames=selectedFieldNameSet.toArray(new String[selectedFieldNameSet.size()]);
  queryConfig.setSelectedFieldNames(selectedFieldNames);
}
