{
  try {
    searchContext.setSearchEngineId(getSearchEngineId());
    resetFullQuery(searchContext);
    String[] fullQueryEntryClassNames=searchContext.getFullQueryEntryClassNames();
    if (ArrayUtil.isNotEmpty(fullQueryEntryClassNames)) {
      searchContext.setAttribute("relatedEntryClassNames",getSearchClassNames());
    }
    String[] entryClassNames=ArrayUtil.append(getSearchClassNames(),fullQueryEntryClassNames);
    searchContext.setEntryClassNames(entryClassNames);
    BooleanFilter fullQueryFilter=new BooleanFilter();
    addSearchAssetCategoryIds(fullQueryFilter,searchContext);
    addSearchAssetTagNames(fullQueryFilter,searchContext);
    addSearchEntryClassNames(fullQueryFilter,searchContext);
    addSearchFolderId(fullQueryFilter,searchContext);
    addSearchGroupId(fullQueryFilter,searchContext);
    addSearchLayout(fullQueryFilter,searchContext);
    addSearchUserId(fullQueryFilter,searchContext);
    BooleanQuery fullQuery=createFullQuery(fullQueryFilter,searchContext);
    fullQuery.setQueryConfig(searchContext.getQueryConfig());
    return fullQuery;
  }
 catch (  SearchException se) {
    throw se;
  }
catch (  Exception e) {
    throw new SearchException(e);
  }
}
