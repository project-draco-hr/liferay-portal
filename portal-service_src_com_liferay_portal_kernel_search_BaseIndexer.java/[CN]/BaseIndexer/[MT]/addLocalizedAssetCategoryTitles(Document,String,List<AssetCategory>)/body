{
  Map<Locale,List<String>> assetCategoryTitles=new HashMap<Locale,List<String>>();
  Locale defaultLocale=LocaleUtil.getDefault();
  for (  AssetCategory assetCategory : assetCategories) {
    for (    Map.Entry<Locale,String> titleEntry : assetCategory.getTitleMap().entrySet()) {
      Locale locale=titleEntry.getKey();
      String title=titleEntry.getValue();
      if (Validator.isNull(title)) {
        continue;
      }
      List<String> titleList=assetCategoryTitles.get(locale);
      if (titleList == null) {
        titleList=new ArrayList<String>();
        assetCategoryTitles.put(locale,titleList);
      }
      titleList.add(title);
    }
  }
  for (  Map.Entry<Locale,List<String>> entry : assetCategoryTitles.entrySet()) {
    Locale locale=entry.getKey();
    List<String> titles=entry.getValue();
    String[] titlesArray=titles.toArray(new String[0]);
    if (locale.equals(defaultLocale)) {
      document.addKeyword(field,titlesArray);
    }
    document.addKeyword(field.concat(StringPool.UNDERLINE).concat(locale.toString()),titlesArray);
  }
}
