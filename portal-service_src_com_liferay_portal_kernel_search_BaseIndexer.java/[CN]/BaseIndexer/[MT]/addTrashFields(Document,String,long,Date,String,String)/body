{
  TrashEntry trashEntry=TrashEntryLocalServiceUtil.fetchEntry(className,classPK);
  if (removedDate == null) {
    if (trashEntry != null) {
      removedDate=trashEntry.getCreateDate();
    }
 else {
      removedDate=new Date();
    }
  }
  document.addDate(Field.REMOVED_DATE,removedDate);
  if (removedByUserName == null) {
    if (trashEntry != null) {
      removedByUserName=trashEntry.getUserName();
    }
 else {
      ServiceContext serviceContext=ServiceContextThreadLocal.getServiceContext();
      if (serviceContext != null) {
        try {
          User user=UserLocalServiceUtil.getUser(serviceContext.getUserId());
          removedByUserName=user.getFullName();
        }
 catch (        PortalException pe) {
        }
      }
    }
  }
  if (Validator.isNotNull(removedByUserName)) {
    document.addKeyword(Field.REMOVED_BY_USER_NAME,removedByUserName,true);
  }
  if (type == null) {
    if (trashEntry != null) {
      TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(trashEntry.getClassName());
      try {
        TrashRenderer trashRenderer=trashHandler.getTrashRenderer(trashEntry.getClassPK());
        type=trashRenderer.getType();
      }
 catch (      PortalException pe) {
      }
    }
  }
  if (Validator.isNotNull(type)) {
    document.addKeyword(Field.TYPE,type,true);
  }
}
