{
  ServletContext ctx=event.getServletContext();
  String servletContextName=ctx.getServletContextName();
  if (_log.isDebugEnabled()) {
    _log.debug("Invoking undeploy for " + servletContextName);
  }
  List<ObjectValuePair<String,Boolean>> layoutTemplateIds=_vars.get(servletContextName);
  if (layoutTemplateIds == null) {
    return;
  }
  if (_log.isInfoEnabled()) {
    _log.info("Unregistering layout templates for " + servletContextName);
  }
  Iterator<ObjectValuePair<String,Boolean>> itr=layoutTemplateIds.iterator();
  while (itr.hasNext()) {
    ObjectValuePair<String,Boolean> ovp=itr.next();
    String layoutTemplateId=ovp.getKey();
    Boolean standard=ovp.getValue();
    try {
      LayoutTemplateLocalServiceUtil.uninstallLayoutTemplate(layoutTemplateId,standard.booleanValue());
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  layoutTemplateIds=null;
  if (_log.isInfoEnabled()) {
    _log.info("Layout templates for " + servletContextName + " unregistered successfully");
  }
}
