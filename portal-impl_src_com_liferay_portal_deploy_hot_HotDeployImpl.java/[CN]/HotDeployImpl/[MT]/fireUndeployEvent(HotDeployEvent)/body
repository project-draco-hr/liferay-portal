{
  for (  HotDeployListener hotDeployListener : _hotDeployListeners) {
    try {
      PortletClassLoaderUtil.setClassLoader(hotDeployEvent.getContextClassLoader());
      PortletClassLoaderUtil.setServletContextName(hotDeployEvent.getServletContextName());
      hotDeployListener.invokeUndeploy(hotDeployEvent);
    }
 catch (    HotDeployException hde) {
      _log.error(hde,hde);
    }
 finally {
      PortletClassLoaderUtil.setClassLoader(null);
      PortletClassLoaderUtil.setServletContextName(null);
    }
  }
  _deployedServletContextNames.remove(hotDeployEvent.getServletContextName());
  ClassLoader classLoader=hotDeployEvent.getContextClassLoader();
  TemplateManagerUtil.destroy(classLoader);
  _pacl.unregister(classLoader);
}
