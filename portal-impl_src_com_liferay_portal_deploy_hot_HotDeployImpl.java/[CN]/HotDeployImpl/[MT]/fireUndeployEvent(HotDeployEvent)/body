{
  for (int i=_hotDeployListeners.size() - 1; i >= 0; i--) {
    HotDeployListener hotDeployListener=_hotDeployListeners.get(i);
    try {
      PortletClassLoaderUtil.setClassLoader(hotDeployEvent.getContextClassLoader());
      PortletClassLoaderUtil.setServletContextName(hotDeployEvent.getServletContextName());
      hotDeployListener.invokeUndeploy(hotDeployEvent);
    }
 catch (    HotDeployException hde) {
      _log.error(hde,hde);
    }
 finally {
      PortletClassLoaderUtil.setClassLoader(null);
      PortletClassLoaderUtil.setServletContextName(null);
    }
  }
  _deployedServletContextNames.remove(hotDeployEvent.getServletContextName());
  ClassLoader classLoader=hotDeployEvent.getContextClassLoader();
  TemplateManagerUtil.destroy(classLoader);
  _pacl.unregister(classLoader);
  RequiredPluginsUtil.undeployCheckRequiredPlugins();
}
