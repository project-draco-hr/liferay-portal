{
  if (length >= buffer.length) {
    if (count > 0) {
      outputStream.write(buffer,0,count);
      count=0;
    }
    outputStream.write(byteArray,offset,length);
    return;
  }
  if (count > 0 && length > buffer.length - count) {
    outputStream.write(buffer,0,count);
    count=0;
  }
  System.arraycopy(byteArray,offset,buffer,count,length);
  count+=length;
}
