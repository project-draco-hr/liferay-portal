{
  if (len >= buffer.length) {
    if (count > 0) {
      out.write(buffer,0,count);
      count=0;
    }
    out.write(b,off,len);
    return;
  }
  if (count > 0 && len > buffer.length - count) {
    out.write(buffer,0,count);
    count=0;
  }
  System.arraycopy(b,off,buffer,count,len);
  count+=len;
}
