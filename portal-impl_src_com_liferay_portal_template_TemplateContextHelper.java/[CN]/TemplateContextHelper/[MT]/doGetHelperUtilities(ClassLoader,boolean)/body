{
  HelperUtilitiesMap helperUtilitiesMap=_helperUtilitiesMaps.get(classLoader);
  if (helperUtilitiesMap == null) {
    helperUtilitiesMap=new HelperUtilitiesMap();
    _helperUtilitiesMaps.put(classLoader,helperUtilitiesMap);
  }
  Map<String,Object> helperUtilities=helperUtilitiesMap.getMap(restricted);
  if (helperUtilities != null) {
    return helperUtilities;
  }
  helperUtilities=new HashMap<String,Object>();
  populateCommonHelperUtilities(helperUtilities);
  populateExtraHelperUtilities(helperUtilities);
  if (restricted) {
    Set<String> restrictedVariables=getRestrictedVariables();
    for (    String restrictedVariable : restrictedVariables) {
      helperUtilities.remove(restrictedVariable);
    }
  }
  helperUtilitiesMap.setMap(helperUtilities,restricted);
  return helperUtilities;
}
