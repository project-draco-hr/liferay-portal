{
  TemplateHandler templateHandler=TemplateHandlerRegistryUtil.getTemplateHandler(classNameId);
  if (templateHandler == null) {
    return Collections.emptyMap();
  }
  Map<String,TemplateVariableGroup> templateVariableGroups=templateHandler.getTemplateVariableGroups(classPK,locale);
  TemplateVariableGroup utilTemplateVariableGroup=templateVariableGroups.get("util");
  utilTemplateVariableGroup.addVariable("http-request",HttpServletRequest.class,"request");
  TemplateVariableGroup portalServicesTemplateVariableGroup=new TemplateVariableGroup("portal-services");
  portalServicesTemplateVariableGroup.setAutocompleteEnabled(false);
  portalServicesTemplateVariableGroup.addServiceLocatorVariables(GroupLocalService.class,GroupService.class,LayoutLocalService.class,LayoutService.class,OrganizationLocalService.class,OrganizationService.class,UserLocalService.class,UserService.class);
  templateVariableGroups.put(portalServicesTemplateVariableGroup.getLabel(),portalServicesTemplateVariableGroup);
  return templateVariableGroups;
}
