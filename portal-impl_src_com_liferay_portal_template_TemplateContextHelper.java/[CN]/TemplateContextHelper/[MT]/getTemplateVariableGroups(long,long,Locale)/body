{
  TemplateHandler templateHandler=TemplateHandlerRegistryUtil.getTemplateHandler(classNameId);
  if (templateHandler == null) {
    return Collections.emptyMap();
  }
  Map<String,TemplateVariableGroup> templateVariableGroups=templateHandler.getTemplateVariableGroups(classPK,locale);
  TemplateVariableGroup portalServicesTemplateVariableGroup=new TemplateVariableGroup("portal-services");
  portalServicesTemplateVariableGroup.setAutocompleteEnabled(false);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(GroupService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(GroupLocalService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(LayoutService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(LayoutLocalService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(OrganizationService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(OrganizationLocalService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(UserService.class);
  portalServicesTemplateVariableGroup.addServiceLocatorVariable(UserLocalService.class);
  templateVariableGroups.put("portal-services",portalServicesTemplateVariableGroup);
  TemplateVariableGroup utilTemplateVariableGroup=templateVariableGroups.get("util");
  utilTemplateVariableGroup.addVariable("http-request",HttpServletRequest.class,"request");
  return templateVariableGroups;
}
