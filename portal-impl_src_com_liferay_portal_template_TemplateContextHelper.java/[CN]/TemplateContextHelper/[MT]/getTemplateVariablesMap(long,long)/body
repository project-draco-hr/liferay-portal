{
  PortletDisplayTemplateHandler handler=PortletDisplayTemplateHandlerRegistryUtil.getPortletDisplayTemplateHandler(classNameId);
  if (handler == null) {
    return null;
  }
  Map<String,TemplateVariableGroup> templateVariablesMap=handler.getTemplateVariablesMap(classPK);
  TemplateVariableGroup utilTemplateVariableGroup=templateVariablesMap.get("util");
  utilTemplateVariableGroup.addVariable("http-request",HttpServletRequest.class,"request");
  return templateVariablesMap;
}
