{
  localizedContents.put(LocaleUtil.GERMANY,GERMAN_BODY);
  localizedContents.put(LocaleUtil.SPAIN,SPANISH_BODY);
  setBaseModelSubscriptionBodyPreferences(getSubscriptionUpdatedBodyPreferenceName());
  LocaleThreadLocal.setDefaultLocale(LocaleUtil.GERMANY);
  long baseModelId=addBaseModel(PARENT_CONTAINER_MODEL_ID_DEFAULT);
  addSubscriptionContainerModel(PARENT_CONTAINER_MODEL_ID_DEFAULT);
  updateBaseModel(baseModelId);
  List<MailMessage> messages=MailServiceTestUtil.getMailMessages("Body",GERMAN_BODY);
  Assert.assertEquals(1,messages.size());
  LocaleThreadLocal.setDefaultLocale(LocaleUtil.SPAIN);
  baseModelId=addBaseModel(PARENT_CONTAINER_MODEL_ID_DEFAULT);
  addSubscriptionContainerModel(PARENT_CONTAINER_MODEL_ID_DEFAULT);
  updateBaseModel(baseModelId);
  messages=MailServiceTestUtil.getMailMessages("Body",SPANISH_BODY);
  Assert.assertEquals(1,messages.size());
}
