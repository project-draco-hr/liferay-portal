{
  Map _themesCustom=_getThemesCustom(themeId);
  List customLayoutTemplates=new ArrayList(_portalCustom.size() + _warCustom.size() + _themesCustom.size());
  Iterator itr=_portalCustom.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    String layoutTemplateId=(String)entry.getKey();
    LayoutTemplate layoutTemplate=(LayoutTemplate)entry.getValue();
    if (_themesCustom.containsKey(layoutTemplateId)) {
      customLayoutTemplates.add(_themesCustom.get(layoutTemplateId));
    }
 else     if (_warCustom.containsKey(layoutTemplateId)) {
      customLayoutTemplates.add(_warCustom.get(layoutTemplateId));
    }
 else {
      customLayoutTemplates.add(layoutTemplate);
    }
  }
  itr=_warCustom.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    String layoutTemplateId=(String)entry.getKey();
    if (!_portalCustom.containsKey(layoutTemplateId) && !_themesCustom.containsKey(layoutTemplateId)) {
      customLayoutTemplates.add(_warCustom.get(layoutTemplateId));
    }
  }
  itr=_themesCustom.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    String layoutTemplateId=(String)entry.getKey();
    if (!_portalCustom.containsKey(layoutTemplateId) && !_warCustom.containsKey(layoutTemplateId)) {
      customLayoutTemplates.add(_themesCustom.get(layoutTemplateId));
    }
  }
  return customLayoutTemplates;
}
