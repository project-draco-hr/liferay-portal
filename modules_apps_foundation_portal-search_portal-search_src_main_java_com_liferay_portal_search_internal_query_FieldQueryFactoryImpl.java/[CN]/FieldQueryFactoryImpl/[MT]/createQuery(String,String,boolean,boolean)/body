{
  KeywordTokenizer keywordTokenizer=getKeywordTokenizer();
  if (!splitKeywords && (keywordTokenizer != null)) {
    splitKeywords=keywordTokenizer.requiresTokenization(value);
  }
  if (splitKeywords && (keywordTokenizer != null)) {
    List<String> tokens=keywordTokenizer.tokenize(value);
    if (tokens.size() == 1) {
      return createQuery(field,tokens.get(0),like,false);
    }
    BooleanQueryImpl booleanQuery=new BooleanQueryImpl();
    for (    String token : tokens) {
      Query query=doCreateQuery(field,token,like);
      booleanQuery.add(query,BooleanClauseOccur.SHOULD);
    }
    MatchQuery matchQuery=new MatchQuery(field,value);
    matchQuery.setType(MatchQuery.Type.PHRASE);
    booleanQuery.add(matchQuery,BooleanClauseOccur.SHOULD);
    matchQuery.setBoost(_PHRASE_MATCH_QUERY_BOOST);
    return booleanQuery;
  }
  return doCreateQuery(field,value,like);
}
