{
  boolean isSubstringSearchAlways=false;
  if (_queryPreProcessConfiguration != null) {
    isSubstringSearchAlways=_queryPreProcessConfiguration.isSubstringSearchAlways(field);
  }
  Query query=doCreatePhraseMatchQuery(field,value);
  if (query != null) {
    return query;
  }
  if (like || isSubstringSearchAlways) {
    return doCreateQueryForSubstringSearch(field,value,isSubstringSearchAlways);
  }
 else {
    return doCreateQueryForFullTextSearch(field,value);
  }
}
