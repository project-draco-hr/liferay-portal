{
  _countStatistics.incrementCount();
  setLastTime(duration);
  if (getMaxTime() < duration) {
    setMaxTime(duration);
  }
 else   if ((getMinTime() == 0) || (getMinTime() > duration)) {
    setMinTime(duration);
  }
  if (_rollingAverageTime == 0) {
    _rollingAverageTime=duration;
  }
 else {
    long span=0;
    if (_countStatistics.getCount() < getLowerBound()) {
      span=getLowerBound();
    }
 else {
      span=_countStatistics.getCount();
    }
    if ((_countStatistics.getCount() > getUpperBound())) {
      span=getUpperBound();
    }
 else {
      span=_countStatistics.getCount();
    }
    _rollingAverageTime=(_rollingAverageTime * span + duration) / (span + 1);
  }
  setLastSampleTime(System.currentTimeMillis());
}
