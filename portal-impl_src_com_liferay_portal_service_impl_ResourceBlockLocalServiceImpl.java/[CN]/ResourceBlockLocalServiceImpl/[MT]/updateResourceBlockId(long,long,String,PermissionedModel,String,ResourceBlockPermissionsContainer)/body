{
  ResourceBlock resourceBlock=resourceBlockPersistence.fetchByC_G_N_P(companyId,groupId,name,permissionsHash);
  if (resourceBlock == null) {
    resourceBlock=addResourceBlock(companyId,groupId,name,permissionsHash,resourceBlockPermissionsContainer);
  }
 else {
    retainResourceBlock(resourceBlock);
  }
  permissionedModel.setResourceBlockId(resourceBlock.getResourceBlockId());
  permissionedModel.persist();
  return resourceBlock;
}
