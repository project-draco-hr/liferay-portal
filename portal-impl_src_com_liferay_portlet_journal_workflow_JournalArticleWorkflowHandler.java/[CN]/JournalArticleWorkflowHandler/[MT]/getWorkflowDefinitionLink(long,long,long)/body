{
  JournalArticle article=JournalArticleLocalServiceUtil.getArticle(classPK);
  long folderId=article.getFolderId();
  while (folderId != JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    JournalFolder folder=JournalFolderLocalServiceUtil.getFolder(folderId);
    if (folder.isOverrideDDMStructures()) {
      break;
    }
    folderId=folder.getParentFolderId();
  }
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getStructure(article.getGroupId(),PortalUtil.getClassNameId(JournalArticle.class),article.getStructureId(),true);
  WorkflowDefinitionLink workflowDefinitionLink=WorkflowDefinitionLinkLocalServiceUtil.fetchWorkflowDefinitionLink(companyId,groupId,JournalFolder.class.getName(),folderId,ddmStructure.getStructureId(),true);
  return workflowDefinitionLink;
}
