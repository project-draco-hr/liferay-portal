{
  long userId=GetterUtil.getLong((String)workflowContext.get(WorkflowConstants.CONTEXT_USER_ID));
  long classPK=GetterUtil.getLong((String)workflowContext.get(WorkflowConstants.CONTEXT_ENTRY_CLASS_PK));
  JournalArticle article=JournalArticleLocalServiceUtil.getArticle(classPK);
  ServiceContext serviceContext=(ServiceContext)workflowContext.get("serviceContext");
  String portletId=PortletProviderUtil.getPortletId(JournalArticle.class.getName(),PortletProvider.Action.EDIT);
  String articleURL=PortalUtil.getControlPanelFullURL(serviceContext.getScopeGroupId(),portletId,null);
  return JournalArticleLocalServiceUtil.updateStatus(userId,article,status,articleURL,serviceContext,workflowContext);
}
