{
  DatabaseMetaData databaseMetaData=connection.getMetaData();
  if (databaseMetaData.supportsBatchUpdates()) {
    return (PreparedStatement)ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),_interfaces,new ConcurrentBatchInvocationHandler(connection,sql));
  }
  return (PreparedStatement)ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),_interfaces,new ConcurrentNoBatchInvocationHandler(connection,sql));
}
