{
  List<TagsEntry> tagsParentCategories=new ArrayList<TagsEntry>();
  Iterator<TagsEntry> itr=tagsCategories.iterator();
  while (itr.hasNext()) {
    TagsEntry tagsCategory=itr.next();
    if (tagsCategory.getParentEntryId() == parentEntryId) {
      Element categoryEl=parentEl.addElement("category");
      categoryEl.addAttribute("name",tagsCategory.getName());
      categoryEl.addAttribute("parentEntryName",tagsCategory.getParentName());
      categoryEl.addAttribute("userUuid",tagsCategory.getUserUuid());
      tagsParentCategories.add(tagsCategory);
      itr.remove();
    }
  }
  for (  TagsEntry tagsParentCategory : tagsParentCategories) {
    orderCategories(tagsCategories,parentEl,tagsParentCategory.getEntryId());
  }
}
