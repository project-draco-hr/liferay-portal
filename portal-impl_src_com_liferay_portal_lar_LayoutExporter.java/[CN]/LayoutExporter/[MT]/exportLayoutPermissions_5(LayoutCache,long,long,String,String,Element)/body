{
  Resource resource=layoutCache.getResource(companyId,groupId,resourceName,ResourceConstants.SCOPE_INDIVIDUAL,resourcePrimKey,false);
  List<Role> roles=layoutCache.getGroupRoles_5(groupId);
  for (  Role role : roles) {
    if (role.getName().equals(RoleConstants.ADMINISTRATOR)) {
      continue;
    }
    Element roleEl=permissionsEl.addElement("role");
    roleEl.addAttribute("name",role.getName());
    roleEl.addAttribute("description",role.getDescription());
    roleEl.addAttribute("type",String.valueOf(role.getType()));
    List<Permission> permissions=PermissionLocalServiceUtil.getRolePermissions(role.getRoleId(),resource.getResourceId());
    List<String> actions=ResourceActionsUtil.getActions(permissions);
    for (    String action : actions) {
      Element actionKeyEl=roleEl.addElement("action-key");
      actionKeyEl.addText(action);
    }
  }
}
