{
  List<AssetCategory> parentCategories=new ArrayList<AssetCategory>();
  Iterator<AssetCategory> itr=assetCategories.iterator();
  while (itr.hasNext()) {
    AssetCategory assetCategory=itr.next();
    if (assetCategory.getParentCategoryId() == parentCategoryId) {
      Element categoryEl=parentEl.addElement("category");
      categoryEl.addAttribute("name",assetCategory.getName());
      categoryEl.addAttribute("parentCategoryId",String.valueOf(parentCategoryId));
      categoryEl.addAttribute("userUuid",assetCategory.getUserUuid());
      parentCategories.add(assetCategory);
      itr.remove();
    }
  }
  for (  AssetCategory parentCategory : parentCategories) {
    orderCategories(assetCategories,parentEl,parentCategory.getCategoryId());
  }
}
