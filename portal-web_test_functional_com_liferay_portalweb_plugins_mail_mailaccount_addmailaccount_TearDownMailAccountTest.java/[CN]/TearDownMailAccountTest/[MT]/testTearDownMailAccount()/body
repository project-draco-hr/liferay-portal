{
  int label=1;
  while (label >= 1) {
switch (label) {
case 1:
      selenium.selectWindow("null");
    selenium.selectFrame("relative=top");
  selenium.open("/web/guest/home");
selenium.clickAt("link=Mail Test Page",RuntimeVariables.replace("Mail Test Page"));
selenium.waitForPageToLoad("30000");
Thread.sleep(1000);
boolean enterYourPasswordPresent=selenium.isElementPresent("//input[@id='_1_WAR_mailportlet_password']");
if (!enterYourPasswordPresent) {
label=2;
continue;
}
selenium.type("//input[@id='_1_WAR_mailportlet_password']",RuntimeVariables.replace("loveispatient"));
selenium.clickAt("//input[@value='Login']",RuntimeVariables.replace("Login"));
selenium.waitForElementNotPresent("//input[@id='_1_WAR_mailportlet_password']");
Thread.sleep(1000);
case 2:
boolean emailPresent=selenium.isElementPresent("//a[@class='folders-link']");
if (!emailPresent) {
label=3;
continue;
}
assertEquals(RuntimeVariables.replace("liferay.qa.testing.trunk@gmail.com"),selenium.getText("//a[@class='folders-link']"));
selenium.clickAt("//a[@class='folders-link']",RuntimeVariables.replace("liferay.qa.testing.trunk@gmail.com"));
selenium.waitForText("//a[@class='edit-account']","Edit Account");
assertEquals(RuntimeVariables.replace("Edit Account"),selenium.getText("//a[@class='edit-account']"));
selenium.clickAt("//a[@class='edit-account']",RuntimeVariables.replace("Edit Account"));
Thread.sleep(1000);
selenium.waitForElementPresent("//a[@class='delete-account']");
assertTrue(selenium.isElementPresent("//a[@class='delete-account']"));
selenium.clickAt("//a[@class='delete-account']",RuntimeVariables.replace("Delete Account"));
assertTrue(selenium.getConfirmation().matches("^Are you sure you want to delete this account[\\s\\S]$"));
selenium.waitForVisible("//span[@class='message portlet-msg-success']");
assertEquals(RuntimeVariables.replace("Account has been deleted."),selenium.getText("//span[@class='message portlet-msg-success']"));
Thread.sleep(1000);
case 3:
selenium.open("/web/guest/home/");
selenium.clickAt("link=Mail Test Page",RuntimeVariables.replace("Mail Test Page"));
selenium.waitForPageToLoad("30000");
Thread.sleep(1000);
assertTrue(selenium.isElementNotPresent("//a[@class='folders-link']"));
assertFalse(selenium.isTextPresent("liferay.qa.testing.trunk@gmail.com"));
case 100:
label=-1;
}
}
}
