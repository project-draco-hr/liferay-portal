{
  _serviceTrackerMap=ServiceTrackerCollections.multiValueMap(PortletToolbarContributor.class,"(javax.portlet.name=*)",new ServiceReferenceMapper<String,PortletToolbarContributor>(){
    @Override public void map(    ServiceReference<PortletToolbarContributor> serviceReference,    Emitter<String> emitter){
      List<String> portletNames=StringPlus.asList(serviceReference.getProperty("javax.portlet.name"));
      List<String> values=StringPlus.asList(serviceReference.getProperty(getPropertyName()));
      for (      String portletName : portletNames) {
        for (        String value : values) {
          emitter.emit(getKey(portletName,value));
        }
      }
    }
  }
);
  _serviceTrackerMap.open();
}
