{
  Registry registry=RegistryUtil.getRegistry();
  Object service=registry.getService(serviceReference);
  Action action=null;
  if (service instanceof StrutsAction) {
    action=new ActionAdapter((StrutsAction)service);
  }
 else   if (service instanceof StrutsPortletAction) {
    action=new PortletActionAdapter((StrutsPortletAction)service);
  }
  String[] paths=_getPaths(serviceReference);
  for (  String path : paths) {
    _actions.put(path,action);
  }
  return action;
}
