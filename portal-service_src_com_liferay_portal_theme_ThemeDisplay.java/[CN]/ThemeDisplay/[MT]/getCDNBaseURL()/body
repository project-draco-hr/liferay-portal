{
  if (_cdnBaseURL == null) {
    String host=getCDNHost();
    String portalURL=getPortalURL();
    if (getServerName() != null) {
      try {
        portalURL=PortalUtil.getPortalURL(getLayout(),this);
      }
 catch (      Exception e) {
        _log.error(e,e);
      }
    }
    if (Validator.isNull(host)) {
      host=portalURL;
    }
    _cdnBaseURL=host;
  }
  return _cdnBaseURL;
}
