{
  Set<Lock> locksByCompanyId=_instance._getLocksByCompanyId(companyId);
  Iterator<Lock> itr=locksByCompanyId.iterator();
  while (itr.hasNext()) {
    Lock lock=itr.next();
    if (lock.isExpired()) {
      itr.remove();
      _instance._getLocks(lock.getClassName(),lock.getPrimaryKey()).remove(lock);
      _instance._getLocksByUserId(lock.getUserId()).remove(lock);
    }
  }
  return locksByCompanyId;
}
