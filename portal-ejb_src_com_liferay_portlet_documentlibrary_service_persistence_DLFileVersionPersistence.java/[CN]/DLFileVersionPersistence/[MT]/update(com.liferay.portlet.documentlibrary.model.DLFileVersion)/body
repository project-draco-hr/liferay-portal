{
  Session session=null;
  try {
    if (dlFileVersion.isNew() || dlFileVersion.isModified()) {
      session=openSession();
      if (dlFileVersion.isNew()) {
        DLFileVersionHBM dlFileVersionHBM=new DLFileVersionHBM();
        dlFileVersionHBM.setFolderId(dlFileVersion.getFolderId());
        dlFileVersionHBM.setName(dlFileVersion.getName());
        dlFileVersionHBM.setVersion(dlFileVersion.getVersion());
        dlFileVersionHBM.setCompanyId(dlFileVersion.getCompanyId());
        dlFileVersionHBM.setUserId(dlFileVersion.getUserId());
        dlFileVersionHBM.setUserName(dlFileVersion.getUserName());
        dlFileVersionHBM.setCreateDate(dlFileVersion.getCreateDate());
        dlFileVersionHBM.setSize(dlFileVersion.getSize());
        session.save(dlFileVersionHBM);
        session.flush();
      }
 else {
        DLFileVersionHBM dlFileVersionHBM=(DLFileVersionHBM)session.get(DLFileVersionHBM.class,dlFileVersion.getPrimaryKey());
        if (dlFileVersionHBM != null) {
          dlFileVersionHBM.setCompanyId(dlFileVersion.getCompanyId());
          dlFileVersionHBM.setUserId(dlFileVersion.getUserId());
          dlFileVersionHBM.setUserName(dlFileVersion.getUserName());
          dlFileVersionHBM.setCreateDate(dlFileVersion.getCreateDate());
          dlFileVersionHBM.setSize(dlFileVersion.getSize());
          session.flush();
        }
 else {
          dlFileVersionHBM=new DLFileVersionHBM();
          dlFileVersionHBM.setFolderId(dlFileVersion.getFolderId());
          dlFileVersionHBM.setName(dlFileVersion.getName());
          dlFileVersionHBM.setVersion(dlFileVersion.getVersion());
          dlFileVersionHBM.setCompanyId(dlFileVersion.getCompanyId());
          dlFileVersionHBM.setUserId(dlFileVersion.getUserId());
          dlFileVersionHBM.setUserName(dlFileVersion.getUserName());
          dlFileVersionHBM.setCreateDate(dlFileVersion.getCreateDate());
          dlFileVersionHBM.setSize(dlFileVersion.getSize());
          session.save(dlFileVersionHBM);
          session.flush();
        }
      }
      dlFileVersion.setNew(false);
      dlFileVersion.setModified(false);
    }
    return dlFileVersion;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
