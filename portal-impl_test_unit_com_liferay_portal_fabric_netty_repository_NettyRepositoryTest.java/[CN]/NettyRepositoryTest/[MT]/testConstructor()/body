{
  try {
    new NettyRepository(null,null,Long.MAX_VALUE);
    Assert.fail();
  }
 catch (  NullPointerException npe) {
    Assert.assertEquals("Repository path is null",npe.getMessage());
  }
  try {
    new NettyRepository(_repositoryPath,null,Long.MAX_VALUE);
    Assert.fail();
  }
 catch (  NullPointerException npe) {
    Assert.assertEquals("Async broker is null",npe.getMessage());
  }
  try {
    new NettyRepository(Paths.get("Unknown"),new AsyncBroker<Path,FileResponse>(),Long.MAX_VALUE);
    Assert.fail();
  }
 catch (  IllegalArgumentException iae) {
  }
  AsyncBroker<Path,FileResponse> asyncBroker=new AsyncBroker<Path,FileResponse>();
  _channelPipeline.addLast(new FileResponseChannelHandler(asyncBroker,_embeddedChannel.eventLoop()));
  NettyRepository repository=new NettyRepository(_repositoryPath,asyncBroker,Long.MAX_VALUE);
  Assert.assertSame(_repositoryPath,repository.getRepositoryPath());
  Assert.assertSame(asyncBroker,repository.asyncBroker);
  Assert.assertEquals(Long.MAX_VALUE,repository.getFileTimeout);
  Assert.assertNotNull(repository.pathMap);
  Assert.assertTrue(_annotatedObjectDecoder.removeFirst() instanceof FileResponseChannelHandler);
}
