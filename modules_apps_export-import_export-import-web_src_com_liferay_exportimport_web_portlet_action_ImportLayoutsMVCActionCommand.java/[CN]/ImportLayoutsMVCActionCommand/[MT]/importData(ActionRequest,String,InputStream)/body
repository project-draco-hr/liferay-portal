{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  boolean privateLayout=ParamUtil.getBoolean(actionRequest,"privateLayout");
  Map<String,Serializable> importLayoutSettingsMap=ExportImportConfigurationSettingsMapFactory.buildImportLayoutSettingsMap(themeDisplay.getUserId(),groupId,privateLayout,null,actionRequest.getParameterMap(),themeDisplay.getLocale(),themeDisplay.getTimeZone());
  ExportImportConfiguration exportImportConfiguration=_exportImportConfigurationLocalService.addDraftExportImportConfiguration(themeDisplay.getUserId(),ExportImportConfigurationConstants.TYPE_IMPORT_LAYOUT,importLayoutSettingsMap);
  _exportImportService.importLayoutsInBackground(exportImportConfiguration,inputStream);
}
