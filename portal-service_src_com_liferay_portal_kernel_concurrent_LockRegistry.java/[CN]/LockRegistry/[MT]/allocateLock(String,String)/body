{
  ConcurrentHashMap<String,Lock> lockGroup=_lockGroupMap.get(groupName);
  if (lockGroup == null) {
    lockGroup=new ConcurrentHashMap<String,Lock>();
    ConcurrentHashMap<String,Lock> oldLockGroup=_lockGroupMap.putIfAbsent(groupName,lockGroup);
    if (oldLockGroup != null) {
      lockGroup=oldLockGroup;
    }
  }
  Lock lock=lockGroup.get(key);
  if (lock == null) {
    lock=new ReentrantLock();
    Lock oldLock=lockGroup.putIfAbsent(key,lock);
    if (oldLock != null) {
      lock=oldLock;
    }
  }
  return lock;
}
