{
  if (e.getStackTrace().length == 0) {
    return "";
  }
  StringBundler sb=new StringBundler(stackTraceDepth * 2);
  sb.append(e.getMessage());
  StackTraceElement[] stackTraceElements=e.getStackTrace();
  for (int i=0; (i < stackTraceElements.length) && (i < stackTraceDepth); ) {
    sb.append(stackTraceElements[i].toString());
    i++;
    if ((i != stackTraceElements.length) && (i != stackTraceDepth)) {
      sb.append("\n");
    }
  }
  return sb.toString();
}
