{
  Integer serviceRanking=(Integer)properties.get("service.ranking");
  if (serviceRanking == null) {
    serviceRanking=new Integer(0);
  }
  BasicServiceReference<T> basicServiceReference=new BasicServiceReference<T>(clazz.getName(),_serviceIdCounter.incrementAndGet(),serviceRanking.intValue(),properties);
  doTrackers_addingService(basicServiceReference,service);
  return new BasicServiceRegistration<T>(basicServiceReference);
}
