{
  File fromFileNameVersionFile=getFileNameVersionFile(companyId,repositoryId,fileName,fromVersionLabel);
  if (!fromFileNameVersionFile.exists()) {
    throw new NoSuchFileException(companyId,repositoryId,fileName,fromVersionLabel);
  }
  File toFileNameVersionFile=getFileNameVersionFile(companyId,repositoryId,fileName,toVersionLabel);
  if (toFileNameVersionFile.exists()) {
    throw new DuplicateFileException(companyId,repositoryId,fileName,toVersionLabel);
  }
  boolean renamed=FileUtil.move(fromFileNameVersionFile,toFileNameVersionFile);
  if (!renamed) {
    throw new SystemException("File name version file was not renamed from " + fromFileNameVersionFile.getPath() + " to "+ toFileNameVersionFile.getPath());
  }
}
