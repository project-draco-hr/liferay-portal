{
  List<BlogsEntry> blogsEntries=new ArrayList<BlogsEntry>();
  try {
    long companyId=CompanyThreadLocal.getCompanyId().longValue();
    long groupId=requestContext.getLongParameter("groupId");
    long organizationId=requestContext.getLongParameter("organizationId");
    int max=requestContext.getIntParameter("max",SearchContainer.DEFAULT_DELTA);
    int page=requestContext.getIntParameter("page");
    int status=WorkflowConstants.STATUS_APPROVED;
    if (groupId > 0) {
      if (page != 0) {
        int blogsEntriesCount=BlogsEntryServiceUtil.getGroupEntriesCount(groupId,status);
        AtomPager atomPager=new AtomPager(page,blogsEntriesCount,max);
        AtomUtil.saveAtomPagerInRequest(requestContext,atomPager);
        blogsEntries=BlogsEntryServiceUtil.getGroupEntries(groupId,status,atomPager.getStart(),atomPager.getEnd() + 1);
      }
 else {
        blogsEntries=BlogsEntryServiceUtil.getGroupEntries(groupId,status,max);
      }
    }
 else     if (organizationId > 0) {
      blogsEntries=BlogsEntryServiceUtil.getOrganizationEntries(organizationId,status,max);
    }
 else     if (companyId > 0) {
      blogsEntries=BlogsEntryServiceUtil.getCompanyEntries(companyId,status,max);
    }
  }
 catch (  Exception e) {
    throw new AtomException(500,e);
  }
  return blogsEntries;
}
