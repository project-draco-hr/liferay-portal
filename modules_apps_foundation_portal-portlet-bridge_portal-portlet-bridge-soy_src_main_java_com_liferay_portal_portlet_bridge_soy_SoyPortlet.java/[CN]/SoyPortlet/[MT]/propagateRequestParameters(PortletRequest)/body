{
  Map<String,String[]> parametersMap=portletRequest.getParameterMap();
  for (  Map.Entry<String,String[]> entry : parametersMap.entrySet()) {
    String parameterName=entry.getKey();
    String[] parameterValues=entry.getValue();
    if (parameterValues.length == 1) {
      template.put(parameterName,parameterValues[0]);
    }
 else     if (parameterValues.length > 1) {
      template.put(parameterName,parameterValues);
    }
  }
}
