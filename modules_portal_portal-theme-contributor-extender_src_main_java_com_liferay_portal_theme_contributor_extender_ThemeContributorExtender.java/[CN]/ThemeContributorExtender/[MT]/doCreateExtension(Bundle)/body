{
  Dictionary<String,String> headers=bundle.getHeaders();
  String type=headers.get("Theme-Contributor-Type");
  if (type == null) {
    URL entryURL=bundle.getEntry("/package.json");
    if (entryURL != null) {
      try (Reader reader=new InputStreamReader(entryURL.openStream())){
        JSONTokener jsonTokener=new JSONTokener(reader);
        JSONObject packageJsonObject=new JSONObject(jsonTokener);
        JSONObject liferayThemeJSONObject=packageJsonObject.getJSONObject("liferayTheme");
        type=liferayThemeJSONObject.getString("themeContributorType");
      }
 catch (      IOException ioe) {
        throw new RuntimeException(ioe);
      }
    }
  }
  if (type == null) {
    return null;
  }
  BundleWebResources bundleWebResources=_scanForResources(bundle);
  if (bundleWebResources == null) {
    return null;
  }
  return new ThemeContributorExtension(bundle,bundleWebResources);
}
