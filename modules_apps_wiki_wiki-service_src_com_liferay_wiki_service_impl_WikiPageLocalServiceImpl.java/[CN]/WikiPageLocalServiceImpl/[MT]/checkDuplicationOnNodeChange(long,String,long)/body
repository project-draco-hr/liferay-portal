{
  WikiPage page=fetchPage(newNodeId,title);
  if (page != null) {
    WikiNode node=page.getNode();
    throw new NodeChangeException(node.getName(),page.getTitle(),NodeChangeException.DUPLICATE_PAGE);
  }
  List<WikiPage> childPages=wikiPagePersistence.findByN_P(nodeId,title);
  for (  WikiPage childPage : childPages) {
    checkDuplicationOnNodeChange(nodeId,childPage.getTitle(),newNodeId);
  }
  List<WikiPage> redirectorPages=getRedirectorPages(nodeId,title);
  for (  WikiPage redirectorPage : redirectorPages) {
    checkDuplicationOnNodeChange(nodeId,redirectorPage.getTitle(),newNodeId);
  }
}
