{
  if (isAlreadyFiltered(request) || isForwardedByI18nServlet(request)) {
    processFilter(I18nFilter.class,request,response,filterChain);
    return;
  }
  request.setAttribute(SKIP_FILTER,Boolean.TRUE);
  String[] i18nData=getI18nData(request);
  if (i18nData == null) {
    processFilter(I18nFilter.class,request,response,filterChain);
    return;
  }
  String i18nLanguageId=i18nData[0];
  String i18nPath=i18nData[1];
  String redirect=i18nData[2];
  if (_log.isDebugEnabled()) {
    _log.debug("Language ID " + i18nLanguageId);
    _log.debug("Redirect " + redirect);
  }
  response.sendRedirect(redirect);
}
