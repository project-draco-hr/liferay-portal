{
  Boolean exists=null;
  if (Validator.isNotNull(portletId)) {
    exists=_resourceExists(servletContext,theme,portletId,path);
    if (!exists) {
      if (portletId.contains(PortletConstants.INSTANCE_SEPARATOR)) {
        String rootPortletId=PortletConstants.getRootPortletId(portletId);
        exists=_resourceExists(servletContext,theme,rootPortletId,path);
      }
 else {
        exists=_resourceExists(servletContext,theme,null,path);
      }
    }
  }
  if (exists == null) {
    exists=_resourceExists(servletContext,theme,portletId,path);
  }
  return exists;
}
