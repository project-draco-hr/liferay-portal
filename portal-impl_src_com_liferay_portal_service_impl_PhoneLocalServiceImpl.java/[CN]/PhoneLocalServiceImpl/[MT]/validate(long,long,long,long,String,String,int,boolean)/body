{
  if (!PhoneNumberFormatUtil.validate(number)) {
    throw new PhoneNumberException();
  }
  if (Validator.isNotNull(extension)) {
    for (int i=0; i < extension.length(); i++) {
      if (!Character.isDigit(extension.charAt(i))) {
        throw new PhoneNumberException();
      }
    }
  }
  if (phoneId > 0) {
    Phone phone=phonePersistence.findByPrimaryKey(phoneId);
    companyId=phone.getCompanyId();
    classNameId=phone.getClassNameId();
    classPK=phone.getClassPK();
  }
  if ((classNameId == PortalUtil.getClassNameId(Account.class)) || (classNameId == PortalUtil.getClassNameId(Contact.class)) || (classNameId == PortalUtil.getClassNameId(Organization.class))) {
    listTypeService.validate(typeId,classNameId,ListTypeConstants.PHONE);
  }
  validate(phoneId,companyId,classNameId,classPK,primary);
}
