{
  Object[] array=getActivityCounter(groupId,classNameId,classPK,name,ownerType,startPeriod,endPeriod);
  if (array == null) {
    int totalValue=getTotalValueForActivityCounter(groupId,classNameId,classPK,name,ownerType,startPeriod);
    String[] values=new String[]{String.valueOf(activityCounterId),String.valueOf(groupId),String.valueOf(companyId),String.valueOf(classNameId),String.valueOf(classPK),StringUtil.quote(name),String.valueOf(ownerType),String.valueOf(increment),String.valueOf(totalValue + increment),"0",String.valueOf(startPeriod),String.valueOf(endPeriod)};
    runSQL("insert into SocialActivityCounter " + "(activityCounterId, groupId, companyId, classNameId," + " classPK, name, ownerType, currentValue, totalValue,"+ " graceValue, startPeriod, endPeriod)"+ "values (" + StringUtil.merge(values) + ")");
  }
 else {
    runSQL("update SocialActivityCounter " + "set currentValue = currentValue + " + increment + ", totalValue = totalValue + "+ increment+ " where activityCounterId = "+ GetterUtil.getLong(array[0]));
  }
}
