{
  structureKey=getStructureKey(structureKey);
  DDMStructure structure=ddmStructurePersistence.fetchByG_C_S(groupId,classNameId,structureKey);
  if (structure != null) {
    return structure;
  }
  if (!includeAncestorStructures) {
    return null;
  }
  for (  long ancestorSiteGroupId : PortalUtil.getAncestorSiteGroupIds(groupId)) {
    structure=ddmStructurePersistence.fetchByG_C_S(ancestorSiteGroupId,classNameId,structureKey);
    if (structure != null) {
      return structure;
    }
  }
  return null;
}
