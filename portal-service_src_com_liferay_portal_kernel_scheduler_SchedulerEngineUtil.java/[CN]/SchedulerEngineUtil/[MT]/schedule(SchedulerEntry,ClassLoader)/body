{
  MessageListener schedulerEventListener=null;
  try {
    schedulerEventListener=(MessageListener)classLoader.loadClass(schedulerEntry.getEventListenerClass()).newInstance();
    schedulerEventListener=(MessageListener)Proxy.newProxyInstance(classLoader,new Class[]{MessageListener.class},new ClassLoaderBeanHandler(schedulerEventListener,classLoader));
  }
 catch (  Exception e) {
    throw new SchedulerException(e);
  }
  String messageListenerUUID=PortalUUIDUtil.generate();
  schedulerEventListener=new SchedulerEventMessageListenerWrapper(schedulerEventListener,messageListenerUUID,schedulerEntry.getEventListenerClass());
  schedulerEntry.setEventListener(schedulerEventListener);
  MessageBusUtil.registerMessageListener(DestinationNames.SCHEDULER_DISPATCH,schedulerEventListener);
  Message message=new Message();
  message.put(SchedulerEngine.MESSAGE_LISTENER_UUID,messageListenerUUID);
  schedule(schedulerEntry.getTrigger(),schedulerEntry.getDescription(),DestinationNames.SCHEDULER_DISPATCH,message);
}
