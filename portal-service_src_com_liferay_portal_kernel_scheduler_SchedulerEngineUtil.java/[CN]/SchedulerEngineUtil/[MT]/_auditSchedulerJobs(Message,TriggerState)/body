{
  try {
    AuditMessage auditMessage=new AuditMessage(SchedulerEngine.AUDIT_ACTION,CompanyConstants.SYSTEM,0,StringPool.BLANK,SchedulerEngine.class.getName(),"0",triggerState.toString(),new Date(),JSONFactoryUtil.createJSONObject(JSONFactoryUtil.serialize(message)));
    auditMessage.setServerName(InetAddressUtil.getLocalHostName());
    auditMessage.setServerPort(PortalUtil.getPortalPort(false));
    AuditRouterUtil.route(auditMessage);
  }
 catch (  Exception e) {
    throw new SchedulerException(e);
  }
}
