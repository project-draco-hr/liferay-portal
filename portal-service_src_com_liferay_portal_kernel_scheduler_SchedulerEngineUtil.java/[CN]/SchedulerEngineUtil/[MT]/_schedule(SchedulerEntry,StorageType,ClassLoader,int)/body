{
  SchedulerEventMessageListenerWrapper schedulerEventListenerWrapper=new SchedulerEventMessageListenerWrapper();
  schedulerEventListenerWrapper.setClassName(schedulerEntry.getEventListenerClass());
  schedulerEventListenerWrapper.setMessageListener(_getSchedulerEventListener(schedulerEntry,classLoader));
  schedulerEventListenerWrapper.afterPropertiesSet();
  schedulerEntry.setEventListener(schedulerEventListenerWrapper);
  MessageBusUtil.registerMessageListener(DestinationNames.SCHEDULER_DISPATCH,schedulerEventListenerWrapper);
  Message message=new Message();
  message.put(SchedulerEngine.EXECUTION_LOCK_KEY,PortletContextLoaderListener.getLockKey(schedulerEntry.getContextPath()));
  message.put(SchedulerEngine.MESSAGE_LISTENER_UUID,schedulerEventListenerWrapper.getMessageListenerUUID());
  _schedule(schedulerEntry.getTrigger(),storageType,schedulerEntry.getDescription(),DestinationNames.SCHEDULER_DISPATCH,message,exceptionsMaxSize);
}
