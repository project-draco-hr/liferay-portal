{
  List<FacetConfiguration> facetConfigurations=new ArrayList<FacetConfiguration>();
  try {
    if (Validator.isNull(configuration)) {
      return facetConfigurations;
    }
    JSONObject configurationJSONObject=JSONFactoryUtil.createJSONObject(configuration);
    JSONArray facetsJSONArray=configurationJSONObject.getJSONArray("facets");
    if (facetsJSONArray == null) {
      return facetConfigurations;
    }
    for (int i=0; i < facetsJSONArray.length(); i++) {
      JSONObject facetJSONObject=facetsJSONArray.getJSONObject(i);
      FacetConfiguration facetConfiguration=_toFacetConfiguration(facetJSONObject);
      facetConfigurations.add(facetConfiguration);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return facetConfigurations;
}
