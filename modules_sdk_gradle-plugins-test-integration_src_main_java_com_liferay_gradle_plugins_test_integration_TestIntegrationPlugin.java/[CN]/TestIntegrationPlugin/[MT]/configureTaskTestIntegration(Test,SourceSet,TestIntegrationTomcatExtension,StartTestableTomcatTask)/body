{
  Closure<Task> closure=new Closure<Task>(null){
    @SuppressWarnings("unused") public Task doCall(    Test test){
      FileTree candidateClassFiles=test.getCandidateClassFiles();
      File srcDir=getSrcDir(testIntegrationSourceSet.getResources());
      File skipManagedAppServerFile=new File(srcDir,_SKIP_MANAGED_APP_SERVER_FILE_NAME);
      if (!candidateClassFiles.isEmpty() && !skipManagedAppServerFile.exists()) {
        return startTestableTomcatTask;
      }
      return null;
    }
  }
;
  test.dependsOn(closure);
  test.jvmArgs("-Djava.net.preferIPv4Stack=true");
  test.jvmArgs("-Dliferay.mode=test");
  test.jvmArgs("-Duser.timezone=GMT");
  test.systemProperty("app.server.tomcat.dir",new Object(){
    @Override public String toString(){
      return FileUtil.getAbsolutePath(testIntegrationTomcatExtension.getDir());
    }
  }
);
}
