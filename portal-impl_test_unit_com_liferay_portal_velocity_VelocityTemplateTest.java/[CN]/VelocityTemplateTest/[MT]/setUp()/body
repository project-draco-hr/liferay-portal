{
  _templateContextHelper=new MockTemplateContextHelper();
  _velocityEngine=new VelocityEngine();
  ExtendedProperties extendedProperties=new FastExtendedProperties();
  extendedProperties.setProperty(VelocityEngine.RESOURCE_LOADER,"string,test");
  extendedProperties.setProperty("string." + VelocityEngine.RESOURCE_LOADER + ".cache",String.valueOf(PropsValues.VELOCITY_ENGINE_RESOURCE_MANAGER_CACHE_ENABLED));
  extendedProperties.setProperty("string." + VelocityEngine.RESOURCE_LOADER + ".class",StringResourceLoader.class.getName());
  extendedProperties.setProperty("string." + VelocityEngine.RESOURCE_LOADER + ".repository.class",StringResourceRepositoryImpl.class.getName());
  extendedProperties.setProperty("test." + VelocityEngine.RESOURCE_LOADER + ".cache","false");
  extendedProperties.setProperty("test." + VelocityEngine.RESOURCE_LOADER + ".class",MockResourceLoader.class.getName());
  extendedProperties.setProperty(VelocityEngine.RUNTIME_LOG_LOGSYSTEM_CLASS,PropsUtil.get(PropsKeys.VELOCITY_ENGINE_LOGGER));
  extendedProperties.setProperty(VelocityEngine.RUNTIME_LOG_LOGSYSTEM + ".log4j.category",PropsUtil.get(PropsKeys.VELOCITY_ENGINE_LOGGER_CATEGORY));
  _velocityEngine.setExtendedProperties(extendedProperties);
  _velocityEngine.init();
}
