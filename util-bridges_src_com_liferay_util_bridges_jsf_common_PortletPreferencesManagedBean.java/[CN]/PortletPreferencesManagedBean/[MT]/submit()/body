{
  try {
    Enumeration enu=_portletPreferences.getNames();
    while (enu.hasMoreElements()) {
      String name=(String)enu.nextElement();
      if (!_portletPreferences.isReadOnly(name)) {
        String value=(String)_preferences.get(name);
        _portletPreferences.setValue(name,value);
      }
    }
    _portletPreferences.store();
    addInfoMessage("you-have-successfully-updated-your-preferences");
    return ActionOutcomes.SUCCESS;
  }
 catch (  Exception e) {
    _log.error(e,e);
    addErrorMessage("an-error-occurred-while-updating-your-preferences");
    return ActionOutcomes.FAILURE;
  }
}
