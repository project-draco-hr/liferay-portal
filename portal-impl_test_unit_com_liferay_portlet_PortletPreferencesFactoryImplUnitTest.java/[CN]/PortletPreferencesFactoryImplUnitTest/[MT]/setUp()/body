{
  mockStatic(CacheKeyGeneratorUtil.class);
  try {
    when(CacheKeyGeneratorUtil.getCacheKeyGenerator(PortletPreferencesFactoryImpl.class.getName())).thenReturn(new JavaSHA1CacheKeyGenerator());
  }
 catch (  NoSuchAlgorithmException e) {
    e.printStackTrace();
  }
  HtmlUtil htmlUtil=new HtmlUtil();
  htmlUtil.setHtml(new HtmlImpl());
  SecureXMLFactoryProviderUtil secureXMLFactoryProviderUtil=new SecureXMLFactoryProviderUtil();
  secureXMLFactoryProviderUtil.setSecureXMLFactoryProvider(new SecureXMLFactoryProviderImpl());
  SingleVMPoolUtil singleVMPoolUtil=new SingleVMPoolUtil();
  SingleVMPoolImpl singleVMPoolImpl=new SingleVMPoolImpl();
  singleVMPoolImpl.setPortalCacheManager(MemoryPortalCacheManager.createMemoryPortalCacheManager(PortletPreferencesFactoryImplUnitTest.class.getName()));
  singleVMPoolUtil.setSingleVMPool(singleVMPoolImpl);
  PortletPreferencesFactoryUtil portletPreferencesFactoryUtil=new PortletPreferencesFactoryUtil();
  portletPreferencesFactoryUtil.setPortletPreferencesFactory(new PortletPreferencesFactoryImpl());
}
