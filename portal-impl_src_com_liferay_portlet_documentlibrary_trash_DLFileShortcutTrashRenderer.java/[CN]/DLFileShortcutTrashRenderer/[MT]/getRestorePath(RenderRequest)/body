{
  boolean trashedFolder=false;
  try {
    long folderId=_fileShortcut.getFolderId();
    while (folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
      DLFolder dlFolder=DLFolderLocalServiceUtil.getFolder(folderId);
      if (dlFolder.isInTrash()) {
        trashedFolder=true;
        break;
      }
      folderId=dlFolder.getParentFolderId();
    }
  }
 catch (  NoSuchFolderException nsfe) {
    trashedFolder=true;
  }
  if (trashedFolder) {
    renderRequest.setAttribute(WebKeys.DOCUMENT_LIBRARY_FILE_ENTRY,_fileEntry);
    renderRequest.setAttribute(WebKeys.DOCUMENT_LIBRARY_FILE_SHORTCUT,_fileShortcut);
    return "/html/portlet/document_library/trash/file_entry_restore.jsp";
  }
 else {
    return null;
  }
}
