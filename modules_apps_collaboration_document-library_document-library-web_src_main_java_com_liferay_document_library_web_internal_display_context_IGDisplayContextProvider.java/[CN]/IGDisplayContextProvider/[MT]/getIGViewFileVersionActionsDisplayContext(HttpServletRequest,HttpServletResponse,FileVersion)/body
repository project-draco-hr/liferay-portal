{
  try {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    ResourceBundle resourceBundle=_resourceBundleLoader.loadResourceBundle(themeDisplay.getLanguageId());
    IGViewFileVersionDisplayContext igViewFileVersionDisplayContext=new DefaultIGViewFileVersionDisplayContext(request,response,fileVersion,resourceBundle);
    if (fileVersion == null) {
      return igViewFileVersionDisplayContext;
    }
    for (    IGDisplayContextFactory igDisplayContextFactory : _igDisplayContextFactories) {
      igViewFileVersionDisplayContext=igDisplayContextFactory.getIGViewFileVersionDisplayContext(igViewFileVersionDisplayContext,request,response,fileVersion);
    }
    return igViewFileVersionDisplayContext;
  }
 catch (  PortalException pe) {
    throw new SystemException(pe);
  }
}
