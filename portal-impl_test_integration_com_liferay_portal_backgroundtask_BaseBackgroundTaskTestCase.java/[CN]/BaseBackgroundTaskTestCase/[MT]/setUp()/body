{
  backgroundTaskThreadLocalManagerImpl=new BackgroundTaskThreadLocalManagerImpl();
  PermissionCheckerFactory permissionCheckerFactory=Mockito.mock(PermissionCheckerFactory.class);
  PermissionChecker permissionChecker=Mockito.mock(PermissionChecker.class);
  User user=Mockito.mock(User.class);
  Mockito.when(permissionCheckerFactory.create(user)).thenReturn(permissionChecker);
  backgroundTaskThreadLocalManagerImpl.setPermissionCheckerFactory(permissionCheckerFactory);
  _companyId=TestPropsValues.getCompanyId();
  _clusterInvokeEnabled=true;
  _defaultLocale=Locale.US;
  _groupId=TestPropsValues.getGroupId();
  _siteDefaultLocale=Locale.CANADA;
  _themeDisplayLocale=Locale.FRANCE;
  _user=UserTestUtil.addUser();
  _principalName=String.valueOf(_user.getUserId());
}
