{
  long pk=ServiceTestUtil.nextLong();
  Permission newPermission=_persistence.create(pk);
  newPermission.setCompanyId(ServiceTestUtil.nextLong());
  newPermission.setActionId(ServiceTestUtil.randomString());
  newPermission.setResourceId(ServiceTestUtil.nextLong());
  _persistence.update(newPermission,false);
  Permission existingPermission=_persistence.findByPrimaryKey(newPermission.getPrimaryKey());
  Assert.assertEquals(existingPermission.getPermissionId(),newPermission.getPermissionId());
  Assert.assertEquals(existingPermission.getCompanyId(),newPermission.getCompanyId());
  Assert.assertEquals(existingPermission.getActionId(),newPermission.getActionId());
  Assert.assertEquals(existingPermission.getResourceId(),newPermission.getResourceId());
}
