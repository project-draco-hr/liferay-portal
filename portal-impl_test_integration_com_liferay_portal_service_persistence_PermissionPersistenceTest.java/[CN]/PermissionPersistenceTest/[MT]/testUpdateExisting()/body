{
  long pk=nextLong();
  Permission newPermission=_persistence.create(pk);
  newPermission.setCompanyId(nextLong());
  newPermission.setActionId(randomString());
  newPermission.setResourceId(nextLong());
  _persistence.update(newPermission,false);
  Permission existingPermission=_persistence.findByPrimaryKey(newPermission.getPrimaryKey());
  assertEquals(existingPermission.getPermissionId(),newPermission.getPermissionId());
  assertEquals(existingPermission.getCompanyId(),newPermission.getCompanyId());
  assertEquals(existingPermission.getActionId(),newPermission.getActionId());
  assertEquals(existingPermission.getResourceId(),newPermission.getResourceId());
}
