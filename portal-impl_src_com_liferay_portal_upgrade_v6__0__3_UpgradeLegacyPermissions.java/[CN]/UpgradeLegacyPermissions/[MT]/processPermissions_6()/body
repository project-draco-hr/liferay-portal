{
  List<Map<String,Object>> projectionMaps=getMaps("SELECT " + "rp.companyId, rp.roleId, rp.primKey " + "FROM "+ "ResourcePermission rp, ResourceAction ra "+ "WHERE "+ "ra.name = 'com.liferay.portlet.journal' AND "+ "ra.name = rp.name AND "+ "ra.actionId = 'APPROVE_ARTICLE' AND "+ "rp.scope = 4 AND "+ "rp.actionIds >= ra.bitwiseValue AND "+ "rp.actionIds/ra.bitwiseValue % 2 = 1");
  for (  Map<String,Object> projectionMap : projectionMaps) {
    long companyId=(Long)projectionMap.get("companyId");
    long roleId=(Long)projectionMap.get("roleId");
    long groupId=GetterUtil.getLong((String)projectionMap.get("primKey"));
    processRoleUsers(companyId,roleId,groupId);
  }
}
