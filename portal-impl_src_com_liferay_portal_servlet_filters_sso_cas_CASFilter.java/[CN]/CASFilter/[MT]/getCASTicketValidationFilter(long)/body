{
  Cas20ProxyReceivingTicketValidationFilter casTicketValidationFilter=_casTicketValidationFilters.get(companyId);
  if (casTicketValidationFilter == null) {
    casTicketValidationFilter=new Cas20ProxyReceivingTicketValidationFilter();
    DynamicFilterConfig config=new DynamicFilterConfig(_filterName,_servletContext);
    String serverName=PrefsPropsUtil.getString(companyId,PropsKeys.CAS_SERVER_NAME,PropsValues.CAS_SERVER_NAME);
    config.addInitParameter("serverName",serverName);
    config.addInitParameter("casServerLoginUrl",PrefsPropsUtil.getString(companyId,PropsKeys.CAS_LOGIN_URL,PropsValues.CAS_LOGIN_URL));
    config.addInitParameter("casServerUrlPrefix",PrefsPropsUtil.getString(companyId,PropsKeys.CAS_SERVER_URL_PREFIX,PropsValues.CAS_SERVER_URL_PREFIX));
    config.addInitParameter("redirectAfterValidation","false");
    casTicketValidationFilter.init(config);
    _casTicketValidationFilters.put(companyId,casTicketValidationFilter);
  }
  return casTicketValidationFilter;
}
