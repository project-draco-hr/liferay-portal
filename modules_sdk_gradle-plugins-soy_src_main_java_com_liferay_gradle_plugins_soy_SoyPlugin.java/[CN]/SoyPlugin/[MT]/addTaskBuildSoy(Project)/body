{
  final BuildSoyTask buildSoyTask=GradleUtil.addTask(project,BUILD_SOY_TASK_NAME,BuildSoyTask.class);
  buildSoyTask.setDescription("Compiles Closure Templates into JavaScript functions.");
  buildSoyTask.setGroup(BasePlugin.BUILD_GROUP);
  buildSoyTask.setIncludes(Collections.singleton("**/*.soy"));
  PluginContainer pluginContainer=project.getPlugins();
  pluginContainer.withType(JavaPlugin.class,new Action<JavaPlugin>(){
    @Override public void execute(    JavaPlugin javaPlugin){
      configureTaskBuildSoyForJavaPlugin(buildSoyTask);
    }
  }
);
  return buildSoyTask;
}
