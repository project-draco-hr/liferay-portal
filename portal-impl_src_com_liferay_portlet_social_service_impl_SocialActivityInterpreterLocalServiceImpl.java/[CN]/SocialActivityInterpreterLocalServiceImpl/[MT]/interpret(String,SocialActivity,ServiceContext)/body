{
  HttpServletRequest request=serviceContext.getRequest();
  if (request == null) {
    return null;
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  try {
    if (activity.getUserId() == themeDisplay.getDefaultUserId()) {
      return null;
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  if (activity.getMirrorActivityId() > 0) {
    SocialActivity mirrorActivity=null;
    try {
      mirrorActivity=socialActivityLocalService.getActivity(activity.getMirrorActivityId());
    }
 catch (    Exception e) {
    }
    if (mirrorActivity != null) {
      activity=mirrorActivity;
    }
  }
  Map<String,SocialActivityInterpreter> activityInterpreters=_activityInterpreters.get(selector);
  if (activityInterpreters == null) {
    return null;
  }
  SocialActivityInterpreterImpl activityInterpreter=(SocialActivityInterpreterImpl)activityInterpreters.get(activity.getClassName());
  if (activityInterpreter == null) {
    return null;
  }
  SocialActivityFeedEntry activityFeedEntry=activityInterpreter.interpret(activity,serviceContext);
  if (activityFeedEntry == null) {
    return null;
  }
  activityFeedEntry.setPortletId(activityInterpreter.getPortletId());
  return activityFeedEntry;
}
