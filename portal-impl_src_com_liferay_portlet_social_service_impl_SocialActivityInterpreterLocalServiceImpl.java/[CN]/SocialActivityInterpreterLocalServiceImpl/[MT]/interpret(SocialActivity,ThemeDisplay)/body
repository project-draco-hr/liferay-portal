{
  if (activity.getMirrorActivityId() > 0) {
    SocialActivity mirrorActivity=null;
    try {
      mirrorActivity=SocialActivityLocalServiceUtil.getActivity(activity.getMirrorActivityId());
    }
 catch (    Exception e) {
    }
    if (mirrorActivity != null) {
      activity=mirrorActivity;
    }
  }
  String className=PortalUtil.getClassName(activity.getClassNameId());
  for (int i=0; i < _activityInterpreters.size(); i++) {
    SocialActivityInterpreterImpl activityInterpreter=(SocialActivityInterpreterImpl)_activityInterpreters.get(i);
    if (activityInterpreter.hasClassName(className)) {
      SocialActivityFeedEntry activityFeedEntry=activityInterpreter.interpret(activity,themeDisplay);
      if (activityFeedEntry != null && hasPermission(className,activity.getClassPK())) {
        activityFeedEntry.setPortletId(activityInterpreter.getPortletId());
        return activityFeedEntry;
      }
    }
  }
  return null;
}
