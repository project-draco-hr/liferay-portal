{
  Registry registry=RegistryUtil.getRegistry();
  SocialActivityInterpreter activityInterpreter=registry.getService(serviceReference);
  String portletId=(String)serviceReference.getProperty("javax.portlet.name");
  if (!(activityInterpreter instanceof SocialRequestInterpreterImpl)) {
    activityInterpreter=new SocialActivityInterpreterImpl(portletId,activityInterpreter);
  }
  List<SocialActivityInterpreter> activityInterpreters=_activityInterpreters.get(activityInterpreter.getSelector());
  if (activityInterpreters == null) {
    activityInterpreters=new ArrayList<>();
  }
  activityInterpreters.add(activityInterpreter);
  _activityInterpreters.put(activityInterpreter.getSelector(),activityInterpreters);
  return activityInterpreter;
}
