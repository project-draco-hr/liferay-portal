{
  UpgradeColumn upgradeUserIdColumn=new SwapUpgradeColumnImpl("userId",new Integer(Types.VARCHAR),AvailableMappersUtil.getUserIdMapper());
  PKUpgradeColumnImpl upgradePKColumn=new PKUpgradeColumnImpl("phoneId",true);
  ClassNameIdUpgradeColumnImpl classNameIdColumn=new ClassNameIdUpgradeColumnImpl();
  Map classPKContainers=CollectionFactory.getHashMap();
  classPKContainers.put(new Long(PortalUtil.getClassNameId(Contact.class.getName())),new ClassPKContainer(AvailableMappersUtil.getContactIdMapper(),false));
  classPKContainers.put(new Long(PortalUtil.getClassNameId(Organization.class.getName())),new ClassPKContainer(AvailableMappersUtil.getOrganizationIdMapper(),true));
  UpgradeColumn upgradeClassPKColumn=new ClassPKUpgradeColumnImpl(classNameIdColumn,classPKContainers);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(PhoneImpl.TABLE_NAME,PhoneImpl.TABLE_COLUMNS,upgradePKColumn,upgradeUserIdColumn,classNameIdColumn,upgradeClassPKColumn);
  upgradeTable.setCreateSQL(PhoneImpl.TABLE_SQL_CREATE);
  upgradeTable.updateTable();
  ValueMapperUtil.persist(upgradePKColumn.getValueMapper(),"phone-id");
}
