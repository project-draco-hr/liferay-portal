{
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abcdefghi"),5);
  Assert.assertEquals(-1,unsyncBufferedReader.markLimitIndex);
  unsyncBufferedReader.mark(0);
  Assert.assertEquals(-1,unsyncBufferedReader.markLimitIndex);
  try {
    unsyncBufferedReader.mark(-2);
    Assert.fail();
  }
 catch (  IllegalArgumentException iae) {
  }
  Assert.assertEquals(-1,unsyncBufferedReader.markLimitIndex);
  int markLimit=3;
  unsyncBufferedReader.mark(markLimit);
  Assert.assertEquals(markLimit,unsyncBufferedReader.markLimitIndex);
  Assert.assertEquals(0,unsyncBufferedReader.index);
  Assert.assertEquals('a',unsyncBufferedReader.read());
  Assert.assertEquals('b',unsyncBufferedReader.read());
  Assert.assertEquals('c',unsyncBufferedReader.read());
  Assert.assertEquals(3,unsyncBufferedReader.index);
  unsyncBufferedReader.reset();
  Assert.assertEquals(0,unsyncBufferedReader.index);
  Assert.assertEquals('a',unsyncBufferedReader.read());
  Assert.assertEquals('b',unsyncBufferedReader.read());
  Assert.assertEquals('c',unsyncBufferedReader.read());
  Assert.assertEquals(3,unsyncBufferedReader.index);
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abcdefghi"),5);
  Assert.assertEquals(-1,unsyncBufferedReader.markLimitIndex);
  unsyncBufferedReader.mark(markLimit);
  Assert.assertEquals(markLimit,unsyncBufferedReader.markLimitIndex);
  Assert.assertEquals('a',unsyncBufferedReader.read());
  Assert.assertEquals('b',unsyncBufferedReader.read());
  Assert.assertEquals('c',unsyncBufferedReader.read());
  Assert.assertEquals('d',unsyncBufferedReader.read());
  Assert.assertEquals('e',unsyncBufferedReader.read());
  Assert.assertEquals('f',unsyncBufferedReader.read());
  Assert.assertEquals(1,unsyncBufferedReader.index);
  Assert.assertEquals(-1,unsyncBufferedReader.markLimitIndex);
  try {
    unsyncBufferedReader.reset();
    Assert.fail();
  }
 catch (  IOException ioe) {
  }
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader("abcdefghi"),5);
  Assert.assertEquals('a',unsyncBufferedReader.read());
  Assert.assertEquals('b',unsyncBufferedReader.read());
  Assert.assertEquals('c',unsyncBufferedReader.read());
  Assert.assertEquals(3,unsyncBufferedReader.index);
  unsyncBufferedReader.mark(markLimit);
  Assert.assertEquals(0,unsyncBufferedReader.index);
  Assert.assertEquals('d',unsyncBufferedReader.read());
  Assert.assertEquals('e',unsyncBufferedReader.read());
  Assert.assertEquals('f',unsyncBufferedReader.read());
  unsyncBufferedReader=new UnsyncBufferedReader(new StringReader(new String(_BUFFER)),_SIZE);
  char[] tempBuffer=new char[_SIZE / 2];
  Assert.assertEquals(_SIZE / 2,unsyncBufferedReader.read(tempBuffer));
  Assert.assertEquals(_SIZE / 2,unsyncBufferedReader.read(tempBuffer));
  Assert.assertEquals(_SIZE,unsyncBufferedReader.index);
  Assert.assertEquals(_SIZE,unsyncBufferedReader.firstInvalidIndex);
  unsyncBufferedReader.mark(markLimit);
  Assert.assertEquals(0,unsyncBufferedReader.index);
  Assert.assertEquals(0,unsyncBufferedReader.firstInvalidIndex);
}
