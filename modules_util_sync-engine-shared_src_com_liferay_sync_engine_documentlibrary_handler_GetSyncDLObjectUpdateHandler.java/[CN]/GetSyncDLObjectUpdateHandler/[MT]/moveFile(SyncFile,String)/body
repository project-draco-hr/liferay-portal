{
  SyncFile sourceSyncFile=SyncFileService.fetchSyncFile(targetSyncFile.getRepositoryId(),getSyncAccountId(),targetSyncFile.getTypePK());
  if (sourceSyncFile == null) {
    return;
  }
  Path sourceFilePath=Paths.get(sourceSyncFile.getFilePathName());
  Path targetFilePath=Paths.get(targetFilePathName);
  sourceSyncFile=SyncFileService.updateSyncFile(targetFilePath,targetSyncFile.getParentFolderId(),sourceSyncFile);
  if (Files.exists(sourceFilePath)) {
    Files.move(sourceFilePath,targetFilePath);
  }
 else   if (targetSyncFile.isFolder()) {
    Files.createDirectories(targetFilePath);
    SyncFileService.updateFileKeySyncFile(sourceSyncFile);
  }
 else {
    downloadFile(sourceSyncFile,null,false);
  }
  sourceSyncFile.setModifiedTime(targetSyncFile.getModifiedTime());
  sourceSyncFile.setUiEvent(SyncFile.UI_EVENT_MOVED_REMOTE);
  SyncFileService.update(sourceSyncFile);
}
