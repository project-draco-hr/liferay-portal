{
  LocalizedValue value=new LocalizedValue(locale);
  if (configuration != null) {
    String attributeID=attributeDefinition.getID();
    Dictionary<String,Object> properties=configuration.getProperties();
    if (properties != null) {
      String propValue=String.valueOf(properties.get(attributeID));
      value.addString(locale,propValue);
    }
  }
 else {
    int cardinality=attributeDefinition.getCardinality();
    String[] attributeValues=null;
    if (cardinality > 1) {
      String[] defaultValue=attributeDefinition.getDefaultValue();
      if ((defaultValue != null) && (defaultValue.length > 0)) {
        String temp=attributeDefinition.getDefaultValue()[0];
        attributeValues=StringUtil.split(temp,StringPool.PIPE);
      }
    }
 else {
      attributeValues=attributeDefinition.getDefaultValue();
    }
    if (attributeValues != null) {
      for (      String attributeValue : attributeValues) {
        value.addString(locale,attributeValue);
      }
    }
  }
  return value;
}
