{
  try {
    Settings settings=SettingsFactoryUtil.getSettings(settingsLocator);
    Class<?> configurationOverrideClass=getOverrideClass(clazz);
    TypedSettings typedSettings=new TypedSettings(settings);
    Object configurationOverrideInstance=null;
    if (configurationOverrideClass != null) {
      Constructor<?> constructor=configurationOverrideClass.getConstructor(TypedSettings.class);
      configurationOverrideInstance=constructor.newInstance(typedSettings);
    }
    ModuleConfigurationInvocationHandler<T> moduleConfigurationInvocationHandler=new ModuleConfigurationInvocationHandler<>(clazz,configurationOverrideInstance,typedSettings);
    return moduleConfigurationInvocationHandler.createProxy();
  }
 catch (  NoSuchMethodException|InvocationTargetException|InstantiationException|IllegalAccessException|SettingsException e) {
    throw new ModuleConfigurationException("Unable to load configuration of type " + clazz.getName(),e);
  }
}
