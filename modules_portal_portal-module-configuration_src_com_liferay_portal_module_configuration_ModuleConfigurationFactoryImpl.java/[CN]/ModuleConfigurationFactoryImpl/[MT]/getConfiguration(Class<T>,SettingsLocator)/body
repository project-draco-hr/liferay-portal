{
  try {
    Settings settings=SettingsFactoryUtil.getSettings(settingsLocator);
    Class<?> settingsOverrideClass=getOverrideClass(clazz);
    TypedSettings typedSettings=new TypedSettings(settings);
    Object settingsOverrideInstance=null;
    if (settingsOverrideClass != null) {
      Constructor<?> constructor=settingsOverrideClass.getConstructor(TypedSettings.class);
      settingsOverrideInstance=constructor.newInstance(typedSettings);
    }
    ModuleConfigurationInvocationHandler<T> moduleConfigurationInvocationHandler=new ModuleConfigurationInvocationHandler<>(clazz,settingsOverrideInstance,typedSettings);
    return moduleConfigurationInvocationHandler.createProxy();
  }
 catch (  NoSuchMethodException|InvocationTargetException|InstantiationException|IllegalAccessException|SettingsException e) {
    throw new ModuleConfigurationException("Unable to load configuration of type " + clazz.getName(),e);
  }
}
