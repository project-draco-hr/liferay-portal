{
  Bundle bundle=osgiBundleApplicationContextEvent.getBundle();
  String symbolicName=bundle.getSymbolicName();
  if (osgiBundleApplicationContextEvent instanceof OsgiBundleContextRefreshedEvent) {
    PortletBeanLocatorUtil.setBeanLocator(symbolicName,_buildBeanLocator(osgiBundleApplicationContextEvent));
  }
 else   if (osgiBundleApplicationContextEvent instanceof OsgiBundleContextClosedEvent) {
    OsgiBundleContextClosedEvent osgiBundleContextClosedEvent=(OsgiBundleContextClosedEvent)osgiBundleApplicationContextEvent;
    Throwable throwable=osgiBundleContextClosedEvent.getFailureCause();
    if (throwable != null) {
      PortletBeanLocatorUtil.setBeanLocator(symbolicName,null);
    }
  }
}
