{
  DDMList list=ddmListPersistence.findByPrimaryKey(listId);
  long listItemId=counterLocalService.increment();
  DDMListItem listItem=ddmListItemPersistence.create(listItemId);
  DDMStructure structure=list.getStructure();
  listItem.setClassNameId(structure.getClassNameId());
  long classPK=StorageEngineUtil.create(list.getCompanyId(),list.getStructureId(),fields,serviceContext);
  listItem.setClassPK(classPK);
  listItem.setListId(listId);
  ddmListItemPersistence.update(listItem,false);
  ddmStructureLinkLocalService.addStructureLink(PortalUtil.getClassNameId(DDMListItem.class),listItemId,list.getStructureId(),serviceContext);
  return listItem;
}
