{
  if (Validator.isNull(name) || (name.length() < 4)) {
    throw new LayoutSetBranchNameException(LayoutSetBranchNameException.TOO_SHORT);
  }
  if (name.length() > 100) {
    throw new LayoutSetBranchNameException(LayoutSetBranchNameException.TOO_LONG);
  }
  try {
    layoutSetBranchPersistence.findByG_P_N(groupId,privateLayout,name);
    throw new LayoutSetBranchNameException(LayoutSetBranchNameException.DUPLICATE);
  }
 catch (  NoSuchLayoutSetBranchException nsbe) {
  }
  if (master) {
    try {
      LayoutSetBranch masterLayoutSetBranch=layoutSetBranchFinder.findByMaster(groupId,privateLayout);
      if (layoutSetBranchId != masterLayoutSetBranch.getLayoutSetBranchId()) {
        throw new LayoutSetBranchNameException(LayoutSetBranchNameException.MASTER);
      }
    }
 catch (    NoSuchLayoutSetBranchException nsbe) {
    }
  }
}
