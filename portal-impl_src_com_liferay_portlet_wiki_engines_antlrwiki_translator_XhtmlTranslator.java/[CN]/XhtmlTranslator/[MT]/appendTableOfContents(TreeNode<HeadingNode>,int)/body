{
  append("<ol>");
  List<TreeNode<HeadingNode>> childrenNodes=tableOfContents.getChildNodes();
  if (childrenNodes != null) {
    for (    TreeNode<HeadingNode> treeNode : childrenNodes) {
      append("<li class=\"toc-level-" + depth + "\">");
      HeadingNode headingNode=treeNode.getValue();
      String content=getUnformattedHeadingText(headingNode);
      append("<a class=\"wikipage\" href=\"");
      if (_viewUrl != null) {
        append(_viewUrl.toString());
      }
      append(StringPool.POUND);
      append(getHeadingMarkup(_wikiPage.getTitle(),content));
      append("\">");
      append(content);
      append("</a>");
      appendTableOfContents(treeNode,depth + 1);
      append("</li>");
    }
  }
  append("</ol>");
}
