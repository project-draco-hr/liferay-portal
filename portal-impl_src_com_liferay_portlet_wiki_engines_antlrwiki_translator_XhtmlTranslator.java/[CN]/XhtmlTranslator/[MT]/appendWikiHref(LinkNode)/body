{
  WikiPage page=null;
  try {
    page=WikiPageLocalServiceUtil.getPage(_wikiPage.getNodeId(),linkNode.getLink());
  }
 catch (  NoSuchPageException nspe) {
  }
catch (  Exception e) {
    _log.warn("Unexpected error searching for page: " + linkNode.getLink() + ". Assuming that it does not exist.");
  }
  String href=null;
  String pageTitle=HtmlUtil.escape(linkNode.getLink());
  if (page != null && _viewUrl != null) {
    _viewUrl.setParameter("title",pageTitle);
    href=_viewUrl.toString();
  }
 else   if (_editUrl != null) {
    _editUrl.setParameter("title",pageTitle);
    href=_editUrl.toString();
  }
  append(href);
}
