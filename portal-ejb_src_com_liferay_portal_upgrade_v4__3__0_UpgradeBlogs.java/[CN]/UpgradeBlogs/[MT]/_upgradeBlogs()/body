{
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(BlogsCategoryImpl.TABLE_NAME,BlogsCategoryImpl.TABLE_COLUMNS,pkUpgradeColumn);
  upgradeTable.updateTable();
  ValueMapper categoryIdMapper=pkUpgradeColumn.getValueMapper();
  categoryIdMapper.appendException(new Long(BlogsCategoryImpl.DEFAULT_PARENT_CATEGORY_ID));
  upgradeTable=new DefaultUpgradeTableImpl(BlogsCategoryImpl.TABLE_NAME,BlogsCategoryImpl.TABLE_COLUMNS,new SwapUpgradeColumnImpl("parentCategoryId",categoryIdMapper));
  upgradeTable.updateTable();
  upgradeTable=new DefaultUpgradeTableImpl(BlogsEntryImpl.TABLE_NAME,BlogsEntryImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl(),new SwapUpgradeColumnImpl("categoryId",categoryIdMapper));
  upgradeTable.updateTable();
}
