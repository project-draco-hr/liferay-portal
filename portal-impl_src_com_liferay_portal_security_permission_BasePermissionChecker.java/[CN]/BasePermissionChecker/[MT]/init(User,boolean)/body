{
  this.user=user;
  try {
    this.ownerRole=RoleLocalServiceUtil.getRole(user.getCompanyId(),RoleConstants.OWNER);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  if (user.isDefaultUser()) {
    this.defaultUserId=user.getUserId();
    this.signedIn=false;
  }
 else {
    try {
      this.defaultUserId=UserLocalServiceUtil.getDefaultUserId(user.getCompanyId());
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
    this.signedIn=true;
  }
  this.checkGuest=checkGuest;
}
