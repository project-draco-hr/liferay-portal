{
  try {
    if (groupId > 0) {
      Group group=GroupLocalServiceUtil.getGroup(groupId);
      if ((group.getCompanyId() != user.getCompanyId()) && !isOmniadmin()) {
        return false;
      }
    }
    return hasPermission(groupId,name,String.valueOf(primKey),actionId);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return false;
}
