{
  Date now=new Date();
  List<Lock> locks=lockPersistence.findByUuid(uuid);
  Lock lock=null;
  if (locks.size() > 0) {
    lock=locks.get(0);
  }
 else {
    throw new NoSuchLockException();
  }
  lock.setCreateDate(now);
  if (expirationTime == 0) {
    lock.setExpirationDate(new Date(Long.MAX_VALUE));
  }
 else {
    lock.setExpirationDate(new Date(now.getTime() + expirationTime));
  }
  lockPersistence.update(lock,false);
  return lock;
}
