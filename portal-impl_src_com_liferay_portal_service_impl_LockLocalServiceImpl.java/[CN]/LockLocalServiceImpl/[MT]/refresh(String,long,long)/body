{
  Date now=new Date();
  List<Lock> locks=lockPersistence.findByUuid_C(uuid,companyId);
  if (locks.isEmpty()) {
    throw new NoSuchLockException();
  }
  Lock lock=locks.get(0);
  lock.setCreateDate(now);
  if (expirationTime == 0) {
    lock.setExpirationDate(null);
  }
 else {
    lock.setExpirationDate(new Date(now.getTime() + expirationTime));
  }
  lockPersistence.update(lock,false);
  return lock;
}
