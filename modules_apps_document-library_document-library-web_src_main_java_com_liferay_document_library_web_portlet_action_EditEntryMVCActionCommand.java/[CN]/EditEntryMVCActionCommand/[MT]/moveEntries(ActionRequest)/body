{
  long newFolderId=ParamUtil.getLong(actionRequest,"newFolderId");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DLFileEntry.class.getName(),actionRequest);
  long[] folderIds=StringUtil.split(ParamUtil.getString(actionRequest,"folderIds"),0L);
  for (  long folderId : folderIds) {
    _dlAppService.moveFolder(folderId,newFolderId,serviceContext);
  }
  long[] fileEntryIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileEntryIds"),0L);
  for (  long fileEntryId : fileEntryIds) {
    _dlAppService.moveFileEntry(fileEntryId,newFolderId,serviceContext);
  }
  long[] fileShortcutIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileShortcutIds"),0L);
  for (  long fileShortcutId : fileShortcutIds) {
    if (fileShortcutId == 0) {
      continue;
    }
    FileShortcut fileShortcut=_dlAppService.getFileShortcut(fileShortcutId);
    _dlAppService.updateFileShortcut(fileShortcutId,newFolderId,fileShortcut.getToFileEntryId(),serviceContext);
  }
}
