{
  long[] deleteFolderIds=ParamUtil.getLongValues(actionRequest,"rowIdsFolder");
  List<TrashedModel> trashedModels=new ArrayList<>();
  for (int i=0; i < deleteFolderIds.length; i++) {
    long deleteFolderId=deleteFolderIds[i];
    if (moveToTrash) {
      Folder folder=_dlTrashService.moveFolderToTrash(deleteFolderId);
      if (folder.getModel() instanceof TrashedModel) {
        trashedModels.add((TrashedModel)folder.getModel());
      }
    }
 else {
      _dlAppService.deleteFolder(deleteFolderId);
    }
  }
  long[] deleteFileShortcutIds=ParamUtil.getLongValues(actionRequest,"rowIdsDLFileShortcut");
  for (int i=0; i < deleteFileShortcutIds.length; i++) {
    long deleteFileShortcutId=deleteFileShortcutIds[i];
    if (moveToTrash) {
      FileShortcut fileShortcut=_dlTrashService.moveFileShortcutToTrash(deleteFileShortcutId);
      if (fileShortcut.getModel() instanceof TrashedModel) {
        trashedModels.add((TrashedModel)fileShortcut.getModel());
      }
    }
 else {
      _dlAppService.deleteFileShortcut(deleteFileShortcutId);
    }
  }
  long[] deleteFileEntryIds=ParamUtil.getLongValues(actionRequest,"rowIdsFileEntry");
  for (  long deleteFileEntryId : deleteFileEntryIds) {
    if (moveToTrash) {
      FileEntry fileEntry=_dlTrashService.moveFileEntryToTrash(deleteFileEntryId);
      if (fileEntry.getModel() instanceof TrashedModel) {
        trashedModels.add((TrashedModel)fileEntry.getModel());
      }
    }
 else {
      _dlAppService.deleteFileEntry(deleteFileEntryId);
    }
  }
  if (moveToTrash && !trashedModels.isEmpty()) {
    TrashUtil.addTrashSessionMessages(actionRequest,trashedModels);
    hideDefaultSuccessMessage(actionRequest);
  }
}
