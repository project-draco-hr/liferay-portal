{
  String name=dynamicElementElement.attributeValue("name");
  String instanceId=dynamicElementElement.attributeValue("instance-id");
  if (!ddmStructure.hasField(name)) {
    return;
  }
  if (!ddmStructure.isFieldTransient(name)) {
    Field ddmField=getField(dynamicElementElement,ddmStructure,availableLanguageIds,defaultLanguageId);
    String fieldName=ddmField.getName();
    Field existingDDMField=ddmFields.get(fieldName);
    if (existingDDMField != null) {
      for (      Locale locale : ddmField.getAvailableLocales()) {
        existingDDMField.addValues(locale,ddmField.getValues(locale));
      }
    }
 else {
      ddmFields.put(ddmField);
    }
  }
  updateFieldsDisplay(ddmFields,name,instanceId);
  List<Element> childrenDynamicElementElements=dynamicElementElement.elements("dynamic-element");
  for (  Element childrenDynamicElementElement : childrenDynamicElementElements) {
    addDDMFields(childrenDynamicElementElement,ddmStructure,ddmFields,availableLanguageIds,defaultLanguageId);
  }
}
