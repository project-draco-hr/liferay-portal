{
  urlConnection.setDoOutput(true);
  Message message=messageContext.getRequestMessage();
  String contentType=message.getContentType(messageContext.getSOAPConstants());
  urlConnection.setRequestProperty("Content-Type",contentType);
  if (messageContext.useSOAPAction()) {
    urlConnection.setRequestProperty("SOAPAction",messageContext.getSOAPActionURI());
  }
  OutputStream outputStream=new UnsyncBufferedOutputStream(urlConnection.getOutputStream(),8192);
  message.writeTo(outputStream);
  outputStream.flush();
}
