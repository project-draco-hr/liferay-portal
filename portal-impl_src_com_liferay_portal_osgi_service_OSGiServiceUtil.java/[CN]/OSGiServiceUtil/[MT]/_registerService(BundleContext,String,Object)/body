{
  Set<Class<?>> interfaces=_getInterfaces(bean);
  List<String> names=new ArrayList<String>();
  for (  Class<?> interfaceClass : interfaces) {
    names.add(interfaceClass.getName());
  }
  if (names.isEmpty()) {
    return null;
  }
  Hashtable<String,Object> properties=new Hashtable<String,Object>();
  properties.put("bean.name",beanName);
  properties.put("original.bean",Boolean.TRUE);
  ServiceRegistration<?> registerService=bundleContext.registerService(names.toArray(new String[names.size()]),bean,properties);
  return registerService.getReference();
}
