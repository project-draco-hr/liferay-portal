{
  BundleContext bundleContext=componentContext.getBundleContext();
  Hashtable<String,Object> properties=new Hashtable<String,Object>();
  properties.put("bean.id",HttpServlet.class.getName());
  properties.put("original.bean",Boolean.TRUE.toString());
  String[] classes=new String[]{HttpServiceServlet.class.getName(),HttpServlet.class.getName()};
  _httpServiceServlet=new AdaptorServlet();
  ServletConfig servletConfig=new ServletConfig(){
    @Override public String getServletName(){
      return "Module Framework Servlet";
    }
    @Override public ServletContext getServletContext(){
      return _servletContext;
    }
    @Override public Enumeration<String> getInitParameterNames(){
      return _servletContext.getInitParameterNames();
    }
    @Override public String getInitParameter(    String name){
      return _servletContext.getInitParameter(name);
    }
  }
;
  try {
    _httpServiceServlet.init(servletConfig);
    _serviceRegistration=bundleContext.registerService(classes,_httpServiceServlet,properties);
  }
 catch (  ServletException se) {
    _servletContext.log(se.getMessage(),se);
  }
}
