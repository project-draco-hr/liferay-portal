{
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(group.getGroupId());
  serviceContext.setAttribute("fileEntryTypeId",_contractDLFileEntryTypeId);
  Map<String,Serializable> expandoBridgeAttributes=serviceContext.getExpandoBridgeAttributes();
  expandoBridgeAttributes.put(_EXPANDO_ATTRIBUTE_NAME,StringPool.BLANK);
  serviceContext.setExpandoBridgeAttributes(expandoBridgeAttributes);
  DLFileEntryType fileEntryType=DLFileEntryTypeLocalServiceUtil.getFileEntryType(_contractDLFileEntryTypeId);
  List<DDMStructure> ddmStructures=fileEntryType.getDDMStructures();
  for (  DDMStructure ddmStructure : ddmStructures) {
    Fields fields=new Fields();
    Set<String> names=ddmStructure.getFieldNames();
    for (    String name : names) {
      Field field=new Field(ddmStructure.getStructureId(),name,StringPool.BLANK);
      if (ddmStructure.isFieldPrivate(name)) {
        field.setValue(RandomTestUtil.randomString());
      }
      fields.put(field);
    }
    serviceContext.setAttribute(Fields.class.getName() + ddmStructure.getStructureId(),fields);
  }
  return serviceContext;
}
