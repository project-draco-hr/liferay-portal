{
  super.setUp();
  SimpleAction simpleAction=new AddDefaultDocumentLibraryStructuresAction();
  String companyIdString=String.valueOf(TestPropsValues.getCompanyId());
  simpleAction.run(new String[]{companyIdString});
  List<DLFileEntryType> dlFileEntryTypes=DLFileEntryTypeLocalServiceUtil.getFileEntryTypes(PortalUtil.getSiteAndCompanyGroupIds(group.getGroupId()));
  for (  DLFileEntryType dlFileEntryType : dlFileEntryTypes) {
    String name=dlFileEntryType.getName(LocaleUtil.getSiteDefault());
    if (name.equals(DLFileEntryTypeConstants.NAME_CONTRACT)) {
      _contractDLFileEntryTypeId=dlFileEntryType.getFileEntryTypeId();
    }
  }
  ExpandoTable expandoTable=ExpandoTableLocalServiceUtil.addDefaultTable(PortalUtil.getDefaultCompanyId(),DLFileEntry.class.getName());
  ExpandoColumnLocalServiceUtil.addColumn(expandoTable.getTableId(),_EXPANDO_ATTRIBUTE_NAME,ExpandoColumnConstants.STRING,StringPool.BLANK);
  _serviceContext=getServiceContext();
  FileEntry fileEntry=DLAppServiceUtil.addFileEntry(group.getGroupId(),parentFolder.getFolderId(),_SOURCE_FILE_NAME,ContentTypes.APPLICATION_OCTET_STREAM,_TITLE,StringPool.BLANK,StringPool.BLANK,_DATA_VERSION_1,_serviceContext);
  _fileVersion=DLFileVersionLocalServiceUtil.getFileVersion(fileEntry.getFileEntryId(),DLFileEntryConstants.VERSION_DEFAULT);
}
