{
  Map<String,Serializable> expandoBridgeAttributes=_serviceContext.getExpandoBridgeAttributes();
  expandoBridgeAttributes.put(_EXPANDO_ATTRIBUTE_NAME,expando);
  _serviceContext.setExpandoBridgeAttributes(expandoBridgeAttributes);
  _serviceContext.setAttribute("fileEntryTypeId",fileEntryTypeId);
  if (fileEntryTypeId <= 0) {
    return;
  }
  DLFileEntryType fileEntryType=DLFileEntryTypeLocalServiceUtil.getFileEntryType(fileEntryTypeId);
  List<DDMStructure> ddmStructures=fileEntryType.getDDMStructures();
  for (  DDMStructure ddmStructure : ddmStructures) {
    Fields fields=(Fields)_serviceContext.getAttribute(Fields.class.getName() + ddmStructure.getStructureId());
    for (    Field field : fields) {
      String type=field.getType();
      if (!field.isPrivate() && type.equals("text")) {
        field.setValue(metadata);
      }
    }
    _serviceContext.setAttribute(Fields.class.getName() + ddmStructure.getStructureId(),fields);
  }
}
