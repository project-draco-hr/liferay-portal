{
  try {
    File parentFile=new File(inputFileName).getParentFile();
    File tempFile=null;
    boolean modifySourceMap=false;
    if ((inputFileName == null) || inputFileName.equals("")) {
      tempFile=new File(_TMP_DIR,"tmp.scss");
      if (generateSourceMap) {
        System.out.println("Source maps require a fileName");
        generateSourceMap=false;
      }
    }
 else {
      modifySourceMap=true;
      String fileName=inputFileName.substring(inputFileName.lastIndexOf("/"));
      tempFile=new File(parentFile.getCanonicalPath(),"tmp.scss");
      if ((sourceMapFileName == null) || sourceMapFileName.equals("")) {
        sourceMapFileName=parentFile.getPath() + fileName + ".map";
      }
    }
    tempFile.deleteOnExit();
    write(tempFile,input);
    String output=compileFile(tempFile.getCanonicalPath(),includeDirName,generateSourceMap,sourceMapFileName);
    if (modifySourceMap) {
      String fileName=inputFileName.substring(inputFileName.lastIndexOf("/"));
      File sourceMapFile=new File(sourceMapFileName);
      String sourceMapContent=new String(Files.readAllBytes(sourceMapFile.toPath()));
      sourceMapContent=sourceMapContent.replaceAll("tmp\\.scss",fileName);
      sourceMapContent=sourceMapContent.replaceAll("tmp\\.css",getOutputFileName(fileName));
      write(sourceMapFile,sourceMapContent);
    }
    return output;
  }
 catch (  Throwable t) {
    throw new JniSassCompilerException(t);
  }
}
