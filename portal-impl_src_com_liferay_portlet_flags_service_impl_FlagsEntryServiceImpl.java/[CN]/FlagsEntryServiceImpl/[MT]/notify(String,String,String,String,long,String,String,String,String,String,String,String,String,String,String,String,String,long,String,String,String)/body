{
  Date now=new Date();
  subject=StringUtil.replace(subject,new String[]{"[$FROM_ADDRESS$]","[$FROM_NAME$]","[$TO_ADDRESS$]","[$TO_NAME$]","[$COMPANY_ID$]","[$COMPANY_MX$]","[$COMPANY_NAME$]","[$PORTAL_URL$]","[$COMMUNITY_NAME$]","[$REPORTER_USER_ADDRESS$]","[$REPORTER_USER_NAME$]","[$REPORTED_USER_ADDRESS$]","[$REPORTED_USER_NAME$]","[$REPORTED_USER_URL$]","[$CONTENT_TITLE$]","[$CONTENT_TYPE$]","[$CONTENT_URL$]","[$CONTENT_ID$]","[$REASON$]","[$DATE$]"},new String[]{fromAddress,fromName,toAddress,toName,String.valueOf(companyId),companyMx,companyName,portalURL,groupName,reporterUserEmailAddress,reporterUserName,reportedUserEmailAddress,reportedUserName,reportedUserURL,contentTitle,contentType,contentURL,String.valueOf(contentId),reason,now.toString()});
  body=StringUtil.replace(body,new String[]{"[$FROM_ADDRESS$]","[$FROM_NAME$]","[$TO_ADDRESS$]","[$TO_NAME$]","[$COMPANY_ID$]","[$COMPANY_MX$]","[$COMPANY_NAME$]","[$PORTAL_URL$]","[$COMMUNITY_NAME$]","[$REPORTER_USER_ADDRESS$]","[$REPORTER_USER_NAME$]","[$REPORTED_USER_ADDRESS$]","[$REPORTED_USER_NAME$]","[$REPORTED_USER_URL$]","[$CONTENT_TITLE$]","[$CONTENT_TYPE$]","[$CONTENT_URL$]","[$CONTENT_ID$]","[$REASON$]","[$DATE$]"},new String[]{fromAddress,fromName,toAddress,toName,String.valueOf(companyId),companyMx,companyName,portalURL,groupName,reporterUserEmailAddress,reporterUserName,reportedUserEmailAddress,reportedUserName,reportedUserURL,contentTitle,contentType,contentURL,String.valueOf(contentId),reason,now.toString()});
  InternetAddress from=new InternetAddress(fromAddress,fromName);
  InternetAddress to=new InternetAddress(toAddress,toName);
  MailMessage message=new MailMessage(from,to,subject,body,true);
  mailService.sendEmail(message);
}
