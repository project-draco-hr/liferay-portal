{
  if (method.getDeclaringClass() == Object.class) {
    String methodName=method.getName();
    if (methodName.equals("equals")) {
      if (proxy == arguments[0]) {
        return true;
      }
 else {
        return false;
      }
    }
  }
  if (!PACLPolicyManager.isActive()) {
    return method.invoke(_bean,arguments);
  }
  if (_log.isDebugEnabled()) {
    Class<?> clazz=_bean.getClass();
    String className=clazz.getName();
    if (className.equals(GroupPersistenceImpl.class.getName()) || className.equals(UserPersistenceImpl.class.getName())) {
      _log.debug("Intercepting " + className + "#"+ method.getName());
    }
  }
  SecurityManager sm=System.getSecurityManager();
  if (sm != null) {
    sm.checkPermission(new PortalServicePermission("hasService",null,_bean,method));
  }
  return method.invoke(_bean,arguments);
}
