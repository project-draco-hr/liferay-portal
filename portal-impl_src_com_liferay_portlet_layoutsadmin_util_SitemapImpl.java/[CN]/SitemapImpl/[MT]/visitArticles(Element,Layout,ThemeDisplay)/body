{
  List<JournalArticle> journalArticles=JournalArticleServiceUtil.getArticlesByLayoutUuid(layout.getGroupId(),layout.getUuid());
  if (journalArticles.isEmpty()) {
    return;
  }
  List<String> processedArticleIds=new ArrayList<String>();
  for (  JournalArticle journalArticle : journalArticles) {
    if (processedArticleIds.contains(journalArticle.getArticleId()) || (journalArticle.getStatus() != WorkflowConstants.STATUS_APPROVED)) {
      continue;
    }
    String portalURL=PortalUtil.getPortalURL(layout,themeDisplay);
    String groupFriendlyURL=PortalUtil.getGroupFriendlyURL(GroupLocalServiceUtil.getGroup(journalArticle.getGroupId()),false,themeDisplay);
    StringBundler sb=new StringBundler(4);
    sb.append(portalURL);
    sb.append(groupFriendlyURL);
    sb.append(JournalArticleConstants.CANONICAL_URL_SEPARATOR);
    sb.append(journalArticle.getUrlTitle());
    String articleURL=PortalUtil.getCanonicalURL(sb.toString(),themeDisplay,layout);
    generateSitemapTag(element,articleURL,null);
    String defaultLocale=journalArticle.getDefaultLocale();
    String[] availableLocales=journalArticle.getAvailableLocales();
    if (availableLocales.length > 1) {
      for (      String curLocale : availableLocales) {
        if (curLocale.equals(defaultLocale)) {
          continue;
        }
        String alternateURL=PortalUtil.getAlternateURL(articleURL,themeDisplay,LocaleUtil.fromLanguageId(curLocale));
        generateSitemapTag(element,alternateURL,null);
      }
    }
    processedArticleIds.add(journalArticle.getArticleId());
  }
}
