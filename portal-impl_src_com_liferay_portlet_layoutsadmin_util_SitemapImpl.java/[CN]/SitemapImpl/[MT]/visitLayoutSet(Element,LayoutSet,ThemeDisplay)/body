{
  if (layoutSet.isPrivateLayout()) {
    return;
  }
  String portalURL=themeDisplay.getPortalURL();
  Map<String,LayoutTypeController> layoutTypeControllers=LayoutTypeControllerTracker.getLayoutTypeControllers();
  for (  Map.Entry<String,LayoutTypeController> entry : layoutTypeControllers.entrySet()) {
    LayoutTypeController layoutTypeController=entry.getValue();
    if (!layoutTypeController.isSitemapable()) {
      continue;
    }
    List<Layout> layouts=LayoutLocalServiceUtil.getLayouts(layoutSet.getGroupId(),layoutSet.getPrivateLayout(),entry.getKey());
    for (    Layout layout : layouts) {
      Element sitemapElement=element.addElement("sitemap");
      Element locationElement=sitemapElement.addElement("loc");
      StringBundler sb=new StringBundler(7);
      sb.append(portalURL);
      sb.append("/sitemap.xml?groupId=");
      sb.append(layoutSet.getGroupId());
      sb.append("&layoutUuid=");
      sb.append(layout.getUuid());
      sb.append("&privateLayout=");
      sb.append(layout.getPrivateLayout());
      locationElement.addText(sb.toString());
    }
  }
}
