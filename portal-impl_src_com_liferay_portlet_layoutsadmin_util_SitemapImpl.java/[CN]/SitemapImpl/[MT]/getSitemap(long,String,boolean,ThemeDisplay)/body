{
  Document document=SAXReaderUtil.createDocument();
  document.setXMLEncoding(StringPool.UTF8);
  Element rootElement=document.addElement("urlset","http://www.sitemaps.org/schemas/sitemap/0.9");
  rootElement.addAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml");
  LayoutSet layoutSet=LayoutSetLocalServiceUtil.getLayoutSet(groupId,privateLayout);
  List<SitemapURLProvider> sitemapURLProviders=SitemapURLProviderRegistryUtil.getSitemapURLProviders();
  for (  SitemapURLProvider sitemapURLProvider : sitemapURLProviders) {
    if (Validator.isNull(layoutUuid)) {
      sitemapURLProvider.visitLayoutSet(rootElement,layoutSet,themeDisplay);
    }
 else {
      sitemapURLProvider.visitLayout(rootElement,layoutSet,layoutUuid,themeDisplay);
    }
  }
  return document.asXML();
}
