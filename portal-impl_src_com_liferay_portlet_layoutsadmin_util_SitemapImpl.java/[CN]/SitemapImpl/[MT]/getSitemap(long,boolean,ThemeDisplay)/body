{
  Document document=SAXReaderUtil.createDocument();
  document.setXMLEncoding(StringPool.UTF8);
  Element rootElement=document.addElement("urlset","http://www.sitemaps.org/schemas/sitemap/0.9");
  rootElement.addAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml");
  List<Layout> layouts=LayoutLocalServiceUtil.getLayouts(groupId,privateLayout);
  List<SitemapURLProvider> sitemapURLProviders=SitemapURLProviderRegistryUtil.getSitemapURLProviders();
  for (  Layout layout : layouts) {
    for (    SitemapURLProvider sitemapURLProvider : sitemapURLProviders) {
      sitemapURLProvider.visitLayout(rootElement,layout,themeDisplay);
    }
  }
  return document.asXML();
}
