{
  String path=super.processPath(request,response);
  ActionMapping mapping=(ActionMapping)moduleConfig.findActionConfig(path);
  Action action=StrutsActionWrapperRegistry.getAction(path);
  if (mapping == null && action == null) {
    String lastPath=getLastPath(request);
    if (_log.isDebugEnabled()) {
      _log.debug("Last path " + lastPath);
    }
    response.sendRedirect(lastPath);
    return;
  }
  super.process(request,response);
  try {
    if (isPortletPath(path)) {
      cleanUp(request);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
