{
  Map<Locale,String> titleMap=new HashMap<Locale,String>();
  titleMap.put(LocaleUtil.getDefault(),ServiceTestUtil.randomString());
  Map<Locale,String> descriptionMap=new HashMap<Locale,String>();
  descriptionMap.put(LocaleUtil.getDefault(),ServiceTestUtil.randomString());
  Calendar displayDateCalendar=getCalendarFromDate(displayDate,when);
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(groupId);
  if (approved) {
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_PUBLISH);
  }
 else {
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  }
  return JournalArticleLocalServiceUtil.addArticle(TestPropsValues.getUserId(),groupId,JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID,JournalArticleConstants.CLASSNAME_ID_DEFAULT,0,StringPool.BLANK,true,JournalArticleConstants.VERSION_DEFAULT,titleMap,descriptionMap,JournalTestUtil.createLocalizedContent(ServiceTestUtil.randomString(),LocaleUtil.getDefault()),"general",null,null,null,displayDateCalendar.get(Calendar.MONTH),displayDateCalendar.get(Calendar.DAY_OF_MONTH),displayDateCalendar.get(Calendar.YEAR),displayDateCalendar.get(Calendar.HOUR_OF_DAY),displayDateCalendar.get(Calendar.MINUTE),0,0,0,0,0,true,0,0,0,0,0,true,true,false,null,null,null,null,serviceContext);
}
