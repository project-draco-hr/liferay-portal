{
  Assert.assertSame(_ehcache,_ehcachePortalCache.ehcache);
  Map<PortalCacheListener<String,String>,PortalCacheListenerScope> oldPortalCacheListeners=_ehcachePortalCache.getPortalCacheListeners();
  _cacheManager.addCache(_NEW_PORTAL_CACHE_NAME);
  Ehcache ehcache2=_cacheManager.getCache(_NEW_PORTAL_CACHE_NAME);
  _ehcachePortalCache.reconfigEhcache(ehcache2);
  Assert.assertSame(ehcache2,_ehcachePortalCache.ehcache);
  Assert.assertEquals(oldPortalCacheListeners,_ehcachePortalCache.getPortalCacheListeners());
  RegisteredEventListeners registeredEventListeners=_ehcache.getCacheEventNotificationService();
  Set<CacheEventListener> cacheEventListeners=registeredEventListeners.getCacheEventListeners();
  Assert.assertTrue(cacheEventListeners.isEmpty());
  registeredEventListeners=ehcache2.getCacheEventNotificationService();
  cacheEventListeners=registeredEventListeners.getCacheEventListeners();
  Assert.assertFalse(cacheEventListeners.isEmpty());
}
