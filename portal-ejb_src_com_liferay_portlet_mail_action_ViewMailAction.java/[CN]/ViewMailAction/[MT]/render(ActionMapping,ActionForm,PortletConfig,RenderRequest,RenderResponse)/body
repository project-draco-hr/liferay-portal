{
  try {
    PortletSession ses=req.getPortletSession();
    String folderId=MailUtil.getCurrentFolderName(ses);
    Long messageId=MailUtil.getCurrentMessageId(ses);
    if (folderId != null) {
      req.setAttribute("folderId",folderId);
    }
    if (messageId != null) {
      req.setAttribute("messageId",messageId);
    }
  }
 catch (  Exception ex) {
    _log.warn("Exception caught while attempting to get " + "current folder and message UID");
  }
  return mapping.findForward("portlet.mail.view");
}
