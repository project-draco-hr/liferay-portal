{
  String anyAssetTypeString=getParameter(actionRequest,"anyAssetType");
  boolean anyAssetType=GetterUtil.getBoolean(anyAssetTypeString);
  if (anyAssetType) {
    return null;
  }
  long defaultAssetTypeId=GetterUtil.getLong(anyAssetTypeString);
  if ((defaultAssetTypeId == 0) && (classNameIds.length == 1)) {
    defaultAssetTypeId=GetterUtil.getLong(classNameIds[0]);
  }
  if (defaultAssetTypeId <= 0) {
    return null;
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String className=PortalUtil.getClassName(defaultAssetTypeId);
  AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(className);
  ClassTypeReader classTypeReader=assetRendererFactory.getClassTypeReader();
  List<ClassType> classTypes=classTypeReader.getAvailableClassTypes(PortalUtil.getCurrentAndAncestorSiteGroupIds(themeDisplay.getSiteGroupId()),themeDisplay.getLocale());
  if (classTypes.isEmpty()) {
    return null;
  }
  String assetClassName=AssetPublisherUtil.getClassName(assetRendererFactory);
  return assetClassName;
}
