{
  try {
    String nickname=_getNickname(emailAddress);
    GUserManager gUserManager=GoogleAppsFactoryUtil.getGUserManager(companyId);
    gUserManager.addGUser(userId,password,firstName,lastName);
    GNicknameManager gNicknameManager=GoogleAppsFactoryUtil.getGNicknameManager(companyId);
    gNicknameManager.addGNickname(userId,nickname);
    GEmailSettingsManager gEmailSettingsManager=GoogleAppsFactoryUtil.getGEmailSettingsManager(companyId);
    FullNameGenerator fullNameGenerator=FullNameGeneratorFactory.getInstance();
    gEmailSettingsManager.addSendAs(userId,fullNameGenerator.getFullName(firstName,middleName,lastName),emailAddress);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
