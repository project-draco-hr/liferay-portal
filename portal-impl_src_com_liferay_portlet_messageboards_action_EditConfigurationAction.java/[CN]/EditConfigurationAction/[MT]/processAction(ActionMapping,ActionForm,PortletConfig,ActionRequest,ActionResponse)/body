{
  String cmd=ParamUtil.getString(req,Constants.CMD);
  if (!cmd.equals(Constants.UPDATE)) {
    return;
  }
  String portletResource=ParamUtil.getString(req,"portletResource");
  PortletPreferences prefs=PortletPreferencesFactory.getPortletSetup(req,portletResource,false,true);
  String tabs2=ParamUtil.getString(req,"tabs2");
  if (tabs2.equals("display-settings")) {
    updateDisplaySettings(req,prefs);
  }
 else   if (tabs2.equals("email-from")) {
    updateEmailFrom(req,prefs);
  }
 else   if (tabs2.equals("message-added-email")) {
    updateEmailMessageAdded(req,prefs);
  }
 else   if (tabs2.equals("message-updated-email")) {
    updateEmailMessageUpdated(req,prefs);
  }
 else   if (tabs2.equals("thread-priorities")) {
    updateThreadPriorities(req,prefs);
  }
 else   if (tabs2.equals("user-ranks")) {
    updateUserRanks(req,prefs);
  }
  if (SessionErrors.isEmpty(req)) {
    prefs.store();
    SessionMessages.add(req,config.getPortletName() + ".doConfigure");
  }
}
