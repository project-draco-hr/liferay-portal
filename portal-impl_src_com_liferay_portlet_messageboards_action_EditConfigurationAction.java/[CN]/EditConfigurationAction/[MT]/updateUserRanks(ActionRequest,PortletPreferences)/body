{
  String[] ranks=StringUtil.split(ParamUtil.getString(req,"ranks"),StringPool.NEW_LINE);
  Map map=new TreeMap();
  for (int i=0; i < ranks.length; i++) {
    String[] kvp=StringUtil.split(ranks[i],StringPool.EQUAL);
    String kvpName=kvp[0];
    Integer kvpPosts=new Integer(GetterUtil.getInteger(kvp[1]));
    map.put(kvpPosts,kvpName);
  }
  ranks=new String[map.size()];
  int count=0;
  Iterator itr=map.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    Integer kvpPosts=(Integer)entry.getKey();
    String kvpName=(String)entry.getValue();
    ranks[count++]=kvpName + StringPool.EQUAL + kvpPosts.toString();
  }
  String languageId=ParamUtil.getString(req,"languageId");
  prefs.setValues(MBUtil.getRanksKey(languageId),ranks);
}
