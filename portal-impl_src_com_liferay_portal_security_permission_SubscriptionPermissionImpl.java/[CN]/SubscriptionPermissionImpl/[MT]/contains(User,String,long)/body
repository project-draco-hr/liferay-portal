{
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  if (permissionChecker == null) {
    try {
      permissionChecker=PermissionCheckerFactoryUtil.create(user,true);
      PermissionThreadLocal.setPermissionChecker(permissionChecker);
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn("Subscription permission checking failed for user: " + user.getUserId());
      }
      return false;
    }
  }
  if (className == null) {
    return false;
  }
 else   if (className.equals(BlogsEntry.class.getName())) {
    return BlogsPermission.contains(permissionChecker,classPK,ActionKeys.SUBSCRIBE);
  }
 else   if (className.equals(JournalArticle.class.getName())) {
    return JournalPermission.contains(permissionChecker,classPK,ActionKeys.SUBSCRIBE);
  }
 else   if (className.equals(MBCategory.class.getName())) {
    return MBCategoryPermission.contains(permissionChecker,classPK,ActionKeys.SUBSCRIBE);
  }
 else   if (className.equals(MBThread.class.getName())) {
    return MBMessagePermission.contains(permissionChecker,classPK,ActionKeys.SUBSCRIBE);
  }
 else   if (className.equals(WikiNode.class.getName())) {
    return WikiNodePermission.contains(permissionChecker,classPK,ActionKeys.SUBSCRIBE);
  }
 else   if (className.equals(WikiPage.class.getName())) {
    return WikiPagePermission.contains(permissionChecker,classPK,ActionKeys.SUBSCRIBE);
  }
  return true;
}
