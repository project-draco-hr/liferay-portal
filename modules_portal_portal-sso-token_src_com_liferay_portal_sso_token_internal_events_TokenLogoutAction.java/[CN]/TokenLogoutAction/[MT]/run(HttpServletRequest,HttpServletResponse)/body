{
  try {
    long companyId=PortalUtil.getCompanyId(request);
    if (!PrefsPropsUtil.getBoolean(companyId,TokenPropsKeys.ENABLED,_tokenBasedConfiguration.enabled())) {
      return;
    }
    String[] authenticationCookies=StringUtil.split(_tokenBasedConfiguration.authenticationCookies());
    if (ArrayUtil.isNotEmpty(authenticationCookies)) {
      LogoutProcessor cookieLogoutProcessor=_logoutProcessors.get(LogoutProcessorType.COOKIE);
      if (cookieLogoutProcessor != null) {
        cookieLogoutProcessor.logout(request,response,authenticationCookies);
      }
    }
    String logoutRedirectURL=_tokenBasedConfiguration.logoutRedirectURL();
    if (Validator.isNotNull(logoutRedirectURL)) {
      LogoutProcessor redirectLogoutProcessor=_logoutProcessors.get(LogoutProcessorType.REDIRECT);
      if (redirectLogoutProcessor != null) {
        redirectLogoutProcessor.logout(request,response,logoutRedirectURL);
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
