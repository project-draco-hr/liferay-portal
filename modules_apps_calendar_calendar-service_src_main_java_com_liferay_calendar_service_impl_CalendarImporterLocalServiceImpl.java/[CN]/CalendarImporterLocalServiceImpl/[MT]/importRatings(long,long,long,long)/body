{
  List<RatingsEntry> ratingsEntries=ratingsEntryPersistence.findByC_C(oldClassNameId,oldClassPK);
  for (  RatingsEntry ratingsEntry : ratingsEntries) {
    addRatingsEntry(counterLocalService.increment(),ratingsEntry.getCompanyId(),ratingsEntry.getUserId(),ratingsEntry.getUserName(),ratingsEntry.getCreateDate(),ratingsEntry.getModifiedDate(),classNameId,classPK,ratingsEntry.getScore());
  }
  RatingsStats ratingsStats=ratingsStatsPersistence.fetchByC_C(oldClassNameId,oldClassPK);
  if (ratingsStats == null) {
    return;
  }
  addRatingsStats(counterLocalService.increment(),classNameId,classPK,ratingsStats.getTotalEntries(),ratingsStats.getTotalScore(),ratingsStats.getAverageScore());
}
