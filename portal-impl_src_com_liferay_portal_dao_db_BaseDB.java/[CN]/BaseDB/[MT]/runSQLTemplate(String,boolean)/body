{
  Thread currentThread=Thread.currentThread();
  ClassLoader classLoader=currentThread.getContextClassLoader();
  InputStream is=classLoader.getResourceAsStream("com/liferay/portal/tools/sql/dependencies/" + path);
  if (is == null) {
    is=classLoader.getResourceAsStream(path);
  }
  if (is == null) {
    _log.error("Invalid path " + path);
    if (failOnError) {
      throw new IOException("Invalid path " + path);
    }
 else {
      return;
    }
  }
  String template=StringUtil.read(is);
  is.close();
  boolean evaluate=path.endsWith(".vm");
  runSQLTemplateString(template,evaluate,failOnError);
}
