{
  List<Element> dynamicElements=element.elements("dynamic-element");
  JSONArray children=JSONFactoryUtil.createJSONArray();
  for (  Element dynamicElement : dynamicElements) {
    JSONObject field=JSONFactoryUtil.createJSONObject();
    for (    Attribute attribute : dynamicElement.attributes()) {
      field.put(attribute.getName(),attribute.getValue());
    }
    Element metadata=dynamicElement.element("meta-data");
    if (metadata != null) {
      for (      Element metadataEntry : metadata.elements()) {
        field.put(metadataEntry.attributeValue("name"),metadataEntry.getText());
      }
    }
    String type=field.getString("type");
    String key="fields";
    if (type.equals(_TYPE_RADIO) || type.equals(_TYPE_SELECT)) {
      key="options";
    }
    field.put(key,getJSONArray(dynamicElement));
    children.put(field);
  }
  return children;
}
