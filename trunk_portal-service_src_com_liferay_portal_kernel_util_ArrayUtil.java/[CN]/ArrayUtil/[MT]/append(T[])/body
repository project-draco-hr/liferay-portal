{
  int length=0;
  for (  T[] array : arrays) {
    length+=array.length;
  }
  Class<?> arraysClass=arrays.getClass();
  T[] newArray=(T[])Array.newInstance(arraysClass.getComponentType(),length);
  int previousLength=0;
  for (  T[] array : arrays) {
    System.arraycopy(array,0,newArray,previousLength,array.length);
    previousLength+=array.length;
  }
  return newArray;
}
