{
  List<PortletPreferences> portletPreferences=_getPortletPreferences(getGroupId());
  if (portletPreferences.isEmpty()) {
    return false;
  }
  for (  PortletPreferences portletPreference : portletPreferences) {
    String currentPortletId=portletPreference.getPortletId();
    if (!portletId.equals(currentPortletId)) {
      continue;
    }
    Portlet portlet=PortletLocalServiceUtil.getPortletById(getCompanyId(),currentPortletId);
    if ((portlet != null) && portlet.isReady() && !portlet.isUndeployedPortlet()&& portlet.isActive()) {
      return true;
    }
  }
  return false;
}
