{
  long ancestorLayoutId=0;
  try {
    Layout ancestorLayout=this;
    while (true) {
      if (!ancestorLayout.isRootLayout()) {
        ancestorLayout=LayoutLocalServiceUtil.getLayout(ancestorLayout.getGroupId(),ancestorLayout.isPrivateLayout(),ancestorLayout.getParentLayoutId());
      }
 else {
        ancestorLayoutId=ancestorLayout.getLayoutId();
        break;
      }
    }
  }
 catch (  Exception e) {
    _log.error(e);
  }
  return ancestorLayoutId;
}
