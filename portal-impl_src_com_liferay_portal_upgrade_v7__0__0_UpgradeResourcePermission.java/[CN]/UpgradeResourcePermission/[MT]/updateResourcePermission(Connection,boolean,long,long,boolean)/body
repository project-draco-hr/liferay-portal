{
  PreparedStatement ps=null;
  try {
    ps=con.prepareStatement("update ResourcePermission set primKeyId = ?," + "viewActionId = ?  where resourcePermissionId = ?");
    ps.setLong(1,newPrimKeyId);
    if (newViewActionId) {
      ps.setBoolean(2,true);
    }
 else {
      ps.setBoolean(2,false);
    }
    ps.setLong(3,resourcePermissionId);
    int count=0;
    if (supportsBatchUpdates) {
      ps.addBatch();
      if (count == PropsValues.HIBERNATE_JDBC_BATCH_SIZE) {
        ps.executeBatch();
        count=0;
      }
 else {
        count++;
      }
    }
 else {
      ps.executeUpdate();
    }
  }
  finally {
    DataAccess.cleanUp(ps);
  }
}
