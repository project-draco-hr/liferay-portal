{
  boolean importThemeSettings=MapUtil.getBoolean(portletDataContext.getParameterMap(),PortletDataHandlerKeys.THEME_REFERENCE);
  if (_log.isDebugEnabled()) {
    _log.debug("Import theme settings " + importThemeSettings);
  }
  if (!importThemeSettings) {
    return;
  }
  Element importDataRootElement=portletDataContext.getImportDataRootElement();
  Element headerElement=importDataRootElement.element("header");
  String themeId=layoutSet.getThemeId();
  String colorSchemeId=layoutSet.getColorSchemeId();
  Attribute themeIdAttribute=headerElement.attribute("theme-id");
  if (themeIdAttribute != null) {
    themeId=themeIdAttribute.getValue();
  }
  Attribute colorSchemeIdAttribute=headerElement.attribute("color-scheme-id");
  if (colorSchemeIdAttribute != null) {
    colorSchemeId=colorSchemeIdAttribute.getValue();
  }
  String css=GetterUtil.getString(headerElement.elementText("css"));
  LayoutSetLocalServiceUtil.updateLookAndFeel(layoutSet.getGroupId(),layoutSet.isPrivateLayout(),themeId,colorSchemeId,css);
}
