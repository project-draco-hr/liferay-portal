{
  PreparedStatementInvocationHandler preparedStatementInvocationHandler=new PreparedStatementInvocationHandler(false);
  List<Method> methods=preparedStatementInvocationHandler.getMethods();
  try (PreparedStatement preparedStatement=AutoBatchPreparedStatementUtil.autoBatch((PreparedStatement)ProxyUtil.newProxyInstance(ClassLoader.getSystemClassLoader(),new Class<?>[]{PreparedStatement.class},preparedStatementInvocationHandler))){
    Assert.assertTrue(methods.toString(),methods.isEmpty());
    preparedStatement.addBatch();
    Assert.assertEquals(methods.toString(),1,methods.size());
    Assert.assertEquals(PreparedStatement.class.getMethod("executeUpdate"),methods.remove(0));
    Assert.assertArrayEquals(new int[0],preparedStatement.executeBatch());
    Assert.assertTrue(methods.toString(),methods.isEmpty());
    preparedStatement.execute();
    Assert.assertEquals(methods.toString(),1,methods.size());
    Assert.assertEquals(PreparedStatement.class.getMethod("execute"),methods.remove(0));
  }
   Assert.assertEquals(methods.toString(),1,methods.size());
  Assert.assertEquals(PreparedStatement.class.getMethod("close"),methods.remove(0));
}
