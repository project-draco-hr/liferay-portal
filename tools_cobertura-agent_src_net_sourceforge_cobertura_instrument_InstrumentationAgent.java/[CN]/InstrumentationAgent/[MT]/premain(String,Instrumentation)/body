{
  String[] arguments=agentArguments.split(";");
  String[] includes=arguments[0].split(",");
  String[] excludes=arguments[1].split(",");
  boolean coberturaParentDynamicallyInstrumented=Boolean.getBoolean("cobertura.parent.dynamically.instrumented");
  boolean junitCodeCoverage=Boolean.getBoolean("junit.code.coverage");
  _staticallyInstrumented=!coberturaParentDynamicallyInstrumented && junitCodeCoverage;
  if (junitCodeCoverage) {
    CoberturaClassFileTransformer coberturaClassFileTransformer=new CoberturaClassFileTransformer(includes,excludes,_lockFile);
    instrumentation.addTransformer(coberturaClassFileTransformer);
  }
 else   if (instrumentation.isRetransformClassesSupported() && instrumentation.isRedefineClassesSupported()) {
    _instrumentation=instrumentation;
    _includes=includes;
    _excludes=excludes;
    File dataFile=CoverageDataFileHandler.getDefaultDataFile();
    dataFile.delete();
  }
 else {
    System.out.println("Current JVM is not capable for Dynamic instrumententation. " + "RetransformClassesSupported = " + instrumentation.isRetransformClassesSupported() + ", RedefineClassesSupported = "+ instrumentation.isRedefineClassesSupported()+ " . Dynamic instrumententation is "+ "disabled.");
  }
}
