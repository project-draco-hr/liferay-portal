{
  IdempotentRetryAssert.retryAssert(10,TimeUnit.SECONDS,new Callable<Void>(){
    @Override public Void call() throws Exception {
      FieldMappingMetaData fieldMappingMetaData=getFieldMapping(field,type,index,indicesAdminClient);
      Assert.assertEquals(analyzer,getAnalyzer(fieldMappingMetaData,field));
      return null;
    }
  }
);
}
