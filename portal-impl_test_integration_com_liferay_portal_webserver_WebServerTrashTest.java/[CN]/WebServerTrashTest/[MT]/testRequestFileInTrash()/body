{
  FileEntry fileEntry=addFileEntry(false,"Test Trash.txt");
  MockHttpServletResponse mockHttpServletResponse=testRequestFile(fileEntry,_user,false);
  Assert.assertEquals(MockHttpServletResponse.SC_OK,mockHttpServletResponse.getStatus());
  DLAppServiceUtil.moveFileEntryToTrash(fileEntry.getFileEntryId());
  mockHttpServletResponse=testRequestFile(fileEntry,_user,false);
  Assert.assertEquals(MockHttpServletResponse.SC_NOT_FOUND,mockHttpServletResponse.getStatus());
  mockHttpServletResponse=testRequestFile(fileEntry,_user,true);
  Assert.assertEquals(MockHttpServletResponse.SC_UNAUTHORIZED,mockHttpServletResponse.getStatus());
  RoleLocalServiceUtil.addUserRoles(_user.getUserId(),new long[]{_role.getRoleId()});
  mockHttpServletResponse=testRequestFile(fileEntry,_user,true);
  Assert.assertEquals(MockHttpServletResponse.SC_OK,mockHttpServletResponse.getStatus());
}
