{
  StringBundler sb=new StringBundler(4);
  sb.append(StringPool.SLASH);
  sb.append(fileEntry.getGroupId());
  sb.append(StringPool.SLASH);
  sb.append(fileEntry.getUuid());
  String path=sb.toString();
  Map<String,String> params=new HashMap<String,String>();
  if (statusInTrash) {
    params.put("status",String.valueOf(WorkflowConstants.STATUS_IN_TRASH));
  }
  MockHttpServletResponse response=service(Method.GET,path,null,params,user,null);
  resetPermissionThreadLocal();
  return response;
}
