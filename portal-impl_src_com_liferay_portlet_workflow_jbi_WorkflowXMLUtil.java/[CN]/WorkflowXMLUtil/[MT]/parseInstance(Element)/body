{
  long instanceId=GetterUtil.getLong(el.elementText("instanceId"));
  Date startDate=parseDateTime(el.elementText("startDate"));
  Date endDate=parseDateTime(el.elementText("endDate"));
  boolean ended=GetterUtil.getBoolean(el.elementText("ended"));
  List definitions=parseDefinitions(el);
  WorkflowDefinition definition=(WorkflowDefinition)definitions.get(0);
  List tokens=parseTokens(el);
  WorkflowToken token=new WorkflowToken();
  if (tokens.size() > 0) {
    token=(WorkflowToken)tokens.get(0);
  }
  WorkflowInstance instance=new WorkflowInstance();
  instance.setInstanceId(instanceId);
  instance.setDefinition(definition);
  instance.setStartDate(startDate);
  instance.setEndDate(endDate);
  instance.setToken(token);
  instance.setEnded(ended);
  return instance;
}
