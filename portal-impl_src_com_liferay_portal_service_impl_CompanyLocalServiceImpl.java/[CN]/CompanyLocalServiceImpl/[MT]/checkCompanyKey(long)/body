{
  Company company=companyPersistence.findByPrimaryKey(companyId);
  if (Validator.isNull(company.getKey()) || (company.getKeyObj() == null)) {
    try {
      company.setKey(Base64.objectToString(Encryptor.generateKey()));
    }
 catch (    EncryptorException ee) {
      throw new SystemException(ee);
    }
    companyPersistence.update(company);
  }
}
