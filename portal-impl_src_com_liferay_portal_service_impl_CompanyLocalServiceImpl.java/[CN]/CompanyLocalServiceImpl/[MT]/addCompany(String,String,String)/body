{
  virtualHost=virtualHost.trim().toLowerCase();
  if ((Validator.isNull(webId)) || (webId.equals(CompanyImpl.DEFAULT_WEB_ID)) || (companyPersistence.fetchByWebId(webId) != null)) {
    throw new CompanyWebIdException();
  }
  validate(webId,virtualHost,mx);
  Company company=checkCompany(webId,mx);
  company.setVirtualHost(virtualHost);
  company.setMx(mx);
  companyPersistence.update(company);
  LuceneUtil.checkLuceneDir(company.getCompanyId());
  return company;
}
