{
  if (Validator.isNull(virtualHost)) {
    throw new CompanyVirtualHostException();
  }
 else   if (virtualHost.equals(_DEFAULT_VIRTUAL_HOST) && !webId.equals(PropsValues.COMPANY_DEFAULT_WEB_ID)) {
    throw new CompanyVirtualHostException();
  }
 else   if (!Validator.isDomain(virtualHost)) {
    throw new CompanyVirtualHostException();
  }
 else {
    try {
      VirtualHost virtualHostObj=virtualHostPersistence.findByVirtualHostName(virtualHost);
      long companyId=virtualHostObj.getCompanyId();
      Company virtualHostCompany=companyPersistence.findByPrimaryKey(companyId);
      if (!virtualHostCompany.getWebId().equals(webId)) {
        throw new CompanyVirtualHostException();
      }
    }
 catch (    NoSuchVirtualHostException nsvhe) {
    }
  }
  if (Validator.isNull(mx)) {
    throw new CompanyMxException();
  }
 else   if (!Validator.isDomain(mx)) {
    throw new CompanyMxException();
  }
}
