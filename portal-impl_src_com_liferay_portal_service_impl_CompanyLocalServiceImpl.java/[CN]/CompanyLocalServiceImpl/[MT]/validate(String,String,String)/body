{
  if (Validator.isNull(virtualHost)) {
    throw new CompanyVirtualHostException();
  }
 else   if (virtualHost.equals(PortalInstances.DEFAULT_VIRTUAL_HOST) && !webId.equals(PropsValues.COMPANY_DEFAULT_WEB_ID)) {
    throw new CompanyVirtualHostException();
  }
 else   if (!Validator.isDomain(virtualHost)) {
    throw new CompanyVirtualHostException();
  }
 else {
    try {
      Company virtualHostCompany=getCompanyByVirtualHost(virtualHost);
      if (!virtualHostCompany.getWebId().equals(webId)) {
        throw new CompanyVirtualHostException();
      }
    }
 catch (    NoSuchCompanyException nsce) {
    }
    try {
      layoutSetLocalService.getLayoutSet(virtualHost);
      throw new CompanyVirtualHostException();
    }
 catch (    NoSuchLayoutSetException nslse) {
    }
  }
  if (Validator.isNull(mx)) {
    throw new CompanyMxException();
  }
 else   if (!Validator.isDomain(mx)) {
    throw new CompanyMxException();
  }
}
