{
  virtualHostname=virtualHostname.trim().toLowerCase();
  Company company=companyPersistence.findByPrimaryKey(companyId);
  validate(company.getWebId(),virtualHostname,mx);
  validate(name,companyId);
  if (PropsValues.MAIL_MX_UPDATE) {
    company.setMx(mx);
  }
  company.setHomeURL(homeURL);
  companyPersistence.update(company,false);
  updateAccount(company,name,legalName,legalId,legalType,sicCode,tickerSymbol,industry,type,size);
  updateVirtualHost(companyId,virtualHostname);
  return company;
}
