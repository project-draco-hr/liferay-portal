{
  virtualHost=virtualHost.trim().toLowerCase();
  if ((Validator.isNull(webId)) || (webId.equals(PropsValues.COMPANY_DEFAULT_WEB_ID)) || (companyPersistence.fetchByWebId(webId) != null)) {
    throw new CompanyWebIdException();
  }
  validate(webId,virtualHost,mx);
  Company company=checkCompany(webId,mx,shardId);
  company.setVirtualHost(virtualHost);
  company.setMx(mx);
  company.setShardId(shardId);
  companyPersistence.update(company,false);
  return company;
}
