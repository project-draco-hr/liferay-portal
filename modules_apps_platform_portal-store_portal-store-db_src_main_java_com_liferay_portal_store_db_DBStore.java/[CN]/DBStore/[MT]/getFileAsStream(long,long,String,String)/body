{
  DLContent dlContent=null;
  try {
    dlContent=_dlContentLocalService.getContent(companyId,repositoryId,fileName,versionLabel);
  }
 catch (  NoSuchContentException nsce) {
    throw new NoSuchFileException(companyId,repositoryId,fileName,versionLabel,nsce);
  }
  Blob blobData=dlContent.getData();
  if (blobData == null) {
    if (_log.isWarnEnabled()) {
      StringBundler sb=new StringBundler(9);
      sb.append("No blob data found for file {companyId=");
      sb.append(companyId);
      sb.append(", repositoryId=");
      sb.append(repositoryId);
      sb.append(", fileName=");
      sb.append(fileName);
      sb.append(", versionLabel=");
      sb.append(versionLabel);
      sb.append("}");
      _log.warn(sb.toString());
    }
    return null;
  }
  try {
    return blobData.getBinaryStream();
  }
 catch (  SQLException sqle) {
    StringBundler sb=new StringBundler(9);
    sb.append("Unable to load data binary stream for file {companyId=");
    sb.append(companyId);
    sb.append(", repositoryId=");
    sb.append(repositoryId);
    sb.append(", fileName=");
    sb.append(fileName);
    sb.append(", versionLabel=");
    sb.append(versionLabel);
    sb.append("}");
    throw new SystemException(sb.toString(),sqle);
  }
}
