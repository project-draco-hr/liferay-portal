{
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  UnsyncBufferedOutputStream unsyncBos=new UnsyncBufferedOutputStream(baos,_BUFFER_SIZE * 2);
  assertEquals(_BUFFER_SIZE * 2,unsyncBos.buffer.length);
  for (int i=0; i < _BUFFER_SIZE; i++) {
    unsyncBos.write(i);
    assertEquals(i,unsyncBos.buffer[i]);
  }
  unsyncBos.flush();
  assertTrue(Arrays.equals(_BUFFER,baos.toByteArray()));
}
