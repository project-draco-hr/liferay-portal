{
  long companyId=nextLong();
  long repositoryId=nextLong();
  String directory=randomString();
  String fileName1=directory + "/" + randomString();
  String fileName2=directory + "/" + randomString();
  _store.addFile(companyId,repositoryId,fileName1,_DATA_VERSION_1);
  _store.addFile(companyId,repositoryId,fileName2,_DATA_VERSION_1);
  assertTrue(_store.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT));
  assertTrue(_store.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT));
  _store.deleteDirectory(companyId,repositoryId,directory);
  assertFalse(_store.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT));
  assertFalse(_store.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT));
  directory=randomString();
  fileName1=directory + "/" + randomString();
  fileName2=directory + "/" + randomString()+ "/"+ randomString();
  _store.addFile(companyId,repositoryId,fileName1,_DATA_VERSION_1);
  _store.addFile(companyId,repositoryId,fileName2,_DATA_VERSION_1);
  assertTrue(_store.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT));
  assertTrue(_store.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT));
  _store.deleteDirectory(companyId,repositoryId,directory);
  assertFalse(_store.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT));
  assertFalse(_store.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT));
}
