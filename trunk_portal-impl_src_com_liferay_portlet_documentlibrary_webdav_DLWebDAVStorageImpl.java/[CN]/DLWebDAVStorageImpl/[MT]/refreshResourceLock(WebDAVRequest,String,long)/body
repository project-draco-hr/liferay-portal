{
  Resource resource=getResource(webDavRequest);
  Lock lock=null;
  try {
    if (resource instanceof DLFileEntryResourceImpl) {
      lock=DLAppServiceUtil.refreshFileEntryLock(uuid,timeout);
    }
 else {
      lock=DLAppServiceUtil.refreshFolderLock(uuid,timeout);
    }
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
  return lock;
}
