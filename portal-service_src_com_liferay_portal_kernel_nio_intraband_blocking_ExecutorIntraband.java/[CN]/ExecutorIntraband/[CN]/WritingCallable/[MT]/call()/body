{
  _countDownLatch.await();
  try {
    BlockingQueue<Datagram> sendingQueue=(BlockingQueue<Datagram>)_channelContext.getSendingQueue();
    while (true) {
      Datagram datagram=sendingQueue.take();
      _channelContext.setWritingDatagram(datagram);
      if (!handleWriting(_gatheringByteChannel,_channelContext)) {
        if (_gatheringByteChannel.isOpen()) {
          throw new IllegalStateException(_gatheringByteChannel + " behaved in nonblocking way.");
        }
 else {
          break;
        }
      }
      cleanUpTimeoutResponseWaitingDatagrams();
    }
  }
 catch (  InterruptedException ie) {
  }
  return null;
}
