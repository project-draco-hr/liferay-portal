{
  long pk=nextLong();
  DLContent newDLContent=_persistence.create(pk);
  newDLContent.setGroupId(nextLong());
  newDLContent.setCompanyId(nextLong());
  newDLContent.setRepositoryId(nextLong());
  newDLContent.setPath(randomString());
  newDLContent.setVersion(randomString());
  byte[] newDataBytes=randomString().getBytes(StringPool.UTF8);
  Blob newDataBlob=new OutputBlob(new UnsyncByteArrayInputStream(newDataBytes),newDataBytes.length);
  newDLContent.setData(newDataBlob);
  newDLContent.setSize(nextLong());
  _persistence.update(newDLContent,false);
  DLContent existingDLContent=_persistence.findByPrimaryKey(newDLContent.getPrimaryKey());
  assertEquals(existingDLContent.getContentId(),newDLContent.getContentId());
  assertEquals(existingDLContent.getGroupId(),newDLContent.getGroupId());
  assertEquals(existingDLContent.getCompanyId(),newDLContent.getCompanyId());
  assertEquals(existingDLContent.getRepositoryId(),newDLContent.getRepositoryId());
  assertEquals(existingDLContent.getPath(),newDLContent.getPath());
  assertEquals(existingDLContent.getVersion(),newDLContent.getVersion());
  Blob existingData=existingDLContent.getData();
  assertTrue(Arrays.equals(existingData.getBytes(1,(int)existingData.length()),newDataBytes));
  assertEquals(existingDLContent.getSize(),newDLContent.getSize());
}
