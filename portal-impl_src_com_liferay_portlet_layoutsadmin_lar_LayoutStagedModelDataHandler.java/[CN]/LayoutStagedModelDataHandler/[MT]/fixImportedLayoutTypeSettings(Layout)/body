{
  if (!layout.isTypeURL()) {
    return;
  }
  UnicodeProperties typeSettings=layout.getTypeSettingsProperties();
  String url=GetterUtil.getString(typeSettings.getProperty("url"));
  String friendlyURLPrivateGroupPath=PropsValues.LAYOUT_FRIENDLY_URL_PRIVATE_GROUP_SERVLET_MAPPING;
  String friendlyURLPrivateUserPath=PropsValues.LAYOUT_FRIENDLY_URL_PRIVATE_USER_SERVLET_MAPPING;
  String friendlyURLPublicPath=PropsValues.LAYOUT_FRIENDLY_URL_PUBLIC_SERVLET_MAPPING;
  if (!url.startsWith(friendlyURLPrivateGroupPath) && !url.startsWith(friendlyURLPrivateUserPath) && !url.startsWith(friendlyURLPublicPath)) {
    return;
  }
  int x=url.indexOf(CharPool.SLASH,1);
  if (x == -1) {
    return;
  }
  int y=url.indexOf(CharPool.SLASH,x + 1);
  if (y == -1) {
    return;
  }
  String friendlyURL=url.substring(x,y);
  if (!friendlyURL.equals(LayoutExporter.SAME_GROUP_FRIENDLY_URL)) {
    return;
  }
  Group group=layout.getGroup();
  typeSettings.setProperty("url",url.substring(0,x) + group.getFriendlyURL() + url.substring(y));
}
