{
  LayoutStagingHandler layoutStagingHandler=LayoutStagingUtil.getLayoutStagingHandler(layout);
  if (layoutStagingHandler != null) {
    LayoutRevision layoutRevision=layoutStagingHandler.getLayoutRevision();
    if (layoutRevision != null) {
      layoutElement.addAttribute("layout-revision-id",String.valueOf(layoutRevision.getLayoutRevisionId()));
      layoutElement.addAttribute("layout-branch-id",String.valueOf(layoutRevision.getLayoutBranchId()));
      LayoutBranch layoutBranch=layoutRevision.getLayoutBranch();
      layoutElement.addAttribute("layout-branch-name",String.valueOf(layoutBranch.getName()));
    }
  }
  layoutElement.addAttribute("layout-uuid",layout.getUuid());
  layoutElement.addAttribute("layout-id",String.valueOf(layout.getLayoutId()));
  String layoutPrototypeUuid=layout.getLayoutPrototypeUuid();
  if (Validator.isNotNull(layoutPrototypeUuid)) {
    LayoutPrototype layoutPrototype=LayoutPrototypeLocalServiceUtil.getLayoutPrototypeByUuidAndCompanyId(layoutPrototypeUuid,layout.getCompanyId());
    layoutElement.addAttribute("layout-prototype-uuid",layoutPrototypeUuid);
    layoutElement.addAttribute("layout-prototype-name",layoutPrototype.getName(LocaleUtil.getDefault()));
  }
}
