{
  List<String> columnIds=new ArrayList<String>();
  LayoutTemplate layoutTemplate=layoutTypePortlet.getLayoutTemplate();
  columnIds.addAll(layoutTemplate.getColumns());
  String nestedColumnIds=layoutTypePortlet.getTypeSettingsProperty(LayoutTypePortletConstants.NESTED_COLUMN_IDS);
  columnIds.addAll(ListUtil.fromArray(StringUtil.split(nestedColumnIds)));
  for (  String columnId : columnIds) {
    String columnValue=layoutTypePortlet.getTypeSettingsProperty(columnId);
    columnValue=StringUtil.removeFromList(columnValue,portletId);
    layoutTypePortlet.setTypeSettingsProperty(columnId,columnValue);
  }
}
