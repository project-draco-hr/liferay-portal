{
  UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
  String articleId=typeSettingsProperties.getProperty("article-id",StringPool.BLANK);
  long articleGroupId=layout.getGroupId();
  if (Validator.isNull(articleId)) {
    if (_log.isWarnEnabled()) {
      _log.warn("No article id found in typeSettings of layout " + layout.getPlid());
    }
  }
  JournalArticle article=null;
  try {
    article=JournalArticleLocalServiceUtil.getLatestArticle(articleGroupId,articleId,WorkflowConstants.STATUS_APPROVED);
  }
 catch (  NoSuchArticleException nsae) {
    if (_log.isWarnEnabled()) {
      StringBundler sb=new StringBundler(4);
      sb.append("No approved article found with group id ");
      sb.append(articleGroupId);
      sb.append(" and layout id ");
      sb.append(articleId);
      _log.warn(sb.toString());
    }
  }
  if (article == null) {
    return;
  }
  StagedModelDataHandlerUtil.exportReferenceStagedModel(portletDataContext,layout,article,PortletDataContext.REFERENCE_TYPE_EMBEDDED);
}
