{
  String lifecycle=getLifecycle();
  if (lifecycle.equals(PortletRequest.RENDER_PHASE) && PropsValues.PORTLET_PREFERENCES_STRICT_STORE) {
    return DoPrivilegedUtil.wrap(new PortletPreferencesPrivilegedAction());
  }
  return getPreferencesImpl();
}
