{
  Enumeration<PublicRenderParameter> publicRenderParameters=Collections.enumeration(_portlet.getPublicRenderParameters());
  while (publicRenderParameters.hasMoreElements()) {
    PublicRenderParameter publicRenderParameter=publicRenderParameters.nextElement();
    boolean ignore=GetterUtil.getBoolean(preferences.getValue(PublicRenderParameterConfiguration.IGNORE_PREFIX + publicRenderParameter.getIdentifier(),null));
    if (ignore) {
      continue;
    }
    QName qName=publicRenderParameter.getQName();
    String[] values=_publicRenderParameters.get(PortletQNameUtil.getKey(qName));
    String mappedTo=GetterUtil.getString(preferences.getValue(PublicRenderParameterConfiguration.MAPPING_PREFIX + PortletQNameUtil.getPublicRenderParameterName(publicRenderParameter.getQName()),null));
    String[] newValues=dynamicRequest.getRequest().getParameterValues(mappedTo);
    if (newValues != null && newValues.length != 0) {
      newValues=ArrayUtil.remove(newValues,"null");
    }
    String name=publicRenderParameter.getIdentifier();
    if (newValues == null || newValues.length == 0) {
      if ((values) == null || (values.length == 0)) {
        continue;
      }
 else {
        dynamicRequest.setParameterValues(name,values);
      }
    }
 else {
      dynamicRequest.setParameterValues(name,newValues);
    }
  }
}
