{
  String[] values=null;
  if (portletFocus) {
    values=req.getParameterValues(name);
    if (themeDisplay.isLifecycleRender()) {
      newRenderParameters.put(name,values);
    }
 else     if (themeDisplay.isLifecycleResource()) {
      String[] oldValues=oldRenderParameters.get(name);
      if (oldValues != null) {
        if (values == null) {
          values=oldValues;
        }
 else {
          values=ArrayUtil.append(values,oldValues);
        }
      }
    }
  }
 else {
    values=oldRenderParameters.get(name);
  }
  return values;
}
