{
  StringBundler oldTemplateScriptSB=new StringBundler(5);
  StringBundler newTemplateScriptSB=new StringBundler(5);
  if (language.equals("ftl")) {
    oldTemplateScriptSB.append("<#assign ");
    oldTemplateScriptSB.append(dateFieldName);
    oldTemplateScriptSB.append("_DateObj = dateUtil.newDate(");
    oldTemplateScriptSB.append(dateFieldName);
    oldTemplateScriptSB.append("_Data)>");
    newTemplateScriptSB.append("<#assign ");
    newTemplateScriptSB.append(dateFieldName);
    newTemplateScriptSB.append("_DateObj = dateUtil.parseDate(\"yyyy-MM-dd\", ");
    newTemplateScriptSB.append(dateFieldName);
    newTemplateScriptSB.append("_Data, locale)>");
  }
 else   if (language.equals("vm")) {
    dateFieldName=StringPool.DOLLAR + dateFieldName;
    oldTemplateScriptSB.append("#set (");
    oldTemplateScriptSB.append(dateFieldName);
    oldTemplateScriptSB.append("_DateObj = $dateUtil.newDate(");
    oldTemplateScriptSB.append(dateFieldName);
    oldTemplateScriptSB.append("_Data))");
    newTemplateScriptSB.append("#set (");
    newTemplateScriptSB.append(dateFieldName);
    newTemplateScriptSB.append("_DateObj = $dateUtil.parseDate(\"yyyy-MM-dd\", ");
    newTemplateScriptSB.append(dateFieldName);
    newTemplateScriptSB.append("_Data, $locale))");
  }
  return StringUtil.replace(script,oldTemplateScriptSB.toString(),newTemplateScriptSB.toString());
}
