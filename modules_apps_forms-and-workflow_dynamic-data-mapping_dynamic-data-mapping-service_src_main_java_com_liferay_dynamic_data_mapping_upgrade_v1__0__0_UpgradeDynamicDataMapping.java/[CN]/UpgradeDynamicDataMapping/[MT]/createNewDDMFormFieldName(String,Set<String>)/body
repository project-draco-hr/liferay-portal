{
  String newFieldName=fieldName.replaceAll(_INVALID_FIELD_NAME_CHARS_REGEX,StringPool.BLANK);
  if (Validator.isNotNull(newFieldName) && !existingFieldNames.contains(newFieldName)) {
    return newFieldName;
  }
  throw new UpgradeException(String.format("Unable to automatically update field name \"%s\" because it " + "only contains invalid characters or the updated value " + "\"%s\" conflicts with a previous field name",fieldName,newFieldName));
}
