{
  ServletRequest request=pageContext.getRequest();
  PortletResponse portletResponse=(PortletResponse)request.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
  String namespace=StringPool.BLANK;
  boolean useNamespace=GetterUtil.getBoolean((String)request.getAttribute("aui:form:useNamespace"),true);
  if ((portletResponse != null) && useNamespace) {
    namespace=portletResponse.getNamespace();
  }
  JspWriter jspWriter=pageContext.getOut();
  try {
    if (Validator.isNotNull(_href)) {
      jspWriter.append("<a ");
      if (Validator.isNotNull(_cssClass)) {
        jspWriter.append("class=\"");
        jspWriter.append(_cssClass);
        jspWriter.append("\" ");
      }
      jspWriter.append("href=\"");
      jspWriter.append(HtmlUtil.escape(_href));
      jspWriter.append("\" ");
      if (Validator.isNotNull(_id)) {
        jspWriter.append("id=\"");
        jspWriter.append(namespace);
        jspWriter.append(_id);
        jspWriter.append("\" ");
      }
      if (Validator.isNotNull(_lang)) {
        jspWriter.append("lang=\"");
        jspWriter.append(_lang);
        jspWriter.append("\" ");
      }
      if (Validator.isNotNull(_target)) {
        jspWriter.append("target=\"");
        jspWriter.append(_target);
        jspWriter.append("\" ");
      }
      _insertDynamicAttributes(jspWriter);
      jspWriter.append(">");
      if (Validator.isNotNull(_label)) {
        jspWriter.append(LanguageUtil.format(pageContext,_label,(Object[])null,true));
      }
    }
 else {
      jspWriter.append("<span ");
      if (Validator.isNotNull(_cssClass)) {
        jspWriter.append("class=\"");
        jspWriter.append(_cssClass);
        jspWriter.append("\" ");
      }
      if (Validator.isNotNull(_id)) {
        jspWriter.append("id=\"");
        jspWriter.append(namespace);
        jspWriter.append(_id);
        jspWriter.append("\" ");
      }
      if (Validator.isNotNull(_lang)) {
        jspWriter.append("lang=\"");
        jspWriter.append(_lang);
        jspWriter.append("\" ");
      }
      _insertDynamicAttributes(jspWriter);
      jspWriter.append(">");
    }
  }
 catch (  IOException ioe) {
    throw new JspException(ioe);
  }
  return EVAL_BODY_INCLUDE;
}
