{
  Layout layout=(Layout)req.getAttribute(WebKeys.LAYOUT);
  long productEntryId=ParamUtil.getLong(req,"productEntryId",-1);
  String name=ParamUtil.getString(req,"name");
  String type=ParamUtil.getString(req,"type");
  String shortDescription=ParamUtil.getString(req,"shortDescription");
  String longDescription=ParamUtil.getString(req,"longDescription");
  String pageURL=ParamUtil.getString(req,"pageURL");
  String repoGroupId=ParamUtil.getString(req,"repoGroupId");
  String repoArtifactId=ParamUtil.getString(req,"repoArtifactId");
  long[] licenseIds=ParamUtil.getLongValues(req,"licenses");
  String[] communityPermissions=req.getParameterValues("communityPermissions");
  String[] guestPermissions=req.getParameterValues("guestPermissions");
  if (productEntryId == 0) {
    SRProductEntryServiceUtil.addProductEntry(layout.getPlid(),name,type,shortDescription,longDescription,pageURL,repoGroupId,repoArtifactId,licenseIds,communityPermissions,guestPermissions);
  }
 else {
    SRProductEntryServiceUtil.updateProductEntry(productEntryId,name,type,shortDescription,longDescription,pageURL,repoGroupId,repoArtifactId,licenseIds);
  }
}
