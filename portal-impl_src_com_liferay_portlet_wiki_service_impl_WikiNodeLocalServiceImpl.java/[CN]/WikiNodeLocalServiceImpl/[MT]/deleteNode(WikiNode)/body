{
  wikiPageLocalService.deletePages(node.getNodeId());
  wikiNodePersistence.remove(node);
  resourceLocalService.deleteResource(node.getCompanyId(),WikiNode.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,node.getNodeId());
  PortletFileRepositoryUtil.deleteFolder(node.getAttachmentsFolderId());
  subscriptionLocalService.deleteSubscriptions(node.getCompanyId(),WikiNode.class.getName(),node.getNodeId());
  if (node.isInTrash()) {
    node.setName(TrashUtil.getOriginalTitle(node.getName()));
    trashEntryLocalService.deleteEntry(WikiNode.class.getName(),node.getNodeId());
    Indexer wikiNodeIndexer=IndexerRegistryUtil.nullSafeGetIndexer(WikiNode.class);
    wikiNodeIndexer.delete(node);
  }
  Indexer wikiPageIndexer=IndexerRegistryUtil.nullSafeGetIndexer(WikiPage.class);
  wikiPageIndexer.delete(node);
}
