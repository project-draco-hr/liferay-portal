{
  List<Role> roles=groupRolesMap.get(groupId);
  if (roles == null) {
    Group group=GroupLocalServiceUtil.getGroup(groupId);
    long companyId=group.getCompanyId();
    roles=ResourceActionsUtil.getRoles(companyId,group,resourceName,null);
    List<Team> teams=TeamLocalServiceUtil.getGroupTeams(groupId);
    for (    Team team : teams) {
      Role teamRole=RoleLocalServiceUtil.getTeamRole(companyId,team.getTeamId());
      teamRole.setDescription(team.getDescription());
      teamRole.setName(PermissionExporter.TEAM_ROLE + team.getName());
      if (!roles.contains(teamRole)) {
        roles.add(teamRole);
      }
    }
    groupRolesMap.put(groupId,roles);
  }
  return roles;
}
