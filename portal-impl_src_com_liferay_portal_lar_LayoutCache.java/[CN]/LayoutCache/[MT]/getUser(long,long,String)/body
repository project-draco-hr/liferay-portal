{
  List<User> users=usersMap.get(emailAddress);
  if (users == null) {
    LinkedHashMap<String,Object> params=new LinkedHashMap<String,Object>();
    params.put("usersGroups",new Long(groupId));
    users=UserLocalServiceUtil.search(companyId,null,null,null,null,emailAddress,Boolean.TRUE,params,true,0,1,(OrderByComparator)null);
    usersMap.put(emailAddress,users);
  }
  if (users.size() == 0) {
    return null;
  }
 else {
    return users.get(0);
  }
}
