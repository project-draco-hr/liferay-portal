{
  long entityGroupId=0;
  Long entityGroupIdObj=entityGroupIdMap.get(entityName);
  if (entityGroupIdObj == null) {
    if (entityName.equals("user-group")) {
      List<UserGroup> userGroups=UserGroupLocalServiceUtil.search(companyId,name,null,null,0,1,null);
      if (userGroups.size() > 0) {
        UserGroup userGroup=userGroups.get(0);
        Group group=userGroup.getGroup();
        entityGroupId=group.getGroupId();
      }
    }
 else     if (entityName.equals("organization")) {
      List<Organization> organizations=OrganizationLocalServiceUtil.search(companyId,OrganizationConstants.ANY_PARENT_ORGANIZATION_ID,name,null,null,null,null,null,null,null,true,0,1);
      if (organizations.size() > 0) {
        Organization organization=organizations.get(0);
        Group group=organization.getGroup();
        entityGroupId=group.getGroupId();
      }
    }
    entityGroupIdMap.put(entityName,entityGroupId);
  }
 else {
    entityGroupId=entityGroupIdObj.longValue();
  }
  return entityGroupId;
}
