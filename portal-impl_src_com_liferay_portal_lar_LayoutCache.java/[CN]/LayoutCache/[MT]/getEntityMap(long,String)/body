{
  Map<String,Long> entityMap=entityMapMap.get(entityName);
  if (entityMap == null) {
    entityMap=new HashMap<String,Long>();
    if (entityName.equals("user-group")) {
      List<UserGroup> userGroups=UserGroupLocalServiceUtil.search(companyId,null,null,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
      for (int i=0; i < userGroups.size(); i++) {
        UserGroup userGroup=userGroups.get(i);
        Group group=userGroup.getGroup();
        entityMap.put(userGroup.getName(),group.getGroupId());
      }
    }
 else     if (entityName.equals("organization")) {
      List<Organization> organizations=OrganizationLocalServiceUtil.search(companyId,OrganizationConstants.ANY_PARENT_ORGANIZATION_ID,null,OrganizationConstants.TYPE_REGULAR_ORGANIZATION,null,null,null,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
      for (int i=0; i < organizations.size(); i++) {
        Organization organization=organizations.get(i);
        Group group=organization.getGroup();
        entityMap.put(organization.getName(),group.getGroupId());
      }
    }
    entityMapMap.put(entityName,entityMap);
  }
  return entityMap;
}
