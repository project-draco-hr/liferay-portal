{
  long companyId=GetterUtil.getLong(ids[0]);
  String portletId=ids[1];
  long groupId=GetterUtil.getLong(ids[2]);
  long repositoryId=GetterUtil.getLong(ids[3]);
  try {
    S3Object[] searchObjects=_s3Service.listObjects(_s3Bucket,getKey(companyId,repositoryId),null);
    Set fileNameSet=new HashSet();
    for (int i=0; i < searchObjects.length; i++) {
      S3Object currentObject=searchObjects[i];
      String fileName=(String)getFileName(currentObject.getKey());
      fileNameSet.add(fileName);
    }
    Iterator itr=fileNameSet.iterator();
    while (itr.hasNext()) {
      String fileName=(String)itr.next();
      IndexerImpl.addFile(companyId,portletId,groupId,repositoryId,fileName);
    }
  }
 catch (  IOException ioe) {
    throw new SearchException(ioe);
  }
catch (  S3ServiceException s3se) {
    throw new SearchException(s3se);
  }
}
