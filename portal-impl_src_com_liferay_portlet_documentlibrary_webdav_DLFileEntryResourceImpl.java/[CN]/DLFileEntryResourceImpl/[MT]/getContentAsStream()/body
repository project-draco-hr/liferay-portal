{
  try {
    String version=StringPool.BLANK;
    if (PropsValues.DL_WEBDAV_HOLD_LOCK) {
      DLFileVersion fileVersion=DLFileVersionLocalServiceUtil.getLatestFileVersion(_fileEntry.getGroupId(),_fileEntry.getFolderId(),_fileEntry.getName());
      version=fileVersion.getVersion();
    }
    return DLFileEntryLocalServiceUtil.getFileAsStream(_webDavRequest.getCompanyId(),_webDavRequest.getUserId(),_fileEntry.getGroupId(),_fileEntry.getFolderId(),_fileEntry.getName(),version);
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
}
