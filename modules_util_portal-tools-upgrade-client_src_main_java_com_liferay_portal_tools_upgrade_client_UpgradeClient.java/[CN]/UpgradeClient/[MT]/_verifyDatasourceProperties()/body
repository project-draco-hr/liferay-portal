{
  String value=_datasourceProperties.getProperty("jdbc.default.driverClassName");
  if ((value == null) || value.equals("")) {
    String response;
    Datasource2 datasource2=null;
    while (datasource2 == null) {
      System.out.print("[ ");
      for (      String name : _datasources.keySet()) {
        System.out.print(name + " ");
      }
      System.out.println("]");
      System.out.println("Please enter your database (mysql): ");
      response=_consoleReader.readLine();
      if (response.equals("")) {
        response="mysql";
      }
      datasource2=_datasources.get(response);
      if (datasource2 == null) {
        System.err.println(response + " is not a supported database");
      }
    }
    System.out.println("Please enter your database JDBC driver protocol (" + datasource2.getProtocol() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource2.setProtocol(response);
    }
    System.out.println("Please enter your database JDBC driver class name(" + datasource2.getClassName() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource2.setClassName(response);
    }
    System.out.println("Please enter your database host (" + datasource2.getHost() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource2.setHost(response);
    }
    System.out.println("Please enter your database port (" + (datasource2.getPort() > 0 ? datasource2.getPort() : "none") + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      if (response.equals("none")) {
        datasource2.setPort(0);
      }
 else {
        datasource2.setPort(Integer.parseInt(response));
      }
    }
    System.out.println("Please enter your database name (" + datasource2.getDatabaseName() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource2.setDatabaseName(response);
    }
    System.out.println("Please enter your database username: ");
    String username=_consoleReader.readLine();
    System.out.println("Please enter your database password: ");
    String password=_consoleReader.readLine();
    _datasourceProperties.setProperty("jdbc.default.driverClassName",datasource2.getClassName());
    _datasourceProperties.setProperty("jdbc.default.url",datasource2.getUrl());
    _datasourceProperties.setProperty("jdbc.default.username",username);
    _datasourceProperties.setProperty("jdbc.default.password",password);
  }
}
