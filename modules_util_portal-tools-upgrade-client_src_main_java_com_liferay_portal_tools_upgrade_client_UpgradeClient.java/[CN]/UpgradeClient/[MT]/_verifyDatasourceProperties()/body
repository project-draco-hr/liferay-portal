{
  String value=_datasourceProperties.getProperty("jdbc.default.driverClassName");
  if ((value == null) || value.equals("")) {
    String response;
    Datasource datasource=null;
    while (datasource == null) {
      System.out.print("[ ");
      for (      String name : _datasources.keySet()) {
        System.out.print(name + " ");
      }
      System.out.println("]");
      System.out.println("Please enter your database (mysql): ");
      response=_consoleReader.readLine();
      if (response.equals("")) {
        response="mysql";
      }
      datasource=_datasources.get(response);
      if (datasource == null) {
        System.err.println(response + " is not a supported database");
      }
    }
    System.out.println("Please enter your database JDBC driver protocol (" + datasource.getProtocol() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource.setProtocol(response);
    }
    System.out.println("Please enter your database JDBC driver class name(" + datasource.getClassName() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource.setClassName(response);
    }
    System.out.println("Please enter your database host (" + datasource.getHost() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource.setHost(response);
    }
    System.out.println("Please enter your database port (" + (datasource.getPort() > 0 ? datasource.getPort() : "none") + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      if (response.equals("none")) {
        datasource.setPort(0);
      }
 else {
        datasource.setPort(Integer.parseInt(response));
      }
    }
    System.out.println("Please enter your database name (" + datasource.getDatabaseName() + "): ");
    response=_consoleReader.readLine();
    if (!response.equals("")) {
      datasource.setDatabaseName(response);
    }
    System.out.println("Please enter your database username: ");
    String username=_consoleReader.readLine();
    System.out.println("Please enter your database password: ");
    String password=_consoleReader.readLine();
    _datasourceProperties.setProperty("jdbc.default.driverClassName",datasource.getClassName());
    _datasourceProperties.setProperty("jdbc.default.url",datasource.getUrl());
    _datasourceProperties.setProperty("jdbc.default.username",username);
    _datasourceProperties.setProperty("jdbc.default.password",password);
  }
}
