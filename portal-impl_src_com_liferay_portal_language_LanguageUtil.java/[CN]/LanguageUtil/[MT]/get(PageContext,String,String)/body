{
  String value=null;
  try {
    value=TagUtils.getInstance().message(pageContext,null,null,key);
  }
 catch (  Exception e) {
    _log.error(e);
    throw new LanguageException(key,e);
  }
  if (value == null) {
    HttpServletRequest req=(HttpServletRequest)pageContext.getRequest();
    PortletConfig portletConfig=(PortletConfig)req.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
    if (portletConfig != null) {
      Locale locale=req.getLocale();
      ResourceBundle bundle=portletConfig.getResourceBundle(locale);
      try {
        value=bundle.getString(key);
      }
 catch (      MissingResourceException mre) {
      }
    }
  }
  if (value == null) {
    value=defaultValue;
  }
  return value;
}
