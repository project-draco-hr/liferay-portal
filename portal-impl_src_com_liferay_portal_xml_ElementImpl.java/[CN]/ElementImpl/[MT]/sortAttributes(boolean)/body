{
  Map<String,Attribute> attributesMap=new TreeMap<String,Attribute>();
  List<Attribute> attributes=attributes();
  for (  Attribute attribute : attributes) {
    attribute.detach();
    attributesMap.put(attribute.getName(),attribute);
  }
  for (  Map.Entry<String,Attribute> entry : attributesMap.entrySet()) {
    Attribute attribute=entry.getValue();
    add(attribute);
  }
  if (!recursive) {
    return;
  }
  List<Element> elements=elements();
  for (  Element element : elements) {
    element.sortAttributes(true);
  }
}
