{
  final List<URI> uris=new ArrayList<>();
  try (FileSystem fileSystem=FileSystems.newFileSystem(indexesFilePath,null)){
    for (    Path rootPath : fileSystem.getRootDirectories()) {
      Files.walkFileTree(rootPath,new SimpleFileVisitor<Path>(){
        @Override public FileVisitResult visitFile(        Path filePath,        BasicFileAttributes basicFileAttributes) throws IOException {
          Path fileNamePath=filePath.getFileName();
          String fileName=fileNamePath.toString();
          if (!fileName.endsWith(".xml")) {
            return FileVisitResult.CONTINUE;
          }
          URL url=BytesURLSupport.putBytes(fileName.substring(0,fileName.length() - 4),Files.readAllBytes(filePath));
          try {
            uris.add(url.toURI());
          }
 catch (          URISyntaxException urise) {
            throw new RuntimeException(urise);
          }
          return super.visitFile(filePath,basicFileAttributes);
        }
      }
);
    }
  }
   return uris;
}
