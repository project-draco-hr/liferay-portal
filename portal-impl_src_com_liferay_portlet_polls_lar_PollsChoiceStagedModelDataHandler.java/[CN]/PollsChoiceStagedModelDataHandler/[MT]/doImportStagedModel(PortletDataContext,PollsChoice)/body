{
  long userId=portletDataContext.getUserId(choice.getUserUuid());
  String questionPath=ExportImportPathUtil.getModelPath(portletDataContext,PollsQuestion.class.getName(),choice.getQuestionId());
  PollsQuestion question=(PollsQuestion)portletDataContext.getZipEntryAsObject(questionPath);
  StagedModelDataHandlerUtil.importReferenceStagedModel(portletDataContext,question);
  Map<Long,Long> questionIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(PollsQuestion.class);
  long questionId=MapUtil.getLong(questionIds,choice.getQuestionId(),choice.getQuestionId());
  PollsChoice importedChoice=null;
  ServiceContext serviceContext=portletDataContext.createServiceContext(choice,PollsPortletDataHandler.NAMESPACE);
  if (portletDataContext.isDataStrategyMirror()) {
    PollsChoice existingChoice=PollsChoiceLocalServiceUtil.fetchPollsChoiceByUuidAndGroupId(choice.getUuid(),portletDataContext.getScopeGroupId());
    if (existingChoice == null) {
      serviceContext.setUuid(choice.getUuid());
      importedChoice=PollsChoiceLocalServiceUtil.addChoice(userId,questionId,choice.getName(),choice.getDescription(),serviceContext);
    }
 else {
      importedChoice=PollsChoiceLocalServiceUtil.updateChoice(existingChoice.getChoiceId(),questionId,choice.getName(),choice.getDescription(),serviceContext);
    }
  }
 else {
    importedChoice=PollsChoiceLocalServiceUtil.addChoice(userId,questionId,choice.getName(),choice.getDescription(),serviceContext);
  }
  portletDataContext.importClassedModel(choice,importedChoice,PollsPortletDataHandler.NAMESPACE);
}
