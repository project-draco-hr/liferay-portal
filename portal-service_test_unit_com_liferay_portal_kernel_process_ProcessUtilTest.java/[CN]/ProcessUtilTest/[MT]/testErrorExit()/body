{
  String[] arguments=_buildArguments(ErrorExit.class);
  Future<?> future=ProcessUtil.execute(ProcessUtil.CONSUMER_OUTPUT_PROCESSOR,arguments);
  try {
    future.get();
    fail();
  }
 catch (  ExecutionException ee) {
    Throwable throwable=ee.getCause();
    assertEquals(ProcessException.class,throwable.getClass());
    assertEquals("Subprocess terminated with exit code " + ErrorExit.EXIT_CODE,throwable.getMessage());
  }
}
