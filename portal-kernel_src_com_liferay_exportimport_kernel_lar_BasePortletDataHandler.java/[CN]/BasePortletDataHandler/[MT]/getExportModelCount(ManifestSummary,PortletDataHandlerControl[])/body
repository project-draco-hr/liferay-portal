{
  long totalModelCount=-1;
  for (  PortletDataHandlerControl portletDataHandlerControl : portletDataHandlerControls) {
    StagedModelType stagedModelType=new StagedModelType(portletDataHandlerControl.getClassName(),portletDataHandlerControl.getReferrerClassName());
    long modelAdditionCount=manifestSummary.getModelAdditionCount(stagedModelType);
    if (portletDataHandlerControl instanceof PortletDataHandlerBoolean) {
      PortletDataHandlerBoolean portletDataHandlerBoolean=(PortletDataHandlerBoolean)portletDataHandlerControl;
      PortletDataHandlerControl[] childPortletDataHandlerControls=portletDataHandlerBoolean.getChildren();
      if (childPortletDataHandlerControls != null) {
        long childModelCount=getExportModelCount(manifestSummary,childPortletDataHandlerControls);
        if (childModelCount != -1) {
          if (modelAdditionCount == -1) {
            modelAdditionCount=childModelCount;
          }
 else {
            modelAdditionCount+=childModelCount;
          }
        }
      }
    }
    if (modelAdditionCount == -1) {
      continue;
    }
    if (totalModelCount == -1) {
      totalModelCount=modelAdditionCount;
    }
 else {
      totalModelCount+=modelAdditionCount;
    }
  }
  return totalModelCount;
}
