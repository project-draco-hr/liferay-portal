{
  if (!PortalUtil.isRSSFeedsEnabled()) {
    PortalUtil.sendRSSFeedsDisabledError(resourceRequest,resourceResponse);
    return;
  }
  resourceResponse.setContentType(ContentTypes.TEXT_XML_UTF8);
  OutputStream outputStream=resourceResponse.getPortletOutputStream();
  try {
    byte[] bytes=getRSS(resourceRequest,resourceResponse);
    outputStream.write(bytes);
  }
  finally {
    outputStream.close();
  }
}
