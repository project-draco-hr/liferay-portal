{
  try {
    long folderId=ParamUtil.getLong(req,"folderId");
    String name=ParamUtil.getString(req,"name");
    double version=ParamUtil.getDouble(req,"version");
    long fileShortcutId=ParamUtil.getLong(req,"fileShortcutId");
    String uuid=ParamUtil.getString(req,"uuid");
    long groupId=ParamUtil.getLong(req,"groupId");
    String targetExtension=ParamUtil.getString(req,"targetExtension");
    ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
    HttpServletRequest httpReq=PortalUtil.getHttpServletRequest(req);
    HttpServletResponse httpRes=PortalUtil.getHttpServletResponse(res);
    getFile(folderId,name,version,fileShortcutId,uuid,groupId,targetExtension,themeDisplay,httpReq,httpRes);
    setForward(req,ActionConstants.COMMON_NULL);
  }
 catch (  NoSuchFileEntryException nsfee) {
    PortalUtil.sendError(HttpServletResponse.SC_NOT_FOUND,nsfee,req,res);
  }
catch (  NoSuchFileException nsfe) {
    PortalUtil.sendError(HttpServletResponse.SC_NOT_FOUND,nsfe,req,res);
  }
catch (  PrincipalException pe) {
    PortalUtil.sendError(HttpServletResponse.SC_FORBIDDEN,pe,req,res);
  }
catch (  Exception e) {
    req.setAttribute(PageContext.EXCEPTION,e);
    setForward(req,ActionConstants.COMMON_ERROR);
  }
}
