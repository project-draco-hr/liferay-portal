{
  HttpServletRequest request=PortalUtil.getHttpServletRequest(actionRequest);
  HttpServletResponse response=PortalUtil.getHttpServletResponse(actionResponse);
  try {
    long fileEntryId=ParamUtil.getLong(actionRequest,"fileEntryId");
    long folderId=ParamUtil.getLong(actionRequest,"folderId");
    String name=ParamUtil.getString(actionRequest,"name");
    String title=ParamUtil.getString(actionRequest,"title");
    String version=ParamUtil.getString(actionRequest,"version");
    long fileShortcutId=ParamUtil.getLong(actionRequest,"fileShortcutId");
    String uuid=ParamUtil.getString(actionRequest,"uuid");
    String targetExtension=ParamUtil.getString(actionRequest,"targetExtension");
    ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
    long groupId=ParamUtil.getLong(actionRequest,"groupId",themeDisplay.getScopeGroupId());
    getFile(fileEntryId,folderId,name,title,version,fileShortcutId,uuid,groupId,targetExtension,themeDisplay,request,response);
    setForward(actionRequest,ActionConstants.COMMON_NULL);
  }
 catch (  NoSuchFileEntryException nsfee) {
    PortalUtil.sendError(HttpServletResponse.SC_NOT_FOUND,nsfee,actionRequest,actionResponse);
  }
catch (  PrincipalException pe) {
    processPrincipalException(pe,request,response);
  }
catch (  Exception e) {
    PortalUtil.sendError(e,actionRequest,actionResponse);
  }
}
