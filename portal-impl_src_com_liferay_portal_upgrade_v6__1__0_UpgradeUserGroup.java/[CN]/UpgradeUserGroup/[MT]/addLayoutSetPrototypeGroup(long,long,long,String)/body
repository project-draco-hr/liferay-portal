{
  long groupId=findGroupByC_C_C(companyId,layoutSetPrototypeClassNameId,layoutSetPrototypeId);
  if (groupId > 0) {
    return groupId;
  }
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  try {
    con=DataAccess.getConnection();
    StringBundler sb=new StringBundler(5);
    sb.append("insert into Group_ (companyId, creatorUserId, ");
    sb.append("classNameId, classPK, parentGroupId, liveGroupId, ");
    sb.append("name, description, type_, typeSettings, friendlyURL, ");
    sb.append("site, active_,groupId) values (?, ?, ?, ?, 0, 0, ?, ");
    sb.append("NULL, 0, NULL, ?, 0, 1, ?)");
    String sql=sb.toString();
    ps=con.prepareStatement(sql);
    ps.setLong(1,companyId);
    ps.setLong(2,creatorUserId);
    ps.setLong(3,layoutSetPrototypeClassNameId);
    ps.setLong(4,layoutSetPrototypeId);
    long layoutSetPrototypeGroupId=increment();
    String autoGroupName=layoutSetPrototypeGroupId + StringPool.MINUS + groupName;
    ps.setString(5,autoGroupName);
    ps.setString(6,String.valueOf(StringPool.SLASH + "template-" + layoutSetPrototypeId));
    ps.setLong(7,layoutSetPrototypeGroupId);
    ps.execute();
    return layoutSetPrototypeGroupId;
  }
  finally {
    DataAccess.cleanUp(con,ps,rs);
  }
}
