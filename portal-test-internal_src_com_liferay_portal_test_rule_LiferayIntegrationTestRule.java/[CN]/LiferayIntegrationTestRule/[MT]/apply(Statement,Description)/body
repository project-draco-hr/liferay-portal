{
  if (!InitUtil.isInitialized()) {
    System.setProperty("catalina.base",".");
    ServerDetector.init(ServerDetector.TOMCAT_ID);
    List<String> configLocations=ListUtil.fromArray(PropsUtil.getArray(PropsKeys.SPRING_CONFIGS));
    InitUtil.initWithSpring(configLocations,true);
    if (System.getProperty("external-properties") == null) {
      System.setProperty("external-properties","portal-test.properties");
    }
  }
  return super.apply(statement,description);
}
