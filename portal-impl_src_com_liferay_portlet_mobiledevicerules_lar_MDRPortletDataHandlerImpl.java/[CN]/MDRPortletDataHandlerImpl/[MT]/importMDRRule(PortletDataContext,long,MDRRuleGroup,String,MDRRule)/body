{
  if (_log.isDebugEnabled()) {
    _log.debug("Importing rule: " + mdrRule);
  }
  long userId=portletDataContext.getUserId(mdrRule.getUserUuid());
  ServiceContext serviceContext=portletDataContext.createServiceContext(mdrRulePath,mdrRule,_NAMESPACE);
  serviceContext.setUserId(userId);
  MDRRule importedMDRRule=null;
  if (portletDataContext.isDataStrategyMirror()) {
    MDRRule existingMDRRule=MDRRuleUtil.fetchByUUID_G(mdrRule.getUuid(),groupId);
    if (existingMDRRule == null) {
      serviceContext.setUuid(mdrRule.getUuid());
      importedMDRRule=MDRRuleLocalServiceUtil.addRule(mdrRuleGroup.getRuleGroupId(),mdrRule.getNameMap(),mdrRule.getDescriptionMap(),mdrRule.getType(),mdrRule.getTypeSettingsProperties(),serviceContext);
    }
 else {
      importedMDRRule=MDRRuleLocalServiceUtil.updateRule(existingMDRRule.getRuleId(),mdrRule.getNameMap(),mdrRule.getDescriptionMap(),mdrRule.getType(),mdrRule.getTypeSettingsProperties(),serviceContext);
    }
  }
 else {
    importedMDRRule=MDRRuleLocalServiceUtil.addRule(mdrRuleGroup.getRuleGroupId(),mdrRule.getNameMap(),mdrRule.getDescriptionMap(),mdrRule.getType(),mdrRule.getTypeSettingsProperties(),serviceContext);
  }
  portletDataContext.importClassedModel(mdrRule,importedMDRRule,_NAMESPACE);
}
