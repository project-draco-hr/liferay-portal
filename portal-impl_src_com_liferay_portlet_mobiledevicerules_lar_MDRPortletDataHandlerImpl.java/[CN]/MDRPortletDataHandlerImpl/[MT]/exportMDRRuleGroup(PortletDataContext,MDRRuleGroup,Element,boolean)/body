{
  if (!ignoreModifiedDate && !portletDataContext.isWithinDateRange(mdrRuleGroup.getModifiedDate())) {
    return;
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Exporting rule group: " + mdrRuleGroup);
  }
  String mdrRuleGroupPath=getMDRRuleGroupPath(portletDataContext,mdrRuleGroup);
  if (portletDataContext.isPathNotProcessed(mdrRuleGroupPath)) {
    Element mdrRuleGroupElement=mdrRuleGroupsElement.addElement(_MDR_RULE_GROUP_ELEMENT);
    portletDataContext.addClassedModel(mdrRuleGroupElement,mdrRuleGroupPath,mdrRuleGroup,_NAMESPACE);
    List<MDRRule> mdrRules=mdrRuleGroup.getRules();
    if (!mdrRules.isEmpty()) {
      if (_log.isDebugEnabled()) {
        _log.debug("Exporting " + mdrRules.size() + " rules for rule group: "+ mdrRuleGroup.getRuleGroupId());
      }
      Element mdrRulesElement=mdrRuleGroupElement.addElement(_MDR_RULES_ELEMENT);
      exportMDRRules(portletDataContext,mdrRulesElement,mdrRules);
    }
  }
}
