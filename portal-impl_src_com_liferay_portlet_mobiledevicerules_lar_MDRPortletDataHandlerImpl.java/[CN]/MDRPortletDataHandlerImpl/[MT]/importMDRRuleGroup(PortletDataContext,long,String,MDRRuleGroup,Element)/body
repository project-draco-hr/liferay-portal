{
  if (_log.isDebugEnabled()) {
    _log.debug("Importing rule group: " + mdrRuleGroup);
  }
  long userId=portletDataContext.getUserId(mdrRuleGroup.getUserUuid());
  ServiceContext serviceContext=portletDataContext.createServiceContext(mdrRuleGroupPath,mdrRuleGroup,_NAMESPACE);
  serviceContext.setUserId(userId);
  MDRRuleGroup importedMDRRuleGroup=null;
  if (portletDataContext.isDataStrategyMirror()) {
    MDRRuleGroup existingMDRRuleGroup=MDRRuleGroupUtil.fetchByUUID_G(mdrRuleGroup.getUuid(),groupId);
    if (existingMDRRuleGroup == null) {
      serviceContext.setUuid(mdrRuleGroup.getUuid());
      importedMDRRuleGroup=MDRRuleGroupLocalServiceUtil.addRuleGroup(groupId,mdrRuleGroup.getNameMap(),mdrRuleGroup.getDescriptionMap(),serviceContext);
    }
 else {
      importedMDRRuleGroup=MDRRuleGroupLocalServiceUtil.updateRuleGroup(existingMDRRuleGroup.getRuleGroupId(),mdrRuleGroup.getNameMap(),mdrRuleGroup.getDescriptionMap(),serviceContext);
    }
  }
 else {
    importedMDRRuleGroup=MDRRuleGroupLocalServiceUtil.addRuleGroup(groupId,mdrRuleGroup.getNameMap(),mdrRuleGroup.getDescriptionMap(),serviceContext);
  }
  portletDataContext.importClassedModel(mdrRuleGroup,importedMDRRuleGroup,_NAMESPACE);
  Element mdrRulesElement=mdrRuleGroupElement.element(_MDR_RULES_ELEMENT);
  if (mdrRulesElement != null) {
    List<Element> mdrRuleElements=mdrRulesElement.elements(_MDR_RULE_ELEMENT);
    for (    Element mdrRuleElement : mdrRuleElements) {
      String mdrRulePath=mdrRuleElement.attributeValue("path");
      if (!portletDataContext.isPathNotProcessed(mdrRulePath)) {
        continue;
      }
      MDRRule mdrRule=(MDRRule)portletDataContext.getZipEntryAsObject(mdrRulePath);
      importMDRRule(portletDataContext,groupId,importedMDRRuleGroup,mdrRulePath,mdrRule);
    }
  }
}
