{
  String type=action.getType();
  if (!type.equals(SiteRedirectActionHandler.class.getName())) {
    return;
  }
  String targetLayoutUuid=actionElement.attributeValue("layout-uuid");
  if (Validator.isNull(targetLayoutUuid)) {
    return;
  }
  UnicodeProperties typeSettingsProperties=action.getTypeSettingsProperties();
  long targetGroupId=GetterUtil.getLong(typeSettingsProperties.getProperty("groupId"));
  try {
    Layout targetLayout=LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(targetLayoutUuid,targetGroupId);
    typeSettingsProperties.setProperty("plid",String.valueOf(targetLayout.getPlid()));
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to find target layout with uuid " + targetLayoutUuid + " in group "+ targetGroupId+ ". Site redirect may not match target layout.",e);
    }
  }
}
