{
  if (_log.isDebugEnabled()) {
    _log.debug("Importing action: " + mdrAction);
  }
  long userId=portletDataContext.getUserId(mdrAction.getUserUuid());
  ServiceContext serviceContext=portletDataContext.createServiceContext(mdrActionPath,mdrAction,_NAMESPACE);
  serviceContext.setUserId(userId);
  MDRAction importedMDRAction=null;
  if (portletDataContext.isDataStrategyMirror()) {
    MDRAction existingMDRAction=MDRActionUtil.fetchByUUID_G(mdrAction.getUuid(),portletDataContext.getScopeGroupId());
    if (existingMDRAction == null) {
      serviceContext.setUuid(mdrAction.getUuid());
      importedMDRAction=MDRActionLocalServiceUtil.addAction(mdrRuleGroupInstance.getRuleGroupInstanceId(),mdrAction.getNameMap(),mdrAction.getDescriptionMap(),mdrAction.getType(),mdrAction.getTypeSettingsProperties(),serviceContext);
    }
 else {
      importedMDRAction=MDRActionLocalServiceUtil.updateAction(existingMDRAction.getActionId(),mdrAction.getNameMap(),mdrAction.getDescriptionMap(),mdrAction.getType(),mdrAction.getTypeSettingsProperties(),serviceContext);
    }
  }
 else {
    importedMDRAction=MDRActionLocalServiceUtil.addAction(mdrRuleGroupInstance.getRuleGroupInstanceId(),mdrAction.getNameMap(),mdrAction.getDescriptionMap(),mdrAction.getType(),mdrAction.getTypeSettingsProperties(),serviceContext);
  }
  portletDataContext.importClassedModel(mdrAction,importedMDRAction,_NAMESPACE);
}
