{
  if ((codeSource == null) || (codeSource.getLocation() == null)) {
    return new LenientPermissionCollection();
  }
  URLWrapper urlWrapper=new URLWrapper(codeSource.getLocation());
  PermissionCollection permissionCollection=_urlPermissionCollections.get(urlWrapper);
  if (permissionCollection != null) {
    return permissionCollection;
  }
  PACLPolicy paclPolicy=PACLPolicyManager.getPACLPolicy(codeSource.getLocation());
  if (paclPolicy != null) {
    permissionCollection=new PortalPermissionCollection(paclPolicy);
  }
 else {
    permissionCollection=new LenientPermissionCollection();
  }
  _urlPermissionCollections.put(urlWrapper,permissionCollection);
  return permissionCollection;
}
