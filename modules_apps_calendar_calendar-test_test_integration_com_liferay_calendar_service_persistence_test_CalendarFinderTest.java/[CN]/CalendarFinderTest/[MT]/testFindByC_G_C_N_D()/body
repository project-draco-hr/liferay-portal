{
  ServiceContext serviceContext=new ServiceContext();
  CalendarResource calendarResource=CalendarResourceUtil.getGroupCalendarResource(_group.getGroupId(),serviceContext);
  Locale locale=LocaleUtil.getDefault();
  Map<Locale,String> nameMap=RandomTestUtil.randomLocaleStringMap(locale);
  Calendar calendar=CalendarLocalServiceUtil.addCalendar(_user.getUserId(),_group.getGroupId(),calendarResource.getCalendarResourceId(),nameMap,RandomTestUtil.randomLocaleStringMap(),StringPool.UTC,RandomTestUtil.randomInt(0,255),false,false,false,serviceContext);
  CalendarLocalServiceUtil.addCalendar(_user.getUserId(),_group.getGroupId(),calendarResource.getCalendarResourceId(),RandomTestUtil.randomLocaleStringMap(),RandomTestUtil.randomLocaleStringMap(),StringPool.UTC,RandomTestUtil.randomInt(0,255),false,false,false,serviceContext);
  List<Calendar> calendars=_calendarFinder.findByKeywords(_group.getCompanyId(),new long[]{_group.getGroupId()},new long[]{calendarResource.getCalendarResourceId()},nameMap.get(locale),QueryUtil.ALL_POS,QueryUtil.ALL_POS,new CalendarNameComparator());
  Assert.assertEquals(1,calendars.size());
  Calendar foundCalendar=calendars.get(0);
  Assert.assertEquals(calendar.getCalendarId(),foundCalendar.getCalendarId());
  Assert.assertEquals(calendar.getNameMap(),foundCalendar.getNameMap());
}
