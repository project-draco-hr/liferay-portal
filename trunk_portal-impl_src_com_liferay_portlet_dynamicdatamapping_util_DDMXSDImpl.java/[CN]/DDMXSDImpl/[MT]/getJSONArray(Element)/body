{
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  List<Element> dynamicElementElements=element.elements("dynamic-element");
  for (  Element dynamicElementElement : dynamicElementElements) {
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    Element metadataElement=dynamicElementElement.element("meta-data");
    if (metadataElement != null) {
      for (      Element metadataEntry : metadataElement.elements()) {
        jsonObject.put(metadataEntry.attributeValue("name"),metadataEntry.getText());
      }
    }
    for (    Attribute attribute : dynamicElementElement.attributes()) {
      jsonObject.put(attribute.getName(),attribute.getValue());
    }
    jsonObject.put("key",dynamicElementElement.attributeValue("name"));
    String type=jsonObject.getString("type");
    String key="fields";
    if (type.equals(_TYPE_RADIO) || type.equals(_TYPE_SELECT)) {
      key="options";
    }
    jsonObject.put(key,getJSONArray(dynamicElementElement));
    jsonArray.put(jsonObject);
  }
  return jsonArray;
}
