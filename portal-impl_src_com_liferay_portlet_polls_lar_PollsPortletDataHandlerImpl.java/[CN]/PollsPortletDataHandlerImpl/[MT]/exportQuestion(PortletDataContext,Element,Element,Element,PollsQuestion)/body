{
  if (!portletDataContext.isWithinDateRange(question.getModifiedDate())) {
    return;
  }
  String path=getQuestionPath(portletDataContext,question);
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element questionElement=questionsElement.addElement("question");
  List<PollsChoice> choices=PollsChoiceUtil.findByQuestionId(question.getQuestionId());
  for (  PollsChoice choice : choices) {
    exportChoice(portletDataContext,choicesElement,choice);
  }
  if (portletDataContext.getBooleanParameter(_NAMESPACE,"votes")) {
    List<PollsVote> votes=PollsVoteUtil.findByQuestionId(question.getQuestionId());
    for (    PollsVote vote : votes) {
      exportVote(portletDataContext,votesElement,vote);
    }
  }
  portletDataContext.addClassedModel(questionElement,path,question,_NAMESPACE);
}
