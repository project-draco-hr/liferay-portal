{
  PollsQuestion existingQuestion=PollsQuestionUtil.fetchByPrimaryKey(question.getPrimaryKey());
  if ((existingQuestion == null) || (existingQuestion.getGroupId() != context.getGroupId())) {
    long plid=context.getPlid();
    Date expirationDate=question.getExpirationDate();
    int expirationMonth=0;
    int expirationDay=0;
    int expirationYear=0;
    int expirationHour=0;
    int expirationMinute=0;
    boolean neverExpire=true;
    if (expirationDate != null) {
      Calendar expirationCal=CalendarFactoryUtil.getCalendar();
      expirationCal.setTime(expirationDate);
      expirationMonth=expirationCal.get(Calendar.MONTH);
      expirationDay=expirationCal.get(Calendar.DATE);
      expirationYear=expirationCal.get(Calendar.YEAR);
      expirationHour=expirationCal.get(Calendar.HOUR);
      expirationMinute=expirationCal.get(Calendar.MINUTE);
      neverExpire=false;
    }
    boolean addCommunityPermissions=true;
    boolean addGuestPermissions=true;
    PollsQuestion newQuestion=PollsQuestionLocalServiceUtil.addQuestion(question.getUserId(),plid,question.getTitle(),question.getDescription(),expirationMonth,expirationDay,expirationYear,expirationHour,expirationMinute,neverExpire,addCommunityPermissions,addGuestPermissions);
    questionPKs.put(question.getPrimaryKeyObj(),newQuestion.getPrimaryKeyObj());
  }
 else {
    PollsQuestionUtil.update(question,true);
  }
}
