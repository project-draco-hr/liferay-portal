{
  Long questionId=(Long)questionPKs.get(new Long(choice.getQuestionId()));
  boolean newParentQuestion=false;
  if (questionId == null) {
    questionId=new Long(choice.getQuestionId());
  }
 else {
    newParentQuestion=true;
  }
  try {
    PollsQuestionUtil.findByPrimaryKey(questionId.longValue());
    if ((PollsChoiceUtil.fetchByPrimaryKey(choice.getPrimaryKey()) == null) || newParentQuestion) {
      PollsChoice newChoice=PollsChoiceLocalServiceUtil.addChoice(questionId.longValue(),choice.getName(),choice.getDescription());
      choicePKs.put(choice.getPrimaryKeyObj(),newChoice.getPrimaryKeyObj());
    }
 else {
      choice.setQuestionId(questionId.longValue());
      PollsChoiceUtil.update(choice,true);
    }
  }
 catch (  NoSuchQuestionException nsqe) {
    _log.error("Could not find the question for choice " + choice.getChoiceId());
  }
}
