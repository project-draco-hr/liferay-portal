{
  long userId=portletDataContext.getUserId(question.getUserUuid());
  Date expirationDate=question.getExpirationDate();
  int expirationMonth=0;
  int expirationDay=0;
  int expirationYear=0;
  int expirationHour=0;
  int expirationMinute=0;
  boolean neverExpire=true;
  if (expirationDate != null) {
    Calendar expirationCal=CalendarFactoryUtil.getCalendar();
    expirationCal.setTime(expirationDate);
    expirationMonth=expirationCal.get(Calendar.MONTH);
    expirationDay=expirationCal.get(Calendar.DATE);
    expirationYear=expirationCal.get(Calendar.YEAR);
    expirationHour=expirationCal.get(Calendar.HOUR);
    expirationMinute=expirationCal.get(Calendar.MINUTE);
    neverExpire=false;
    if (expirationCal.get(Calendar.AM_PM) == Calendar.PM) {
      expirationHour+=12;
    }
  }
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddCommunityPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  serviceContext.setCreateDate(question.getCreateDate());
  serviceContext.setModifiedDate(question.getModifiedDate());
  serviceContext.setScopeGroupId(portletDataContext.getScopeGroupId());
  PollsQuestion importedQuestion=null;
  if (portletDataContext.isDataStrategyMirror()) {
    PollsQuestion existingQuestion=PollsQuestionUtil.fetchByUUID_G(question.getUuid(),portletDataContext.getScopeGroupId());
    if (existingQuestion == null) {
      serviceContext.setUuid(question.getUuid());
      importedQuestion=PollsQuestionLocalServiceUtil.addQuestion(userId,question.getTitleMap(),question.getDescriptionMap(),expirationMonth,expirationDay,expirationYear,expirationHour,expirationMinute,neverExpire,null,serviceContext);
    }
 else {
      importedQuestion=PollsQuestionLocalServiceUtil.updateQuestion(userId,existingQuestion.getQuestionId(),question.getTitleMap(),question.getDescriptionMap(),expirationMonth,expirationDay,expirationYear,expirationHour,expirationMinute,neverExpire,null,serviceContext);
    }
  }
 else {
    importedQuestion=PollsQuestionLocalServiceUtil.addQuestion(userId,question.getTitleMap(),question.getDescriptionMap(),expirationMonth,expirationDay,expirationYear,expirationHour,expirationMinute,neverExpire,null,serviceContext);
  }
  Map<Long,Long> questionPKs=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(PollsQuestion.class);
  questionPKs.put(question.getQuestionId(),importedQuestion.getQuestionId());
  portletDataContext.importPermissions(PollsQuestion.class,question.getQuestionId(),importedQuestion.getQuestionId());
}
