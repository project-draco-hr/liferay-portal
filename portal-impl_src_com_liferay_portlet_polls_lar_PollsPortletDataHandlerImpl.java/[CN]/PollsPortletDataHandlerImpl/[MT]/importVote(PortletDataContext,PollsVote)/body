{
  long userId=portletDataContext.getUserId(vote.getUserUuid());
  Map<Long,Long> questionIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(PollsQuestion.class);
  long questionId=MapUtil.getLong(questionIds,vote.getQuestionId(),vote.getQuestionId());
  Map<Long,Long> choiceIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(PollsChoice.class);
  long choiceId=MapUtil.getLong(choiceIds,vote.getChoiceId(),vote.getChoiceId());
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setCreateDate(vote.getVoteDate());
  try {
    PollsVoteLocalServiceUtil.addVote(userId,questionId,choiceId,serviceContext);
  }
 catch (  DuplicateVoteException dve) {
  }
}
