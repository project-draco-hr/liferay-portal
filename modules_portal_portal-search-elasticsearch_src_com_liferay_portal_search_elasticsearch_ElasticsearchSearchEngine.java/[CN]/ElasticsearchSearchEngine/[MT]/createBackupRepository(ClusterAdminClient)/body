{
  GetRepositoriesRequestBuilder getRepositoriesRequestBuilder=clusterAdminClient.prepareGetRepositories(_BACKUP_REPOSITORY_NAME);
  try {
    Future<GetRepositoriesResponse> getRepositoriesResponseFuture=getRepositoriesRequestBuilder.execute();
    GetRepositoriesResponse getRepositoriesResponse=getRepositoriesResponseFuture.get();
    ImmutableList<RepositoryMetaData> repositoryMetaDatas=getRepositoriesResponse.repositories();
    if (!repositoryMetaDatas.isEmpty()) {
      return;
    }
  }
 catch (  ExecutionException e) {
    if (e.getCause() instanceof RepositoryMissingException) {
      if (_log.isInfoEnabled()) {
        _log.info("Repository not found, creating new repository",e);
      }
    }
 else {
      throw e;
    }
  }
  PutRepositoryRequestBuilder putRepositoryRequestBuilder=clusterAdminClient.preparePutRepository(_BACKUP_REPOSITORY_NAME);
  ImmutableSettings.Builder builder=ImmutableSettings.settingsBuilder();
  String location=SystemProperties.get("java.io.tmpdir") + "/es_backup";
  builder.put("location",location);
  putRepositoryRequestBuilder.setSettings(builder);
  putRepositoryRequestBuilder.setType("fs");
  Future<PutRepositoryResponse> putRepositoryResponseFuture=putRepositoryRequestBuilder.execute();
  PutRepositoryResponse putRepositoryResponse=putRepositoryResponseFuture.get();
  LogUtil.logActionResponse(_log,putRepositoryResponse);
}
