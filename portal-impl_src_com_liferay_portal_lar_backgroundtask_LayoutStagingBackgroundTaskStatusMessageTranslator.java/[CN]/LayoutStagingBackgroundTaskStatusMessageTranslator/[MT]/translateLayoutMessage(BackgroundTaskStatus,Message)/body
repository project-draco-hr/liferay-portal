{
  String phase=GetterUtil.getString(backgroundTaskStatus.getAttribute("phase"));
  if (Validator.isNull(phase)) {
    clearBackgroundTaskStatus(backgroundTaskStatus);
    phase=Constants.EXPORT;
  }
 else {
    phase=Constants.IMPORT;
  }
  backgroundTaskStatus.setAttribute("phase",phase);
  super.translateLayoutMessage(backgroundTaskStatus,message);
  if (phase.equals(Constants.IMPORT)) {
    long allModelAdditionCountersTotal=GetterUtil.getLong(backgroundTaskStatus.getAttribute("allModelAdditionCountersTotal"));
    long currentModelAdditionCountersTotal=GetterUtil.getLong(backgroundTaskStatus.getAttribute("currentModelAdditionCountersTotal"));
    backgroundTaskStatus.setAttribute("allModelAdditionCountersTotal",allModelAdditionCountersTotal + currentModelAdditionCountersTotal);
    long allPortletAdditionCounter=GetterUtil.getLong(backgroundTaskStatus.getAttribute("allPortletAdditionCounter"));
    long currentPortletAdditionCounter=GetterUtil.getLong(backgroundTaskStatus.getAttribute("currentPortletAdditionCounter"));
    backgroundTaskStatus.setAttribute("allPortletAdditionCounter",allPortletAdditionCounter + currentPortletAdditionCounter);
    backgroundTaskStatus.setAttribute("allPortletModelAdditionCounters",new HashMap<String,LongWrapper>());
    backgroundTaskStatus.setAttribute("currentPortletModelAdditionCounters",new HashMap<String,LongWrapper>());
  }
}
