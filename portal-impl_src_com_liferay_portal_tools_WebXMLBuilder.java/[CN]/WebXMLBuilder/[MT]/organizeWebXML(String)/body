{
  webXML=Html.stripComments(webXML);
  double version=2.3;
  Document doc=PortalUtil.readDocumentFromXML(webXML);
  Element root=doc.getRootElement();
  version=GetterUtil.getDouble(root.attributeValue("version"),version);
  XMLMerger merger=null;
  if (version == 2.3) {
    merger=new XMLMerger(new WebXML23Descriptor());
  }
 else {
    merger=new XMLMerger(new WebXML24Descriptor());
  }
  merger.organizeXML(doc);
  webXML=XMLFormatter.toString(doc);
  return webXML;
}
