{
  String structureId=generateId();
  addStructure(groupId,structureId,getDefultXsd());
  Map<Locale,String> nameMap=new HashMap<Locale,String>();
  nameMap.put(Locale.US,"New Test Structure");
  StringBundler sb=new StringBundler(5);
  sb.append("<root><dynamic-element name=\"abc\" index-type=\"\" ");
  sb.append("type=\"text\"><meta-data><entry name=\"label\">");
  sb.append("<![CDATA[abc]]></entry><entry name=\"required\">");
  sb.append("<![CDATA[false]]></entry></meta-data></dynamic-element>");
  sb.append("</root>");
  String xsd=sb.toString();
  JournalStructure structure=JournalStructureLocalServiceUtil.updateStructure(groupId,structureId,null,nameMap,null,xsd,getServiceContext());
  Assert.assertEquals("New Test Structure",structure.getName(Locale.US));
  Assert.assertEquals(JournalTestUtil.getXsdMap(xsd),JournalTestUtil.getXsdMap(structure.getXsd()));
}
