{
  if (layout.getParentLayoutId() != LayoutConstants.DEFAULT_PARENT_LAYOUT_ID) {
    Layout parentLayout=LayoutLocalServiceUtil.getParentLayout(layout);
    buildLayoutBreadcrumb(parentLayout,false,themeDisplay,sb);
  }
  sb.append("<li><a href=\"");
  String layoutURL=PortalUtil.getLayoutFullURL(layout,themeDisplay);
  if (themeDisplay.isAddSessionIdToURL()) {
    layoutURL=PortalUtil.getURLWithSessionId(layoutURL,themeDisplay.getSessionId());
  }
  if (layout.isTypeControlPanel()) {
    layoutURL=HttpUtil.removeParameter(layoutURL,"controlPanelCategory");
  }
  sb.append(layoutURL);
  sb.append("\" ");
  String layoutName=layout.getName(themeDisplay.getLocale());
  if (layout.isTypeControlPanel()) {
    sb.append("target=\"_top\"");
    if (layoutName.equals(LayoutConstants.NAME_CONTROL_PANEL_DEFAULT)) {
      layoutName=LanguageUtil.get(themeDisplay.getLocale(),"control-panel");
    }
  }
 else {
    String target=PortalUtil.getLayoutTarget(layout);
    sb.append(target);
  }
  sb.append(StringPool.GREATER_THAN);
  sb.append(HtmlUtil.escape(layoutName));
  sb.append("</a><span class=\"divider\">/</span></li>");
}
