{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  StringBundler sb=new StringBundler();
  try {
    if (_showGuestGroup) {
      buildGuestGroupBreadcrumb(themeDisplay,sb);
    }
    if (_showParentGroups) {
      buildParentGroupsBreadcrumb(themeDisplay,sb);
    }
    if (_showCurrentGroup) {
      buildScopeGroupBreadcrumb(themeDisplay,sb);
    }
    if (_showLayout) {
      buildLayoutBreadcrumb(themeDisplay,sb);
    }
    if (_showPortletBreadcrumb) {
      buildPortletBreadcrumb(request,themeDisplay,sb);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return modifyBreadcrumbCssClasses(sb.toString());
}
