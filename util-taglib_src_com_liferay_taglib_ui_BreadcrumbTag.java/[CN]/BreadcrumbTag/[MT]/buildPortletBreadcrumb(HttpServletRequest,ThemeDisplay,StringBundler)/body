{
  List<BreadcrumbEntry> breadcrumbEntries=BreadcrumbUtil.getPortletBreadcrumbEntries(request);
  for (  BreadcrumbEntry breadcrumbEntry : breadcrumbEntries) {
    if (!_showCurrentGroup) {
      String siteGroupName=themeDisplay.getSiteGroupName();
      if (siteGroupName.equals(breadcrumbEntry.getTitle())) {
        continue;
      }
    }
    sb.append("<li>");
    if (Validator.isNotNull(breadcrumbEntry.getURL())) {
      sb.append("<a href=\"");
      sb.append(HtmlUtil.escape(breadcrumbEntry.getURL()));
      sb.append("\"");
      sb.append(AUIUtil.buildData(breadcrumbEntry.getData()));
      sb.append(StringPool.GREATER_THAN);
      sb.append(HtmlUtil.escape(breadcrumbEntry.getTitle()));
      sb.append("</a>");
    }
 else {
      sb.append(HtmlUtil.escape(breadcrumbEntry.getTitle()));
    }
    sb.append("</li>");
  }
}
