{
  IndexAccessor indexAccessor=_luceneHelper.getIndexAccessor(searchContext.getCompanyId());
  IndexSearcher indexSearcher=null;
  try {
    List<IndexReader> indexReaders=new ArrayList<>();
    indexSearcher=_luceneHelper.getIndexSearcher(searchContext.getCompanyId());
    if (indexSearcher.maxDoc() > 0) {
      ReaderUtil.gatherSubReaders(indexReaders,indexSearcher.getIndexReader());
    }
    String localizedFieldName=DocumentImpl.getLocalizedName(languageId,keywordFieldName);
    boolean validWord=isValidWord(localizedFieldName,keyword,indexReaders);
    if (!validWord) {
      if (_log.isInfoEnabled()) {
        _log.info("Not indexing because keyword " + keyword + " is invalid");
      }
      return;
    }
    Document document=createDocument(searchContext.getCompanyId(),groupId,languageId,localizedFieldName,keyword,weight,typeFieldValue,maxNGramLength);
    indexAccessor.addDocument(document);
  }
  finally {
    try {
      _luceneHelper.releaseIndexSearcher(searchContext.getCompanyId(),indexSearcher);
    }
 catch (    IOException ioe) {
      _log.error("Unable to release searcher",ioe);
    }
  }
}
