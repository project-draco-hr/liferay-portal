{
  Registry registry=RegistryUtil.getRegistry();
  _serviceTracker=registry.trackServices(InvokerPortletFactory.class,new ServiceTrackerFieldUpdaterCustomizer<InvokerPortletFactory,InvokerPortletFactory>(ReflectionUtil.getDeclaredField(PortletInstanceFactoryImpl.class,"_invokerPortletFactory"),this,_defaultInvokerPortletFactory){
    @Override protected void afterServiceUpdate(    InvokerPortletFactory oldInvokerPortletFactory,    InvokerPortletFactory newInvokerPortletFactory){
      _pool.clear();
    }
  }
);
  _serviceTracker.open();
}
