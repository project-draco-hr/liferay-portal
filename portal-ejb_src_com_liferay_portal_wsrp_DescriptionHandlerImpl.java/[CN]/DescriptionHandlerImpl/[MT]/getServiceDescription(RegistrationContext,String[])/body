{
  ServiceDescription serviceDescription=new ServiceDescription();
  serviceDescription.setRequiresRegistration(isRegistrationRequired());
  CookieProtocol cookieProtocol=CookieProtocol.perGroup;
  serviceDescription.setRequiresInitCookie(cookieProtocol);
  PortletDescription[] portletDescriptions=getProducerOfferedPortletDescriptions(regContext,desiredLocales);
  serviceDescription.setOfferedPortlets(portletDescriptions);
  return serviceDescription;
}
