{
  String companyId=WSRPUtil.getCompanyId();
  PortletDescription[] portletDescriptions=null;
  try {
    List portlets=PortletServiceUtil.getPortlets(companyId);
    portletDescriptions=new PortletDescription[portlets.size()];
    for (int i=0; i < portlets.size(); i++) {
      Portlet portlet=(Portlet)portlets.get(i);
      portletDescriptions[i]=_getPortletDescription(portlet,regContext,desiredLocales);
    }
  }
 catch (  Exception e) {
    throw new WSRPException(ErrorCodes.LOAD_SERVICEDESCRIPTION_FAILED,e);
  }
  return portletDescriptions;
}
