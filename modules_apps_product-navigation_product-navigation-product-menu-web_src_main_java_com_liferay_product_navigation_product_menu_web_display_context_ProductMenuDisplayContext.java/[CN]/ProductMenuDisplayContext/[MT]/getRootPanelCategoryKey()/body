{
  if (_rootPanelCategoryKey != null) {
    return _rootPanelCategoryKey;
  }
  _rootPanelCategoryKey=StringPool.BLANK;
  List<PanelCategory> childPanelCategories=getChildPanelCategories();
  if (!childPanelCategories.isEmpty()) {
    PanelCategory lastChildPanelCategory=childPanelCategories.get(childPanelCategories.size() - 1);
    _rootPanelCategoryKey=lastChildPanelCategory.getKey();
    if (Validator.isNotNull(_themeDisplay.getPpid())) {
      PanelCategoryHelper panelCategoryHelper=new PanelCategoryHelper(_panelAppRegistry,_panelCategoryRegistry);
      for (      PanelCategory panelCategory : _panelCategoryRegistry.getChildPanelCategories(PanelCategoryKeys.ROOT)) {
        if (panelCategoryHelper.containsPortlet(_themeDisplay.getPpid(),panelCategory.getKey(),_themeDisplay.getPermissionChecker(),_themeDisplay.getScopeGroup())) {
          _rootPanelCategoryKey=panelCategory.getKey();
          return _rootPanelCategoryKey;
        }
      }
    }
  }
  return _rootPanelCategoryKey;
}
