{
  RestrictPortletServletRequest restrictPortletServletRequest=new RestrictPortletServletRequest(request);
  try {
    _portletContainer.serveResource(request,response,portlet);
  }
 catch (  Exception e) {
    throw new PortletContainerException(e);
  }
 finally {
    restrictPortletServletRequest.mergeSharedAttributes();
  }
}
