{
  if (_importCountMap.isEmpty()) {
    return;
  }
  String commonInitFileName="portal-web/docroot/html/common/init.jsp";
  File commonInitFile=null;
  String commonInitFileContent=null;
  int x=-1;
  for (  Map.Entry<String,Integer> importCount : _importCountMap.entrySet()) {
    Integer count=importCount.getValue();
    if (count < minCount) {
      continue;
    }
    String importName=importCount.getKey();
    int y=importName.lastIndexOf(StringPool.PERIOD);
    String importClassName=importName.substring(y + 1);
    if (_duplicateImportClassNames.contains(importClassName)) {
      continue;
    }
    if (commonInitFileContent == null) {
      commonInitFile=new File(commonInitFileName);
      commonInitFileContent=readFileToString(commonInitFile);
      x=commonInitFileContent.indexOf("<%@ page import");
    }
    commonInitFileContent=StringUtil.insert(commonInitFileContent,"<%@ page import=\"" + importName + "\" %>\n",x);
  }
  if (commonInitFileContent != null) {
    FileUtils.write(commonInitFile,commonInitFileContent,StringPool.UTF8);
    _jspContents.put(commonInitFileName,commonInitFileContent);
  }
}
