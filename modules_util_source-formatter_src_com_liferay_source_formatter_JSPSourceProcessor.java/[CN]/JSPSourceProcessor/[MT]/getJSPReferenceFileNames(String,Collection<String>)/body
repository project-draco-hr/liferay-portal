{
  Set<String> referenceFileNames=new HashSet<>();
  if (!fileName.endsWith("init.jsp") && !fileName.endsWith("init.jspf") && !fileName.contains("init-ext.jsp")) {
    return referenceFileNames;
  }
  for (  Map.Entry<String,String> entry : _jspContents.entrySet()) {
    String referenceFileName=entry.getKey();
    if (fileNames.contains(referenceFileName)) {
      continue;
    }
    String sharedPath=fileName.substring(0,StringUtil.startsWithWeight(referenceFileName,fileName));
    if (Validator.isNull(sharedPath) || !sharedPath.contains(StringPool.SLASH)) {
      continue;
    }
    if (!sharedPath.endsWith(StringPool.SLASH)) {
      sharedPath=sharedPath.substring(0,sharedPath.lastIndexOf(CharPool.SLASH) + 1);
    }
    String content=null;
    for (int x=-1; ; ) {
      x=sharedPath.indexOf(CharPool.SLASH,x + 1);
      if (x == -1) {
        break;
      }
      if (content == null) {
        content=entry.getValue();
      }
      if (content.contains("<%@ include file=\"" + fileName.substring(x)) || content.contains("<%@ include file=\"" + fileName.substring(x + 1))) {
        referenceFileNames.add(referenceFileName);
        break;
      }
    }
  }
  return referenceFileNames;
}
