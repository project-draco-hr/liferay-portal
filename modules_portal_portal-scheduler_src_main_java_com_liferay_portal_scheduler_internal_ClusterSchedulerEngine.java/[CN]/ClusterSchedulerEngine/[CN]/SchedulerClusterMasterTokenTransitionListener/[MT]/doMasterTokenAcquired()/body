{
  boolean forceSync=ProxyModeThreadLocal.isForceSync();
  ProxyModeThreadLocal.setForceSync(true);
  _writeLock.lock();
  try {
    for (    ObjectValuePair<SchedulerResponse,TriggerState> memoryClusteredJob : _memoryClusteredJobs.values()) {
      SchedulerResponse schedulerResponse=memoryClusteredJob.getKey();
      _schedulerEngine.schedule(schedulerResponse.getTrigger(),schedulerResponse.getDescription(),schedulerResponse.getDestinationName(),schedulerResponse.getMessage(),schedulerResponse.getStorageType());
      TriggerState triggerState=memoryClusteredJob.getValue();
      if (triggerState.equals(TriggerState.PAUSED)) {
        _schedulerEngine.pause(schedulerResponse.getJobName(),schedulerResponse.getGroupName(),schedulerResponse.getStorageType());
      }
    }
    _memoryClusteredJobs.clear();
    if (_log.isInfoEnabled()) {
      _log.info("MEMORY_CLUSTERED jobs are running on this node");
    }
  }
  finally {
    ProxyModeThreadLocal.setForceSync(forceSync);
    _writeLock.unlock();
  }
}
