{
  try {
    if (_folder.isMountPoint()) {
      return "icon-drive";
    }
    if (PropsValues.DL_FOLDER_ICON_CHECK_COUNT) {
      List<Long> subfolderIds=DLAppServiceUtil.getSubfolderIds(_folder.getRepositoryId(),_folder.getFolderId(),false);
      if (!subfolderIds.isEmpty()) {
        return "icon-folder-open";
      }
      int count=DLAppServiceUtil.getFoldersFileEntriesCount(_folder.getRepositoryId(),ListUtil.fromArray(new Long[]{_folder.getFolderId()}),WorkflowConstants.STATUS_APPROVED);
      if (count > 0) {
        return "icon-folder-open";
      }
    }
  }
 catch (  PrincipalException pe) {
    return "icon-remove";
  }
catch (  RepositoryException re) {
    return "icon-remove";
  }
  return super.getIconCssClass();
}
