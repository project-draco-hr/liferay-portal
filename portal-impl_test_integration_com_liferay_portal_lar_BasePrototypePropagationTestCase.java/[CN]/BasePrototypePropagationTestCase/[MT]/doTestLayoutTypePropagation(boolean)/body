{
  setLinkEnabled(linkEnabled);
  int initialPortletCount=LayoutTestUtil.getPortlets(_layout).size();
  _prototypeLayout=LayoutTestUtil.updateLayoutTemplateId(_prototypeLayout,"1_column");
  LayoutTestUtil.updateLayoutColumnCustomizable(_prototypeLayout,"column-1",true);
  addJournalContentPortletToLayout(TestPropsValues.getUserId(),_prototypeLayout,_globalJournalArticle,"column-1");
  if (linkEnabled) {
    Assert.assertEquals(_initialLayoutTemplateId,LayoutTestUtil.getLayoutTemplateId(_layout));
    Assert.assertFalse(LayoutTestUtil.isLayoutColumnCustomizable(_layout,"column-1"));
    Assert.assertEquals(initialPortletCount,LayoutTestUtil.getPortlets(_layout).size());
  }
  _layout=propagateChanges(_layout);
  if (linkEnabled) {
    Assert.assertEquals("1_column",LayoutTestUtil.getLayoutTemplateId(_layout));
    Assert.assertTrue(LayoutTestUtil.isLayoutColumnCustomizable(_layout,"column-1"));
    Assert.assertEquals(initialPortletCount + 1,LayoutTestUtil.getPortlets(_layout).size());
  }
 else {
    Assert.assertEquals(_initialLayoutTemplateId,LayoutTestUtil.getLayoutTemplateId(_layout));
    Assert.assertFalse(LayoutTestUtil.isLayoutColumnCustomizable(_layout,"column-1"));
    Assert.assertEquals(initialPortletCount,LayoutTestUtil.getPortlets(_layout).size());
  }
}
