{
  List<String> contents=new ArrayList<>();
  Iterator<Node> iterator=getIvyXmlDependenciesIterator();
  if (iterator != null) {
    while (iterator.hasNext()) {
      Node dependencyNode=iterator.next();
      String conf=(String)dependencyNode.attribute("conf");
      if (Validator.isNotNull(conf) && !conf.startsWith("default") && !conf.startsWith("internal")) {
        continue;
      }
      String group=(String)dependencyNode.attribute("org");
      String name=(String)dependencyNode.attribute("name");
      boolean optional=false;
      boolean transitive=getNodeAttribute(dependencyNode,"transitive",true);
      if (Validator.isNotNull(conf)) {
        if (conf.startsWith("default")) {
          transitive=false;
        }
 else         if (conf.startsWith("internal")) {
          optional=true;
        }
      }
      String version=(String)dependencyNode.attribute("rev");
      contents.add(wrapDependency(JavaPlugin.COMPILE_CONFIGURATION_NAME,group,name,optional,transitive,version));
    }
  }
  String requiredDeploymentContexts=_pluginPackageProperties.getProperty("required-deployment-contexts");
  if (Validator.isNotNull(requiredDeploymentContexts)) {
    String[] requiredDeploymentContextsArray=requiredDeploymentContexts.split(",");
    for (    String deploymentContext : requiredDeploymentContextsArray) {
      String serviceJarFileName=getServiceJarFileName(deploymentContext);
      if (FileUtil.exists(_project,serviceJarFileName)) {
        contents.add(wrapServiceJarDependency(JavaPlugin.COMPILE_CONFIGURATION_NAME,serviceJarFileName));
      }
    }
  }
  String importShared=getBuildXmlProperty("import.shared");
  if (Validator.isNotNull(importShared)) {
    Map<String,String> projectNamePathMap=new HashMap<>();
    Project rootProject=_project.getRootProject();
    for (    Project project : rootProject.getSubprojects()) {
      if (!FileUtil.exists(project,"build.gradle")) {
        continue;
      }
      File dir=project.getProjectDir();
      projectNamePathMap.put(dir.getName(),project.getPath());
    }
    String[] importSharedArray=importShared.split(",");
    for (    String projectFileName : importSharedArray) {
      projectFileName=projectFileName.trim();
      String projectName=projectFileName;
      int pos=projectName.lastIndexOf('/');
      if (pos != -1) {
        projectName=projectName.substring(pos + 1);
      }
      String projectPath=projectNamePathMap.get(projectName);
      if (Validator.isNull(projectPath)) {
        String message="Unable to find project dependency " + projectFileName;
        if (isIgnoreMissingDependencies()) {
          _logger.error(message);
          continue;
        }
 else {
          throw new GradleException(message);
        }
      }
      contents.add(wrapProjectDependency(JavaPlugin.COMPILE_CONFIGURATION_NAME,projectPath));
    }
  }
  Collections.sort(contents);
  return contents;
}
