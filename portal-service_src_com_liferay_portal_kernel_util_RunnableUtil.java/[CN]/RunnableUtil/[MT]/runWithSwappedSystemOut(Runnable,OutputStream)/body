{
  PrintStream printStream=null;
synchronized (RunnableUtil.class) {
    printStream=System.out;
    System.setOut(new PrintStream(new SwappedOutputStream(outputStream,printStream,Thread.currentThread())));
  }
  try {
    runnable.run();
  }
  finally {
synchronized (RunnableUtil.class) {
      System.setOut(printStream);
    }
  }
}
