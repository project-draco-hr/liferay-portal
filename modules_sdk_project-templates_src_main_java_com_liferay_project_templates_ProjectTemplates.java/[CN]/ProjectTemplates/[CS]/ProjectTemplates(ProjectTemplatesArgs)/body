{
  _checkArgs(projectTemplatesArgs);
  File destinationDir=projectTemplatesArgs.getDestinationDir();
  Archetyper archetyper=new Archetyper();
  ArchetypeGenerationResult result=archetyper.generateProject(projectTemplatesArgs,destinationDir.getPath());
  if ((result != null) && (result.getCause() != null)) {
    result.getCause().printStackTrace();
    System.exit(1);
  }
  Path templateDirPath=destinationDir.toPath();
  templateDirPath=templateDirPath.resolve(projectTemplatesArgs.getName());
  _extractDirectory("gradle-wrapper",templateDirPath);
  try {
    Files.setPosixFilePermissions(templateDirPath.resolve("gradlew"),PosixFilePermissions.fromString("rwxrwxr--"));
  }
 catch (  UnsupportedOperationException uoe) {
  }
  if (projectTemplatesArgs.getWorkspaceDir() != null) {
    Files.deleteIfExists(templateDirPath.resolve("settings.gradle"));
  }
  Files.delete(templateDirPath.resolve("pom.xml"));
  Files.move(templateDirPath.resolve("gitignore"),templateDirPath.resolve(".gitignore"));
}
