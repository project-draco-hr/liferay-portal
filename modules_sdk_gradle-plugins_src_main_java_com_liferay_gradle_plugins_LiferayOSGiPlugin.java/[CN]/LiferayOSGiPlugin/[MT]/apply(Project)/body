{
  GradleUtil.applyPlugin(project,LiferayBasePlugin.class);
  LiferayExtension liferayExtension=GradleUtil.getExtension(project,LiferayExtension.class);
  final LiferayOSGiExtension liferayOSGiExtension=GradleUtil.addExtension(project,PLUGIN_NAME,LiferayOSGiExtension.class);
  applyPlugins(project);
  addTaskAutoUpdateXml(project);
  addTasksBuildWSDDJar(project);
  addTaskDeploy(project,liferayExtension);
  configureArchivesBaseName(project);
  configureDescription(project);
  configureSourceSetMain(project);
  configureTaskClean(project);
  configureTaskTest(project);
  configureTasksTest(project);
  if (GradleUtil.isRunningInsideDaemon()) {
    configureTasksJavaCompileFork(project,true);
  }
  configureVersion(project);
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      configureBundleExtensionDefaults(project,liferayOSGiExtension);
    }
  }
);
}
