{
  List<Document> documents=hits.toList();
  List<AssetVocabulary> vocabularies=new ArrayList<>(documents.size());
  for (  Document document : documents) {
    long vocabularyId=GetterUtil.getLong(document.get(Field.ASSET_VOCABULARY_ID));
    AssetVocabulary vocabulary=fetchAssetVocabulary(vocabularyId);
    if (vocabulary == null) {
      vocabularies=null;
      Indexer<AssetVocabulary> indexer=IndexerRegistryUtil.getIndexer(AssetVocabulary.class);
      long companyId=GetterUtil.getLong(document.get(Field.COMPANY_ID));
      indexer.delete(companyId,document.getUID());
    }
 else     if (vocabularies != null) {
      vocabularies.add(vocabulary);
    }
  }
  return vocabularies;
}
