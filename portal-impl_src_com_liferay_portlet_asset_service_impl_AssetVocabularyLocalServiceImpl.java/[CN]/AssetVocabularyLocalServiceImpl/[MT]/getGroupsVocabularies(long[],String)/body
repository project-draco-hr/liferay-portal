{
  List<AssetVocabulary> vocabularies=new ArrayList<AssetVocabulary>();
  groupIds=ArrayUtil.unique(groupIds);
  for (  long groupId : groupIds) {
    List<AssetVocabulary> groupVocabularies=getGroupVocabularies(groupId);
    if (Validator.isNull(className)) {
      vocabularies.addAll(groupVocabularies);
      continue;
    }
    for (    AssetVocabulary groupVocabulary : groupVocabularies) {
      UnicodeProperties settingsProperties=groupVocabulary.getSettingsProperties();
      long[] selectedClassNameIds=StringUtil.split(settingsProperties.getProperty("selectedClassNameIds"),0L);
      long classNameId=PortalUtil.getClassNameId(className);
      if ((selectedClassNameIds.length == 0) || (selectedClassNameIds[0] == 0) || ArrayUtil.contains(selectedClassNameIds,classNameId)) {
        vocabularies.add(groupVocabulary);
      }
    }
  }
  return vocabularies;
}
