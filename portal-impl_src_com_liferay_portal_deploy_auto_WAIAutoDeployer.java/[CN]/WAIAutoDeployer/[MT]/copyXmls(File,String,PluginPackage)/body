{
  super.copyXmls(srcFile,displayName,pluginPackage);
  String portletName=displayName;
  if (pluginPackage != null) {
    portletName=pluginPackage.getName();
  }
  Map<String,String> filterMap=new HashMap<String,String>();
  filterMap.put("portlet_name",displayName);
  filterMap.put("portlet_title",portletName);
  if (pluginPackage != null) {
    Properties settings=pluginPackage.getDeploymentSettings();
    filterMap.put("portlet_class",settings.getProperty("wai.portlet","com.liferay.util.bridges.wai.WAIPortlet"));
    filterMap.put("friendly_url_mapper_class",settings.getProperty("wai.friendly.url.mapper","com.liferay.portal.kernel.portlet." + "DefaultFriendlyURLMapper"));
    filterMap.put("friendly_url_mapping",settings.getProperty("wai.friendly.url.mapping","waiapp"));
    filterMap.put("friendly_url_routes",settings.getProperty("wai.friendly.url.routes","com/liferay/util/bridges/wai/" + "wai-friendly-url-routes.xml"));
  }
 else {
    filterMap.put("portlet_class","com.liferay.util.bridges.wai.WAIPortlet");
    filterMap.put("friendly_url_mapper_class","com.liferay.portal.kernel.portlet.DefaultFriendlyURLMapper");
    filterMap.put("friendly_url_mapping","waiapp");
    filterMap.put("friendly_url_routes","com/liferay/util/bridges/wai/wai-friendly-url-routes.xml");
  }
  _setInitParams(filterMap,pluginPackage);
  copyDependencyXml("liferay-display.xml",srcFile + "/WEB-INF",filterMap);
  copyDependencyXml("liferay-portlet.xml",srcFile + "/WEB-INF",filterMap);
  copyDependencyXml("portlet.xml",srcFile + "/WEB-INF",filterMap);
  copyDependencyXml("iframe.jsp",srcFile + "/WEB-INF/jsp/liferay/wai");
}
