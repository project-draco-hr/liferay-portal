{
  for (  Map.Entry<String,String> entry : _defaultParameters.entrySet()) {
    String name=entry.getKey();
    String value=entry.getValue();
    if (!value.equals(MapUtil.getString(parameters,name))) {
      return null;
    }
  }
  InheritableMap<String,String> allParameters=new InheritableMap<String,String>();
  for (  Map.Entry<String,StringParser> entry : _generatedParameters.entrySet()) {
    String name=entry.getKey();
    StringParser parser=entry.getValue();
    String value=MapUtil.getString(allParameters,name);
    if (!parser.parse(value,allParameters)) {
      return null;
    }
  }
  allParameters.setParentMap(parameters);
  String url=_parser.build(allParameters);
  if (url == null) {
    return null;
  }
  for (  String name : _defaultParameters.keySet()) {
    parameters.remove(name);
  }
  for (  String name : _generatedParameters.keySet()) {
    parameters.remove(name);
  }
  for (  String name : _ignoredParameters) {
    parameters.remove(name);
  }
  return url;
}
