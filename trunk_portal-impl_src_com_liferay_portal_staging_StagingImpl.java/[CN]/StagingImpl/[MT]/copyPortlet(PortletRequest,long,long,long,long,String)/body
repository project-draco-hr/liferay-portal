{
  long userId=PortalUtil.getUserId(portletRequest);
  Map<String,String[]> parameterMap=getStagingParameters(portletRequest);
  File file=LayoutLocalServiceUtil.exportPortletInfoAsFile(sourcePlid,sourceGroupId,portletId,parameterMap,null,null);
  try {
    LayoutLocalServiceUtil.importPortletInfo(userId,targetPlid,targetGroupId,portletId,parameterMap,file);
  }
  finally {
    file.delete();
  }
}
