{
  try {
    WabBundleProcessor newWabBundleProcessor=new WabBundleProcessor(bundle,_logger);
    WabBundleProcessor oldWabBundleProcessor=_wabBundleProcessors.putIfAbsent(bundle,newWabBundleProcessor);
    if (oldWabBundleProcessor != null) {
      _eventUtil.sendEvent(bundle,EventUtil.FAILED,null,false);
      return;
    }
    newWabBundleProcessor.init(_properties);
  }
 catch (  Exception e) {
    _eventUtil.sendEvent(bundle,EventUtil.FAILED,e,false);
  }
}
