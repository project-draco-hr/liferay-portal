{
  final ConfigJSModulesTask configJSModulesTask=GradleUtil.addTask(project,CONFIG_JS_MODULES_TASK_NAME,ConfigJSModulesTask.class);
  configJSModulesTask.mustRunAfter(new Callable<Task>(){
    @Override public Task call() throws Exception {
      TaskContainer taskContainer=project.getTasks();
      return taskContainer.findByName(_TRANSPILE_JS_TASK_NAME);
    }
  }
);
  configJSModulesTask.setDescription("Generates the config file needed to load AMD files via combo " + "loader in Liferay.");
  configJSModulesTask.setGroup(BasePlugin.BUILD_GROUP);
  configJSModulesTask.setModuleConfigFile(project.file("package.json"));
  PluginContainer pluginContainer=project.getPlugins();
  pluginContainer.withType(JavaPlugin.class,new Action<JavaPlugin>(){
    @Override public void execute(    JavaPlugin javaPlugin){
      _configureTaskConfigJSModulesForJavaPlugin(configJSModulesTask);
    }
  }
);
  return configJSModulesTask;
}
