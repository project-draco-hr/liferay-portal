{
  Transactional transactional=null;
  Queue<Class<?>> candidateQueue=new LinkedList<Class<?>>();
  if (annotatedElement instanceof Method) {
    Method method=(Method)annotatedElement;
    candidateQueue.offer(method.getDeclaringClass());
    transactional=_deepSearchMethods(method,candidateQueue);
  }
 else {
    candidateQueue.offer((Class<?>)annotatedElement);
    transactional=_deepSearchTypes(candidateQueue);
  }
  return TransactionAttributeBuilder.build(transactional);
}
