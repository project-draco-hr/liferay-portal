{
  Timestamp now=new Timestamp(System.currentTimeMillis());
  Connection con=null;
  PreparedStatement ps=null;
  try {
    con=DataAccess.getUpgradeOptimizedConnection();
    StringBundler sb=new StringBundler(4);
    sb.append("insert into AssetVocabulary (uuid_, vocabularyId, ");
    sb.append("groupId, companyId, userId, userName, createDate, ");
    sb.append("modifiedDate, name, title, description, settings_) ");
    sb.append("values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)");
    String sql=sb.toString();
    ps=con.prepareStatement(sql);
    ps.setString(1,PortalUUIDUtil.generate());
    ps.setLong(2,vocabularyId);
    ps.setLong(3,groupId);
    ps.setLong(4,companyId);
    ps.setLong(5,userId);
    ps.setString(6,StringPool.BLANK);
    ps.setTimestamp(7,now);
    ps.setTimestamp(8,now);
    ps.setString(9,name);
    ps.setString(10,title);
    ps.setString(11,StringPool.BLANK);
    ps.setString(12,settings);
    ps.executeUpdate();
    Map<String,Long> bitwiseValues=getBitwiseValues(AssetVocabulary.class.getName());
    List<String> actionIds=new ArrayList<>();
    actionIds.add(ActionKeys.VIEW);
    long bitwiseValue=getBitwiseValue(bitwiseValues,actionIds);
    addResourcePermission(companyId,AssetVocabulary.class.getName(),vocabularyId,getRoleId(companyId,RoleConstants.GUEST),bitwiseValue);
    addResourcePermission(companyId,AssetVocabulary.class.getName(),vocabularyId,getRoleId(companyId,RoleConstants.SITE_MEMBER),bitwiseValue);
  }
 catch (  Exception e) {
    _log.error("Unable to add asset vocabulary");
    throw e;
  }
 finally {
    DataAccess.cleanUp(con,ps);
  }
}
