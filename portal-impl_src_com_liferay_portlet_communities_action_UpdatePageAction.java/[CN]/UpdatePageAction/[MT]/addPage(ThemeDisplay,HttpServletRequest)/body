{
  String doAsUserId=ParamUtil.getString(req,"doAsUserId");
  long groupId=ParamUtil.getLong(req,"groupId");
  boolean privateLayout=ParamUtil.getBoolean(req,"privateLayout");
  long parentLayoutId=ParamUtil.getLong(req,"parentLayoutId");
  String name=ParamUtil.getString(req,"name","New Page");
  String title=StringPool.BLANK;
  String description=StringPool.BLANK;
  String type=LayoutImpl.TYPE_PORTLET;
  boolean hidden=false;
  String friendlyURL=StringPool.BLANK;
  Layout layout=LayoutServiceUtil.addLayout(groupId,privateLayout,parentLayoutId,name,title,description,type,hidden,friendlyURL);
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,PropsValues.LAYOUT_DEFAULT_TEMPLATE_ID,false);
  LayoutServiceUtil.updateLayout(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),layout.getTypeSettings());
  String layoutURL=PortalUtil.getLayoutURL(layout,themeDisplay);
  if (Validator.isNotNull(doAsUserId)) {
    layoutURL=Http.addParameter(layoutURL,"doAsUserId",themeDisplay.getDoAsUserId());
  }
  return new String[]{String.valueOf(layout.getLayoutId()),layoutURL};
}
