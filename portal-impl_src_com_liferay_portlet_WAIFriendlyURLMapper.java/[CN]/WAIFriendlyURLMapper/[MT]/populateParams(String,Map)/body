{
  int x=friendlyURLPath.indexOf(_MAPPING);
  int y=friendlyURLPath.indexOf("/",x + _MAPPING.length() + 1);
  if (x == -1) {
    return;
  }
  String prefix=friendlyURLPath.substring(x + _MAPPING.length() + 1,y);
  String portletId=prefix + PortletImpl.WAR_SEPARATOR + prefix;
  params.put("p_p_id",portletId);
  params.put("p_p_lifecycle","0");
  if (hasBinaryExtension(friendlyURLPath)) {
    params.put("p_p_state",LiferayWindowState.EXCLUSIVE.toString());
  }
 else {
    params.put("p_p_state",WindowState.MAXIMIZED.toString());
  }
  params.put("p_p_mode",PortletMode.VIEW.toString());
  String namespace=PortalUtil.getPortletNamespace(portletId);
  String path=friendlyURLPath.substring(y);
  params.put(namespace + "appURL",path);
}
