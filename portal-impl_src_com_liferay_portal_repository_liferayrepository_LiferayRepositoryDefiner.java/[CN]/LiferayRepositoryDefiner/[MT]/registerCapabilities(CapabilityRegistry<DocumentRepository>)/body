{
  DocumentRepository documentRepository=capabilityRegistry.getTarget();
  capabilityRegistry.addExportedCapability(BulkOperationCapability.class,portalCapabilityLocator.getBulkOperationCapability(documentRepository));
  if (PropsValues.DL_FILE_ENTRY_COMMENTS_ENABLED) {
    capabilityRegistry.addExportedCapability(CommentCapability.class,portalCapabilityLocator.getCommentCapability(documentRepository));
  }
  capabilityRegistry.addExportedCapability(RelatedModelCapability.class,portalCapabilityLocator.getRelatedModelCapability(documentRepository));
  capabilityRegistry.addExportedCapability(ThumbnailCapability.class,portalCapabilityLocator.getThumbnailCapability(documentRepository));
  capabilityRegistry.addExportedCapability(TrashCapability.class,portalCapabilityLocator.getTrashCapability(documentRepository));
  capabilityRegistry.addExportedCapability(WorkflowCapability.class,portalCapabilityLocator.getWorkflowCapability(documentRepository,WorkflowCapability.OperationMode.FULL));
  capabilityRegistry.addSupportedCapability(ProcessorCapability.class,portalCapabilityLocator.getProcessorCapability(documentRepository));
  capabilityRegistry.addSupportedCapability(SyncCapability.class,portalCapabilityLocator.getSyncCapability(documentRepository));
}
