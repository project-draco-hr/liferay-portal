{
  capabilityRegistry.addExportedCapability(TrashCapability.class,_trashCapability);
  DocumentRepository documentRepository=capabilityRegistry.getTarget();
  BulkOperationCapability bulkOperationCapability=new LiferayBulkOperationCapability(documentRepository);
  capabilityRegistry.addExportedCapability(BulkOperationCapability.class,bulkOperationCapability);
  ThumbnailCapability thumbnailCapability=new LiferayThumbnailCapability(new RepositoryEntryConverter(),new RepositoryEntryChecker(documentRepository));
  capabilityRegistry.addExportedCapability(ThumbnailCapability.class,thumbnailCapability);
  capabilityRegistry.addSupportedCapability(ProcessorCapability.class,_processorCapability);
  capabilityRegistry.addSupportedCapability(SyncCapability.class,new LiferaySyncCapability(bulkOperationCapability));
  capabilityRegistry.addSupportedCapability(WorkflowCapability.class,_workflowCapability);
  if (PropsValues.DL_FILE_ENTRY_COMMENTS_ENABLED) {
    capabilityRegistry.addSupportedCapability(CommentCapability.class,_commentCapability);
  }
}
