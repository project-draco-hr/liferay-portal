{
  Reader reader1=new UnsyncStringReader("add\nbbb\nccc");
  Reader reader2=new UnsyncStringReader("bbb\nccc\naee");
  List<DiffResult> expectedSource=new ArrayList<>();
  List<DiffResult> expectedTarget=new ArrayList<>();
  expectedSource.add(new DiffResult(0,Diff.OPEN_DEL + "add" + Diff.CLOSE_DEL));
  expectedTarget.add(new DiffResult(0,Diff.CONTEXT_LINE));
  List<String> changedLines=new ArrayList<>();
  changedLines.add("bbb");
  changedLines.add("ccc");
  changedLines.add(Diff.CONTEXT_LINE);
  expectedSource.add(new DiffResult(2,changedLines));
  changedLines=new ArrayList<>();
  changedLines.add("bbb");
  changedLines.add("ccc");
  changedLines.add(Diff.OPEN_INS + "aee" + Diff.CLOSE_INS);
  expectedTarget.add(new DiffResult(2,changedLines));
  List<DiffResult>[] actual=DiffUtil.diff(reader1,reader2);
  Assert.assertEquals(expectedSource,actual[0]);
  Assert.assertEquals(expectedTarget,actual[1]);
}
