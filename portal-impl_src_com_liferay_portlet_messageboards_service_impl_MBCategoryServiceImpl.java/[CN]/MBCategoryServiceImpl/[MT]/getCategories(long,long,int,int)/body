{
  List<MBCategory> categories=mbCategoryLocalService.getCategories(groupId,parentCategoryId,start,end);
  categories=ListUtil.copy(categories);
  Iterator<MBCategory> itr=categories.iterator();
  while (itr.hasNext()) {
    MBCategory category=itr.next();
    if (!MBCategoryPermission.contains(getPermissionChecker(),category,ActionKeys.VIEW)) {
      itr.remove();
    }
  }
  return categories;
}
