{
  Class<?>[] interfaces=ReflectionUtil.getInterfaces(bean,_classLoader);
  String[] classNames=new String[interfaces.length];
  for (int i=0; i < interfaces.length; i++) {
    classNames[i]=interfaces[i].getName();
  }
  if (classNames.length == 0) {
    return bean;
  }
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  properties.put("bean.id",beanName);
  ServiceRegistration<?> serviceRegistration=_bundleContext.registerService(classNames,bean,properties);
  _serviceRegistrations.add(serviceRegistration);
  return bean;
}
