{
  String[] ranks=StringUtil.split(ParamUtil.getString(req,"ranks"),StringPool.NEW_LINE);
  TreeMap map=MBUtil.getRanksMap(ranks);
  FastStringBuffer sb=new FastStringBuffer();
  for (Iterator itr=map.keySet().iterator(); itr.hasNext(); ) {
    Integer key=(Integer)itr.next();
    sb.append(map.get(key) + StringPool.EQUAL + key);
    if (itr.hasNext()) {
      sb.append(StringPool.NEW_LINE);
    }
  }
  prefs.setValue("ranks",sb.toString());
}
