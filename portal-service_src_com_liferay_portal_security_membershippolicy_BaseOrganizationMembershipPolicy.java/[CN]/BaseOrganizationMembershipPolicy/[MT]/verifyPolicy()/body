{
  ActionableDynamicQuery organizationActionableDynamicQuery=OrganizationLocalServiceUtil.getActionableDynamicQuery();
  organizationActionableDynamicQuery.setPerformActionMethod(new ActionableDynamicQuery.PerformActionMethod(){
    @Override public void performAction(    Object object) throws PortalException {
      Organization organization=(Organization)object;
      verifyPolicy(organization);
      ActionableDynamicQuery userGroupRoleActionableDynamicQuery=UserGroupRoleLocalServiceUtil.getActionableDynamicQuery();
      userGroupRoleActionableDynamicQuery.setGroupId(organization.getGroupId());
      userGroupRoleActionableDynamicQuery.setPerformActionMethod(new ActionableDynamicQuery.PerformActionMethod(){
        @Override public void performAction(        Object object) throws PortalException {
          UserGroupRole userGroupRole=(UserGroupRole)object;
          verifyPolicy(userGroupRole.getRole());
        }
      }
);
      userGroupRoleActionableDynamicQuery.performActions();
    }
  }
);
  organizationActionableDynamicQuery.performActions();
}
