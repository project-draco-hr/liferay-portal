{
  QueryConfig queryConfig=searchContext.getQueryConfig();
  if (!queryConfig.isQuerySuggestionEnabled()) {
    return true;
  }
  int threshold=queryConfig.getQuerySuggestionScoresThreshold();
  if (hits.getLength() >= threshold) {
    return true;
  }
  int maxSuggestions=queryConfig.getQuerySuggestionMax();
  String[] querySuggestions=SearchEngineUtil.suggestKeywordQueries(searchContext,maxSuggestions);
  if (_REMOVE_ORIGINAL_QUERY_FROM_SUGGESTIONS) {
    querySuggestions=ArrayUtil.remove(querySuggestions,searchContext.getKeywords());
  }
  hits.setQuerySuggestions(querySuggestions);
  return true;
}
