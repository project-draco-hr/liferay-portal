{
  QueryConfig queryConfig=searchContext.getQueryConfig();
  if (!queryConfig.isQuerySuggestionEnabled()) {
    return true;
  }
  int querySuggestionScoresThreshold=queryConfig.getQuerySuggestionScoresThreshold();
  if (hits.getLength() >= querySuggestionScoresThreshold) {
    return true;
  }
  int maxSuggestions=queryConfig.getQuerySuggestionMax();
  String[] querySuggestions=SearchEngineUtil.suggestKeywordQueries(searchContext,maxSuggestions);
  querySuggestions=ArrayUtil.remove(querySuggestions,searchContext.getKeywords());
  hits.setQuerySuggestions(querySuggestions);
  return true;
}
