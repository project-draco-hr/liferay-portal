{
  I index=indexedCacheKey.getIndex();
  while (true) {
    Set<K> indexedCacheKeys=_indexedCacheKeys.get(index);
    if (indexedCacheKeys == null) {
      Set<K> newIndexedCacheKeys=new HashSet<>();
      newIndexedCacheKeys.add(indexedCacheKey);
      indexedCacheKeys=_indexedCacheKeys.putIfAbsent(index,newIndexedCacheKeys);
      if (indexedCacheKeys == null) {
        return;
      }
    }
    Set<K> newIndexedCacheKeys=new HashSet<>(indexedCacheKeys);
    if (!newIndexedCacheKeys.add(indexedCacheKey)) {
      return;
    }
    if (_indexedCacheKeys.replace(index,indexedCacheKeys,newIndexedCacheKeys)) {
      return;
    }
  }
}
