{
  Registry registry=RegistryUtil.getRegistry();
  registry.ungetService(serviceReference);
  String portletId=(String)serviceReference.getProperty("javax.portlet.name");
  if (Validator.isNull(portletId)) {
    portletId=StringPool.STAR;
  }
  List<PortletConfigurationIconFactory> portletConfigurationIconFactories=_portletConfigurationIconFactoriesMap.get(portletId);
  if (portletConfigurationIconFactories == null) {
    return;
  }
  portletConfigurationIconFactories.remove(portletConfigurationIconFactory);
}
