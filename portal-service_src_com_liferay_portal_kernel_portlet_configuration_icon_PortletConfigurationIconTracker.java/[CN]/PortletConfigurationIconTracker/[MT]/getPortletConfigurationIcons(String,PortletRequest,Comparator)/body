{
  List<PortletConfigurationIconFactory> portletConfigurationIconFactories=ListUtil.sort(getPortletConfigurationFactories(portletId,portletRequest),comparator);
  List<PortletConfigurationIcon> portletConfigurationIcons=new ArrayList();
  for (  PortletConfigurationIconFactory portletConfigurationIconFactory : portletConfigurationIconFactories) {
    PortletConfigurationIcon portletConfigurationIcon=portletConfigurationIconFactory.create(portletRequest);
    if ((portletConfigurationIcon != null) && portletConfigurationIcon.isShow()) {
      portletConfigurationIcons.add(portletConfigurationIcon);
    }
  }
  return portletConfigurationIcons;
}
