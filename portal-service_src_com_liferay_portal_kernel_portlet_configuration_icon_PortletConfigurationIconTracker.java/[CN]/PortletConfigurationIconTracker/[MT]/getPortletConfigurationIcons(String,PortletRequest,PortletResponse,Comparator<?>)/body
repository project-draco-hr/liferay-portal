{
  List<PortletConfigurationIcon> portletConfigurationIcons=new ArrayList<>();
  List<PortletConfigurationIconFactory> portletConfigurationIconFactories=ListUtil.sort(getPortletConfigurationFactories(portletId,portletRequest),(Comparator<PortletConfigurationIconFactory>)comparator);
  for (  PortletConfigurationIconFactory portletConfigurationIconFactory : portletConfigurationIconFactories) {
    PortletConfigurationIcon portletConfigurationIcon=portletConfigurationIconFactory.create(portletRequest,portletResponse);
    if ((portletConfigurationIcon != null) && portletConfigurationIcon.isShow(portletRequest)) {
      portletConfigurationIcons.add(portletConfigurationIcon);
    }
  }
  return portletConfigurationIcons;
}
