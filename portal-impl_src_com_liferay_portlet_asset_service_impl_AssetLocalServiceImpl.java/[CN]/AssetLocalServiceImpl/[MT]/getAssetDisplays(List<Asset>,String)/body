{
  AssetDisplay[] assetDisplays=new AssetDisplay[assets.size()];
  for (int i=0; i < assets.size(); i++) {
    Asset asset=assets.get(i);
    String className=PortalUtil.getClassName(asset.getClassNameId());
    String portletId=PortalUtil.getClassNamePortletId(className);
    String portletTitle=PortalUtil.getPortletTitle(portletId,asset.getCompanyId(),languageId);
    List<AssetCategory> categoryList=assetPersistence.getAssetCategories(asset.getAssetId());
    String categoryIdsString=ListUtil.toString(categoryList,"assetCategoryId",StringPool.COMMA);
    long[] categoryIds=StringUtil.split(categoryIdsString,StringPool.COMMA,0L);
    List<AssetTag> tagList=assetPersistence.getAssetTags(asset.getAssetId());
    String tagNames=ListUtil.toString(tagList,"name",", ");
    AssetDisplay assetDisplay=new AssetDisplay();
    assetDisplay.setAssetId(asset.getAssetId());
    assetDisplay.setCompanyId(asset.getCompanyId());
    assetDisplay.setUserId(asset.getUserId());
    assetDisplay.setUserName(asset.getUserName());
    assetDisplay.setCreateDate(asset.getCreateDate());
    assetDisplay.setModifiedDate(asset.getModifiedDate());
    assetDisplay.setClassNameId(asset.getClassNameId());
    assetDisplay.setClassName(className);
    assetDisplay.setClassPK(asset.getClassPK());
    assetDisplay.setPortletId(portletId);
    assetDisplay.setPortletTitle(portletTitle);
    assetDisplay.setStartDate(asset.getStartDate());
    assetDisplay.setEndDate(asset.getEndDate());
    assetDisplay.setPublishDate(asset.getPublishDate());
    assetDisplay.setExpirationDate(asset.getExpirationDate());
    assetDisplay.setMimeType(asset.getMimeType());
    assetDisplay.setTitle(asset.getTitle());
    assetDisplay.setDescription(asset.getDescription());
    assetDisplay.setSummary(asset.getSummary());
    assetDisplay.setUrl(asset.getUrl());
    assetDisplay.setHeight(asset.getHeight());
    assetDisplay.setWidth(asset.getWidth());
    assetDisplay.setPriority(asset.getPriority());
    assetDisplay.setViewCount(asset.getViewCount());
    assetDisplay.setCategoryIds(categoryIds);
    assetDisplay.setTagNames(tagNames);
    assetDisplays[i]=assetDisplay;
  }
  return assetDisplays;
}
