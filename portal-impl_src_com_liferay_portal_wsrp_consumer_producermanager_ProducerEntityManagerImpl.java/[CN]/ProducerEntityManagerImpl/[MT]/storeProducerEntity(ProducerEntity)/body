{
  String registrationDataXML=getRegistrationDataXMLFromRD(producerEntity.getRegistrationData());
  String registrationContextXML=getRegistrationContextXMLFromRC(producerEntity.getRegistrationContext());
  String serviceDescriptionXML=getServiceDescriptionXMLFromSD(producerEntity.getServiceDescription());
  ConfiguredProducer configuredProducer=new ConfiguredProducerImpl();
  configuredProducer.setPrimaryKey(new ConfiguredProducerPK(_portalId,producerEntity.getId()));
  configuredProducer.setConfiguredProducerName(producerEntity.getName());
  configuredProducer.setNamespace(_namespace);
  configuredProducer.setProducerURL(producerEntity.getURL().toString());
  configuredProducer.setProducerVersion(producerEntity.getVersion().value());
  configuredProducer.setProducerMarkupEndpoint(producerEntity.getMarkupEndpoint());
  configuredProducer.setProducerStatus(producerEntity.getStatus().getValue());
  configuredProducer.setRegistrationData(registrationDataXML);
  configuredProducer.setRegistrationContext(registrationContextXML);
  configuredProducer.setServiceDescription(serviceDescriptionXML);
  configuredProducer.setIdentityPropagationType(producerEntity.getIdentityPropagationType());
  configuredProducer.setSdLastModified(producerEntity.getServiceDescriptionLastModified());
  try {
    ConfiguredProducerLocalServiceUtil.addConfiguredProducer(configuredProducer);
  }
 catch (  SystemException se) {
    throw new WSRPConsumerException(se.getMessage());
  }
}
