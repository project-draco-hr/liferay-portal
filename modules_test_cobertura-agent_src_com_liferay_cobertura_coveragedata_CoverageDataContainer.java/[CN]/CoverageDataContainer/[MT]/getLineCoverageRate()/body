{
  int number=0;
  int numberCovered=0;
  lock.lock();
  try {
    Iterator<CoverageData> iter=this.children.values().iterator();
    while (iter.hasNext()) {
      CoverageData coverageContainer=iter.next();
      number+=coverageContainer.getNumberOfValidLines();
      numberCovered+=coverageContainer.getNumberOfCoveredLines();
    }
  }
  finally {
    lock.unlock();
  }
  if (number == 0) {
    return 1d;
  }
  return (double)numberCovered / number;
}
