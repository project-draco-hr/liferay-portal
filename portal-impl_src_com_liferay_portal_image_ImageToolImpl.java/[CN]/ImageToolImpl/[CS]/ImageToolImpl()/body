{
  ImageIO.setUseCache(PropsValues.IMAGE_IO_USE_DISK_CACHE);
  IIORegistry defaultInstance=IIORegistry.getDefaultInstance();
  ImageReaderSpi firstProvider=null;
  ImageReaderSpi secondProvider=null;
  Iterator<ImageReaderSpi> serviceProviders=defaultInstance.getServiceProviders(ImageReaderSpi.class,true);
  while (serviceProviders.hasNext()) {
    ImageReaderSpi serviceProvider=serviceProviders.next();
    if (serviceProvider instanceof CMYKJPEGImageReaderSpi) {
      secondProvider=serviceProvider;
    }
 else {
      String[] formatNames=serviceProvider.getFormatNames();
      if (ArrayUtil.contains(formatNames,TYPE_JPEG,true) || ArrayUtil.contains(formatNames,"jpeg",true)) {
        firstProvider=serviceProvider;
      }
    }
  }
  if ((firstProvider != null) && (secondProvider != null)) {
    defaultInstance.setOrdering(ImageReaderSpi.class,firstProvider,secondProvider);
  }
}
