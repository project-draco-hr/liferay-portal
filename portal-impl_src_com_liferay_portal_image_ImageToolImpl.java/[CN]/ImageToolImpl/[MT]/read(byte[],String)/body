{
  RenderedImage renderedImage=null;
  try {
    if (type.equals(TYPE_JPEG)) {
      type="jpeg";
    }
    ImageDecoder imageDecoder=ImageCodec.createImageDecoder(type,new UnsyncByteArrayInputStream(bytes),null);
    renderedImage=imageDecoder.decodeAsRenderedImage();
  }
 catch (  IOException ioe) {
    if (_log.isDebugEnabled()) {
      _log.debug(type + ": " + ioe.getMessage());
    }
  }
  return renderedImage;
}
