{
  BufferedImage originalBufferedImage=getBufferedImage(renderedImage);
  ColorModel originalColorModel=originalBufferedImage.getColorModel();
  Graphics2D originalGraphics2D=originalBufferedImage.createGraphics();
  if (originalColorModel.hasAlpha()) {
    originalGraphics2D.setComposite(AlphaComposite.Src);
  }
  GraphicsConfiguration originalGraphicsConfiguration=originalGraphics2D.getDeviceConfiguration();
  BufferedImage scaledBufferedImage=originalGraphicsConfiguration.createCompatibleImage(scaledWidth,scaledHeight,originalBufferedImage.getTransparency());
  Graphics scaledGraphics=scaledBufferedImage.getGraphics();
  scaledGraphics.drawImage(originalBufferedImage.getScaledInstance(scaledWidth,scaledHeight,java.awt.Image.SCALE_SMOOTH),0,0,null);
  originalGraphics2D.dispose();
  return scaledBufferedImage;
}
