{
  if (width <= 0) {
    return renderedImage;
  }
  int imageHeight=renderedImage.getHeight();
  int imageWidth=renderedImage.getWidth();
  double factor=(double)width / imageWidth;
  int scaledHeight=(int)(factor * imageHeight);
  int scaledWidth=width;
  BufferedImage originalBufferedImage=getBufferedImage(renderedImage);
  int type=originalBufferedImage.getType();
  if (type == 0) {
    type=BufferedImage.TYPE_INT_ARGB;
  }
  BufferedImage scaledBufferedImage=new BufferedImage(scaledWidth,scaledHeight,type);
  Graphics scaledGraphics=scaledBufferedImage.getGraphics();
  java.awt.Image scaledImage=originalBufferedImage.getScaledInstance(scaledWidth,scaledHeight,java.awt.Image.SCALE_SMOOTH);
  scaledGraphics.drawImage(scaledImage,0,0,null);
  return scaledBufferedImage;
}
