{
  if (contentType.contains(TYPE_BMP)) {
    ImageEncoder imageEncoder=ImageCodec.createImageEncoder(TYPE_BMP,os,null);
    imageEncoder.encode(renderedImage);
  }
 else   if (contentType.contains(TYPE_GIF)) {
    encodeGIF(renderedImage,os);
  }
 else   if (contentType.contains(TYPE_JPEG) || contentType.contains("jpeg")) {
    ImageIO.write(renderedImage,"jpeg",os);
  }
 else   if (contentType.contains(TYPE_PNG)) {
    ImageIO.write(renderedImage,TYPE_PNG,os);
  }
 else   if (contentType.contains(TYPE_TIFF) || contentType.contains("tif")) {
    ImageEncoder imageEncoder=ImageCodec.createImageEncoder(TYPE_TIFF,os,null);
    imageEncoder.encode(renderedImage);
  }
}
