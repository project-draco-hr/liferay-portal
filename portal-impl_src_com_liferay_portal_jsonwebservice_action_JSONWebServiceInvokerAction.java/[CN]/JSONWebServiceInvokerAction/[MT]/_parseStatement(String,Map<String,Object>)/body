{
  Statement statement=new Statement();
  _statements.add(statement);
  int x=assignment.indexOf(StringPool.EQUAL);
  if (x == -1) {
    statement.setMethod(assignment.trim());
  }
 else {
    String name=assignment.substring(0,x).trim();
    int y=name.indexOf(StringPool.OPEN_BRACKET);
    if (y != -1) {
      String whitelistString=name.substring(y + 1,name.length() - 1);
      String[] whiteList=StringUtil.split(whitelistString);
      for (int i=0; i < whiteList.length; i++) {
        whiteList[i]=whiteList[i].trim();
      }
      statement.setWhitelist(whiteList);
      name=name.substring(0,y);
    }
    statement.setName(name);
    statement.setMethod(assignment.substring(x + 1).trim());
  }
  statement.setParameterMap(parameterMap);
  Set<String> keySet=parameterMap.keySet();
  Iterator<String> iterator=keySet.iterator();
  while (iterator.hasNext()) {
    String key=iterator.next();
    if (key.startsWith(StringPool.AT)) {
      String value=(String)parameterMap.get(key);
      iterator.remove();
      List<Flag> flags=statement.getFlags();
      if (flags == null) {
        flags=new ArrayList<Flag>();
        statement.setFlags(flags);
      }
      Flag flag=new Flag();
      flag.setKey(key.substring(1));
      flag.setValue(value);
      flags.add(flag);
    }
 else     if (key.startsWith(StringPool.DOLLAR)) {
      Map<String,Object> map=(Map<String,Object>)parameterMap.get(key);
      iterator.remove();
      List<Statement> variableStatements=statement.getVariableStatements();
      if (variableStatements == null) {
        variableStatements=new ArrayList<Statement>();
        statement.setVariableStatements(variableStatements);
      }
      Statement variableStatement=_parseStatement(key,map);
      variableStatements.add(variableStatement);
    }
  }
  return statement;
}
