{
  String contextPath=PortalUtil.getPathContext();
  String[] patterns={contextPath.concat("/c/document_library/get_file?"),contextPath.concat("/documents/"),contextPath.concat("/image/image_gallery?")};
  int beginPos=-1;
  int endPos=content.length();
  while (true) {
    beginPos=StringUtil.lastIndexOfAny(content,patterns,endPos);
    if (beginPos == -1) {
      break;
    }
    Map<String,String[]> dlReferenceParameters=getDLReferenceParameters(groupId,content,beginPos + contextPath.length(),endPos);
    FileEntry fileEntry=getFileEntry(dlReferenceParameters);
    if (fileEntry == null) {
      throw new NoSuchFileEntryException();
    }
    endPos=beginPos - 1;
  }
}
