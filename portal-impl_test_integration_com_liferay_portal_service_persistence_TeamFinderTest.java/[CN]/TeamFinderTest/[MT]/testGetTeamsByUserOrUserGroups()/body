{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),_user.getUserId());
  Team directTeam=TeamLocalServiceUtil.addTeam(_user.getUserId(),_group.getGroupId(),RandomTestUtil.randomString(),"",serviceContext);
  TeamLocalServiceUtil.addUserTeam(_user.getUserId(),directTeam.getTeamId());
  List<Team> justDirectTeam=TeamLocalServiceUtil.getTeamsByUserOrUserGroups(_group.getGroupId(),_user.getUserId());
  Assert.assertEquals(1,justDirectTeam.size());
  Assert.assertTrue(justDirectTeam.contains(directTeam));
  Team groupTeam=TeamLocalServiceUtil.addTeam(_user.getUserId(),_group.getGroupId(),RandomTestUtil.randomString(),"",serviceContext);
  TeamLocalServiceUtil.addUserGroupTeam(_userGroup.getUserGroupId(),groupTeam.getTeamId());
  List<Team> directAndGroupTeams=TeamLocalServiceUtil.getTeamsByUserOrUserGroups(_group.getGroupId(),_user.getUserId());
  Assert.assertEquals(2,directAndGroupTeams.size());
  Assert.assertTrue(directAndGroupTeams.contains(directTeam));
  Assert.assertTrue(directAndGroupTeams.contains(groupTeam));
}
