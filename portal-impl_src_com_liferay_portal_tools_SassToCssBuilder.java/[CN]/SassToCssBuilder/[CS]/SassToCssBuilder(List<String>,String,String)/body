{
  Class<?> clazz=getClass();
  ClassLoader classLoader=clazz.getClassLoader();
  _initUtil(classLoader);
  _rubyScript=StringUtil.read(classLoader,"com/liferay/portal/servlet/filters/dynamiccss" + "/dependencies/main.rb");
  _tempDir=SystemProperties.get(SystemProperties.TMP_DIR);
  RubyExecutor rubyExecutor=new RubyExecutor();
  rubyExecutor.setExecuteInSeparateThread(false);
  List<String> fileNames=new ArrayList<String>();
  for (  String dirName : dirNames) {
    _collectSassFiles(fileNames,dirName,docrootDirName);
  }
  Runtime runtime=Runtime.getRuntime();
  ExecutorService executorService=Executors.newFixedThreadPool(runtime.availableProcessors());
  List<Future<String>> futures=new ArrayList<Future<String>>(fileNames.size());
  for (  String fileName : fileNames) {
    Callable<String> callable=new CacheSassCallable(rubyExecutor,docrootDirName,portalCommonDirName,fileName);
    futures.add(executorService.submit(callable));
  }
  for (  Future<String> future : futures) {
    System.out.println(future.get());
  }
  executorService.shutdownNow();
}
