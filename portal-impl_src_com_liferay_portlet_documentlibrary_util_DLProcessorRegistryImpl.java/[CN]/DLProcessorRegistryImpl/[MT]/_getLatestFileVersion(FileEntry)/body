{
  FileVersion latestFileVersion=null;
  try {
    if (fileEntry.getModel() instanceof DLFileEntry) {
      DLFileEntry dlFileEntry=(DLFileEntry)fileEntry.getModel();
      latestFileVersion=new LiferayFileVersion(dlFileEntry.getLatestFileVersion(false));
    }
 else {
      latestFileVersion=fileEntry.getLatestFileVersion();
    }
    return latestFileVersion;
  }
 catch (  Exception e) {
    _log.error(e,e);
    return null;
  }
}
