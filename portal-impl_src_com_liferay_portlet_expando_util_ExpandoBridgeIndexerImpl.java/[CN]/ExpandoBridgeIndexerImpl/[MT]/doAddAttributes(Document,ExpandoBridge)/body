{
  List<ExpandoColumn> expandoColumns=ExpandoColumnLocalServiceUtil.getDefaultTableColumns(expandoBridge.getCompanyId(),expandoBridge.getClassName());
  if ((expandoColumns == null) || expandoColumns.isEmpty()) {
    return;
  }
  List<ExpandoColumn> indexedColumns=new ArrayList<ExpandoColumn>();
  for (  ExpandoColumn expandoColumn : expandoColumns) {
    UnicodeProperties properties=expandoColumn.getTypeSettingsProperties();
    boolean indexable=GetterUtil.getBoolean(properties.get(ExpandoBridgeIndexer.INDEXABLE));
    if (indexable) {
      indexedColumns.add(expandoColumn);
    }
  }
  if (indexedColumns.isEmpty()) {
    return;
  }
  List<ExpandoValue> expandoValues=ExpandoValueLocalServiceUtil.getRowValues(expandoBridge.getCompanyId(),expandoBridge.getClassName(),ExpandoTableConstants.DEFAULT_TABLE_NAME,expandoBridge.getClassPK(),QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  ExpandoColumn expandoColumn : indexedColumns) {
    try {
      String value=expandoColumn.getDefaultData();
      for (      ExpandoValue expandoValue : expandoValues) {
        if (expandoValue.getColumnId() == expandoColumn.getColumnId()) {
          value=expandoValue.getData();
          break;
        }
      }
      doc.addText(expandoColumn.getName(),value);
    }
 catch (    Exception e) {
      _log.error("Indexing " + expandoColumn.getName(),e);
    }
  }
}
