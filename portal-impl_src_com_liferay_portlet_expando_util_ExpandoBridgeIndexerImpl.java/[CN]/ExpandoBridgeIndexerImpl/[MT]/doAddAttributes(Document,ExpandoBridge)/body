{
  List<ExpandoColumn> expandoColumns=ExpandoColumnLocalServiceUtil.getDefaultTableColumns(expandoBridge.getCompanyId(),expandoBridge.getClassName());
  if ((expandoColumns == null) || expandoColumns.isEmpty()) {
    return;
  }
  List<ExpandoColumn> indexedColumns=new ArrayList<ExpandoColumn>();
  for (  ExpandoColumn expandoColumn : expandoColumns) {
    UnicodeProperties properties=expandoColumn.getTypeSettingsProperties();
    boolean indexable=GetterUtil.getBoolean(properties.get(ExpandoBridgeIndexer.INDEXABLE));
    if (indexable) {
      indexedColumns.add(expandoColumn);
    }
  }
  if (indexedColumns.isEmpty()) {
    return;
  }
  List<ExpandoValue> expandoValues=ExpandoValueLocalServiceUtil.getRowValues(expandoBridge.getCompanyId(),expandoBridge.getClassName(),ExpandoTableConstants.DEFAULT_TABLE_NAME,expandoBridge.getClassPK(),QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  ExpandoColumn expandoColumn : indexedColumns) {
    try {
      String fieldName=encodeFieldName(expandoColumn.getName());
      boolean defaultValue=true;
      ExpandoValue curValue=new ExpandoValueImpl();
      curValue.setData(expandoColumn.getDefaultData());
      curValue.setColumnId(expandoColumn.getColumnId());
      for (      ExpandoValue expandoValue : expandoValues) {
        if (expandoValue.getColumnId() == expandoColumn.getColumnId()) {
          curValue=expandoValue;
          defaultValue=false;
          break;
        }
      }
      if (expandoColumn.getType() == ExpandoColumnConstants.BOOLEAN) {
        doc.addKeyword(fieldName,curValue.getBoolean());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.BOOLEAN_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? curValue.getBooleanArray() : new boolean[0]));
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.DATE) {
        doc.addDate(fieldName,curValue.getDate());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.DOUBLE) {
        doc.addKeyword(fieldName,curValue.getDouble());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.DOUBLE_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? curValue.getDoubleArray() : new double[0]));
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.FLOAT) {
        doc.addKeyword(fieldName,curValue.getFloat());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.FLOAT_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? StringUtil.merge(curValue.getFloatArray()) : StringPool.BLANK));
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.INTEGER) {
        doc.addKeyword(fieldName,curValue.getInteger());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.INTEGER_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? curValue.getIntegerArray() : new int[0]));
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.LONG) {
        doc.addKeyword(fieldName,curValue.getLong());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.LONG_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? curValue.getLongArray() : new long[0]));
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.SHORT) {
        doc.addKeyword(fieldName,curValue.getShort());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.SHORT_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? curValue.getShortArray() : new short[0]));
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.STRING) {
        doc.addText(fieldName,curValue.getString());
      }
 else       if (expandoColumn.getType() == ExpandoColumnConstants.STRING_ARRAY) {
        doc.addKeyword(fieldName,(!defaultValue ? curValue.getStringArray() : new String[0]));
      }
    }
 catch (    Exception e) {
      _log.error("Indexing " + expandoColumn.getName(),e);
    }
  }
}
