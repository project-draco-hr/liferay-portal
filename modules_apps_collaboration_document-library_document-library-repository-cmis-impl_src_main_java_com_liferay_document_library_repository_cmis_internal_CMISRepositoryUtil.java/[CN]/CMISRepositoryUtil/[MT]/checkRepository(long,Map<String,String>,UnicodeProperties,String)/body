{
  if (!typeSettingsProperties.containsKey(typeSettingsKey)) {
    org.apache.chemistry.opencmis.client.api.Repository cmisRepository=_sessionFactory.getRepositories(parameters).get(0);
    typeSettingsProperties.setProperty(typeSettingsKey,cmisRepository.getId());
    try {
      RepositoryLocalServiceUtil.updateRepository(repositoryId,typeSettingsProperties);
    }
 catch (    PortalException|SystemException e) {
      throw new RepositoryException(e);
    }
  }
  parameters.put(SessionParameter.REPOSITORY_ID,getTypeSettingsValue(typeSettingsProperties,typeSettingsKey));
}
