{
  String portletId=PortletProviderUtil.getPortletId(MBCategory.class.getName(),PortletProvider.Action.EDIT);
  MBCategory category=_mbCategoryLocalService.getCategory(classPK);
  long plid=PortalUtil.getPlidFromPortletId(category.getGroupId(),portletId);
  if (plid == LayoutConstants.DEFAULT_PLID) {
    portletId=PortletProviderUtil.getPortletId(MBCategory.class.getName(),PortletProvider.Action.MANAGE);
    plid=PortalUtil.getControlPanelPlid(portletRequest);
  }
  PortletURL portletURL=PortletURLFactoryUtil.create(portletRequest,portletId,plid,PortletRequest.RENDER_PHASE);
  portletURL.setParameter("mvcRenderCommandName","/message_boards/view");
  return portletURL;
}
