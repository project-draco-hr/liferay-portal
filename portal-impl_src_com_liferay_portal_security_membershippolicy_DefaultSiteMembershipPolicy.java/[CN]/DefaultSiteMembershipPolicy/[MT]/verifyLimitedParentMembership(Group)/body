{
  int count=UserLocalServiceUtil.getGroupUsersCount(group.getGroupId());
  int pages=count / Indexer.DEFAULT_INTERVAL;
  for (int i=0; i <= pages; i++) {
    int start=(i * Indexer.DEFAULT_INTERVAL);
    int end=start + Indexer.DEFAULT_INTERVAL;
    List<User> users=UserLocalServiceUtil.getGroupUsers(group.getGroupId(),start,end);
    for (    User user : users) {
      if (!UserLocalServiceUtil.hasGroupUser(group.getParentGroupId(),user.getUserId())) {
        UserLocalServiceUtil.unsetGroupUsers(group.getGroupId(),new long[]{user.getUserId()},null);
      }
    }
  }
}
