{
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddGuestPermissions(true);
  serviceContext.setAddGroupPermissions(true);
  Group group=GroupLocalServiceUtil.getCompanyGroup(companyId);
  serviceContext.setScopeGroupId(group.getGroupId());
  long defaultUserId=UserLocalServiceUtil.getDefaultUserId(companyId);
  serviceContext.setUserId(defaultUserId);
  DefaultDDMStructureUtil.addDDMStructures(defaultUserId,group.getGroupId(),PortalUtil.getClassNameId(DLFileEntryMetadata.class),AddDefaultDocumentLibraryStructuresAction.class.getClassLoader(),"com/liferay/portal/events/dependencies" + "/document-library-structures.xml",serviceContext);
  addDLFileEntryTypes(defaultUserId,group.getGroupId(),serviceContext);
  addDLRawMetadataStructures(defaultUserId,group.getGroupId(),serviceContext);
}
