{
  PreparedStatement ps=null;
  try {
    StringBundler sb=new StringBundler(6);
    sb.append("insert into DDMTemplateVersion (templateVersionId, ");
    sb.append("groupId, companyId, userId, userName, createDate, ");
    sb.append("classNameId, classPK, templateId, version, name, ");
    sb.append("description, language, script, status, ");
    sb.append("statusByUserId, statusByUserName, statusDate) values (");
    sb.append("?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)");
    String sql=sb.toString();
    ps=connection.prepareStatement(sql);
    ps.setLong(1,templateVersionId);
    ps.setLong(2,groupId);
    ps.setLong(3,companyId);
    ps.setLong(4,userId);
    ps.setString(5,userName);
    ps.setTimestamp(6,createDate);
    ps.setLong(7,classNameId);
    ps.setLong(8,classPK);
    ps.setLong(9,templateId);
    ps.setString(10,DDMStructureConstants.VERSION_DEFAULT);
    ps.setString(11,name);
    ps.setString(12,description);
    ps.setString(13,language);
    ps.setString(14,script);
    ps.setInt(15,status);
    ps.setLong(16,statusByUserId);
    ps.setString(17,statusByUserName);
    ps.setTimestamp(18,statusDate);
    ps.executeUpdate();
  }
 catch (  Exception e) {
    _log.error("Unable to upgrade dynamic data mapping template version " + "with template ID " + templateId);
    throw e;
  }
 finally {
    DataAccess.cleanUp(ps);
  }
}
