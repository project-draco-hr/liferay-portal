{
  try {
    fromRepository.deleteFileEntry(oldFileEntryId);
  }
 catch (  PortalException pe) {
    toRepository.deleteFileEntry(newFileEntryId);
    throw pe;
  }
}
