{
  Repository repository=getFileEntryRepository(fileEntryId);
  if (!repository.isCapabilityProvided(TrashCapability.class)) {
    throw new InvalidRepositoryException("Repository " + repository.getRepositoryId() + " does not support trash operations");
  }
  FileEntry fileEntry=repository.getFileEntry(fileEntryId);
  DLFileEntryPermission.check(getPermissionChecker(),fileEntry,ActionKeys.UPDATE);
  TrashCapability trashCapability=repository.getCapability(TrashCapability.class);
  Folder destinationFolder=repository.getFolder(newFolderId);
  return trashCapability.moveFileEntryFromTrash(getUserId(),fileEntry,destinationFolder,serviceContext);
}
