{
  Repository repository=getRepository(0,fileEntryId,0);
  FileEntry fileEntry=repository.updateFileEntry(fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,is,size,serviceContext);
  if (is != null) {
    DLProcessorRegistryUtil.cleanup(fileEntry.getLatestFileVersion());
  }
  repository.checkInFileEntry(fileEntryId,majorVersion,changeLog,serviceContext);
  dlAppHelperLocalService.updateFileEntry(getUserId(),fileEntry,fileEntry.getFileVersion(),serviceContext);
  return fileEntry;
}
