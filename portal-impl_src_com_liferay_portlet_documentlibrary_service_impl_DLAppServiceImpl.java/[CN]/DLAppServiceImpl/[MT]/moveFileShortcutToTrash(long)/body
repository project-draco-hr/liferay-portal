{
  Repository repository=getFileShortcutRepository(fileShortcutId);
  if (!repository.isCapabilityProvided(TrashCapability.class)) {
    throw new InvalidRepositoryException("Repository " + repository.getRepositoryId() + " does not support trash operations");
  }
  FileShortcut fileShortcut=repository.getFileShortcut(fileShortcutId);
  DLFileShortcutPermission.check(getPermissionChecker(),fileShortcut,ActionKeys.DELETE);
  TrashCapability trashCapability=repository.getCapability(TrashCapability.class);
  return trashCapability.moveFileShortcutToTrash(getUserId(),fileShortcut);
}
