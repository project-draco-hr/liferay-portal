{
  List<FileEntry> srcFileEntries=repository.getFileEntries(srcFolder.getFolderId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  for (  FileEntry srcFileEntry : srcFileEntries) {
    try {
      FileEntry fileEntry=repository.copyFileEntry(destFolder.getGroupId(),srcFileEntry.getFileEntryId(),destFolder.getFolderId(),serviceContext);
      DLProcessorRegistryUtil.trigger(fileEntry);
    }
 catch (    Exception e) {
      _log.error(e,e);
      continue;
    }
  }
  List<Folder> srcSubfolders=repository.getFolders(srcFolder.getFolderId(),false,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  for (  Folder srcSubfolder : srcSubfolders) {
    Folder destSubfolder=repository.addFolder(destFolder.getFolderId(),srcSubfolder.getName(),srcSubfolder.getDescription(),serviceContext);
    copyFolder(repository,srcSubfolder,destSubfolder,serviceContext);
  }
}
