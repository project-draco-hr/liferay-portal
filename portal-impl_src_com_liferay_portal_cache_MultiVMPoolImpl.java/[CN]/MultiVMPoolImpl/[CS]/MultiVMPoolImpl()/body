{
  Registry registry=RegistryUtil.getRegistry();
  Filter filter=registry.getFilter("(&(portal.cache.manager._name=" + PortalCacheManagerNames.MULTI_VM + ")(portal.cache.manager.type="+ PropsValues.PORTAL_CACHE_MANAGER_TYPE_MULTI_VM+ ")(objectClass="+ PortalCacheManager.class.getName()+ "))");
  ServiceTracker<PortalCacheManager<? extends Serializable,? extends Serializable>,PortalCacheManager<? extends Serializable,? extends Serializable>> serviceTracker=registry.trackServices(filter);
  serviceTracker.open();
  try {
    _portalCacheManager=SPIPortalCacheManagerConfigurator.createSPIPortalCacheManager(serviceTracker.waitForService(0));
  }
 catch (  Exception e) {
    throw new IllegalStateException("Cannot initialize MultiVMPool",e);
  }
}
