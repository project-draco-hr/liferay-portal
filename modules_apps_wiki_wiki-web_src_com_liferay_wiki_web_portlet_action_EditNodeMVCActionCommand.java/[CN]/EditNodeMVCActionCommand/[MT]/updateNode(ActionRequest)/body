{
  long nodeId=ParamUtil.getLong(actionRequest,"nodeId");
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(WikiNode.class.getName(),actionRequest);
  if (nodeId <= 0) {
    _wikiNodeService.addNode(name,description,serviceContext);
  }
 else {
    WikiNode wikiNode=_wikiNodeService.getNode(nodeId);
    String oldName=wikiNode.getName();
    _wikiNodeService.updateNode(nodeId,name,description,serviceContext);
    WikiPortletInstanceOverriddenConfiguration wikiPortletInstanceOverriddenConfiguration=getWikiPortletInstanceOverriddenConfiguration(actionRequest);
    updateSettings(wikiPortletInstanceOverriddenConfiguration,oldName,name);
  }
}
