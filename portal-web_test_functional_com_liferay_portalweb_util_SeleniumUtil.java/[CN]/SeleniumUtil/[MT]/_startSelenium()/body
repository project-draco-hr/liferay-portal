{
  File file=new File(StringPool.PERIOD);
  String absolutePath=file.getAbsolutePath();
  String projectDir=absolutePath.substring(0,absolutePath.length() - 1);
  String portalURL=PORTAL_URL;
  if (TCAT_ENABLED) {
    portalURL="http://localhost:8180/console";
  }
  if (SELENIUM_IMPLEMENTATION.equals(Selenium.class.getName())) {
    LiferaySelenium liferaySelenium=new DefaultSeleniumImpl(projectDir,portalURL);
    Class<?> clazz=getClass();
    liferaySelenium.setContext(clazz.getName());
    if (SELENIUM_LOGGER_ENABLED) {
      _selenium=_wrapWithLoggerHandler(liferaySelenium);
    }
 else {
      _selenium=liferaySelenium;
    }
  }
 else   if (SELENIUM_IMPLEMENTATION.equals(WebDriver.class.getName())) {
    if (MOBILE_DEVICE_ENABLED) {
      if (SELENIUM_LOGGER_ENABLED) {
        _selenium=_wrapWithLoggerHandler(new AppiumMobileDriverImpl(projectDir,portalURL));
      }
 else {
        _selenium=new AppiumMobileDriverImpl(projectDir,portalURL);
      }
    }
 else {
      if (BROWSER_TYPE.equals("*chrome") || BROWSER_TYPE.equals("*firefox")) {
        if (SELENIUM_LOGGER_ENABLED) {
          _selenium=_wrapWithLoggerHandler(new FirefoxWebDriverImpl(projectDir,portalURL));
        }
 else {
          _selenium=new FirefoxWebDriverImpl(projectDir,portalURL);
        }
      }
 else       if (BROWSER_TYPE.equals("*googlechrome")) {
        System.setProperty("webdriver.chrome.driver",TestPropsValues.SELENIUM_EXECUTABLE_DIR_NAME + TestPropsValues.SELENIUM_CHROME_DRIVER_EXECUTABLE);
        if (SELENIUM_LOGGER_ENABLED) {
          _selenium=_wrapWithLoggerHandler(new ChromeWebDriverImpl(projectDir,portalURL));
        }
 else {
          _selenium=new ChromeWebDriverImpl(projectDir,portalURL);
        }
      }
 else       if (BROWSER_TYPE.equals("*iehta") || BROWSER_TYPE.equals("*iexplore")) {
        System.setProperty("webdriver.ie.driver",TestPropsValues.SELENIUM_EXECUTABLE_DIR_NAME + TestPropsValues.SELENIUM_IE_DRIVER_EXECUTABLE);
        if (SELENIUM_LOGGER_ENABLED) {
          _selenium=_wrapWithLoggerHandler(new InternetExplorerWebDriverImpl(projectDir,portalURL));
        }
 else {
          _selenium=new InternetExplorerWebDriverImpl(projectDir,portalURL);
        }
      }
 else       if (BROWSER_TYPE.equals("*safari")) {
        if (SELENIUM_LOGGER_ENABLED) {
          _selenium=_wrapWithLoggerHandler(new SafariWebDriverImpl(projectDir,portalURL));
        }
 else {
          _selenium=new SafariWebDriverImpl(projectDir,portalURL);
        }
      }
 else {
        throw new RuntimeException("Invalid browser type " + BROWSER_TYPE);
      }
    }
  }
}
