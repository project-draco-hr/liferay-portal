{
  WikiPage page=WikiPageLocalServiceUtil.fetchWikiPage(classPK);
  if (page == null) {
    if (type == TYPE_LATEST_APPROVED) {
      page=WikiPageLocalServiceUtil.getPage(classPK);
    }
 else {
      WikiPageResource pageResource=WikiPageResourceLocalServiceUtil.getPageResource(classPK);
      page=WikiPageLocalServiceUtil.getPage(pageResource.getNodeId(),pageResource.getTitle(),null);
    }
  }
  WikiPageAssetRenderer wikiPageAssetRenderer=new WikiPageAssetRenderer(page);
  wikiPageAssetRenderer.setAssetRendererType(type);
  wikiPageAssetRenderer.setServletContext(_servletContext);
  return wikiPageAssetRenderer;
}
