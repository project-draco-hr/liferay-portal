{
  Portlet portlet=PortletLocalServiceUtil.getPortletById(role.getCompanyId(),portletId);
  String controlPanelCategory=portlet.getControlPanelEntryCategory();
  if (Validator.isNull(controlPanelCategory)) {
    return;
  }
  String selResource=null;
  String actionId=null;
  if (ArrayUtil.contains(PortletCategoryKeys.ALL,controlPanelCategory) && (role.getType() == RoleConstants.TYPE_REGULAR)) {
    selResource=PortletKeys.PORTAL;
    actionId=ActionKeys.VIEW_CONTROL_PANEL;
  }
 else   if (ArrayUtil.contains(PortletCategoryKeys.SITE_ADMINISTRATION_ALL,controlPanelCategory)) {
    selResource=Group.class.getName();
    actionId=ActionKeys.VIEW_SITE_ADMINISTRATION;
  }
  if (selResource != null) {
    updateAction(role,scopeGroupId,selResource,actionId,true,scope,groupIds);
  }
}
