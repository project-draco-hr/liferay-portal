{
  PortletPreferences portletPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  Map<String,String[]> preferencesMap=portletPreferences.getMap();
  for (  Map.Entry<String,String[]> entry : preferencesMap.entrySet()) {
    String oldName=entry.getKey();
    String newName=_camelCasePreferenceNames.get(oldName);
    if (Validator.isNull(newName)) {
      if (oldName.startsWith("portlet-setup-supported-clients-mobile-devices-")) {
        newName=StringUtil.replaceFirst(oldName,"portlet-setup-supported-clients-mobile-devices-","portletSetupSupportedClientsMobileDevices_");
      }
 else       if (oldName.startsWith("portlet-setup-title-")) {
        newName=StringUtil.replaceFirst(oldName,"portlet-setup-title-","portletSetupTitle_");
      }
    }
    if (Validator.isNotNull(newName)) {
      String[] values=entry.getValue();
      portletPreferences.reset(oldName);
      portletPreferences.setValues(newName,values);
    }
  }
  return PortletPreferencesFactoryUtil.toXML(portletPreferences);
}
