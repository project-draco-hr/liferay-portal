{
  long categoryId=ParamUtil.getLong(portletRequest,"categoryId");
  long vocabularyId=ParamUtil.getLong(portletRequest,"vocabularyId");
  int start=ParamUtil.getInteger(portletRequest,"start",QueryUtil.ALL_POS);
  int end=ParamUtil.getInteger(portletRequest,"end",QueryUtil.ALL_POS);
  if ((categoryId <= 0) && (vocabularyId <= 0)) {
    return Collections.emptyList();
  }
  if (categoryId > 0) {
    return _assetCategoryService.getChildCategories(categoryId,start,end,null);
  }
  long parentCategoryId=ParamUtil.getLong(portletRequest,"parentCategoryId",AssetCategoryConstants.DEFAULT_PARENT_CATEGORY_ID);
  return _assetCategoryService.getVocabularyCategories(parentCategoryId,vocabularyId,start,end,null);
}
