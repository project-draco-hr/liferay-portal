{
  if (indexer == null) {
    return null;
  }
  IndexerRequestBuffer indexerRequestBuffer=IndexerRequestBuffer.get();
  if ((indexerRequestBuffer == null) || !_indexerRegistryConfiguration.buffered()) {
    return indexer;
  }
  Indexer<?> proxiedIndexer=_proxiedIndexers.get(indexer.getClassName());
  if (proxiedIndexer == null) {
    List interfaces=ClassUtils.getAllInterfaces(indexer.getClass());
    proxiedIndexer=(Indexer)ProxyUtil.newProxyInstance(PortalClassLoaderUtil.getClassLoader(),(Class[])interfaces.toArray(new Class[interfaces.size()]),new BufferedIndexerInvocationHandler(indexer));
    _proxiedIndexers.put(indexer.getClassName(),proxiedIndexer);
  }
  return (Indexer<T>)proxiedIndexer;
}
