{
  if (versionOverrideFile != null) {
    FileUtil.writeProperties(versionOverrideFile,versions);
  }
  Path projectDirPath=projectDir.toPath();
  String version=versions.getProperty(Constants.BUNDLE_VERSION);
  if (Validator.isNotNull(version)) {
    FileUtil.replace(projectDirPath.resolve("bnd.bnd"),_BUNDLE_VERSION_REGEX,version);
  }
  Path packageInfoRootDirPath=projectDirPath.resolve("src/main/resources");
  for (  String key : versions.stringPropertyNames()) {
    if (key.equals(Constants.BUNDLE_VERSION)) {
      continue;
    }
    version=versions.getProperty(key);
    if (Validator.isNull(version)) {
      continue;
    }
    String packageInfo="version " + version;
    Path packageDirPath=packageInfoRootDirPath.resolve(key.replace('.','/'));
    Path packageInfoPath=packageDirPath.resolve("packageinfo");
    String oldPackageInfo=new String(Files.readAllBytes(packageInfoPath),StandardCharsets.UTF_8);
    if (packageInfo.equals(oldPackageInfo.trim())) {
      continue;
    }
    Files.createDirectories(packageDirPath);
    Files.write(packageInfoPath,packageInfo.getBytes(StandardCharsets.UTF_8));
  }
}
