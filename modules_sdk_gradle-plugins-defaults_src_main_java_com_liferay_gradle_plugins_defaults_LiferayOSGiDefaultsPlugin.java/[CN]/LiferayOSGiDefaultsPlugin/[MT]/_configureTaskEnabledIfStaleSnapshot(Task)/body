{
  boolean snapshotIfStale=false;
  Project project=task.getProject();
  if (project.hasProperty(SNAPSHOT_IF_STALE_PROPERTY_NAME)) {
    snapshotIfStale=GradleUtil.getProperty(project,SNAPSHOT_IF_STALE_PROPERTY_NAME,true);
  }
  if (!snapshotIfStale) {
    return;
  }
  task.onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      return _isSnapshotStale(task.getProject());
    }
  }
);
}
