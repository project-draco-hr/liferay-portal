{
  Set<HttpSession> sessionsToInvalidate=null;
synchronized (_sessions) {
    Set<HttpSession> portletSessions=_sessions.get(sessionId);
    if (portletSessions != null) {
      sessionsToInvalidate=new HashSet<HttpSession>(portletSessions);
    }
    _sessions.remove(sessionId);
  }
  if (sessionsToInvalidate != null) {
    Iterator<HttpSession> itr=sessionsToInvalidate.iterator();
    while (itr.hasNext()) {
      HttpSession session=itr.next();
      try {
        session.invalidate();
      }
 catch (      Exception e) {
      }
    }
  }
}
