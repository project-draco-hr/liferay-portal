{
  List list=new ArrayList();
  IMAPFolder root=null;
  try {
    List tempList=new ArrayList();
    Store store=_getStore(ses);
    root=(IMAPFolder)store.getDefaultFolder();
    Folder[] folders=root.list();
    _getFolders(tempList,folders);
    for (int i=0; i < DEFAULT_FOLDERS.length; i++) {
      ListIterator itr=tempList.listIterator();
      while (itr.hasNext()) {
        MailFolder mailFolder=(MailFolder)itr.next();
        if (DEFAULT_FOLDERS[i].equals(_getResolvedFolderName(mailFolder.getName()))) {
          list.add(mailFolder);
          itr.remove();
          break;
        }
      }
    }
    list.addAll(tempList);
  }
 catch (  MessagingException me) {
    throw new FolderException(me);
  }
 finally {
    try {
      if ((root != null) && root.isOpen()) {
        root.close(false);
      }
    }
 catch (    Exception ex) {
    }
  }
  return list;
}
