{
  try {
    MailSessionLock.lock(req);
    long messageId=getMessageId(req);
    if (messageId != -1L) {
      return getMessage(req,messageId);
    }
 else {
      return null;
    }
  }
  finally {
    MailSessionLock.unlock(req);
  }
}
