{
  for (int i=0; i < folders.length; i++) {
    Folder folder=folders[i];
    int folderType=folder.getType();
    if ((folderType & IMAPFolder.HOLDS_MESSAGES) != 0) {
      MailFolder mailFolder=new MailFolder(folder.getName(),folder.getMessageCount(),folder.getNewMessageCount());
      list.add(mailFolder);
    }
    if ((folderType & IMAPFolder.HOLDS_FOLDERS) != 0) {
      _getFolders(list,folder.list());
    }
  }
}
