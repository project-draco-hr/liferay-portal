{
  if (Validator.isNotNull(folderName)) {
    if (!folderName.equals(MAIL_INBOX_NAME)) {
      if (!folderName.startsWith(MailUtil.MAIL_BOX_STYLE)) {
        folderName=MailUtil.MAIL_BOX_STYLE + folderName;
      }
    }
    Store store=getStore(req);
    FolderPool folderPool=getFolderPool(req);
    Folder folder=folderPool.get(MailCache.getFolderCacheId(folderName,store));
    if (folder == null) {
      folder=store.getFolder(folderName);
    }
 else {
      folderPool.remove(folderName);
    }
    if (folder.exists()) {
      if ((!folderName.equals(MAIL_INBOX_NAME)) && (!folderName.equals(MailUtil.MAIL_BOX_STYLE + MAIL_JUNK_NAME)) && (!folderName.equals(MailUtil.MAIL_BOX_STYLE + MAIL_SENT_NAME))&& (!folderName.equals(MailUtil.MAIL_BOX_STYLE + MAIL_DRAFTS_NAME))&& (!folderName.equals(MailUtil.MAIL_BOX_STYLE + MAIL_TRASH_NAME))) {
        if (folder.isOpen()) {
          folder.close(false);
        }
        folder.delete(false);
      }
    }
  }
}
