{
  String orderByCol=prefs.getValue("order-by-col",StringPool.BLANK);
  String orderByType=prefs.getValue("order-by-type",StringPool.BLANK);
  if ((folderName != null) && (folderName.equals(MAIL_DRAFTS_NAME) || folderName.equals(MAIL_SENT_NAME))) {
    if (orderByCol.equals("f")) {
      if (orderByType.equals("asc")) {
        Arrays.sort(messages,new ToComparator(true));
      }
 else {
        Arrays.sort(messages,new ToComparator(false));
      }
      return;
    }
  }
  if (orderByCol.equals("d")) {
    if (orderByType.equals("desc")) {
      Arrays.sort(messages,new DateComparator());
    }
  }
 else   if (orderByCol.equals("f")) {
    if (orderByType.equals("asc")) {
      Arrays.sort(messages,new FromComparator(true));
    }
 else {
      Arrays.sort(messages,new FromComparator(false));
    }
  }
 else   if (orderByCol.equals("n")) {
    if (orderByType.equals("asc")) {
      Arrays.sort(messages,new NewComparator(true));
    }
 else {
      Arrays.sort(messages,new NewComparator(false));
    }
  }
 else   if (orderByCol.equals("s")) {
    if (orderByType.equals("asc")) {
      Arrays.sort(messages,new SubjectComparator(true));
    }
 else {
      Arrays.sort(messages,new SubjectComparator(false));
    }
  }
 else   if (orderByCol.equals("z")) {
    if (orderByType.equals("asc")) {
      Arrays.sort(messages,new SizeComparator(true));
    }
 else {
      Arrays.sort(messages,new SizeComparator(false));
    }
  }
}
