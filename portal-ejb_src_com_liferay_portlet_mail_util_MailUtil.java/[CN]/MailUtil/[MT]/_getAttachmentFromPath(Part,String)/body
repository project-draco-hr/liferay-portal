{
  int index=GetterUtil.getInteger(StringUtil.split(mimePath.substring(1),StringPool.PERIOD)[0]);
  if (part.getContent() instanceof Multipart) {
    String prefix=String.valueOf(index) + StringPool.PERIOD;
    Multipart multipart=(Multipart)part.getContent();
    for (int i=0; i < multipart.getCount(); i++) {
      if (index == i) {
        return _getAttachmentFromPath(multipart.getBodyPart(i),mimePath.substring(prefix.length()));
      }
    }
    throw new ContentPathException();
  }
 else   if (index != -1) {
    throw new ContentPathException();
  }
  InputStream is=part.getInputStream();
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  byte[] buffer=new byte[8192];
  int count=0;
  while ((count=is.read(buffer)) >= 0) {
    baos.write(buffer,0,count);
  }
  is.close();
  Object[] parts=new Object[]{baos.toByteArray(),part.getContentType()};
  return parts;
}
