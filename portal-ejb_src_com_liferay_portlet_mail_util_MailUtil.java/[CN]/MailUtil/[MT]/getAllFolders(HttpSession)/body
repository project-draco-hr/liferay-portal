{
  List list=new ArrayList();
  IMAPFolder root=null;
  try {
    root=(IMAPFolder)_getStore(ses).getDefaultFolder();
    Folder[] folders=root.list();
    _getFolders(list,folders);
  }
 catch (  MessagingException me) {
    throw new FolderException("Error trying to access the default folder",me);
  }
 finally {
    try {
      if ((root != null) && root.isOpen()) {
        root.close(false);
      }
    }
 catch (    Exception ex) {
    }
  }
  return list;
}
