{
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  mockHttpServletRequest.setServerName("www.liferay.com");
  Field field=ReflectionUtil.getDeclaredField(CookieKeys.class,"_SESSION_COOKIE_USE_FULL_HOSTNAME");
  Object value=field.get(null);
  try {
    field.set(null,Boolean.TRUE);
    String domain=CookieKeys.getDomain(mockHttpServletRequest);
    Assert.assertEquals("www.liferay.com",domain);
  }
  finally {
    field.set(null,value);
  }
}
