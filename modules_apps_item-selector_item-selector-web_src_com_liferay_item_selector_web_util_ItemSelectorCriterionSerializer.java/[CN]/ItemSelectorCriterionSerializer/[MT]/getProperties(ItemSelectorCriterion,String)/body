{
  Map<String,String[]> properties=new HashMap<>();
  JSONSerializer jsonSerializer=JSONFactoryUtil.createJSONSerializer();
  String[] externalPropertyKeys=getExternalPropertyKeys(itemSelectorCriterion);
  String[] serializableFields=ArrayUtil.append(externalPropertyKeys,"desiredItemSelectorReturnTypes");
  jsonSerializer.transform(new DesiredItemSelectorReturnTypesJSONTransformer(),"desiredItemSelectorReturnTypes");
  jsonSerializer.include(serializableFields);
  properties.put(prefix + JSON,new String[]{jsonSerializer.serialize(itemSelectorCriterion)});
  return properties;
}
