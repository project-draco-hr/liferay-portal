{
  Set<ItemSelectorReturnType> itemSelectorDesiredReturnTypes=new LinkedHashSet<>();
  List<String> itemSelectorDesiredReturnTypeNames=(List<String>)map.get("itemSelectorDesiredReturnTypes");
  for (  String itemSelectorDesiredReturnTypeName : itemSelectorDesiredReturnTypeNames) {
    Set<ItemSelectorReturnType> itemSelectorAvailableReturnTypes=_itemSelectorCriterion.getItemSelectorAvailableReturnTypes();
    for (    ItemSelectorReturnType itemSelectorAvailableReturnType : itemSelectorAvailableReturnTypes) {
      String availableItemSelectorReturnTypeName=itemSelectorAvailableReturnType.getName();
      if (availableItemSelectorReturnTypeName.equals(itemSelectorDesiredReturnTypeName)) {
        itemSelectorDesiredReturnTypes.add(itemSelectorAvailableReturnType);
        break;
      }
    }
  }
  if (itemSelectorDesiredReturnTypes.isEmpty()) {
    if (_log.isWarnEnabled()) {
      _log.warn("No valid item selector return types found");
    }
  }
  _itemSelectorCriterion.setItemSelectorDesiredReturnTypes(itemSelectorDesiredReturnTypes);
}
