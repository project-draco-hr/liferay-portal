{
  Set<ItemSelectorReturnType> desiredItemSelectorReturnTypes=new LinkedHashSet<>();
  List<String> desiredItemSelectorReturnTypeNames=(List<String>)map.get("desiredItemSelectorReturnTypes");
  for (  String desiredItemSelectorReturnTypeName : desiredItemSelectorReturnTypeNames) {
    Set<ItemSelectorReturnType> availableItemSelectorReturnTypes=itemSelectorCriterion.getAvailableItemSelectorReturnTypes();
    for (    ItemSelectorReturnType availableItemSelectorReturnType : availableItemSelectorReturnTypes) {
      String availableItemSelectorReturnTypeName=availableItemSelectorReturnType.getName();
      if (availableItemSelectorReturnTypeName.equals(desiredItemSelectorReturnTypeName)) {
        desiredItemSelectorReturnTypes.add(availableItemSelectorReturnType);
        break;
      }
    }
  }
  if (desiredItemSelectorReturnTypes.isEmpty()) {
    if (_log.isWarnEnabled()) {
      _log.warn("No valid desired item selector return types found");
    }
  }
  itemSelectorCriterion.setDesiredItemSelectorReturnTypes(desiredItemSelectorReturnTypes);
}
