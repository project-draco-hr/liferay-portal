{
  try {
    String json=parameters.get(_prefix + JSON)[0];
    JSONDeserializer<Map<String,?>> jsonDeserializer=JSONFactoryUtil.createJSONDeserializer();
    Map<String,?> map=jsonDeserializer.deserialize(json);
    for (    String externalPropertyKey : _externalPropertyKeys) {
      Class<?> serializableFieldClass=PropertyUtils.getPropertyType(_itemSelectorCriterion,externalPropertyKey);
      Object value=map.get(externalPropertyKey);
      if (serializableFieldClass.isArray() && List.class.isInstance(value)) {
        List<?> list=(List<?>)value;
        value=list.toArray((Object[])Array.newInstance(serializableFieldClass.getComponentType(),list.size()));
      }
      PropertyUtils.setProperty(_itemSelectorCriterion,externalPropertyKey,value);
    }
    _setDesiredReturnTypes(map);
  }
 catch (  IllegalAccessException|InvocationTargetException|NoSuchMethodException e) {
    throw new SystemException(e);
  }
}
