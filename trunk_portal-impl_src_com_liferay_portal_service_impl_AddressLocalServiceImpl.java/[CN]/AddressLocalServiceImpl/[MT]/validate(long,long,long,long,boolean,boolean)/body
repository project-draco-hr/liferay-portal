{
  if (mailing) {
    Iterator<Address> itr=addressPersistence.findByC_C_C_M(companyId,classNameId,classPK,mailing).iterator();
    while (itr.hasNext()) {
      Address address=itr.next();
      if ((addressId <= 0) || (address.getAddressId() != addressId)) {
        address.setMailing(false);
        addressPersistence.update(address,false);
      }
    }
  }
  if (primary) {
    Iterator<Address> itr=addressPersistence.findByC_C_C_P(companyId,classNameId,classPK,primary).iterator();
    while (itr.hasNext()) {
      Address address=itr.next();
      if ((addressId <= 0) || (address.getAddressId() != addressId)) {
        address.setPrimary(false);
        addressPersistence.update(address,false);
      }
    }
  }
}
