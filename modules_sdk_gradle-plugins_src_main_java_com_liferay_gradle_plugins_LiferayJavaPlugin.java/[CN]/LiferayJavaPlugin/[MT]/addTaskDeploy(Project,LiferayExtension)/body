{
  Copy copy=GradleUtil.addTask(project,DEPLOY_TASK_NAME,Copy.class);
  final Jar jar=(Jar)GradleUtil.getTask(project,JavaPlugin.JAR_TASK_NAME);
  copy.from(jar);
  copy.into(new Callable<File>(){
    @Override public File call() throws Exception {
      return liferayExtension.getDeployDir();
    }
  }
);
  copy.setDescription("Assembles the project and deploys it to Liferay.");
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      addCleanDeployedFile(project,jar.getArchivePath());
    }
  }
);
  return copy;
}
