{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletURLImpl portletURL=new PortletURLImpl(actionRequest,portletConfig.getPortletName(),themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  portletURL.setParameter("struts_action","/dynamic_data_mapping/copy_structure");
  long classNameId=PortalUtil.getClassNameId(DDMStructure.class);
  portletURL.setParameter("classNameId",String.valueOf(classNameId),false);
  portletURL.setParameter("classPK",String.valueOf(structure.getStructureId()),false);
  portletURL.setParameter("copyDetailTemplates",ParamUtil.getString(actionRequest,"copyDetailTemplates"),false);
  portletURL.setParameter("copyListTemplates",ParamUtil.getString(actionRequest,"copyListTemplates"),false);
  portletURL.setWindowState(actionRequest.getWindowState());
  return portletURL.toString();
}
