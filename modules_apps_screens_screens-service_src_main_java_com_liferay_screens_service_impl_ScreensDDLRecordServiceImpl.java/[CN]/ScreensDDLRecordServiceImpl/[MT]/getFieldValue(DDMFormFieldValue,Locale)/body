{
  Value value=ddmFormFieldValue.getValue();
  String fieldValueString=value.getString(locale);
  if (fieldValueString == null) {
    return null;
  }
  if (fieldValueString.isEmpty()) {
    return null;
  }
  String dataType=ddmFormFieldValue.getType();
switch (dataType) {
case FieldConstants.BOOLEAN:
    return Boolean.valueOf(fieldValueString);
case FieldConstants.DATE:
  return ddmFormFieldValue.getValue().getString(locale);
case FieldConstants.DOCUMENT_LIBRARY:
return JSONFactoryUtil.looseSerialize(JSONFactoryUtil.looseDeserialize(fieldValueString));
case FieldConstants.FLOAT:
case FieldConstants.NUMBER:
if (Validator.isNull(fieldValueString)) {
return null;
}
return Float.valueOf(fieldValueString);
case FieldConstants.INTEGER:
if (Validator.isNull(fieldValueString)) {
return null;
}
return Integer.valueOf(fieldValueString);
case FieldConstants.LONG:
if (Validator.isNull(fieldValueString)) {
return null;
}
return Long.valueOf(fieldValueString);
case FieldConstants.SHORT:
if (Validator.isNull(fieldValueString)) {
return null;
}
return Short.valueOf(fieldValueString);
}
return fieldValueString;
}
