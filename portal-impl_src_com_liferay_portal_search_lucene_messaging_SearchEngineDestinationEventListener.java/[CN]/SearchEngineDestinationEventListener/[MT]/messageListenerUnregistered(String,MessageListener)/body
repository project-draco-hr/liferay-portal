{
  if (!isProceed(destinationName,messageListener)) {
    return;
  }
  MessageBusUtil.registerMessageListener(DestinationNames.SEARCH_READER,_searchReaderMessageListener);
  MessageBusUtil.registerMessageListener(DestinationNames.SEARCH_WRITER,_searchWriterMessageListener);
  BaseSearchEngineMessageListener baseSearchEngineMessageListener=(BaseSearchEngineMessageListener)messageListener;
  if (!baseSearchEngineMessageListener.getSearchEngineName().contains(LuceneSearchEngineImpl.NAME)) {
    setBooleanQueryFactory(new com.liferay.portal.search.lucene.BooleanQueryFactoryImpl());
    setTermQueryFactory(new com.liferay.portal.search.lucene.TermQueryFactoryImpl());
    _indexWriteEventMessageListener.setActive(_replicateWriteEvent);
  }
}
