{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  List<String[]> categoryIdsTitles=new ArrayList<>();
  String curCategoryIds=StringPool.BLANK;
  if (Validator.isNotNull(_curCategoryIds)) {
    curCategoryIds=_curCategoryIds;
  }
  if (Validator.isNull(_className)) {
    if (!_ignoreRequestValue) {
      String curCategoryIdsParam=request.getParameter(_hiddenInput);
      if (curCategoryIdsParam != null) {
        curCategoryIds=curCategoryIdsParam;
      }
    }
    String[] categoryIdsTitle=AssetCategoryUtil.getCategoryIdsTitles(curCategoryIds,StringPool.BLANK,0,themeDisplay);
    categoryIdsTitles.add(categoryIdsTitle);
    return categoryIdsTitles;
  }
  try {
    for (    AssetVocabulary vocabulary : getVocabularies()) {
      String curCategoryNames=StringPool.BLANK;
      if (Validator.isNotNull(_className) && (_classPK > 0)) {
        List<AssetCategory> categories=AssetCategoryServiceUtil.getCategories(_className,_classPK);
        curCategoryIds=ListUtil.toString(categories,AssetCategory.CATEGORY_ID_ACCESSOR);
        curCategoryNames=ListUtil.toString(categories,AssetCategory.NAME_ACCESSOR);
      }
      if (!_ignoreRequestValue) {
        String curCategoryIdsParam=request.getParameter(_hiddenInput + StringPool.UNDERLINE + vocabulary.getVocabularyId());
        if (Validator.isNotNull(curCategoryIdsParam)) {
          curCategoryIds=curCategoryIdsParam;
        }
      }
      String[] categoryIdsTitle=AssetCategoryUtil.getCategoryIdsTitles(curCategoryIds,curCategoryNames,vocabulary.getVocabularyId(),themeDisplay);
      categoryIdsTitles.add(categoryIdsTitle);
    }
  }
 catch (  Exception e) {
  }
  return categoryIdsTitles;
}
