{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (cmd.equals(Constants.UPDATE)) {
    updateSubscriptions(actionRequest);
    super.processAction(portletConfig,actionRequest,actionResponse);
    return;
  }
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  PortletPreferences preferences=actionRequest.getPreferences();
  if (cmd.equals("remove-footer-article")) {
    removeFooterArticle(actionRequest,preferences);
  }
 else   if (cmd.equals("remove-header-article")) {
    removeHeaderArticle(actionRequest,preferences);
  }
 else   if (cmd.equals("set-footer-article")) {
    setFooterArticle(actionRequest,preferences);
  }
 else   if (cmd.equals("set-header-article")) {
    setHeaderArticle(actionRequest,preferences);
  }
  if (!SessionErrors.isEmpty(actionRequest)) {
    return;
  }
  try {
    preferences.store();
  }
 catch (  ValidatorException ve) {
    SessionErrors.add(actionRequest,ValidatorException.class.getName(),ve);
    return;
  }
  SessionMessages.add(actionRequest,PortalUtil.getPortletId(actionRequest) + SessionMessages.KEY_SUFFIX_REFRESH_PORTLET,portletResource);
  SessionMessages.add(actionRequest,PortalUtil.getPortletId(actionRequest) + SessionMessages.KEY_SUFFIX_UPDATED_CONFIGURATION);
}
