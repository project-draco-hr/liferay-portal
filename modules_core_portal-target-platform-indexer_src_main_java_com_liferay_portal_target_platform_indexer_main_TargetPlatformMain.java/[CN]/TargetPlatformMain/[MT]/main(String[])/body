{
  String moduleFrameworkBaseDir=System.getProperty("module.framework.base.dir");
  if (moduleFrameworkBaseDir == null) {
    System.err.println("== -Dmodule.framework.base.dir must point to a valid " + "directory");
    return;
  }
  BytesURLSupport.init();
  String moduleFrameworkStaticDir=System.getProperty("module.framework.static.dir",moduleFrameworkBaseDir.concat("/static"));
  String moduleFrameworkModulesDir=System.getProperty("module.framework.modules.dir",moduleFrameworkBaseDir.concat("/modules"));
  String moduleFrameworkPortalDir=System.getProperty("module.framework.portal.dir",moduleFrameworkBaseDir.concat("/portal"));
  String moduleFrameworkMarketplaceDir=System.getProperty("module.framework.marketplace.dir",moduleFrameworkBaseDir.concat("/marketplace"));
  String indexesFile=System.getProperty("indexes.file",moduleFrameworkBaseDir + "/" + Indexer.DIR_NAME_TARGET_PLATFORM+ "/target-platform-indexes-"+ System.currentTimeMillis()+ ".zip");
  String integrityProperties=System.getProperty("integrity.properties",moduleFrameworkBaseDir + "/" + Indexer.DIR_NAME_TARGET_PLATFORM+ "/integrity.properties");
  List<URI> uris=_index(indexesFile,moduleFrameworkStaticDir,moduleFrameworkModulesDir,moduleFrameworkPortalDir,moduleFrameworkMarketplaceDir);
  if (_validate(uris)) {
    _updateIntegrity(uris,Paths.get(integrityProperties));
  }
}
