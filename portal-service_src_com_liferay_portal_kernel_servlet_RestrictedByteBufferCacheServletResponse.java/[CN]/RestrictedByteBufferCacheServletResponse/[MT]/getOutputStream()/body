{
  if (calledGetWriter) {
    throw new IllegalStateException("Cannot obtain OutputStream because Writer is already in use");
  }
  if (_servletOutputStream != null) {
    return _servletOutputStream;
  }
  _restrictedByteArrayCacheOutputStream=new RestrictedByteArrayCacheOutputStream(super.getOutputStream(),_cacheCapacity,new FinishResponseFlushPreAction());
  _servletOutputStream=new ServletOutputStreamAdapter(_restrictedByteArrayCacheOutputStream);
  calledGetOutputStream=true;
  return _servletOutputStream;
}
