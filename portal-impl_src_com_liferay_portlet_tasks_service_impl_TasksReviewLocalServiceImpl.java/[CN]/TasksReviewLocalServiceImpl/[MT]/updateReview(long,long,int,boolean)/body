{
  TasksReview review=tasksReviewPersistence.findByU_P(userId,proposalId);
  review.setModifiedDate(new Date());
  review.setCompleted(true);
  review.setRejected(rejected);
  tasksReviewPersistence.update(review,false);
  JSONObject extraData=new JSONObject();
  JSONUtil.put(extraData,"stage",review.getStage());
  JSONUtil.put(extraData,"completed",review.getCompleted());
  JSONUtil.put(extraData,"rejected",review.getRejected());
  socialActivityLocalService.addActivity(userId,review.getGroupId(),TasksProposal.class.getName(),proposalId,TasksActivityKeys.REVIEW_PROPOSAL,extraData.toString(),review.getAssignedByUserId());
  return review;
}
