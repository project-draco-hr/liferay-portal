{
  try {
    boolean outboundMessage=(boolean)logicalMessageContext.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);
    if (!outboundMessage) {
      return true;
    }
    LogicalMessage logicalMessage=logicalMessageContext.getMessage();
    Transformer transformer=_transformerFactory.newTransformer(new StreamSource(_url.openStream()));
    DOMResult domResult=new DOMResult();
    transformer.transform(logicalMessage.getPayload(),domResult);
    logicalMessage.setPayload(new DOMSource(domResult.getNode()));
    return true;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
