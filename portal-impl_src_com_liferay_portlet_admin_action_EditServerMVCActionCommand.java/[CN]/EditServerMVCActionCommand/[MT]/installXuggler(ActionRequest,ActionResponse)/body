{
  ProgressTracker progressTracker=new ProgressTracker(WebKeys.XUGGLER_INSTALL_STATUS);
  progressTracker.addProgress(ProgressStatusConstants.DOWNLOADING,15,"downloading-xuggler");
  progressTracker.addProgress(ProgressStatusConstants.COPYING,70,"copying-xuggler-files");
  progressTracker.initialize(actionRequest);
  String jarName=ParamUtil.getString(actionRequest,"jarName");
  try {
    XugglerUtil.installNativeLibraries(jarName,progressTracker);
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    jsonObject.put("success",Boolean.TRUE);
    JSONPortletResponseUtil.writeJSON(actionRequest,actionResponse,jsonObject);
    actionResponse.setRenderParameter("mvcPath",ActionConstants.COMMON_NULL);
  }
 catch (  Exception e) {
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    jsonObject.put("exception",e.getMessage());
    jsonObject.put("success",Boolean.FALSE);
    JSONPortletResponseUtil.writeJSON(actionRequest,actionResponse,jsonObject);
    actionResponse.setRenderParameter("mvcPath",ActionConstants.COMMON_NULL);
  }
  progressTracker.finish(actionRequest);
}
