{
  _encodeLeftoverChar(_EMPTY_CHAR_BUFFER,true);
  _charsetEncoder.encode(_EMPTY_CHAR_BUFFER,_outputByteBuffer,true);
  while (true) {
    CoderResult coderResult=_charsetEncoder.flush(_outputByteBuffer);
    if (coderResult.isError()) {
      coderResult.throwException();
    }
    if (coderResult.isUnderflow()) {
      break;
    }
    _flushBuffer();
  }
}
