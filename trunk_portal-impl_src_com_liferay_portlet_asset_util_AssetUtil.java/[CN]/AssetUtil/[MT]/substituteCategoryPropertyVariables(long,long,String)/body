{
  String result=s;
  AssetCategory category=null;
  if (categoryId > 0) {
    try {
      category=AssetCategoryLocalServiceUtil.getCategory(categoryId);
    }
 catch (    NoSuchCategoryException nsce) {
    }
  }
  if (category != null) {
    List<AssetCategoryProperty> categoryProperties=AssetCategoryPropertyLocalServiceUtil.getCategoryProperties(categoryId);
    for (    AssetCategoryProperty categoryProperty : categoryProperties) {
      result=StringUtil.replace(result,"[$" + categoryProperty.getKey() + "$]",categoryProperty.getValue());
    }
  }
  return StringUtil.stripBetween(result,"[$","$]");
}
