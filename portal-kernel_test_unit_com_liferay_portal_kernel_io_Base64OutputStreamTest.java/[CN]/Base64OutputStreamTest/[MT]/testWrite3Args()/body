{
  ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();
  try (Base64OutputStream base64OutputStream=new Base64OutputStream(byteArrayOutputStream)){
    byte[] bytes={'A','B','C','A','B','C'};
    base64OutputStream.write(bytes,0,1);
    base64OutputStream.write(bytes,1,2);
    base64OutputStream.write(bytes,3,3);
  }
   try (ByteArrayInputStream byteArrayInputStream=new ByteArrayInputStream(byteArrayOutputStream.toByteArray())){
    Assert.assertEquals(8,byteArrayInputStream.read(new byte[8]));
  }
 }
