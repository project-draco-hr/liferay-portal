{
  ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();
  Base64OutputStream base64OutputStream=new Base64OutputStream(byteArrayOutputStream);
  base64OutputStream.write('A');
  base64OutputStream.flush();
  ByteArrayInputStream byteArrayInputStream=new ByteArrayInputStream(byteArrayOutputStream.toByteArray());
  Assert.assertEquals(4,byteArrayInputStream.read(new byte[4]));
  byteArrayInputStream.close();
  byteArrayOutputStream=new ByteArrayOutputStream();
  base64OutputStream=new Base64OutputStream(byteArrayOutputStream);
  base64OutputStream.write('A');
  base64OutputStream.write('B');
  base64OutputStream.flush();
  byteArrayInputStream=new ByteArrayInputStream(byteArrayOutputStream.toByteArray());
  Assert.assertEquals(4,byteArrayInputStream.read(new byte[4]));
  byteArrayInputStream.close();
}
