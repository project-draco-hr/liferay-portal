{
  TargetSource targetSource=advisedSupport.getTargetSource();
  Object previousService=targetSource.getTarget();
  if (!ProxyUtil.isProxyClass(previousService.getClass())) {
    return previousService;
  }
  InvocationHandler invocationHandler=ProxyUtil.getInvocationHandler(previousService);
  if (invocationHandler instanceof ClassLoaderBeanHandler) {
    ClassLoaderBeanHandler classLoaderBeanHandler=(ClassLoaderBeanHandler)invocationHandler;
    previousService=classLoaderBeanHandler.getBean();
  }
  return previousService;
}
