{
  FileEntry oldFileEntry=null;
  FileVersion oldFileVersion=null;
  if (is == null) {
    oldFileEntry=getFileEntry(fileEntryId);
    oldFileVersion=oldFileEntry.getLatestFileVersion(true);
  }
  FileEntry fileEntry=super.updateFileEntry(userId,fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,is,size,serviceContext);
  if (is == null) {
    _processorCapability.copy(fileEntry,oldFileVersion);
  }
 else {
    _processorCapability.cleanUp(fileEntry.getLatestFileVersion());
    _processorCapability.generateNew(fileEntry);
  }
  return fileEntry;
}
