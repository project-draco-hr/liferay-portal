{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  int frequencyThreshold=ParamUtil.getInteger(actionRequest,getClassName() + "frequencyThreshold",1);
  jsonObject.put("frequencyThreshold",frequencyThreshold);
  String[] assetTypes=StringUtil.split(ParamUtil.getString(actionRequest,getClassName() + "assetTypes"));
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  if (ArrayUtil.isEmpty(assetTypes)) {
    assetTypes=getAssetTypes(themeDisplay.getCompanyId());
  }
  for (  String assetType : assetTypes) {
    jsonArray.put(assetType);
  }
  jsonObject.put("values",jsonArray);
  return jsonObject;
}
