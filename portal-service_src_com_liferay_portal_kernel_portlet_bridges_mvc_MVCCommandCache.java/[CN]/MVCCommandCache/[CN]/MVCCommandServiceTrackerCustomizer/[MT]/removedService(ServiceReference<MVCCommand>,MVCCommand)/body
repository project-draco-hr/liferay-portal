{
  Registry registry=RegistryUtil.getRegistry();
  registry.ungetService(serviceReference);
  List<String> mvcCommandNames=StringPlus.asList(serviceReference.getProperty("mvc.command.name"));
  for (  String mvcCommandName : mvcCommandNames) {
    _mvcCommandCache.remove(mvcCommandName);
    for (    List<MVCCommand> mvcCommands : _mvcCommands.values()) {
      mvcCommands.remove(mvcCommand);
    }
    String mvcCommandClassName=ClassUtil.getClassName(mvcCommand);
    List<String> mvcCommandKeys=_mvcCommandKeys.remove(mvcCommandClassName);
    if (ListUtil.isNotEmpty(mvcCommandKeys)) {
      for (      String mvcCommandKey : mvcCommandKeys) {
        _mvcCommandCache.remove(mvcCommandKey);
      }
    }
  }
}
