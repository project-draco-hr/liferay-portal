{
  if (Validator.isNull(language)) {
    throw new IllegalArgumentException("Language type can not be null or empty!");
  }
  if (Validator.isNull(script)) {
    throw new IllegalArgumentException("Script can not be null or empty!");
  }
  if (!ScriptingUtil.getSupportedLanguages().contains(language)) {
    throw new ManagementServiceException("Unsupport language type:" + language);
  }
  Message managementMessage=new Message();
  managementMessage.put(LANGUAGE_KEY,language);
  managementMessage.put(SCRIPT_KEY,script);
  Exception exception=null;
  try {
    Object response=MessageBusUtil.sendSynchronousMessage(DestinationNames.MANAGEMENT,managementMessage);
    if (Exception.class.isAssignableFrom(response.getClass())) {
      exception=Exception.class.cast(response);
    }
  }
 catch (  MessageBusException ex) {
    exception=ex;
  }
 finally {
    if (exception != null) {
      throw new ManagementServiceException("Unable to execute management script.",exception);
    }
  }
}
