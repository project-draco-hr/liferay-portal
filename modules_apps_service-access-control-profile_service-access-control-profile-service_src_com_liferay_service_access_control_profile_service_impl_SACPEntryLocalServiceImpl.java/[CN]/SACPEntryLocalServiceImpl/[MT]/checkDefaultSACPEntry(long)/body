{
  SACPConfiguration sacpConfiguration=_settingsFactory.getSettings(SACPConfiguration.class,new CompanyServiceSettingsLocator(companyId,SACPConstants.SERVICE_NAME));
  SACPEntry appSacpEntry=sacpEntryPersistence.fetchByC_N(companyId,sacpConfiguration.defaultApplicationSACPEntryName());
  SACPEntry userSacpEntry=sacpEntryPersistence.fetchByC_N(companyId,sacpConfiguration.defaultUserSACPEntryName());
  if ((appSacpEntry != null) && (userSacpEntry != null)) {
    return;
  }
  long defaultUserId=userLocalService.getDefaultUserId(companyId);
  Role guestRole=roleLocalService.getRole(companyId,RoleConstants.GUEST);
  if (appSacpEntry == null) {
    Map<Locale,String> titleMap=new HashMap<>();
    titleMap.put(LocaleUtil.getDefault(),sacpConfiguration.defaultApplicationSACPEntryDescription());
    appSacpEntry=addSACPEntry(defaultUserId,sacpConfiguration.defaultApplicationSACPEntryServiceSignatures(),true,sacpConfiguration.defaultApplicationSACPEntryName(),titleMap,new ServiceContext());
    resourcePermissionLocalService.setResourcePermissions(appSacpEntry.getCompanyId(),SACPEntry.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,String.valueOf(appSacpEntry.getSacpEntryId()),guestRole.getRoleId(),new String[]{ActionKeys.VIEW});
  }
  if (userSacpEntry == null) {
    Map<Locale,String> titleMap=new HashMap<>();
    titleMap.put(LocaleUtil.getDefault(),sacpConfiguration.defaultUserSACPEntryDescription());
    userSacpEntry=addSACPEntry(defaultUserId,sacpConfiguration.defaultUserSACPEntryServiceSignatures(),true,sacpConfiguration.defaultUserSACPEntryName(),titleMap,new ServiceContext());
    resourcePermissionLocalService.setResourcePermissions(userSacpEntry.getCompanyId(),SACPEntry.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,String.valueOf(userSacpEntry.getSacpEntryId()),guestRole.getRoleId(),new String[]{ActionKeys.VIEW});
  }
}
