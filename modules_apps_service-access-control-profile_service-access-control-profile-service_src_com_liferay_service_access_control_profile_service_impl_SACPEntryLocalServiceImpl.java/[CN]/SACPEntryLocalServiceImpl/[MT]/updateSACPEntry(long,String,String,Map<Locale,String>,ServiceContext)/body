{
  if (name != null) {
    name=name.trim();
  }
  validate(name,titleMap);
  SACPEntry sacpEntry=sacpEntryPersistence.findByPrimaryKey(sacpEntryId);
  long companyId=sacpEntry.getCompanyId();
  SACPEntry duplicateEntry=sacpEntryPersistence.fetchByC_N(companyId,name);
  if ((duplicateEntry != null) && (duplicateEntry.getSacpEntryId() != sacpEntryId)) {
    throw new DuplicateSACPEntryNameException();
  }
  Date now=new Date();
  sacpEntry.setAllowedServices(allowedServices);
  sacpEntry.setName(name);
  sacpEntry.setTitleMap(titleMap);
  sacpEntry.setModifiedDate(now);
  sacpEntry=sacpEntryPersistence.update(sacpEntry,serviceContext);
  return sacpEntry;
}
