{
  if (name != null) {
    name=name.trim();
  }
  validate(name,titleMap);
  SACPEntry sacpEntry=sacpEntryPersistence.findByPrimaryKey(sacpEntryId);
  SACPEntry existingSACPEntry=sacpEntryPersistence.fetchByC_N(sacpEntry.getCompanyId(),name);
  if ((existingSACPEntry != null) && (existingSACPEntry.getSacpEntryId() != sacpEntryId)) {
    throw new DuplicateSACPEntryNameException();
  }
  Date now=new Date();
  sacpEntry.setAllowedServices(allowedServices);
  sacpEntry.setName(name);
  sacpEntry.setTitleMap(titleMap);
  sacpEntry.setModifiedDate(now);
  sacpEntry=sacpEntryPersistence.update(sacpEntry,serviceContext);
  return sacpEntry;
}
