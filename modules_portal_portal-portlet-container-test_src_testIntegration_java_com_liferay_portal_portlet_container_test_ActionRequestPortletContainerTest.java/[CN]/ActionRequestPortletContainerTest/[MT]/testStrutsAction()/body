{
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  properties.put(PropsKeys.AUTH_TOKEN_IGNORE_ACTIONS,"/test/portlet/1");
  properties.put("com.liferay.portlet.struts-path","test/portlet");
  setUpPortlet(testPortlet,properties,TEST_PORTLET_ID);
  HttpServletRequest httpServletRequest=PortletContainerTestUtil.getHttpServletRequest(group,layout);
  PortletURL portletURL=new PortletURLImpl(httpServletRequest,TEST_PORTLET_ID,layout.getPlid(),PortletRequest.ACTION_PHASE);
  portletURL.setParameter("struts_action","/test/portlet/1");
  Map<String,List<String>> responseMap=PortletContainerTestUtil.request(portletURL.toString());
  Assert.assertEquals("200",PortletContainerTestUtil.getString(responseMap,"code"));
  Assert.assertTrue(testPortlet.isActionCalled());
}
