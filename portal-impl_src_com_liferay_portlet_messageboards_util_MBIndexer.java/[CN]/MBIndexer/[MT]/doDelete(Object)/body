{
  if (obj instanceof MBCategory) {
    MBCategory category=(MBCategory)obj;
    BooleanQuery booleanQuery=BooleanQueryFactoryUtil.create();
    booleanQuery.addRequiredTerm(Field.PORTLET_ID,PORTLET_ID);
    booleanQuery.addRequiredTerm("categoryId",category.getCategoryId());
    Hits hits=SearchEngineUtil.search(category.getCompanyId(),booleanQuery,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
    for (int i=0; i < hits.getLength(); i++) {
      Document document=hits.doc(i);
      SearchEngineUtil.deleteDocument(category.getCompanyId(),document.get(Field.UID));
    }
  }
 else   if (obj instanceof MBMessage) {
    MBMessage message=(MBMessage)obj;
    Document document=new DocumentImpl();
    document.addUID(PORTLET_ID,message.getMessageId());
    SearchEngineUtil.deleteDocument(message.getCompanyId(),document.get(Field.UID));
  }
 else   if (obj instanceof MBThread) {
    MBThread thread=(MBThread)obj;
    MBCategory category=MBCategoryLocalServiceUtil.getCategory(thread.getCategoryId());
    BooleanQuery booleanQuery=BooleanQueryFactoryUtil.create();
    booleanQuery.addRequiredTerm(Field.PORTLET_ID,PORTLET_ID);
    booleanQuery.addRequiredTerm("threadId",thread.getThreadId());
    Hits hits=SearchEngineUtil.search(category.getCompanyId(),booleanQuery,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
    for (int i=0; i < hits.getLength(); i++) {
      Document document=hits.doc(i);
      SearchEngineUtil.deleteDocument(category.getCompanyId(),document.get(Field.UID));
    }
  }
}
