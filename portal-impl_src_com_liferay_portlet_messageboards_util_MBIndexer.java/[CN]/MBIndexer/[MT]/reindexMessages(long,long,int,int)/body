{
  List<MBMessage> messages=MBMessageLocalServiceUtil.getCategoryMessages(groupId,categoryId,StatusConstants.APPROVED,messageStart,messageEnd);
  if (messages.isEmpty()) {
    return;
  }
  long companyId=messages.get(0).getCompanyId();
  Map<String,Document> documents=new HashMap<String,Document>();
  for (  MBMessage message : messages) {
    Document document=getDocument(message);
    documents.put(document.get(Field.UID),document);
  }
  if (!documents.isEmpty()) {
    SearchEngineUtil.updateDocuments(companyId,documents);
  }
}
