{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(MBCategory.class,PortalClassLoaderUtil.getClassLoader());
  Property property=PropertyFactoryUtil.forName("categoryId");
  dynamicQuery.add(property.ge(startCategoryId));
  dynamicQuery.add(property.lt(endCategoryId));
  addReindexCriteria(dynamicQuery,companyId);
  List<MBCategory> categories=MBCategoryLocalServiceUtil.dynamicQuery(dynamicQuery);
  for (  MBCategory category : categories) {
    long groupId=category.getGroupId();
    long categoryId=category.getCategoryId();
    reindexMessages(companyId,groupId,categoryId);
  }
}
