{
  MBMessage message=MBMessageLocalServiceUtil.getMessage(classPK);
  doReindex(message);
  if (message.isRoot()) {
    List<MBMessage> messages=MBMessageLocalServiceUtil.getThreadMessages(message.getThreadId(),WorkflowConstants.STATUS_APPROVED);
    for (    MBMessage curMessage : messages) {
      reindex(curMessage);
    }
  }
 else {
    reindex(message);
  }
}
