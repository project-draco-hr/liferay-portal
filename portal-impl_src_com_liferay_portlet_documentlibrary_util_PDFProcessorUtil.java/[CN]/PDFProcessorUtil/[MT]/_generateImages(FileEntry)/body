{
  try {
    if (_hasImages(fileEntry)) {
      return;
    }
    String extension=fileEntry.getExtension();
    if (extension.equals("pdf")) {
      InputStream inputStream=DLFileEntryLocalServiceUtil.getFileAsStream(fileEntry.getUserId(),fileEntry.getFileEntryId(),fileEntry.getVersion(),false);
      _generateImages(fileEntry,inputStream);
    }
 else     if (DocumentConversionUtil.isEnabled()) {
      InputStream inputStream=DLFileEntryLocalServiceUtil.getFileAsStream(fileEntry.getUserId(),fileEntry.getFileEntryId(),fileEntry.getVersion(),false);
      String id=DLUtil.getTempFileId(fileEntry.getFileEntryId(),fileEntry.getVersion());
      File file=DocumentConversionUtil.convert(id,inputStream,fileEntry.getExtension(),"pdf");
      _generateImages(fileEntry,file);
    }
  }
 catch (  NoSuchFileEntryException nsfee) {
  }
catch (  Exception e) {
    _log.error(e,e);
  }
 finally {
    _fileEntries.remove(fileEntry.getFileEntryId());
  }
}
