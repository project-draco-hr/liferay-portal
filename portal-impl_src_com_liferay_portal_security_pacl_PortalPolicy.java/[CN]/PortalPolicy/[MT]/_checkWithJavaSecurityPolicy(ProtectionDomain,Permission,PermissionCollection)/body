{
  if (!(permissionCollection instanceof PortalPermissionCollection)) {
    return false;
  }
  PortalPermissionCollection portalPermissionCollection=(PortalPermissionCollection)permissionCollection;
  Policy javaSecurityPolicy=portalPermissionCollection.getJavaSecurityPolicy();
  if (javaSecurityPolicy != null) {
    return javaSecurityPolicy.implies(protectionDomain,permission);
  }
  return false;
}
