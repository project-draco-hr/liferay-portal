{
  if ((protectionDomain.getClassLoader() == null) || !PACLPolicyManager.isActive() || !_paclPolicy.isCheckablePermission(permission)) {
    return _checkWithParentPolicy(protectionDomain,permission);
  }
  Object key=_getKey(protectionDomain);
  PermissionCollection permissionCollection=_permissionCollections.get(key);
  if (permissionCollection != null) {
    if (permissionCollection.implies(permission)) {
      return _checkWithParentPolicy(protectionDomain,permission);
    }
 else     if (_checkWithJavaSecurityPolicy(protectionDomain,permission,permissionCollection)) {
      return _checkWithParentPolicy(protectionDomain,permission);
    }
    return false;
  }
  permissionCollection=getPermissions(protectionDomain);
  _permissionCollections.putIfAbsent(key,permissionCollection);
  if (permissionCollection.implies(permission)) {
    return _checkWithParentPolicy(protectionDomain,permission);
  }
 else   if (_checkWithJavaSecurityPolicy(protectionDomain,permission,permissionCollection)) {
    return _checkWithParentPolicy(protectionDomain,permission);
  }
  return false;
}
