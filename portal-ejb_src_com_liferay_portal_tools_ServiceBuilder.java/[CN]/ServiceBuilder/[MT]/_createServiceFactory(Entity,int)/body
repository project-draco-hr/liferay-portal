{
  StringBuffer sb=new StringBuffer();
  sb.append("package " + _packagePath + ".service.spring;");
  sb.append("import " + _springUtilClassName + ";");
  sb.append("import org.springframework.context.ApplicationContext;");
  sb.append("public class " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory {");
  sb.append("public static final String CLASS_NAME = " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory.class.getName();");
  sb.append("public static " + entity.getName() + _getSessionTypeName(sessionType)+ "Service getService() {");
  sb.append("ApplicationContext ctx = SpringUtil.getContext();");
  sb.append(entity.getName() + _getSessionTypeName(sessionType) + "ServiceFactory factory = ("+ entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceFactory)ctx.getBean(CLASS_NAME);");
  sb.append("return factory._service;");
  sb.append("}");
  sb.append("public void setService(" + entity.getName() + _getSessionTypeName(sessionType)+ "Service service) {");
  sb.append("_service = service;");
  sb.append("}");
  sb.append("private " + entity.getName() + _getSessionTypeName(sessionType)+ "Service _service;");
  sb.append("}");
  File ejbFile=new File(_outputPath + "/service/spring/" + entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceFactory.java");
  writeFile(ejbFile,sb.toString());
}
