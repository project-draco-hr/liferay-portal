{
  StringBuffer sb=new StringBuffer();
  sb.append("package " + _packagePath + ".service.spring;");
  sb.append("public class " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory {");
  sb.append("public static " + entity.getName() + _getSessionTypeName(sessionType)+ "Service getService() {");
  sb.append("return _getFactory()._service;");
  sb.append("}");
  sb.append("public static " + entity.getName() + _getSessionTypeName(sessionType)+ "Service getTxImpl() {");
  sb.append("if (_txImpl == null) {");
  sb.append("_txImpl = (" + entity.getName() + _getSessionTypeName(sessionType)+ "Service)"+ _beanLocatorUtilClassName+ ".locate(_TX_IMPL);");
  sb.append("}");
  sb.append("return _txImpl;");
  sb.append("}");
  sb.append("public void setService(" + entity.getName() + _getSessionTypeName(sessionType)+ "Service service) {");
  sb.append("_service = service;");
  sb.append("}");
  sb.append("private static " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory _getFactory() {");
  sb.append("if (_factory == null) {");
  sb.append("_factory = (" + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory)"+ _beanLocatorUtilClassName+ ".locate(_FACTORY);");
  sb.append("}");
  sb.append("return _factory;");
  sb.append("}");
  sb.append("private static final String _FACTORY = " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory.class.getName();");
  sb.append("private static final String _TX_IMPL = " + entity.getName() + _getSessionTypeName(sessionType)+ "Service.class.getName() + \".transaction\";");
  sb.append("private static " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceFactory _factory;");
  sb.append("private static " + entity.getName() + _getSessionTypeName(sessionType)+ "Service _txImpl;");
  sb.append("private " + entity.getName() + _getSessionTypeName(sessionType)+ "Service _service;");
  sb.append("}");
  File ejbFile=new File(_outputPath + "/service/spring/" + entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceFactory.java");
  writeFile(ejbFile,sb.toString());
}
