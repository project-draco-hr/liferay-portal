{
  XClass xClass=_getXClass(_outputPath + "/service/impl/" + entity.getName()+ (sessionType != _REMOTE ? "Local" : "")+ "ServiceImpl.java");
  List methods=xClass.getMethods();
  StringBuffer sb=new StringBuffer();
  sb.append("package " + _packagePath + ".service.spring;");
  sb.append("public class " + entity.getName() + _getSessionTypeName(sessionType)+ "ServiceUtil {");
  for (int i=0; i < methods.size(); i++) {
    XMethod xMethod=(XMethod)methods.get(i);
    String methodName=xMethod.getName();
    if (_isCustomMethod(xMethod) && xMethod.isPublic()) {
      sb.append("public static " + xMethod.getReturnType().getType().getQualifiedName() + xMethod.getReturnType().getDimensionAsString()+ " "+ methodName+ "(");
      List parameters=xMethod.getParameters();
      for (int j=0; j < parameters.size(); j++) {
        XParameter xParameter=(XParameter)parameters.get(j);
        sb.append(xParameter.getType().getQualifiedName() + xParameter.getDimensionAsString() + " "+ xParameter.getName());
        if ((j + 1) != parameters.size()) {
          sb.append(", ");
        }
      }
      sb.append(")");
      List thrownExceptions=xMethod.getThrownExceptions();
      Set newExceptions=new LinkedHashSet();
      for (int j=0; j < thrownExceptions.size(); j++) {
        XClass thrownException=(XClass)thrownExceptions.get(j);
        newExceptions.add(thrownException.getQualifiedName());
      }
      sb.append(" throws ");
      if (newExceptions.contains("com.liferay.portal.PortalException")) {
        sb.append("com.liferay.portal.PortalException, ");
      }
      sb.append("com.liferay.portal.SystemException {");
      sb.append("try {");
      sb.append(entity.getName() + _getSessionTypeName(sessionType) + "Service "+ entity.getVarName()+ _getSessionTypeName(sessionType)+ "Service = "+ entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceFactory.getService();");
      if (!xMethod.getReturnType().getType().getQualifiedName().equals("void")) {
        sb.append("return ");
      }
      sb.append(entity.getVarName() + _getSessionTypeName(sessionType) + "Service."+ methodName+ "(");
      for (int j=0; j < parameters.size(); j++) {
        XParameter xParameter=(XParameter)parameters.get(j);
        sb.append(xParameter.getName());
        if ((j + 1) != parameters.size()) {
          sb.append(", ");
        }
      }
      sb.append(");");
      sb.append("}");
      if (newExceptions.contains("com.liferay.portal.PortalException")) {
        sb.append("catch (com.liferay.portal.PortalException pe) {");
        sb.append("throw pe;");
        sb.append("}");
      }
      if (newExceptions.contains("com.liferay.portal.SystemException")) {
        sb.append("catch (com.liferay.portal.SystemException se) {");
        sb.append("throw se;");
        sb.append("}");
      }
      sb.append("catch (Exception e) {");
      sb.append("throw new com.liferay.portal.SystemException(e);");
      sb.append("}");
      sb.append("}");
    }
  }
  sb.append("}");
  File ejbFile=new File(_outputPath + "/service/spring/" + entity.getName()+ _getSessionTypeName(sessionType)+ "ServiceUtil.java");
  writeFile(ejbFile,sb.toString());
}
