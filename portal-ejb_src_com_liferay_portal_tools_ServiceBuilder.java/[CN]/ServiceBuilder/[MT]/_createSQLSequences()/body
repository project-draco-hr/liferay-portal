{
  String sqlPath=_portalRoot + "/sql";
  File sqlFile=new File(sqlPath + "/sequences.sql");
  Set sequenceSQLs=new TreeSet();
  BufferedReader br=new BufferedReader(new FileReader(sqlFile));
  while (true) {
    String sequenceSQL=br.readLine();
    if (sequenceSQL == null) {
      break;
    }
    if (Validator.isNotNull(sequenceSQL)) {
      sequenceSQLs.add(sequenceSQL);
    }
  }
  br.close();
  String content=FileUtil.read(sqlFile);
  for (int i=0; i < _ejbList.size(); i++) {
    Entity entity=(Entity)_ejbList.get(i);
    List columnList=entity.getColumnList();
    for (int j=0; j < columnList.size(); j++) {
      EntityColumn column=(EntityColumn)columnList.get(j);
      if ("sequence".equals(column.getIdType())) {
        StringBuffer sb=new StringBuffer();
        String sequenceName=column.getIdParam();
        if (sequenceName.length() > 30) {
          sequenceName=sequenceName.substring(0,30);
        }
        sb.append("create sequence " + sequenceName + ";");
        String sequenceSQL=sb.toString();
        if (!sequenceSQLs.contains(sequenceSQL)) {
          sequenceSQLs.add(sequenceSQL);
        }
      }
    }
  }
  StringBuffer sb=new StringBuffer();
  Iterator itr=sequenceSQLs.iterator();
  while (itr.hasNext()) {
    String sequenceSQL=(String)itr.next();
    sb.append(sequenceSQL);
    if (itr.hasNext()) {
      sb.append("\n");
    }
  }
  FileUtil.write(sqlFile,sb.toString(),true);
}
