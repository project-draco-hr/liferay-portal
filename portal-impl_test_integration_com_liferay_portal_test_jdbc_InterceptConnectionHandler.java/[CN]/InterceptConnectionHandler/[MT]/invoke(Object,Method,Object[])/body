{
  try {
    String methodName=method.getName();
    if (methodName.equals("equals")) {
      if (proxy == arguments[0]) {
        return true;
      }
      return false;
    }
    if (methodName.equals("hashCode")) {
      return System.identityHashCode(proxy);
    }
    if (methodName.equals("prepareCall") || methodName.equals("prepareStatement")) {
      ResetDatabaseUtil.interceptSQL(_connection,(String)arguments[0]);
    }
    Object returnValue=method.invoke(_connection,arguments);
    if (methodName.equals("createStatement") || methodName.equals("prepareCall") || methodName.equals("prepareStatement")) {
      Statement statement=(Statement)returnValue;
      return ProxyUtil.newProxyInstance(InterceptConnectionHandler.class.getClassLoader(),getInterfaces(statement),new InterceptStatementHandler(_connection,statement));
    }
    return returnValue;
  }
 catch (  InvocationTargetException ite) {
    throw ite.getTargetException();
  }
}
