{
  int x=content.indexOf("import ");
  if (x == -1) {
    return content;
  }
  int y=content.indexOf("{",x);
  y=content.substring(0,y).lastIndexOf(";") + 1;
  String imports=_formatImports(content.substring(x,y));
  content=content.substring(0,x) + imports + content.substring(y + 1,content.length());
  Set classes=ClassUtil.getClasses(new StringReader(content),className);
  classes.add("_getMarkup");
  classes.add("_performBlockingInteraction");
  x=content.indexOf("import ");
  y=content.indexOf("{",x);
  y=content.substring(0,y).lastIndexOf(";") + 1;
  imports=content.substring(x,y);
  StringMaker sm=new StringMaker();
  BufferedReader br=new BufferedReader(new StringReader(imports));
  String line=null;
  while ((line=br.readLine()) != null) {
    if (line.indexOf("import ") != -1) {
      int importX=line.indexOf(" ");
      int importY=line.lastIndexOf(".");
      String importPackage=line.substring(importX + 1,importY);
      String importClass=line.substring(importY + 1,line.length() - 1);
      if (!packageDir.equals(importPackage)) {
        if (!importClass.equals("*")) {
          if (classes.contains(importClass)) {
            sm.append(line);
            sm.append("\n");
          }
        }
 else {
          sm.append(line);
          sm.append("\n");
        }
      }
    }
  }
  imports=_formatImports(sm.toString());
  content=content.substring(0,x) + imports + content.substring(y + 1,content.length());
  return content;
}
