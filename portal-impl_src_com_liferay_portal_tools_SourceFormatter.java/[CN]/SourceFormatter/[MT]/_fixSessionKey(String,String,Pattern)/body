{
  Matcher matcher=pattern.matcher(content);
  if (!matcher.find()) {
    return content;
  }
  String newContent=content;
  do {
    String match=matcher.group();
    int x=-1;
    if (pattern.equals(_sessionKeyPattern)) {
      x=match.indexOf(StringPool.COMMA);
    }
 else     if (pattern.equals(_taglibSessionKeyPattern)) {
      x=match.indexOf("key=");
    }
    String substring=match.substring(x + 1).trim();
    String quote=StringPool.BLANK;
    if (substring.startsWith(StringPool.APOSTROPHE)) {
      quote=StringPool.APOSTROPHE;
    }
 else     if (substring.startsWith(StringPool.QUOTE)) {
      quote=StringPool.QUOTE;
    }
 else {
      continue;
    }
    int y=match.indexOf(quote,x + 1);
    int z=match.indexOf(quote,y + 1);
    if ((x == -1) || (y == -1) || (z == -1)) {
      continue;
    }
    String prefix=match.substring(0,y + 1);
    String suffix=match.substring(z);
    String oldKey=match.substring(y + 1,z);
    for (    char c : oldKey.toCharArray()) {
      if (!Validator.isChar(c) || !Validator.isDigit(c) || (c != CharPool.DASH)|| (c != CharPool.UNDERLINE)) {
        continue;
      }
    }
    String newKey=TextFormatter.format(oldKey,TextFormatter.O);
    newKey=TextFormatter.format(newKey,TextFormatter.M);
    if (newKey.equals(oldKey)) {
      continue;
    }
    String oldSub=prefix.concat(oldKey).concat(suffix);
    String newSub=prefix.concat(newKey).concat(suffix);
    newContent=StringUtil.replaceFirst(newContent,oldSub,newSub);
  }
 while (matcher.find());
  return newContent;
}
