{
  StringBuilder sb=new StringBuilder();
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(content));
  int lineCount=0;
  String line=null;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    lineCount++;
    if (line.trim().length() == 0) {
      line=StringPool.BLANK;
    }
    line=StringUtil.trimTrailing(line);
    if (line.contains("<aui:button ") && line.contains("type=\"button\"")) {
      _sourceFormatterHelper.printError(fileName,"aui:button " + fileName + " "+ lineCount);
    }
    line=_replacePrimitiveWrapperInstantiation(fileName,line,lineCount);
    sb.append(line);
    sb.append("\n");
  }
  unsyncBufferedReader.close();
  content=sb.toString();
  if (content.endsWith("\n")) {
    content=content.substring(0,content.length() - 1);
  }
  content=_formatTaglibQuotes(fileName,content,StringPool.QUOTE);
  content=_formatTaglibQuotes(fileName,content,StringPool.APOSTROPHE);
  return content;
}
