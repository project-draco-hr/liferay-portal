{
  boolean longLogFactoryUtil=false;
  StringBuilder sb=new StringBuilder();
  BufferedReader br=new BufferedReader(new StringReader(content));
  int lineCount=0;
  String line=null;
  while ((line=br.readLine()) != null) {
    lineCount++;
    if (line.trim().length() == 0) {
      line=StringPool.BLANK;
    }
    line=StringUtil.trimTrailing(line);
    line=StringUtil.replace(line,new String[]{"* Copyright (c) 2000-2008 Liferay, Inc.","* Copyright 2008 Sun Microsystems Inc."},new String[]{"* Copyright (c) 2000-2009 Liferay, Inc.","* Copyright 2009 Sun Microsystems Inc."});
    sb.append(line);
    sb.append("\n");
    StringBuilder lineSB=new StringBuilder();
    int spacesPerTab=4;
    for (    char c : line.toCharArray()) {
      if (c == CharPool.TAB) {
        for (int i=0; i < spacesPerTab; i++) {
          lineSB.append(CharPool.SPACE);
        }
        spacesPerTab=4;
      }
 else {
        lineSB.append(c);
        spacesPerTab--;
        if (spacesPerTab <= 0) {
          spacesPerTab=4;
        }
      }
    }
    line=lineSB.toString();
    String excluded=_exclusions.getProperty(StringUtil.replace(fileName,"\\","/") + StringPool.AT + lineCount);
    if (excluded == null) {
      excluded=_exclusions.getProperty(StringUtil.replace(fileName,"\\","/"));
    }
    if ((excluded == null) && (line.length() > 80) && (!line.startsWith("import "))) {
      if (line.contains("private static Log _log = LogFactoryUtil.getLog(")) {
        longLogFactoryUtil=true;
      }
      System.out.println("> 80: " + fileName + " "+ lineCount);
    }
  }
  br.close();
  String newContent=sb.toString();
  if (newContent.endsWith("\n")) {
    newContent=newContent.substring(0,newContent.length() - 1);
  }
  if (longLogFactoryUtil) {
    newContent=StringUtil.replace(newContent,"private static Log _log = ","private static Log _log =\n\t\t");
  }
  return newContent;
}
