{
  _errorMessages=new ArrayList<String>();
  _excludes=StringUtil.split(GetterUtil.getString(System.getProperty("source.formatter.excludes")));
  _portalSource=_isPortalSource();
  _throwException=throwException;
  _sourceFormatterHelper=new SourceFormatterHelper(useProperties);
  _sourceFormatterHelper.init();
  Thread thread1=new Thread(){
    @Override public void run(){
      try {
        _formatJSP();
        _formatAntXML();
        _formatDDLStructuresXML();
        _formatFriendlyURLRoutesXML();
        _formatFTL();
        _formatJS();
        _formatPortalProperties();
        _formatPortletXML();
        _formatServiceXML();
        _formatSH();
        _formatSQL();
        _formatStrutsConfigXML();
        _formatTilesDefsXML();
        _formatTLD();
        _formatWebXML();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
;
  Thread thread2=new Thread(){
    @Override public void run(){
      try {
        _formatJava();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
;
  thread1.start();
  thread2.start();
  thread1.join();
  thread2.join();
  _sourceFormatterHelper.close();
  if (_throwException && !_errorMessages.isEmpty()) {
    throw new Exception(StringUtil.merge(_errorMessages,"\n"));
  }
}
