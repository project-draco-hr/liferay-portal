{
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  try {
    con=DataAccess.getConnection();
    ps=con.prepareStatement("select TA.assetId, TA.groupId, TA_TE.entryId from " + "TagsAssets_TagsEntries TA_TE inner join TagsAsset TA on " + "TA.assetId = TA_TE.assetId");
    rs=ps.executeQuery();
    SmartResultSet srs=new SmartResultSet(rs);
    while (srs.next()) {
      long assetId=srs.getLong("TA.assetId");
      long groupId=srs.getLong("TA.groupId");
      long entryId=srs.getLong("TA_TE.entryId");
      long newEntryId=copyEntry(groupId,entryId);
      ps=con.prepareStatement("insert into TagsAssets_TagsEntries (assetId, entryId) " + "values (?, ?)");
      ps.setLong(1,assetId);
      ps.setLong(2,newEntryId);
      ps.executeUpdate();
      ps.close();
    }
  }
  finally {
    DataAccess.cleanUp(con,ps,rs);
  }
  deleteEntries();
}
