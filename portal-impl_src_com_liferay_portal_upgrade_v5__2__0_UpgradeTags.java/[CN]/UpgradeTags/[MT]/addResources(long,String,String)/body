{
  if (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 5) {
    ResourceCode resourceCode=ResourceCodeLocalServiceUtil.getResourceCode(companyId,resourceName,ResourceConstants.SCOPE_INDIVIDUAL);
    long resourceCodeId=0;
    if (resourceCode == null) {
      resourceCodeId=CounterLocalServiceUtil.increment("com.liferay.portal.model.ResourceCode");
      addResourceCode(resourceCodeId,companyId,resourceName);
    }
 else {
      resourceCodeId=resourceCode.getCodeId();
    }
    try {
      ResourceLocalServiceUtil.getResource(companyId,resourceName,ResourceConstants.SCOPE_INDIVIDUAL,primKey);
    }
 catch (    NoSuchResourceException nsre) {
      addResource(resourceCodeId,primKey);
    }
  }
 else   if (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 6) {
    Role role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.OWNER);
    if (role != null) {
      addResourcePermission(companyId,role.getRoleId(),resourceName,primKey);
    }
  }
}
