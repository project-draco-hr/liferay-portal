{
  String rootChildrenUrl=null;
  for (  Workspace workspace : getService().getWorkspaces()) {
    rootChildrenUrl=CMISUtil.getCollectionUrl(workspace,getConstants().COLLECTION_ROOT);
    assertNotNull(rootChildrenUrl);
    Entry folder=CMISUtil.getEntry(rootChildrenUrl,_LIFERAY_TEST,_cmisConstants.BASE_TYPE_FOLDER);
    if (folder != null) {
      CMISUtil.delete(folder);
    }
  }
  FileInputStream fis=new FileInputStream(_TEST_FILE);
  Entry folderEntry=CMISUtil.createFolder(rootChildrenUrl,_LIFERAY_TEST);
  Entry fileEntry=CMISUtil.createDocument(folderEntry,"test.txt",fis);
  assertNotNull(fileEntry);
  String repositoryFileContent=StringUtil.read(CMISUtil.getInputStream(fileEntry));
  String originalFileContent=_fileUtil.read(_TEST_FILE);
  assertEquals(originalFileContent,repositoryFileContent);
  List<String> fileNames=CMISUtil.getFolders(folderEntry);
  assertEquals(1,fileNames.size());
  assertEquals("test.txt",fileNames.get(0));
  CMISUtil.delete(fileEntry);
  CMISUtil.delete(folderEntry);
}
