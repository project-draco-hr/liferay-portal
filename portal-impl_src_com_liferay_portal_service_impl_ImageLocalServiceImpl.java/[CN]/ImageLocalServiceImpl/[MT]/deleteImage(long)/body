{
  if (imageId <= 0) {
    return;
  }
  if (PropsValues.IMAGE_HOOK_IMPL.equals(DatabaseHook.class.getName()) && (imagePersistence.getListeners().length == 0)) {
    runSQL("delete from Image where imageId = " + imageId);
    imagePersistence.clearCache();
  }
 else {
    try {
      Image image=getImage(imageId);
      imagePersistence.remove(imageId);
      Hook hook=HookFactory.getInstance();
      hook.deleteImage(image);
    }
 catch (    NoSuchImageException nsie) {
    }
  }
}
