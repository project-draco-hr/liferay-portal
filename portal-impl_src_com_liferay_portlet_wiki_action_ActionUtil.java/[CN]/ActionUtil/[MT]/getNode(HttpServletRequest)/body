{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  long nodeId=ParamUtil.getLong(request,"nodeId");
  String nodeName=ParamUtil.getString(request,"nodeName");
  WikiNode node=null;
  if (nodeId > 0) {
    node=WikiNodeServiceUtil.getNode(nodeId);
  }
 else   if (Validator.isNotNull(nodeName)) {
    node=WikiNodeServiceUtil.getNode(themeDisplay.getScopeGroupId(),nodeName);
  }
  request.setAttribute(WebKeys.WIKI_NODE,node);
  return node;
}
