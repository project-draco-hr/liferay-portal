{
  long groupId=atomRequestContext.getLongParameter("groupId");
  int status=WorkflowConstants.STATUS_APPROVED;
  int max=atomRequestContext.getIntParameter("max",SearchContainer.DEFAULT_DELTA);
  if (groupId > 0) {
    int page=atomRequestContext.getIntParameter("page");
    if (page == 0) {
      return BlogsEntryServiceUtil.getGroupEntries(groupId,status,max);
    }
    int count=BlogsEntryServiceUtil.getGroupEntriesCount(groupId,status);
    AtomPager atomPager=new AtomPager(page,max,count);
    AtomUtil.saveAtomPagerInRequest(atomRequestContext,atomPager);
    return BlogsEntryServiceUtil.getGroupEntries(groupId,status,atomPager.getStart(),atomPager.getEnd() + 1);
  }
  long organizationId=atomRequestContext.getLongParameter("organizationId");
  if (organizationId > 0) {
    return BlogsEntryServiceUtil.getOrganizationEntries(organizationId,status,max);
  }
  long companyId=CompanyThreadLocal.getCompanyId();
  if (companyId > 0) {
    return BlogsEntryServiceUtil.getCompanyEntries(companyId,status,max);
  }
  return Collections.emptyList();
}
