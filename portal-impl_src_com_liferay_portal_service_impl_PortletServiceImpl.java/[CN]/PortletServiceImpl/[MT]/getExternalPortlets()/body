{
  List<Portlet> portlets=portletLocalService.getPortlets();
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  for (  Portlet p : portlets) {
    PortletApp portletApp=p.getPortletApp();
    if (portletApp.isWARFile()) {
      JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
      jsonObject.put("portlet_name",p.getPortletName());
      jsonObject.put("app_name",portletApp.getServletContextName());
      jsonArray.put(jsonObject);
    }
  }
  return jsonArray;
}
