{
  List<RatingsEntry> ratingsEntries=_ratingsEntryLocalService.getEntries(oldClassName,oldClassPK);
  for (  RatingsEntry ratingsEntry : ratingsEntries) {
    addRatingsEntry(_counterLocalService.increment(),ratingsEntry.getCompanyId(),ratingsEntry.getUserId(),ratingsEntry.getUserName(),ratingsEntry.getCreateDate(),ratingsEntry.getModifiedDate(),className,classPK,ratingsEntry.getScore());
  }
  List<Long> oldClassPKs=new ArrayList<>();
  oldClassPKs.add(oldClassPK);
  List<RatingsStats> ratingsStatsList=_ratingsStatsLocalService.getStats(oldClassName,oldClassPKs);
  if (ratingsStatsList.isEmpty()) {
    return;
  }
  RatingsStats ratingsStats=ratingsStatsList.get(0);
  addRatingsStats(_counterLocalService.increment(),className,classPK,ratingsStats.getTotalEntries(),ratingsStats.getTotalScore(),ratingsStats.getAverageScore());
}
