{
  Long companyIdObj=(Long)_companyIdColumn.getTemp();
  String name=(String)_nameColumn.getTemp();
  String scope=(String)_scopeColumn.getTemp();
  int newScope=0;
  if (scope.equals("individual")) {
    newScope=ResourceImpl.SCOPE_INDIVIDUAL;
  }
 else   if (scope.equals("group")) {
    newScope=ResourceImpl.SCOPE_GROUP;
  }
 else   if (scope.equals("groupTemplate")) {
    newScope=ResourceImpl.SCOPE_GROUP_TEMPLATE;
  }
 else   if (scope.equals("company")) {
    newScope=ResourceImpl.SCOPE_COMPANY;
  }
 else {
    throw new UpgradeException("Scope " + scope + " is invalid");
  }
  ResourceCode resourceCode=ResourceCodeLocalServiceUtil.getResourceCode(companyIdObj.longValue(),name,newScope);
  return new Long(resourceCode.getCodeId());
}
