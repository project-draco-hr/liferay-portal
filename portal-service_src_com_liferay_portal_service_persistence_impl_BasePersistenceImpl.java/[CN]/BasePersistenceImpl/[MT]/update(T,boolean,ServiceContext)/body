{
  ServiceContext previousServiceContext=ServiceContextThreadLocal.getServiceContext();
  try {
    ServiceContextThreadLocal.setServiceContext(serviceContext);
    update(model,merge);
    return model;
  }
  finally {
    ServiceContextThreadLocal.setServiceContext(previousServiceContext);
  }
}
