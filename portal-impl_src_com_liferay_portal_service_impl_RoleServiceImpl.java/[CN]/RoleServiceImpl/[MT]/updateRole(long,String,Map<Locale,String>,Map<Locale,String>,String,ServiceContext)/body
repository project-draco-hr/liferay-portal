{
  RolePermissionUtil.check(getPermissionChecker(),roleId,ActionKeys.UPDATE);
  Role oldRole=rolePersistence.findByPrimaryKey(roleId);
  ExpandoBridge oldExpandoBridge=oldRole.getExpandoBridge();
  Map<String,Serializable> oldExpandoAttributes=oldExpandoBridge.getAttributes();
  Role role=roleLocalService.updateRole(roleId,name,titleMap,descriptionMap,subtype,serviceContext);
  if (role.getType() == RoleConstants.TYPE_ORGANIZATION) {
    OrganizationMembershipPolicyUtil.verifyPolicy(role,oldRole,oldExpandoAttributes);
  }
 else   if (role.getType() == RoleConstants.TYPE_SITE) {
    SiteMembershipPolicyUtil.verifyPolicy(role,oldRole,oldExpandoAttributes);
  }
 else {
    RoleMembershipPolicyUtil.verifyPolicy(role,oldRole,oldExpandoAttributes);
  }
  return role;
}
