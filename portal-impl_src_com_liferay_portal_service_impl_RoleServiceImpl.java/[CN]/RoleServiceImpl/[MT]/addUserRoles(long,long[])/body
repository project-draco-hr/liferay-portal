{
  checkUserRolesPermission(userId,roleIds);
  RoleMembershipPolicyUtil.checkRoles(new long[]{userId},roleIds,null);
  roleLocalService.addUserRoles(userId,roleIds);
  RoleMembershipPolicyUtil.propagateRoles(new long[]{userId},roleIds,null);
}
