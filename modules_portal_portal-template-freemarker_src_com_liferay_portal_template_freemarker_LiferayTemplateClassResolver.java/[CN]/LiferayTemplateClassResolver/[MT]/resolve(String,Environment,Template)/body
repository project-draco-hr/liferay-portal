{
  if (className.equals(ObjectConstructor.class.getName()) || className.equals(Execute.class.getName())) {
    throw new TemplateException("Instantiating " + className + " is not allowed in the "+ "template for security reasons",environment);
  }
  for (  String restrictedClassName : _freemarkerEngineConfiguration.restrictedClasses()) {
    if (className.equals(restrictedClassName)) {
      throw new TemplateException("Instantiating " + className + " is not allowed in the "+ "template for security reasons",environment);
    }
  }
  for (  String restrictedPackageName : _freemarkerEngineConfiguration.restrictedPackages()) {
    if (className.startsWith(restrictedPackageName)) {
      throw new TemplateException("Instantiating " + className + " is not allowed in the "+ "template for security reasons",environment);
    }
  }
  try {
    return Class.forName(className,true,ClassLoaderUtil.getContextClassLoader());
  }
 catch (  Exception e) {
    throw new TemplateException(e,environment);
  }
}
