{
  TableMapping<?,?> tableMapping=tableMappings.get(mappingTableName);
  if (tableMapping == null) {
    TableMappingImpl<L,R> tableMappingImpl=new TableMappingImpl<L,R>(mappingTableName,leftColumnName,rightColumnName,leftPersistence,rightPersistence);
    tableMappingImpl.setReverseTableMapping(new ReverseTableMapping<R,L>(tableMappingImpl));
    tableMapping=tableMappingImpl;
    tableMappings.put(mappingTableName,tableMapping);
  }
 else   if (!tableMapping.matches(leftColumnName,rightColumnName)) {
    tableMapping=tableMapping.getReverseTableMapping();
  }
  return (TableMapping<L,R>)tableMapping;
}
