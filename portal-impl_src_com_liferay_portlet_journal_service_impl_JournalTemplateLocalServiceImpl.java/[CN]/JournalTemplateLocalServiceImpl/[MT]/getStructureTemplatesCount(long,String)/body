{
  JournalTemplate journalTemplate=new JournalTemplateImpl();
  journalTemplate.setGroupId(groupId);
  journalTemplate.setStructureId(structureId);
  JournalMirageTemplate journalMirageTemplate=new JournalMirageTemplate(journalTemplate);
  OptionalJournalTemplateCriteria criteria=new OptionalJournalTemplateCriteria(OptionalJournalTemplateCriteria.COUNT_BY_GROUP_AND_STRUCTURE);
  ContentTypeService contentTypeService=MirageServiceFactory.getContentTypeService();
  int count=-1;
  try {
    count=contentTypeService.getTemplatesCount(null,journalMirageTemplate,criteria);
  }
 catch (  CMSException cmse) {
    _throwSystemException(cmse);
  }
  return count;
}
