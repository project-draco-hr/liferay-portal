{
  JournalTemplate journalTemplate=new JournalTemplateImpl();
  journalTemplate.setGroupId(groupId);
  journalTemplate.setStructureId(structureId);
  MirageTemplate mirageTemplate=new MirageTemplate(journalTemplate);
  MirageTemplateCriteria criteria=new MirageTemplateCriteria(MirageTemplateCriteria.COUNT_BY_G_S);
  ContentTypeService contentTypeService=MirageServiceFactory.getContentTypeService();
  int count=-1;
  try {
    count=contentTypeService.getTemplatesCount(null,mirageTemplate,criteria);
  }
 catch (  CMSException cmse) {
    throw (SystemException)cmse.getCause();
  }
  return count;
}
