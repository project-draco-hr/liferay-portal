{
  long[] groupIds=new long[]{groupId};
  if (includeAncestorTemplates) {
    groupIds=PortalUtil.getCurrentAndAncestorSiteGroupIds(groupId);
  }
  JournalStructure structure=journalStructureLocalService.getStructure(groupId,structureId,true);
  List<DDMTemplate> ddmTemplates=ddmTemplateLocalService.getTemplatesByClassPK(groupIds,structure.getPrimaryKey());
  return JournalUtil.toJournalTemplates(ddmTemplates);
}
