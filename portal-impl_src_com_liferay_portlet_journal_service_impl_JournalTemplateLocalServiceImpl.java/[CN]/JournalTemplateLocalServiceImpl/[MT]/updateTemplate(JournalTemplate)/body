{
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  String uuid=getUuid(template);
  serviceContext.setUuid(uuid);
  if (template.isNew()) {
    return addTemplate(template.getUserId(),template.getGroupId(),template.getTemplateId(),false,template.getStructureId(),template.getNameMap(),template.getDescriptionMap(),template.getXsl(),true,template.getLangType(),template.isCacheable(),template.isSmallImage(),template.getSmallImageURL(),template.getSmallImageFile(),serviceContext);
  }
  return updateTemplate(template.getGroupId(),template.getTemplateId(),template.getStructureId(),template.getNameMap(),template.getDescriptionMap(),template.getXsl(),true,template.getLangType(),template.isCacheable(),template.isSmallImage(),template.getSmallImageURL(),template.getSmallImageFile(),serviceContext);
}
