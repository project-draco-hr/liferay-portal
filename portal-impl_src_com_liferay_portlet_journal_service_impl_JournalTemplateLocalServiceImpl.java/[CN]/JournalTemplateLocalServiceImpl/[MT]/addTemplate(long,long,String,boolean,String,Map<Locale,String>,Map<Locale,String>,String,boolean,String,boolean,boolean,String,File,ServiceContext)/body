{
  long classPK=0;
  if (Validator.isNotNull(structureId)) {
    JournalStructure structure=journalStructureLocalService.getStructure(groupId,structureId,true);
    classPK=structure.getPrimaryKey();
  }
  DDMTemplate ddmTemplate=ddmTemplateLocalService.addTemplate(userId,groupId,classNameLocalService.getClassNameId(DDMStructure.class),classPK,templateId,nameMap,descriptionMap,DDMTemplateConstants.TEMPLATE_TYPE_DISPLAY,DDMTemplateConstants.TEMPLATE_MODE_CREATE,langType,xsl,cacheable,smallImage,smallImageURL,smallImageFile,serviceContext);
  return new JournalTemplateAdapter(ddmTemplate);
}
