{
  SmartCriteria criteria=new SmartCriteria();
  criteria.add(MirageTemplateCriteria.QUERY,MirageTemplateCriteria.FIND_BY_KEYWORDS);
  criteria.add(MirageTemplateCriteria.COMPANY_ID,companyId);
  criteria.add(MirageTemplateCriteria.GROUP_ID,groupId);
  criteria.add(MirageTemplateCriteria.KEYWORDS,keywords);
  criteria.add(MirageTemplateCriteria.STRUCTURE_ID,structureId);
  criteria.add(MirageTemplateCriteria.STRUCTURE_ID_COMPARATOR,structureIdComparator);
  criteria.add(MirageTemplateCriteria.RANGE_START,start);
  criteria.add(MirageTemplateCriteria.RANGE_END,end);
  criteria.setOrderByComparator(obc);
  ContentTypeService contentTypeService=MirageServiceFactory.getContentTypeService();
  List<Template> templates=null;
  try {
    templates=contentTypeService.searchTemplates(criteria.getCriteria());
  }
 catch (  CMSException cmse) {
    throw (SystemException)cmse.getCause();
  }
  return getTemplates(templates);
}
