{
  Layout layout=(Layout)req.getAttribute(WebKeys.LAYOUT);
  long frameworkVersionId=ParamUtil.getLong(req,"frameworkVersionId");
  String name=ParamUtil.getString(req,"name");
  String url=ParamUtil.getString(req,"url");
  boolean active=ParamUtil.getBoolean(req,"active");
  int priority=ParamUtil.getInteger(req,"priority");
  String[] communityPermissions=req.getParameterValues("communityPermissions");
  String[] guestPermissions=req.getParameterValues("guestPermissions");
  if (frameworkVersionId <= 0) {
    SRFrameworkVersionServiceUtil.addFrameworkVersion(layout.getPlid(),name,url,active,priority,communityPermissions,guestPermissions);
  }
 else {
    SRFrameworkVersionServiceUtil.updateFrameworkVersion(frameworkVersionId,name,url,active,priority);
  }
}
