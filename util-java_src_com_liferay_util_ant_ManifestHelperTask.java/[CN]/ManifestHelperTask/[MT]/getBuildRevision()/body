{
  Project project=getProject();
  File projectDir=new File(project.getBaseDir(),project.getProperty(_projectDirPropertyName));
  File gitDir=new File(projectDir,".git");
  if (gitDir.exists()) {
    if (OSDetector.isWindows()) {
      return execute("cmd /c git rev-parse HEAD");
    }
 else {
      return execute("git rev-parse HEAD");
    }
  }
  File svnDir=new File(projectDir,".svn");
  if (svnDir.exists()) {
    if (OSDetector.isWindows()) {
      return execute("cmd /c svnversion .");
    }
 else {
      return execute("svnversion .");
    }
  }
  return StringPool.BLANK;
}
