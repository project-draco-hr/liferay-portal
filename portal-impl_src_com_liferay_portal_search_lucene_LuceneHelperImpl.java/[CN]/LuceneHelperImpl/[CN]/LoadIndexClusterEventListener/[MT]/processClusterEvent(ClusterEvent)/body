{
  ClusterEventType clusterEventType=clusterEvent.getClusterEventType();
  if (!clusterEventType.equals(ClusterEventType.JOIN)) {
    return;
  }
  List<ClusterNode> currentClusterNodes=ClusterExecutorUtil.getClusterNodes();
  List<ClusterNode> clusterNodes=clusterEvent.getClusterNodes();
  if ((currentClusterNodes.size() - clusterNodes.size()) > 1) {
    if (_log.isDebugEnabled()) {
      _log.debug("Number of original cluster members is greater than " + "one");
    }
    return;
  }
  long[] companyIds=PortalInstances.getCompanyIds();
  for (  long companyId : companyIds) {
    loadIndexes(companyId);
  }
  loadIndexes(CompanyConstants.SYSTEM);
}
