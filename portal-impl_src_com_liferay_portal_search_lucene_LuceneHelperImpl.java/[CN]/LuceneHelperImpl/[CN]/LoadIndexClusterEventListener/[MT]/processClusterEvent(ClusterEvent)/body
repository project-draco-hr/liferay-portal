{
  ClusterEventType clusterEventType=clusterEvent.getClusterEventType();
  if (!clusterEventType.equals(ClusterEventType.JOIN)) {
    return;
  }
  int currentMembers=ClusterExecutorUtil.getClusterNodeAddresses().size();
  int joinMembers=clusterEvent.getClusterNodes().size();
  int initMembers=currentMembers - joinMembers;
  if (initMembers > 1) {
    if (_log.isDebugEnabled()) {
      _log.debug("Original number of cluster member is bigger than one");
    }
    return;
  }
  long[] companyIds=PortalInstances.getCompanyIds();
  for (  long companyId : companyIds) {
    loadIndexes(companyId);
  }
  loadIndexes(CompanyConstants.SYSTEM);
}
