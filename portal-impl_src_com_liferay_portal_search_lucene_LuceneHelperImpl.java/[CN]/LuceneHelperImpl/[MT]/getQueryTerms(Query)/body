{
  String queryString=StringUtil.replace(query.toString(),StringPool.STAR,StringPool.BLANK);
  try {
    QueryParser queryParser=new QueryParser(_version,Field.CONTENT,getAnalyzer());
    query=queryParser.parse(queryString);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  WeightedTerm[] weightedTerms=null;
  for (  String fieldName : Field.KEYWORDS) {
    weightedTerms=QueryTermExtractor.getTerms(query,false,fieldName);
    if (weightedTerms.length > 0) {
      break;
    }
  }
  Set<String> queryTerms=new HashSet<String>();
  for (  WeightedTerm weightedTerm : weightedTerms) {
    queryTerms.add(weightedTerm.getTerm());
  }
  return queryTerms.toArray(new String[queryTerms.size()]);
}
