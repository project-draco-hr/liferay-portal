{
  IndexAccessor indexAccessor=_indexAccessors.get(companyId);
  if (indexAccessor != null) {
    return indexAccessor;
  }
synchronized (this) {
    indexAccessor=_indexAccessors.get(companyId);
    if (indexAccessor == null) {
      indexAccessor=new IndexAccessorImpl(companyId);
      if (isLoadIndexFromClusterEnabled()) {
        indexAccessor=new SynchronizedIndexAccessorImpl(indexAccessor);
      }
      if (isLoadIndexFromClusterEnabled()) {
        try {
          _loadIndexFromCluster(indexAccessor,IndexAccessor.DEFAULT_LAST_GENERATION);
        }
 catch (        Exception e) {
          _log.error("Unable to load index for company " + indexAccessor.getCompanyId(),e);
        }
        indexAccessor.enableDumpIndex();
      }
      _indexAccessors.put(companyId,indexAccessor);
    }
  }
  return indexAccessor;
}
