{
  if (!PropsValues.INDEX_ON_STARTUP) {
    return;
  }
  if (_log.isInfoEnabled()) {
    _log.info("Indexing Lucene on startup");
  }
  SearchEngineInitializer searchEngineInitializer=new SearchEngineInitializer(companyId);
  if (PropsValues.INDEX_WITH_THREAD) {
    if (_luceneIndexThreadPoolExecutor == null) {
      _luceneIndexThreadPoolExecutor=PortalExecutorManagerUtil.getPortalExecutor(LuceneHelperImpl.class.getName());
    }
    _luceneIndexThreadPoolExecutor.execute(searchEngineInitializer);
  }
 else {
    searchEngineInitializer.reindex();
  }
}
