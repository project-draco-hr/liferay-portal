{
  if (PropsValues.INDEX_ON_STARTUP) {
    if (_log.isInfoEnabled()) {
      _log.info("Indexing Lucene on startup");
    }
    LuceneIndexer luceneIndexer=new LuceneIndexer(companyId);
    if (PropsValues.INDEX_WITH_THREAD) {
      if (_luceneIndexThreadPoolExecutor == null) {
        _luceneIndexThreadPoolExecutor=PortalExecutorManagerUtil.getPortalExecutor(LuceneHelperImpl.class.getName());
      }
      _luceneIndexThreadPoolExecutor.execute(luceneIndexer);
    }
 else {
      luceneIndexer.reindex();
    }
  }
}
