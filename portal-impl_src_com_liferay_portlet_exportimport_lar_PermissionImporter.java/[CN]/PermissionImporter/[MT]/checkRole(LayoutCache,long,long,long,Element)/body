{
  String name=roleElement.attributeValue("name");
  Role role=null;
  if (name.startsWith(PermissionExporter.ROLE_TEAM_PREFIX)) {
    name=name.substring(PermissionExporter.ROLE_TEAM_PREFIX.length());
    String description=roleElement.attributeValue("description");
    Team team=null;
    try {
      team=TeamLocalServiceUtil.getTeam(groupId,name);
    }
 catch (    NoSuchTeamException nste) {
      team=TeamLocalServiceUtil.addTeam(userId,groupId,name,description);
    }
    role=RoleLocalServiceUtil.getTeamRole(companyId,team.getTeamId());
    return role;
  }
  String uuid=roleElement.attributeValue("uuid");
  role=layoutCache.getRoleByUuid(companyId,uuid);
  if (role == null) {
    role=layoutCache.getRoleByName(companyId,name);
  }
  if (role != null) {
    return role;
  }
  String title=roleElement.attributeValue("title");
  Map<Locale,String> titleMap=LocalizationUtil.getLocalizationMap(title);
  String description=roleElement.attributeValue("description");
  Map<Locale,String> descriptionMap=LocalizationUtil.getLocalizationMap(description);
  int type=GetterUtil.getInteger(roleElement.attributeValue("type"));
  String subtype=roleElement.attributeValue("subtype");
  role=RoleLocalServiceUtil.addRole(userId,null,0,name,titleMap,descriptionMap,type,subtype,null);
  role.setUuid(uuid);
  return role;
}
