{
  List<Portlet> portlets=portletLocalService.getPortlets(group.getCompanyId());
  for (  Portlet portlet : portlets) {
    if (!portlet.isActive()) {
      continue;
    }
    PortletDataHandler portletDataHandler=portlet.getPortletDataHandlerInstance();
    if ((portletDataHandler == null) || portletDataHandler.isDataPortalLevel()) {
      continue;
    }
    PortletDataContext portletDataContext=PortletDataContextFactoryUtil.createExportPortletDataContext(group.getCompanyId(),group.getGroupId(),(Map<String,String[]>)null,(Date)null,(Date)null,(ZipWriter)null);
    boolean rollbackCreationIfExceptionOccursAddingDefaultData=true;
    try {
      portletDataHandler.addDefaultData(portletDataContext,portlet.getPortletId(),null);
    }
 catch (    PortletDataHandler e) {
      _log.error("Unable to add default data for portlet " + portlet.getPortletId() + " in group "+ group.getGroupId());
      if (rollbackCreationIfExceptionOccursAddingDefaultData) {
        throw new PortalException(e);
      }
    }
  }
}
