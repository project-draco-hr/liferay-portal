{
  Group group=groupPersistence.findByPrimaryKey(groupId);
  if (group.isUser()) {
    User user=userPersistence.findByPrimaryKey(group.getClassPK());
    friendlyURL=StringPool.SLASH + user.getScreenName();
    if (group.getFriendlyURL().equals(friendlyURL)) {
      return group;
    }
  }
  friendlyURL=getFriendlyURL(groupId,group.getClassPK(),friendlyURL);
  validateFriendlyURL(group.getGroupId(),group.getCompanyId(),group.getClassNameId(),group.getClassPK(),friendlyURL);
  group.setFriendlyURL(friendlyURL);
  groupPersistence.update(group);
  return group;
}
