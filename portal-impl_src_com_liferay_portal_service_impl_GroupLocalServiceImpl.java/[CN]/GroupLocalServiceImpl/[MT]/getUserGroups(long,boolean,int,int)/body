{
  if (inherit) {
    User user=userPersistence.findByPrimaryKey(userId);
    LinkedHashMap<String,Object> groupParams=new LinkedHashMap<String,Object>();
    groupParams.put("usersGroups",new Long(userId));
    return search(user.getCompanyId(),null,null,groupParams,start,end);
  }
 else {
    return userPersistence.getGroups(userId,start,end);
  }
}
