{
  Locale[] availableLocales=LanguageUtil.getAvailableLocales();
  String[] availableLanguageIds=LocaleUtil.toLanguageIds(availableLocales);
  String[] languageIdsArray=StringUtil.split(languageIds);
  for (  String languageId : languageIdsArray) {
    if (!ArrayUtil.contains(availableLanguageIds,languageId)) {
      LocaleException le=new LocaleException(LocaleException.TYPE_DISPLAY_SETTINGS);
      le.setSourceAvailableLocales(availableLocales);
      le.setTargetAvailableLocales(LocaleUtil.fromLanguageIds(languageIdsArray));
      throw le;
    }
  }
  if (!ArrayUtil.contains(languageIdsArray,defaultLanguageId)) {
    LocaleException le=new LocaleException(LocaleException.TYPE_DEFAULT);
    le.setSourceAvailableLocales(availableLocales);
    le.setTargetAvailableLocales(LocaleUtil.fromLanguageIds(languageIdsArray));
    throw le;
  }
}
