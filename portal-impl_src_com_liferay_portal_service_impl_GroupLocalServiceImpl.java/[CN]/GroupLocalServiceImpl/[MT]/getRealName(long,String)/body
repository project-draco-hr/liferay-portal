{
  if (Validator.isNull(name)) {
    return name;
  }
  String realName=name;
  try {
    Company company=companyLocalService.getCompany(companyId);
    Account account=company.getAccount();
    String companyName=account.getName();
    name=StringUtil.replace(name,StringPool.PERCENT,StringPool.BLANK);
    if (StringUtil.matchesIgnoreCase(companyName,name)) {
      realName=StringPool.PERCENT + GroupConstants.GUEST.toLowerCase() + StringPool.PERCENT;
    }
  }
 catch (  PortalException pe) {
  }
  return realName;
}
