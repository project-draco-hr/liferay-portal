{
  if (parentGroupId == GroupConstants.DEFAULT_PARENT_GROUP_ID) {
    return;
  }
  if (groupId == parentGroupId) {
    throw new GroupParentException(GroupParentException.SELF_DESCENDANT);
  }
  Group group=groupLocalService.fetchGroup(groupId);
  if (group == null) {
    return;
  }
  Group parentGroup=groupLocalService.fetchGroup(parentGroupId);
  if (parentGroup == null) {
    throw new GroupParentException("Site " + parentGroupId + " doesn't exist");
  }
  if (group.isStagingGroup()) {
    Group stagingGroup=parentGroup.getStagingGroup();
    if (groupId == stagingGroup.getGroupId()) {
      throw new GroupParentException(GroupParentException.STAGING_DESCENDANT);
    }
  }
}
