{
  if (parentGroupId == GroupConstants.DEFAULT_PARENT_GROUP_ID) {
    return;
  }
  if (groupId == parentGroupId) {
    throw new GroupParentException(GroupParentException.SELF_DESCENDANT);
  }
  Group group=groupPersistence.fetchByPrimaryKey(groupId);
  if (group == null) {
    return;
  }
  if ((groupId > 0) && (parentGroupId != GroupConstants.DEFAULT_PARENT_GROUP_ID)) {
    if (isParentGroup(groupId,parentGroupId)) {
      throw new GroupParentException(GroupParentException.CHILD_DESCENDANT);
    }
  }
  Group parentGroup=groupPersistence.findByPrimaryKey(parentGroupId);
  if (group.isStagingGroup()) {
    Group stagingGroup=parentGroup.getStagingGroup();
    if (groupId == stagingGroup.getGroupId()) {
      throw new GroupParentException(GroupParentException.STAGING_DESCENDANT);
    }
  }
}
