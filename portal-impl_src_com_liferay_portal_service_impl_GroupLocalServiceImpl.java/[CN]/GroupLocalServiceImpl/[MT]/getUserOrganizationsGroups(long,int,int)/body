{
  List<Group> userOrgsGroups=new UniqueList<Group>();
  List<Organization> userOrgs=organizationLocalService.getUserOrganizations(userId,start,end);
  for (  Organization organization : userOrgs) {
    userOrgsGroups.add(0,organization.getGroup());
    if (!PropsValues.ORGANIZATIONS_MEMBERSHIP_STRICT) {
      for (      Organization ancestorOrganization : organization.getAncestors()) {
        userOrgsGroups.add(0,ancestorOrganization.getGroup());
      }
    }
  }
  return userOrgsGroups;
}
