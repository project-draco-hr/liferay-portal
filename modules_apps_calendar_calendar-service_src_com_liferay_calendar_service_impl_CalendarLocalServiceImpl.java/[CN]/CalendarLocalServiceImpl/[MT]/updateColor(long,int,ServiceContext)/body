{
  if (color <= 0) {
    color=PortletPropsValues.CALENDAR_COLOR_DEFAULT;
  }
  Calendar calendar=calendarPersistence.findByPrimaryKey(calendarId);
  calendar.setModifiedDate(serviceContext.getModifiedDate(null));
  calendar.setColor(color);
  calendarPersistence.update(calendar);
  return calendar;
}
