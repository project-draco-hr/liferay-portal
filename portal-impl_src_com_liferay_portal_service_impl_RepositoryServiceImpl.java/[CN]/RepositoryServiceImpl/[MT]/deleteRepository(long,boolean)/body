{
  if (purge) {
    LocalRepository localRepositoryImpl=getLocalRepositoryImpl(repositoryId);
    localRepositoryImpl.deleteAll();
  }
  Repository repository=repositoryPersistence.fetchByPrimaryKey(repositoryId);
  if (repository != null) {
    expandoValueLocalService.deleteValues(Repository.class.getName(),repositoryId);
    try {
      dlRepositoryLocalService.deleteFolder(repository.getDlFolderId());
    }
 catch (    NoSuchFolderException nsfe) {
    }
    repositoryPersistence.remove(repository);
  }
}
