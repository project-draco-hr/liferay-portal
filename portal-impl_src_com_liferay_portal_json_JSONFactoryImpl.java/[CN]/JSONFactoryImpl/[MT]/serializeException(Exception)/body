{
  String exceptionMessage=null;
  if (exception instanceof InvocationTargetException) {
    exceptionMessage=exception.getCause().toString();
  }
 else {
    exceptionMessage=exception.getMessage();
  }
  if (exceptionMessage == null) {
    exceptionMessage=exception.toString();
  }
  JSONObject jsonObject=createJSONObject();
  jsonObject.put("exception",exceptionMessage);
  return jsonObject.toString();
}
