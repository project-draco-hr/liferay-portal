{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId(),TestPropsValues.getUserId());
  MBMessage message=MBMessageLocalServiceUtil.addMessage(TestPropsValues.getUserId(),RandomTestUtil.randomString(),group.getGroupId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,RandomTestUtil.randomString(),RandomTestUtil.randomString(),serviceContext);
  MBThread thread=message.getThread();
  String messageUuid=message.getUuid();
  exportImportPortlet(getPortletId());
  MBThreadLocalServiceUtil.deleteThread(thread);
  exportImportPortlet(getPortletId());
  MBMessage importedMessage=MBMessageLocalServiceUtil.fetchMBMessageByUuidAndGroupId(messageUuid,importedGroup.getGroupId());
  Assert.assertNotNull(importedMessage);
  Map<String,String[]> exportParameterMap=new LinkedHashMap<>();
  exportParameterMap.put(PortletDataHandlerKeys.DELETIONS,new String[]{String.valueOf(true)});
  Map<String,String[]> importParameterMap=new LinkedHashMap<>();
  importParameterMap.put(PortletDataHandlerKeys.DELETIONS,new String[]{String.valueOf(true)});
  exportImportPortlet(getPortletId(),exportParameterMap,importParameterMap);
  importedMessage=MBMessageLocalServiceUtil.fetchMBMessageByUuidAndGroupId(messageUuid,importedGroup.getGroupId());
  Assert.assertNull(importedMessage);
}
