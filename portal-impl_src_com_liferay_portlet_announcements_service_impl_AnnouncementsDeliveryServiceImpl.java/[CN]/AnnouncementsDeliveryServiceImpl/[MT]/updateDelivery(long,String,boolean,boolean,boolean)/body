{
  if (!PortalPermissionUtil.contains(getPermissionChecker(),ActionKeys.ADD_USER) && !UserPermissionUtil.contains(getPermissionChecker(),userId,ActionKeys.UPDATE)) {
    throw new PrincipalException.MustHavePermission(getPermissionChecker().getUserId(),ActionKeys.ADD_USER,ActionKeys.UPDATE);
  }
  return announcementsDeliveryLocalService.updateDelivery(userId,type,email,sms,website);
}
