{
  File file=new File(commands.hashCode() + ".sh");
  StringBuffer sb=new StringBuffer("ssh ");
  sb.append(targetSlave);
  sb.append(" '");
  for (int i=0; i < commands.size(); i++) {
    sb.append(commands.get(i));
    if (i < (commands.size() - 1)) {
      sb.append(" && ");
    }
  }
  sb.append("'\n");
  try {
    try (FileWriter fileWriter=new FileWriter(file)){
      fileWriter.write(sb.toString());
    }
     file.setExecutable(true);
    return file;
  }
 catch (  IOException ioe) {
    if ((file != null) && file.exists()) {
      file.delete();
    }
    throw ioe;
  }
}
