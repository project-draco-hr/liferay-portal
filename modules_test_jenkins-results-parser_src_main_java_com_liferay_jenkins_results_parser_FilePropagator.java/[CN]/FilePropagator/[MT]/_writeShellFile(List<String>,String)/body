{
  String fileName=Integer.toString(commands.hashCode());
  File shellFile=new File(fileName + ".sh");
  StringBuffer sb=new StringBuffer("ssh ");
  sb.append(targetSlave);
  sb.append(" '");
  for (  String command : commands) {
    sb.append(command);
    if (commands.indexOf(command) < (commands.size() - 1)) {
      sb.append("; ");
    }
  }
  sb.append("'\n");
  try {
    try (FileWriter shellFileWriter=new FileWriter(shellFile)){
      shellFileWriter.write(sb.toString());
    }
     shellFile.setExecutable(true);
    return shellFile;
  }
 catch (  IOException ioe) {
    if ((shellFile != null) && shellFile.exists()) {
      shellFile.delete();
    }
    throw ioe;
  }
}
