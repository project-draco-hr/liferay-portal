{
  List<String> commands=new ArrayList<>();
  String targetSlave=null;
  for (  FilePropagatorTask filePropagatorTask : _filePropagatorTasks) {
    targetSlave=_targetSlaves.get(0);
    String sourceFileName=filePropagatorTask._sourceFileName;
    System.out.println("Copying from source " + sourceFileName);
    String targetFileName=filePropagatorTask._targetFileName;
    commands.add(_getMkdirCommand(targetFileName));
    if (sourceFileName.startsWith("http")) {
      commands.add("curl -o " + targetFileName + " "+ sourceFileName);
    }
 else {
      commands.add("rsync -vI " + sourceFileName + " "+ targetFileName);
    }
    String targetDirName=targetFileName.substring(0,targetFileName.lastIndexOf("/"));
    commands.add("ls -al " + targetDirName);
  }
  try {
    if (_executeBashCommands(commands,targetSlave) != 0) {
      _errorSlaves.add(targetSlave);
      _targetSlaves.remove(targetSlave);
      _copyFromSource();
      targetSlave=null;
    }
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to copy from source. Executed: " + commands,e);
  }
  if (targetSlave != null) {
    _mirrorSlaves.add(targetSlave);
    _targetSlaves.remove(targetSlave);
  }
  System.out.println("Finished copying from source.");
}
