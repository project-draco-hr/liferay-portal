{
  if (registrationReference == null) {
    throw new NullPointerException("Registration reference is null");
  }
  if (!registrationReference.isValid()) {
    throw new IllegalArgumentException("Registration reference is invalid");
  }
  if (datagram == null) {
    throw new NullPointerException("Datagram is null");
  }
  if (timeUnit == null) {
    throw new NullPointerException("Time unit is null");
  }
  if (timeout <= 0) {
    timeout=defaultTimeout;
  }
 else {
    timeout=timeUnit.toMillis(timeout);
  }
  ensureOpen();
  return doSendSyncDatagram(registrationReference,datagram,timeout);
}
