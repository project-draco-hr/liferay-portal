{
  long sequenceId=sequenceIdGenerator.incrementAndGet();
  if (sequenceId <= 0) {
    while (true) {
      if (sequenceIdGenerator.compareAndSet(sequenceId,1)) {
        return 1;
      }
      sequenceId=sequenceIdGenerator.incrementAndGet();
      if (sequenceId > 0) {
        return sequenceId;
      }
    }
  }
  return sequenceId;
}
