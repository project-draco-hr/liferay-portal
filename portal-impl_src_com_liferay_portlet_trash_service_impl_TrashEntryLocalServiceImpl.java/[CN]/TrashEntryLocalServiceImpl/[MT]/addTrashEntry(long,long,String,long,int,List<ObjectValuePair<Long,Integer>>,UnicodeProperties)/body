{
  long classNameId=PortalUtil.getClassNameId(className);
  long entryId=counterLocalService.increment();
  TrashEntry trashEntry=trashEntryPersistence.create(entryId);
  trashEntry.setGroupId(groupId);
  trashEntry.setCompanyId(companyId);
  trashEntry.setCreateDate(new Date());
  trashEntry.setClassNameId(classNameId);
  trashEntry.setClassPK(classPK);
  if (typeSettingsProperties != null) {
    trashEntry.setTypeSettingsProperties(typeSettingsProperties);
  }
  trashEntry.setStatus(status);
  trashEntryPersistence.update(trashEntry,false);
  if (versions != null) {
    for (    ObjectValuePair<Long,Integer> version : versions) {
      long versionClassPK=version.getKey();
      int versionStatus=version.getValue();
      long versionId=counterLocalService.increment();
      TrashVersion trashVersion=trashVersionPersistence.create(versionId);
      trashVersion.setEntryId(entryId);
      trashVersion.setClassNameId(classNameId);
      trashVersion.setClassPK(versionClassPK);
      trashVersion.setStatus(versionStatus);
      trashVersionPersistence.update(trashVersion,false);
    }
  }
  return trashEntry;
}
