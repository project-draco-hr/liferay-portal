{
  boolean ascii=true;
  nsDetector detector=new nsDetector(nsPSMDetector.ALL);
  UnsyncBufferedInputStream unsyncByteArrayInputStream=new UnsyncBufferedInputStream(new FileInputStream(file));
  byte[] buffer=new byte[1024];
  int len=0;
  while ((len=unsyncByteArrayInputStream.read(buffer,0,buffer.length)) != -1) {
    if (ascii) {
      ascii=detector.isAscii(buffer,len);
      if (!ascii) {
        break;
      }
    }
  }
  detector.DataEnd();
  unsyncByteArrayInputStream.close();
  return ascii;
}
