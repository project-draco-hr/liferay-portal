{
  boolean ascii=true;
  nsDetector detector=new nsDetector(nsPSMDetector.ALL);
  FileInputStream fileInputStream=new FileInputStream(file);
  byte[] buffer=new byte[1024];
  int len=0;
  while ((len=fileInputStream.read(buffer,0,buffer.length)) != -1) {
    if (ascii) {
      ascii=detector.isAscii(buffer,len);
      if (!ascii) {
        break;
      }
    }
  }
  detector.DataEnd();
  fileInputStream.close();
  return ascii;
}
