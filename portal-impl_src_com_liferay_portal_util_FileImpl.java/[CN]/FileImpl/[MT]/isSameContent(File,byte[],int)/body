{
  FileChannel fileChannel=null;
  try {
    FileInputStream fileInputStream=new FileInputStream(file);
    fileChannel=fileInputStream.getChannel();
    if (fileChannel.size() != length) {
      return false;
    }
    byte[] readBuffer=new byte[1024];
    ByteBuffer byteBuffer=ByteBuffer.wrap(readBuffer);
    int index=0;
    int len=-1;
    while (((len=fileChannel.read(byteBuffer)) > 0) && (index < length)) {
      for (int i=0; i < len; i++) {
        if (readBuffer[i] != content[index++]) {
          return false;
        }
      }
      byteBuffer.clear();
    }
    if ((index != length) || (len != -1)) {
      return false;
    }
 else {
      return true;
    }
  }
 catch (  Exception e) {
    return false;
  }
 finally {
    if (fileChannel != null) {
      try {
        fileChannel.close();
      }
 catch (      IOException ex) {
      }
    }
  }
}
