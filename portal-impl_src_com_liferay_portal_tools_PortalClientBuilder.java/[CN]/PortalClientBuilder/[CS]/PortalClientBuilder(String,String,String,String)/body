{
  try {
    Document document=SAXReaderUtil.read(new File(fileName));
    Element rootElement=document.getRootElement();
    Iterator<Element> itr=rootElement.elements("service").iterator();
    while (itr.hasNext()) {
      Element serviceElement=itr.next();
      String serviceName=serviceElement.attributeValue("name");
      if (serviceName.startsWith("Plugin_") && !FileUtil.exists(mappingFile)) {
        _writePluginMappingFile(mappingFile,serviceElement,serviceName);
      }
      if (serviceName.startsWith("Plugin_") || serviceName.startsWith("Portal_") || serviceName.startsWith("Portlet_")) {
        Wsdl2JavaTask.generateJava(url + "/" + serviceName+ "?wsdl",outputDir,mappingFile);
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  File testNamespace=new File(outputDir + "/com/liferay/portal");
  if (testNamespace.exists()) {
    throw new RuntimeException("Please update " + mappingFile + " to namespace "+ "com.liferay.portal to com.liferay.client.soap.portal");
  }
}
