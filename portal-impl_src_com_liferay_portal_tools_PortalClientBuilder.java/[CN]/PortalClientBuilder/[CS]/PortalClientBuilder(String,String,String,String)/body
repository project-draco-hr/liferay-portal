{
  try {
    Document doc=SAXReaderUtil.read(new File(fileName));
    Element root=doc.getRootElement();
    Iterator<Element> itr=root.elements("service").iterator();
    while (itr.hasNext()) {
      Element service=itr.next();
      String name=service.attributeValue("name");
      if (name.startsWith("Portal_") || name.startsWith("Portlet_")) {
        Wsdl2JavaTask.generateJava(url + "/" + name+ "?wsdl",outputDir,mappingFile);
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  File testNamespace=new File(outputDir + "/com/liferay/portal");
  if (testNamespace.exists()) {
    throw new RuntimeException("Please update " + mappingFile + " to namespace "+ "com.liferay.portal to com.liferay.client.soap.portal");
  }
}
