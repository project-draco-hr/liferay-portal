{
  String wsdlTargetNamespace=null;
  List<Element> parameterElements=serviceElement.elements("parameter");
  for (  Element parameterElement : parameterElements) {
    String parameterName=parameterElement.attributeValue("name");
    if (parameterName.equals("wsdlTargetNamespace")) {
      wsdlTargetNamespace=parameterElement.attributeValue("value");
      break;
    }
  }
  int pos=wsdlTargetNamespace.indexOf(".service.");
  String soapNamespace=wsdlTargetNamespace.substring(pos + 9);
  String[] soapNamespaceArray=StringUtil.split(soapNamespace,CharPool.PERIOD);
  ArrayUtil.reverse(soapNamespaceArray);
  soapNamespace=StringUtil.merge(soapNamespaceArray,StringPool.PERIOD);
  pos=soapNamespace.lastIndexOf(StringPool.PERIOD);
  soapNamespace=soapNamespace.substring(0,pos) + ".client.soap" + soapNamespace.substring(pos);
  StringBundler sb=new StringBundler(10);
  sb.append("com.liferay.client.soap.portal.kernel.util=");
  sb.append("http://util.kernel.portal.liferay.com\n");
  sb.append("com.liferay.client.soap.portal.model=");
  sb.append("http://model.portal.liferay.com\n");
  sb.append("com.liferay.client.soap.portal.service=");
  sb.append("http://service.portal.liferay.com\n");
  sb.append(soapNamespace);
  sb.append(".model=http://model.knowledgebase.liferay.com\n");
  sb.append(soapNamespace);
  sb.append(".service.http=urn:http.service.knowledgebase.liferay.com\n");
  FileUtil.write(mappingFile,sb.toString());
}
