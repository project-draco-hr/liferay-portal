{
  String path=url.getPath();
  int index=path.lastIndexOf(CharPool.SLASH);
  String servletPath=path.substring(0,index);
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest(_axisServlet.getServletContext(),"GET",path);
  mockHttpServletRequest.setPathInfo(path.substring(index));
  mockHttpServletRequest.setQueryString(url.getQuery());
  mockHttpServletRequest.setScheme(url.getProtocol());
  mockHttpServletRequest.setServerName(url.getHost());
  mockHttpServletRequest.setServerPort(url.getPort());
  mockHttpServletRequest.setServletPath(servletPath);
  MockHttpServletResponse mockHttpServletResponse=new MockHttpServletResponse();
  try {
    _axisServlet.service(mockHttpServletRequest,mockHttpServletResponse);
  }
 catch (  ServletException se) {
    throw new IOException(se);
  }
  return mockHttpServletResponse.getContentAsByteArray();
}
