{
  templateId=templateId.trim().toUpperCase();
  JournalTemplatePK pk=new JournalTemplatePK(companyId,groupId,templateId);
  if (groupId == 0) {
    _log.error("No group id was passed for " + pk + ". Group id is required "+ "since 4.2.0. Please update all custom code and data "+ "that references templates without group id.");
    List templates=JournalTemplateUtil.findByC_T(companyId,templateId);
    if (templates.size() == 0) {
      throw new NoSuchTemplateException("No JournalTemplate exists with the primary key " + pk);
    }
 else {
      return (JournalTemplate)templates.get(0);
    }
  }
 else {
    return JournalTemplateUtil.findByPrimaryKey(new JournalTemplatePK(companyId,groupId,templateId));
  }
}
