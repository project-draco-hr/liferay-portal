{
  long classPK=RandomTestUtil.randomLong();
  long classNameId=RandomTestUtil.randomLong();
  int expectedCommentsCount=RandomTestUtil.randomInt();
  Mockito.when(_mbMessageLocalService.getDiscussionMessagesCount(classNameId,classPK,WorkflowConstants.STATUS_APPROVED)).thenReturn(expectedCommentsCount);
  Mockito.when(_portal.getClassNameId(_CLASS_NAME)).thenReturn(classNameId);
  Assert.assertEquals(expectedCommentsCount,_mbCommentManagerImpl.getCommentsCount(_CLASS_NAME,classPK));
}
