{
  if (imports.contains("/*") || imports.contains("*/") || imports.contains("\n//")) {
    return imports + "\n";
  }
  Set<ImportPackage> importPackages=new TreeSet<>();
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(imports));
  String line=null;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    ImportPackage importPackage=createImportPackage(line);
    if (importPackage != null) {
      importPackages.add(importPackage);
    }
  }
  StringBundler sb=new StringBundler(3 * importPackages.size());
  ImportPackage previousImportPackage=null;
  for (  ImportPackage importPackage : importPackages) {
    if ((previousImportPackage != null) && !importPackage.isGroupedWith(previousImportPackage)) {
      sb.append("\n");
    }
    sb.append(importPackage.getLine());
    sb.append("\n");
    previousImportPackage=importPackage;
  }
  return sb.toString();
}
