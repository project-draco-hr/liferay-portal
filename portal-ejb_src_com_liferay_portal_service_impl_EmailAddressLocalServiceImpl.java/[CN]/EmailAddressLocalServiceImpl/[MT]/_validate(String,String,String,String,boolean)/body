{
  if (primary) {
    Iterator itr=EmailAddressUtil.findByC_C_C_P(companyId,className,classPK,primary).iterator();
    while (itr.hasNext()) {
      EmailAddress emailAddress=(EmailAddress)itr.next();
      if ((emailAddressId == null) || (!emailAddress.getEmailAddressId().equals(emailAddressId))) {
        emailAddress.setPrimary(false);
        EmailAddressUtil.update(emailAddress);
      }
    }
  }
}
