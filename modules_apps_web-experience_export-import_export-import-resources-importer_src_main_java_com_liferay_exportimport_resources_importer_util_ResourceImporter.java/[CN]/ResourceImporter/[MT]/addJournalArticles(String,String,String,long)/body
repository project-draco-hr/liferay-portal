{
  Set<String> resourcePaths=servletContext.getResourcePaths(_getResourcePath(dirName));
  if (resourcePaths == null) {
    return;
  }
  for (  String resourcePath : resourcePaths) {
    if (resourcePath.endsWith(StringPool.SLASH)) {
      String folderName=FileUtil.getShortFileName(StringUtil.replaceLast(resourcePath,CharPool.FORWARD_SLASH,StringPool.BLANK));
      JournalFolder subFolder=JournalFolderLocalServiceUtil.fetchFolder(groupId,folderName);
      if (subFolder == null) {
        subFolder=JournalFolderLocalServiceUtil.addFolder(userId,groupId,folderId,folderName,StringPool.BLANK,serviceContext);
      }
      addJournalArticles(ddmStructureKey,ddmTemplateKey,dirName + CharPool.FORWARD_SLASH + folderName,subFolder.getPrimaryKey());
    }
 else {
      String name=FileUtil.getShortFileName(resourcePath);
      URL url=servletContext.getResource(resourcePath);
      URLConnection urlConnection=url.openConnection();
      addJournalArticles(ddmStructureKey,ddmTemplateKey,name,folderId,urlConnection.getInputStream());
    }
  }
}
