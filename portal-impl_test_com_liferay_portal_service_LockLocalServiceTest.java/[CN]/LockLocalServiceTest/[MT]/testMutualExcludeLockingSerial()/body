{
  String className="testClassName";
  String key="testKey";
  String owner1="testOwner1";
  Lock lock1=LockLocalServiceUtil.lock(className,key,owner1,false);
  assertEquals(owner1,lock1.getOwner());
  assertTrue(lock1.isNew());
  String owner2="owner2";
  Lock lock2=LockLocalServiceUtil.lock(className,key,owner2,false);
  assertEquals(owner1,lock2.getOwner());
  assertFalse(lock2.isNew());
  LockLocalServiceUtil.unlock(className,key,owner1,false);
  lock2=LockLocalServiceUtil.lock(className,key,owner2,false);
  assertEquals(owner2,lock2.getOwner());
  assertTrue(lock2.isNew());
  LockLocalServiceUtil.unlock(className,key,owner2,false);
}
