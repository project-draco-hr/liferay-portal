{
  String testClassName="testClassName";
  String testKey="testKey";
  String owner1="owner1";
  String owner2="owner2";
  Lock lock1=LockLocalServiceUtil.lock(testClassName,testKey,owner1,false);
  assertEquals(owner1,lock1.getOwner());
  assertTrue(lock1.isNew());
  Lock lock2=LockLocalServiceUtil.lock(testClassName,testKey,owner2,false);
  assertEquals(owner1,lock2.getOwner());
  assertFalse(lock2.isNew());
  LockLocalServiceUtil.unlock(testClassName,testKey,owner1,false);
  lock2=LockLocalServiceUtil.lock(testClassName,testKey,owner2,false);
  assertEquals(owner2,lock2.getOwner());
  assertTrue(lock2.isNew());
  LockLocalServiceUtil.unlock(testClassName,testKey,owner2,false);
}
