{
  String newLine="";
  if (line.startsWith("<img")) {
    int endIndex=line.indexOf("/>");
    String imgTag=line.substring(0,endIndex + 2);
    String imgNewTag="<img ";
    imgNewTag+=_getAttribute("src",imgTag,endIndex);
    String nameAttribute=_getAttribute("name","id",imgTag,endIndex);
    if (nameAttribute != null) {
      imgNewTag+=" " + nameAttribute;
    }
    String titleAttribute=_getAttribute("title",imgTag,endIndex);
    if (titleAttribute != null) {
      imgNewTag+=" " + titleAttribute;
    }
    String widthAttribute=_getAttribute("width",imgTag,endIndex);
    if (widthAttribute != null) {
      imgNewTag+=" " + widthAttribute;
    }
    String heightAttribute=_getAttribute("height",imgTag,endIndex);
    if (heightAttribute != null) {
      imgNewTag+=" " + heightAttribute;
    }
    String onMouseOutAttribute=_getAttribute("onMouseOut",imgTag,endIndex);
    if (onMouseOutAttribute != null) {
      imgNewTag+=" " + onMouseOutAttribute;
    }
    String onMouseOverAttribute=_getAttribute("onMouseOver",imgTag,endIndex);
    if (onMouseOverAttribute != null) {
      imgNewTag+=" " + onMouseOverAttribute;
    }
    String altAttribute=_getAttribute("alt",imgTag,endIndex);
    if (altAttribute != null) {
      imgNewTag+=" " + altAttribute;
    }
 else {
      imgNewTag+=" alt=\"\"";
    }
    newLine=imgNewTag + "/>";
    if (endIndex + 1 < line.length()) {
      newLine+=_formatImgTags(line.substring(endIndex + 2,line.length()));
    }
  }
 else {
    int endIndex=line.indexOf("<img");
    if (endIndex == -1) {
      endIndex=line.length();
    }
    newLine=line.substring(0,endIndex);
    if (endIndex < line.length()) {
      newLine+=_formatImgTags(line.substring(endIndex,line.length()));
    }
  }
  return newLine;
}
