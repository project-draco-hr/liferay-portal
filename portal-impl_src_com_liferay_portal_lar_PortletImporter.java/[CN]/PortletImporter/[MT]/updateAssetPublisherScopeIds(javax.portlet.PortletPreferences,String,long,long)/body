{
  Layout layout=LayoutLocalServiceUtil.getLayout(plid);
  String[] oldValues=jxPreferences.getValues(key,null);
  if (oldValues == null) {
    return;
  }
  String companyGroupScopeId=AssetPublisherUtil.SCOPE_ID_GROUP_PREFIX + companyGroupId;
  List<String> newValues=new ArrayList<String>(oldValues.length);
  for (int i=0; i < oldValues.length; i++) {
    String oldValue=oldValues[i];
    String newValue=StringUtil.replace(oldValue,"[$COMPANY_GROUP_SCOPE_ID$]",companyGroupScopeId);
    PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
    if (!oldValue.equals("false") && !oldValue.equals("true") && !AssetPublisherUtil.isScopeIdSelectable(permissionChecker,newValue,companyGroupId,layout)) {
      continue;
    }
    newValues.add(newValue);
  }
  jxPreferences.setValues(key,newValues.toArray(new String[newValues.size()]));
}
