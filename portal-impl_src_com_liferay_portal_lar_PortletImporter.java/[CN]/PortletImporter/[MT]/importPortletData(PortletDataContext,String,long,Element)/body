{
  long ownerId=PortletKeys.PREFS_OWNER_ID_DEFAULT;
  int ownerType=PortletKeys.PREFS_OWNER_TYPE_LAYOUT;
  PortletPreferences portletPreferences=null;
  try {
    portletPreferences=PortletPreferencesUtil.findByO_O_P_P(ownerId,ownerType,plid,portletId);
  }
 catch (  NoSuchPortletPreferencesException nsppe) {
    portletPreferences=new com.liferay.portal.model.impl.PortletPreferencesImpl();
  }
  String xml=importPortletData(context,portletId,portletPreferences,portletDataRefEl);
  if (xml != null) {
    PortletPreferencesLocalServiceUtil.updatePreferences(ownerId,ownerType,plid,portletId,xml);
  }
}
