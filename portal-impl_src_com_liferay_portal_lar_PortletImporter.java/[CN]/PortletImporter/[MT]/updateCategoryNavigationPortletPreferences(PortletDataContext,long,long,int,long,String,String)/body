{
  Company company=CompanyLocalServiceUtil.getCompanyById(companyId);
  Group companyGroup=company.getGroup();
  javax.portlet.PortletPreferences jxPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  Enumeration<String> enu=jxPreferences.getNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    if (name.equals("assetVocabularyIds")) {
      updatePreferencesClassPKs(portletDataContext,jxPreferences,name,AssetVocabulary.class,companyGroup.getGroupId());
    }
  }
  return PortletPreferencesFactoryUtil.toXML(jxPreferences);
}
