{
  Layout layout=LayoutLocalServiceUtil.getLayout(plid);
  String userIdStrategyString=MapUtil.getString(parameterMap,PortletDataHandlerKeys.USER_ID_STRATEGY);
  UserIdStrategy userIdStrategy=ExportImportHelperUtil.getUserIdStrategy(userId,userIdStrategyString);
  ZipReader zipReader=ZipReaderFactoryUtil.getZipReader(file);
  PortletDataContext portletDataContext=PortletDataContextFactoryUtil.createImportPortletDataContext(layout.getCompanyId(),groupId,parameterMap,userIdStrategy,zipReader);
  portletDataContext.setOldPlid(plid);
  portletDataContext.setPlid(plid);
  portletDataContext.setPortletId(portletId);
  portletDataContext.setPrivateLayout(layout.isPrivateLayout());
  return portletDataContext;
}
