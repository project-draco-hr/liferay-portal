{
  AutoDeployListener autoDeployListener=_serviceTracker.getService();
  if (autoDeployListener != null) {
    if (autoDeployListener.isDeployable(autoDeploymentContext)) {
      autoDeployListener.deploy(autoDeploymentContext);
      File file=autoDeploymentContext.getFile();
      file.delete();
      return;
    }
  }
  String[] dirNames=PropsUtil.getArray(PropsKeys.MODULE_FRAMEWORK_AUTO_DEPLOY_DIRS);
  if (ArrayUtil.isEmpty(dirNames)) {
    throw new AutoDeployException("The portal property \"" + PropsKeys.MODULE_FRAMEWORK_AUTO_DEPLOY_DIRS + "\" is not set");
  }
  String dirName=dirNames[0];
  FileUtil.mkdirs(dirName);
  File file=autoDeploymentContext.getFile();
  FileUtil.move(file,new File(dirName,file.getName()));
}
