{
  HttpServletRequest request=PortalUtil.getHttpServletRequest(resourceRequest);
  HttpServletResponse response=PortalUtil.getHttpServletResponse(resourceResponse);
  try {
    long backgroundTaskId=ParamUtil.getLong(resourceRequest,"backgroundTaskId");
    String fileName=ParamUtil.getString(resourceRequest,"attachment");
    int status=ParamUtil.getInteger(resourceRequest,"status",WorkflowConstants.STATUS_APPROVED);
    getFile(backgroundTaskId,fileName,status,request,response);
    setForward(resourceRequest,ActionConstants.COMMON_NULL);
  }
 catch (  Exception e) {
    PortalUtil.sendError(e,request,response);
  }
}
