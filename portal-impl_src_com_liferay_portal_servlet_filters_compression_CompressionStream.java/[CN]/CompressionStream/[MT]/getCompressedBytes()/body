{
  if (compressedBytes != null) {
    return compressedBytes;
  }
  if (_bufferedOutput instanceof ByteArrayMaker) {
    ByteArrayMaker baos=(ByteArrayMaker)_bufferedOutput;
    ByteArrayMaker compressedContent=new ByteArrayMaker();
    GZIPOutputStream gzipOutput=new GZIPOutputStream(compressedContent);
    gzipOutput.write(baos.toByteArray());
    gzipOutput.finish();
    compressedBytes=compressedContent.toByteArray();
  }
  return compressedBytes;
}
