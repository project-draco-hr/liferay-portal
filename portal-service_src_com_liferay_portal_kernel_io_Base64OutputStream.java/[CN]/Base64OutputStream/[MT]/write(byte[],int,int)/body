{
  if (len <= 0) {
    return;
  }
  while ((_unitBufferIndex != 0) && (len > 0)) {
    write(b[off++]);
    len--;
  }
  if (len <= 0) {
    return;
  }
  int blen=len - len % 3;
  len-=blen;
  while (blen > 0) {
    encodeUnit(b[off],b[off + 1],b[off + 2]);
    blen-=3;
    off+=3;
  }
  while (len > 0) {
    write(b[off++]);
    len--;
  }
}
