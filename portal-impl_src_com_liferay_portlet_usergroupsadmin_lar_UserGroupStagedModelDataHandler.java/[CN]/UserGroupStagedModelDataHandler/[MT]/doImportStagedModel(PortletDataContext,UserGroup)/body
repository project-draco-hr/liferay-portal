{
  long userId=portletDataContext.getUserId(userGroup.getUserUuid());
  long companyId=portletDataContext.getCompanyId();
  ServiceContext serviceContext=portletDataContext.createServiceContext(userGroup,UserGroupsAdminPortletDataHandler.NAMESPACE);
  UserGroup existingUserGroup=UserGroupLocalServiceUtil.fetchUserGroupByUuidAndCompanyId(userGroup.getUuid(),companyId);
  if (existingUserGroup == null) {
    existingUserGroup=UserGroupLocalServiceUtil.fetchUserGroup(companyId,userGroup.getName());
  }
  UserGroup importedUserGroup=null;
  if (existingUserGroup == null) {
    serviceContext.setUuid(userGroup.getUuid());
    importedUserGroup=UserGroupLocalServiceUtil.addUserGroup(userId,companyId,userGroup.getName(),userGroup.getDescription(),serviceContext);
  }
 else {
    importedUserGroup=UserGroupLocalServiceUtil.updateUserGroup(companyId,existingUserGroup.getUserGroupId(),userGroup.getName(),userGroup.getDescription(),serviceContext);
  }
  portletDataContext.importClassedModel(userGroup,importedUserGroup,UserGroupsAdminPortletDataHandler.NAMESPACE);
}
