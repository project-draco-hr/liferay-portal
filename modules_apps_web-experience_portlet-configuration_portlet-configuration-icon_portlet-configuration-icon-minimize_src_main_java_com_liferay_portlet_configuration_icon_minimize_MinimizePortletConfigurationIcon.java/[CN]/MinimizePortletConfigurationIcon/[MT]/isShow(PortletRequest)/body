{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  if (!GetterUtil.getBoolean(themeDisplay.getThemeSetting("show-maximize-minimize-application-links"))) {
    return false;
  }
  Layout layout=themeDisplay.getLayout();
  if (!layout.isTypePortlet()) {
    return false;
  }
  LayoutTypePortlet layoutTypePortlet=themeDisplay.getLayoutTypePortlet();
  LayoutTypeController layoutTypeController=layoutTypePortlet.getLayoutTypeController();
  if (layoutTypeController.isFullPageDisplayable()) {
    return false;
  }
  Portlet portlet=(Portlet)portletRequest.getAttribute(WebKeys.RENDER_PORTLET);
  if (!portlet.hasWindowState(portletRequest.getResponseContentType(),WindowState.MINIMIZED)) {
    return false;
  }
  Group group=themeDisplay.getScopeGroup();
  if (!themeDisplay.isSignedIn() || (group.hasStagingGroup() && !group.isStagingGroup()) || !hasUpdateLayoutPermission(themeDisplay)) {
    if (!PropsValues.LAYOUT_GUEST_SHOW_MIN_ICON) {
      return false;
    }
  }
  return true;
}
