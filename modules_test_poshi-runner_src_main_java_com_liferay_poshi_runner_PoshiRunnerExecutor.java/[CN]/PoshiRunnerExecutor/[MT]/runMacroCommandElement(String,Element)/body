{
  PoshiRunnerStackTraceUtil.setCurrentElement(commandElement);
  PoshiRunnerVariablesUtil.pushCommandMap();
  parseElement(commandElement);
  Map<String,String> macroReturns=new HashMap<>();
  String returns=commandElement.attributeValue("returns");
  if (Validator.isNotNull(returns)) {
    String[] returnNames=StringUtil.split(returns);
    for (    String returnName : returnNames) {
      if (PoshiRunnerVariablesUtil.containsKeyInCommandMap(returnName)) {
        String returnValue=PoshiRunnerVariablesUtil.getValueFromCommandMap(returnName);
        macroReturns.put(returnName,returnValue);
      }
    }
  }
  PoshiRunnerVariablesUtil.popCommandMap();
  return macroReturns;
}
