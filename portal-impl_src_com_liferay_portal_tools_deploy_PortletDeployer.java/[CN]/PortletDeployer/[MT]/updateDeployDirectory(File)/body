{
  boolean customPortletXML=false;
  try {
    customPortletXML=PrefsPropsUtil.getBoolean(PropsKeys.AUTO_DEPLOY_CUSTOM_PORTLET_XML,PropsValues.AUTO_DEPLOY_CUSTOM_PORTLET_XML);
  }
 catch (  Exception e) {
    customPortletXML=PropsValues.AUTO_DEPLOY_CUSTOM_PORTLET_XML;
  }
  customPortletXML=GetterUtil.getBoolean(System.getProperty("deployer.custom.portlet.xml"),customPortletXML);
  if (!customPortletXML) {
    return;
  }
  File portletXML=new File(srcFile + "/WEB-INF/" + Portal.PORTLET_XML_FILE_NAME_STANDARD);
  if (portletXML.exists()) {
    File portletCustomXML=new File(srcFile + "/WEB-INF/" + Portal.PORTLET_XML_FILE_NAME_CUSTOM);
    if (portletCustomXML.exists()) {
      portletCustomXML.delete();
    }
    portletXML.renameTo(portletCustomXML);
  }
}
