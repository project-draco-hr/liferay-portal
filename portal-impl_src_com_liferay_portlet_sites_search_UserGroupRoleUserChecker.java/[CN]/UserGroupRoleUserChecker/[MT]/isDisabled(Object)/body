{
  User user=(User)obj;
  Set<Role> mandatoryRoles=MembershipPolicyUtil.getMandatoryRoles(_group,user);
  if ((isChecked(user) && mandatoryRoles.contains(_role)) || (!isChecked(user) && !MembershipPolicyUtil.isMembershipAllowed(_group,_role,user))) {
    return true;
  }
  return super.isDisabled(obj);
}
