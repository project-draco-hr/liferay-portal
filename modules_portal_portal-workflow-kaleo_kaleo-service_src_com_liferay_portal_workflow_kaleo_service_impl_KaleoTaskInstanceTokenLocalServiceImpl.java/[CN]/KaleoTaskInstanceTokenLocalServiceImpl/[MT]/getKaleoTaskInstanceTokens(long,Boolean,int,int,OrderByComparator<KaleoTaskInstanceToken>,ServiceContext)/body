{
  long userId=serviceContext.getUserId();
  if (userId == 0) {
    DynamicQuery dynamicQuery=buildDynamicQuery(kaleoInstanceId,completed,serviceContext);
    return dynamicQuery(dynamicQuery,start,end,orderByComparator);
  }
  KaleoTaskInstanceTokenQuery kaleoTaskInstanceTokenQuery=new KaleoTaskInstanceTokenQuery(serviceContext);
  kaleoTaskInstanceTokenQuery.setAssigneeClassName(User.class.getName());
  kaleoTaskInstanceTokenQuery.setAssigneeClassPK(serviceContext.getUserId());
  kaleoTaskInstanceTokenQuery.setCompleted(completed);
  kaleoTaskInstanceTokenQuery.setEnd(end);
  kaleoTaskInstanceTokenQuery.setKaleoInstanceId(kaleoInstanceId);
  kaleoTaskInstanceTokenQuery.setOrderByComparator(orderByComparator);
  kaleoTaskInstanceTokenQuery.setStart(start);
  return kaleoTaskInstanceTokenFinder.findKaleoTaskInstanceTokens(kaleoTaskInstanceTokenQuery);
}
