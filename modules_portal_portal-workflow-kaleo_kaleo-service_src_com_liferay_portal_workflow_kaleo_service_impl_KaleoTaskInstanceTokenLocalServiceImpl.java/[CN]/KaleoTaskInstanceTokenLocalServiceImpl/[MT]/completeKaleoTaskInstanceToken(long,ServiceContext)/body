{
  KaleoTaskInstanceToken kaleoTaskInstanceToken=kaleoTaskInstanceTokenPersistence.findByPrimaryKey(kaleoTaskInstanceTokenId);
  kaleoTaskInstanceToken.setCompletionUserId(serviceContext.getUserId());
  kaleoTaskInstanceToken.setCompleted(true);
  kaleoTaskInstanceToken.setCompletionDate(new Date());
  kaleoTaskInstanceTokenPersistence.update(kaleoTaskInstanceToken);
  kaleoTaskAssignmentInstanceLocalService.completeKaleoTaskInstanceToken(kaleoTaskInstanceTokenId,serviceContext);
  kaleoTimerInstanceTokenLocalService.completeKaleoTimerInstanceTokens(kaleoTaskInstanceToken.getKaleoInstanceTokenId(),serviceContext);
  return kaleoTaskInstanceToken;
}
