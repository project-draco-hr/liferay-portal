{
  backupName=StringUtil.toLowerCase(backupName);
  validateBackupName(backupName);
  ClusterAdminClient clusterAdminClient=_elasticsearchConnectionManager.getClusterAdminClient();
  CreateSnapshotRequestBuilder createSnapshotRequestBuilder=clusterAdminClient.prepareCreateSnapshot(_BACKUP_REPOSITORY_NAME,backupName);
  createSnapshotRequestBuilder.setWaitForCompletion(true);
  try {
    createBackupRepository(clusterAdminClient);
    CreateSnapshotResponse createSnapshotResponse=createSnapshotRequestBuilder.get();
    LogUtil.logActionResponse(_log,createSnapshotResponse);
    return backupName;
  }
 catch (  Exception e) {
    throw new SearchException(e);
  }
}
