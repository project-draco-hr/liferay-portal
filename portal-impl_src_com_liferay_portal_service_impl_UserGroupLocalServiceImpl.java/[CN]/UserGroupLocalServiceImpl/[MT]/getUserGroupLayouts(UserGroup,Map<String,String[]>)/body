{
  LayoutHolder layoutHolder=new LayoutHolder();
  if (userGroup.hasPrivateLayouts()) {
    long sourceGroupId=userGroup.getGroup().getGroupId();
    byte[] bytes=layoutLocalService.exportLayouts(sourceGroupId,true,parameterMap,null,null);
    UnsyncByteArrayInputStream ubais=new UnsyncByteArrayInputStream(bytes);
    layoutHolder.setPrivateLayouts(ubais);
  }
  if (userGroup.hasPublicLayouts()) {
    long sourceGroupId=userGroup.getGroup().getGroupId();
    byte[] bytes=layoutLocalService.exportLayouts(sourceGroupId,false,parameterMap,null,null);
    UnsyncByteArrayInputStream ubais=new UnsyncByteArrayInputStream(bytes);
    layoutHolder.setPublicLayouts(ubais);
  }
  return layoutHolder;
}
