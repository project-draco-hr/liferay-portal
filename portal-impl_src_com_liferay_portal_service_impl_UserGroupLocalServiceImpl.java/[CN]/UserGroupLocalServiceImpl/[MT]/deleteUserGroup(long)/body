{
  UserGroup userGroup=userGroupPersistence.findByPrimaryKey(userGroupId);
  if (userGroupPersistence.containsUsers(userGroup.getUserGroupId())) {
    throw new RequiredUserGroupException();
  }
  Group group=userGroup.getGroup();
  groupLocalService.deleteGroup(group.getGroupId());
  resourceLocalService.deleteResource(userGroup.getCompanyId(),UserGroup.class.getName(),ResourceImpl.SCOPE_INDIVIDUAL,userGroup.getUserGroupId());
  userGroupPersistence.remove(userGroupId);
  PermissionCacheUtil.clearCache();
}
