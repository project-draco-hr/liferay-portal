{
  UserGroup userGroup=userGroupPersistence.findByPrimaryKey(userGroupId);
  if (userLocalService.getUserGroupUsersCount(userGroupId,WorkflowConstants.STATUS_APPROVED) > 0) {
    throw new RequiredUserGroupException();
  }
  clearUserUserGroups(userGroupId);
  Group group=userGroup.getGroup();
  groupLocalService.deleteGroup(group.getGroupId());
  userGroupGroupRoleLocalService.deleteUserGroupGroupRolesByUserGroupId(userGroupId);
  resourceLocalService.deleteResource(userGroup.getCompanyId(),UserGroup.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,userGroup.getUserGroupId());
  userGroupPersistence.remove(userGroupId);
  PermissionCacheUtil.clearCache();
}
