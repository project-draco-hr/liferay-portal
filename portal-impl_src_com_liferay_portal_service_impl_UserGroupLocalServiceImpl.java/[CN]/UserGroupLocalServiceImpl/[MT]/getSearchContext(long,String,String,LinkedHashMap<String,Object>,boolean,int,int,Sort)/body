{
  SearchContext searchContext=new SearchContext();
  searchContext.setAndSearch(andSearch);
  Map<String,Serializable> attributes=new HashMap<String,Serializable>();
  attributes.put("description",description);
  attributes.put("name",name);
  searchContext.setAttributes(attributes);
  searchContext.setCompanyId(companyId);
  searchContext.setEnd(end);
  if (params != null) {
    String keywords=(String)params.remove("keywords");
    if (Validator.isNotNull(keywords)) {
      searchContext.setKeywords(keywords);
    }
  }
  QueryConfig queryConfig=new QueryConfig();
  queryConfig.setHighlightEnabled(false);
  queryConfig.setScoreEnabled(false);
  searchContext.setQueryConfig(queryConfig);
  if (sort != null) {
    searchContext.setSorts(sort);
  }
  searchContext.setStart(start);
  return searchContext;
}
