{
  final ReplaceSoyTranslationTask replaceSoyTranslationTask=GradleUtil.addTask(project,REPLACE_SOY_TRANSLATION_TASK_NAME,ReplaceSoyTranslationTask.class);
  replaceSoyTranslationTask.setDescription("Replaces 'goog.getMsg' definitions.");
  replaceSoyTranslationTask.setGroup(BasePlugin.BUILD_GROUP);
  replaceSoyTranslationTask.setIncludes(Collections.singleton("**/*.soy.js"));
  replaceSoyTranslationTask.setReplacementClosure(new LiferayReplacementClosure(replaceSoyTranslationTask));
  PluginContainer pluginContainer=project.getPlugins();
  pluginContainer.withId(_JS_MODULE_CONFIG_GENERATOR_PLUGIN_ID,new Action<Plugin>(){
    @Override public void execute(    Plugin plugin){
      replaceSoyTranslationTask.dependsOn(_CONFIG_JS_MODULES_TASK_NAME);
    }
  }
);
  pluginContainer.withId(_JS_TRANSPILER_PLUGIN_ID,new Action<Plugin>(){
    @Override public void execute(    Plugin plugin){
      replaceSoyTranslationTask.dependsOn(_TRANSPILE_JS_TASK_NAME);
    }
  }
);
  pluginContainer.withType(JavaPlugin.class,new Action<JavaPlugin>(){
    @Override public void execute(    JavaPlugin javaPlugin){
      _configureTaskReplaceSoyTranslationForJavaPlugin(replaceSoyTranslationTask);
    }
  }
);
  return replaceSoyTranslationTask;
}
