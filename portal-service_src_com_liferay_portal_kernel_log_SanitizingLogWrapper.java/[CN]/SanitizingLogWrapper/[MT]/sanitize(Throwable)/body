{
  if (!_LOG_SANITIZER_ENABLED) {
    return throwable;
  }
  List<Throwable> throwableStack=new ArrayList<Throwable>();
  Throwable causeOnStack=throwable;
  while (causeOnStack != null) {
    throwableStack.add(causeOnStack);
    causeOnStack=causeOnStack.getCause();
  }
  Throwable cause=null;
  boolean sanitized=false;
  for (int i=throwableStack.size() - 1; i > -1; i--) {
    Throwable t=throwableStack.get(i);
    String message=t.toString();
    String sanitizedMessage=sanitize(message,true);
    if (!sanitized && (sanitizedMessage == null)) {
      cause=t;
      continue;
    }
    if (sanitizedMessage == null) {
      sanitizedMessage=message;
    }
    sanitized=true;
    cause=new SanitizedException(sanitizedMessage,t.getStackTrace(),cause);
  }
  return cause;
}
