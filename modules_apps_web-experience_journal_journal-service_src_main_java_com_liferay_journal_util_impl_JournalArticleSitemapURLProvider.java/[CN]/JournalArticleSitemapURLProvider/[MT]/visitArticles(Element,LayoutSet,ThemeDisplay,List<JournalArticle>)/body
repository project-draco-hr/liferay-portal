{
  if (journalArticles.isEmpty()) {
    return;
  }
  Set<String> processedArticleIds=new HashSet<>();
  String portalURL=PortalUtil.getPortalURL(layoutSet,themeDisplay);
  for (  JournalArticle journalArticle : journalArticles) {
    if (processedArticleIds.contains(journalArticle.getArticleId()) || (journalArticle.getStatus() != WorkflowConstants.STATUS_APPROVED) || !JournalUtil.isHead(journalArticle)) {
      continue;
    }
    String groupFriendlyURL=PortalUtil.getGroupFriendlyURL(_layoutSetLocalService.getLayoutSet(journalArticle.getGroupId(),false),themeDisplay);
    StringBundler sb=new StringBundler(4);
    if (!groupFriendlyURL.startsWith(portalURL)) {
      sb.append(portalURL);
    }
    sb.append(groupFriendlyURL);
    sb.append(JournalArticleConstants.CANONICAL_URL_SEPARATOR);
    sb.append(journalArticle.getUrlTitle());
    Layout layout=_layoutLocalService.getLayoutByUuidAndGroupId(journalArticle.getLayoutUuid(),layoutSet.getGroupId(),layoutSet.getPrivateLayout());
    String articleURL=PortalUtil.getCanonicalURL(sb.toString(),themeDisplay,layout);
    Map<Locale,String> alternateURLs=SitemapUtil.getAlternateURLs(articleURL,themeDisplay,layout);
    for (    String alternateURL : alternateURLs.values()) {
      SitemapUtil.addURLElement(element,alternateURL,null,journalArticle.getModifiedDate(),articleURL,alternateURLs);
    }
    processedArticleIds.add(journalArticle.getArticleId());
  }
}
