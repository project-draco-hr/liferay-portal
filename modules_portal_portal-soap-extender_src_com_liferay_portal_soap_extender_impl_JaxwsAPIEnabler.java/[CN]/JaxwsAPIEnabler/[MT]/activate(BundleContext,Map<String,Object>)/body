{
  JaxwsApiConfiguration configuration=Configurable.createConfigurable(JaxwsApiConfiguration.class,properties);
  String contextPath=configuration.contextPath();
  Filter filter=context.createFilter("(&(objectClass=org.apache.cxf.Bus)(" + HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_PATH + "="+ contextPath+ "))");
  _busServiceTracker=new ServiceTracker<>(context,filter,null);
  _busServiceTracker.open();
  Bus bus=_busServiceTracker.waitForService(configuration.timeout());
  if (bus != null) {
    BusFactory.setDefaultBus(bus);
    ProviderImpl providerImpl=new ProviderImpl();
    _providerServiceRegistration=context.registerService(Provider.class,providerImpl,null);
  }
}
