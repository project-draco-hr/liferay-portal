{
  AssetVocabulary vocabulary=addVocabulary(1,false);
  AssetTestUtil.addCategory(_group.getGroupId(),vocabulary.getVocabularyId());
  Assert.assertFalse(vocabulary.isMissingRequiredCategory(1,new long[]{1}));
  vocabulary=addVocabulary(1,true);
  Assert.assertTrue(vocabulary.isMissingRequiredCategory(1,new long[]{1}));
  Assert.assertFalse(vocabulary.isMissingRequiredCategory(2,new long[0]));
  AssetCategory category=AssetTestUtil.addCategory(_group.getGroupId(),vocabulary.getVocabularyId());
  Assert.assertTrue(vocabulary.isMissingRequiredCategory(1,new long[]{1}));
  Assert.assertFalse(vocabulary.isMissingRequiredCategory(1,new long[]{category.getCategoryId()}));
}
