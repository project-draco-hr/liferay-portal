{
  LiferayPortletURL newLiferayPortletURL=liferayPortletResponse.createLiferayPortletURL(lifecycle);
  newLiferayPortletURL.setPortletId(liferayPortletURL.getPortletId());
  WindowState windowState=liferayPortletURL.getWindowState();
  if (windowState != null) {
    newLiferayPortletURL.setWindowState(windowState);
  }
  PortletMode portletMode=liferayPortletURL.getPortletMode();
  if (portletMode != null) {
    newLiferayPortletURL.setPortletMode(portletMode);
  }
  newLiferayPortletURL.setParameters(liferayPortletURL.getParameterMap());
  return newLiferayPortletURL;
}
