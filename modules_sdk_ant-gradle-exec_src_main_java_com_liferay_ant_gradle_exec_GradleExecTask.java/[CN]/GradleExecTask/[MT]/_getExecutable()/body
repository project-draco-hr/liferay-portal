{
  Project project=getProject();
  String executable=project.getProperty("gradle.executable");
  if ((executable != null) && !executable.isEmpty()) {
    return executable;
  }
  String fileName="gradlew";
  if (Os.isFamily(Os.FAMILY_WINDOWS)) {
    fileName+=".bat";
  }
  File dir=project.getBaseDir();
  while (dir != null) {
    File file=new File(dir,fileName);
    if (file.isFile()) {
      executable=FileUtils.getRelativePath(project.getBaseDir(),file);
      break;
    }
    dir=dir.getParentFile();
  }
  return executable;
}
