{
  long nodeId=ParamUtil.getLong(actionRequest,"nodeId");
  String title=ParamUtil.getString(actionRequest,"title");
  double version=ParamUtil.getDouble(actionRequest,"version");
  String content=ParamUtil.getString(actionRequest,"content");
  String summary=ParamUtil.getString(actionRequest,"summary");
  boolean minorEdit=ParamUtil.getBoolean(actionRequest,"minorEdit");
  String format=ParamUtil.getString(actionRequest,"format");
  String command=ParamUtil.getString(actionRequest,Constants.CMD);
  String parentTitle=ParamUtil.getString(actionRequest,"parentTitle");
  String redirectTitle=null;
  ServiceContext serviceContext=ServiceContextFactory.getInstance(WikiPage.class.getName(),actionRequest);
  if (command.equals(Constants.ADD)) {
    return WikiPageServiceUtil.addPage(nodeId,title,content,summary,minorEdit,format,parentTitle,redirectTitle,serviceContext);
  }
 else {
    return WikiPageServiceUtil.updatePage(nodeId,title,version,content,summary,minorEdit,format,parentTitle,redirectTitle,serviceContext);
  }
}
