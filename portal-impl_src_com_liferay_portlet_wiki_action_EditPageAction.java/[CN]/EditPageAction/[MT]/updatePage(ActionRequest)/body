{
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  PortletPreferences prefs=req.getPreferences();
  long nodeId=ParamUtil.getLong(req,"nodeId");
  String title=ParamUtil.getString(req,"title");
  double version=ParamUtil.getDouble(req,"version");
  String content=ParamUtil.getString(req,"content");
  String summary=ParamUtil.getString(req,"summary");
  boolean minorEdit=ParamUtil.getBoolean(req,"minorEdit");
  String format=ParamUtil.getString(req,"format");
  String parentTitle=ParamUtil.getString(req,"parentTitle");
  String redirectTitle=null;
  String[] tagsEntries=StringUtil.split(ParamUtil.getString(req,"tagsEntries"));
  return WikiPageServiceUtil.updatePage(nodeId,title,version,content,summary,minorEdit,format,parentTitle,redirectTitle,tagsEntries,prefs,themeDisplay);
}
