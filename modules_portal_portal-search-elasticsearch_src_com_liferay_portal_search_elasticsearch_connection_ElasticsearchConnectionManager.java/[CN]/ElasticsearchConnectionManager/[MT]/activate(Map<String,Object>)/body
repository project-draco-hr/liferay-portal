{
  _elasticsearchConfiguration=Configurable.createConfigurable(ElasticsearchConfiguration.class,properties);
  OperationMode newOperationMode=_elasticsearchConfiguration.operationMode();
  if (newOperationMode.equals(_operationMode)) {
    return;
  }
  if (!_elasticsearchConnections.containsKey(newOperationMode)) {
    throw new IllegalArgumentException("No connection available for: " + newOperationMode);
  }
  if (_operationMode != null) {
    ElasticsearchConnection elasticsearchConnection=_elasticsearchConnections.get(_operationMode);
    elasticsearchConnection.close();
  }
  _operationMode=newOperationMode;
}
