{
  IndexSearcher indexSearcher=_indexSearcherAtomicReference.get();
  if (indexSearcher == null) {
    throw new AlreadyClosedException("This SearcherManager is closed");
  }
  if (!_reopenLock.tryAcquire()) {
    return;
  }
  try {
    IndexReader indexReader=indexSearcher.getIndexReader();
    IndexReader newIndexReader=IndexReader.openIfChanged(indexReader);
    if (newIndexReader == null) {
      return;
    }
    IndexSearcher newIndexSearcher=new IndexSearcher(newIndexReader,_executorService);
    _initIndexSearcher(newIndexSearcher);
    boolean success=false;
    try {
      success=_indexSearcherAtomicReference.compareAndSet(indexSearcher,newIndexSearcher);
    }
  finally {
      if (success) {
        release(indexSearcher);
      }
 else {
        release(newIndexSearcher);
      }
    }
  }
  finally {
    _reopenLock.release();
  }
}
