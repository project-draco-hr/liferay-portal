{
  int count=10;
  do {
    IndexSearcher indexSearcher=_indexSearcherAtomicReference.get();
    if (indexSearcher == null) {
      throw new AlreadyClosedException("This SearcherManager is closed");
    }
    IndexReader indexReader=indexSearcher.getIndexReader();
    if (indexReader.tryIncRef()) {
      return indexSearcher;
    }
    count--;
  }
 while (count > 0);
  throw new IllegalStateException("Unable to get IndexSearcher.");
}
