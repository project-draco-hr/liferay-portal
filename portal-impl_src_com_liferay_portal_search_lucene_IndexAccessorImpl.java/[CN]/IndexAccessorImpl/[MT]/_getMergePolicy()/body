{
  if (PropsValues.LUCENE_MERGE_POLICY.equals(NoMergePolicy.class.getName())) {
    return NoMergePolicy.NO_COMPOUND_FILES;
  }
  ClassLoader classLoader=ClassLoaderUtil.getPortalClassLoader();
  MergePolicy mergePolicy=(MergePolicy)InstanceFactory.newInstance(classLoader,PropsValues.LUCENE_MERGE_POLICY);
  if (mergePolicy instanceof LogMergePolicy) {
    LogMergePolicy logMergePolicy=(LogMergePolicy)mergePolicy;
    logMergePolicy.setMergeFactor(PropsValues.LUCENE_MERGE_FACTOR);
  }
  return mergePolicy;
}
