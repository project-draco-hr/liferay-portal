{
  File file=FileUtil.createTempFile();
  Directory tempDirectory=FSDirectory.open(file);
  IndexCommitSerializationUtil.deserializeIndex(inputStream,tempDirectory);
  close();
  _deleteDirectory();
  Directory.copy(tempDirectory,getLuceneDir(),true);
  _initIndexWriter();
  tempDirectory.close();
  FileUtil.deltree(file);
}
