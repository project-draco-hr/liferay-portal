{
  File tempFile=FileUtil.createTempFile();
  Directory tempDirectory=FSDirectory.open(tempFile);
  IndexCommitSerializationUtil.deserializeIndex(inputStream,tempDirectory);
  close();
  _deleteDirectory();
  Directory.copy(tempDirectory,getLuceneDir(),true);
  _initIndexWriter();
  tempDirectory.close();
  FileUtil.deltree(tempFile);
}
