{
  int label=1;
  while (label >= 1) {
switch (label) {
case 1:
      selenium.selectWindow("null");
    selenium.selectFrame("relative=top");
  selenium.openWindow("http://www.gmail.com/",RuntimeVariables.replace("gmail"));
selenium.waitForPopUp("gmail",RuntimeVariables.replace(""));
selenium.selectWindow("gmail");
Thread.sleep(80000);
boolean SignedIn1=selenium.isElementPresent("link=Sign out");
if (!SignedIn1) {
label=2;
continue;
}
assertEquals(RuntimeVariables.replace("Sign out"),selenium.getText("//td/a"));
selenium.clickAt("//td/a",RuntimeVariables.replace("Sign out"));
selenium.clickAt("//span/a",RuntimeVariables.replace("Sign in to Gmail"));
selenium.waitForPageToLoad("30000");
loadRequiredJavaScriptModules();
case 2:
boolean signInAsADifferentUserPresent=selenium.isElementPresent("link=Sign out and sign in as a different user");
if (!signInAsADifferentUserPresent) {
label=3;
continue;
}
selenium.clickAt("link=Sign out and sign in as a different user",RuntimeVariables.replace("Sign out and sign in as a different user"));
selenium.waitForPageToLoad("30000");
loadRequiredJavaScriptModules();
case 3:
for (int second=0; ; second++) {
if (second >= 90) {
fail("timeout");
}
try {
if (selenium.isVisible("//input[@id='Email']")) {
break;
}
}
 catch (Exception e) {
}
Thread.sleep(1000);
}
selenium.type("//input[@id='Email']",RuntimeVariables.replace("liferay.qa.testing.trunk"));
selenium.type("//input[@id='Passwd']",RuntimeVariables.replace("loveispatient"));
boolean staySignedInChecked=selenium.isChecked("PersistentCookie");
if (staySignedInChecked) {
label=4;
continue;
}
assertFalse(selenium.isChecked("//input[@id='PersistentCookie']"));
selenium.clickAt("//input[@id='PersistentCookie']",RuntimeVariables.replace("Stay signed in"));
case 4:
assertTrue(selenium.isChecked("//input[@id='PersistentCookie']"));
selenium.clickAt("//input[@id='signIn']",RuntimeVariables.replace("Sign In"));
selenium.waitForPageToLoad("30000");
loadRequiredJavaScriptModules();
assertEquals(RuntimeVariables.replace("liferay.qa.server.trunk"),selenium.getText("//div[3]/div[2]/div/table/tbody/tr/td[5]/div/span"));
assertEquals(RuntimeVariables.replace("Joe Bloggs sent you a message on Liferay"),selenium.getText("//div/div/span/b"));
selenium.clickAt("//div/div/span/b",RuntimeVariables.replace("Joe Bloggs sent you a message on Liferay"));
Thread.sleep(5000);
assertEquals(RuntimeVariables.replace("Joe Bloggs sent you a message."),selenium.getText("//div[2]/div[2]/div[3]"));
assertEquals(RuntimeVariables.replace("Message Subject"),selenium.getText("//div[4]/table/tbody/tr/td[2]/div"));
assertEquals(RuntimeVariables.replace("Message Body"),selenium.getText("//div[4]/table/tbody/tr/td[2]/div[2]"));
boolean SignedIn2=selenium.isElementPresent("link=Sign out");
if (!SignedIn2) {
label=5;
continue;
}
assertEquals(RuntimeVariables.replace("Sign out"),selenium.getText("//td/a"));
selenium.clickAt("//td/a",RuntimeVariables.replace("Sign out"));
case 5:
Thread.sleep(10000);
selenium.close();
selenium.selectWindow("null");
case 100:
label=-1;
}
}
}
