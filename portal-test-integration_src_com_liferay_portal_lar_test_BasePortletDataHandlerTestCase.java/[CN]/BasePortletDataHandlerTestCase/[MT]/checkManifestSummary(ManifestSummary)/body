{
  ManifestSummary manifestSummary=portletDataContext.getManifestSummary();
  for (  String manifestSummaryKey : manifestSummary.getManifestSummaryKeys()) {
    Assert.assertFalse(manifestSummaryKey.endsWith(StagedModelType.REFERRER_CLASS_NAME_ALL));
    Assert.assertFalse(manifestSummaryKey.endsWith(StagedModelType.REFERRER_CLASS_NAME_ANY));
  }
  for (  String manifestSummaryKey : expectedManifestSummary.getManifestSummaryKeys()) {
    String[] keyParts=StringUtil.split(manifestSummaryKey,StringPool.POUND);
    long expectedModelAdditionCount=expectedManifestSummary.getModelAdditionCount(manifestSummaryKey);
    StagedModelType stagedModelType=new StagedModelType(keyParts[0]);
    if (keyParts.length > 1) {
      stagedModelType=new StagedModelType(keyParts[0],keyParts[1]);
    }
    long modelAdditionCount=manifestSummary.getModelAdditionCount(stagedModelType);
    if (expectedModelAdditionCount == 0) {
      Assert.assertFalse(modelAdditionCount > 0);
    }
 else {
      Assert.assertEquals(expectedModelAdditionCount,modelAdditionCount);
    }
  }
}
