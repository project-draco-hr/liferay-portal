{
  long pk=ServiceTestUtil.nextLong();
  DLContent newDLContent=_persistence.create(pk);
  newDLContent.setGroupId(ServiceTestUtil.nextLong());
  newDLContent.setCompanyId(ServiceTestUtil.nextLong());
  newDLContent.setRepositoryId(ServiceTestUtil.nextLong());
  newDLContent.setPath(ServiceTestUtil.randomString());
  newDLContent.setVersion(ServiceTestUtil.randomString());
  String newDataString=ServiceTestUtil.randomString();
  byte[] newDataBytes=newDataString.getBytes(StringPool.UTF8);
  Blob newDataBlob=new OutputBlob(new UnsyncByteArrayInputStream(newDataBytes),newDataBytes.length);
  newDLContent.setData(newDataBlob);
  newDLContent.setSize(ServiceTestUtil.nextLong());
  _persistence.update(newDLContent);
  DLContent existingDLContent=_persistence.findByPrimaryKey(newDLContent.getPrimaryKey());
  Assert.assertEquals(existingDLContent.getContentId(),newDLContent.getContentId());
  Assert.assertEquals(existingDLContent.getGroupId(),newDLContent.getGroupId());
  Assert.assertEquals(existingDLContent.getCompanyId(),newDLContent.getCompanyId());
  Assert.assertEquals(existingDLContent.getRepositoryId(),newDLContent.getRepositoryId());
  Assert.assertEquals(existingDLContent.getPath(),newDLContent.getPath());
  Assert.assertEquals(existingDLContent.getVersion(),newDLContent.getVersion());
  Blob existingData=existingDLContent.getData();
  Assert.assertTrue(Arrays.equals(existingData.getBytes(1,(int)existingData.length()),newDataBytes));
  Assert.assertEquals(existingDLContent.getSize(),newDLContent.getSize());
}
