{
  List<PathMacro> list=new ArrayList<PathMacro>(chunks.length);
  for (int i=0; i < chunks.length; i++) {
    String chunk=chunks[i];
    int[] ndx=_indexOfRegion(chunk,StringPool.DOLLAR_AND_OPEN_CURLY_BRACE,StringPool.CLOSE_CURLY_BRACE,0);
    if (ndx != null) {
      PathMacro macro=new PathMacro();
      String name=chunk.substring(ndx[1],ndx[2]);
      int colonNdx=name.indexOf(':');
      if (colonNdx != -1) {
        String pattern=name.substring(colonNdx + 1);
        macro.setRegexPattern(Pattern.compile(pattern));
        name=name.substring(0,colonNdx);
      }
      macro.setName(name);
      macro.setIndex(i);
      macro.setOffsetLeft(ndx[0] == 0 ? StringPool.BLANK : chunk.substring(0,ndx[0]));
      macro.setRight(ndx[3] == chunk.length() ? StringPool.BLANK : chunk.substring(ndx[3]));
      list.add(macro);
    }
  }
  if (list.isEmpty()) {
    return null;
  }
  return list.toArray(new PathMacro[list.size()]);
}
