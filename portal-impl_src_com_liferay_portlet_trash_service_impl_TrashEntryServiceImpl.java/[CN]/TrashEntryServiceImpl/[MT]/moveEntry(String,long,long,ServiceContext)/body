{
  PermissionChecker permissionChecker=getPermissionChecker();
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(className);
  if (!trashHandler.hasTrashPermission(permissionChecker,serviceContext.getScopeGroupId(),destinationContainerModelId,TrashActionKeys.MOVE)) {
    throw new TrashPermissionException(TrashPermissionException.MOVE);
  }
  if (trashHandler.isInTrash(classPK) && !trashHandler.hasTrashPermission(permissionChecker,0,classPK,TrashActionKeys.RESTORE)) {
    throw new TrashPermissionException(TrashPermissionException.RESTORE);
  }
  TrashEntry trashEntry=trashHandler.getTrashEntry(classPK);
  if (trashEntry.isTrashEntry(className,classPK)) {
    trashHandler.checkDuplicateTrashEntry(trashEntry,destinationContainerModelId,StringPool.BLANK);
  }
 else {
    trashHandler.checkDuplicateEntry(classPK,destinationContainerModelId,StringPool.BLANK);
  }
  trashHandler.moveTrashEntry(getUserId(),classPK,destinationContainerModelId,serviceContext);
}
