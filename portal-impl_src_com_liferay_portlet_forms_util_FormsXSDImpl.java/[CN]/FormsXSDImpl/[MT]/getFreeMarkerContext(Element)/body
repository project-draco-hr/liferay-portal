{
  Map<String,Object> field=new HashMap<String,Object>();
  FreeMarkerContext freeMarkerContext=FreeMarkerEngineUtil.getWrappedRestrictedToolsContext();
  Element metadataElement=dynamicElementElement.element("meta-data");
  if (metadataElement != null) {
    for (    Element metadataEntry : metadataElement.elements()) {
      field.put(metadataEntry.attributeValue("name"),metadataEntry.getText());
    }
  }
  FreeMarkerContext parentFreeMarkerContext=null;
  Element parentElement=dynamicElementElement.getParent();
  if (parentElement != null) {
    parentFreeMarkerContext=getFreeMarkerContext(parentElement);
  }
  field.put("parentContext",parentFreeMarkerContext);
  for (  Attribute attribute : dynamicElementElement.attributes()) {
    field.put(attribute.getName(),attribute.getValue());
  }
  freeMarkerContext.put("field",field);
  return freeMarkerContext;
}
