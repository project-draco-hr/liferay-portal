{
  MBThread thread=mbThreadLocalService.getThread(threadId);
  MBCategoryPermission.check(getPermissionChecker(),thread.getGroupId(),thread.getCategoryId(),ActionKeys.LOCK_THREAD);
  return mbThreadLocalService.updateThread(threadId,locked);
}
