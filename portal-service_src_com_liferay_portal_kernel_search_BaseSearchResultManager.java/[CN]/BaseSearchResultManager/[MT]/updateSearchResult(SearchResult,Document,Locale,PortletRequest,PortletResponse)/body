{
  String entryClassName=GetterUtil.getString(document.get(Field.ENTRY_CLASS_NAME));
  long entryClassPK=GetterUtil.getLong(document.get(Field.ENTRY_CLASS_PK));
  if (entryClassName.equals(DLFileEntry.class.getName()) || entryClassName.equals(MBMessage.class.getName())) {
    long classNameId=GetterUtil.getLong(document.get(Field.CLASS_NAME_ID));
    long classPK=GetterUtil.getLong(document.get(Field.CLASS_PK));
    if ((classPK > 0) && (classNameId > 0)) {
      if (entryClassName.equals(DLFileEntry.class.getName())) {
        FileEntry fileEntry=DLAppLocalServiceUtil.getFileEntry(entryClassPK);
        Summary summary=getSummary(document,DLFileEntry.class.getName(),fileEntry.getFileEntryId(),locale,portletRequest,portletResponse);
        searchResult.addFileEntry(fileEntry,summary);
      }
 else       if (entryClassName.equals(MBMessage.class.getName())) {
        MBMessage mbMessage=MBMessageLocalServiceUtil.getMessage(entryClassPK);
        searchResult.addMBMessage(mbMessage);
      }
    }
  }
  if (searchResult.getSummary() == null) {
    Summary summary=getSummary(searchResult.getClassName(),searchResult.getClassPK(),locale);
    searchResult.setSummary(summary);
  }
}
