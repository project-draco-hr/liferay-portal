{
  long classNameId=getRepositoryClassNameId(repositoryId);
  RepositoryDefinition repositoryDefinition=getRepositoryDefinition(classNameId);
  RepositoryFactory repositoryFactory=repositoryDefinition.getRepositoryFactory();
  LocalRepository localRepository=repositoryFactory.createLocalRepository(repositoryId);
  return new CapabilityLocalRepository(localRepository,repositoryDefinition.getSupportedCapabilities(),repositoryDefinition.getExportedCapabilities(),repositoryDefinition.getRepositoryEventTrigger());
}
