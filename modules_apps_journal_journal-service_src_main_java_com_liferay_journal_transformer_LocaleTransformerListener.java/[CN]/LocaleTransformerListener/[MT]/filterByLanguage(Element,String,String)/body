{
  Element defaultLanguageElement=null;
  boolean hasLanguageIdElement=false;
  for (  Element element : root.elements()) {
    String tempLanguageId=element.attributeValue("language-id",languageId);
    if (StringUtil.equalsIgnoreCase(tempLanguageId,languageId)) {
      if (Validator.isNotNull(element.attributeValue("language-id",StringPool.BLANK))) {
        hasLanguageIdElement=true;
      }
      filterByLanguage(element,languageId,defaultLanguageId);
    }
 else {
      if (StringUtil.equalsIgnoreCase(tempLanguageId,defaultLanguageId)) {
        defaultLanguageElement=element;
      }
      root.remove(element);
    }
  }
  if (!hasLanguageIdElement && (defaultLanguageElement != null)) {
    root.add(defaultLanguageElement);
    filterByLanguage(defaultLanguageElement,languageId,defaultLanguageId);
  }
}
