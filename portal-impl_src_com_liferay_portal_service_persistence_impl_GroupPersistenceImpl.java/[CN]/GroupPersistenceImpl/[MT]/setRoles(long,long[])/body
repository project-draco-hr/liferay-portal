{
  Set<Long> newRolePKsSet=SetUtil.fromArray(rolePKs);
  Set<Long> oldRolePKsSet=SetUtil.fromArray(groupToRoleTableMapper.getRightPrimaryKeys(pk));
  Set<Long> removeRolePKsSet=new HashSet<Long>(oldRolePKsSet);
  removeRolePKsSet.removeAll(newRolePKsSet);
  groupToRoleTableMapper.deleteTableMappings(pk,ArrayUtil.toLongArray(removeRolePKsSet));
  newRolePKsSet.removeAll(oldRolePKsSet);
  long companyId=0;
  Group group=fetchByPrimaryKey(pk);
  if (group == null) {
    companyId=companyProvider.getCompanyId();
  }
 else {
    companyId=group.getCompanyId();
  }
  groupToRoleTableMapper.addTableMappings(companyId,pk,ArrayUtil.toLongArray(newRolePKsSet));
}
