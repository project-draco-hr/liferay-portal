{
  ExpandoBridge expandoBridge=ExpandoBridgeFactoryUtil.getExpandoBridge(searchContext.getCompanyId(),className);
  Set<String> attributeNames=SetUtil.fromEnumeration(expandoBridge.getAttributeNames());
  for (  String attributeName : attributeNames) {
    UnicodeProperties properties=expandoBridge.getAttributeProperties(attributeName);
    if (GetterUtil.getBoolean(properties.getProperty(ExpandoBridgeIndexer.INDEXABLE))) {
      String fieldName=ExpandoBridgeIndexerUtil.encodeFieldName(attributeName);
      if (searchContext.isAndSearch()) {
        searchQuery.addRequiredTerm(fieldName,keywords,true);
      }
 else {
        searchQuery.addTerm(fieldName,keywords,true);
      }
    }
  }
}
