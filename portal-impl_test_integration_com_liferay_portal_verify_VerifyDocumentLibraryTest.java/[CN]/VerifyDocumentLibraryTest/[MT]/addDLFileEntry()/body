{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group,TestPropsValues.getUserId());
  byte[] bytes=FileUtil.getBytes(getClass(),"/com/liferay/portlet/documentlibrary/service/dependencies/" + "ddmstructure.xml");
  serviceContext.setAttribute("definition",new String(bytes));
  User user=TestPropsValues.getUser();
  serviceContext.setLanguageId(LocaleUtil.toLanguageId(user.getLocale()));
  DLFileEntryType dlFileEntryType=DLFileEntryTypeLocalServiceUtil.addFileEntryType(TestPropsValues.getUserId(),_group.getGroupId(),RandomTestUtil.randomString(),StringPool.BLANK,new long[0],serviceContext);
  List<DDMStructure> ddmStructures=dlFileEntryType.getDDMStructures();
  DDMStructure ddmStructure=ddmStructures.get(0);
  Map<String,Fields> fieldsMap=new HashMap<String,Fields>();
  Fields fields=new Fields();
  Field nameField=new Field(ddmStructure.getStructureId(),"date_an",new Date());
  fields.put(nameField);
  fieldsMap.put(ddmStructure.getStructureKey(),fields);
  ByteArrayInputStream byteArrayInputStream=new ByteArrayInputStream(RandomTestUtil.randomBytes());
  return DLFileEntryLocalServiceUtil.addFileEntry(TestPropsValues.getUserId(),_group.getGroupId(),_group.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,RandomTestUtil.randomString(),null,RandomTestUtil.randomString(),null,null,dlFileEntryType.getFileEntryTypeId(),fieldsMap,null,byteArrayInputStream,byteArrayInputStream.available(),serviceContext);
}
