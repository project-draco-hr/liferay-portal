{
  try {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    Group userPersonalPanelGroup=_groupLocalService.getGroup(themeDisplay.getCompanyId(),GroupConstants.USER_PERSONAL_PANEL);
    long plid=_layoutLocalService.getDefaultPlid(userPersonalPanelGroup.getGroupId(),true);
    PortletURL portletURL=PortletURLFactoryUtil.create(request,PortletKeys.MY_ACCOUNT,plid,PortletRequest.RENDER_PHASE);
    portletURL.setWindowState(WindowState.MAXIMIZED);
    return portletURL;
  }
 catch (  WindowStateException wse) {
    throw new PortalException(wse);
  }
}
