{
  Class<?> threadLocalMapClass=Class.forName("java.lang.ThreadLocal$ThreadLocalMap");
  Class<?> threadLocalMapEntryClass=Class.forName("java.lang.ThreadLocal$ThreadLocalMap$Entry");
  _threadLocalsField=Thread.class.getDeclaredField("threadLocals");
  _inheritableThreadLocalsField=Thread.class.getDeclaredField("inheritableThreadLocals");
  _tableField=threadLocalMapClass.getDeclaredField("table");
  _tableValueField=threadLocalMapEntryClass.getDeclaredField("value");
  _removeMethod=threadLocalMapClass.getDeclaredMethod("remove",ThreadLocal.class);
  _expungeStaleEntriesMethod=threadLocalMapClass.getDeclaredMethod("expungeStaleEntries");
  _threadLocalsField.setAccessible(true);
  _inheritableThreadLocalsField.setAccessible(true);
  _tableField.setAccessible(true);
  _tableValueField.setAccessible(true);
  _removeMethod.setAccessible(true);
  _expungeStaleEntriesMethod.setAccessible(true);
  _isInitialized=true;
}
