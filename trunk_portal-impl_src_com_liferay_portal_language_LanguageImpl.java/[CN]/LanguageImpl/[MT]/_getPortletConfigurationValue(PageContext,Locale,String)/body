{
  if (PropsValues.TRANSLATIONS_DISABLED) {
    return key;
  }
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  String portletResource=ParamUtil.getString(request,"portletResource");
  long companyId=PortalUtil.getCompanyId(request);
  Portlet portlet=PortletLocalServiceUtil.getPortletById(companyId,portletResource);
  PortletConfig portletConfig=PortletConfigFactoryUtil.create(portlet,pageContext.getServletContext());
  ResourceBundle resourceBundle=portletConfig.getResourceBundle(locale);
  return resourceBundle.getString(key);
}
