{
  String prologue="<?xml version=\"1.0\"?>";
  String xml=prologue + "<root />";
  byte[] bytes=new byte[prologue.length() + 1];
  InputStream is=new ByteArrayInputStream(xml.getBytes());
  StripDoctypeFilter stripDoctypeFilter=new StripDoctypeFilter(is);
  StringBundler sb=new StringBundler();
  int length;
  while ((length=stripDoctypeFilter.read(bytes,0,bytes.length)) > 0) {
    sb.append(new String(bytes,0,length));
  }
  String result=sb.toString();
  Assert.assertEquals(xml,result);
}
