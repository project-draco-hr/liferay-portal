{
  Repository repository=getRepository(repositoryId);
  long groupId;
  long actualRepositoryId;
  long dlFolderId;
  if (repository == null) {
    groupId=repositoryId;
    actualRepositoryId=repositoryId;
    dlFolderId=0;
  }
 else {
    groupId=repository.getGroupId();
    actualRepositoryId=repository.getRepositoryId();
    dlFolderId=repository.getDlFolderId();
  }
  return new LiferayLocalRepository(getRepositoryLocalService(),getRepositoryService(),getDlAppHelperLocalService(),getDlFileEntryLocalService(),getDlFileEntryService(),getDlFileEntryTypeLocalService(),getDlFileVersionLocalService(),getDlFileVersionService(),getDlFolderLocalService(),getDlFolderService(),getResourceLocalService(),groupId,actualRepositoryId,dlFolderId);
}
