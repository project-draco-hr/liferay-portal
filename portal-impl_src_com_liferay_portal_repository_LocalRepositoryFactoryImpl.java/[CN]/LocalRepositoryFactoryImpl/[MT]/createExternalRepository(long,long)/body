{
  RepositoryDefinition repositoryDefinition=getRepositoryDefinition(classNameId);
  RepositoryCreator repositoryCreator=repositoryDefinition.getRepositoryCreator();
  LocalRepository localRepository=repositoryCreator.createLocalRepository(repositoryId);
  return new CapabilityLocalRepository(localRepository,repositoryDefinition.getSupportedCapabilities(),repositoryDefinition.getExportedCapabilities(),repositoryDefinition.getRepositoryEventTrigger());
}
