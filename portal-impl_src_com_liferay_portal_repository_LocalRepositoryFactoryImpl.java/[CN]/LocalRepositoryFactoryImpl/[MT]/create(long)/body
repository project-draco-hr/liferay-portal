{
  long classNameId=getRepositoryClassNameId(repositoryId);
  if (classNameId == getDefaultClassNameId()) {
    return new LiferayLocalRepository(getRepositoryLocalService(),getRepositoryService(),getDlAppHelperLocalService(),getDlFileEntryLocalService(),getDlFileEntryService(),getDlFileEntryTypeLocalService(),getDlFileVersionLocalService(),getDlFileVersionService(),getDlFolderLocalService(),getDlFolderService(),getResourceLocalService(),repositoryId);
  }
 else {
    BaseRepository baseRepository=createExternalRepositoryImpl(repositoryId,classNameId);
    return baseRepository.getLocalRepository();
  }
}
