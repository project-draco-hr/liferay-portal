{
  StringBundler sb=new StringBundler(11);
  boolean secure=false;
  if (themeDisplay.isSecure() || PropsValues.WEBDAV_SERVLET_HTTPS_REQUIRED) {
    secure=true;
  }
  String portalURL=PortalUtil.getPortalURL(themeDisplay.getServerName(),themeDisplay.getServerPort(),secure);
  sb.append(portalURL);
  sb.append(themeDisplay.getPathContext());
  sb.append(StringPool.SLASH);
  sb.append("webdav");
  Group group=themeDisplay.getScopeGroup();
  sb.append(group.getFriendlyURL());
  sb.append(StringPool.SLASH);
  sb.append(webDavToken);
  sb.append(StringPool.SLASH);
  sb.append("Structures");
  sb.append(StringPool.SLASH);
  sb.append(getStructureId());
  return sb.toString();
}
