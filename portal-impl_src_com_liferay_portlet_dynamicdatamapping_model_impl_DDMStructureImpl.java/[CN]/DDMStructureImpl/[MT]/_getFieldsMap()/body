{
  if (_fieldsMap == null) {
synchronized (this) {
      if (_fieldsMap == null) {
        _fieldsMap=new HashMap<String,Map<String,String>>();
        try {
          XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-element[@dataType]");
          List<Node> nodes=xPathSelector.selectNodes(SAXReaderUtil.read(getXsd()));
          Iterator<Node> itr=nodes.iterator();
          while (itr.hasNext()) {
            Element element=(Element)itr.next();
            String name=element.attributeValue("name");
            _fieldsMap.put(name,getField(element));
          }
        }
 catch (        Exception e) {
          _log.error(e,e);
        }
      }
    }
  }
  return _fieldsMap;
}
