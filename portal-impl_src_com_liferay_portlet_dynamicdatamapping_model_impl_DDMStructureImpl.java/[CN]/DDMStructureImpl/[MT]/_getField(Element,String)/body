{
  Map<String,String> field=new HashMap<String,String>();
  List<String> availableLocales=getAvailableLanguageIds();
  if ((locale != null) && !availableLocales.contains(locale)) {
    locale=getDefaultLanguageId();
  }
  locale=HtmlUtil.escapeXPathAttribute(locale);
  String xPathExpression="meta-data[@locale=".concat(locale).concat("]");
  XPath xPathSelector=SAXReaderUtil.createXPath(xPathExpression);
  Node node=xPathSelector.selectSingleNode(element);
  Element metaDataElement=(Element)node.asXPathResult(node.getParent());
  if (metaDataElement != null) {
    List<Element> childMetaDataElements=metaDataElement.elements();
    for (    Element childMetaDataElement : childMetaDataElements) {
      String name=childMetaDataElement.attributeValue("name");
      String value=childMetaDataElement.getText();
      field.put(name,value);
    }
  }
  for (  Attribute attribute : element.attributes()) {
    field.put(attribute.getName(),attribute.getValue());
  }
  Element parentElement=element.getParent();
  if (parentElement != null) {
    String parentName=parentElement.attributeValue("name");
    if (Validator.isNotNull(parentName)) {
      field.put(_getPrivateAttributeKey("parentName"),parentName);
    }
  }
  return field;
}
