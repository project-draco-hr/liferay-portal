{
  Map<String,Map<String,String>> queryMap=_localizedQueryMap.get(locale);
  if (queryMap != null) {
    return queryMap;
  }
  queryMap=new LinkedHashMap<String,Map<String,String>>();
  XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-element[@dataType]");
  List<Node> fieldNodes=xPathSelector.selectNodes(getDocument());
  for (  Node fieldNode : fieldNodes) {
    Element fieldElement=(Element)fieldNode;
    String fieldName=fieldElement.attributeValue("name");
    List<Element> subfieldElements=fieldElement.elements("dynamic-element");
    for (    Element subfieldElement : subfieldElements) {
      Map<String,String> subfield=_getField(subfieldElement,locale);
      List<Attribute> attributes=subfieldElement.attributes();
      for (      Attribute attribute : attributes) {
        String attributeName=attribute.getName();
        String attributeValue=attribute.getValue();
        String cacheKey=_getQueryMapCacheKey(fieldName,attributeName,attributeValue);
        if (!queryMap.containsKey(cacheKey)) {
          queryMap.put(cacheKey,subfield);
        }
      }
    }
  }
  _localizedQueryMap.put(locale,queryMap);
  return queryMap;
}
