{
  if (_localizedFieldsMap.get(locale) == null) {
synchronized (this) {
      if (_localizedFieldsMap.get(locale) == null) {
        Map<String,Map<String,String>> fieldsMap=new LinkedHashMap<String,Map<String,String>>();
        XPath xPathSelector=SAXReaderUtil.createXPath("//dynamic-element[@dataType]");
        List<Node> nodes=xPathSelector.selectNodes(getDocument());
        Iterator<Node> itr=nodes.iterator();
        while (itr.hasNext()) {
          Element element=(Element)itr.next();
          String name=element.attributeValue("name");
          fieldsMap.put(name,_getField(element,locale));
        }
        _localizedFieldsMap.put(locale,fieldsMap);
      }
    }
  }
  return _localizedFieldsMap.get(locale);
}
