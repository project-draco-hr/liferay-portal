{
  Session session=null;
  try {
    if (shoppingItem.isNew() || shoppingItem.isModified()) {
      session=openSession();
      if (shoppingItem.isNew()) {
        ShoppingItemHBM shoppingItemHBM=new ShoppingItemHBM();
        shoppingItemHBM.setItemId(shoppingItem.getItemId());
        shoppingItemHBM.setCompanyId(shoppingItem.getCompanyId());
        shoppingItemHBM.setUserId(shoppingItem.getUserId());
        shoppingItemHBM.setUserName(shoppingItem.getUserName());
        shoppingItemHBM.setCreateDate(shoppingItem.getCreateDate());
        shoppingItemHBM.setModifiedDate(shoppingItem.getModifiedDate());
        shoppingItemHBM.setCategoryId(shoppingItem.getCategoryId());
        shoppingItemHBM.setSku(shoppingItem.getSku());
        shoppingItemHBM.setName(shoppingItem.getName());
        shoppingItemHBM.setDescription(shoppingItem.getDescription());
        shoppingItemHBM.setProperties(shoppingItem.getProperties());
        shoppingItemHBM.setFields(shoppingItem.getFields());
        shoppingItemHBM.setFieldsQuantities(shoppingItem.getFieldsQuantities());
        shoppingItemHBM.setMinQuantity(shoppingItem.getMinQuantity());
        shoppingItemHBM.setMaxQuantity(shoppingItem.getMaxQuantity());
        shoppingItemHBM.setPrice(shoppingItem.getPrice());
        shoppingItemHBM.setDiscount(shoppingItem.getDiscount());
        shoppingItemHBM.setTaxable(shoppingItem.getTaxable());
        shoppingItemHBM.setShipping(shoppingItem.getShipping());
        shoppingItemHBM.setUseShippingFormula(shoppingItem.getUseShippingFormula());
        shoppingItemHBM.setRequiresShipping(shoppingItem.getRequiresShipping());
        shoppingItemHBM.setStockQuantity(shoppingItem.getStockQuantity());
        shoppingItemHBM.setFeatured(shoppingItem.getFeatured());
        shoppingItemHBM.setSale(shoppingItem.getSale());
        shoppingItemHBM.setSmallImage(shoppingItem.getSmallImage());
        shoppingItemHBM.setSmallImageURL(shoppingItem.getSmallImageURL());
        shoppingItemHBM.setMediumImage(shoppingItem.getMediumImage());
        shoppingItemHBM.setMediumImageURL(shoppingItem.getMediumImageURL());
        shoppingItemHBM.setLargeImage(shoppingItem.getLargeImage());
        shoppingItemHBM.setLargeImageURL(shoppingItem.getLargeImageURL());
        shoppingItemHBM.setShoppingItemPrices(new HashSet());
        session.save(shoppingItemHBM);
        session.flush();
      }
 else {
        ShoppingItemHBM shoppingItemHBM=(ShoppingItemHBM)session.get(ShoppingItemHBM.class,shoppingItem.getPrimaryKey());
        if (shoppingItemHBM != null) {
          shoppingItemHBM.setCompanyId(shoppingItem.getCompanyId());
          shoppingItemHBM.setUserId(shoppingItem.getUserId());
          shoppingItemHBM.setUserName(shoppingItem.getUserName());
          shoppingItemHBM.setCreateDate(shoppingItem.getCreateDate());
          shoppingItemHBM.setModifiedDate(shoppingItem.getModifiedDate());
          shoppingItemHBM.setCategoryId(shoppingItem.getCategoryId());
          shoppingItemHBM.setSku(shoppingItem.getSku());
          shoppingItemHBM.setName(shoppingItem.getName());
          shoppingItemHBM.setDescription(shoppingItem.getDescription());
          shoppingItemHBM.setProperties(shoppingItem.getProperties());
          shoppingItemHBM.setFields(shoppingItem.getFields());
          shoppingItemHBM.setFieldsQuantities(shoppingItem.getFieldsQuantities());
          shoppingItemHBM.setMinQuantity(shoppingItem.getMinQuantity());
          shoppingItemHBM.setMaxQuantity(shoppingItem.getMaxQuantity());
          shoppingItemHBM.setPrice(shoppingItem.getPrice());
          shoppingItemHBM.setDiscount(shoppingItem.getDiscount());
          shoppingItemHBM.setTaxable(shoppingItem.getTaxable());
          shoppingItemHBM.setShipping(shoppingItem.getShipping());
          shoppingItemHBM.setUseShippingFormula(shoppingItem.getUseShippingFormula());
          shoppingItemHBM.setRequiresShipping(shoppingItem.getRequiresShipping());
          shoppingItemHBM.setStockQuantity(shoppingItem.getStockQuantity());
          shoppingItemHBM.setFeatured(shoppingItem.getFeatured());
          shoppingItemHBM.setSale(shoppingItem.getSale());
          shoppingItemHBM.setSmallImage(shoppingItem.getSmallImage());
          shoppingItemHBM.setSmallImageURL(shoppingItem.getSmallImageURL());
          shoppingItemHBM.setMediumImage(shoppingItem.getMediumImage());
          shoppingItemHBM.setMediumImageURL(shoppingItem.getMediumImageURL());
          shoppingItemHBM.setLargeImage(shoppingItem.getLargeImage());
          shoppingItemHBM.setLargeImageURL(shoppingItem.getLargeImageURL());
          session.flush();
        }
 else {
          shoppingItemHBM=new ShoppingItemHBM();
          shoppingItemHBM.setItemId(shoppingItem.getItemId());
          shoppingItemHBM.setCompanyId(shoppingItem.getCompanyId());
          shoppingItemHBM.setUserId(shoppingItem.getUserId());
          shoppingItemHBM.setUserName(shoppingItem.getUserName());
          shoppingItemHBM.setCreateDate(shoppingItem.getCreateDate());
          shoppingItemHBM.setModifiedDate(shoppingItem.getModifiedDate());
          shoppingItemHBM.setCategoryId(shoppingItem.getCategoryId());
          shoppingItemHBM.setSku(shoppingItem.getSku());
          shoppingItemHBM.setName(shoppingItem.getName());
          shoppingItemHBM.setDescription(shoppingItem.getDescription());
          shoppingItemHBM.setProperties(shoppingItem.getProperties());
          shoppingItemHBM.setFields(shoppingItem.getFields());
          shoppingItemHBM.setFieldsQuantities(shoppingItem.getFieldsQuantities());
          shoppingItemHBM.setMinQuantity(shoppingItem.getMinQuantity());
          shoppingItemHBM.setMaxQuantity(shoppingItem.getMaxQuantity());
          shoppingItemHBM.setPrice(shoppingItem.getPrice());
          shoppingItemHBM.setDiscount(shoppingItem.getDiscount());
          shoppingItemHBM.setTaxable(shoppingItem.getTaxable());
          shoppingItemHBM.setShipping(shoppingItem.getShipping());
          shoppingItemHBM.setUseShippingFormula(shoppingItem.getUseShippingFormula());
          shoppingItemHBM.setRequiresShipping(shoppingItem.getRequiresShipping());
          shoppingItemHBM.setStockQuantity(shoppingItem.getStockQuantity());
          shoppingItemHBM.setFeatured(shoppingItem.getFeatured());
          shoppingItemHBM.setSale(shoppingItem.getSale());
          shoppingItemHBM.setSmallImage(shoppingItem.getSmallImage());
          shoppingItemHBM.setSmallImageURL(shoppingItem.getSmallImageURL());
          shoppingItemHBM.setMediumImage(shoppingItem.getMediumImage());
          shoppingItemHBM.setMediumImageURL(shoppingItem.getMediumImageURL());
          shoppingItemHBM.setLargeImage(shoppingItem.getLargeImage());
          shoppingItemHBM.setLargeImageURL(shoppingItem.getLargeImageURL());
          session.save(shoppingItemHBM);
          session.flush();
        }
      }
      shoppingItem.setNew(false);
      shoppingItem.setModified(false);
    }
    return shoppingItem;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
