{
  Session session=null;
  try {
    if (shoppingItem.isNew() || shoppingItem.isModified()) {
      session=openSession();
      if (shoppingItem.isNew()) {
        ShoppingItemHBM shoppingItemHBM=new ShoppingItemHBM(shoppingItem.getItemId(),shoppingItem.getCompanyId(),shoppingItem.getCreateDate(),shoppingItem.getModifiedDate(),shoppingItem.getCategoryId(),shoppingItem.getSku(),shoppingItem.getName(),shoppingItem.getDescription(),shoppingItem.getProperties(),shoppingItem.getSupplierUserId(),shoppingItem.getFields(),shoppingItem.getFieldsQuantities(),shoppingItem.getMinQuantity(),shoppingItem.getMaxQuantity(),shoppingItem.getPrice(),shoppingItem.getDiscount(),shoppingItem.getTaxable(),shoppingItem.getShipping(),shoppingItem.getUseShippingFormula(),shoppingItem.getRequiresShipping(),shoppingItem.getStockQuantity(),shoppingItem.getFeatured(),shoppingItem.getSale(),shoppingItem.getSmallImage(),shoppingItem.getSmallImageURL(),shoppingItem.getMediumImage(),shoppingItem.getMediumImageURL(),shoppingItem.getLargeImage(),shoppingItem.getLargeImageURL());
        session.save(shoppingItemHBM);
        session.flush();
      }
 else {
        ShoppingItemHBM shoppingItemHBM=(ShoppingItemHBM)session.get(ShoppingItemHBM.class,shoppingItem.getPrimaryKey());
        if (shoppingItemHBM != null) {
          shoppingItemHBM.setCompanyId(shoppingItem.getCompanyId());
          shoppingItemHBM.setCreateDate(shoppingItem.getCreateDate());
          shoppingItemHBM.setModifiedDate(shoppingItem.getModifiedDate());
          shoppingItemHBM.setCategoryId(shoppingItem.getCategoryId());
          shoppingItemHBM.setSku(shoppingItem.getSku());
          shoppingItemHBM.setName(shoppingItem.getName());
          shoppingItemHBM.setDescription(shoppingItem.getDescription());
          shoppingItemHBM.setProperties(shoppingItem.getProperties());
          shoppingItemHBM.setSupplierUserId(shoppingItem.getSupplierUserId());
          shoppingItemHBM.setFields(shoppingItem.getFields());
          shoppingItemHBM.setFieldsQuantities(shoppingItem.getFieldsQuantities());
          shoppingItemHBM.setMinQuantity(shoppingItem.getMinQuantity());
          shoppingItemHBM.setMaxQuantity(shoppingItem.getMaxQuantity());
          shoppingItemHBM.setPrice(shoppingItem.getPrice());
          shoppingItemHBM.setDiscount(shoppingItem.getDiscount());
          shoppingItemHBM.setTaxable(shoppingItem.getTaxable());
          shoppingItemHBM.setShipping(shoppingItem.getShipping());
          shoppingItemHBM.setUseShippingFormula(shoppingItem.getUseShippingFormula());
          shoppingItemHBM.setRequiresShipping(shoppingItem.getRequiresShipping());
          shoppingItemHBM.setStockQuantity(shoppingItem.getStockQuantity());
          shoppingItemHBM.setFeatured(shoppingItem.getFeatured());
          shoppingItemHBM.setSale(shoppingItem.getSale());
          shoppingItemHBM.setSmallImage(shoppingItem.getSmallImage());
          shoppingItemHBM.setSmallImageURL(shoppingItem.getSmallImageURL());
          shoppingItemHBM.setMediumImage(shoppingItem.getMediumImage());
          shoppingItemHBM.setMediumImageURL(shoppingItem.getMediumImageURL());
          shoppingItemHBM.setLargeImage(shoppingItem.getLargeImage());
          shoppingItemHBM.setLargeImageURL(shoppingItem.getLargeImageURL());
          session.flush();
        }
 else {
          shoppingItemHBM=new ShoppingItemHBM(shoppingItem.getItemId(),shoppingItem.getCompanyId(),shoppingItem.getCreateDate(),shoppingItem.getModifiedDate(),shoppingItem.getCategoryId(),shoppingItem.getSku(),shoppingItem.getName(),shoppingItem.getDescription(),shoppingItem.getProperties(),shoppingItem.getSupplierUserId(),shoppingItem.getFields(),shoppingItem.getFieldsQuantities(),shoppingItem.getMinQuantity(),shoppingItem.getMaxQuantity(),shoppingItem.getPrice(),shoppingItem.getDiscount(),shoppingItem.getTaxable(),shoppingItem.getShipping(),shoppingItem.getUseShippingFormula(),shoppingItem.getRequiresShipping(),shoppingItem.getStockQuantity(),shoppingItem.getFeatured(),shoppingItem.getSale(),shoppingItem.getSmallImage(),shoppingItem.getSmallImageURL(),shoppingItem.getMediumImage(),shoppingItem.getMediumImageURL(),shoppingItem.getLargeImage(),shoppingItem.getLargeImageURL());
          session.save(shoppingItemHBM);
          session.flush();
        }
      }
      shoppingItem.setNew(false);
      shoppingItem.setModified(false);
      shoppingItem.protect();
      ShoppingItemPool.update(shoppingItem.getPrimaryKey(),shoppingItem);
    }
    return shoppingItem;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
