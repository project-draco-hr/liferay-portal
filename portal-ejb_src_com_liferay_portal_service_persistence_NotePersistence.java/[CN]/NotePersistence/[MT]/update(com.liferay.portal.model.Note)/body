{
  Session session=null;
  try {
    if (note.isNew() || note.isModified()) {
      session=openSession();
      if (note.isNew()) {
        NoteHBM noteHBM=new NoteHBM();
        noteHBM.setNoteId(note.getNoteId());
        noteHBM.setCompanyId(note.getCompanyId());
        noteHBM.setUserId(note.getUserId());
        noteHBM.setUserName(note.getUserName());
        noteHBM.setCreateDate(note.getCreateDate());
        noteHBM.setModifiedDate(note.getModifiedDate());
        noteHBM.setClassName(note.getClassName());
        noteHBM.setClassPK(note.getClassPK());
        noteHBM.setContent(note.getContent());
        session.save(noteHBM);
        session.flush();
      }
 else {
        NoteHBM noteHBM=(NoteHBM)session.get(NoteHBM.class,note.getPrimaryKey());
        if (noteHBM != null) {
          noteHBM.setCompanyId(note.getCompanyId());
          noteHBM.setUserId(note.getUserId());
          noteHBM.setUserName(note.getUserName());
          noteHBM.setCreateDate(note.getCreateDate());
          noteHBM.setModifiedDate(note.getModifiedDate());
          noteHBM.setClassName(note.getClassName());
          noteHBM.setClassPK(note.getClassPK());
          noteHBM.setContent(note.getContent());
          session.flush();
        }
 else {
          noteHBM=new NoteHBM();
          noteHBM.setNoteId(note.getNoteId());
          noteHBM.setCompanyId(note.getCompanyId());
          noteHBM.setUserId(note.getUserId());
          noteHBM.setUserName(note.getUserName());
          noteHBM.setCreateDate(note.getCreateDate());
          noteHBM.setModifiedDate(note.getModifiedDate());
          noteHBM.setClassName(note.getClassName());
          noteHBM.setClassPK(note.getClassPK());
          noteHBM.setContent(note.getContent());
          session.save(noteHBM);
          session.flush();
        }
      }
      note.setNew(false);
      note.setModified(false);
    }
    return note;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
