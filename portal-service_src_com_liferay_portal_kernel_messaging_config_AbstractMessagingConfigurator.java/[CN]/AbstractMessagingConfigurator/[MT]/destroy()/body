{
  disconnect();
  _messageBusEventListeners.clear();
  _messageBusEventListenerServiceRegistrar.destroy();
  _destinationConfigurations.clear();
  _destinationConfigServiceRegistrar.destroy();
  for (  Destination destination : _destinations) {
    _messageBus.removeDestination(destination.getName());
    destination.close();
  }
  for (  Map.Entry<String,List<DestinationEventListener>> destinationEventListeners : _destinationEventListeners.entrySet()) {
    String destinationName=destinationEventListeners.getKey();
    for (    DestinationEventListener destinationEventListener : destinationEventListeners.getValue()) {
      Destination destination=_messageBus.getDestination(destinationName);
      if (destination != null) {
        destination.removeDestinationEventListener(destinationEventListener);
      }
    }
  }
  ClassLoader operatingClassLoader=getOperatingClassloader();
  String servletContextName=ClassLoaderPool.getContextName(operatingClassLoader);
  MessagingConfiguratorRegistry.unregisterMessagingConfigurator(servletContextName,this);
}
