{
  if (_destinationConfigurations.isEmpty()) {
    return;
  }
  Registry registry=RegistryUtil.getRegistry();
  _destinationConfigurationServiceRegistrar=registry.getServiceRegistrar(DestinationConfiguration.class);
  for (  DestinationConfiguration destinationConfiguration : _destinationConfigurations) {
    try {
      PortalMessageBusPermission.checkListen(destinationConfiguration.getDestinationName());
    }
 catch (    SecurityException se) {
      if (_log.isInfoEnabled()) {
        _log.info("Rejecting destination " + destinationConfiguration.getDestinationName());
      }
      continue;
    }
    Map<String,Object> properties=new HashMap<>();
    properties.put("destination.name",destinationConfiguration.getDestinationName());
    _destinationConfigurationServiceRegistrar.registerService(DestinationConfiguration.class,destinationConfiguration,properties);
  }
}
