{
  IMediaReader iMediaReader=ToolFactory.makeReader(srcFile.getCanonicalPath());
  IMediaWriter iMediaWriter=ToolFactory.makeWriter(destFile.getCanonicalPath(),iMediaReader);
  iMediaWriter.addAudioStream(0,0,ICodec.ID.CODEC_ID_MP3,_CHANNELS,_SAMPLE_RATE);
  iMediaReader.addListener(iMediaWriter);
  try {
    while (iMediaReader.readPacket() == null) {
    }
  }
 catch (  Exception e) {
    _log.error(e);
  }
  addFileToStore(fileVersion.getCompanyId(),PREVIEW_PATH,getPreviewFilePath(fileVersion),destFile);
  if (_log.isInfoEnabled()) {
    _log.info("Xuggler generated a preview audio for " + fileVersion.getFileVersionId());
  }
}
