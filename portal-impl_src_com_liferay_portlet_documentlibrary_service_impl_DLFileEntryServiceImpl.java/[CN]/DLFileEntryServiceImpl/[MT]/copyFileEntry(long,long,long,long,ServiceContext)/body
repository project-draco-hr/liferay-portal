{
  DLFileEntry dlFileEntry=getFileEntry(fileEntryId);
  String sourceFileName="A." + dlFileEntry.getExtension();
  InputStream inputStream=DLStoreUtil.getFileAsStream(dlFileEntry.getCompanyId(),dlFileEntry.getFolderId(),dlFileEntry.getName());
  DLFileEntry newDlFileEntry=addFileEntry(groupId,repositoryId,destFolderId,sourceFileName,dlFileEntry.getMimeType(),dlFileEntry.getTitle(),dlFileEntry.getDescription(),null,dlFileEntry.getFileEntryTypeId(),null,inputStream,dlFileEntry.getSize(),serviceContext);
  DLFileVersion dlFileVersion=dlFileVersionLocalService.getFileVersion(fileEntryId,dlFileEntry.getVersion());
  DLFileVersion newDlFileVersion=dlFileVersionLocalService.getFileVersion(newDlFileEntry.getFileEntryId(),newDlFileEntry.getVersion());
  dlFileEntryLocalService.copyFileEntryMetadata(dlFileVersion.getCompanyId(),dlFileVersion.getFileEntryTypeId(),fileEntryId,newDlFileVersion.getFileVersionId(),dlFileVersion.getFileVersionId(),serviceContext);
  return newDlFileEntry;
}
