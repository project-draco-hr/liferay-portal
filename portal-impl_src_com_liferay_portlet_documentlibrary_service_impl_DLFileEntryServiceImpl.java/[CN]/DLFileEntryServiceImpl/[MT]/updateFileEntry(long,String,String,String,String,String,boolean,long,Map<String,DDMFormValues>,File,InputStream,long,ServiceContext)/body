{
  DLFileEntryPermission.check(getPermissionChecker(),fileEntryId,ActionKeys.UPDATE);
  if (LockManagerUtil.isLocked(DLFileEntryConstants.getClassName(),fileEntryId)) {
    boolean hasLock=LockManagerUtil.hasLock(getUserId(),DLFileEntry.class.getName(),fileEntryId);
    if (!hasLock) {
      throw new FileEntryLockException.MustOwnLock();
    }
  }
  return dlFileEntryLocalService.updateFileEntry(getUserId(),fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,fileEntryTypeId,ddmFormValuesMap,file,is,size,serviceContext);
}
