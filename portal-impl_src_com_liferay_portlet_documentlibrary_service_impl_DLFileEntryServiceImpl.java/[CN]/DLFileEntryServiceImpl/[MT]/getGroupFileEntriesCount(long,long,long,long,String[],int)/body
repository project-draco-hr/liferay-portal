{
  List<Long> repositoryIds=new ArrayList<Long>();
  if (repositoryId != 0) {
    repositoryIds.add(repositoryId);
  }
  if (rootFolderId == DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    return dlFileEntryFinder.filterCountByG_U_F_R_M(groupId,userId,new ArrayList<Long>(),repositoryIds,mimeTypes,new QueryDefinition(status));
  }
  List<Long> folderIds=dlFolderService.getFolderIds(groupId,rootFolderId);
  if (folderIds.isEmpty()) {
    return 0;
  }
  return dlFileEntryFinder.filterCountByG_U_F_R_M(groupId,userId,folderIds,repositoryIds,mimeTypes,new QueryDefinition(status));
}
