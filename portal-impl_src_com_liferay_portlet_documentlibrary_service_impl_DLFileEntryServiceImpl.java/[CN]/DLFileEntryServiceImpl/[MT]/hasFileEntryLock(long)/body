{
  DLFileEntry dlFileEntry=dlFileEntryLocalService.getFileEntry(fileEntryId);
  long folderId=dlFileEntry.getFolderId();
  boolean hasLock=lockLocalService.hasLock(getUserId(),DLFileEntry.class.getName(),fileEntryId);
  if (!hasLock && (folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID)) {
    hasLock=dlFolderService.hasInheritableLock(folderId);
  }
  if (DLFileEntryPermission.contains(getPermissionChecker(),fileEntryId,ActionKeys.OVERRIDE_CHECKOUT)) {
    hasLock=true;
  }
  return hasLock;
}
