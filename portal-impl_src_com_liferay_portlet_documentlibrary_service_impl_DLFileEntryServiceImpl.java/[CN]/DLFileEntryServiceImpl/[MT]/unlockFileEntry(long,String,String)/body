{
  String lockId=DLUtil.getLockId(folderId,name);
  if (Validator.isNotNull(uuid)) {
    try {
      Lock lock=lockService.getLock(DLFileEntry.class.getName(),lockId);
      if (!lock.getUuid().equals(uuid)) {
        throw new InvalidLockException("UUIDs do not match");
      }
    }
 catch (    PortalException pe) {
      if (!(pe instanceof NoSuchLockException) && !(pe instanceof ExpiredLockException)) {
        throw pe;
      }
    }
  }
  lockService.unlock(DLFileEntry.class.getName(),lockId);
}
