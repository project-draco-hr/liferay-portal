{
  if ((expirationTime <= 0) || (expirationTime > DLFileEntryImpl.LOCK_EXPIRATION_TIME)) {
    expirationTime=DLFileEntryImpl.LOCK_EXPIRATION_TIME;
  }
  String lockId=DLUtil.getLockId(groupId,folderId,name);
  return lockLocalService.lock(getUser().getUserId(),DLFileEntry.class.getName(),lockId,owner,false,System.currentTimeMillis() + expirationTime);
}
