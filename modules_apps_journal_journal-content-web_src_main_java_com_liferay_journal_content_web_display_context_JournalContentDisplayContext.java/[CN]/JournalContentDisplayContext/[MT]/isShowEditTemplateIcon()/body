{
  if (_showEditTemplateIcon != null) {
    return _showEditTemplateIcon;
  }
  _showEditTemplateIcon=false;
  DDMTemplate ddmTemplate=getDDMTemplate();
  if (ddmTemplate == null) {
    return _showEditTemplateIcon;
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)_portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  try {
    _showEditTemplateIcon=DDMTemplatePermission.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),ddmTemplate,portletDisplay.getId(),ActionKeys.UPDATE);
  }
 catch (  PortalException pe) {
    _log.error("Unable to check permission on ddm template " + ddmTemplate.getTemplateId());
  }
  return _showEditTemplateIcon;
}
