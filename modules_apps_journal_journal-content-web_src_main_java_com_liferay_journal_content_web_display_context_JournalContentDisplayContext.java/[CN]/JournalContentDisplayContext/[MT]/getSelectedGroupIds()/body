{
  ThemeDisplay themeDisplay=(ThemeDisplay)_portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Company company=themeDisplay.getCompany();
  Group scopeGroup=themeDisplay.getScopeGroup();
  User user=themeDisplay.getUser();
  if (scopeGroup.isGuest() || scopeGroup.isRoot()) {
    return PortalUtil.getSharedContentSiteGroupIds(company.getCompanyId(),scopeGroup.getGroupId(),user.getUserId());
  }
  return new long[]{scopeGroup.getGroupId()};
}
