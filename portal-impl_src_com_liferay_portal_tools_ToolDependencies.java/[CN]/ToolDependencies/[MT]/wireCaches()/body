{
  RegistryUtil.setRegistry(new BasicRegistryImpl());
  Registry registry=RegistryUtil.getRegistry();
  Map<String,Object> properties=new HashMap<>();
  properties.put("portal.cache.manager.name",PortalCacheManagerNames.SINGLE_VM);
  properties.put("portal.cache.manager.type",PropsValues.PORTAL_CACHE_MANAGER_TYPE_SINGLE_VM);
  registry.registerService(PortalCacheManager.class,MemoryPortalCacheManager.createMemoryPortalCacheManager(PortalCacheManagerNames.SINGLE_VM),properties);
  SingleVMPoolUtil singleVMPoolUtil=new SingleVMPoolUtil();
  singleVMPoolUtil.setSingleVMPool(new SingleVMPoolImpl());
  properties=new HashMap<>();
  properties.put("portal.cache.manager.name",PortalCacheManagerNames.MULTI_VM);
  properties.put("portal.cache.manager.type",PropsValues.PORTAL_CACHE_MANAGER_TYPE_MULTI_VM);
  registry.registerService(PortalCacheManager.class,MemoryPortalCacheManager.createMemoryPortalCacheManager(PortalCacheManagerNames.MULTI_VM),properties);
  MultiVMPoolUtil multiVMPoolUtil=new MultiVMPoolUtil();
  multiVMPoolUtil.setMultiVMPool(new MultiVMPoolImpl());
}
