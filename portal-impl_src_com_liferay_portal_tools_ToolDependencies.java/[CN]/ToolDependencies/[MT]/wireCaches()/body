{
  RegistryUtil.setRegistry(new BasicRegistryImpl());
  Registry registry=RegistryUtil.getRegistry();
  Map<String,Object> properties=new HashMap<>();
  properties.put("portal.cache.manager._name",PortalCacheManagerNames.SINGLE_VM);
  properties.put("portal.cache.manager.type",PropsValues.PORTAL_CACHE_MANAGER_TYPE_SINGLE_VM);
  registry.registerService(PortalCacheManager.class,MemoryPortalCacheManager.createMemoryPortalCacheManager(PortalCacheManagerNames.SINGLE_VM),properties);
  SingleVMPoolUtil singleVMPoolUtil=new SingleVMPoolUtil();
  try {
    singleVMPoolUtil.setSingleVMPool(new SingleVMPoolImpl());
  }
 catch (  InterruptedException ie) {
  }
  properties=new HashMap<>();
  properties.put("portal.cache.manager._name",PortalCacheManagerNames.MULTI_VM);
  properties.put("portal.cache.manager.type",PropsValues.PORTAL_CACHE_MANAGER_TYPE_MULTI_VM);
  registry.registerService(PortalCacheManager.class,MemoryPortalCacheManager.createMemoryPortalCacheManager(PortalCacheManagerNames.MULTI_VM),properties);
  MultiVMPoolUtil multiVMPoolUtil=new MultiVMPoolUtil();
  try {
    multiVMPoolUtil.setMultiVMPool(new MultiVMPoolImpl());
  }
 catch (  Exception e) {
  }
}
