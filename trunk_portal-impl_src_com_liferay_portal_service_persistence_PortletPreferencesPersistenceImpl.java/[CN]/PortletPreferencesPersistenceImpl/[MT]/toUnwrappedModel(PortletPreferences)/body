{
  if (portletPreferences instanceof PortletPreferencesImpl) {
    return portletPreferences;
  }
  PortletPreferencesImpl portletPreferencesImpl=new PortletPreferencesImpl();
  portletPreferencesImpl.setNew(portletPreferences.isNew());
  portletPreferencesImpl.setPrimaryKey(portletPreferences.getPrimaryKey());
  portletPreferencesImpl.setPortletPreferencesId(portletPreferences.getPortletPreferencesId());
  portletPreferencesImpl.setOwnerId(portletPreferences.getOwnerId());
  portletPreferencesImpl.setOwnerType(portletPreferences.getOwnerType());
  portletPreferencesImpl.setPlid(portletPreferences.getPlid());
  portletPreferencesImpl.setPortletId(portletPreferences.getPortletId());
  portletPreferencesImpl.setPreferences(portletPreferences.getPreferences());
  return portletPreferencesImpl;
}
