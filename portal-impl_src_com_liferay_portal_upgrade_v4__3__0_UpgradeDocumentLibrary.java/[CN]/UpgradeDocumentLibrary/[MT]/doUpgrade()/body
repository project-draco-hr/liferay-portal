{
  UpgradeColumn upgradeGroupIdColumn=new SwapUpgradeColumnImpl("groupId",AvailableMappersUtil.getGroupIdMapper());
  UpgradeColumn upgradeUserIdColumn=new SwapUpgradeColumnImpl("userId",new Integer(Types.VARCHAR),AvailableMappersUtil.getUserIdMapper());
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl("folderId",true);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(DLFolderImpl.TABLE_NAME,DLFolderImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeGroupIdColumn,upgradeUserIdColumn);
  upgradeTable.updateTable();
  ValueMapper folderIdMapper=new DefaultPKMapper(pkUpgradeColumn.getValueMapper());
  AvailableMappersUtil.setDLFolderIdMapper(folderIdMapper);
  UpgradeColumn upgradeParentFolderIdColumn=new SwapUpgradeColumnImpl("parentFolderId",folderIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(DLFolderImpl.TABLE_NAME,DLFolderImpl.TABLE_COLUMNS,upgradeParentFolderIdColumn);
  upgradeTable.updateTable();
  UpgradeColumn upgradeFolderIdColumn=new SwapUpgradeColumnImpl("folderId",folderIdMapper);
  UpgradeColumn upgradeToFolderIdColumn=new SwapUpgradeColumnImpl("toFolderId",folderIdMapper);
  UpgradeColumn upgradeNameColumn=new TempUpgradeColumnImpl("name");
  PKUpgradeColumnImpl fileEntryIdColumn=new DLFileEntryIdUpgradeColumnImpl(upgradeFolderIdColumn,upgradeNameColumn);
  UpgradeColumn upgradeVersionUserIdColumn=new SwapUpgradeColumnImpl("versionUserId",new Integer(Types.VARCHAR),AvailableMappersUtil.getUserIdMapper());
  upgradeTable=new DefaultUpgradeTableImpl(DLFileEntryImpl.TABLE_NAME,DLFileEntryImpl.TABLE_COLUMNS,upgradeFolderIdColumn,upgradeNameColumn,fileEntryIdColumn,upgradeUserIdColumn,upgradeVersionUserIdColumn);
  upgradeTable.updateTable();
  ValueMapper fileEntryIdMapper=fileEntryIdColumn.getValueMapper();
  AvailableMappersUtil.setDLFileEntryIdMapper(fileEntryIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(DLFileRankImpl.TABLE_NAME,DLFileRankImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl("fileRankId",false),upgradeUserIdColumn,upgradeFolderIdColumn);
  upgradeTable.updateTable();
  pkUpgradeColumn=new PKUpgradeColumnImpl("fileShortcutId",true);
  upgradeTable=new DefaultUpgradeTableImpl(DLFileShortcutImpl.TABLE_NAME,DLFileShortcutImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeUserIdColumn,upgradeFolderIdColumn,upgradeToFolderIdColumn);
  upgradeTable.updateTable();
  ValueMapper fileShortcutIdMapper=pkUpgradeColumn.getValueMapper();
  AvailableMappersUtil.setDLFileShortcutIdMapper(fileShortcutIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(DLFileVersionImpl.TABLE_NAME,DLFileVersionImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl("fileVersionId",false),upgradeUserIdColumn,upgradeFolderIdColumn);
  upgradeTable.updateTable();
  runSQL(_UPGRADE_SCHEMA);
}
