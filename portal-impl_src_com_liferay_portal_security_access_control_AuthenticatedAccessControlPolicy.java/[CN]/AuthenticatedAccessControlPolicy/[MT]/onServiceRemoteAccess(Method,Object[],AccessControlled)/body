{
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  ServiceAccessControlProfile defaultServiceAccessControlProfile=null;
  if (ServiceAccessControlProfileManagerUtil.getServiceAccessControlProfileManager() != null) {
    defaultServiceAccessControlProfile=ServiceAccessControlProfileManagerUtil.getDefaultServiceAccessControlProfile(permissionChecker.getCompanyId());
  }
  if ((defaultServiceAccessControlProfile == null) && !accessControlled.guestAccessEnabled() && ((permissionChecker == null) || !permissionChecker.isSignedIn())) {
    throw new SecurityException("Authenticated access required");
  }
}
