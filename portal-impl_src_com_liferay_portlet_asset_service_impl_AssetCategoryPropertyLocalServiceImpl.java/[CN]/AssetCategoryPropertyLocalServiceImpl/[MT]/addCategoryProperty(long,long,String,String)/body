{
  User user=userPersistence.findByPrimaryKey(userId);
  Date now=new Date();
  validate(key,value);
  long categoryPropertyId=counterLocalService.increment();
  AssetCategoryProperty categoryProperty=assetCategoryPropertyPersistence.create(categoryPropertyId);
  categoryProperty.setCompanyId(user.getCompanyId());
  categoryProperty.setUserId(user.getUserId());
  categoryProperty.setUserName(user.getFullName());
  categoryProperty.setCreateDate(now);
  categoryProperty.setModifiedDate(now);
  categoryProperty.setCategoryId(categoryId);
  categoryProperty.setKey(key);
  categoryProperty.setValue(value);
  assetCategoryPropertyPersistence.update(categoryProperty);
  return categoryProperty;
}
