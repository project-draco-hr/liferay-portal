{
  String languageId=request.getParameter("languageId");
  if (languageId == null) {
    if (_log.isInfoEnabled()) {
      _log.info("Language parameter not present");
    }
    processFilter(LanguageFilter.class.getName(),request,response,filterChain);
    return;
  }
  BufferCacheServletResponse bufferCacheServletResponse=new BufferCacheServletResponse(response);
  processFilter(LanguageFilter.class.getName(),request,bufferCacheServletResponse,filterChain);
  if (_log.isDebugEnabled()) {
    String completeURL=HttpUtil.getCompleteURL(request);
    _log.debug("Translating response " + completeURL);
  }
  String content=bufferCacheServletResponse.getString();
  content=translateResponse(languageId,content);
  ServletResponseUtil.write(response,content);
}
