{
  Document document=new Document();
  addField(document,com.liferay.portal.kernel.search.Field.PORTLET_ID,PortletKeys.SEARCH,Field.Store.YES,FieldInfo.IndexOptions.DOCS_ONLY,true);
  addField(document,localizedFieldName,word,Field.Store.YES,FieldInfo.IndexOptions.DOCS_ONLY,true);
  addField(document,com.liferay.portal.kernel.search.Field.LOCALE,locale.toString(),Field.Store.NO,FieldInfo.IndexOptions.DOCS_ONLY,true);
  NGramHolder nGramHolder=NGramHolderBuilderUtil.buildNGramHolder(word);
  Map<String,String> nGramEnds=nGramHolder.getNGramEnds();
  addNGramFields(document,nGramEnds);
  Map<String,List<String>> nGrams=nGramHolder.getNGrams();
  for (  Map.Entry<String,List<String>> nGramsEntry : nGrams.entrySet()) {
    String fieldName=nGramsEntry.getKey();
    for (    String nGram : nGramsEntry.getValue()) {
      addField(document,fieldName,nGram,Field.Store.NO,FieldInfo.IndexOptions.DOCS_AND_FREQS,false);
    }
  }
  Map<String,String> nGramStarts=nGramHolder.getNGramStarts();
  addNGramFields(document,nGramStarts);
  return document;
}
