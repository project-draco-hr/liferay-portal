{
  Registry registry=RegistryUtil.getRegistry();
  registry.registerService(TestInterface1.class,new TestInstance1());
  registry.registerService(TestInterface2.class,new TestInstance2());
  ServiceReference serviceReference=registry.getServiceReference(TestInterface1.class);
  ServiceReference serviceReference2=registry.getServiceReference(TestInterface2.class);
  ServiceReference serviceReference3=registry.getServiceReference(TestInterface2.class);
  ClassBasedServiceDependencyVerifier classBasedServiceDependencyVerifier=new ClassBasedServiceDependencyVerifier(TestInstance1.class);
  Assert.assertTrue(classBasedServiceDependencyVerifier.verify(serviceReference));
  Assert.assertFalse(classBasedServiceDependencyVerifier.verify(serviceReference2));
  ClassBasedServiceDependencyVerifier classBasedServiceDependencyVerifier2=new ClassBasedServiceDependencyVerifier(TestInstance2.class);
  Assert.assertTrue(classBasedServiceDependencyVerifier2.verify(serviceReference2));
  ClassBasedServiceDependencyVerifier classBasedServiceDependencyVerifier3=new ClassBasedServiceDependencyVerifier(TestInstance3.class);
  Assert.assertFalse(classBasedServiceDependencyVerifier3.verify(serviceReference3));
}
