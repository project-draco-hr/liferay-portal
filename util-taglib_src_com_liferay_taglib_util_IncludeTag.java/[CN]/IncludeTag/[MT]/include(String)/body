{
  ServletContext servletContext=getServletContext();
  RequestDispatcher requestDispatcher=DirectRequestDispatcherUtil.getRequestDispatcher(servletContext,page);
  HttpServletRequest request=getServletRequest();
  request.setAttribute(WebKeys.SERVLET_CONTEXT_INCLUDE_FILTER_STRICT,_strict);
  HttpServletResponse response=new PipingServletResponse(pageContext,isTrimNewLines());
  if (!isWARFile(request)) {
    requestDispatcher.include(request,response);
  }
 else {
    ClassLoader classLoader=PortalClassLoaderUtil.getClassLoader();
    Class<?> clazz=classLoader.loadClass(_LIFERAY_REQUEST_DISPATCHER);
    Constructor<?> constructor=clazz.getConstructor(RequestDispatcher.class,String.class);
    Object obj=constructor.newInstance(requestDispatcher,page);
    Method method=clazz.getMethod("include",ServletRequest.class,ServletResponse.class,boolean.class);
    method.invoke(obj,request,response,true);
  }
  request.removeAttribute(WebKeys.SERVLET_CONTEXT_INCLUDE_FILTER_STRICT);
}
