{
  HttpServletRequest req=null;
  try {
    ServletContext ctx=getServletContext();
    req=getServletRequest();
    StringServletResponse res=getServletResponse();
    Theme theme=(Theme)req.getAttribute(WebKeys.THEME);
    String page=getPage();
    if (isTheme()) {
      ThemeUtil.include(ctx,req,res,pageContext,page,theme);
    }
 else {
      RequestDispatcher rd=ctx.getRequestDispatcher(page);
      rd.include(req,res);
    }
    pageContext.getOut().print(res.getString());
    return EVAL_PAGE;
  }
 catch (  Exception e) {
    if (req != null) {
      String currentURL=(String)req.getAttribute(WebKeys.CURRENT_URL);
      _log.error("Current URL " + currentURL + " generates exception: "+ e.getMessage());
    }
    LogUtil.log(_log,e);
    if (e instanceof JspException) {
      throw (JspException)e;
    }
    return EVAL_PAGE;
  }
 finally {
    clearParams();
    clearProperties();
  }
}
