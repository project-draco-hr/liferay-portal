{
  HttpServletRequest request=getServletRequest();
  ThemeDisplay themeDisplay=(ThemeDisplay)pageContext.getAttribute("themeDisplay");
  JspWriter jspWriter=pageContext.getOut();
  boolean jsLoaded=GetterUtil.getBoolean((String)request.getAttribute("taglib-icon-help"));
  if (!jsLoaded) {
    StringBundler script=new StringBundler();
    script.append("<script type=\"text/javascript\">");
    script.append("Liferay.Portal.ToolTip.addShowListeners();");
    script.append("</script>");
    String position=PositionTagSupport.getPosition(request,StringPool.BLANK);
    if (position.equals(PositionTagSupport.POSITION_INLINE)) {
      jspWriter.write(script.toString());
    }
 else {
      StringBundler sb=(StringBundler)request.getAttribute(WebKeys.PAGE_TOP);
      if (sb == null) {
        sb=new StringBundler();
        request.setAttribute(WebKeys.PAGE_TOP,sb);
      }
      sb.append(script.toString());
    }
    request.setAttribute("taglib-icon-help",String.valueOf(true));
  }
  jspWriter.write("<span class=\"taglib-icon-help\">");
  jspWriter.write("<img tabindex=\"0\" alt=\"\" ");
  jspWriter.write("class=\"tooltip-target\" ");
  jspWriter.write("src=\"");
  jspWriter.write(themeDisplay.getPathThemeImages());
  jspWriter.write("/portlet/help.png\" />");
  jspWriter.write("<span class=\"aui-helper-hidden-accessible ");
  jspWriter.write("tooltip-container\" >");
  jspWriter.write(LanguageUtil.get(pageContext,getMessage()));
  jspWriter.write("</span></span>");
  return EVAL_PAGE;
}
