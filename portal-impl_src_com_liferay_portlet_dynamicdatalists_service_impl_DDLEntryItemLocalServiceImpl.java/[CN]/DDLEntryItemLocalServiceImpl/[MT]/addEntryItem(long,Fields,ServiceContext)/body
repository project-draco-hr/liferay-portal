{
  DDLEntry entry=ddlEntryPersistence.findByPrimaryKey(entryId);
  long entryItemId=counterLocalService.increment();
  DDLEntryItem entryItem=ddlEntryItemPersistence.create(entryItemId);
  DDMStructure ddmStructure=entry.getDDMStructure();
  entryItem.setClassNameId(ddmStructure.getClassNameId());
  long classPK=StorageEngineUtil.create(entry.getCompanyId(),entry.getDDMStructureId(),fields,serviceContext);
  entryItem.setClassPK(classPK);
  entryItem.setEntryId(entryId);
  ddlEntryItemPersistence.update(entryItem,false);
  long classNameId=PortalUtil.getClassNameId(DDLEntryItem.class);
  ddmStructureLinkLocalService.addStructureLink(classNameId,entryItemId,entry.getDDMStructureId(),serviceContext);
  return entryItem;
}
