{
  if (factoryConfigurations.isEmpty()) {
    return;
  }
  if (!_clusterEnabled || _clusterLinkReplicationEnabled) {
    factoryConfigurations.clear();
    return;
  }
  for (  FactoryConfiguration factoryConfiguration : factoryConfigurations) {
    Properties properties=null;
    factoryConfiguration.setClass(parseFactoryClassName(factoryConfiguration.getFullyQualifiedClassPath()));
    String propertiesString=factoryConfiguration.getProperties();
    if (Validator.isNull(propertiesString)) {
      properties=new Properties();
    }
 else {
      properties=parseProperties(propertiesString,factoryConfiguration.getPropertySeparator());
    }
    properties.put(PropsKeys.CLUSTER_LINK_ENABLED,_clusterEnabled);
    properties.put(PropsKeys.EHCACHE_CLUSTER_LINK_REPLICATION_ENABLED,_clusterLinkReplicationEnabled);
    factoryConfiguration.setProperties(getPropertiesString(properties,factoryConfiguration.getPropertySeparator()));
  }
}
