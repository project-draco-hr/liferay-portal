{
  List<Element> referenceElements=portletDataContext.getReferenceElements(stagedModel,AssetCategory.class);
  List<Long> assetCategoryIds=new ArrayList<>(referenceElements.size());
  for (  Element referenceElement : referenceElements) {
    long classPK=GetterUtil.getLong(referenceElement.attributeValue("class-pk"));
    StagedModelDataHandlerUtil.importReferenceStagedModel(portletDataContext,stagedModel,AssetCategory.class,classPK);
    assetCategoryIds.add(classPK);
  }
  Map<Long,Long> assetCategoryIdsMap=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(AssetCategory.class);
  long[] importedAssetCategoryIds=new long[assetCategoryIds.size()];
  for (int i=0; i < assetCategoryIds.size(); i++) {
    long categoryId=assetCategoryIds.get(i);
    importedAssetCategoryIds[i]=MapUtil.getLong(assetCategoryIdsMap,categoryId,categoryId);
  }
  if (importedAssetCategoryIds.length == 0) {
    return;
  }
  portletDataContext.addAssetCategories(ExportImportClassedModelUtil.getClassName(stagedModel),ExportImportClassedModelUtil.getClassPK(stagedModel),importedAssetCategoryIds);
}
