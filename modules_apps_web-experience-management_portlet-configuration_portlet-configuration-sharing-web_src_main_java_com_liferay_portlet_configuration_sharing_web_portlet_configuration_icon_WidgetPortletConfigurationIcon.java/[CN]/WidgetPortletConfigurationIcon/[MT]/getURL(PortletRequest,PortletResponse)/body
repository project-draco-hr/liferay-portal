{
  try {
    Portlet portlet=(Portlet)portletRequest.getAttribute(WebKeys.RENDER_PORTLET);
    ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
    PortletURL basePortletURL=PortletURLFactoryUtil.create(portletRequest,PortletConfigurationSharingPortletKeys.PORTLET_CONFIGURATION_SHARING,themeDisplay.getPlid(),PortletRequest.RESOURCE_PHASE);
    StringBundler sb=new StringBundler();
    sb.append("javascript:Liferay.PortletSharing.showWidgetInfo('");
    sb.append(PortalUtil.getWidgetURL(portlet,themeDisplay));
    sb.append("', '");
    sb.append(basePortletURL);
    sb.append("');");
    return sb.toString();
  }
 catch (  PortalException pe) {
    if (_log.isWarnEnabled()) {
      _log.warn(pe,pe);
    }
    return StringPool.BLANK;
  }
}
