{
  Enumeration<URL> urls=_bundle.findEntries("META-INF/","*.tld",true);
  if (urls == null) {
    return;
  }
  while (urls.hasMoreElements()) {
    URL url=urls.nextElement();
    try (InputStream stream=url.openStream()){
      ParserUtils parserUtils=new ParserUtils(true);
      TreeNode tld=parserUtils.parseXMLDocument(url.getPath(),stream,false);
      Iterator<TreeNode> listenerNodes=tld.findChildren("listener");
      while (listenerNodes.hasNext()) {
        TreeNode listener=listenerNodes.next();
        TreeNode listenerClass=listener.findChild("listener-class");
        if (listenerClass == null) {
          continue;
        }
        String listenerClassName=listenerClass.getBody();
        if (listenerClassName == null) {
          continue;
        }
        addListener(listenerClassName,_bundle.getBundleContext(),servletContext);
      }
    }
 catch (    Exception e) {
      log(e.getMessage(),e);
    }
  }
}
