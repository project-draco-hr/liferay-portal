{
  ThemeDisplay themeDisplay=(ThemeDisplay)liferayPortletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletURL editPortletURL=null;
  if (DLPermission.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),ActionKeys.ADD_DOCUMENT)) {
    editPortletURL=liferayPortletResponse.createRenderURL(PortletKeys.DOCUMENT_LIBRARY);
    editPortletURL.setParameter("struts_action","/document_library/edit_file_entry");
    editPortletURL.setParameter("folderId",String.valueOf(_entry.getFolderId()));
    editPortletURL.setParameter("name",String.valueOf(_entry.getName()));
  }
  return editPortletURL;
}
