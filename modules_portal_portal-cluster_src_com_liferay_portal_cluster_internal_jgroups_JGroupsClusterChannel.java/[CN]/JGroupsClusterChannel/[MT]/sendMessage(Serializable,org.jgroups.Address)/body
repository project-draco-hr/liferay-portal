{
  if (_jChannel.isClosed()) {
    if (_log.isWarnEnabled()) {
      _log.warn("Cluster channel " + _clusterName + " is alreay closed");
    }
    return;
  }
  Serializer serializer=new Serializer();
  serializer.writeObject(message);
  ByteBuffer byteBuffer=serializer.toByteBuffer();
  try {
    _jChannel.send(address,byteBuffer.array(),byteBuffer.position(),byteBuffer.remaining());
    if (_log.isDebugEnabled()) {
      if (address == null) {
        _log.debug("Send mullticast message " + message);
      }
 else {
        _log.debug("Send unicast message " + message);
      }
    }
  }
 catch (  Exception e) {
    if (address == null) {
      throw new SystemException("Unable to send mullticast message",e);
    }
 else {
      throw new SystemException("Unable to send unicast message",e);
    }
  }
}
