{
  Matcher matcher=_liferayVariablesPattern.matcher(content);
  while (matcher.find()) {
    String match=matcher.group();
    Matcher matcher2=_liferayVariablePattern.matcher(match);
    String previousVariable=null;
    while (matcher2.find()) {
      String variable=matcher2.group();
      if (Validator.isNotNull(previousVariable) && (previousVariable.compareTo(variable) > 0)) {
        String replacement=StringUtil.replaceFirst(match,previousVariable,variable);
        replacement=StringUtil.replaceLast(replacement,variable,previousVariable);
        return StringUtil.replace(content,match,replacement);
      }
      previousVariable=variable;
    }
  }
  return content;
}
