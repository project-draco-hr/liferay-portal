{
  TriggerState triggerState=null;
  String triggerStateString=(String)jobStateMap.get(_TRIGGER_STATE_FIELD);
  try {
    triggerState=TriggerState.valueOf(triggerStateString);
  }
 catch (  IllegalArgumentException iae) {
    throw new IllegalStateException("Invalid value " + triggerStateString,iae);
  }
  int exceptionsMaxSize=(Integer)jobStateMap.get(_EXCEPTIONS_MAX_SIZE_FIELD);
  Map<String,Date> triggerDates=(Map<String,Date>)jobStateMap.get(_TRIGGER_DATES_FIELD);
  JobState jobState=null;
  if (triggerDates != null) {
    jobState=new JobState(triggerState,exceptionsMaxSize,triggerDates);
  }
 else {
    jobState=new JobState(triggerState,exceptionsMaxSize);
  }
  ArrayList<Object[]> exceptionsList=(ArrayList<Object[]>)jobStateMap.get(_EXCEPTIONS_FIELD);
  if (exceptionsList != null) {
    for (    Object[] exceptions : exceptionsList) {
      jobState.addException((Exception)exceptions[0],(Date)exceptions[1]);
    }
  }
  return jobState;
}
