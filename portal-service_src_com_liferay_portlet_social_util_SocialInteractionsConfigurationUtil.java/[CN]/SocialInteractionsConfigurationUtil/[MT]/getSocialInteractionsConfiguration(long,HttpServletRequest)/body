{
  PortletPreferences portletPreferences=PrefsPropsUtil.getPreferences(companyId,true);
  SocialInteractionsType socialInteractionsType=SocialInteractionsType.parse(PrefsParamUtil.getString(portletPreferences,request,"socialInteractionsType",SocialInteractionsType.ALL_USERS.toString()));
  boolean socialInteractionsSitesEnabled=PrefsParamUtil.getBoolean(portletPreferences,request,"socialInteractionsSitesEnabled",true);
  String socialInteractionsSocialRelationTypes=portletPreferences.getValue("socialInteractionsSocialRelationTypes",StringPool.BLANK);
  boolean socialInteractionsSocialRelationTypesEnabled=PrefsParamUtil.getBoolean(portletPreferences,request,"socialInteractionsSocialRelationTypesEnabled",true);
  return new SocialInteractionsConfiguration(socialInteractionsType,socialInteractionsSitesEnabled,socialInteractionsSocialRelationTypes,socialInteractionsSocialRelationTypesEnabled,null);
}
