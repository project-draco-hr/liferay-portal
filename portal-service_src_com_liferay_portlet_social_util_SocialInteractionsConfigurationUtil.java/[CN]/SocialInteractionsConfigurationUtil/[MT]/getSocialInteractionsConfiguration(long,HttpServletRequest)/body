{
  PortletPreferences portletPreferences=PrefsPropsUtil.getPreferences(companyId,true);
  boolean socialInteractionsAnyUserEnabled=PrefsParamUtil.getBoolean(portletPreferences,request,"socialInteractionsAnyUserEnabled",true);
  boolean socialInteractionsEnabled=PrefsParamUtil.getBoolean(portletPreferences,request,"socialInteractionsEnabled",true);
  boolean socialInteractionsSitesEnabled=PrefsParamUtil.getBoolean(portletPreferences,request,"socialInteractionsSitesEnabled",true);
  String socialInteractionsSocialRelationTypes=portletPreferences.getValue("socialInteractionsSocialRelationTypes",StringPool.BLANK);
  boolean socialInteractionsSocialRelationTypesEnabled=PrefsParamUtil.getBoolean(portletPreferences,request,"socialInteractionsSocialRelationTypesEnabled",true);
  return new SocialInteractionsConfiguration(socialInteractionsAnyUserEnabled,socialInteractionsEnabled,socialInteractionsSitesEnabled,socialInteractionsSocialRelationTypes,socialInteractionsSocialRelationTypesEnabled);
}
