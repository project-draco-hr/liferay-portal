{
  Map<String,String[]> queryParams=new HashMap<>();
  String[] queryParamsArray=StringUtil.split(queryString,CharPool.AMPERSAND);
  for (  String element : queryParamsArray) {
    String[] nameValuePair=StringUtil.split(element,CharPool.EQUAL);
    String name=nameValuePair[0];
    String value=StringPool.BLANK;
    if (nameValuePair.length == 2) {
      value=nameValuePair[1];
    }
    String[] values=queryParams.get(name);
    if (values == null) {
      queryParams.put(name,new String[]{value});
    }
 else {
      String[] newValues=new String[values.length + 1];
      System.arraycopy(values,0,newValues,0,values.length);
      newValues[newValues.length - 1]=value;
      queryParams.put(name,newValues);
    }
  }
  return queryParams;
}
