{
  long classNameId=ClassNameLocalServiceUtil.getClassName(BlogsEntry.class.getName()).getClassNameId();
  DetachedCriteria existingTagsAssetEntriesIds=DetachedCriteria.forClass(TagsAssetImpl.class,"ta").add(Property.forName("ta.classNameId").eq(new Long(classNameId))).setProjection(Property.forName("ta.classPK"));
  DetachedCriteria entriesWithMissingTagsAssets=DetachedCriteria.forClass(BlogsEntryImpl.class,"be").add(Restrictions.not(Subqueries.propertyIn("be.entryId",existingTagsAssetEntriesIds)));
  DynamicQueryInitializer dqi=new DynamicQueryInitializerImpl(entriesWithMissingTagsAssets);
  try {
    List entries=BlogsEntryLocalServiceUtil.dynamicQuery(dqi);
    if (_log.isDebugEnabled()) {
      _log.debug("Processing " + entries.size() + " entries");
    }
    for (int i=0; i < entries.size(); i++) {
      BlogsEntry entry=(BlogsEntry)entries.get(i);
      TagsAssetLocalServiceUtil.updateAsset(entry.getUserId(),BlogsEntry.class.getName(),entry.getEntryId(),new String[0],null,null,null,null,ContentTypes.TEXT_HTML,entry.getTitle(),entry.getTitle(),entry.getTitle(),null,0,0);
    }
  }
 catch (  SystemException se) {
    _log.error(se);
  }
  if (_log.isDebugEnabled()) {
    _log.debug("TagsAssets verified for Blogs entries");
  }
}
