{
  long classNameId=PortalUtil.getClassNameId(BlogsEntry.class.getName());
  DetachedCriteria entriesWithTagsAssets=DetachedCriteria.forClass(TagsAssetImpl.class,"tagsAsset");
  entriesWithTagsAssets=entriesWithTagsAssets.add(Property.forName("tagsAsset.classNameId").eq(new Long(classNameId)));
  entriesWithTagsAssets=entriesWithTagsAssets.setProjection(Property.forName("tagsAsset.classPK"));
  DetachedCriteria entriesWithoutTagsAssets=DetachedCriteria.forClass(BlogsEntryImpl.class,"blogsEntry");
  entriesWithoutTagsAssets=entriesWithoutTagsAssets.add(Restrictions.not(Subqueries.propertyIn("blogsEntry.entryId",entriesWithTagsAssets)));
  DynamicQueryInitializer dqi=new DynamicQueryInitializerImpl(entriesWithoutTagsAssets);
  List entries=BlogsEntryLocalServiceUtil.dynamicQuery(dqi);
  if (_log.isDebugEnabled()) {
    _log.debug("Processing " + entries.size() + " entries with no tags assets");
  }
  for (int i=0; i < entries.size(); i++) {
    BlogsEntry entry=(BlogsEntry)entries.get(i);
    BlogsEntryLocalServiceUtil.updateTagsAsset(entry,new String[0]);
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Tags assets verified for entries");
  }
}
