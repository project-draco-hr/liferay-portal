{
  long classNameId=PortalUtil.getClassNameId(BlogsEntry.class.getName());
  PortletDisplayTemplateHandler blogsDisplayTemplateHandler=new BlogsPortletDisplayTemplateHandler();
  List<Element> templateElements=blogsDisplayTemplateHandler.getDefaultTemplateElements();
  List<Company> companies=CompanyLocalServiceUtil.getCompanies();
  for (  Company company : companies) {
    long companyId=company.getCompanyId();
    Group group=GroupLocalServiceUtil.getCompanyGroup(companyId);
    for (    Element templateElement : templateElements) {
      String templateKey=templateElement.elementText("template-key");
      DDMTemplate ddmTemplate=DDMTemplateLocalServiceUtil.fetchTemplate(group.getGroupId(),classNameId,templateKey);
      if (ddmTemplate == null) {
        continue;
      }
      String name=templateElement.elementText("name");
      String description=templateElement.elementText("description");
      String language=templateElement.elementText("language");
      String scriptFileName=templateElement.elementText("script-file");
      boolean cacheable=GetterUtil.getBoolean(templateElement.elementText("cacheable"));
      Map<Locale,String> nameMap=new HashMap<Locale,String>();
      Locale locale=LocaleUtil.getDefault();
      nameMap.put(locale,LanguageUtil.get(locale,name));
      Map<Locale,String> descriptionMap=new HashMap<Locale,String>();
      descriptionMap.put(locale,LanguageUtil.get(locale,description));
      String script=ContentUtil.get(scriptFileName);
      ddmTemplate.setNameMap(nameMap);
      ddmTemplate.setDescriptionMap(descriptionMap);
      ddmTemplate.setLanguage(language);
      ddmTemplate.setScript(script);
      ddmTemplate.setCacheable(cacheable);
      DDMTemplateLocalServiceUtil.updateDDMTemplate(ddmTemplate);
    }
  }
}
