{
  Element rootElement=portletDataContext.getImportDataRootElement();
  Element portletsElement=rootElement.element("portlets");
  List<Element> portletElements=portletsElement.elements("portlet");
  for (  Element portletElement : portletElements) {
    String portletId=portletElement.attributeValue("portlet-id");
    Portlet portlet=_portletLocalService.getPortletById(portletDataContext.getCompanyId(),portletId);
    if ((portlet == null) || !portlet.isActive() || portlet.isUndeployedPortlet()) {
      continue;
    }
    PortletDataHandler portletDataHandler=_portletDataHandlerProvider.provide(portletDataContext.getCompanyId(),portletId);
    if (portletDataHandler == null) {
      continue;
    }
    portletDataContext.addDeletionSystemEventStagedModelTypes(portletDataHandler.getDeletionSystemEventStagedModelTypes());
  }
  portletDataContext.addDeletionSystemEventStagedModelTypes(new StagedModelType(Layout.class));
}
