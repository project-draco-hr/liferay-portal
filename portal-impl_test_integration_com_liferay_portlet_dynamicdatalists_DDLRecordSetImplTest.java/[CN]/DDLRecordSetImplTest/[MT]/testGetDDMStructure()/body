{
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("root");
  rootElement.addAttribute("available-locales","en_US");
  rootElement.addAttribute("default-locale","en_US");
  addTextElement(rootElement,ServiceTestUtil.randomString(),"Text 1");
  addTextElement(rootElement,ServiceTestUtil.randomString(),"Text 2");
  addTextElement(rootElement,ServiceTestUtil.randomString(),"Text 3");
  DDMStructure ddmStructure=addStructure(PortalUtil.getClassNameId(DDLRecordSet.class),null,"Test Structure",document.asXML(),StorageType.XML.getValue(),DDMStructureConstants.TYPE_DEFAULT);
  DDLRecordSet ddlRecordSet=addRecordSet(ddmStructure.getStructureId());
  Element dynamicElement=rootElement.element("dynamic-element");
  rootElement.remove(dynamicElement);
  DDMTemplate ddmTemplate=addFormTemplate(ddmStructure.getStructureId(),"Test Form Template",document.asXML());
  Set<String> fieldNames=ddmStructure.getFieldNames();
  DDMStructure ddlRecordSetStructure=ddlRecordSet.getDDMStructure(ddmTemplate.getTemplateId());
  if (fieldNames.equals(ddlRecordSetStructure.getFieldNames())) {
    Assert.fail();
  }
  ddlRecordSetStructure=ddlRecordSet.getDDMStructure();
  if (!fieldNames.equals(ddlRecordSetStructure.getFieldNames())) {
    Assert.fail();
  }
}
