{
  String key=String.valueOf(script.hashCode());
  Script compiledScript=_portalCache.get(key);
  if (compiledScript == null) {
    try {
      Context context=Context.enter();
      if ((classLoaders != null) && (classLoaders.length > 0)) {
        ClassLoader aggregateClassLoader=AggregateClassLoader.getAggregateClassLoader(PACLClassLoaderUtil.getPortalClassLoader(),classLoaders);
        context.setApplicationClassLoader(aggregateClassLoader);
      }
      compiledScript=context.compileString(script,"script",0,null);
    }
  finally {
      Context.exit();
    }
    _portalCache.put(key,compiledScript);
  }
  return compiledScript;
}
