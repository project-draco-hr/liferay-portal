{
  DDMForm ddmForm=DDMFormFactory.create(SelectDDMFormFieldTypeSettings.class);
  List<DDMFormRule> ddmFormRules=ddmForm.getDDMFormRules();
  Assert.assertEquals(1,ddmFormRules.size());
  DDMFormRule ddmFormRule=ddmFormRules.get(0);
  Assert.assertEquals("TRUE",ddmFormRule.getCondition());
  List<String> ddmFormRuleActions=ddmFormRule.getActions();
  Assert.assertArrayEquals(new String[]{"set(fieldAt(\"ddmDataProviderInstanceId\",0),\"visible\"," + "equals(get(fieldAt(\"dataSourceType\",0),\"value\")," + "\"data-provider\"))","set(fieldAt(\"options\",0),\"visible\", " + "equals(get(fieldAt(\"dataSourceType\",0),\"value\")," + "\"manual\"))","set(fieldAt(\"validation\",0),\"visible\",false)"},ddmFormRuleActions.toArray());
  Map<String,DDMFormField> ddmFormFieldsMap=ddmForm.getDDMFormFieldsMap(false);
  DDMFormField dataSourceTypeDDMFormField=ddmFormFieldsMap.get("dataSourceType");
  Assert.assertNotNull(dataSourceTypeDDMFormField);
  Assert.assertNotNull(dataSourceTypeDDMFormField.getLabel());
  Assert.assertNotNull(dataSourceTypeDDMFormField.getPredefinedValue());
  Assert.assertEquals("radio",dataSourceTypeDDMFormField.getType());
  DDMFormField ddmDataProviderInstanceIdDDMFormField=ddmFormFieldsMap.get("ddmDataProviderInstanceId");
  Assert.assertNotNull(ddmDataProviderInstanceIdDDMFormField);
  Assert.assertNotNull(ddmDataProviderInstanceIdDDMFormField.getLabel());
  Assert.assertEquals("select",ddmDataProviderInstanceIdDDMFormField.getType());
  Assert.assertEquals("equals(dataSourceType, \"data-provider\")",ddmDataProviderInstanceIdDDMFormField.getVisibilityExpression());
  DDMFormField multipleDDMFormField=ddmFormFieldsMap.get("multiple");
  Assert.assertNotNull(multipleDDMFormField);
  Assert.assertNotNull(multipleDDMFormField.getLabel());
  Assert.assertEquals("true",multipleDDMFormField.getProperty("showAsSwitcher"));
  DDMFormField optionsDDMFormField=ddmFormFieldsMap.get("options");
  Assert.assertNotNull(optionsDDMFormField);
  Assert.assertEquals("ddm-options",optionsDDMFormField.getDataType());
  Assert.assertNotNull(optionsDDMFormField.getLabel());
  Assert.assertEquals("false",optionsDDMFormField.getProperty("showLabel"));
  Assert.assertTrue(optionsDDMFormField.isRequired());
  Assert.assertEquals("options",optionsDDMFormField.getType());
  Assert.assertEquals("equals(dataSourceType, \"manual\")",optionsDDMFormField.getVisibilityExpression());
  DDMFormField validationDDMFormField=ddmFormFieldsMap.get("validation");
  Assert.assertNotNull(validationDDMFormField);
  Assert.assertEquals("FALSE",validationDDMFormField.getVisibilityExpression());
}
