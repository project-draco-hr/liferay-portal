{
  if (!GroupThreadLocal.isDeleteInProcess()) {
    if (ddmDataProviderInstanceLinkPersistence.countByDataProviderInstanceId(dataProviderInstance.getDataProviderInstanceId()) > 0) {
      throw new RequiredDataProviderInstanceException.MustNotDeleteDataProviderInstanceReferencedByDataProviderInstanceLinks(dataProviderInstance.getDataProviderInstanceId());
    }
  }
  ddmDataProviderInstancePersistence.remove(dataProviderInstance);
  resourceLocalService.deleteResource(dataProviderInstance.getCompanyId(),DDMDataProviderInstance.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,dataProviderInstance.getDataProviderInstanceId());
}
