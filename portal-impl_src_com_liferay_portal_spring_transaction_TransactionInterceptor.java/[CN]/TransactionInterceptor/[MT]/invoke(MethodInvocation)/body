{
  Method method=methodInvocation.getMethod();
  Class<?> targetClass=null;
  Object targetBean=methodInvocation.getThis();
  if (targetBean != null) {
    targetClass=targetBean.getClass();
  }
  TransactionAttribute transactionAttribute=transactionAttributeSource.getTransactionAttribute(method,targetClass);
  if (transactionAttribute == null) {
    return methodInvocation.proceed();
  }
  TransactionAttributeAdaptor transactionAttributeAdaptor=new TransactionAttributeAdaptor(transactionAttribute);
  return transactionExecutor.execute(platformTransactionManager,transactionAttributeAdaptor,methodInvocation);
}
