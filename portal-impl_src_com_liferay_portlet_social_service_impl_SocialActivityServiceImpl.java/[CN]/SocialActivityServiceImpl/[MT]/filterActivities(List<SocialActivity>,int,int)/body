{
  List<SocialActivityInterpreter> activityInterpreters=socialActivityInterpreterLocalService.getActivityInterpreters(StringPool.BLANK);
  List<SocialActivity> filteredActivities=new ArrayList<SocialActivity>();
  for (  SocialActivity activity : activities) {
    if (hasPermission(activity,activityInterpreters)) {
      filteredActivities.add(activity);
    }
    if ((end != QueryUtil.ALL_POS) && (filteredActivities.size() > end)) {
      break;
    }
  }
  if ((end != QueryUtil.ALL_POS) && (start != QueryUtil.ALL_POS)) {
    if (end > filteredActivities.size()) {
      end=filteredActivities.size();
    }
    if (start > filteredActivities.size()) {
      start=filteredActivities.size();
    }
    filteredActivities=filteredActivities.subList(start,end);
  }
  return filteredActivities;
}
