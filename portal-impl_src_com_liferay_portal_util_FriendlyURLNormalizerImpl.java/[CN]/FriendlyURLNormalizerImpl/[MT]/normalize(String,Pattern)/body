{
  if (Validator.isNull(friendlyURL)) {
    return friendlyURL;
  }
  friendlyURL=StringUtil.toLowerCase(friendlyURL);
  friendlyURL=Normalizer.normalizeToAscii(friendlyURL);
  Matcher matcher=friendlyURLPattern.matcher(friendlyURL);
  friendlyURL=matcher.replaceAll(StringPool.DASH);
  StringBuilder sb=new StringBuilder(friendlyURL.length());
  for (int i=0; i < friendlyURL.length(); i++) {
    char c=friendlyURL.charAt(i);
    if (c == CharPool.DASH) {
      if ((i == 0) || (CharPool.DASH != sb.charAt(sb.length() - 1))) {
        sb.append(CharPool.DASH);
      }
    }
 else {
      sb.append(c);
    }
  }
  if (sb.length() == friendlyURL.length()) {
    return friendlyURL;
  }
  return sb.toString();
}
