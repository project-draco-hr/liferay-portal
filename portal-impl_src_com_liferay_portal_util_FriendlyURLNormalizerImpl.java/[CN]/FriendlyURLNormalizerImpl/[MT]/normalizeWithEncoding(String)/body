{
  if (Validator.isNull(friendlyURL)) {
    return friendlyURL;
  }
  StringBuilder sb=new StringBuilder(friendlyURL.length());
  boolean modified=false;
  for (int i=0; i < friendlyURL.length(); i++) {
    char c=friendlyURL.charAt(i);
    if (Arrays.binarySearch(_REPLACE_CHARS,c) >= 0) {
      if ((i == 0) || (CharPool.DASH != sb.charAt(sb.length() - 1))) {
        sb.append(CharPool.DASH);
        if (c != CharPool.DASH) {
          modified=true;
        }
      }
 else {
        modified=true;
      }
    }
  }
  if (modified) {
    friendlyURL=sb.toString();
  }
  String[] parts=StringUtil.split(friendlyURL,CharPool.SLASH);
  try {
    for (int i=0; i < parts.length; i++) {
      parts[i]=URLEncoder.encode(parts[i],StringPool.UTF8);
    }
  }
 catch (  UnsupportedEncodingException uee) {
    ReflectionUtil.throwException(uee);
  }
  return StringUtil.merge(parts,StringPool.SLASH);
}
