{
  UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
  String articleId=typeSettingsProperties.getProperty("article-id",StringPool.BLANK);
  if (Validator.isNull(articleId)) {
    return;
  }
  JournalPortletDataHandlerImpl.importReferencedData(portletDataContext,layoutElement);
  Element structureElement=layoutElement.element("structure");
  if (structureElement != null) {
    JournalPortletDataHandlerImpl.importStructure(portletDataContext,structureElement);
  }
  Element templateElement=layoutElement.element("template");
  if (templateElement != null) {
    JournalPortletDataHandlerImpl.importTemplate(portletDataContext,templateElement);
  }
  Element articleElement=layoutElement.element("article");
  if (articleElement != null) {
    JournalPortletDataHandlerImpl.importArticle(portletDataContext,articleElement);
  }
  Map<String,String> articleIds=(Map<String,String>)portletDataContext.getNewPrimaryKeysMap(JournalArticle.class + ".articleId");
  articleId=MapUtil.getString(articleIds,articleId,articleId);
  typeSettingsProperties.setProperty("article-id",articleId);
  JournalContentSearchLocalServiceUtil.updateContentSearch(portletDataContext.getScopeGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),StringPool.BLANK,articleId,true);
}
