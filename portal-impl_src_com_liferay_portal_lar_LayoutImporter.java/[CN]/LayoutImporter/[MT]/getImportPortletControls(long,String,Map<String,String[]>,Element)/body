{
  boolean importPortletData=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA);
  boolean importPortletDataAll=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA_ALL);
  boolean importPortletSetup=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_SETUP);
  boolean importPortletSetupAll=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_SETUP_ALL);
  if (_log.isDebugEnabled()) {
    _log.debug("Import portlet data " + importPortletData);
    _log.debug("Import all portlet data " + importPortletDataAll);
    _log.debug("Import portlet setup " + importPortletSetup);
  }
  boolean importCurPortletData=importPortletData;
  boolean importCurPortletSetup=importPortletSetup;
  String rootPortletId=ExportImportHelperUtil.getExportableRootPortletId(companyId,portletId);
  if (portletDataElement == null) {
    importCurPortletData=false;
  }
 else   if (importPortletDataAll) {
    importCurPortletData=true;
  }
 else   if (rootPortletId != null) {
    importCurPortletData=importPortletData && MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA + StringPool.UNDERLINE + rootPortletId);
  }
  if (importPortletSetupAll) {
    importCurPortletSetup=true;
  }
 else   if (rootPortletId != null) {
    importCurPortletSetup=importPortletSetup && MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_SETUP + StringPool.UNDERLINE + rootPortletId);
  }
  return new boolean[]{importCurPortletData,importCurPortletSetup};
}
