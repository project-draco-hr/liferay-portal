{
  LayoutTypePortlet importedLayoutType=(LayoutTypePortlet)importedLayout.getLayoutType();
  LayoutTypePortlet layoutType=(LayoutTypePortlet)layout.getLayoutType();
  List<String> oldPortletIds=importedLayoutType.getPortletIds();
  List<String> newPortletIds=layoutType.getPortletIds();
  oldPortletIds.removeAll(newPortletIds);
  if (!oldPortletIds.isEmpty()) {
    PortletLocalServiceUtil.deletePortlets(importedLayout.getCompanyId(),oldPortletIds.toArray(new String[oldPortletIds.size()]),importedLayout.getPlid());
  }
  importedLayout.setTypeSettings(layout.getTypeSettings());
}
