{
  String path=getLayoutSetPrototype(context,layoutSetPrototypeUuid);
  LayoutSetPrototype layoutSetPrototype=null;
  try {
    layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.getLayoutSetPrototypeByUuid(layoutSetPrototypeUuid);
  }
 catch (  NoSuchLayoutSetPrototypeException nslspe) {
  }
  if (layoutSetPrototype == null) {
    layoutSetPrototype=(LayoutSetPrototype)context.getZipEntryAsObject(path.concat(".xml"));
    serviceContext.setUuid(layoutSetPrototypeUuid);
    layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.addLayoutSetPrototype(user.getUserId(),user.getCompanyId(),layoutSetPrototype.getNameMap(),layoutSetPrototype.getDescription(),layoutSetPrototype.getActive(),serviceContext);
  }
  InputStream inputStream=context.getZipEntryAsInputStream(path.concat(".lar"));
  CommunitiesUtil.importLayoutSetPrototype(layoutSetPrototype,inputStream,serviceContext);
}
