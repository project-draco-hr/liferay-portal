{
  String path=getLayoutSetPrototypePath(portletDataContext,layoutSetPrototypeUuid);
  LayoutSetPrototype layoutSetPrototype=null;
  try {
    layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.getLayoutSetPrototypeByUuidAndCompanyId(layoutSetPrototypeUuid,serviceContext.getCompanyId());
  }
 catch (  NoSuchLayoutSetPrototypeException nslspe) {
  }
  if (layoutSetPrototype == null) {
    layoutSetPrototype=(LayoutSetPrototype)portletDataContext.getZipEntryAsObject(path.concat(".xml"));
    serviceContext.setUuid(layoutSetPrototypeUuid);
    layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.addLayoutSetPrototype(user.getUserId(),user.getCompanyId(),layoutSetPrototype.getNameMap(),layoutSetPrototype.getDescription(),layoutSetPrototype.getActive(),true,serviceContext);
  }
  InputStream inputStream=portletDataContext.getZipEntryAsInputStream(path.concat(".lar"));
  SitesUtil.importLayoutSetPrototype(layoutSetPrototype,inputStream,serviceContext);
}
