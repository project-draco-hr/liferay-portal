{
  long parentCategoryId=0;
  if (Validator.isNotNull(parentCategoryUuid)) {
    AssetCategory parentCategory=AssetCategoryUtil.findByUUID_G(parentCategoryUuid,context.getScopeGroupId());
    parentCategoryId=parentCategory.getCategoryId();
  }
  AssetCategory existingAssetCategory=null;
  if (context.getDataStrategy().equals(PortletDataHandlerKeys.DATA_STRATEGY_MIRROR)) {
    existingAssetCategory=AssetCategoryUtil.fetchByUUID_G(categoryUuid,context.getGroupId());
    if (existingAssetCategory == null) {
      AssetCategoryLocalServiceUtil.addCategory(categoryUuid,context.getUserId(userUuid),parentCategoryId,categoryName,vocabularyId,properties,serviceContext);
    }
 else {
      AssetCategoryLocalServiceUtil.updateCategory(context.getUserId(userUuid),existingAssetCategory.getCategoryId(),parentCategoryId,categoryName,vocabularyId,properties);
    }
  }
 else {
    AssetCategoryLocalServiceUtil.addCategory(context.getUserId(userUuid),parentCategoryId,categoryName,vocabularyId,properties,serviceContext);
  }
}
