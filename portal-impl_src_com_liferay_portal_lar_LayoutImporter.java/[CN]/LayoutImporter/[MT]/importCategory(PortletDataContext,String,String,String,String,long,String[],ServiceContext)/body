{
  long parentCategoryId=0;
  if (Validator.isNotNull(parentCategoryUuid)) {
    AssetCategory parentCategory=AssetCategoryUtil.findByUUID_G(parentCategoryUuid,context.getScopeGroupId());
    parentCategoryId=parentCategory.getCategoryId();
  }
  if (context.getDataStrategy().equals(PortletDataHandlerKeys.DATA_STRATEGY_MIRROR)) {
    AssetCategory existingAssetCategory=AssetCategoryUtil.fetchByUUID_G(categoryUuid,context.getGroupId());
    if (existingAssetCategory == null) {
      Map<Locale,String> titleMap=new HashMap<Locale,String>();
      titleMap.put(LocaleUtil.getDefault(),categoryName);
      AssetCategoryLocalServiceUtil.addCategory(categoryUuid,context.getUserId(userUuid),parentCategoryId,titleMap,vocabularyId,properties,serviceContext);
    }
 else {
      AssetCategoryLocalServiceUtil.updateCategory(context.getUserId(userUuid),existingAssetCategory.getCategoryId(),parentCategoryId,existingAssetCategory.getTitleMap(),vocabularyId,properties,serviceContext);
    }
  }
 else {
    Map<Locale,String> titleMap=new HashMap<Locale,String>();
    titleMap.put(LocaleUtil.getDefault(),categoryName);
    AssetCategoryLocalServiceUtil.addCategory(null,context.getUserId(userUuid),parentCategoryId,titleMap,vocabularyId,properties,serviceContext);
  }
}
