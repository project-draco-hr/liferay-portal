{
  try {
    PortletPreferences prefs=req.getPreferences();
    String content=prefs.getValue("content",StringPool.BLANK);
    if (Validator.isNull(content)) {
      throw new AnnouncementsContentException();
    }
    return mapping.findForward("portlet.announcements.view");
  }
 catch (  AnnouncementsContentException ace) {
    return mapping.findForward("/portal/portlet_not_setup");
  }
}
