{
  if (bean instanceof IdentifiableBean) {
    IdentifiableBean identifiableBean=(IdentifiableBean)bean;
    identifiableBean.setBeanIdentifier(beanName);
  }
 else   if (beanName.endsWith("Service")) {
    if (_log.isWarnEnabled()) {
      _log.warn(beanName + " should implement " + IdentifiableBean.class.getName()+ " for "+ ClusterableAdvice.class.getName());
    }
  }
  boolean enabled=PortalSecurityManagerThreadLocal.isEnabled();
  try {
    PortalSecurityManagerThreadLocal.setEnabled(false);
    _autoInject(bean,beanName,bean.getClass());
  }
  finally {
    PortalSecurityManagerThreadLocal.setEnabled(enabled);
  }
  return bean;
}
