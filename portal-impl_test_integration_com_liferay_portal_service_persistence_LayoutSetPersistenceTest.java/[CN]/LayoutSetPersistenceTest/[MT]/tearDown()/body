{
  Map<Serializable,BasePersistence<?>> basePersistences=_transactionalPersistenceAdvice.getBasePersistences();
  Set<Serializable> primaryKeys=basePersistences.keySet();
  for (  Serializable primaryKey : primaryKeys) {
    BasePersistence<?> basePersistence=basePersistences.get(primaryKey);
    try {
      basePersistence.remove(primaryKey);
    }
 catch (    Exception e) {
      if (_log.isDebugEnabled()) {
        _log.debug("The model with primary key " + primaryKey + " was already deleted");
      }
    }
  }
  _transactionalPersistenceAdvice.reset();
  for (  ModelListener<LayoutSet> modelListener : _modelListeners) {
    _persistence.registerListener(modelListener);
  }
}
