{
  List<ZipEntrySource> zipEntrySources=new ArrayList<>();
  StringBuilder sb=new StringBuilder();
  for (  String deploymentFileName : deploymentFileNames.split(",")) {
    File file=new File(deploymentFileName.trim());
    String webInfDeploymentFileName="WEB-INF/" + file.getName();
    sb.append('/');
    sb.append(webInfDeploymentFileName);
    sb.append(',');
    zipEntrySources.add(new FileSource(webInfDeploymentFileName,file));
  }
  sb.setLength(sb.length() - 1);
  zipEntrySources.add(getWebXmlZipEntrySource(sb.toString(),deploymentPath));
  zipEntrySources.add(getClassZipEntrySource("com/liferay/deployment/helper/servlet/" + "DeploymentHelperContextListener.class"));
  ZipUtil.pack(zipEntrySources.toArray(new ZipEntrySource[zipEntrySources.size()]),new File(outputFileName));
}
