{
  if (_isGeneratePreview(fileVersion)) {
    StopWatch stopWatch=null;
    if (_log.isInfoEnabled()) {
      stopWatch=new StopWatch();
      stopWatch.start();
    }
    _generateImagesIM(fileVersion,file,PropsValues.DL_FILE_ENTRY_PREVIEW_DOCUMENT_DEPTH,PropsValues.DL_FILE_ENTRY_PREVIEW_DOCUMENT_DPI,PropsValues.DL_FILE_ENTRY_PREVIEW_DOCUMENT_MAX_HEIGHT,PropsValues.DL_FILE_ENTRY_PREVIEW_DOCUMENT_MAX_WIDTH,false);
    if (_log.isInfoEnabled()) {
      int previewFileCount=getPreviewFileCount(fileVersion);
      _log.info("ImageMagick generated " + previewFileCount + " preview pages for "+ fileVersion.getTitle()+ " in "+ stopWatch.getTime()+ "ms");
    }
  }
  if (_isGenerateThumbnail(fileVersion)) {
    StopWatch stopWatch=null;
    if (_log.isInfoEnabled()) {
      stopWatch=new StopWatch();
      stopWatch.start();
    }
    _generateImagesIM(fileVersion,file,PropsValues.DL_FILE_ENTRY_THUMBNAIL_DOCUMENT_DEPTH,PropsValues.DL_FILE_ENTRY_THUMBNAIL_DOCUMENT_DPI,PrefsPropsUtil.getInteger(PropsKeys.DL_FILE_ENTRY_THUMBNAIL_MAX_HEIGHT),PrefsPropsUtil.getInteger(PropsKeys.DL_FILE_ENTRY_THUMBNAIL_MAX_WIDTH),true);
    if (_log.isInfoEnabled()) {
      _log.info("ImageMagick generated a thumbnail for " + fileVersion.getTitle() + " in "+ stopWatch.getTime()+ "ms");
    }
  }
}
