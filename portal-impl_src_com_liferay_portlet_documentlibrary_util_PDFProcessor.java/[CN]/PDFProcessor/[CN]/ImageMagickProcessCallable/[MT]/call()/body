{
  try {
    IMOperation imOperation=new IMOperation();
    imOperation.alpha("off");
    imOperation.density(_dpi,_dpi);
    if (_height != 0) {
      imOperation.adaptiveResize(_width,_height);
    }
 else {
      imOperation.adaptiveResize(_width);
    }
    imOperation.depth(_depth);
    imOperation.addImage(_inputFilePath);
    imOperation.addImage(_outputFilePath);
    if (_log.isInfoEnabled()) {
      _log.info("Excecuting command 'convert " + imOperation + "'");
    }
    _convertCmd.run(imOperation);
  }
 catch (  Exception e) {
    throw new ProcessException(e);
  }
  return StringPool.BLANK;
}
