{
  if (_synchronize.get() && _synchronizeThreadLocal.get()) {
    try {
      _cyclicBarrier.await();
      _originalTransactionExecutor.commit(platformTransactionManager,transactionAttribute,transactionStatus);
    }
 catch (    Throwable t) {
      ReflectionUtil.throwException(t);
    }
 finally {
      _synchronize.set(false);
      PortalPreferencesWrapperCacheUtil.remove(PortletKeys.PREFS_OWNER_ID_DEFAULT,PortletKeys.PREFS_OWNER_TYPE_USER);
    }
  }
 else {
    _originalTransactionExecutor.commit(platformTransactionManager,transactionAttribute,transactionStatus);
  }
}
