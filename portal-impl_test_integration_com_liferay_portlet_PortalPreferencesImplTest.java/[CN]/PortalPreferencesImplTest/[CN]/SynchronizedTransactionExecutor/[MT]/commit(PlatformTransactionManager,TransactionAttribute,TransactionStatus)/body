{
  if (_synchronize.get() && _synchronizeThreadLocal.get()) {
    try {
      _cyclicBarrier.await();
      _semaphore.acquire();
      _defaultTransactionExecutor.commit(platformTransactionManager,transactionAttribute,transactionStatus);
    }
 catch (    RuntimeException re) {
      throw re;
    }
catch (    Error e) {
      throw e;
    }
catch (    Exception e) {
    }
 finally {
      _semaphore.release();
      _synchronize.set(false);
      PortalPreferencesWrapperCacheUtil.remove(PortletKeys.PREFS_OWNER_ID_DEFAULT,PortletKeys.PREFS_OWNER_TYPE_USER);
    }
  }
 else {
    _defaultTransactionExecutor.commit(platformTransactionManager,transactionAttribute,transactionStatus);
  }
}
