{
  Class<?>[] parameterTypes=method.getParameterTypes();
  Class<?>[] expectedTypes=new Class<?>[]{long.class,int.class,com.liferay.portlet.PortalPreferences.class};
  if (_synchronize.get() && _testThread.get() && method.getName().equals("updatePreferences")&& Arrays.equals(parameterTypes,expectedTypes)) {
    _cyclicBarrier.await();
    SynchronizedTransactionExecutor.synchronize(true);
    _synchronize.set(false);
  }
  return method.invoke(_target,args);
}
