{
  Iterator itr=igFolderPersistence.findByG_P(fromFolder.getGroupId(),fromFolder.getFolderId()).iterator();
  while (itr.hasNext()) {
    IGFolder folder=(IGFolder)itr.next();
    mergeFolders(folder,toFolderId);
  }
  itr=igImagePersistence.findByFolderId(fromFolder.getFolderId()).iterator();
  while (itr.hasNext()) {
    IGImage image=(IGImage)itr.next();
    image.setFolderId(toFolderId);
    igImagePersistence.update(image);
  }
  igFolderPersistence.remove(fromFolder.getFolderId());
}
