{
  IGFolder folder=igFolderPersistence.findByPrimaryKey(folderId);
  parentFolderId=getParentFolderId(folder,parentFolderId);
  validate(folder.getFolderId(),folder.getGroupId(),parentFolderId,name);
  folder.setModifiedDate(new Date());
  folder.setParentFolderId(parentFolderId);
  folder.setName(name);
  folder.setDescription(description);
  igFolderPersistence.update(folder,false);
  ExpandoBridge expandoBridge=folder.getExpandoBridge();
  expandoBridge.setAttributes(serviceContext);
  if (mergeWithParentFolder && (folderId != parentFolderId) && (parentFolderId != IGFolderImpl.DEFAULT_PARENT_FOLDER_ID)) {
    mergeFolders(folder,parentFolderId);
  }
  return folder;
}
