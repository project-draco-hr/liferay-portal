{
  HttpSession ses=req.getSession();
  Enumeration enu=ses.getAttributeNames();
  while (enu.hasMoreElements()) {
    String encodedAttrName=(String)enu.nextElement();
    String decodedAttrName=PortletSessionUtil.decodeAttributeName(encodedAttrName);
    if (decodedAttrName.equals(attrName)) {
      return ses.getAttribute(encodedAttrName);
    }
  }
  return null;
}
