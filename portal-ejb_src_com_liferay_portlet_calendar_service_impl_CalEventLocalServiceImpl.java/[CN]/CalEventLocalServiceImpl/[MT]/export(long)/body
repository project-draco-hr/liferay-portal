{
  net.fortuna.ical4j.model.Calendar calendar=_export(eventId);
  File file=null;
  try {
    file=File.createTempFile("CalEvent." + eventId,".ics");
    OutputStream os=new BufferedOutputStream(new FileOutputStream(file.getPath()));
    CalendarOutputter calOutput=new CalendarOutputter();
    calOutput.output(calendar,os);
    os.close();
  }
 catch (  Exception e) {
    _log.error(e,e);
    throw new PortalException(e);
  }
  return file;
}
