{
  TagAttributeInfo[] attrInfos=tagInfo.getAttributes();
  for (int i=0; i < attrInfos.length; i++) {
    String attrName=attrInfos[i].getName();
    out.printil("if( " + toGetterMethod(attrName) + " != null ) {");
    out.pushIndent();
    out.printin("_jspx_page_context.setAttribute(");
    out.print(quote(attrName));
    out.print(", ");
    out.print(toGetterMethod(attrName));
    out.println(");");
    if (attrInfos[i].isDeferredValue()) {
      out.printin("org.apache.jasper.runtime.PageContextImpl.setValueVariable(");
      out.print("_jspx_page_context, ");
      out.print(quote(attrName));
      out.print(", ");
      out.print(toGetterMethod(attrName));
      out.println(");");
    }
    if (attrInfos[i].isDeferredMethod()) {
      out.printin("org.apache.jasper.runtime.PageContextImpl.setMethodVariable(");
      out.print("_jspx_page_context, ");
      out.print(quote(attrName));
      out.print(", ");
      out.print(toGetterMethod(attrName));
      out.println(");");
    }
    out.popIndent();
    out.println("}");
  }
  if (tagInfo.hasDynamicAttributes()) {
    out.printin("_jspx_page_context.setAttribute(\"");
    out.print(tagInfo.getDynamicAttributesMapName());
    out.print("\", _jspx_dynamic_attrs);");
  }
}
