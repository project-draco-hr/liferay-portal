{
  String v=attr.getValue();
  if (!attr.isNamedAttribute() && (v == null))   return "";
  if (attr.isExpression()) {
    if (encode) {
      return "org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode(String.valueOf(" + v + "), request.getCharacterEncoding())";
    }
    return v;
  }
 else   if (attr.isELInterpreterInput()) {
    v=JspUtil.interpreterCall(this.isTagFile,v,expectedType,attr.getEL().getMapName(),null,null,null);
    if (encode) {
      return "org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode(" + v + ", request.getCharacterEncoding())";
    }
    return v;
  }
 else   if (attr.isNamedAttribute()) {
    return attr.getNamedAttributeNode().getTemporaryVariableName();
  }
 else {
    if (encode) {
      return "org.apache.jasper.runtime.JspRuntimeLibrary.URLEncode(" + quote(v) + ", request.getCharacterEncoding())";
    }
    return quote(v);
  }
}
