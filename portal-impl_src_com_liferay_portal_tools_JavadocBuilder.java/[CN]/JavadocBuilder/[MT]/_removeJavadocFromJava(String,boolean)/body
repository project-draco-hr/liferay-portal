{
  File file=new File(_basedir + fileName);
  String oldContent=_fileUtil.read(file);
  String[] lines=StringUtil.split(oldContent,"\n");
  JavaClass javaClass=_getJavaClass(fileName,new UnsyncStringReader(oldContent));
  Set<Integer> lineNumbers=new HashSet<Integer>();
  lineNumbers.add(javaClass.getLineNumber());
  JavaMethod[] javaMethods=javaClass.getMethods();
  for (  JavaMethod javaMethod : javaMethods) {
    lineNumbers.add(javaMethod.getLineNumber());
  }
  JavaField[] javaFields=javaClass.getFields();
  for (  JavaField javaField : javaFields) {
    lineNumbers.add(javaField.getLineNumber());
  }
  for (  int lineNumber : lineNumbers) {
    int pos=lineNumber - 2;
    String line=lines[pos].trim();
    if (line.endsWith("*/")) {
      while (true) {
        lines[pos]=null;
        if (line.startsWith("/**")) {
          break;
        }
        line=lines[--pos].trim();
      }
    }
  }
  String newContent;
  if (lines.length == 0) {
    newContent=StringPool.BLANK;
  }
 else {
    StringBundler sb=new StringBundler(lines.length * 2);
    for (    String line : lines) {
      if (line != null) {
        sb.append(line);
        sb.append("\n");
      }
    }
    newContent=sb.toString().trim();
  }
  if ((oldContent == null) || !oldContent.equals(newContent)) {
    _fileUtil.write(file,newContent);
    if (log) {
      System.out.println("Writing " + file);
    }
  }
  return newContent;
}
