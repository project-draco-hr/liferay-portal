{
  AssetRendererFactory<?> assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(className);
  if ((assetRendererFactory == null) || !assetRendererFactory.isSelectable()) {
    return;
  }
  AssetEntry assetEntry=AssetEntryLocalServiceUtil.fetchEntry(className,classPK);
  if (assetEntry == null) {
    return;
  }
  if (!document.hasField(Field.CREATE_DATE)) {
    document.addDate(Field.CREATE_DATE,assetEntry.getCreateDate());
  }
  if (assetEntry.getExpirationDate() != null) {
    document.addDate(Field.EXPIRATION_DATE,assetEntry.getExpirationDate());
  }
 else {
    document.addDate(Field.EXPIRATION_DATE,new Date(Long.MAX_VALUE));
  }
  if (!document.hasField(Field.MODIFIED_DATE)) {
    document.addDate(Field.MODIFIED_DATE,assetEntry.getModifiedDate());
  }
  document.addNumber(Field.PRIORITY,assetEntry.getPriority());
  if (assetEntry.getPublishDate() != null) {
    document.addDate(Field.PUBLISH_DATE,assetEntry.getPublishDate());
  }
 else {
    document.addDate(Field.PUBLISH_DATE,new Date(0));
  }
  RatingsStats ratingsStats=RatingsStatsLocalServiceUtil.fetchStats(className,classPK);
  if (ratingsStats != null) {
    document.addNumber(Field.RATINGS,ratingsStats.getAverageScore());
  }
 else {
    document.addNumber(Field.RATINGS,0.0f);
  }
  document.addNumber(Field.VIEW_COUNT,assetEntry.getViewCount());
  document.addLocalizedKeyword("localized_title",populateMap(assetEntry,assetEntry.getTitleMap()),true,true);
  document.addKeyword("visible",assetEntry.isVisible());
}
