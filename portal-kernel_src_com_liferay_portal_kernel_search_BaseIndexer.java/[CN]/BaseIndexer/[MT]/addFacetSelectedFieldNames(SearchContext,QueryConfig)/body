{
  String[] selectedFieldNames=queryConfig.getSelectedFieldNames();
  if (ArrayUtil.isEmpty(selectedFieldNames) || (selectedFieldNames.length == 1) && selectedFieldNames[0].equals(Field.ANY)) {
    return;
  }
  Set<String> selectedFieldNameSet=SetUtil.fromArray(selectedFieldNames);
  Map<String,Facet> facets=searchContext.getFacets();
  selectedFieldNameSet.addAll(facets.keySet());
  selectedFieldNames=selectedFieldNameSet.toArray(new String[selectedFieldNameSet.size()]);
  queryConfig.setSelectedFieldNames(selectedFieldNames);
}
