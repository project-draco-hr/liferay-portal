{
  Role regularRole=RoleTestUtil.addRole(RoleConstants.TYPE_REGULAR);
  UserLocalServiceUtil.addRoleUser(regularRole.getRoleId(),_user);
  long groupRoleId=RoleTestUtil.addGroupRole(_childGroup.getGroupId());
  UserLocalServiceUtil.addRoleUser(groupRoleId,_user);
  long organizationRoleId=RoleTestUtil.addOrganizationRole(_childOrganization.getGroupId());
  UserLocalServiceUtil.addRoleUser(organizationRoleId,_user);
  UserPermissionCheckerBag userPermissionCheckerBag=getUserBag();
  List<Role> roles=new ArrayList<>(userPermissionCheckerBag.getRoles());
  long[] roleIds=ListUtil.toLongArray(roles,Role.ROLE_ID_ACCESSOR);
  Assert.assertTrue(ArrayUtil.contains(roleIds,regularRole.getRoleId()));
  Assert.assertTrue(ArrayUtil.contains(roleIds,groupRoleId));
  Assert.assertTrue(ArrayUtil.contains(roleIds,organizationRoleId));
}
