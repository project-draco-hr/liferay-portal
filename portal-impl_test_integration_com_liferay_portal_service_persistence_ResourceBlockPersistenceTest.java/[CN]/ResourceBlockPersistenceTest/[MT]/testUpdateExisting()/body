{
  long pk=nextLong();
  ResourceBlock newResourceBlock=_persistence.create(pk);
  newResourceBlock.setCompanyId(nextLong());
  newResourceBlock.setGroupId(nextLong());
  newResourceBlock.setName(randomString());
  newResourceBlock.setPermissionsHash(randomString());
  newResourceBlock.setReferenceCount(nextLong());
  _persistence.update(newResourceBlock,false);
  ResourceBlock existingResourceBlock=_persistence.findByPrimaryKey(newResourceBlock.getPrimaryKey());
  assertEquals(existingResourceBlock.getResourceBlockId(),newResourceBlock.getResourceBlockId());
  assertEquals(existingResourceBlock.getCompanyId(),newResourceBlock.getCompanyId());
  assertEquals(existingResourceBlock.getGroupId(),newResourceBlock.getGroupId());
  assertEquals(existingResourceBlock.getName(),newResourceBlock.getName());
  assertEquals(existingResourceBlock.getPermissionsHash(),newResourceBlock.getPermissionsHash());
  assertEquals(existingResourceBlock.getReferenceCount(),newResourceBlock.getReferenceCount());
}
