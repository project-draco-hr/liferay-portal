{
  String languageId=LocaleUtil.toLanguageId(locale);
  ResourceBundle resourceBundle=_resourceBundles.get(languageId);
  if (resourceBundle != null) {
    return resourceBundle;
  }
  ResourceBundleUtil.loadResourceBundles(_resourceBundles,locale,new ResourceBundleUtil.ResourceBundleLoader(){
    @Override public ResourceBundle loadResourceBundle(    String languageId){
      String name=null;
      if (Validator.isNull(languageId)) {
        name="content/Language.properties";
      }
 else {
        name="content/Language_" + languageId + ".properties";
      }
      URL url=_servletContextHelper.getResource(name);
      if (url == null) {
        return null;
      }
      try {
        InputStreamReader inputStreamReader=new InputStreamReader(url.openStream(),StringPool.UTF8);
        return new PropertyResourceBundle(inputStreamReader);
      }
 catch (      IOException ioe) {
        return null;
      }
    }
  }
);
  return _resourceBundles.get(languageId);
}
