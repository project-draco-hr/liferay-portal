{
  RuntimeDelegate runtimeDelegate=RuntimeDelegate.getInstance();
  JAXRSServerFactoryBean jaxRsServerFactoryBean=runtimeDelegate.createEndpoint(application,JAXRSServerFactoryBean.class);
  jaxRsServerFactoryBean.setBus(bus);
  jaxRsServerFactoryBean.setProperties(_properties);
  JSONProvider<Object> jsonProvider=new JSONProvider<>();
  jsonProvider.setDropCollectionWrapperElement(true);
  jsonProvider.setDropRootElement(true);
  jsonProvider.setSerializeAsArray(true);
  jsonProvider.setSupportUnwrapped(true);
  jaxRsServerFactoryBean.setProvider(jsonProvider);
  for (  Object provider : _providers) {
    jaxRsServerFactoryBean.setProvider(provider);
  }
  for (  Object service : _services) {
    jaxRsServerFactoryBean.setServiceBean(service);
  }
  Server server=jaxRsServerFactoryBean.create();
  server.start();
  store(bus,application,server);
}
