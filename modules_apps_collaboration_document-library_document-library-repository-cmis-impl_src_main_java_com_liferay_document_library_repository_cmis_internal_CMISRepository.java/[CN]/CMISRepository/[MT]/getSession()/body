{
  Session session=_cmisSessionCache.get(_sessionKey);
  if (session == null) {
    SessionImpl sessionImpl=(SessionImpl)_cmisRepositoryHandler.getSession();
    session=sessionImpl.getSession();
    _cmisSessionCache.put(_sessionKey,session);
  }
  if (_cmisRepositoryDetector == null) {
    RepositoryInfo repositoryInfo=session.getRepositoryInfo();
    _cmisRepositoryDetector=new CMISRepositoryDetector(repositoryInfo);
  }
  return session;
}
