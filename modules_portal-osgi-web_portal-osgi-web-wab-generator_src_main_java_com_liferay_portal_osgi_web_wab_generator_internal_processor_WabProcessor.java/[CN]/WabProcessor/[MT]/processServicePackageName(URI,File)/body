{
  try {
    Document document=UnsecureSAXReaderUtil.read(file);
    Element rootElement=document.getRootElement();
    _servicePackageName=rootElement.attributeValue("package-path");
    String[] partialPackageNames={"",".model",".model.impl",".service",".service.base",".service.http",".service.impl",".service.persistence",".service.persistence.impl"};
    for (    String partialPackageName : partialPackageNames) {
      _exportPackageNames.add(getVersionedServicePackageName(partialPackageName));
      _importPackageNames.add(getVersionedServicePackageName(partialPackageName));
    }
    _importPackageNames.add("com.liferay.portal.osgi.web.wab.generator");
    File metaInfDir=new File(uri.resolve("WEB-INF/classes/META-INF"));
    metaInfDir.mkdirs();
    Class<?> clazz=getClass();
    FileUtil.write(new File(metaInfDir,"service-bean-post-processor-spring.xml"),clazz.getResourceAsStream("/com/liferay/portal/osgi/web/wab/generator/internal/dependencies" + "/service-bean-post-processor-spring.xml"));
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
