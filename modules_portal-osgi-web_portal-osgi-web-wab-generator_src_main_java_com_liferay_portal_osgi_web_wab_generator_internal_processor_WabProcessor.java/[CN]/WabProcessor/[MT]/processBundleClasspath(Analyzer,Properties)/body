{
  Map<String,File> classPath=new LinkedHashMap<>();
  classPath.put("ext/WEB-INF/classes",new File(_pluginDir,"ext/WEB-INF/classes"));
  classPath.put("WEB-INF/classes",new File(_pluginDir,"WEB-INF/classes"));
  String[] portalDependencyJars=new String[0];
  if (pluginPackageProperties != null) {
    portalDependencyJars=StringUtil.split(pluginPackageProperties.getProperty("portal-dependency-jars",StringPool.BLANK));
  }
  processFiles(_pluginDir,_pluginDir.toURI(),classPath,portalDependencyJars);
  analyzer.setProperty(Constants.BUNDLE_CLASSPATH,StringUtil.merge(classPath.keySet()));
  Collection<File> files=classPath.values();
  analyzer.setClasspath(files.toArray(new File[classPath.size()]));
}
