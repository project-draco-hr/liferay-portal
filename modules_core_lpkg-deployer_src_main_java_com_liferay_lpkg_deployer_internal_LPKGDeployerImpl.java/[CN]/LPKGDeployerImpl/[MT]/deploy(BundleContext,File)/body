{
  try {
    List<Bundle> bundles=new ArrayList<>();
    Bundle lpkgBundle=bundleContext.installBundle(lpkgFile.getCanonicalPath(),_lpkgToOSGiBundle(lpkgFile));
    BundleStartLevel bundleStartLevel=lpkgBundle.adapt(BundleStartLevel.class);
    bundleStartLevel.setStartLevel(PropsValues.MODULE_FRAMEWORK_DYNAMIC_INSTALL_START_LEVEL);
    bundles.add(lpkgBundle);
    List<Bundle> newBundles=_lpkgBundleTracker.getObject(lpkgBundle);
    if (newBundles != null) {
      bundles.addAll(newBundles);
    }
    return bundles;
  }
 catch (  BundleException be) {
    throw new IOException(be);
  }
}
