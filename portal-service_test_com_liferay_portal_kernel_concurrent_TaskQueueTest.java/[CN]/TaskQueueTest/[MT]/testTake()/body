{
  final TaskQueue<Object> taskQueue=new TaskQueue<Object>();
  final Object object=new Object();
  assertTrue(taskQueue.offer(object,new boolean[1]));
  assertSame(object,taskQueue.take());
  Thread thread=new Thread(){
    public void run(){
      try {
        Thread.sleep(100);
      }
 catch (      InterruptedException ie) {
      }
      assertTrue(taskQueue.offer(object,new boolean[1]));
    }
  }
;
  thread.start();
  assertSame(object,taskQueue.take());
  thread=new Thread(){
    public void run(){
      try {
        Thread.sleep(100);
      }
 catch (      InterruptedException ex) {
      }
      assertTrue(taskQueue.offer(object,new boolean[1]));
      assertTrue(taskQueue.offer(object,new boolean[1]));
    }
  }
;
  thread.start();
  assertSame(object,taskQueue.take());
}
