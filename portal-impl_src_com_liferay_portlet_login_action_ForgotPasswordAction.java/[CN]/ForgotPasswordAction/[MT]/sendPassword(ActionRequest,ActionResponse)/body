{
  if (PropsValues.USERS_REMINDER_QUERIES_ENABLED) {
    User user=getUser(actionRequest);
    String answer=ParamUtil.getString(actionRequest,"answer");
    if (!user.getReminderQueryAnswer().equals(answer)) {
      throw new UserReminderQueryException();
    }
  }
 else   if (PropsValues.CAPTCHA_CHECK_PORTAL_SEND_PASSWORD) {
    CaptchaUtil.check(actionRequest);
  }
  PortletPreferences preferences=actionRequest.getPreferences();
  String subject=preferences.getValue(PropsKeys.ADMIN_EMAIL_PASSWORD_SENT_SUBJECT,null);
  String body=preferences.getValue(PropsKeys.ADMIN_EMAIL_PASSWORD_SENT_BODY,null);
  LoginUtil.sendPassword(actionRequest,subject,body);
  sendRedirect(actionRequest,actionResponse);
}
