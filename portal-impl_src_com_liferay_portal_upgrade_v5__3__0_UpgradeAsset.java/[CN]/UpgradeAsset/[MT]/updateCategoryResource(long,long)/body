{
  String newName=AssetCategory.class.getName();
  String oldName="com.liferay.tags.model.TagsEntry";
  ResourceCode newResourceCode=ResourceCodeLocalServiceUtil.getResourceCode(companyId,newName,ResourceConstants.SCOPE_INDIVIDUAL);
  ResourceCode oldResourceCode=ResourceCodeLocalServiceUtil.getResourceCode(companyId,oldName,ResourceConstants.SCOPE_INDIVIDUAL);
  long newCodeId=newResourceCode.getCodeId();
  long oldCodeId=oldResourceCode.getCodeId();
  runSQL("update Resource_ set codeId = '" + newCodeId + "' where "+ "codeId = '"+ oldCodeId+ "' and primKey = '"+ categoryId+ "';");
  runSQL("update ResourcePermission set name = '" + newName + "' where "+ "companyId = '"+ companyId+ "' and name = '"+ oldName+ "' and scope = '"+ ResourceConstants.SCOPE_INDIVIDUAL+ "' and primKey = '"+ categoryId+ "';");
}
