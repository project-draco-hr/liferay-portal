{
  try {
    if (!beanName.endsWith("LocalService.impl")) {
      return bean;
    }
    Object modifiedBean=null;
    for (    AnnotationHandler annotationHandler : _annotationHandlers) {
      Class beanClass=bean.getClass();
      Class annotationClass=annotationHandler.getAnnotationClass();
      Annotation annotation=beanClass.getAnnotation(annotationClass);
      if (annotation != null) {
        try {
          modifiedBean=annotationHandler.handleClassAnnotation(bean,annotation);
        }
 catch (        Exception e) {
          _log.error("Couldn't handle class annotation " + annotationClass.getName() + "for bean"+ beanName,e);
        }
      }
      Method[] methods=beanClass.getMethods();
      for (      Method method : methods) {
        annotation=method.getAnnotation(annotationClass);
        if (annotation != null) {
          try {
            modifiedBean=annotationHandler.handleMethodAnnotation(bean,method,annotation);
          }
 catch (          Exception e) {
            _log.error("Couldn't handle method annotation " + annotationClass.getName() + "for bean"+ beanName,e);
          }
        }
      }
    }
    if (modifiedBean != null) {
      bean=modifiedBean;
    }
  }
 catch (  Exception e) {
  }
 finally {
    return bean;
  }
}
