{
  ThemeDisplay themeDisplay=(ThemeDisplay)pageContext.getAttribute("themeDisplay");
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  boolean showPortletIcon=true;
  String message=null;
  String src=null;
  if (_portlet != null) {
    message=PortalUtil.getPortletTitle(_portlet,pageContext.getServletContext(),themeDisplay.getLocale());
    src=_portlet.getStaticResourcePath().concat(_portlet.getIcon());
  }
 else {
    showPortletIcon=portletDisplay.isShowPortletIcon();
    message=portletDisplay.getTitle();
    src=portletDisplay.getURLPortlet();
  }
  if (!showPortletIcon) {
    return null;
  }
  setMessage(message);
  setSrc(src);
  return super.getPage();
}
