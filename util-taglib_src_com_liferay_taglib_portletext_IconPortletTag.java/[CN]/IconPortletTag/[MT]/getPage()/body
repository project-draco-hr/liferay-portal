{
  if (FileAvailabilityUtil.isAvailable(servletContext,_PAGE)) {
    return _PAGE;
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  String message=null;
  String src=null;
  if (_portlet != null) {
    message=PortalUtil.getPortletTitle(_portlet,pageContext.getServletContext(),themeDisplay.getLocale());
    if (Validator.isNotNull(_portlet.getIcon())) {
      src=_portlet.getStaticResourcePath().concat(_portlet.getIcon());
    }
 else {
      src=themeDisplay.getPathContext() + "/html/icons/default.png";
    }
  }
 else {
    PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
    if (!portletDisplay.isShowPortletIcon()) {
      return null;
    }
    message=portletDisplay.getTitle();
    src=portletDisplay.getURLPortlet();
  }
  setAlt(StringPool.BLANK);
  setMessage(HtmlUtil.escape(message));
  setSrc(src);
  return super.getPage();
}
