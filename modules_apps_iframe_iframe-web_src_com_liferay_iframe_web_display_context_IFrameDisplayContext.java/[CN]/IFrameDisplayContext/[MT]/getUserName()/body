{
  if (_userName != null) {
    return _userName;
  }
  String authType=getAuthType();
  if (authType.equals("basic")) {
    _userName=_iFramePortletInstanceConfiguration.basicUserName();
  }
 else {
    _userName=_iFramePortletInstanceConfiguration.formUserName();
  }
  if (Validator.isNull(_userName)) {
    return StringPool.BLANK;
  }
  String userNameField=_iFramePortletInstanceConfiguration.userNameField();
  if (Validator.isNull(userNameField)) {
    int pos=_userName.indexOf(StringPool.EQUAL);
    if (pos != -1) {
      String fieldValuePair=_userName;
      userNameField=fieldValuePair.substring(0,pos);
      _userName=fieldValuePair.substring(pos + 1);
    }
  }
  if (Validator.isNotNull(userNameField)) {
    _userName=IFrameUtil.getUserName(_request,_userName);
  }
  return _userName;
}
