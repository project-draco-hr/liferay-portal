{
  Task task=taskCache.getTask();
  boolean upToDate=false;
  if (cacheExtension.isForcedCache()) {
    File cacheDir=taskCache.getCacheDir();
    if (!cacheDir.exists()) {
      throw new GradleException("Unable to find " + cacheDir);
    }
    upToDate=true;
  }
 else {
    upToDate=taskCache.isUpToDate();
  }
  if (upToDate) {
    applyUpToDate(taskCache,task);
  }
 else {
    applyOutOfDate(taskCache,task);
  }
}
