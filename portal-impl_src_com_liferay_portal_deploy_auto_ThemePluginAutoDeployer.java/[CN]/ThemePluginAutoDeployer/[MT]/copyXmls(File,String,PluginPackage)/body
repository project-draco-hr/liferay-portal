{
  super.copyXmls(srcFile,displayName,pluginPackage);
  Map filterMap=new HashMap();
  String pluginName=displayName;
  int pos=pluginName.indexOf("-theme");
  String themeId=pluginName.substring(0,pos);
  String moduleArtifactId=themeId + "-theme";
  String moduleVersion=pluginName.substring(pos + 7);
  String propsString=FileUtil.read(srcFile + "/WEB-INF/liferay-theme-plugin.properties");
  Properties props=PropertiesUtil.load(propsString);
  String moduleGroupId=props.getProperty("module-group-id");
  String themeName=props.getProperty("name");
  String[] tags=StringUtil.split(props.getProperty("tags"));
  StringMaker sm=new StringMaker();
  for (int i=0; i < tags.length; i++) {
    if (i == 0) {
      sm.append("\r\n");
    }
    sm.append("\t\t<tag>");
    sm.append(tags[i].trim());
    sm.append("</tag>\r\n");
    if ((i + 1) == tags.length) {
      sm.append("\t");
    }
  }
  String tagsString=sm.toString();
  String shortDescription=props.getProperty("short-description");
  String changeLog=props.getProperty("change-log");
  String pageURL=props.getProperty("page-url");
  String author=props.getProperty("author");
  String[] licenses=StringUtil.split(props.getProperty("licenses"));
  sm=new StringMaker();
  for (int i=0; i < licenses.length; i++) {
    if (i == 0) {
      sm.append("\r\n");
    }
    sm.append("\t\t<license>");
    sm.append(licenses[i].trim());
    sm.append("</license>\r\n");
    if ((i + 1) == licenses.length) {
      sm.append("\t");
    }
  }
  String licensesString=sm.toString();
  filterMap.put("liferay_version",ReleaseInfo.getVersion());
  filterMap.put("module_group_id",moduleGroupId);
  filterMap.put("module_artifact_id",moduleArtifactId);
  filterMap.put("module_version",moduleVersion);
  filterMap.put("theme_id",themeId);
  filterMap.put("theme_name",themeName);
  filterMap.put("tags",tagsString);
  filterMap.put("short_description",shortDescription);
  filterMap.put("change_log",changeLog);
  filterMap.put("page_url",pageURL);
  filterMap.put("author",author);
  filterMap.put("licenses",licensesString);
  copyDependencyXml("liferay-look-and-feel.xml",srcFile + "/WEB-INF",filterMap,true);
  copyDependencyXml("liferay-plugin-package.xml",srcFile + "/WEB-INF",filterMap,true);
}
