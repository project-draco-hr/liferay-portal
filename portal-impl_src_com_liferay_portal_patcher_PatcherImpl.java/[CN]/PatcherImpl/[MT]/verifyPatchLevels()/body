{
  Properties implJarProperty=_getProperties(PATCHER_PROPERTIES);
  Properties serviceJarProperty=_getProperties(PATCHER_SERVICE_PROPERTIES);
  String[] implJarPatches=_getInstalledPatches(implJarProperty);
  String[] serviceJarPatches=_getInstalledPatches(serviceJarProperty);
  Arrays.sort(implJarPatches);
  Arrays.sort(serviceJarPatches);
  if (!Arrays.equals(implJarPatches,serviceJarPatches)) {
    _log.error("Different patch level detected");
    if (_log.isWarnEnabled()) {
      if (ArrayUtil.isEmpty(implJarPatches)) {
        _log.warn("There are no patches installed on portal-impl.jar");
      }
 else {
        _log.warn("Patch level on portal-impl.jar: " + Arrays.toString(implJarPatches));
      }
      if (ArrayUtil.isEmpty(serviceJarPatches)) {
        _log.warn("There are no patches installed on portal-service.jar");
      }
 else {
        _log.warn("Patch level on portal-service.jar: " + Arrays.toString(serviceJarPatches));
      }
    }
    _inconsistentPatchLevels=true;
    throw new PatchInconsistencyException();
  }
}
