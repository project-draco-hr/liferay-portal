{
  if ((defaultUserId == 0) || (guestGroupId == 0)) {
    return;
  }
  runSQL("delete from Users_Permissions where userId = " + defaultUserId);
  runSQL("insert into Users_Permissions (userId, permissionId) select " + defaultUserId + ", Groups_Permissions.permissionId from "+ "Groups_Permissions where groupId = "+ guestGroupId);
  for (  long plid : getPlids(guestGroupId)) {
    deletePortletPermissionIds(plid,guestGroupId);
  }
  deletePermissionIds(Layout.class.getName(),"Layout","plid",guestGroupId);
  deletePermissionIds(BlogsEntry.class.getName(),"BlogsEntry","entryId",guestGroupId);
  deletePermissionIds(BookmarksFolder.class.getName(),"BookmarksFolder","folderId",guestGroupId);
  deletePermissionIds(BookmarksEntry.class.getName(),"BookmarksEntry","entryId","BookmarksFolder","folderId",guestGroupId);
  deletePermissionIds(CalEvent.class.getName(),"CalEvent","eventId",guestGroupId);
  deletePermissionIds(DLFolder.class.getName(),"DLFolder","folderId",guestGroupId);
  deletePermissionIds(DLFileEntry.class.getName(),"DLFileEntry","fileEntryId","DLFolder","folderId",guestGroupId);
  deletePermissionIds(DLFileShortcut.class.getName(),"DLFileShortcut","fileShortcutId","DLFolder","folderId",guestGroupId);
  deletePermissionIds(IGFolder.class.getName(),"IGFolder","folderId",guestGroupId);
  deletePermissionIds(IGImage.class.getName(),"IGImage","imageId","IGFolder","folderId",guestGroupId);
  deletePermissionIds(JournalArticle.class.getName(),"JournalArticle","resourcePrimKey",guestGroupId);
  deletePermissionIds(JournalStructure.class.getName(),"JournalStructure","id_",guestGroupId);
  deletePermissionIds(JournalTemplate.class.getName(),"JournalTemplate","id_",guestGroupId);
  deletePermissionIds(MBCategory.class.getName(),"MBCategory","categoryId",guestGroupId);
  deletePermissionIds(MBMessage.class.getName(),"MBMessage","messageId","MBCategory","categoryId",guestGroupId);
  deletePermissionIds(PollsQuestion.class.getName(),"PollsQuestion","questionId",guestGroupId);
  deletePermissionIds(SCFrameworkVersion.class.getName(),"SCFrameworkVersion","frameworkVersionId",guestGroupId);
  deletePermissionIds(SCProductEntry.class.getName(),"SCProductEntry","productEntryId",guestGroupId);
  deletePermissionIds(ShoppingCategory.class.getName(),"ShoppingCategory","categoryId",guestGroupId);
  deletePermissionIds(ShoppingItem.class.getName(),"ShoppingItem","itemId","ShoppingCategory","categoryId",guestGroupId);
  deletePermissionIds(WikiNode.class.getName(),"WikiNode","nodeId",guestGroupId);
  deletePermissionIds(WikiPage.class.getName(),"WikiPage","resourcePrimKey","WikiNode","nodeId",guestGroupId);
}
