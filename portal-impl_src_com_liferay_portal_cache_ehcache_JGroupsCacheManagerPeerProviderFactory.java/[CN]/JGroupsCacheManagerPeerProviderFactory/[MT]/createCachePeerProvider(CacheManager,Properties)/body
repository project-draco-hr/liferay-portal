{
  if (_log.isDebugEnabled()) {
    _log.debug("Creating JGroups peer provider");
  }
  String clusterName=properties.getProperty("clusterName");
  if (clusterName == null) {
    clusterName=_DEFAULT_CLUSTER_NAME;
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Cluster name " + clusterName);
  }
  String channelProperties=properties.getProperty("channelProperties");
  if (channelProperties != null) {
    channelProperties=channelProperties.replaceAll(StringPool.SPACE,StringPool.BLANK);
    if (Validator.isNull(channelProperties)) {
      channelProperties=null;
    }
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Channel properties " + channelProperties);
  }
  _initialized=true;
  return new JGroupsManager(cacheManager,clusterName,channelProperties);
}
