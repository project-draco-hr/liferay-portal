{
  String portalPropertyKey=properties.getProperty("portalPropertyKey");
  if (Validator.isNull(portalPropertyKey)) {
    throw new RuntimeException("portalPropertyKey is null");
  }
  String portalPropertiesString=PropsUtil.getProperties().getProperty(portalPropertyKey);
  if (_log.isInfoEnabled()) {
    _log.info("portalPropertyKey " + portalPropertyKey + " has value "+ portalPropertiesString);
  }
  portalPropertiesString=StringUtil.replace(portalPropertiesString,StringPool.COMMA,StringPool.NEW_LINE);
  Properties portalProperties=null;
  try {
    portalProperties=PropertiesUtil.load(portalPropertiesString);
  }
 catch (  IOException ioe) {
    _log.error(ioe,ioe);
    throw new RuntimeException(ioe.getMessage());
  }
  if (_log.isDebugEnabled()) {
    _log.debug(PropertiesUtil.list(portalProperties));
  }
  return super.createCachePeerProvider(cacheManager,portalProperties);
}
