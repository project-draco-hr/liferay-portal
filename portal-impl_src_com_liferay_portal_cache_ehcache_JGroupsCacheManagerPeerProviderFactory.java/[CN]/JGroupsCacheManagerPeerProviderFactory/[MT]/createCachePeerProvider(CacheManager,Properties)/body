{
  if (_log.isDebugEnabled()) {
    _log.debug("CREATING JGOUPS PEER PROVIDER");
  }
  String[] propertiesKey=PropsValues.EHCACHE_CLUSTER_JGROUPS_PROPERTIES_FORMAT;
  String clusterName=properties.getProperty(propertiesKey[0]);
  String channelProperties=properties.getProperty(propertiesKey[1]);
  if (channelProperties != null) {
    channelProperties=channelProperties.replaceAll(StringPool.SPACE,StringPool.BLANK);
    if (channelProperties.trim().equals(StringPool.BLANK)) {
      channelProperties=null;
    }
  }
  if (channelProperties != null) {
    if (_log.isDebugEnabled()) {
      _log.debug("Connect is:" + channelProperties);
    }
  }
  if (clusterName == null) {
    clusterName=_DEFAULT_CLUSTER_NAME;
  }
  return new JGroupManager(cacheManager,channelProperties,clusterName);
}
