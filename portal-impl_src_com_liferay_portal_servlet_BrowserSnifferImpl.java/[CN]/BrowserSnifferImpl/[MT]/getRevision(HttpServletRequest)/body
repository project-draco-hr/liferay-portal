{
  String revision=StringPool.BLANK;
  String userAgent=getUserAgent(request);
  Pattern pattern=Pattern.compile(".+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)");
  Matcher matcher=pattern.matcher(userAgent);
  while (matcher.find()) {
    for (int i=1; i <= matcher.groupCount(); i++) {
      revision=matcher.group(i);
    }
  }
  return revision;
}
