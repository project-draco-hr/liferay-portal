{
  Organization organization=null;
  long groupId=0;
  long parentOrganizationId=OrganizationConstants.DEFAULT_PARENT_ORGANIZATION_ID;
  if (organizationId > 0) {
    organization=OrganizationLocalServiceUtil.getOrganization(organizationId);
    Group group=organization.getGroup();
    groupId=group.getGroupId();
    parentOrganizationId=organization.getParentOrganizationId();
  }
  if (contains(permissionChecker,groupId,organizationId,actionId)) {
    return true;
  }
  if ((!actionId.equals(ActionKeys.MANAGE_SUBORGANIZATIONS)) && (organization != null)) {
    while (!organization.isRoot()) {
      Organization parentOrganization=organization.getParentOrganization();
      Group parentGroup=parentOrganization.getGroup();
      groupId=parentGroup.getGroupId();
      parentOrganizationId=parentOrganization.getOrganizationId();
      if (contains(permissionChecker,groupId,parentOrganizationId,ActionKeys.MANAGE_SUBORGANIZATIONS)) {
        return true;
      }
      organization=parentOrganization;
    }
  }
  return false;
}
