{
  if ((defaultUserId == 0) || (guestGroupId == 0)) {
    return;
  }
  runSQL("delete from Users_Permissions where userId = " + defaultUserId);
  runSQL("insert into Users_Permissions (userId, permissionId) select " + defaultUserId + ", Groups_Permissions.permissionId from "+ "Groups_Permissions where groupId = "+ guestGroupId);
  deleteStalePortletPermissions(guestGroupId);
  deleteStalePermissions(Layout.class.getName(),"Layout","plid",guestGroupId);
  deleteStalePermissions(BlogsEntry.class.getName(),"BlogsEntry","entryId",guestGroupId);
  deleteStalePermissions(BookmarksFolder.class.getName(),"BookmarksFolder","folderId",guestGroupId);
  deleteStalePermissions(BookmarksEntry.class.getName(),"BookmarksEntry","entryId","BookmarksFolder","folderId",guestGroupId);
  deleteStalePermissions(CalEvent.class.getName(),"CalEvent","eventId",guestGroupId);
  deleteStalePermissions(DLFolder.class.getName(),"DLFolder","folderId",guestGroupId);
  deleteStalePermissions(DLFileEntry.class.getName(),"DLFileEntry","fileEntryId","DLFolder","folderId",guestGroupId);
  deleteStalePermissions(DLFileShortcut.class.getName(),"DLFileShortcut","fileShortcutId","DLFolder","folderId",guestGroupId);
  deleteStalePermissions(IGFolder.class.getName(),"IGFolder","folderId",guestGroupId);
  deleteStalePermissions(IGImage.class.getName(),"IGImage","imageId","IGFolder","folderId",guestGroupId);
  deleteStalePermissions(JournalArticle.class.getName(),"JournalArticle","resourcePrimKey",guestGroupId);
  deleteStalePermissions(JournalStructure.class.getName(),"JournalStructure","id_",guestGroupId);
  deleteStalePermissions(JournalTemplate.class.getName(),"JournalTemplate","id_",guestGroupId);
  deleteStalePermissions(MBCategory.class.getName(),"MBCategory","categoryId",guestGroupId);
  deleteStalePermissions(MBMessage.class.getName(),"MBMessage","messageId","MBCategory","categoryId",guestGroupId);
  deleteStalePermissions(PollsQuestion.class.getName(),"PollsQuestion","questionId",guestGroupId);
  deleteStalePermissions(SCFrameworkVersion.class.getName(),"SCFrameworkVersion","frameworkVersionId",guestGroupId);
  deleteStalePermissions(SCProductEntry.class.getName(),"SCProductEntry","productEntryId",guestGroupId);
  deleteStalePermissions(ShoppingCategory.class.getName(),"ShoppingCategory","categoryId",guestGroupId);
  deleteStalePermissions(ShoppingItem.class.getName(),"ShoppingItem","itemId","ShoppingCategory","categoryId",guestGroupId);
  deleteStalePermissions(WikiNode.class.getName(),"WikiNode","nodeId",guestGroupId);
  deleteStalePermissions(WikiPage.class.getName(),"WikiPage","resourcePrimKey","WikiNode","nodeId",guestGroupId);
}
