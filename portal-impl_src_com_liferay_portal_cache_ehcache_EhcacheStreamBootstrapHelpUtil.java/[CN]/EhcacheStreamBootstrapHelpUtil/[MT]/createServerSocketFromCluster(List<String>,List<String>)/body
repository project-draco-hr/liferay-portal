{
  ServerSocketChannel serverSocketChannel=SocketUtil.createServerSocketChannel(ClusterLinkUtil.getBindInetAddress(),PropsValues.EHCACHE_SOCKET_START_PORT,_serverSocketConfigurator);
  ServerSocket serverSocket=serverSocketChannel.socket();
  EhcachePortalCacheManager<?,?> ehcachePortalCacheManager=(EhcachePortalCacheManager<?,?>)PortalBeanLocatorUtil.locate(_BEAN_NAME_MULTI_VM_PORTAL_CACHE_MANAGER);
  CacheManager cacheManager=ehcachePortalCacheManager.getEhcacheManager();
  if (allCacheNames != null) {
    newCacheNames.addAll(Arrays.asList(cacheManager.getCacheNames()));
    newCacheNames.removeAll(allCacheNames);
  }
  EhcacheStreamServerThread ehcacheStreamServerThread=new EhcacheStreamServerThread(serverSocket,cacheManager,newCacheNames);
  ehcacheStreamServerThread.start();
  return serverSocket.getLocalSocketAddress();
}
