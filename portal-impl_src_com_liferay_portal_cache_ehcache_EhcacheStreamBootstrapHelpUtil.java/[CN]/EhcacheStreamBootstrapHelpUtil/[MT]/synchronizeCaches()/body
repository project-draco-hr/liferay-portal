{
  List<String> remoteCacheNames=null;
  try {
    remoteCacheNames=loadCacheNamesFromCluster();
  }
 catch (  Exception e) {
    throw new CacheException(e);
  }
  if ((remoteCacheNames == null) || remoteCacheNames.isEmpty()) {
    return Collections.emptyList();
  }
  EhcachePortalCacheManager<?,?> ehcachePortalCacheManager=(EhcachePortalCacheManager<?,?>)PortalBeanLocatorUtil.locate(_BEAN_NAME_MULTI_VM_PORTAL_CACHE_MANAGER);
  CacheManager portalCacheManager=ehcachePortalCacheManager.getEhcacheManager();
  List<String> localCacheNames=Arrays.asList(portalCacheManager.getCacheNames());
  List<String> cacheNames=new ArrayList<String>();
  cacheNames.addAll(remoteCacheNames);
  cacheNames.removeAll(localCacheNames);
  EhcacheStreamBootstrapCacheLoader.setSkip();
  List<Ehcache> caches=new ArrayList<Ehcache>(cacheNames.size());
  for (  String cacheName : cacheNames) {
    portalCacheManager.addCache(cacheName);
    caches.add(portalCacheManager.getCache(cacheName));
  }
  EhcacheStreamBootstrapCacheLoader.resetSkip();
  return caches;
}
