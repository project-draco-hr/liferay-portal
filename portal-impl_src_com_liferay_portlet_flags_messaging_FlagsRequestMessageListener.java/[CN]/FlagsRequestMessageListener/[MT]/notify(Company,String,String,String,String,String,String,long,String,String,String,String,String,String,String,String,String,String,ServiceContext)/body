{
  Date now=new Date();
  subject=StringUtil.replace(subject,new String[]{"[$COMPANY_ID$]","[$COMPANY_MX$]","[$COMPANY_NAME$]","[$CONTENT_ID$]","[$CONTENT_TITLE$]","[$CONTENT_TYPE$]","[$CONTENT_URL$]","[$DATE$]","[$FROM_ADDRESS$]","[$FROM_NAME$]","[$PORTAL_URL$]","[$REASON$]","[$REPORTED_USER_ADDRESS$]","[$REPORTED_USER_NAME$]","[$REPORTED_USER_URL$]","[$REPORTER_USER_ADDRESS$]","[$REPORTER_USER_NAME$]","[$SITE_NAME$]","[$TO_ADDRESS$]","[$TO_NAME$]"},new String[]{String.valueOf(company.getCompanyId()),company.getMx(),company.getName(),String.valueOf(contentId),contentTitle,contentType,contentURL,now.toString(),fromAddress,fromName,serviceContext.getPortalURL(),reason,reportedEmailAddress,reportedUserName,reportedUserURL,reporterEmailAddress,reporterUserName,groupName,toAddress,toName});
  body=StringUtil.replace(body,new String[]{"[$COMPANY_ID$]","[$COMPANY_MX$]","[$COMPANY_NAME$]","[$CONTENT_ID$]","[$CONTENT_TITLE$]","[$CONTENT_TYPE$]","[$CONTENT_URL$]","[$DATE$]","[$FROM_ADDRESS$]","[$FROM_NAME$]","[$PORTAL_URL$]","[$REASON$]","[$REPORTED_USER_ADDRESS$]","[$REPORTED_USER_NAME$]","[$REPORTED_USER_URL$]","[$REPORTER_USER_ADDRESS$]","[$REPORTER_USER_NAME$]","[$SITE_NAME$]","[$TO_ADDRESS$]","[$TO_NAME$]"},new String[]{String.valueOf(company.getCompanyId()),company.getMx(),company.getName(),String.valueOf(contentId),contentTitle,contentType,contentURL,now.toString(),fromAddress,fromName,serviceContext.getPortalURL(),reason,reportedEmailAddress,reportedUserName,reportedUserURL,reporterEmailAddress,reporterUserName,groupName,toAddress,toName});
  InternetAddress from=new InternetAddress(fromAddress,fromName);
  InternetAddress to=new InternetAddress(toAddress,toName);
  MailMessage message=new MailMessage(from,to,subject,body,true);
  MailServiceUtil.sendEmail(message);
}
