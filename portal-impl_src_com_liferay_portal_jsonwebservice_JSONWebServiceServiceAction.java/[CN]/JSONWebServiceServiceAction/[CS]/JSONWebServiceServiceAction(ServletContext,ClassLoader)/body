{
  _contextPath=ContextPathUtil.getContextPath(servletContext);
  String contextName=_contextPath;
  BeanLocator beanLocator;
  if (_contextPath.equals(PortalContextLoaderListener.getPortalServletContextPath()) || _contextPath.isEmpty()) {
    beanLocator=PortalBeanLocatorUtil.getBeanLocator();
  }
 else {
    contextName=_contextPath;
    if (contextName.startsWith(StringPool.SLASH)) {
      contextName=contextName.substring(1);
    }
    beanLocator=PortletBeanLocatorUtil.getBeanLocator(contextName);
  }
  JSONWebServiceRegistrator jsonWebServiceRegitrator=new JSONWebServiceRegistrator();
  jsonWebServiceRegitrator.processAllBeans(_contextPath,beanLocator);
  if (_log.isInfoEnabled()) {
    int count=JSONWebServiceActionsManagerUtil.getJSONWebServiceActionsCount(_contextPath);
    _log.info("Configured " + count + " actions for "+ _contextPath);
  }
}
