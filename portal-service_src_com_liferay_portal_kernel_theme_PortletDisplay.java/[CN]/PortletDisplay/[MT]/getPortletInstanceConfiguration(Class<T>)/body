{
  String portletId=Validator.isNull(_portletResource) ? _id : _portletResource;
  String configurationPid=ConfigurationProviderUtil.getConfigurationPid(clazz);
  if (Validator.isNotNull(configurationPid)) {
    return ConfigurationProviderUtil.getConfiguration(clazz,new PortletInstanceSettingsLocator(_themeDisplay.getLayout(),portletId,configurationPid));
  }
 else {
    return ConfigurationProviderUtil.getConfiguration(clazz,new PortletInstanceSettingsLocator(_themeDisplay.getLayout(),portletId));
  }
}
