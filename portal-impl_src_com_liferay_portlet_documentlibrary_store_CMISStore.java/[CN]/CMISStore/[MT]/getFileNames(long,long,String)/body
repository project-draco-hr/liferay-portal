{
  Folder folder=getRepositoryFolder(companyId,repositoryId);
  String[] dirNames=StringUtil.split(dirName,StringPool.SLASH);
  for (  String curDirName : dirNames) {
    Folder subFolder=getFolder(folder,curDirName);
    if (subFolder == null) {
      subFolder=createFolder(folder,curDirName);
    }
    folder=subFolder;
  }
  List<Folder> folders=getFolders(folder);
  String[] fileNames=new String[folders.size()];
  for (int i=0; i < folders.size(); i++) {
    Folder curFolder=folders.get(i);
    String fileName=curFolder.getName();
    fileNames[i]=dirName.concat(StringPool.SLASH).concat(fileName);
  }
  return fileNames;
}
