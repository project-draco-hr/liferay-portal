{
  ServiceContext serviceContext=createServiceContext();
  CalendarResource calendarResource=CalendarResourceUtil.getUserCalendarResource(_user.getUserId(),serviceContext);
  Calendar calendar=calendarResource.getDefaultCalendar();
  Map<Locale,String> oldDescriptionMap=new HashMap<>();
  oldDescriptionMap.put(LocaleUtil.BRAZIL,RandomTestUtil.randomString());
  oldDescriptionMap.put(LocaleUtil.GERMANY,RandomTestUtil.randomString());
  oldDescriptionMap.put(LocaleUtil.SPAIN,RandomTestUtil.randomString());
  oldDescriptionMap.put(LocaleUtil.US,RandomTestUtil.randomString());
  long startTime=System.currentTimeMillis();
  CalendarBooking calendarBooking=CalendarBookingLocalServiceUtil.addCalendarBooking(_user.getUserId(),calendar.getCalendarId(),new long[0],CalendarBookingConstants.PARENT_CALENDAR_BOOKING_ID_DEFAULT,CalendarBookingConstants.RECURRING_CALENDAR_BOOKING_ID_DEFAULT,RandomTestUtil.randomLocaleStringMap(),oldDescriptionMap,RandomTestUtil.randomString(),startTime,startTime + 36000000,false,null,0,null,0,null,serviceContext);
  Map<Locale,String> newDescriptionMap=new HashMap<>();
  newDescriptionMap.put(LocaleUtil.GERMANY,"");
  newDescriptionMap.put(LocaleUtil.SPAIN,RandomTestUtil.randomString());
  newDescriptionMap.put(LocaleUtil.US,oldDescriptionMap.get(LocaleUtil.US));
  calendarBooking=CalendarBookingLocalServiceUtil.updateCalendarBooking(_user.getUserId(),calendarBooking.getCalendarBookingId(),calendar.getCalendarId(),new long[0],RandomTestUtil.randomLocaleStringMap(),newDescriptionMap,RandomTestUtil.randomString(),startTime,startTime + 36000000,false,null,0,null,0,null,serviceContext);
  calendarBooking=CalendarBookingLocalServiceUtil.fetchCalendarBooking(calendarBooking.getCalendarBookingId());
  Assert.assertEquals(oldDescriptionMap.get(LocaleUtil.BRAZIL),calendarBooking.getDescription(LocaleUtil.BRAZIL));
  Assert.assertEquals(newDescriptionMap.get(LocaleUtil.SPAIN),calendarBooking.getDescription(LocaleUtil.SPAIN));
  Assert.assertEquals(newDescriptionMap.get(LocaleUtil.US),calendarBooking.getDescription(LocaleUtil.US));
  Map<Locale,String> descriptionMap=calendarBooking.getDescriptionMap();
  Assert.assertFalse(descriptionMap.containsKey(LocaleUtil.GERMANY));
}
