{
  if (_calledGetWriter) {
    throw new IllegalStateException("Cannot obtain OutputStream " + "because Writer is already in use");
  }
  if (_servletOutputStream == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("Get OutputStream on a PipingServletResponse " + "with Writer. Will do auto convert, but this is very bad " + "for performance.");
    }
    _servletOutputStream=new PipingServletOutputStream(new WriterOutputStream(_printWriter));
  }
  _calledGetOutputStream=true;
  return _servletOutputStream;
}
