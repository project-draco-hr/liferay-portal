{
  try {
    Runtime runtime=Runtime.getRuntime();
    StringBundler sb=new StringBundler();
    if (!OSDetector.isWindows()) {
      String projectDirName=_liferaySelenium.getProjectDirName();
      projectDirName=StringUtil.replace(projectDirName,"\\","//");
      runtime.exec("/bin/bash cd " + projectDirName);
      sb.append("/bin/bash ant -f ");
      sb.append(_fileName);
      sb.append(" ");
      sb.append(_target);
      sb.append(" -Drun.in.background=true");
    }
 else {
      runtime.exec("cmd /c cd " + _liferaySelenium.getProjectDirName());
      sb.append("cmd /c ant -f ");
      sb.append(_fileName);
      sb.append(" ");
      sb.append(_target);
      sb.append(" -Drun.in.background=true");
    }
    Process process=runtime.exec(sb.toString());
    InputStreamReader inputStreamReader=new InputStreamReader(process.getInputStream());
    BufferedReader bufferedReader=new BufferedReader(inputStreamReader);
    String line=null;
    while ((line=bufferedReader.readLine()) != null) {
      System.out.println(line);
      if (line.contains("BUILD FAILED") || line.contains("BUILD SUCCESSFUL")) {
        break;
      }
    }
  }
 catch (  Exception e) {
  }
}
