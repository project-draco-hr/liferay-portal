{
  if ((_type == null) && (_textObj != null)) {
    MemoryCacheImageInputStream mcis=new MemoryCacheImageInputStream(new ByteArrayInputStream(_textObj));
    Iterator itr=ImageIO.getImageReaders(mcis);
    _type=null;
    if (itr.hasNext()) {
      Object obj=itr.next();
      if (obj instanceof GIFImageReader) {
        _type="gif";
      }
 else       if (obj instanceof JPEGImageReader) {
        _type="jpeg";
      }
 else       if (obj instanceof PNGImageReader) {
        _type="png";
      }
    }
  }
  return _type;
}
