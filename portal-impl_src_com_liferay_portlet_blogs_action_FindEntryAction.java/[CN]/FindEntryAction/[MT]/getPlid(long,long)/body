{
  if (plid != 0) {
    try {
      LayoutLocalServiceUtil.getLayout(plid);
      return plid;
    }
 catch (    NoSuchLayoutException nsle) {
    }
  }
  BlogsEntry entry=BlogsEntryLocalServiceUtil.getEntry(entryId);
  long groupId=entry.getGroupId();
  boolean privateLayout=false;
  long parentLayoutId=LayoutImpl.DEFAULT_PARENT_LAYOUT_ID;
  List layouts=LayoutLocalServiceUtil.getLayouts(groupId,privateLayout,parentLayoutId);
  for (int i=0; i < layouts.size(); i++) {
    Layout layout=(Layout)layouts.get(i);
    if (!layout.getType().equals(LayoutImpl.TYPE_PORTLET)) {
      continue;
    }
    if (i == 0) {
      plid=layout.getPlid();
    }
    LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
    if (layoutTypePortlet.hasPortletId(PortletKeys.BLOGS)) {
      plid=layout.getPlid();
      break;
    }
  }
  if (plid == 0) {
    if (layouts.size() > 0) {
      Layout layout=(Layout)layouts.get(0);
      plid=layout.getPlid();
    }
  }
  return plid;
}
