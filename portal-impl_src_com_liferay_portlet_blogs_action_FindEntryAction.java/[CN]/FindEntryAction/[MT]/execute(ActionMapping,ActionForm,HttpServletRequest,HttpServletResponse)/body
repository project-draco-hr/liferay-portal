{
  try {
    long plid=ParamUtil.getLong(request,"p_l_id");
    String redirect=ParamUtil.getString(request,"redirect");
    long entryId=ParamUtil.getLong(request,"entryId");
    boolean showAllEntries=ParamUtil.getBoolean(request,"showAllEntries");
    String portletId=PortletKeys.BLOGS;
    try {
      plid=getPlid(plid,portletId,entryId);
    }
 catch (    NoSuchLayoutException nsle) {
      portletId=PortletKeys.BLOGS_AGGREGATOR;
      plid=getPlid(plid,portletId,entryId);
    }
    String urlTitle=getUrlTitle(entryId);
    PortletURL portletURL=new PortletURLImpl(request,portletId,plid,PortletRequest.RENDER_PHASE);
    portletURL.setWindowState(WindowState.NORMAL);
    portletURL.setPortletMode(PortletMode.VIEW);
    if (Validator.isNotNull(redirect)) {
      portletURL.setParameter("redirect",redirect);
    }
    String strutsAction=getStrutsAction(portletId,showAllEntries);
    portletURL.setParameter("struts_action",strutsAction);
    if (!showAllEntries) {
      if (Validator.isNotNull(urlTitle)) {
        portletURL.setParameter("urlTitle",urlTitle);
      }
 else {
        portletURL.setParameter("entryId",String.valueOf(entryId));
      }
    }
    response.sendRedirect(portletURL.toString());
    return null;
  }
 catch (  Exception e) {
    String noSuchEntryRedirect=ParamUtil.getString(request,"noSuchEntryRedirect");
    if (e.getClass().equals(NoSuchLayoutException.class) && Validator.isNotNull(noSuchEntryRedirect)) {
      response.sendRedirect(noSuchEntryRedirect);
    }
 else {
      PortalUtil.sendError(e,request,response);
    }
    return null;
  }
}
