{
  if (companyId.equals(User.DEFAULT)) {
    throw new SystemException();
  }
  Portlet portlet=null;
  Map companyPortletsPool=_getPortletsPool(companyId);
  String rootPortletId=Portlet.getRootPortletId(portletId);
  if (portletId.equals(rootPortletId)) {
    portlet=(Portlet)companyPortletsPool.get(portletId);
  }
 else {
    portlet=(Portlet)companyPortletsPool.get(rootPortletId);
    if (portlet != null) {
      portlet=portlet.getClonedInstance(portletId);
    }
  }
  return portlet;
}
