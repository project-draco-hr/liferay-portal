{
  PortalCacheConfiguration defaultPortalCacheConfiguration=null;
  if (isClusterAware() && PropsValues.CLUSTER_LINK_ENABLED) {
    CallbackConfiguration cacheListenerConfiguration=new CallbackConfiguration(ClusterLinkCallbackFactory.INSTANCE,new Properties());
    Map<CallbackConfiguration,CacheListenerScope> cacheListenerConfigurations=new HashMap<>();
    cacheListenerConfigurations.put(cacheListenerConfiguration,CacheListenerScope.ALL);
    CallbackConfiguration bootstrapLoaderConfiguration=new CallbackConfiguration(ClusterLinkCallbackFactory.INSTANCE,new Properties());
    defaultPortalCacheConfiguration=new PortalCacheConfiguration(PortalCacheConfiguration.DEFAULT_PORTAL_CACHE_NAME,cacheListenerConfigurations,bootstrapLoaderConfiguration);
  }
  return new PortalCacheManagerConfiguration(null,defaultPortalCacheConfiguration,null);
}
