{
  long folderId=DLFolderConstants.DEFAULT_PARENT_FOLDER_ID;
  if (pathArray.length <= 1) {
    return folderId;
  }
 else {
    long groupId=WebDAVUtil.getGroupId(companyId,pathArray);
    int x=pathArray.length;
    if (parent) {
      x--;
    }
    for (int i=2; i < x; i++) {
      String name=pathArray[i];
      DLFolder folder=DLAppServiceUtil.getFolder(groupId,folderId,name);
      if (groupId == folder.getGroupId()) {
        folderId=folder.getFolderId();
      }
    }
  }
  return folderId;
}
