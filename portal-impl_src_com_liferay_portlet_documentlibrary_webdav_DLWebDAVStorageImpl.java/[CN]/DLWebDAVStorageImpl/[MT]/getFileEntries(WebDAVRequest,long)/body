{
  List<Resource> fileEntries=new ArrayList<Resource>();
  long plid=getPlid(webDavReq.getGroupId());
  DLFolderPermission.check(webDavReq.getPermissionChecker(),plid,parentFolderId,ActionKeys.VIEW);
  Iterator<DLFileEntry> itr=DLFileEntryLocalServiceUtil.getFileEntries(parentFolderId).iterator();
  while (itr.hasNext()) {
    DLFileEntry fileEntry=itr.next();
    if (DLFileEntryPermission.contains(webDavReq.getPermissionChecker(),fileEntry,ActionKeys.VIEW)) {
      Resource resource=toResource(webDavReq,fileEntry,true);
      fileEntries.add(resource);
    }
  }
  return fileEntries;
}
