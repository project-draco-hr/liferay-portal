{
  List fileEntries=new ArrayList();
  long plid=getPlid(webDavReq.getGroupId());
  DLFolderPermission.check(webDavReq.getPermissionChecker(),plid,parentFolderId,ActionKeys.VIEW);
  Iterator itr=DLFileEntryLocalServiceUtil.getFileEntries(parentFolderId).iterator();
  while (itr.hasNext()) {
    DLFileEntry fileEntry=(DLFileEntry)itr.next();
    if (DLFileEntryPermission.contains(webDavReq.getPermissionChecker(),fileEntry,ActionKeys.VIEW)) {
      Resource resource=toResource(webDavReq,fileEntry,true);
      fileEntries.add(resource);
    }
  }
  return fileEntries;
}
