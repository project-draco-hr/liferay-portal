{
  DLFileVersion latestFileVersion=DLFileVersionLocalServiceUtil.getLatestFileVersion(fileEntry.getGroupId(),fileEntry.getFolderId(),fileEntry.getName());
  if (latestFileVersion.getStatus() == WorkflowConstants.STATUS_APPROVED) {
    return;
  }
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddCommunityPermissions(isAddCommunityPermissions(fileEntry.getGroupId()));
  serviceContext.setAddGuestPermissions(true);
  DLFileEntryLocalServiceUtil.updateFileEntry(latestFileVersion.getUserId(),latestFileVersion.getGroupId(),latestFileVersion.getFolderId(),latestFileVersion.getFolderId(),latestFileVersion.getName(),fileEntry.getTitle(),fileEntry.getTitle(),fileEntry.getDescription(),latestFileVersion.getDescription(),true,fileEntry.getExtraSettings(),null,0,serviceContext);
}
