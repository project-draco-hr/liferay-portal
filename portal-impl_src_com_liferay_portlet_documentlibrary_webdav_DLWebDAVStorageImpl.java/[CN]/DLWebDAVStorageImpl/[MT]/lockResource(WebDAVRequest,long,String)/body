{
  Resource resource=getResource(webDavRequest);
  Lock lock=null;
  if (resource instanceof DLFileEntryResourceImpl) {
    DLFileEntry fileEntry=(DLFileEntry)resource.getModel();
    try {
      lock=DLFileEntryServiceUtil.lockFileEntry(fileEntry.getFolderId(),fileEntry.getName(),timeout,owner);
    }
 catch (    Exception e) {
      if (!(e instanceof DuplicateLockException)) {
        throw new WebDAVException(e);
      }
    }
  }
  return lock;
}
