{
  long[] assetCategoryIds=AssetCategoryLocalServiceUtil.getCategoryIds(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
  String[] assetTagNames=AssetTagLocalServiceUtil.getTagNames(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
  AssetEntry entry=AssetEntryLocalServiceUtil.fetchEntry(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
  List<AssetLink> assetLinks=AssetLinkLocalServiceUtil.getDirectLinks(entry.getEntryId(),AssetLinkConstants.TYPE_RELATED);
  long[] assetLinkEntryIds=StringUtil.split(ListUtil.toString(assetLinks,AssetLink.ENTRY_ID2_ACCESSOR),0L);
  serviceContext.setAssetCategoryIds(assetCategoryIds);
  serviceContext.setAssetLinkEntryIds(assetLinkEntryIds);
  serviceContext.setAssetTagNames(assetTagNames);
  serviceContext.setExpandoBridgeAttributes(fileEntry.getExpandoBridge().getAttributes());
}
