{
  List folders=new ArrayList();
  long plid=getPlid(webDavReq.getGroupId());
  long groupId=webDavReq.getGroupId();
  DLFolderPermission.check(webDavReq.getPermissionChecker(),plid,parentFolderId,ActionKeys.VIEW);
  Iterator itr=DLFolderLocalServiceUtil.getFolders(groupId,parentFolderId).iterator();
  while (itr.hasNext()) {
    DLFolder folder=(DLFolder)itr.next();
    if (DLFolderPermission.contains(webDavReq.getPermissionChecker(),folder,ActionKeys.VIEW)) {
      Resource resource=toResource(webDavReq,folder,true);
      folders.add(resource);
    }
  }
  return folders;
}
