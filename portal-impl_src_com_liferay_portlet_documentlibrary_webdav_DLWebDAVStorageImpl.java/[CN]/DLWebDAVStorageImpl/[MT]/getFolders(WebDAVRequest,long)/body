{
  List<Resource> folders=new ArrayList<Resource>();
  long plid=getPlid(webDavReq.getGroupId());
  long groupId=webDavReq.getGroupId();
  DLFolderPermission.check(webDavReq.getPermissionChecker(),plid,parentFolderId,ActionKeys.VIEW);
  Iterator<DLFolder> itr=DLFolderLocalServiceUtil.getFolders(groupId,parentFolderId).iterator();
  while (itr.hasNext()) {
    DLFolder folder=itr.next();
    if (DLFolderPermission.contains(webDavReq.getPermissionChecker(),folder,ActionKeys.VIEW)) {
      Resource resource=toResource(webDavReq,folder,true);
      folders.add(resource);
    }
  }
  return folders;
}
