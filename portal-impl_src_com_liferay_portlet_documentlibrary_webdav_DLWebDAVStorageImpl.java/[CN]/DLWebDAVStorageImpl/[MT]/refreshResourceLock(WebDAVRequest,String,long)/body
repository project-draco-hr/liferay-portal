{
  Resource resource=getResource(webDavRequest);
  long companyId=webDavRequest.getCompanyId();
  Lock lock=null;
  try {
    if (resource instanceof DLFileEntryResourceImpl) {
      lock=DLAppServiceUtil.refreshFileEntryLock(uuid,companyId,timeout);
    }
 else {
      lock=DLAppServiceUtil.refreshFolderLock(uuid,companyId,timeout);
    }
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
  return lock;
}
