{
  try {
    String[] pathArray=webDavReq.getPathArray();
    long parentFolderId=getParentFolderId(pathArray);
    String name=WebDAVUtil.getEntryName(pathArray);
    try {
      DLFolder folder=DLFolderServiceUtil.getFolder(webDavReq.getGroupId(),parentFolderId,name);
      if ((folder.getParentFolderId() != parentFolderId) || (webDavReq.getGroupId() != folder.getGroupId())) {
        throw new NoSuchFolderException();
      }
      return toResource(webDavReq,folder,false);
    }
 catch (    NoSuchFolderException nsfe) {
      try {
        DLFileEntry fileEntry=DLFileEntryLocalServiceUtil.getFileEntry(parentFolderId,name);
        DLFileEntryPermission.check(webDavReq.getPermissionChecker(),fileEntry,ActionKeys.VIEW);
        return toResource(webDavReq,fileEntry,false);
      }
 catch (      NoSuchFileEntryException nsfee) {
        return null;
      }
    }
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
}
