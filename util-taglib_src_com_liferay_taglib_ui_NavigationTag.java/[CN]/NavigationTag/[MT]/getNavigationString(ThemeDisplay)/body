{
  StringBundler sb=new StringBundler();
  try {
    Layout layout=themeDisplay.getLayout();
    List<Layout> branchLayouts=getBranchLayouts(layout);
    Layout rootLayout=getRootLayout(branchLayouts);
    if ((branchLayouts.size() - getRootLayoutLevel()) > 0) {
      buildNavigation(rootLayout,layout,branchLayouts,themeDisplay,1,getIncludedLayouts(),getNestedChildren(),sb);
    }
  }
 catch (  Exception e) {
    _log.error(e);
  }
  return sb.toString();
}
