{
  List<NavItem> navItems=new ArrayList<>();
  NavItem rootNavItem=null;
  if (_rootLayoutType.equals("relative")) {
    if ((_rootLayoutLevel >= 0) && (_rootLayoutLevel < branchNavItems.size())) {
      rootNavItem=branchNavItems.get(_rootLayoutLevel);
    }
  }
 else   if (_rootLayoutType.equals("absolute")) {
    int ancestorIndex=branchNavItems.size() - _rootLayoutLevel;
    if ((ancestorIndex >= 0) && (ancestorIndex < branchNavItems.size())) {
      rootNavItem=branchNavItems.get(ancestorIndex);
    }
 else     if (ancestorIndex == branchNavItems.size()) {
      ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
      navItems=NavItem.fromLayouts(request,themeDisplay.getLayouts(),null);
    }
  }
  if (rootNavItem != null) {
    navItems=rootNavItem.getChildren();
  }
  return navItems;
}
