{
  Layout rootLayout=null;
  String rootLayoutType=getRootLayoutType();
  int rootLayoutLevel=getRootLayoutLevel();
  if (rootLayoutType.equals("relative")) {
    if ((rootLayoutLevel >= 0) && (rootLayoutLevel < branchLayouts.size())) {
      rootLayout=branchLayouts.get(rootLayoutLevel);
    }
 else {
      rootLayout=null;
    }
  }
 else   if (rootLayoutType.equals("absolute")) {
    int ancestorIndex=branchLayouts.size() - rootLayoutLevel;
    if ((ancestorIndex >= 0) && (ancestorIndex < branchLayouts.size())) {
      rootLayout=branchLayouts.get(ancestorIndex);
    }
 else     if (ancestorIndex == branchLayouts.size()) {
      rootLayout=null;
    }
  }
  return rootLayout;
}
