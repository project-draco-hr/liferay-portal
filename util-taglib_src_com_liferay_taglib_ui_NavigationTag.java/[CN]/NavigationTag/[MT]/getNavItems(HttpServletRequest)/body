{
  List<NavItem> navItems=new ArrayList<>();
  List<NavItem> navItemsBranch=_getNavItemsBranch(request);
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  int layoutLevel=_rootLayoutLevel;
  if (_rootLayoutType.equals("relative")) {
    layoutLevel=navItemsBranch.size() - _rootLayoutLevel;
  }
  if (layoutLevel > 0) {
    navItems=NavItem.fromLayouts(request,themeDisplay.getLayouts(),null);
  }
 else   if (layoutLevel > 0) {
    NavItem rootNavItem=navItemsBranch.get(layoutLevel - 1);
    navItems=rootNavItem.getChildren();
  }
  return navItems;
}
