{
  DDMFormValues currentDDMFormValues=getDDMFormValues();
  DDMForm currentDDMForm=currentDDMFormValues.getDDMForm();
  if (currentDDMForm == null) {
    throw new IllegalStateException("Unable to filter by type when DDMForm reference is null");
  }
  DDMFormValues filteredDDMFormValues=new DDMFormValues(currentDDMForm);
  Map<String,DDMFormField> currentDDMFormFieldsMap=currentDDMForm.getDDMFormFieldsMap(false);
  for (  DDMFormFieldValue ddmFormFieldValue : currentDDMFormValues.getDDMFormFieldValues()) {
    DDMFormField ddmFormField=currentDDMFormFieldsMap.get(ddmFormFieldValue.getName());
    if (ddmFormFieldType.equals(ddmFormField.getType())) {
      filteredDDMFormValues.addDDMFormFieldValue(ddmFormFieldValue);
    }
  }
  return filteredDDMFormValues;
}
