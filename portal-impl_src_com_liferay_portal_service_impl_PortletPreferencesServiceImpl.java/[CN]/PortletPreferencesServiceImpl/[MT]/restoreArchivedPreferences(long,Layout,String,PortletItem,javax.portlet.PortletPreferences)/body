{
  PortletPermissionUtil.check(getPermissionChecker(),groupId,layout,portletId,ActionKeys.CONFIGURATION);
  long ownerId=portletItem.getPortletItemId();
  int ownerType=PortletKeys.PREFS_OWNER_TYPE_ARCHIVED;
  long plid=0;
  String rootPortletId=PortletConstants.getRootPortletId(portletId);
  javax.portlet.PortletPreferences archivedPreferences=portletPreferencesLocalService.getPreferences(portletItem.getCompanyId(),ownerId,ownerType,plid,rootPortletId);
  copyPreferences(archivedPreferences,preferences);
}
