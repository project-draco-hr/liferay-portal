{
  String className=MBMessage.class.getName();
  if (message.isDiscussion()) {
    className=MBDiscussion.class.getName();
  }
  boolean visible=false;
  if (message.getStatus() == WorkflowConstants.STATUS_APPROVED) {
    visible=true;
  }
  assetEntryLocalService.updateEntry(userId,message.getGroupId(),className,message.getMessageId(),message.getUuid(),assetCategoryIds,assetTagNames,visible,null,null,null,null,ContentTypes.TEXT_HTML,message.getSubject(),null,null,null,0,0,null,false);
}
