{
  if (SearchEngineUtil.isIndexReadOnly()) {
    return;
  }
  MBMessage message=mbMessagePersistence.fetchByPrimaryKey(messageId);
  if (message == null) {
    return;
  }
  if (message.isRoot()) {
    List<MBMessage> messages=mbMessagePersistence.findByThreadId(message.getThreadId());
    for (    MBMessage curMessage : messages) {
      reIndex(curMessage);
    }
  }
 else {
    reIndex(message);
  }
}
