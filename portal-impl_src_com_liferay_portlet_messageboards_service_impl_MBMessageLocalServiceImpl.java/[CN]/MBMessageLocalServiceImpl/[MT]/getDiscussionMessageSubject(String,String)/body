{
  if (Validator.isNull(subject)) {
    if (Validator.isNotNull(body)) {
      subject=HtmlUtil.extractText(body);
      if (subject.length() > 50) {
        subject=subject.substring(0,50) + StringPool.TRIPLE_PERIOD;
      }
    }
 else {
      throw new MessageBodyException("Body is null");
    }
  }
  return subject;
}
