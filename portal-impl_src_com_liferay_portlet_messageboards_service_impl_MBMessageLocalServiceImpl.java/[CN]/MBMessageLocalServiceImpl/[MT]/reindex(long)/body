{
  if (SearchEngineUtil.isIndexReadOnly()) {
    return;
  }
  MBMessage message=mbMessagePersistence.fetchByPrimaryKey(messageId);
  if (message == null) {
    return;
  }
  if (message.isRoot()) {
    List<MBMessage> messages=mbMessagePersistence.findByT_S(message.getThreadId(),StatusConstants.APPROVED);
    for (    MBMessage curMessage : messages) {
      reindex(curMessage);
    }
  }
 else {
    reindex(message);
  }
}
