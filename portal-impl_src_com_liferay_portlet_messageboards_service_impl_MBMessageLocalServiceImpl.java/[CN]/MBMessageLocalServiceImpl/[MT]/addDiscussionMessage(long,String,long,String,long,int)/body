{
  long threadId=0;
  long parentMessageId=MBMessageConstants.DEFAULT_PARENT_MESSAGE_ID;
  String subject=String.valueOf(classPK);
  String body=subject;
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setWorkflowAction(workflowAction);
  boolean workflowEnabled=WorkflowThreadLocal.isEnabled();
  WorkflowThreadLocal.setEnabled(false);
  try {
    return addDiscussionMessage(userId,userName,groupId,className,classPK,threadId,parentMessageId,subject,body,serviceContext);
  }
  finally {
    WorkflowThreadLocal.setEnabled(workflowEnabled);
  }
}
