{
  String id=_id;
  if (Validator.isNull(id)) {
    id=PortalUtil.generateRandomKey(request,"taglib_ui_asset_tags_selector_page") + StringPool.UNDERLINE;
  }
  request.setAttribute("liferay-ui:asset-tags-selector:className",_className);
  request.setAttribute("liferay-ui:asset-tags-selector:classPK",String.valueOf(_classPK));
  request.setAttribute("liferay-ui:asset-tags-selector:contentCallback",String.valueOf(_contentCallback));
  request.setAttribute("liferay-ui:asset-tags-selector:curTags",_curTags);
  request.setAttribute("liferay-ui:asset-tags-selector:focus",String.valueOf(_focus));
  if (_groupIds == null) {
    ThemeDisplay themeDisplay=(ThemeDisplay)pageContext.getAttribute("themeDisplay");
    List<Long> groupIds=new ArrayList<Long>();
    Group group=themeDisplay.getScopeGroup();
    if (group.isLayout()) {
      groupIds.add(group.getParentGroupId());
    }
 else {
      groupIds.add(group.getGroupId());
    }
    if (group.getParentGroupId() != themeDisplay.getCompanyGroupId()) {
      groupIds.add(themeDisplay.getCompanyGroupId());
    }
    _groupIds=ArrayUtil.toArray(ArrayUtil.toLongArray(groupIds.toArray()));
  }
  request.setAttribute("liferay-ui:asset-tags-selector:groupIds",_groupIds);
  request.setAttribute("liferay-ui:asset-tags-selector:hiddenInput",_hiddenInput);
  request.setAttribute("liferay-ui:asset-tags-selector:id",id);
}
