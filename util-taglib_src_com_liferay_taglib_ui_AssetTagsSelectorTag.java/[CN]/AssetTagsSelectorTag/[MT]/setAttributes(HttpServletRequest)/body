{
  String id=_id;
  if (Validator.isNull(id)) {
    id=PortalUtil.generateRandomKey(request,"taglib_ui_asset_tags_selector_page") + StringPool.UNDERLINE;
  }
  request.setAttribute("liferay-ui:asset-tags-selector:autoFocus",String.valueOf(_autoFocus));
  request.setAttribute("liferay-ui:asset-tags-selector:className",_className);
  request.setAttribute("liferay-ui:asset-tags-selector:classPK",String.valueOf(_classPK));
  request.setAttribute("liferay-ui:asset-tags-selector:contentCallback",String.valueOf(_contentCallback));
  request.setAttribute("liferay-ui:asset-tags-selector:curTags",_curTags);
  if (_groupIds == null) {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    long[] groupIds=null;
    Group group=themeDisplay.getScopeGroup();
    if (group.isLayout()) {
      groupIds=new long[]{group.getParentGroupId()};
    }
 else {
      groupIds=new long[]{group.getGroupId()};
    }
    if (group.getParentGroupId() != themeDisplay.getCompanyGroupId()) {
      groupIds=ArrayUtil.append(groupIds,themeDisplay.getCompanyGroupId());
    }
    _groupIds=groupIds;
  }
  request.setAttribute("liferay-ui:asset-tags-selector:groupIds",_groupIds);
  request.setAttribute("liferay-ui:asset-tags-selector:hiddenInput",_hiddenInput);
  request.setAttribute("liferay-ui:asset-tags-selector:id",id);
}
