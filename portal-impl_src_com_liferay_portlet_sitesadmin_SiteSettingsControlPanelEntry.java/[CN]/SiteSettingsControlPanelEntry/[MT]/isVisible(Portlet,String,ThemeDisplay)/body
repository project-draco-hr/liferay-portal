{
  String controlPanelCategory=themeDisplay.getControlPanelCategory();
  if (controlPanelCategory.equals(PortletCategoryKeys.CONTENT)) {
    return false;
  }
  Group scopeGroup=themeDisplay.getScopeGroup();
  if (scopeGroup.isUser() || !(GroupPermissionUtil.contains(themeDisplay.getPermissionChecker(),scopeGroup.getGroupId(),ActionKeys.UPDATE))) {
  }
  boolean visible=super.isVisible(portlet,category,themeDisplay);
  if (!visible) {
    visible=GroupPermissionUtil.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),ActionKeys.MANAGE_LAYOUTS);
  }
  if (visible) {
    if (scopeGroup.isCompany()) {
      visible=false;
    }
  }
  return visible;
}
