{
  boolean added=false;
  String namespaceURI=qName.getNamespaceURI();
  ArrayList types=(ArrayList)schemaTypes.get(namespaceURI);
  if (Constants.isSchemaXSD(namespaceURI) || (Constants.isSOAP_ENC(namespaceURI) && !"Array".equals(qName.getLocalPart()))) {
    writeTypeNamespace(namespaceURI);
    return false;
  }
  if (types == null) {
    types=new ArrayList();
    types.add(qName.getLocalPart());
    writeTypeNamespace(namespaceURI);
    schemaTypes.put(namespaceURI,types);
    added=true;
  }
 else {
    if (!types.contains(qName.getLocalPart())) {
      types.add(qName.getLocalPart());
      added=true;
    }
  }
  if (added) {
    String prefix=namespaces.getCreatePrefix(namespaceURI);
    if (prefix.equals(Constants.NS_PREFIX_SOAP_ENV) || prefix.equals(Constants.NS_PREFIX_SOAP_ENC) || prefix.equals(Constants.NS_PREFIX_SCHEMA_XSD)|| prefix.equals(Constants.NS_PREFIX_WSDL)|| prefix.equals(Constants.NS_PREFIX_WSDL_SOAP)) {
      return false;
    }
 else {
      return true;
    }
  }
  return false;
}
