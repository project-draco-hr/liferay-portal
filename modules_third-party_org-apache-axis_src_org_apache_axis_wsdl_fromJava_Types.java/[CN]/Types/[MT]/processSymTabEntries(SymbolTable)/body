{
  Iterator iterator=symbolTable.getElementIndex().entrySet().iterator();
  while (iterator.hasNext()) {
    Map.Entry me=(Map.Entry)iterator.next();
    QName name=(QName)me.getKey();
    TypeEntry te=(TypeEntry)me.getValue();
    String prefix=XMLUtils.getPrefix(name.getNamespaceURI(),te.getNode());
    if (!((null == prefix) || "".equals(prefix))) {
      namespaces.putPrefix(name.getNamespaceURI(),prefix);
      def.addNamespace(prefix,name.getNamespaceURI());
    }
    addToElementsList(name);
  }
  iterator=symbolTable.getTypeIndex().entrySet().iterator();
  while (iterator.hasNext()) {
    Map.Entry me=(Map.Entry)iterator.next();
    QName name=(QName)me.getKey();
    TypeEntry te=(TypeEntry)me.getValue();
    String prefix=XMLUtils.getPrefix(name.getNamespaceURI(),te.getNode());
    if (!((null == prefix) || "".equals(prefix))) {
      namespaces.putPrefix(name.getNamespaceURI(),prefix);
      def.addNamespace(prefix,name.getNamespaceURI());
    }
    addToTypesList(name);
  }
}
