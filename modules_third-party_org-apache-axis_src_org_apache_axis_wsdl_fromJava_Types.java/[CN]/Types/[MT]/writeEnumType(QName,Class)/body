{
  if (!isEnumClass(cls)) {
    return null;
  }
  java.lang.reflect.Method m=cls.getMethod("getValue",null);
  Class base=m.getReturnType();
  Element simpleType=docHolder.createElement("simpleType");
  simpleType.setAttribute("name",qName.getLocalPart());
  Element restriction=docHolder.createElement("restriction");
  simpleType.appendChild(restriction);
  String baseType=writeType(base,null);
  restriction.setAttribute("base",baseType);
  Field[] fields=cls.getDeclaredFields();
  for (int i=0; i < fields.length; i++) {
    Field field=fields[i];
    int mod=field.getModifiers();
    if (Modifier.isPublic(mod) && Modifier.isStatic(mod) && Modifier.isFinal(mod)&& (field.getType() == base)) {
      Element enumeration=docHolder.createElement("enumeration");
      enumeration.setAttribute("value",field.get(null).toString());
      restriction.appendChild(enumeration);
    }
  }
  return simpleType;
}
