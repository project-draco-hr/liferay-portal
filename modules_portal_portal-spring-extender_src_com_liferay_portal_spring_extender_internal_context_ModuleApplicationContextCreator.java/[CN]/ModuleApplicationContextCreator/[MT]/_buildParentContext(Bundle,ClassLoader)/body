{
  GenericApplicationContext genericApplicationContext=new GenericApplicationContext();
  genericApplicationContext.setClassLoader(classLoader);
  XmlBeanDefinitionReader xmlBeanDefinitionReader=new XmlBeanDefinitionReader(genericApplicationContext);
  xmlBeanDefinitionReader.setValidating(false);
  xmlBeanDefinitionReader.setValidationMode(XmlBeanDefinitionReader.VALIDATION_NONE);
  Enumeration<URL> enumeration=bundle.findEntries("META-INF/spring/parent","*.xml",true);
  while (enumeration.hasMoreElements()) {
    URL url=enumeration.nextElement();
    InputStream inputStream=url.openStream();
    xmlBeanDefinitionReader.loadBeanDefinitions(new InputStreamResource(inputStream));
  }
  genericApplicationContext.refresh();
  return genericApplicationContext;
}
