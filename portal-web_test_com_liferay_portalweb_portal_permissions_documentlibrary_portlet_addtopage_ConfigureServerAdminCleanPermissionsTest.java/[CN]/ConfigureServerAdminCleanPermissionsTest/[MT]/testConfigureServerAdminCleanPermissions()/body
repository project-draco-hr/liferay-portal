{
  selenium.open("/web/guest/home/");
  loadRequiredJavaScriptModules();
  for (int second=0; ; second++) {
    if (second >= 90) {
      fail("timeout");
    }
    try {
      if (selenium.isElementPresent("link=Control Panel")) {
        break;
      }
    }
 catch (    Exception e) {
    }
    Thread.sleep(1000);
  }
  selenium.clickAt("link=Control Panel",RuntimeVariables.replace("Control Panel"));
  selenium.waitForPageToLoad("30000");
  loadRequiredJavaScriptModules();
  selenium.clickAt("link=Server Administration",RuntimeVariables.replace("Server Administration"));
  selenium.waitForPageToLoad("30000");
  loadRequiredJavaScriptModules();
  assertEquals(RuntimeVariables.replace("Clean Up Permissions This process removes the assignment of some permissions on the Guest, User and Power User roles in order to simplify the management of \"User Customizable Pages\". Notably, \"Add To Page\" permissions is removed from the Guest, and User role for all portlets. Likewise the same permission is reduced in scope for Power Users from portal wide to scoped to \"User Personal Site\"."),selenium.getText("//tr[9]/td"));
  selenium.clickAt("xpath=(//input[@value='Execute'])[9]",RuntimeVariables.replace("Clean Up Permissions"));
  selenium.waitForPageToLoad("30000");
  loadRequiredJavaScriptModules();
  assertEquals(RuntimeVariables.replace("Your request completed successfully."),selenium.getText("//div[@class='portlet-msg-success']"));
}
