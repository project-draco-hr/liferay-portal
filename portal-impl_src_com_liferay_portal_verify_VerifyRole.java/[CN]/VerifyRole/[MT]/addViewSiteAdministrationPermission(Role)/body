{
  String name=Group.class.getName();
  Group userPersonalSite=GroupLocalServiceUtil.getGroup(role.getCompanyId(),GroupConstants.USER_PERSONAL_SITE);
  String primKey=String.valueOf(userPersonalSite.getGroupId());
  if (ResourcePermissionLocalServiceUtil.hasResourcePermission(role.getCompanyId(),name,ResourceConstants.SCOPE_GROUP,primKey,role.getRoleId(),ActionKeys.VIEW_SITE_ADMINISTRATION) || !ResourcePermissionLocalServiceUtil.hasResourcePermission(role.getCompanyId(),name,ResourceConstants.SCOPE_GROUP,primKey,role.getRoleId(),ActionKeys.MANAGE_LAYOUTS)) {
    return;
  }
  ResourcePermissionLocalServiceUtil.addResourcePermission(role.getCompanyId(),name,ResourceConstants.SCOPE_GROUP,primKey,role.getRoleId(),ActionKeys.VIEW_SITE_ADMINISTRATION);
}
