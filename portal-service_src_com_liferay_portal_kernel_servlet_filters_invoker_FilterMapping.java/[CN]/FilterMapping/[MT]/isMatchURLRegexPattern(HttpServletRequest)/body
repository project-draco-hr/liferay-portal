{
  String requestPath=ThemeHelper.getRequestPath(request);
  if (Validator.isNull(requestPath)) {
    return false;
  }
  if ((_urlRegexPattern == null) && (_urlRegexIgnorePattern == null)) {
    return true;
  }
  String queryString=request.getQueryString();
  if (Validator.isNotNull(queryString)) {
    requestPath=requestPath.concat(StringPool.QUESTION).concat(queryString);
  }
  boolean matchURLRegexPattern=true;
  if (_urlRegexPattern != null) {
    Matcher matcher=_urlRegexPattern.matcher(requestPath);
    matchURLRegexPattern=matcher.find();
  }
  if (matchURLRegexPattern && (_urlRegexIgnorePattern != null)) {
    Matcher matcher=_urlRegexIgnorePattern.matcher(requestPath);
    matchURLRegexPattern=!matcher.find();
  }
  if (_log.isDebugEnabled()) {
    if (matchURLRegexPattern) {
      _log.debug(_filter.getClass() + " has a regex match with " + requestPath);
    }
 else {
      _log.debug(_filter.getClass() + " does not have a regex match with " + requestPath);
    }
  }
  return matchURLRegexPattern;
}
