{
  String jaasAuthType=PropsValues.PORTAL_JAAS_AUTH_TYPE;
  if (jaasAuthType.equals("login")) {
    Company company=CompanyLocalServiceUtil.getCompany(companyId);
    String authType=company.getAuthType();
    if (authType.equals(CompanyConstants.AUTH_TYPE_EA)) {
      jaasAuthType="emailAddress";
    }
 else     if (authType.equals(CompanyConstants.AUTH_TYPE_SN)) {
      jaasAuthType="screenName";
    }
 else {
      jaasAuthType="userId";
    }
  }
  long userId=0;
  if (jaasAuthType.equals("emailAddress")) {
    User user=UserLocalServiceUtil.fetchUserByEmailAddress(companyId,name);
    if (user != null) {
      userId=user.getUserId();
    }
  }
 else   if (jaasAuthType.equals("screenName")) {
    User user=UserLocalServiceUtil.fetchUserByScreenName(companyId,name);
    if (user != null) {
      userId=user.getUserId();
    }
  }
 else {
    userId=GetterUtil.getLong(name);
  }
  return userId;
}
