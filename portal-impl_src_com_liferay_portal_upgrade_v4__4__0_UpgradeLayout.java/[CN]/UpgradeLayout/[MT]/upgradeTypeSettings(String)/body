{
  Properties props=new SafeProperties();
  PropertiesUtil.load(props,typeSettings);
  long linkToPlid=GetterUtil.getLong(props.getProperty("linkToPlid"));
  if (linkToPlid > 0) {
    Layout layout=LayoutLocalServiceUtil.getLayout(linkToPlid);
    props.remove("linkToPlid");
    props.put("groupId",String.valueOf(layout.getGroupId()));
    props.put("privateLayout",String.valueOf(layout.isPrivateLayout()));
    props.put("linkToLayoutId",String.valueOf(layout.getLayoutId()));
  }
  return PropertiesUtil.toString(props);
}
