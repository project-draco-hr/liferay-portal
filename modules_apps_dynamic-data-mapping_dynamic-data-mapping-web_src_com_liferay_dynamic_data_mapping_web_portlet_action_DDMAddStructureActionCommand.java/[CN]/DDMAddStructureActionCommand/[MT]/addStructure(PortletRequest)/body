{
  long groupId=ParamUtil.getLong(portletRequest,DDMConstants.GROUP_ID);
  long scopeClassNameId=ParamUtil.getLong(portletRequest,DDMConstants.SCOPE_CLASS_NAME_ID);
  String structureKey=ParamUtil.getString(portletRequest,DDMConstants.STRUCTURE_KEY);
  long parentStructureId=ParamUtil.getLong(portletRequest,DDMConstants.PARENT_STRUCTURE_ID,DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID);
  Map<Locale,String> nameMap=LocalizationUtil.getLocalizationMap(portletRequest,DDMConstants.NAME);
  Map<Locale,String> descriptionMap=LocalizationUtil.getLocalizationMap(portletRequest,DDMConstants.DESCRIPTION);
  DDMForm ddmForm=DDMUtil.getDDMForm((ActionRequest)portletRequest);
  DDMFormLayout ddmFormLayout=DDMUtil.getDefaultDDMFormLayout(ddmForm);
  String storageType=ParamUtil.getString(portletRequest,DDMConstants.STORAGE_TYPE);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DDMStructure.class.getName(),portletRequest);
  return DDMStructureServiceUtil.addStructure(groupId,parentStructureId,scopeClassNameId,structureKey,nameMap,descriptionMap,ddmForm,ddmFormLayout,storageType,DDMStructureConstants.TYPE_DEFAULT,serviceContext);
}
