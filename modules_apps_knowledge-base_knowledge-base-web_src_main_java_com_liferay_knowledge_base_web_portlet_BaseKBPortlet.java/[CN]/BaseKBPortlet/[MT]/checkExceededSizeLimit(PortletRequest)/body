{
  UploadException uploadException=(UploadException)portletRequest.getAttribute(WebKeys.UPLOAD_EXCEPTION);
  if (uploadException != null) {
    Throwable cause=uploadException.getCause();
    if (uploadException.isExceededFileSizeLimit()) {
      throw new FileSizeException(cause);
    }
    if (uploadException.isExceededLiferayFileItemSizeLimit()) {
      throw new LiferayFileItemException(cause);
    }
    if (uploadException.isExceededUploadRequestSizeLimit()) {
      throw new UploadRequestSizeException(cause);
    }
    throw new PortalException(cause);
  }
}
