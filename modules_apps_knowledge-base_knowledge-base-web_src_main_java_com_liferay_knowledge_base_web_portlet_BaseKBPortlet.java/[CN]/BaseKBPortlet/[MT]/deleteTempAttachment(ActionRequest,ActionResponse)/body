{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long resourcePrimKey=ParamUtil.getLong(actionRequest,"resourcePrimKey");
  String fileName=ParamUtil.getString(actionRequest,"fileName");
  JSONObject jsonObject=jsonFactory.createJSONObject();
  try {
    kbArticleService.deleteTempAttachment(themeDisplay.getScopeGroupId(),resourcePrimKey,fileName,KnowledgeBaseConstants.TEMP_FOLDER_NAME);
    jsonObject.put("deleted",Boolean.TRUE);
  }
 catch (  Exception e) {
    String errorMessage=themeDisplay.translate("an-unexpected-error-occurred-while-deleting-the-file");
    jsonObject.put("deleted",Boolean.FALSE);
    jsonObject.put("errorMessage",errorMessage);
  }
  writeJSON(actionRequest,actionResponse,jsonObject);
}
