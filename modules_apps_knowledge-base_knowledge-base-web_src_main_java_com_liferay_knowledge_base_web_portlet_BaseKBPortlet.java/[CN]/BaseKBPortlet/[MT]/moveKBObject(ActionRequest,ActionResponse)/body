{
  Portal portal=getPortal();
  long resourceClassNameId=ParamUtil.getLong(actionRequest,"resourceClassNameId");
  long resourcePrimKey=ParamUtil.getLong(actionRequest,"resourcePrimKey");
  long parentResourceClassNameId=ParamUtil.getLong(actionRequest,"parentResourceClassNameId",portal.getClassNameId(KBFolderConstants.getClassName()));
  long parentResourcePrimKey=ParamUtil.getLong(actionRequest,"parentResourcePrimKey",KBFolderConstants.DEFAULT_PARENT_FOLDER_ID);
  double priority=ParamUtil.getDouble(actionRequest,"priority");
  long kbArticleClassNameId=portal.getClassNameId(KBArticleConstants.getClassName());
  if (resourceClassNameId == kbArticleClassNameId) {
    KBArticleService kbArticleService=getKBArticleService();
    kbArticleService.moveKBArticle(resourcePrimKey,parentResourceClassNameId,parentResourcePrimKey,priority);
  }
 else {
    KBFolderService kbFolderService=getKBFolderService();
    kbFolderService.moveKBFolder(resourcePrimKey,parentResourcePrimKey);
  }
}
