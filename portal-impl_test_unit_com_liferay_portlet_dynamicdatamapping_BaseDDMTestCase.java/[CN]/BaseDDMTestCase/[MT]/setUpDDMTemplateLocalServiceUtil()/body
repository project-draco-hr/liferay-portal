{
  mockStatic(DDMTemplateLocalServiceUtil.class);
  when(getTemplate(Matchers.anyLong())).then(new Answer<DDMTemplate>(){
    @Override public DDMTemplate answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      Long templateId=(Long)args[0];
      return templates.get(templateId);
    }
  }
);
}
