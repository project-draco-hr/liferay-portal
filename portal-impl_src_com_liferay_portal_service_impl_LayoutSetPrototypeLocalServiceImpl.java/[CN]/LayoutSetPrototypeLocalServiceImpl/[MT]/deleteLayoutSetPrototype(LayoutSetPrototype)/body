{
  List<LayoutSet> linkedLayoutSets=LayoutSetLocalServiceUtil.getLayoutSetsByLayoutSetPrototypeUuid(layoutSetPrototype.getUuid());
  if (linkedLayoutSets.size() > 0) {
    throw new RequiredSiteTemplateException();
  }
  Group group=layoutSetPrototype.getGroup();
  groupLocalService.deleteGroup(group);
  resourceLocalService.deleteResource(layoutSetPrototype.getCompanyId(),LayoutSetPrototype.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,layoutSetPrototype.getLayoutSetPrototypeId());
  layoutSetPrototypePersistence.remove(layoutSetPrototype);
  PermissionCacheUtil.clearCache();
}
