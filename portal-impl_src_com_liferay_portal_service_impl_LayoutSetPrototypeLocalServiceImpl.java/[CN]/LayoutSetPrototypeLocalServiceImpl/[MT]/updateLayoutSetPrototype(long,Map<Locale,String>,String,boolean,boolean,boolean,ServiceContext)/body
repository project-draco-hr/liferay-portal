{
  LayoutSetPrototype layoutSetPrototype=layoutSetPrototypePersistence.findByPrimaryKey(layoutSetPrototypeId);
  layoutSetPrototype.setNameMap(nameMap);
  layoutSetPrototype.setDescription(description);
  layoutSetPrototype.setActive(active);
  UnicodeProperties typeSettings=layoutSetPrototype.getSettingsProperties();
  typeSettings.put("allowModifications",String.valueOf(allowModifications));
  typeSettings.put("allowLayoutAdditions",String.valueOf(allowLayoutAddition));
  layoutSetPrototypePersistence.update(layoutSetPrototype,false);
  Group group=groupLocalService.getLayoutSetPrototypeGroup(layoutSetPrototype.getCompanyId(),layoutSetPrototypeId);
  group.setName(layoutSetPrototype.getName(LocaleUtil.getDefault()));
  groupPersistence.update(group,false);
  return layoutSetPrototype;
}
