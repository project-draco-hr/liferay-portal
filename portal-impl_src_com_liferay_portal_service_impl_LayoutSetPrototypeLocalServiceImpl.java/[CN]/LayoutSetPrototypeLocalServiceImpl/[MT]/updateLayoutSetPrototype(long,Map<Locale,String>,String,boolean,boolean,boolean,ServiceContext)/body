{
  LayoutSetPrototype layoutSetPrototype=layoutSetPrototypePersistence.findByPrimaryKey(layoutSetPrototypeId);
  layoutSetPrototype.setModifiedDate(serviceContext.getModifiedDate(new Date()));
  layoutSetPrototype.setNameMap(nameMap);
  layoutSetPrototype.setDescription(description);
  layoutSetPrototype.setActive(active);
  UnicodeProperties settingsProperties=layoutSetPrototype.getSettingsProperties();
  settingsProperties.put("allowModifications",String.valueOf(allowModifications));
  settingsProperties.put("allowLayoutAdditions",String.valueOf(allowLayoutAddition));
  layoutSetPrototype.setSettingsProperties(settingsProperties);
  layoutSetPrototypePersistence.update(layoutSetPrototype,false);
  Group group=groupLocalService.getLayoutSetPrototypeGroup(layoutSetPrototype.getCompanyId(),layoutSetPrototypeId);
  group.setName(layoutSetPrototype.getName(LocaleUtil.getDefault()));
  groupPersistence.update(group,false);
  return layoutSetPrototype;
}
