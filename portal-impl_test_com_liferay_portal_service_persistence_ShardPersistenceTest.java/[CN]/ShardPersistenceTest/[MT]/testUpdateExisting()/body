{
  long pk=nextLong();
  Shard newShard=_persistence.create(pk);
  newShard.setClassNameId(nextLong());
  newShard.setClassPK(nextLong());
  newShard.setJdbcName(randomString());
  _persistence.update(newShard,false);
  Shard existingShard=_persistence.findByPrimaryKey(newShard.getPrimaryKey());
  assertEquals(existingShard.getShardId(),newShard.getShardId());
  assertEquals(existingShard.getClassNameId(),newShard.getClassNameId());
  assertEquals(existingShard.getClassPK(),newShard.getClassPK());
  assertEquals(existingShard.getJdbcName(),newShard.getJdbcName());
}
