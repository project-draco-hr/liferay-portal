{
  ClassLoader classLoader=getClass().getClassLoader();
  InputStream is=classLoader.getResourceAsStream("com/liferay/portal/tools/sql/dependencies/" + path);
  if (is == null) {
    is=classLoader.getResourceAsStream(path);
  }
  if (is == null) {
    ClassLoader secClassLoader=Thread.currentThread().getContextClassLoader();
    is=secClassLoader.getResourceAsStream(path);
  }
  String template=StringUtil.read(is);
  is.close();
  boolean evaluate=path.endsWith(".vm");
  runSQLTemplateString(template,evaluate,failOnError);
}
