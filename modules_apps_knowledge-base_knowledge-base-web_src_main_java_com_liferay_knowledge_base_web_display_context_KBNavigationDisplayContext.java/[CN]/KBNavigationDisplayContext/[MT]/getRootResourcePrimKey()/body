{
  if (_rootResourcePrimKey == null) {
    _rootResourcePrimKey=KBFolderConstants.DEFAULT_PARENT_FOLDER_ID;
    if (_kbArticle != null) {
      _rootResourcePrimKey=KnowledgeBaseUtil.getKBFolderId(_kbArticle.getParentResourceClassNameId(),_kbArticle.getParentResourcePrimKey());
    }
    if (_rootResourcePrimKey == KBFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
      _rootResourcePrimKey=KnowledgeBaseUtil.getRootResourcePrimKey(_portletRequest,PortalUtil.getScopeGroupId(_portletRequest),getResourceClassNameId(),getResourcePrimKey());
    }
  }
  return _rootResourcePrimKey;
}
