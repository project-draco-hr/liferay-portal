{
  List<ResourcePermission> resourcePermissions=resourcePermissionPersistence.findByC_N_S_P_R(companyId,name,scope,primKey,roleId);
  if (resourcePermissions.isEmpty()) {
    return Collections.emptyList();
  }
  ResourcePermission resourcePermission=resourcePermissions.get(0);
  List<String> availableActionIds=new ArrayList<String>(actionIds.size());
  for (  String actionId : actionIds) {
    ResourceAction resourceAction=resourceActionLocalService.getResourceAction(name,actionId);
    if (hasActionId(resourcePermission,resourceAction)) {
      availableActionIds.add(actionId);
    }
  }
  return availableActionIds;
}
