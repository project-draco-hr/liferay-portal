{
  List structures=JournalStructureLocalServiceUtil.getStructures();
  for (int i=0; i < structures.size(); i++) {
    JournalStructure structure=(JournalStructure)structures.get(i);
    ResourceLocalServiceUtil.addResources(structure.getCompanyId(),0,0,JournalStructure.class.getName(),structure.getPrimaryKey().toString(),false,true,true);
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Permissions verified for Journal structures");
  }
  List templates=JournalTemplateLocalServiceUtil.getTemplates();
  for (int i=0; i < templates.size(); i++) {
    JournalTemplate template=(JournalTemplate)templates.get(i);
    ResourceLocalServiceUtil.addResources(template.getCompanyId(),0,0,JournalTemplate.class.getName(),template.getPrimaryKey().toString(),false,true,true);
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Permissions verified for Journal templates");
  }
  List articles=JournalArticleLocalServiceUtil.getArticles();
  for (int i=0; i < articles.size(); i++) {
    JournalArticle article=(JournalArticle)articles.get(i);
    ResourceLocalServiceUtil.addResources(article.getCompanyId(),0,0,JournalArticle.class.getName(),article.getResourcePK().toString(),false,true,true);
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Permissions verified for Journal articles");
  }
}
