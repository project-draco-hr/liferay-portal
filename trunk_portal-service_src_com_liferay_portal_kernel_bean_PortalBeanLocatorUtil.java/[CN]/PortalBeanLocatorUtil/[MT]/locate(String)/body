{
  if (_beanLocator == null) {
    _log.error("BeanLocator is null");
    throw new BeanLocatorException("BeanLocator has not been set");
  }
 else {
    Thread currentThread=Thread.currentThread();
    ClassLoader contextClassLoader=currentThread.getContextClassLoader();
    ClassLoader beanClassLoader=_beanLocator.getClassLoader();
    try {
      if (contextClassLoader != beanClassLoader) {
        currentThread.setContextClassLoader(beanClassLoader);
      }
      return _beanLocator.locate(name);
    }
  finally {
      if (contextClassLoader != beanClassLoader) {
        currentThread.setContextClassLoader(contextClassLoader);
      }
    }
  }
}
