{
  String[] ranks=StringUtil.split(prefs.getValue("ranks",StringPool.BLANK),StringPool.NEW_LINE);
  TreeMap map=getRanksMap(ranks);
  String rank=LanguageUtil.get(pageContext,"none");
  for (Iterator itr=map.keySet().iterator(); itr.hasNext(); ) {
    Integer key=(Integer)itr.next();
    if (posts >= key.intValue()) {
      rank=(String)map.get(key);
    }
 else {
      break;
    }
  }
  return rank;
}
