{
  SyncAccount syncAccount=fetchSyncAccount(syncAccountId);
  String sourceFilePathName=syncAccount.getFilePathName();
  syncAccount.setFilePathName(targetFilePathName);
  update(syncAccount);
  SyncFile syncFile=SyncFileService.fetchSyncFile(sourceFilePathName);
  syncFile.setFilePathName(targetFilePathName);
  SyncFileService.update(syncFile);
  if (syncFile.isFolder()) {
    SyncFileService.renameSyncFiles(sourceFilePathName,targetFilePathName);
  }
  FileSystem fileSystem=FileSystems.getDefault();
  List<SyncSite> syncSites=SyncSiteService.findSyncSites(syncAccountId);
  for (  SyncSite syncSite : syncSites) {
    String syncSiteFilePathName=syncSite.getFilePathName();
    syncSiteFilePathName=StringUtils.replaceOnce(syncSiteFilePathName,sourceFilePathName + fileSystem.getSeparator(),targetFilePathName + fileSystem.getSeparator());
    syncSite.setFilePathName(syncSiteFilePathName);
    SyncSiteService.update(syncSite);
  }
  return syncAccount;
}
