{
  try {
    if (emailAddresses != null) {
      String home=PropsUtil.get(PropsUtil.MAIL_HOOK_SENDMAIL_HOME);
      File file=new File(home + "/" + userId+ "/.forward");
      if (emailAddresses.size() > 0) {
        StringBuffer sb=new StringBuffer();
        for (int i=0; i < emailAddresses.size(); i++) {
          String emailAddress=(String)emailAddresses.get(i);
          sb.append(emailAddress).append("\n");
        }
        FileUtil.write(file,sb.toString());
      }
 else {
        file.delete();
      }
    }
  }
 catch (  IOException ioe) {
    ioe.printStackTrace();
  }
}
