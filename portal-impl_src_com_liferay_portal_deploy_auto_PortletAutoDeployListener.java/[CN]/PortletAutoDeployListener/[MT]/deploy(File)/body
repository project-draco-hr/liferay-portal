{
  if (_log.isDebugEnabled()) {
    _log.debug("Invoking deploy for " + file.getPath());
  }
  AutoDeployer deployer=null;
  if (isMatchingFile(file,"index.php")) {
    deployer=getPhpDeployer();
  }
 else   if (isMatchingFile(file,"WEB-INF/" + Portal.PORTLET_XML_FILE_NAME_STANDARD)) {
    deployer=_deployer;
  }
 else   if (!isHookPlugin(file) && !isMatchingFile(file,"WEB-INF/liferay-layout-templates.xml") && !isThemePlugin(file)&& !isWebPlugin(file)) {
    if (_log.isInfoEnabled()) {
      _log.info("Deploying package as a web application");
    }
    deployer=getWaiDeployer();
  }
 else {
    return;
  }
  if (_log.isInfoEnabled()) {
    _log.info("Copying portlets for " + file.getPath());
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Using deployer " + deployer.getClass().getName());
  }
  deployer.autoDeploy(file.getName());
  if (_log.isInfoEnabled()) {
    _log.info("Portlets for " + file.getPath() + " copied successfully");
  }
}
