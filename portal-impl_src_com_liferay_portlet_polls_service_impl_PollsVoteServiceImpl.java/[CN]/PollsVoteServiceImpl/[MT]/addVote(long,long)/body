{
  long userId=0;
  try {
    userId=getUserId();
  }
 catch (  PrincipalException pe) {
    userId=CounterLocalServiceUtil.increment();
  }
  PollsQuestionPermission.check(getPermissionChecker(),questionId,ActionKeys.ADD_VOTE);
  return PollsVoteLocalServiceUtil.addVote(userId,questionId,choiceId);
}
