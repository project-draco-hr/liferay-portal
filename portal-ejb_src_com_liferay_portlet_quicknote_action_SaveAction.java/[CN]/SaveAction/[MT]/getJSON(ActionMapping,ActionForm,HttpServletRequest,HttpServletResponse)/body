{
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  String portletId=ParamUtil.getString(req,"portletId");
  PortletPermission.check(themeDisplay.getPermissionChecker(),themeDisplay.getPlid(),portletId,ActionKeys.CONFIGURATION);
  PortletPreferences prefs=PortletPreferencesFactory.getPortletSetup(req,portletId,true,true);
  String data=ParamUtil.getString(req,"data");
  prefs.setValue("data",data);
  prefs.store();
  return null;
}
