{
  MBMessage message=MBMessageLocalServiceUtil.getMessage(activity.getClassPK());
  MBThread thread=message.getThread();
  if (thread.isInTrash()) {
    PortletURL portletURL=TrashUtil.getViewContentURL(serviceContext.getRequest(),MBThread.class.getName(),thread.getThreadId());
    return portletURL.toString();
  }
  StringBundler sb=new StringBundler(4);
  sb.append(serviceContext.getPortalURL());
  sb.append(serviceContext.getPathMain());
  sb.append("/message_boards/find_message?messageId=");
  sb.append(message.getMessageId());
  return sb.toString();
}
