{
  ConfigJSModulesTask configJSModulesTask=GradleUtil.addTask(project,CONFIG_JS_MODULES_TASK_NAME,ConfigJSModulesTask.class);
  configJSModulesTask.setDescription("Generates the config file needed to load AMD files via " + "combo loader in Liferay.");
  configJSModulesTask.setGroup(BasePlugin.BUILD_GROUP);
  configJSModulesTask.setModuleConfigFile(project.file("bower.json"));
  configJSModulesTask.setOutputFile(new Callable<File>(){
    @Override public File call() throws Exception {
      SourceSet sourceSet=GradleUtil.getSourceSet(project,SourceSet.MAIN_SOURCE_SET_NAME);
      SourceSetOutput sourceSetOutput=sourceSet.getOutput();
      return new File(sourceSetOutput.getResourcesDir(),"META-INF/config.json");
    }
  }
);
  Task classesTask=GradleUtil.getTask(project,JavaPlugin.CLASSES_TASK_NAME);
  classesTask.dependsOn(configJSModulesTask);
  return configJSModulesTask;
}
