{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  boolean privateLayout=ParamUtil.getBoolean(actionRequest,"privateLayout");
  Map<String,Serializable> importSettingsMap=ExportImportConfigurationSettingsMapFactory.buildImportSettingsMap(themeDisplay.getUserId(),groupId,privateLayout,null,actionRequest.getParameterMap(),StringPool.BLANK,themeDisplay.getLocale(),themeDisplay.getTimeZone(),StringPool.BLANK);
  ExportImportConfiguration exportImportConfiguration=ExportImportConfigurationLocalServiceUtil.addExportImportConfiguration(themeDisplay.getUserId(),groupId,StringPool.BLANK,StringPool.BLANK,ExportImportConfigurationConstants.TYPE_IMPORT_LAYOUT,importSettingsMap,WorkflowConstants.STATUS_DRAFT,new ServiceContext());
  return LayoutServiceUtil.validateImportLayoutsFile(exportImportConfiguration,inputStream);
}
