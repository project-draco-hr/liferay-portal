{
  if (DLAppHelperThreadLocal.isEnabled()) {
    subscriptionLocalService.deleteSubscriptions(fileEntry.getCompanyId(),DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
    DLProcessorRegistryUtil.cleanUp(fileEntry);
    dlFileRankLocalService.deleteFileRanksByFileEntryId(fileEntry.getFileEntryId());
    dlFileShortcutLocalService.deleteFileShortcuts(fileEntry.getFileEntryId());
    if (isUpdateSync(fileEntry)) {
      registerDLSyncEventCallback(DLSyncConstants.EVENT_DELETE,DLSyncConstants.TYPE_FILE,fileEntry.getFileEntryId());
    }
    assetEntryLocalService.deleteEntry(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
    mbMessageLocalService.deleteDiscussionMessages(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
    ratingsStatsLocalService.deleteStats(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
  }
  if (fileEntry.getModel() instanceof DLFileEntry) {
    trashEntryLocalService.deleteEntry(DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
  }
}
