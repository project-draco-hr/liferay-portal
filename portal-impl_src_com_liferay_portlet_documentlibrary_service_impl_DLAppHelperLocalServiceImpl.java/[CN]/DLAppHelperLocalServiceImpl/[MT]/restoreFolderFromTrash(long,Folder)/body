{
  TrashEntry trashEntry=trashEntryLocalService.getEntry(DLFolderConstants.getClassName(),folder.getFolderId());
  DLFolder dlFolder=dlFolderLocalService.updateStatus(userId,folder.getFolderId(),WorkflowConstants.STATUS_APPROVED,new HashMap<String,Serializable>(),new ServiceContext());
  dlFolder.setName(DLAppUtil.stripTrashNamespace(dlFolder.getName()));
  dlFolderPersistence.update(dlFolder,false);
  trashEntryLocalService.deleteTrashEntry(trashEntry.getEntryId());
}
