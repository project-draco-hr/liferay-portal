{
  TrashEntry trashEntry=trashEntryLocalService.getEntry(DLFolderConstants.getClassName(),folder.getFolderId());
  dlFolderLocalService.updateStatus(userId,folder.getFolderId(),WorkflowConstants.STATUS_APPROVED,new HashMap<String,Serializable>(),new ServiceContext());
  dlFileRankLocalService.enableFileRanksByFolderId(folder.getFolderId());
  socialActivityCounterLocalService.enableActivityCounters(DLFolderConstants.class.getName(),folder.getFolderId());
  socialActivityLocalService.addActivity(userId,folder.getGroupId(),DLFolderConstants.getClassName(),folder.getFolderId(),SocialActivityConstants.TYPE_RESTORE_FROM_TRASH,StringPool.BLANK,0);
  trashEntryLocalService.deleteEntry(trashEntry.getEntryId());
}
