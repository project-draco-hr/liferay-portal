{
  long fileEntryId=fileEntry.getFileEntryId();
  List<DLFileVersion> dlFileVersions=dlFileVersionLocalService.getFileVersions(fileEntry.getFileEntryId(),WorkflowConstants.STATUS_ANY);
  dlFileVersions=ListUtil.sort(dlFileVersions,new FileVersionVersionComparator());
  FileVersion fileVersion=new LiferayFileVersion(dlFileVersions.get(0));
  dlFileEntryLocalService.updateStatus(userId,fileVersion.getFileVersionId(),WorkflowConstants.STATUS_APPROVED,new HashMap<String,Serializable>(),serviceContext);
  dlFileRankLocalService.enableFileRanks(fileEntryId);
  return dlAppService.moveFileEntry(fileEntryId,newFolderId,serviceContext);
}
