{
  if (userId > 0) {
    dlFileRankLocalService.updateFileRank(fileEntry.getRepositoryId(),fileEntry.getCompanyId(),userId,fileEntry.getFileEntryId(),new ServiceContext());
  }
  if (PropsValues.DL_FILE_ENTRY_READ_COUNT_ENABLED) {
    assetEntryLocalService.incrementViewCounter(userId,DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId());
    List<DLFileShortcut> fileShortcuts=dlFileShortcutPersistence.findByToFileEntryId(fileEntry.getFileEntryId());
    for (    DLFileShortcut fileShortcut : fileShortcuts) {
      assetEntryLocalService.incrementViewCounter(userId,DLFileShortcut.class.getName(),fileShortcut.getFileShortcutId());
    }
  }
}
