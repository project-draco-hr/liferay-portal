{
  DLFolder dlFolder=(DLFolder)folder.getModel();
  if (dlFolder.isInTrash()) {
    restoreFolderFromTrash(userId,folder);
  }
 else {
    dlFolderLocalService.updateStatus(userId,folder.getFolderId(),WorkflowConstants.STATUS_APPROVED,new HashMap<String,Serializable>(),new ServiceContext());
    dlFileRankLocalService.enableFileRanksByFolderId(folder.getFolderId());
  }
  return dlAppService.moveFolder(folder.getFolderId(),parentFolderId,serviceContext);
}
