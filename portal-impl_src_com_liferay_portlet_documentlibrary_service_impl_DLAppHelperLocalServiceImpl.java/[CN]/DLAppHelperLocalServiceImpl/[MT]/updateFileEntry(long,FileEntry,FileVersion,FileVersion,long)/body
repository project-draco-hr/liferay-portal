{
  if (!DLAppHelperThreadLocal.isEnabled()) {
    return;
  }
  boolean updateAsset=true;
  if (fileEntry instanceof LiferayFileEntry && fileEntry.getVersion().equals(destinationFileVersion.getVersion())) {
    updateAsset=false;
  }
  if (updateAsset) {
    updateAsset(userId,fileEntry,destinationFileVersion,assetClassPk);
  }
  ProcessorCapability processorCapability=new LiferayProcessorCapability();
  if (sourceFileVersion == null) {
    processorCapability.generateNew(fileEntry);
  }
 else {
    processorCapability.copyPrevious(sourceFileVersion);
  }
}
