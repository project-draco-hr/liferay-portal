{
  if (!incrementCounter) {
    return;
  }
  if (userId > 0) {
    dlFileRankLocalService.updateFileRank(fileEntry.getGroupId(),fileEntry.getCompanyId(),userId,fileEntry.getFileEntryId(),new ServiceContext());
  }
  assetEntryLocalService.incrementViewCounter(userId,DLFileEntryConstants.getClassName(),fileEntry.getFileEntryId(),1);
  List<DLFileShortcut> fileShortcuts=dlFileShortcutPersistence.findByToFileEntryId(fileEntry.getFileEntryId());
  for (  DLFileShortcut fileShortcut : fileShortcuts) {
    assetEntryLocalService.incrementViewCounter(userId,DLFileShortcutConstants.getClassName(),fileShortcut.getFileShortcutId(),1);
  }
}
