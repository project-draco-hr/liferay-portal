{
  List<Group> groups=GroupLocalServiceUtil.getLiveGroups();
  for (  Group group : groups) {
    LayoutSet privateLayoutSet=LayoutSetLocalServiceUtil.getLayoutSet(group.getGroupId(),true);
    String privateLayoutSetRobots=getRobots(privateLayoutSet);
    LayoutSet publicLayoutSet=LayoutSetLocalServiceUtil.getLayoutSet(group.getGroupId(),false);
    String publicLayoutSetRobots=getRobots(publicLayoutSet);
    UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
    typeSettingsProperties.setProperty("false-robots.txt",publicLayoutSetRobots);
    typeSettingsProperties.setProperty("true-robots.txt",privateLayoutSetRobots);
    GroupLocalServiceUtil.updateGroup(group.getGroupId(),typeSettingsProperties.toString());
  }
}
