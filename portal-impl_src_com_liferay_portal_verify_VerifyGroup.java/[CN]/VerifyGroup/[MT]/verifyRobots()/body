{
  try (LoggingTimer loggingTimer=new LoggingTimer()){
    List<Group> groups=GroupLocalServiceUtil.getLiveGroups();
    for (    Group group : groups) {
      LayoutSet privateLayoutSet=group.getPrivateLayoutSet();
      LayoutSet publicLayoutSet=group.getPublicLayoutSet();
      String privateLayoutSetRobots=getRobots(privateLayoutSet);
      String publicLayoutSetRobots=getRobots(publicLayoutSet);
      UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
      typeSettingsProperties.setProperty("true-robots.txt",privateLayoutSetRobots);
      typeSettingsProperties.setProperty("false-robots.txt",publicLayoutSetRobots);
      GroupLocalServiceUtil.updateGroup(group.getGroupId(),typeSettingsProperties.toString());
    }
  }
 }
