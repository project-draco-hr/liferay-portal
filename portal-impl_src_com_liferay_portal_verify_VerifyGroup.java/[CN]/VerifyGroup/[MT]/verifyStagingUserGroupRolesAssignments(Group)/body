{
  List<UserGroupRole> staged=UserGroupRoleLocalServiceUtil.getUserGroupRolesByGroup(stagingGroup.getGroupId());
  if (staged.isEmpty()) {
    return;
  }
  List<UserGroupRole> live=UserGroupRoleLocalServiceUtil.getUserGroupRolesByGroup(stagingGroup.getLiveGroupId());
  for (  UserGroupRole userGroupRole : staged) {
    userGroupRole.setGroupId(stagingGroup.getLiveGroupId());
    if (!live.contains(userGroupRole)) {
      UserGroupRoleLocalServiceUtil.updateUserGroupRole(userGroupRole);
    }
  }
  UserGroupRoleLocalServiceUtil.deleteUserGroupRolesByGroupId(stagingGroup.getGroupId());
}
