{
  Timestamp now=new Timestamp(System.currentTimeMillis());
  Connection con=null;
  PreparedStatement ps=null;
  try {
    con=DataAccess.getUpgradeOptimizedConnection();
    StringBundler sb=new StringBundler(6);
    sb.append("insert into AssetCategory (uuid_, categoryId, ");
    sb.append("groupId, companyId, userId, userName, createDate, ");
    sb.append("modifiedDate, parentCategoryId, leftCategoryId, ");
    sb.append("rightCategoryId, name, title, description, ");
    sb.append("vocabularyId) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ");
    sb.append("?, ?, ?, ?, ?)");
    String sql=sb.toString();
    ps=con.prepareStatement(sql);
    ps.setString(1,PortalUUIDUtil.generate());
    ps.setLong(2,assetCategoryId);
    ps.setLong(3,groupId);
    ps.setLong(4,companyId);
    ps.setLong(5,userId);
    ps.setString(6,StringPool.BLANK);
    ps.setTimestamp(7,now);
    ps.setTimestamp(8,now);
    ps.setLong(9,AssetCategoryConstants.DEFAULT_PARENT_CATEGORY_ID);
    ps.setLong(10,rightAssetCategoryId);
    ps.setLong(11,leftAssetCategoryId);
    ps.setString(12,name);
    ps.setString(13,title);
    ps.setString(14,StringPool.BLANK);
    ps.setLong(15,assetVocabularyId);
    ps.executeUpdate();
    Map<String,Long> bitwiseValues=getBitwiseValues(AssetCategory.class.getName());
    List<String> actionIds=new ArrayList<>();
    actionIds.add(ActionKeys.VIEW);
    long bitwiseValue=getBitwiseValue(bitwiseValues,actionIds);
    addResourcePermission(companyId,AssetCategory.class.getName(),assetCategoryId,getRoleId(companyId,RoleConstants.GUEST),bitwiseValue);
    addResourcePermission(companyId,AssetCategory.class.getName(),assetCategoryId,getRoleId(companyId,RoleConstants.SITE_MEMBER),bitwiseValue);
  }
 catch (  Exception e) {
    _log.error("Unable to add asset category");
    throw e;
  }
 finally {
    DataAccess.cleanUp(con,ps);
  }
}
