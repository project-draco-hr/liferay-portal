{
  try {
    BundleServletContext bundleServletContext=_httpSupport.getWABBundleServletContext(bundle);
    if (bundleServletContext != null) {
      return new HttpServiceWrapper(bundleServletContext);
    }
    bundleServletContext=_httpSupport.getNonWABBundleServletContext(bundle);
    return new NonWABHttpServiceWrapper(bundleServletContext);
  }
 catch (  ClassCastException cce) {
    _log.error(cce,cce);
    return null;
  }
catch (  InvalidSyntaxException ise) {
    throw new IllegalStateException(ise);
  }
}
