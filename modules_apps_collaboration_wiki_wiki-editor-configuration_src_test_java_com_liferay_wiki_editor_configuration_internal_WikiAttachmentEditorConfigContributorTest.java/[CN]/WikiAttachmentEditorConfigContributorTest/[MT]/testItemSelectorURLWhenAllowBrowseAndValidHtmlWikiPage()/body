{
  setAllowBrowseDocuments(true);
  setWikiPageResourcePrimKey(1);
  mockWikiPageLocalService(1,"html");
  PortletURL htmlEngineItemSelectorPortletURL=mock(PortletURL.class);
  when(htmlEngineItemSelectorPortletURL.toString()).thenReturn("itemSelectorPortletURLWithWikiImageUrlAndUploadSelectionViews");
  when(_itemSelector.getItemSelectorURL(Mockito.any(RequestBackedPortletURLFactory.class),Mockito.anyString(),Mockito.any(ItemSelectorCriterion.class),Mockito.any(ItemSelectorCriterion.class),Mockito.any(ItemSelectorCriterion.class),Mockito.any(ItemSelectorCriterion.class))).thenReturn(htmlEngineItemSelectorPortletURL);
  JSONObject jsonObject=getJSONObjectWithDefaultItemSelectorURL();
  WikiAttachmentEditorConfigContributor wikiAttachmentEditorConfigContributor=new WikiAttachmentEditorConfigContributor();
  wikiAttachmentEditorConfigContributor.setItemSelector(_itemSelector);
  wikiAttachmentEditorConfigContributor.setWikiPageLocalService(_wikiPageLocalService);
  wikiAttachmentEditorConfigContributor.populateConfigJSONObject(jsonObject,_inputEditorTaglibAttributes,_themeDisplay,_requestBackedPortletURLFactory);
  JSONObject expectedJSONObject=JSONFactoryUtil.createJSONObject();
  expectedJSONObject.put("filebrowserImageBrowseLinkUrl","itemSelectorPortletURLWithWikiImageUrlAndUploadSelectionViews");
  expectedJSONObject.put("filebrowserImageBrowseUrl","itemSelectorPortletURLWithWikiImageUrlAndUploadSelectionViews");
  JSONAssert.assertEquals(expectedJSONObject.toJSONString(),jsonObject.toJSONString(),true);
}
