{
  Element rootElement=portletDataContext.getImportDataRootElement();
  JournalPortletDataHandler.importReferencedData(portletDataContext,rootElement);
  Map<String,String> articleIds=(Map<String,String>)portletDataContext.getNewPrimaryKeysMap(JournalArticle.class + ".articleId");
  Layout layout=LayoutLocalServiceUtil.getLayout(portletDataContext.getPlid());
  Element footerArticleElement=rootElement.element("footer-article");
  importReferencedArticle(portletDataContext,footerArticleElement);
  String[] footerArticleValues=portletPreferences.getValues("footerArticleValues",new String[]{"0",""});
  String footerArticleId=footerArticleValues[1];
  footerArticleId=MapUtil.getString(articleIds,footerArticleId,footerArticleId);
  if (Validator.isNotNull(footerArticleId)) {
    footerArticleId=MapUtil.getString(articleIds,footerArticleId,footerArticleId);
    portletPreferences.setValues("footerArticleValues",new String[]{String.valueOf(portletDataContext.getScopeGroupId()),footerArticleId});
    JournalContentSearchLocalServiceUtil.updateContentSearch(portletDataContext.getScopeGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),portletId,footerArticleId,true);
  }
  Element headerArticleElement=rootElement.element("header-article");
  importReferencedArticle(portletDataContext,headerArticleElement);
  String[] headerArticleValues=portletPreferences.getValues("headerArticleValues",new String[]{"0",""});
  String headerArticleId=headerArticleValues[1];
  headerArticleId=MapUtil.getString(articleIds,headerArticleId,headerArticleId);
  if (Validator.isNotNull(headerArticleId)) {
    headerArticleId=MapUtil.getString(articleIds,headerArticleId,headerArticleId);
    portletPreferences.setValues("headerArticleValues",new String[]{String.valueOf(portletDataContext.getScopeGroupId()),headerArticleId});
    JournalContentSearchLocalServiceUtil.updateContentSearch(portletDataContext.getScopeGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),portletId,headerArticleId,true);
  }
  return portletPreferences;
}
