{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),userId);
  ClassLoader classLoader=getClass().getClassLoader();
  InputStream inputStream=classLoader.getResourceAsStream("com/liferay/portal/util/dependencies/test.jpg");
  FileEntry fileEntry=null;
  try {
    fileEntry=TempFileEntryUtil.getTempFileEntry(serviceContext.getScopeGroupId(),userId,BlogsEntry.class.getName(),"image.jpg");
  }
 catch (  Exception e) {
    fileEntry=TempFileEntryUtil.addTempFileEntry(serviceContext.getScopeGroupId(),userId,BlogsEntry.class.getName(),"image.jpg",inputStream,MimeTypesUtil.getContentType("image.jpg"));
  }
  ImageSelector coverImageSelector=null;
  ImageSelector smallImageSelector=new ImageSelector(fileEntry.getFileEntryId(),StringPool.BLANK,null);
  Calendar displayCalendar=CalendarFactoryUtil.getCalendar(2012,1,1);
  BlogsEntry entry=BlogsEntryLocalServiceUtil.addEntry(userId,RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),displayCalendar.getTime(),true,true,new String[0],StringPool.BLANK,coverImageSelector,smallImageSelector,serviceContext);
  return entry;
}
