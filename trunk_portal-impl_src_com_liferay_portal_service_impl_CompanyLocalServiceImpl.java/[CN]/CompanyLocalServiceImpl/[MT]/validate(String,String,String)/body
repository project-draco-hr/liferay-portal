{
  if (Validator.isNull(virtualHostname)) {
    throw new CompanyVirtualHostException();
  }
 else   if (virtualHostname.equals(_DEFAULT_VIRTUAL_HOST) && !webId.equals(PropsValues.COMPANY_DEFAULT_WEB_ID)) {
    throw new CompanyVirtualHostException();
  }
 else   if (!Validator.isDomain(virtualHostname)) {
    throw new CompanyVirtualHostException();
  }
 else {
    try {
      VirtualHost virtualHost=virtualHostPersistence.findByHostname(virtualHostname);
      long companyId=virtualHost.getCompanyId();
      Company virtualHostnameCompany=companyPersistence.findByPrimaryKey(companyId);
      if (!virtualHostnameCompany.getWebId().equals(webId)) {
        throw new CompanyVirtualHostException();
      }
    }
 catch (    NoSuchVirtualHostException nsvhe) {
    }
  }
  if (Validator.isNull(mx)) {
    throw new CompanyMxException();
  }
 else   if (!Validator.isDomain(mx)) {
    throw new CompanyMxException();
  }
}
