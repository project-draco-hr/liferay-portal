{
  String result=null;
  try {
    SecretKeySpec signingKey=new SecretKeySpec(AmazonRankingsUtil.getAmazonSecretAccessKey().getBytes(),HMAC_SHA256_ALGORITHM);
    Mac mac=Mac.getInstance(HMAC_SHA256_ALGORITHM);
    mac.init(signingKey);
    byte[] rawHmac=mac.doFinal(data.getBytes());
    result=new BASE64Encoder().encode(rawHmac);
  }
 catch (  Exception e) {
    _log.error("Failed to generate HMAC : " + e.getMessage());
  }
  return result.replace("+","%2B").replace("=","%3D");
}
