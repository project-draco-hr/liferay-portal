{
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(RoleImpl.TABLE_NAME,RoleImpl.TABLE_COLUMNS,pkUpgradeColumn,new ClassNameUpgradeColumnImpl());
  upgradeTable.updateTable();
  ValueMapper roleIdMapper=pkUpgradeColumn.getValueMapper();
  UpgradeColumn upgradeRoleIdColumn=new SwapUpgradeColumnImpl("roleId",roleIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(_TABLE_GROUPS_ROLES,_COLUMNS_GROUPS_ROLES,upgradeRoleIdColumn);
  upgradeTable.updateTable();
  upgradeTable=new DefaultUpgradeTableImpl(OrgGroupRoleImpl.TABLE_NAME,OrgGroupRoleImpl.TABLE_COLUMNS,upgradeRoleIdColumn);
  upgradeTable=new DefaultUpgradeTableImpl(_TABLE_ROLES_PERMISSIONS,_COLUMNS_ROLES_PERMISSIONS,upgradeRoleIdColumn);
  upgradeTable.updateTable();
  upgradeTable=new DefaultUpgradeTableImpl(_TABLE_USERS_ROLES,_COLUMNS_USERS_ROLES,upgradeRoleIdColumn);
  upgradeTable.updateTable();
  ResourceUtil.upgradePrimKey(roleIdMapper,Role.class.getName());
  CounterLocalServiceUtil.reset(Role.class.getName());
  DBUtil.getInstance().executeSQL(_UPGRADE_SCHEMA);
}
