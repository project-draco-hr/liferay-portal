{
  String newSQL=_transformedSqls.get(sql);
  if (newSQL != null) {
    return newSQL;
  }
  newSQL=_transform(sql);
  newSQL=_transformPositionalParams(newSQL);
  newSQL=StringUtil.replace(newSQL,_HQL_NOT_EQUALS,_JPQL_NOT_EQUALS);
  newSQL=StringUtil.replace(newSQL,_HQL_COMPOSITE_ID_MARKER,_JPQL_DOT_SEPARTOR);
  _transformedSqls.put(sql,newSQL);
  return newSQL;
}
