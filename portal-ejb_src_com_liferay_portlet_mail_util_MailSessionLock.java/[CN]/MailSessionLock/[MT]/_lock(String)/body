{
  ThreadLocal threadLocal=null;
  for (; ; ) {
synchronized (_sessionMap) {
      threadLocal=(ThreadLocal)_sessionMap.get(sessionId);
      if (threadLocal == null) {
        threadLocal=new ThreadLocal();
        threadLocal.set(new Long(0));
        _sessionMap.put(sessionId,threadLocal);
        break;
      }
 else       if (threadLocal.get() != null) {
        Long count=(Long)threadLocal.get();
        threadLocal.set(new Long(count.longValue() + 1L));
        break;
      }
    }
    try {
      wait(100);
    }
 catch (    Exception ex) {
    }
  }
}
