{
  ThreadLocal tl=null;
  for (; ; ) {
synchronized (_sessionMap) {
      tl=(ThreadLocal)_sessionMap.get(sessionId);
      if (tl == null) {
        tl=new ThreadLocal();
        tl.set(new Long(0));
        _sessionMap.put(sessionId,tl);
        break;
      }
 else       if (tl.get() != null) {
        Long count=(Long)tl.get();
        tl.set(new Long(count.longValue() + 1L));
        break;
      }
    }
    try {
      wait(100);
    }
 catch (    Exception ex) {
    }
  }
}
