{
  try {
    if (!WorkflowDefinitionLinkLocalServiceUtil.hasWorkflowDefinitionLink(companyId,groupId,className)) {
      return null;
    }
    if (WorkflowInstanceLinkLocalServiceUtil.hasWorkflowInstanceLink(companyId,groupId,className,classPK)) {
      WorkflowInstanceLink workflowInstanceLink=WorkflowInstanceLinkLocalServiceUtil.getWorkflowInstanceLink(companyId,groupId,className,classPK);
      WorkflowInstance workflowInstance=WorkflowInstanceManagerUtil.getWorkflowInstance(companyId,workflowInstanceLink.getWorkflowInstanceId());
      if (workflowInstance.isComplete()) {
        return null;
      }
      return isWorkflowTaskAssignedToUser(companyId,userId,workflowInstance);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return null;
}
