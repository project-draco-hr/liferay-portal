{
  String name=event.getName();
  Object value=event.getValue();
  if (!(value instanceof Serializable)) {
    _log.error(value.getClass().getName() + " is not serializable and will prevent this session from " + "being replicated");
    if (_requiresSerializable == null) {
      HttpSession session=event.getSession();
      ServletContext servletContext=session.getServletContext();
      _requiresSerializable=Boolean.valueOf(GetterUtil.getBoolean(servletContext.getInitParameter("session-attributes-requires-serializable")));
    }
    if (_requiresSerializable) {
      HttpSession session=event.getSession();
      session.removeAttribute(name);
    }
  }
}
