{
  String name=httpSessionBindingEvent.getName();
  Object value=httpSessionBindingEvent.getValue();
  if ((value instanceof Serializable) || (value == null)) {
    return;
  }
  Class<?> clazz=value.getClass();
  _log.error(clazz.getName() + " is not serializable and will prevent this session from " + "being replicated");
  if (_requiresSerializable == null) {
    HttpSession session=httpSessionBindingEvent.getSession();
    ServletContext servletContext=session.getServletContext();
    _requiresSerializable=Boolean.valueOf(GetterUtil.getBoolean(servletContext.getInitParameter("session-attributes-requires-serializable")));
  }
  if (_requiresSerializable) {
    HttpSession session=httpSessionBindingEvent.getSession();
    session.removeAttribute(name);
  }
}
