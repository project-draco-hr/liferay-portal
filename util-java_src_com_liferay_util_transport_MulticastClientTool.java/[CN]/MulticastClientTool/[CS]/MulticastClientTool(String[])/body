{
  Map<String,Object> argsMap=_getArgsMap(args);
  Integer port=(Integer)argsMap.get("port");
  String host=(String)argsMap.get("host");
  Boolean gzipData=(Boolean)argsMap.get("gzip");
  Boolean shortData=(Boolean)argsMap.get("short");
  DatagramHandler handler=new MulticastDatagramHandler(gzipData.booleanValue(),shortData.booleanValue());
  MulticastTransport transport=new MulticastTransport(handler,host,port);
  if (_log.isInfoEnabled()) {
    if (shortData.booleanValue()) {
      _log.info("Truncating to 96 bytes.");
    }
    _log.info("Started up and waiting...");
  }
  transport.connect();
synchronized (transport) {
    transport.wait();
  }
}
