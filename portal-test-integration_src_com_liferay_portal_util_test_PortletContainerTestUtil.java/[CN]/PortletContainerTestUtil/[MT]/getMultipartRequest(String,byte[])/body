{
  MockMultipartHttpServletRequest mockMultipartHttpServletRequest=new MockMultipartHttpServletRequest();
  mockMultipartHttpServletRequest.addFile(new MockMultipartFile(fileNameParameter,bytes));
  mockMultipartHttpServletRequest.setContent(bytes);
  mockMultipartHttpServletRequest.setContentType("multipart/form-data;boundary=" + System.currentTimeMillis());
  mockMultipartHttpServletRequest.setCharacterEncoding("UTF-8");
  MockHttpSession mockHttpSession=new MockHttpSession();
  mockHttpSession.setAttribute(ProgressTracker.PERCENT,new Object());
  mockMultipartHttpServletRequest.setSession(mockHttpSession);
  return new LiferayServletRequest(mockMultipartHttpServletRequest);
}
