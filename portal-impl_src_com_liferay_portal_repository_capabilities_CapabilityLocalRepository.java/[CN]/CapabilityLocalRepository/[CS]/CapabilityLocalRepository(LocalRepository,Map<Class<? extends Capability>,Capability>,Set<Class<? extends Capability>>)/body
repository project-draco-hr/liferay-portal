{
  Set<Class<? extends Capability>> supportedCababilities=capabilityMap.keySet();
  if (!supportedCababilities.containsAll(exportedCapabilities)) {
    throw new IllegalArgumentException(String.format("Exporting capabilities not explicitly supported is not " + "allowed. Repository supports %s, but tried to export %s",capabilityMap.keySet(),exportedCapabilities));
  }
  _localRepository=localRepository;
  _capabilityMap=capabilityMap;
  _exportedCapabilities=exportedCapabilities;
}
