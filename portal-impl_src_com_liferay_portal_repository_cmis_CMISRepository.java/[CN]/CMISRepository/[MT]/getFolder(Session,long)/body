{
  try {
    DLFolder dlFolder=DLFolderUtil.findByPrimaryKey(folderId);
    if (dlFolder.isMountPoint()) {
      folderId=DLFolderConstants.DEFAULT_PARENT_FOLDER_ID;
    }
 else {
      throw new RepositoryException("CMIS repository should not be used for folderId " + folderId);
    }
  }
 catch (  NoSuchFolderException nsfe) {
  }
  if (folderId == DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    org.apache.chemistry.opencmis.client.api.Folder cmisFolder=session.getRootFolder();
    long repositoryEntryId=toRepositoryEntryId(cmisFolder.getId());
    return new CMISFolder(this,getRepositoryId(),repositoryEntryId,cmisFolder);
  }
 else {
    ObjectId objectId=toFolderId(folderId);
    return toFolder(session.getObject(objectId));
  }
}
