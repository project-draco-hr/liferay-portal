{
  try {
    String objectId=toFolderId(session,folderId);
    StringBundler sb=new StringBundler(64);
    sb.append("SELECT cmis:objectId FROM cmis:folder");
    if (folderId > 0) {
      sb.append(" WHERE IN_FOLDER(");
      sb.append(StringUtil.quote(objectId));
      sb.append(StringPool.CLOSE_PARENTHESIS);
    }
    String query=sb.toString();
    if (_log.isDebugEnabled()) {
      _log.debug("Calling query " + query);
    }
    ItemIterable<QueryResult> queryResults=session.query(query,false);
    Iterator<QueryResult> itr=queryResults.iterator();
    List<String> values=new ArrayList<String>();
    while (itr.hasNext()) {
      QueryResult queryResult=itr.next();
      PropertyData<String> propertyData=queryResult.getPropertyById(PropertyIds.OBJECT_ID);
      values.add(propertyData.getValues().get(0));
    }
    return values;
  }
 catch (  SystemException se) {
    throw se;
  }
catch (  Exception e) {
    throw new RepositoryException(e);
  }
}
