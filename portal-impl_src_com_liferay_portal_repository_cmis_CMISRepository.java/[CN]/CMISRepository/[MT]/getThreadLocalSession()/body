{
  HttpSession httpSession=HttpSessionThreadLocal.getHttpSession();
  if (httpSession == null) {
    return null;
  }
  TransientValue<Session> transientValue=(TransientValue<Session>)httpSession.getAttribute(Session.class.getName());
  if (transientValue == null) {
    return null;
  }
  return transientValue.getValue();
}
