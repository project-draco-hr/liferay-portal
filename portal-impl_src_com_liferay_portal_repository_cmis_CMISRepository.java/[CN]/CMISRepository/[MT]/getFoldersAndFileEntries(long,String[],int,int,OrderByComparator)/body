{
  boolean useCache=(mimeTypes == null);
  Map<Long,List<Object>> foldersAndFileEntriesCache=_foldersAndFileEntriesCache.get();
  List<Object> foldersAndFileEntries=foldersAndFileEntriesCache.get(folderId);
  if (null == foldersAndFileEntries || !useCache) {
    foldersAndFileEntries=new ArrayList<Object>(getFolders(folderId));
    foldersAndFileEntries.addAll(getFileEntries(folderId,mimeTypes,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null));
    if (useCache) {
      foldersAndFileEntriesCache.put(folderId,foldersAndFileEntries);
    }
  }
  return sortAndPage(foldersAndFileEntries,start,end,obc);
}
