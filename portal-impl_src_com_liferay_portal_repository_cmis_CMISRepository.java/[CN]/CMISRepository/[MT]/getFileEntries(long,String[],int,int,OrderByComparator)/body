{
  boolean useCache=(mimeTypes == null);
  Map<Long,List<FileEntry>> fileEntriesCache=_fileEntriesCache.get();
  List<FileEntry> fileEntries=fileEntriesCache.get(folderId);
  if (null == fileEntries || !useCache) {
    try {
      fileEntries=new ArrayList<FileEntry>();
      List<String> documentIds=getCmisDocumentIds(getSession(),folderId,mimeTypes);
      for (      String documentId : documentIds) {
        fileEntries.add(toFileEntry(documentId));
      }
      if (useCache) {
        fileEntriesCache.put(folderId,fileEntries);
      }
    }
 catch (    PortalException e) {
      throw new SystemException(e);
    }
  }
  return sortAndPage(fileEntries,start,end,obc);
}
