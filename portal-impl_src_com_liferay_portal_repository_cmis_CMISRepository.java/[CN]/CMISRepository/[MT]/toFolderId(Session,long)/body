{
  ObjectId objectId=null;
  DLFolder dlFolder=DLFolderUtil.fetchByPrimaryKey(folderId);
  if (dlFolder != null) {
    if (!dlFolder.isMountPoint()) {
      throw new RepositoryException("CMIS repository should not be used for folder ID " + folderId);
    }
    objectId=new ObjectIdImpl(session.getRepositoryInfo().getRootFolderId());
  }
 else {
    RepositoryEntry repositoryEntry=RepositoryEntryUtil.fetchByPrimaryKey(folderId);
    if (repositoryEntry == null) {
      throw new NoSuchFolderException("No CMIS folder with {folderId=" + folderId + "}");
    }
    objectId=new ObjectIdImpl(repositoryEntry.getMappedId());
  }
  return objectId;
}
