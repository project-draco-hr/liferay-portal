{
  try {
    ObjectId objectId=toFolderId(session,folderId);
    StringBundler sb=new StringBundler(7);
    sb.append("SELECT cmis:objectId FROM ");
    if (fileEntry) {
      sb.append("cmis:document ");
    }
 else {
      sb.append("cmis:folder ");
    }
    sb.append("WHERE cmis:name = '");
    sb.append(name);
    sb.append("' AND IN_FOLDER('");
    sb.append(objectId.getId());
    sb.append("')");
    ItemIterable<QueryResult> queryResults=session.query(sb.toString(),false);
    Iterator<QueryResult> itr=queryResults.iterator();
    if (itr.hasNext()) {
      QueryResult queryResult=itr.next();
      PropertyData<String> propertyData=queryResult.getPropertyById(PropertyIds.OBJECT_ID);
      return propertyData.getValues().get(0);
    }
    return null;
  }
 catch (  SystemException se) {
    throw se;
  }
catch (  Exception e) {
    throw new RepositoryException(e);
  }
}
