{
  if (attributeNames.contains(key)) {
    UnicodeProperties properties=expandoBridge.getAttributeProperties(key);
    if (GetterUtil.getBoolean(properties.getProperty(ExpandoBridgeIndexer.INDEXABLE))) {
      String fieldName=ExpandoBridgeIndexerUtil.encodeFieldName(key);
      if (Validator.isNotNull((String)value)) {
        if (searchContext.isAndSearch()) {
          searchQuery.addRequiredTerm(fieldName,(String)value,true);
        }
 else {
          searchQuery.addTerm(fieldName,(String)value,true);
        }
      }
    }
  }
 else   if (Validator.isNotNull(key) && Validator.isNotNull(value)) {
    if (searchContext.isAndSearch()) {
      searchQuery.addRequiredTerm(key,String.valueOf(value));
    }
 else {
      searchQuery.addTerm(key,String.valueOf(value));
    }
  }
}
