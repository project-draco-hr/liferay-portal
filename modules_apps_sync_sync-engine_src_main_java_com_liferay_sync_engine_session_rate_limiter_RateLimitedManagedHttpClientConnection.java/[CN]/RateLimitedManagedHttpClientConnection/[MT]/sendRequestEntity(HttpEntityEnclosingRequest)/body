{
  Args.notNull(request,"HTTP request");
  ensureOpen();
  final HttpEntity entity=request.getEntity();
  if (entity == null) {
    return;
  }
  final OutputStream outputStream=prepareOutput(request);
  String syncAccountUuid=request.getHeaders("Sync-UUID")[0].getValue();
  RateLimitedOutputStream rateLimitedOutputStream=new RateLimitedOutputStream(outputStream,syncAccountUuid);
  entity.writeTo(rateLimitedOutputStream);
  outputStream.close();
}
