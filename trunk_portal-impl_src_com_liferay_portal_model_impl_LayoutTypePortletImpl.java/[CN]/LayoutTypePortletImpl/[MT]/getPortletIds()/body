{
  List<String> portletIds=new ArrayList<String>();
  List<String> columns=getColumns();
  for (int i=0; i < columns.size(); i++) {
    String columnId=columns.get(i);
    String columnValue=StringPool.BLANK;
    if (isPersonalizable() && isColumnDisabled(columnId) && hasTemplate()) {
      columnValue=getTemplateProperty(columnId);
    }
 else     if (isPersonalizable() && !isColumnDisabled(columnId) && hasUserPreferenes()) {
      columnValue=getUserPreference(columnId);
    }
 else {
      columnValue=getTypeSettingsProperties().getProperty(columnId);
    }
    portletIds.addAll(ListUtil.fromArray(StringUtil.split(columnValue)));
  }
  return portletIds;
}
