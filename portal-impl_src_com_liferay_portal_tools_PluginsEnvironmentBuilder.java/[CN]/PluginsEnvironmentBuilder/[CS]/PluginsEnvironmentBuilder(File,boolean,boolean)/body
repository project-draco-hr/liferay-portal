{
  try {
    _svn=svn;
    DirectoryScanner ds=new DirectoryScanner();
    ds.setBasedir(dir);
    ds.setIncludes(new String[]{"**\\liferay-plugin-package.properties"});
    ds.scan();
    String dirName=dir.getCanonicalPath();
    String[] fileNames=ds.getIncludedFiles();
    for (    String fileName : fileNames) {
      File propertiesFile=new File(dirName + "/" + fileName);
      File clientDir=new File(propertiesFile.getParent() + "/client");
      File libDir=new File(propertiesFile.getParent() + "/lib");
      File projectDir=new File(propertiesFile.getParent() + "/../..");
      Properties properties=new Properties();
      properties.load(new FileInputStream(propertiesFile));
      String[] dependencyJars=StringUtil.split(properties.getProperty("portal-dependency-jars",properties.getProperty("portal.dependency.jars")));
      if (svn) {
        updateClientIgnores(clientDir);
        List<String> jars=ListUtil.toList(dependencyJars);
        jars.add("commons-logging.jar");
        jars.add("log4j.jar");
        jars.add("util-bridges.jar");
        jars.add("util-java.jar");
        jars.add("util-taglib.jar");
        jars=ListUtil.sort(jars);
        updateLibIgnores(libDir,jars.toArray(new String[jars.size()]));
      }
      if (eclipse) {
        updateEclipseFiles(libDir,projectDir,dependencyJars);
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
