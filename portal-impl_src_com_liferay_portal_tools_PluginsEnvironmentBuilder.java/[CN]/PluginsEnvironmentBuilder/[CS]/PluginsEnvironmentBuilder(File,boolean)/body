{
  System.out.println("Starting " + getClass().getName() + " for "+ dir);
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(dir);
  ds.setIncludes(new String[]{"**\\liferay-plugin-package.properties"});
  ds.scan();
  String path=dir.getCanonicalPath();
  String[] fileNames=ds.getIncludedFiles();
  for (  String fileName : fileNames) {
    try {
      File propsFile=new File(path + "/" + fileName);
      File libDir=new File(propsFile.getParent() + "/lib");
      File projDir=new File(propsFile.getParent() + "/../..");
      Properties props=new Properties();
      props.load(new FileInputStream(propsFile));
      String[] dependencyJars=StringUtil.split(props.getProperty("portal.dependency.jars"));
      Arrays.sort(dependencyJars);
      fixEclipseFiles(libDir,projDir,dependencyJars,svn);
      if (svn) {
        fixSVNIgnores(libDir,dependencyJars);
      }
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
  System.out.println("Done.");
}
