{
  if (clusterInvokeAcceptorClass == ClusterInvokeAcceptor.class) {
    clusterInvokeAcceptorClass=null;
  }
  MethodHandler methodHandler=new MethodHandler(methodInvocation.getMethod(),methodInvocation.getArguments());
  Object thisObject=methodInvocation.getThis();
  IdentifiableBean identifiableBean=(IdentifiableBean)thisObject;
  String beanIdentifier=identifiableBean.getBeanIdentifier();
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  String servletContextName=ClassLoaderPool.getContextName(contextClassLoader);
  Map<String,Serializable> context=ClusterableContextThreadLocal.collectThreadLocalContext();
  return new MethodHandler(_invokeMethodKey,methodHandler,beanIdentifier,servletContextName,clusterInvokeAcceptorClass,context);
}
