{
  try {
    String companyId=ids[0];
    Iterator itr1=WikiNodeUtil.findByCompanyId(companyId).iterator();
    while (itr1.hasNext()) {
      WikiNode node=(WikiNode)itr1.next();
      String nodeId=node.getNodeId();
      Iterator itr2=WikiPageUtil.findByNodeId(nodeId).iterator();
      while (itr2.hasNext()) {
        WikiPage page=(WikiPage)itr2.next();
        String groupId=node.getGroupId();
        String title=page.getTitle();
        String content=page.getContent();
        try {
          Indexer.addPage(companyId,groupId,nodeId,title,content);
        }
 catch (        Exception e1) {
          _log.error(e1.getMessage());
        }
      }
    }
  }
 catch (  SystemException se) {
    throw se;
  }
catch (  Exception e2) {
    throw new SystemException(e2);
  }
}
