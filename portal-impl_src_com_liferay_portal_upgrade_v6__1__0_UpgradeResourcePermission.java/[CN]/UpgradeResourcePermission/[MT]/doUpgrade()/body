{
  StringBundler sb=new StringBundler(11);
  sb.append("update ResourcePermission set scope = ");
  sb.append(ResourceConstants.SCOPE_GROUP_TEMPLATE);
  sb.append(", primKey = '");
  sb.append(String.valueOf(GroupConstants.DEFAULT_PARENT_GROUP_ID));
  sb.append("' where scope = ");
  sb.append(ResourceConstants.SCOPE_COMPANY);
  sb.append(" and primKey = CAST_TEXT(companyId) and exists (select roleId from ");
  sb.append("Role_ where Role_.roleId = ResourcePermission.roleId and ");
  sb.append("Role_.type_ = ");
  sb.append(RoleConstants.TYPE_PROVIDER);
  sb.append(")");
  runSQL(sb.toString());
}
