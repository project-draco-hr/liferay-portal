{
  long pk=nextLong();
  ClusterGroup newClusterGroup=_persistence.create(pk);
  newClusterGroup.setClusterNodeIds(randomString());
  newClusterGroup.setName(randomString());
  newClusterGroup.setWholeCluster(randomBoolean());
  _persistence.update(newClusterGroup,false);
  ClusterGroup existingClusterGroup=_persistence.findByPrimaryKey(newClusterGroup.getPrimaryKey());
  assertEquals(existingClusterGroup.getClusterGroupId(),newClusterGroup.getClusterGroupId());
  assertEquals(existingClusterGroup.getClusterNodeIds(),newClusterGroup.getClusterNodeIds());
  assertEquals(existingClusterGroup.getName(),newClusterGroup.getName());
  assertEquals(existingClusterGroup.getWholeCluster(),newClusterGroup.getWholeCluster());
}
