{
  PrintWriter printWriter=new PrintWriter(outputStream,true);
  List<VerifyProcess> verifyProcesses=getVerifyProcesses(verifyProcessName);
  boolean indexReadOnly=IndexWriterHelperUtil.isIndexReadOnly();
  IndexWriterHelperUtil.setIndexReadOnly(_verifyProcessTrackerConfiguration.indexReadOnly());
  NotificationThreadLocal.setEnabled(false);
  StagingAdvicesThreadLocal.setEnabled(false);
  WorkflowThreadLocal.setEnabled(false);
  try {
    Release release=_releaseLocalService.fetchRelease(verifyProcessName);
    if ((release != null) && release.isVerified()) {
      if (!_serviceRegistrations.containsKey(verifyProcessName)) {
        _registerVerifyProcessCompletionMarker(verifyProcessName);
      }
      return;
    }
    if (release == null) {
      release=_releaseLocalService.createRelease(_counterLocalService.increment());
      release.setServletContextName(verifyProcessName);
      release.setVerified(false);
    }
    printWriter.println("Executing verifiers registered for " + verifyProcessName);
    VerifyException verifyException=null;
    for (    VerifyProcess verifyProcess : verifyProcesses) {
      try {
        verifyProcess.verify();
      }
 catch (      VerifyException ve) {
        _log.error(ve,ve);
        verifyException=ve;
      }
    }
    if (verifyException == null) {
      release.setVerified(true);
      _releaseLocalService.updateRelease(release);
      _registerVerifyProcessCompletionMarker(verifyProcessName);
    }
  }
  finally {
    IndexWriterHelperUtil.setIndexReadOnly(indexReadOnly);
    NotificationThreadLocal.setEnabled(true);
    StagingAdvicesThreadLocal.setEnabled(true);
    WorkflowThreadLocal.setEnabled(true);
  }
}
