{
  List<ExpandoColumn> columns=expandoColumnLocalService.getTableColumns(tableId);
  if (expandoValues.size() > columns.size()) {
    throw new ExpandoTableRowException("Too many ExpandoValues for ExpandoTableRow.");
  }
  for (  ExpandoValue expandoValue : expandoValues) {
    boolean found=false;
    for (    ExpandoColumn column : columns) {
      if (expandoValue.getColumnId() == column.getColumnId()) {
        found=true;
      }
    }
    if (!found) {
      throw new ExpandoTableRowException("ExpandoValue {" + expandoValue.getValueId() + ", "+ expandoValue.getClassPK()+ ", "+ expandoValue.getColumnId()+ ", "+ expandoValue.getValue()+ "} doesn't match an "+ "ExpandoColumn in the ExpandoTable {"+ tableId+ "}");
    }
  }
  ExpandoTableRow expandoValueRow=expandoTableRowLocalService.setRow(tableId,rowId);
  for (  ExpandoValue expandoValue : expandoValues) {
    setValue(rowId,expandoValue.getColumnId(),expandoValue.getValue());
  }
  expandoTableRowPersistence.setExpandoValues(expandoValueRow.getRowId(),expandoValues);
  return rowId;
}
