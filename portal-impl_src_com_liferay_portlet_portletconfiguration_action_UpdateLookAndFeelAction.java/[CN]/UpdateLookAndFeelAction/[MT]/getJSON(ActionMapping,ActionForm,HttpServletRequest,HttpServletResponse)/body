{
  HttpSession ses=req.getSession();
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  String portletId=ParamUtil.getString(req,"portletId");
  if (!PortletPermission.contains(permissionChecker,themeDisplay.getPlid(),portletId,ActionKeys.CONFIGURATION)) {
    return null;
  }
  String css=ParamUtil.getString(req,"css");
  System.out.println("## css " + css);
  PortletPreferences portletSetup=PortletPreferencesFactory.getPortletSetup(layout,portletId);
  portletSetup.setValue("portlet-setup-css",css);
  portletSetup.store();
  CachePortlet.clearResponse(ses,layout.getPrimaryKey(),portletId);
  return null;
}
