{
  portletDataContext.addPortletPermissions(PollsPermission.RESOURCE_NAME);
  Element rootElement=addExportDataRootElement(portletDataContext);
  rootElement.addAttribute("group-id",String.valueOf(portletDataContext.getScopeGroupId()));
  if (portletDataContext.getBooleanParameter(PollsPortletDataHandler.NAMESPACE,"questions")) {
    ActionableDynamicQuery questionActionableDynamicQuery=PollsQuestionLocalServiceUtil.getExportActionableDynamicQuery(portletDataContext);
    questionActionableDynamicQuery.performActions();
    ActionableDynamicQuery choiceActionableDynamicQuery=PollsChoiceLocalServiceUtil.getExportActionableDynamicQuery(portletDataContext);
    choiceActionableDynamicQuery.performActions();
    if (portletDataContext.getBooleanParameter(PollsPortletDataHandler.NAMESPACE,"votes")) {
      ActionableDynamicQuery voteActionableDynamicQuery=PollsVoteLocalServiceUtil.getExportActionableDynamicQuery(portletDataContext);
      voteActionableDynamicQuery.performActions();
    }
  }
  return getExportDataRootElementString(rootElement);
}
