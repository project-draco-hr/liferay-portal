{
  Repository repository=repositoryProvider.getFileEntryRepository(fileEntryId);
  FileEntry fileEntry=repository.getFileEntry(fileEntryId);
  DLFileEntryPermission.check(getPermissionChecker(),fileEntry,ActionKeys.UPDATE);
  Folder destinationFolder=null;
  if (newFolderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    destinationFolder=repository.getFolder(newFolderId);
  }
  TrashCapability trashCapability=repository.getCapability(TrashCapability.class);
  return trashCapability.moveFileEntryFromTrash(getUserId(),fileEntry,destinationFolder,serviceContext);
}
