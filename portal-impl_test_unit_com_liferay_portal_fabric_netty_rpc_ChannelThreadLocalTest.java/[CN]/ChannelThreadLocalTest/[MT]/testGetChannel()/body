{
  try {
    ChannelThreadLocal.getChannel();
  }
 catch (  IllegalStateException ise) {
    Assert.assertEquals("Channel is null",ise.getMessage());
  }
  EmbeddedChannel embeddedChannel=NettyTestUtil.createEmptyEmbeddedChannel();
  ChannelThreadLocal.setChannel(embeddedChannel);
  Assert.assertSame(embeddedChannel,ChannelThreadLocal.getChannel());
  ChannelThreadLocal.removeChannel();
  try {
    ChannelThreadLocal.getChannel();
  }
 catch (  IllegalStateException ise) {
    Assert.assertEquals("Channel is null",ise.getMessage());
  }
}
