{
  try {
    ChannelThreadLocal.getChannel();
  }
 catch (  IllegalStateException ise) {
    Assert.assertEquals("Channel is null",ise.getMessage());
  }
  EmbeddedChannel embeddedChannel=new EmbeddedChannel(new ChannelInitializer<Channel>(){
    @Override protected void initChannel(    Channel channel){
    }
  }
);
  ChannelThreadLocal.setChannel(embeddedChannel);
  Assert.assertSame(embeddedChannel,ChannelThreadLocal.getChannel());
  ChannelThreadLocal.removeChannel();
  try {
    ChannelThreadLocal.getChannel();
  }
 catch (  IllegalStateException ise) {
    Assert.assertEquals("Channel is null",ise.getMessage());
  }
}
