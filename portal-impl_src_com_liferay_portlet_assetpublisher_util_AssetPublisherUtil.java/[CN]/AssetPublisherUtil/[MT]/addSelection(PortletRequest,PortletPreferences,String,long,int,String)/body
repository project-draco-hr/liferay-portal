{
  AssetEntry assetEntry=AssetEntryLocalServiceUtil.getEntry(assetEntryId);
  String[] assetEntryXmls=portletPreferences.getValues("assetEntryXml",new String[0]);
  String assetEntryXml=_getAssetEntryXml(assetEntryType,assetEntry.getClassUuid());
  if (!ArrayUtil.contains(assetEntryXmls,assetEntryXml)) {
    if (assetEntryOrder > -1) {
      assetEntryXmls[assetEntryOrder]=assetEntryXml;
    }
 else {
      assetEntryXmls=ArrayUtil.append(assetEntryXmls,assetEntryXml);
    }
    portletPreferences.setValues("assetEntryXml",assetEntryXmls);
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long plid=themeDisplay.getRefererPlid();
  if (plid == 0) {
    plid=themeDisplay.getPlid();
  }
  ServiceContext serviceContext=ServiceContextFactory.getInstance(AssetEntry.class.getName(),portletRequest);
  AssetPublisherUtil.notifySubscribers(plid,portletId,assetEntry,serviceContext);
}
