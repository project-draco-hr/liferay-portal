{
  String key=null;
  if (group.isLayout()) {
    Layout layout=LayoutLocalServiceUtil.getLayout(group.getClassPK());
    key=AssetPublisherUtil.SCOPE_ID_LAYOUT_UUID_PREFIX + layout.getUuid();
  }
 else   if (group.isLayoutPrototype() || (group.getGroupId() == scopeGroupId)) {
    key=AssetPublisherUtil.SCOPE_ID_GROUP_PREFIX + GroupConstants.DEFAULT;
  }
 else {
    Group scopeGroup=GroupLocalServiceUtil.getGroup(scopeGroupId);
    if (scopeGroup.hasAncestor(group.getGroupId())) {
      key=AssetPublisherUtil.SCOPE_ID_PARENT_GROUP_PREFIX + group.getGroupId();
    }
 else {
      key=AssetPublisherUtil.SCOPE_ID_GROUP_PREFIX + group.getGroupId();
    }
  }
  return key;
}
