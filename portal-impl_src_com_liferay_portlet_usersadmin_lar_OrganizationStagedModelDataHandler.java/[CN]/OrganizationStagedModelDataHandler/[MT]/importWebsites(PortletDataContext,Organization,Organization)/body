{
  List<Element> websiteElements=portletDataContext.getReferenceDataElements(organization,Website.class);
  List<Website> websites=new ArrayList<Website>(websiteElements.size());
  for (  Element websiteElement : websiteElements) {
    String path=websiteElement.attributeValue("path");
    Website website=(Website)portletDataContext.getZipEntryAsObject(path);
    website.setClassPK(importedOrganization.getOrganizationId());
    StagedModelDataHandlerUtil.importStagedModel(portletDataContext,website);
    Map<Long,Long> newPrimaryKeysMap=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(Website.class);
    long websiteId=newPrimaryKeysMap.get(website.getPrimaryKey());
    website.setPrimaryKey(websiteId);
    websites.add(website);
  }
  UsersAdminUtil.updateWebsites(Organization.class.getName(),importedOrganization.getOrganizationId(),websites);
}
