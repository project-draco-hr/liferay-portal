{
  Queue<Organization> organizations=new LinkedList<Organization>();
  organizations.add(organization);
  while (!organizations.isEmpty()) {
    Organization exportedOrganization=organizations.remove();
    if (organization.getParentOrganizationId() != OrganizationConstants.DEFAULT_PARENT_ORGANIZATION_ID) {
      StagedModelDataHandlerUtil.exportReferenceStagedModel(portletDataContext,organization,organization.getParentOrganization(),PortletDataContext.REFERENCE_TYPE_PARENT);
    }
    exportAddresses(portletDataContext,exportedOrganization,organizationElement);
    exportEmailAddresses(portletDataContext,exportedOrganization,organizationElement);
    exportOrgLabors(portletDataContext,exportedOrganization);
    exportPasswordPolicyRel(portletDataContext,exportedOrganization,organizationElement);
    exportPhones(portletDataContext,exportedOrganization,organizationElement);
    exportWebsites(portletDataContext,exportedOrganization,organizationElement);
    Element organizationElement=portletDataContext.getExportDataElement(exportedOrganization);
    portletDataContext.addClassedModel(organizationElement,ExportImportPathUtil.getModelPath(exportedOrganization),exportedOrganization);
    organizations.addAll(exportedOrganization.getSuborganizations());
  }
}
