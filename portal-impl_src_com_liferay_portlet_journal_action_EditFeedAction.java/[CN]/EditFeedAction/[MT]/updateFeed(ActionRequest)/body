{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  String feedId=ParamUtil.getString(actionRequest,"feedId");
  boolean autoFeedId=ParamUtil.getBoolean(actionRequest,"autoFeedId");
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  String type=ParamUtil.getString(actionRequest,"type");
  String structureId=ParamUtil.getString(actionRequest,"structureId");
  String templateId=ParamUtil.getString(actionRequest,"templateId");
  String rendererTemplateId=ParamUtil.getString(actionRequest,"rendererTemplateId");
  int delta=ParamUtil.getInteger(actionRequest,"delta");
  String orderByCol=ParamUtil.getString(actionRequest,"orderByCol");
  String orderByType=ParamUtil.getString(actionRequest,"orderByType");
  String targetLayoutFriendlyUrl=ParamUtil.getString(actionRequest,"targetLayoutFriendlyUrl");
  String targetPortletId=ParamUtil.getString(actionRequest,"targetPortletId");
  String contentField=ParamUtil.getString(actionRequest,"contentField");
  String feedType=ParamUtil.getString(actionRequest,"feedType",RSSUtil.FEED_TYPE_DEFAULT);
  String feedFormat=RSSUtil.getFeedTypeFormat(feedType);
  double feedVersion=RSSUtil.getFeedTypeVersion(feedType);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(JournalFeed.class.getName(),actionRequest);
  if (cmd.equals(Constants.ADD)) {
    JournalFeedServiceUtil.addFeed(groupId,feedId,autoFeedId,name,description,type,structureId,templateId,rendererTemplateId,delta,orderByCol,orderByType,targetLayoutFriendlyUrl,targetPortletId,contentField,feedFormat,feedVersion,serviceContext);
  }
 else {
    JournalFeedServiceUtil.updateFeed(groupId,feedId,name,description,type,structureId,templateId,rendererTemplateId,delta,orderByCol,orderByType,targetLayoutFriendlyUrl,targetPortletId,contentField,feedFormat,feedVersion,serviceContext);
  }
}
