{
  Set<String> validationErrors=new HashSet<String>();
  for (int i=1; i < WebFormUtil.MAX_FIELDS; i++) {
    String fieldValue=fieldValues.get(i - 1);
    String fieldLabel=preferences.getValue("fieldLabel" + i,StringPool.BLANK);
    boolean fieldOptional=GetterUtil.getBoolean(preferences.getValue("fieldOptional" + i,StringPool.BLANK));
    if (!fieldOptional && Validator.isNotNull(fieldLabel) && Validator.isNull(fieldValue)) {
      validationErrors.add(fieldLabel);
      continue;
    }
    String validationScript=GetterUtil.getString(preferences.getValue("fieldValidationScript" + i,StringPool.BLANK));
    if (Validator.isNotNull(validationScript) && !WebFormUtil.validate(fieldValue,fieldValues,validationScript)) {
      validationErrors.add(fieldLabel);
      continue;
    }
  }
  return validationErrors;
}
