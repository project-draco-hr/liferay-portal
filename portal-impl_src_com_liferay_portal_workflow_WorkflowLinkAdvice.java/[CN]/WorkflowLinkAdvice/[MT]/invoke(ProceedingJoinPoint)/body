{
  String methodName=proceedingJoinPoint.getSignature().getName();
  Object[] arguments=proceedingJoinPoint.getArgs();
  if (methodName.equals(_UPDATE_ACTIVE)) {
    long companyId=(Long)arguments[0];
    String name=(String)arguments[2];
    int version=(Integer)arguments[3];
    boolean active=(Boolean)arguments[4];
    if (!active) {
      int workflowDefinitionLinksCount=WorkflowDefinitionLinkLocalServiceUtil.getWorkflowDefinitionLinksCount(companyId,name,version);
      if (workflowDefinitionLinksCount >= 1) {
        throw new RequiredWorkflowDefinitionException();
      }
    }
  }
  return proceedingJoinPoint.proceed();
}
