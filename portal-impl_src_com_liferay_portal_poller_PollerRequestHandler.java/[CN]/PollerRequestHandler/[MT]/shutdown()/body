{
synchronized (this) {
    if (_active) {
      if (_receiveRequest) {
        for (        PollerRequestResponsePair pollerRequestResponsePair : _pollerRequestResponsePairs.values()) {
          pollerRequestResponsePair.getPollerResponse().close();
        }
        MessageBusUtil.unregisterMessageListener(DestinationNames.POLLER_RESPONSE,this);
      }
      _pollerResponseWriter.close();
      for (      PollerRequestHandlerListener listener : _listeners) {
        listener.notifyHandlingComplete();
      }
      _active=false;
    }
  }
}
