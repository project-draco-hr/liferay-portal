{
  if (Validator.isNull(version)) {
    return getFileVersion();
  }
  for (  Document document : _document.getAllVersions()) {
    if (version.equals(document.getVersionLabel())) {
      return CMISRepositoryLocalServiceUtil.toFileVersion(getRepositoryId(),document);
    }
  }
  throw new NoSuchFileVersionException("No CMIS file version with {fileEntryId=" + getFileEntryId() + ", version="+ version+ "}");
}
