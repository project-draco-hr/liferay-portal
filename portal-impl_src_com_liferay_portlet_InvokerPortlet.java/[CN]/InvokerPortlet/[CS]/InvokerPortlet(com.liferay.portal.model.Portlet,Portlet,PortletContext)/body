{
  _portletModel=portletModel;
  _portlet=portlet;
  _portletCtx=(PortletContextImpl)portletCtx;
  if (_log.isDebugEnabled()) {
    _log.debug("Create root cache wrapper for " + _portletCtx.getPortlet().getPortletId());
  }
  if (ClassUtil.isSubclass(_portlet.getClass(),PortletDeployer.JSF_MYFACES) || ClassUtil.isSubclass(_portlet.getClass(),PortletDeployer.JSF_SUN)) {
    _facesPortlet=true;
  }
  _strutsPortlet=ClassUtil.isSubclass(portlet.getClass(),StrutsPortlet.class);
  _strutsBridgePortlet=ClassUtil.isSubclass(portlet.getClass(),"org.apache.portals.bridges.struts.StrutsPortlet");
  _expCache=portletModel.getExpCache();
  setPortletFilters();
}
