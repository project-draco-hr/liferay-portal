{
  validateRemoteGroup(sourceGroupId,remoteGroupId,remoteAddress,remotePort,remotePathContext,secureConnection);
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  User user=permissionChecker.getUser();
  Map<String,Serializable> publishLayoutRemoteSettingsMap=ExportImportConfigurationSettingsMapFactory.buildPublishLayoutRemoteSettingsMap(user.getUserId(),sourceGroupId,privateLayout,layoutIdMap,parameterMap,remoteAddress,remotePort,remotePathContext,secureConnection,remoteGroupId,remotePrivateLayout,user.getLocale(),user.getTimeZone());
  ExportImportConfiguration exportImportConfiguration=null;
  if (Validator.isNotNull(name)) {
    exportImportConfiguration=_exportImportConfigurationLocalService.addDraftExportImportConfiguration(user.getUserId(),name,ExportImportConfigurationConstants.TYPE_PUBLISH_LAYOUT_REMOTE,publishLayoutRemoteSettingsMap);
  }
 else {
    exportImportConfiguration=_exportImportConfigurationLocalService.addDraftExportImportConfiguration(user.getUserId(),ExportImportConfigurationConstants.TYPE_PUBLISH_LAYOUT_REMOTE,publishLayoutRemoteSettingsMap);
  }
  return doCopyRemoteLayouts(exportImportConfiguration,remoteAddress,remotePort,remotePathContext,secureConnection,remotePrivateLayout);
}
