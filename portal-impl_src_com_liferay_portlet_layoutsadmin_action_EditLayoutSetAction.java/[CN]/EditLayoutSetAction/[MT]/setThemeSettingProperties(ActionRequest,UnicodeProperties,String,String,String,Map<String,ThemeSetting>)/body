{
  for (  String key : themeSettings.keySet()) {
    ThemeSetting themeSetting=themeSettings.get(key);
    String type=GetterUtil.getString(themeSetting.getType(),"text");
    String property=device + "ThemeSettingsProperties--" + key+ StringPool.DOUBLE_DASH;
    String value=ParamUtil.getString(actionRequest,property);
    if (type.equals("checkbox")) {
      if (oldThemeId.equals(themeId)) {
        value=String.valueOf(GetterUtil.getBoolean(value));
      }
 else {
        value=themeSetting.getValue();
      }
    }
    if (!value.equals(themeSetting.getValue())) {
      typeSettingsProperties.setProperty(ThemeSettingImpl.namespaceProperty(device,key),value);
    }
  }
}
