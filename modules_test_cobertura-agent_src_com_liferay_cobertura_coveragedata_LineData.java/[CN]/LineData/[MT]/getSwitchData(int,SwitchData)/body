{
  lock.lock();
  try {
    if (switches == null) {
      switches=new ArrayList();
    }
    if (switches.size() < switchNumber) {
      for (int i=switches.size(); i < switchNumber; switches.add(new SwitchData(i++)))       ;
    }
    if (switches.size() == switchNumber)     if (data != null)     switches.add(data);
 else     switches.add(new SwitchData(switchNumber));
    return (SwitchData)switches.get(switchNumber);
  }
  finally {
    lock.unlock();
  }
}
