{
  validateFolderName(name);
  DLValidatorUtil.validateDirectoryName(name);
  DLFileEntry dlFileEntry=dlFileEntryLocalService.fetchFileEntry(groupId,parentFolderId,name);
  if (dlFileEntry != null) {
    throw new DuplicateFileEntryException(name);
  }
  DLFolder dlFolder=dlFolderPersistence.fetchByG_P_N(groupId,parentFolderId,name);
  if ((dlFolder != null) && (dlFolder.getFolderId() != folderId)) {
    throw new DuplicateFolderNameException(name);
  }
}
