{
  List<DLFolder> dlFolders=dlFolderPersistence.findByG_P(dlFolder.getGroupId(),dlFolder.getFolderId());
  for (  DLFolder curDLFolder : dlFolders) {
    if (includeTrashedEntries || !curDLFolder.isInTrash()) {
      dlFolderLocalService.deleteFolder(curDLFolder,includeTrashedEntries);
    }
  }
  resourceLocalService.deleteResource(dlFolder.getCompanyId(),DLFolder.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,dlFolder.getFolderId());
  webDAVPropsLocalService.deleteWebDAVProps(DLFolder.class.getName(),dlFolder.getFolderId());
  dlFileEntryLocalService.deleteFileEntries(dlFolder.getGroupId(),dlFolder.getFolderId(),includeTrashedEntries);
  dlFileEntryTypeLocalService.unsetFolderFileEntryTypes(dlFolder.getFolderId());
  dlFileShortcutLocalService.deleteFileShortcuts(dlFolder.getGroupId(),dlFolder.getFolderId(),includeTrashedEntries);
  expandoRowLocalService.deleteRows(dlFolder.getFolderId());
  dlAppHelperLocalService.deleteFolder(new LiferayFolder(dlFolder));
  dlFolderPersistence.remove(dlFolder);
  try {
    if (includeTrashedEntries) {
      DLStoreUtil.deleteDirectory(dlFolder.getCompanyId(),dlFolder.getFolderId(),StringPool.BLANK);
    }
  }
 catch (  NoSuchDirectoryException nsde) {
    if (_log.isDebugEnabled()) {
      _log.debug(nsde.getMessage());
    }
  }
  return dlFolder;
}
