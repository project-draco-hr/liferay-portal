{
  TreePathUtil.rebuildTree(companyId,parentFolderId,parentTreePath,new TreeModelTasksAdapter<DLFolder>(){
    @Override public List<DLFolder> findTreeModels(    long previousId,    long companyId,    long parentPrimaryKey,    int size){
      return dlFolderPersistence.findByF_C_P_NotS(previousId,companyId,parentPrimaryKey,WorkflowConstants.STATUS_IN_TRASH,QueryUtil.ALL_POS,size,new FolderIdComparator(true));
    }
    @Override public void rebuildDependentModelsTreePaths(    long parentPrimaryKey,    String treePath) throws PortalException {
      dlFileEntryLocalService.setTreePaths(parentPrimaryKey,treePath,false);
      dlFileShortcutLocalService.setTreePaths(parentPrimaryKey,treePath);
      dlFileVersionLocalService.setTreePaths(parentPrimaryKey,treePath);
    }
  }
);
}
