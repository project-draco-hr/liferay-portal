{
  Iterator itr=dlFolderPersistence.findByG_P(folder.getGroupId(),folder.getFolderId()).iterator();
  while (itr.hasNext()) {
    DLFolder curFolder=(DLFolder)itr.next();
    deleteFolder(curFolder);
  }
  dlFileEntryLocalService.deleteFileEntries(folder.getFolderId());
  webDAVPropsLocalService.deleteWebDAVProps(DLFolder.class.getName(),folder.getPrimaryKey());
  resourceLocalService.deleteResource(folder.getCompanyId(),DLFolder.class.getName(),ResourceImpl.SCOPE_INDIVIDUAL,folder.getFolderId());
  dlFolderPersistence.remove(folder.getFolderId());
}
