{
  dlFolderPersistence.remove(folder);
  resourceLocalService.deleteResource(folder.getCompanyId(),DLFolder.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,folder.getFolderId());
  webDAVPropsLocalService.deleteWebDAVProps(DLFolder.class.getName(),folder.getPrimaryKey());
  dlFileEntryLocalService.deleteFileEntries(folder.getGroupId(),folder.getFolderId());
  List<DLFolder> folders=dlFolderPersistence.findByG_P(folder.getGroupId(),folder.getFolderId());
  for (  DLFolder curFolder : folders) {
    deleteFolder(curFolder);
  }
  expandoValueLocalService.deleteValues(DLFolder.class.getName(),folder.getFolderId());
  try {
    dlService.deleteDirectory(folder.getCompanyId(),PortletKeys.DOCUMENT_LIBRARY,folder.getFolderId(),StringPool.BLANK);
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
  }
}
