{
  DLFolder dlFolder=null;
  if (folderId > DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    dlFolder=dlFolderLocalService.updateFolderAndFileEntryTypes(folderId,parentFolderId,name,description,defaultFileEntryTypeId,fileEntryTypeIds,overrideFileEntryTypes,serviceContext);
    dlFileEntryTypeLocalService.cascadeFileEntryTypes(serviceContext.getUserId(),dlFolder);
  }
  List<ObjectValuePair<Long,String>> workflowDefinitions=new ArrayList<ObjectValuePair<Long,String>>();
  if (fileEntryTypeIds.isEmpty()) {
    fileEntryTypeIds.add(new Long(0));
  }
 else {
    workflowDefinitions.add(new ObjectValuePair<Long,String>(new Long(0),StringPool.BLANK));
  }
  for (  long fileEntryTypeId : fileEntryTypeIds) {
    String workflowDefinition=ParamUtil.getString(serviceContext,"workflowDefinition" + fileEntryTypeId);
    workflowDefinitions.add(new ObjectValuePair<Long,String>(fileEntryTypeId,workflowDefinition));
  }
  workflowDefinitionLinkLocalService.updateWorkflowDefinitionLinks(serviceContext.getUserId(),serviceContext.getCompanyId(),serviceContext.getScopeGroupId(),DLFolder.class.getName(),folderId,workflowDefinitions);
  return dlFolder;
}
