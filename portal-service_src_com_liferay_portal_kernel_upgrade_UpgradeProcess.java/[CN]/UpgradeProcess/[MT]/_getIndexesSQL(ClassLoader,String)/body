{
  if (!PortalClassLoaderUtil.isPortalClassLoader(classLoader)) {
    List<ObjectValuePair<String,IndexMetadata>> objectValuePairs=new ArrayList<>();
    try (InputStream is=classLoader.getResourceAsStream("META-INF/sql/indexes.sql");Reader reader=new InputStreamReader(is);UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(reader)){
      String line=null;
      while ((line=unsyncBufferedReader.readLine()) != null) {
        line=line.trim();
        if (line.isEmpty()) {
          continue;
        }
        objectValuePairs.add(new ObjectValuePair<>(line,IndexMetadataFactoryUtil.createIndexMetadata(line)));
      }
    }
     return objectValuePairs;
  }
  if (!_portalIndexesSQL.isEmpty()) {
    return _portalIndexesSQL.get(tableName);
  }
  try (InputStream is=classLoader.getResourceAsStream("com/liferay/portal/tools/sql/dependencies/indexes.sql");Reader reader=new InputStreamReader(is);UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(reader)){
    String line=null;
    while ((line=unsyncBufferedReader.readLine()) != null) {
      line=line.trim();
      if (line.isEmpty()) {
        continue;
      }
      IndexMetadata indexMetadata=IndexMetadataFactoryUtil.createIndexMetadata(line);
      List<ObjectValuePair<String,IndexMetadata>> objectValuePairs=_portalIndexesSQL.get(indexMetadata.getTableName());
      if (objectValuePairs == null) {
        objectValuePairs=new ArrayList<>();
        _portalIndexesSQL.put(indexMetadata.getTableName(),objectValuePairs);
      }
      objectValuePairs.add(new ObjectValuePair<>(line,indexMetadata));
    }
  }
   return _portalIndexesSQL.get(tableName);
}
