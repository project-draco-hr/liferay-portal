{
  ServiceTrackerList<PollerProcessor> pollerProcessorInstances=getServiceTrackerList(PollerProcessor.class,portlet);
  if (Validator.isNotNull(portlet.getPollerProcessorClass())) {
    PollerProcessor pollerProcessorInstance=(PollerProcessor)newInstance(PollerProcessor.class,portlet.getPollerProcessorClass());
    if (ShardUtil.isEnabled()) {
      pollerProcessorInstance=new ShardPollerProcessorWrapper(pollerProcessorInstance);
    }
    pollerProcessorInstances.add(pollerProcessorInstance);
  }
  return pollerProcessorInstances;
}
