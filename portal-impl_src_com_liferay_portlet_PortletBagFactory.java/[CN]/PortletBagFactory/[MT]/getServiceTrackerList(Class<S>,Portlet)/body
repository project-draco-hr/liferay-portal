{
  Map<String,Object> properties=Collections.<String,Object>singletonMap("javax.portlet.name",portlet.getPortletId());
  Registry registry=RegistryUtil.getRegistry();
  Filter filter=registry.getFilter("(|(javax.portlet.name=" + portlet.getPortletId() + ")(javax.portlet.name=ALL))");
  return ServiceTrackerCollections.openList(clazz,filter,properties);
}
