{
  if (Validator.isNull(portlet.getPollerProcessorClass())) {
    return null;
  }
  PollerProcessor pollerProcessorInstance=(PollerProcessor)newInstance(PollerProcessor.class,portlet.getPollerProcessorClass());
  if (ShardUtil.isEnabled()) {
    pollerProcessorInstance=new ShardPollerProcessorWrapper(pollerProcessorInstance);
  }
  PollerProcessorUtil.addPollerProcessor(portlet.getPortletId(),pollerProcessorInstance);
  return pollerProcessorInstance;
}
