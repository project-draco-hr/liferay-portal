{
  ServiceTrackerList<PortletDataHandler> portletDataHandlerInstances=ServiceTrackerCollections.openList(PortletDataHandler.class,filter,properties);
  if (Validator.isNotNull(portlet.getPortletDataHandlerClass())) {
    PortletDataHandler portletDataHandlerInstance=(PortletDataHandler)newInstance(PortletDataHandler.class,portlet.getPortletDataHandlerClass());
    portletDataHandlerInstance.setPortletId(portlet.getPortletId());
    portletDataHandlerInstances.add(portletDataHandlerInstance);
  }
  return portletDataHandlerInstances;
}
