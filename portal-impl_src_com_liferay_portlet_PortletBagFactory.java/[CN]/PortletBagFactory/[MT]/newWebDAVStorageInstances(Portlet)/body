{
  ServiceTrackerList<WebDAVStorage> webDAVStorageInstances=getServiceTrackerList(WebDAVStorage.class,portlet);
  if (Validator.isNotNull(portlet.getWebDAVStorageClass())) {
    WebDAVStorage webDAVStorageInstance=(WebDAVStorage)newInstance(WebDAVStorage.class,portlet.getWebDAVStorageClass());
    Map<String,Object> properties=new HashMap<>();
    properties.put("javax.portlet.name",portlet.getPortletId());
    properties.put("webdav.storage.token",portlet.getWebDAVStorageToken());
    webDAVStorageInstances.add(webDAVStorageInstance,properties);
  }
  return webDAVStorageInstances;
}
