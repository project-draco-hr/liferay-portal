{
  ServiceTrackerList<MessageListener> messageListenerInstances=ServiceTrackerCollections.openList(MessageListener.class,filter,properties);
  if (Validator.isNotNull(portlet.getPopMessageListenerClass())) {
    MessageListener popMessageListenerInstance=(MessageListener)newInstance(MessageListener.class,portlet.getPopMessageListenerClass());
    messageListenerInstances.add(popMessageListenerInstance);
  }
  return messageListenerInstances;
}
