{
  if (Validator.isNull(portlet.getFriendlyURLRoutes())) {
    return null;
  }
  Router router=new RouterImpl();
  String xml=StringUtil.read(_classLoader,portlet.getFriendlyURLRoutes());
  Document document=SAXReaderUtil.read(xml,true);
  Element rootElement=document.getRootElement();
  for (  Element routeElement : rootElement.elements("route")) {
    String pattern=routeElement.elementText("pattern");
    Route route=router.addRoute(pattern);
    for (    Element defaultParameterElement : routeElement.elements("default-parameter")) {
      String name=defaultParameterElement.attributeValue("name");
      String value=defaultParameterElement.getText();
      route.addDefaultParameter(name,value);
    }
    for (    Element ignoredParameterElement : routeElement.elements("ignored-parameter")) {
      String name=ignoredParameterElement.attributeValue("name");
      route.addIgnoredParameter(name);
    }
  }
  return router;
}
