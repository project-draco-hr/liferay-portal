{
  for (  Map.Entry<String,Object> entry : _context.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    content=StringUtil.replace(content,key,String.valueOf(value));
  }
  if (Validator.isNotNull(portletId)) {
    String portletName=PortalUtil.getPortletTitle(portletId,locale);
    content=StringUtil.replace(content,"[$PORTLET_NAME$]",portletName);
  }
  Company company=CompanyLocalServiceUtil.getCompany(companyId);
  content=StringUtil.replace(content,new String[]{"href=\"/","src=\"/"},new String[]{"href=\"" + getPortalURL(company) + "/","src=\"" + getPortalURL(company) + "/"});
  return content;
}
