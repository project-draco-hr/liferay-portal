{
  FilterConfig filterConfig=getFilterConfig();
  Enumeration<String> enu=filterConfig.getInitParameterNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    if (!_requestHeaderIgnoreInitParams.contains(name)) {
      addHeader(request,response,name,filterConfig.getInitParameter(name));
    }
  }
  long lastModified=getLastModified(request);
  if (lastModified > 0) {
    long ifModifiedSince=request.getDateHeader(HttpHeaders.IF_MODIFIED_SINCE);
    response.setDateHeader(HttpHeaders.LAST_MODIFIED,lastModified);
    if (lastModified <= ifModifiedSince) {
      response.setDateHeader(HttpHeaders.LAST_MODIFIED,ifModifiedSince);
      response.setStatus(HttpServletResponse.SC_NOT_MODIFIED);
      return;
    }
  }
  processFilter(HeaderFilter.class.getName(),request,response,filterChain);
}
