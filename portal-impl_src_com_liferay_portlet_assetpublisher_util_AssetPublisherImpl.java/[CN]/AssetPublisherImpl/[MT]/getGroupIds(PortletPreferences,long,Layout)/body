{
  String[] scopeIds=portletPreferences.getValues("scopeIds",new String[]{SCOPE_ID_GROUP_PREFIX + scopeGroupId});
  List<Long> groupIds=new ArrayList<Long>();
  for (  String scopeId : scopeIds) {
    try {
      long groupId=getGroupIdFromScopeId(scopeId,scopeGroupId,layout.isPrivateLayout());
      groupIds.add(groupId);
    }
 catch (    Exception e) {
      continue;
    }
  }
  return ArrayUtil.toArray(groupIds.toArray(new Long[groupIds.size()]));
}
