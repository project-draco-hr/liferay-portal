{
  List<AssetEntry> entries=getAssetEntries(portletRequest,portletPreferences,permissionChecker,groupIds,assetEntryXmls,deleteMissingAssetEntries,checkPermission);
  if (entries.isEmpty() || (ArrayUtil.isEmpty(allCategoryIds) && ArrayUtil.isEmpty(allTagNames))) {
    return entries;
  }
  if (!ArrayUtil.isEmpty(allCategoryIds)) {
    entries=_filterAssetEntriesByAllCategories(entries,allCategoryIds);
  }
  if (!ArrayUtil.isEmpty(allTagNames)) {
    entries=_filterAssetEntriesByAllTags(entries,allTagNames);
  }
  return entries;
}
