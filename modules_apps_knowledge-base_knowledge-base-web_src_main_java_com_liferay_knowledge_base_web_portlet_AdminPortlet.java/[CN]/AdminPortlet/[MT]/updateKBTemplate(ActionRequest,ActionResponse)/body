{
  String portletId=PortalUtil.getPortletId(actionRequest);
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  long kbTemplateId=ParamUtil.getLong(actionRequest,"kbTemplateId");
  String title=ParamUtil.getString(actionRequest,"title");
  String content=ParamUtil.getString(actionRequest,"content");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(KBTemplate.class.getName(),actionRequest);
  if (cmd.equals(Constants.ADD)) {
    kbTemplateService.addKBTemplate(portletId,title,content,serviceContext);
  }
 else   if (cmd.equals(Constants.UPDATE)) {
    kbTemplateService.updateKBTemplate(kbTemplateId,title,content,serviceContext);
  }
}
