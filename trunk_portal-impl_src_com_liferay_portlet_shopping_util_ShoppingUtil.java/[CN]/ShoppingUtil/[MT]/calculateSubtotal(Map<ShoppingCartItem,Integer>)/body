{
  double subtotal=0.0;
  Iterator<Map.Entry<ShoppingCartItem,Integer>> itr=items.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry<ShoppingCartItem,Integer> entry=itr.next();
    ShoppingCartItem cartItem=entry.getKey();
    Integer count=entry.getValue();
    ShoppingItem item=cartItem.getItem();
    subtotal+=calculatePrice(item,count.intValue());
  }
  return subtotal;
}
