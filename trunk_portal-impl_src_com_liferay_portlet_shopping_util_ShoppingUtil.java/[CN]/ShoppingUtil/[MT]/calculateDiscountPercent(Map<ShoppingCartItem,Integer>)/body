{
  double discount=calculateDiscountSubtotal(items) / calculateSubtotal(items);
  if (Double.isNaN(discount) || Double.isInfinite(discount)) {
    discount=0.0;
  }
  return discount;
}
