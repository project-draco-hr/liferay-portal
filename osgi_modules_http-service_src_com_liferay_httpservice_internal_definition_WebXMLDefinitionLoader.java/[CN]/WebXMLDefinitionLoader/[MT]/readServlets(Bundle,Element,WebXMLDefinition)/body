{
  List<Element> servletElements=rootElement.elements("servlet");
  for (  Element servletElement : servletElements) {
    ServletDefinition servletDefinition=new ServletDefinition();
    String servletClassName=servletElement.elementText("servlet-class");
    Class<?> servletClass=null;
    ;
    try {
      servletClass=bundle.loadClass(servletClassName);
    }
 catch (    Exception e) {
      _log.error("Unable to load servlet " + servletClassName);
      continue;
    }
    Servlet servlet=(Servlet)servletClass.newInstance();
    servletDefinition.setServlet(servlet);
    List<Element> initParamElements=servletElement.elements("init-param");
    for (    Element initParamElement : initParamElements) {
      String paramName=initParamElement.elementText("param-name");
      String paramValue=initParamElement.elementText("param-value");
      servletDefinition.setInitParameter(paramName,paramValue);
    }
    String servletName=servletElement.elementText("servlet-name");
    servletDefinition.setName(servletName);
    List<Element> servletMappingElements=rootElement.elements("servlet-mapping");
    for (    Element servletMappingElement : servletMappingElements) {
      String servletMappingElementServletName=servletMappingElement.elementText("servlet-name");
      if (servletMappingElementServletName.equals(servletName)) {
        String urlPattern=getURLPattern(servletMappingElement);
        servletDefinition.addURLPattern(urlPattern);
      }
    }
    webXML.setServletDefinition(servletName,servletDefinition);
  }
}
