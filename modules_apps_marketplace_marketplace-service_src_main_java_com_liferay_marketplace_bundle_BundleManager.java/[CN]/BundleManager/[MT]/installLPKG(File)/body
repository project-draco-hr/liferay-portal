{
  _lpkgVerifier.verify(file);
  File installFile=new File(getInstallDirName(),file.getName());
  boolean moved=FileUtil.move(file,installFile);
  if (!moved) {
    throw new AutoDeployException("Unable to move LPKG to install directory");
  }
  if (isRestartRequired(installFile)) {
    ShutdownUtil.shutdown(0);
    return Collections.emptyList();
  }
  List<Bundle> bundles=_lpkgDeployer.deploy(_bundleContext,installFile);
  for (int i=1; i < bundles.size(); i++) {
    Bundle bundle=bundles.get(i);
    bundle.start();
  }
  return bundles;
}
