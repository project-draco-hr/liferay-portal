{
  int numOfAvailableLocales=2;
  StringBundler sb=new StringBundler();
  sb.append("<?xml version='1.0' encoding='UTF-8'?>");
  sb.append("<root available-locales=\"en_US,es_ES\" ");
  sb.append("default-locale=\"en_US\">");
  sb.append("<static-content language-id=\"es_ES\">");
  sb.append("foo&amp;bar");
  sb.append("</static-content>");
  sb.append("<static-content language-id=\"en_US\">");
  sb.append("<![CDATA[Example in English]]>");
  sb.append("</static-content>");
  sb.append("</root>");
  String xml=sb.toString();
  Document document=SAXReaderUtil.read(xml);
  String[] localesFromDoc=LocalizationUtil.getAvailableLocales(document);
  String[] localesFromXml=LocalizationUtil.getAvailableLocales(xml);
  Assert.assertEquals("Number of locales not match",localesFromDoc.length,localesFromXml.length);
  Assert.assertEquals(localesFromXml.length,numOfAvailableLocales);
  Arrays.sort(localesFromXml);
  Arrays.sort(localesFromDoc);
  Assert.assertTrue("locales are different",Arrays.equals(localesFromDoc,localesFromXml));
}
