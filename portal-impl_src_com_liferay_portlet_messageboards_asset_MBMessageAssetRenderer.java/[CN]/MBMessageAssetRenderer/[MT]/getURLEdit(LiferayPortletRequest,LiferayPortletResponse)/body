{
  ThemeDisplay themeDisplay=(ThemeDisplay)liferayPortletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletURL editPortletURL=null;
  if (MBPermission.contains(themeDisplay.getPermissionChecker(),themeDisplay.getScopeGroupId(),ActionKeys.ADD_MESSAGE)) {
    editPortletURL=liferayPortletResponse.createRenderURL(PortletKeys.MESSAGE_BOARDS);
    editPortletURL.setParameter("struts_action","/message_boards/edit_message");
    editPortletURL.setParameter("messageId",String.valueOf(_message.getMessageId()));
  }
  return editPortletURL;
}
