{
  try {
    boolean synchronousRequest=(ruleExecutionRequest.getQuery() != null);
    Message replyMessage=null;
    if (synchronousRequest) {
      replyMessage=MessageBusUtil.createResponseMessage(requestMessage);
    }
    List results=_rulesEngine.execute(ruleExecutionRequest.getDomainName(),ruleExecutionRequest.getFacts(),ruleExecutionRequest.getQuery());
    if (synchronousRequest) {
      replyMessage.setPayload(results);
      _messageSender.send(replyMessage.getDestinationName(),replyMessage);
    }
  }
 catch (  RulesEngineException e) {
    if (_log.isErrorEnabled()) {
      _log.error("Unable to execute rule",e);
    }
  }
}
