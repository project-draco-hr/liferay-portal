{
  if (isCommitted()) {
    throw new IllegalStateException("Send error after commit");
  }
  _metaData._error=true;
  _metaData._errorMessage=errorMessage;
  _metaData._status=status;
  resetBuffer();
  _committed=true;
  if (errorMessage == null) {
    super.sendError(status);
    return;
  }
  super.sendError(status,errorMessage);
}
