{
  if (response.isCommitted()) {
    return;
  }
  resetThrough(response);
  for (  Map.Entry<String,Set<Header>> entry : metaInfoDataBag._headers.entrySet()) {
    String key=entry.getKey();
    boolean first=true;
    for (    Header header : entry.getValue()) {
      if (first) {
        header.setToResponse(key,response);
        first=false;
      }
 else {
        header.addToResponse(key,response);
      }
    }
  }
  if (metaInfoDataBag._location != null) {
    response.sendRedirect(metaInfoDataBag._location);
  }
 else   if (metaInfoDataBag._error) {
    response.sendError(metaInfoDataBag._status,metaInfoDataBag._errorMessage);
  }
 else {
    if (metaInfoDataBag._charsetName != null) {
      response.setCharacterEncoding(metaInfoDataBag._charsetName);
    }
    if (metaInfoDataBag._contentLength != -1) {
      response.setContentLength(metaInfoDataBag._contentLength);
    }
    if (metaInfoDataBag._contentType != null) {
      response.setContentType(metaInfoDataBag._contentType);
    }
    if (metaInfoDataBag._locale != null) {
      response.setLocale(metaInfoDataBag._locale);
    }
    if (metaInfoDataBag._status != SC_OK) {
      response.setStatus(metaInfoDataBag._status,metaInfoDataBag._statusMessage);
    }
  }
}
