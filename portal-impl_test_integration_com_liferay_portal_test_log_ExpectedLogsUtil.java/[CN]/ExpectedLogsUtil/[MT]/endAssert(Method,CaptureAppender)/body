{
  if (method == null) {
    return;
  }
  ExpectedLogs expectedLogs=method.getAnnotation(ExpectedLogs.class);
  if (expectedLogs == null) {
    return;
  }
  try {
    for (    LoggingEvent loggingEvent : captureAppender.getLoggingEvents()) {
      String renderedMessage=loggingEvent.getRenderedMessage();
      if (!_isExpected(expectedLogs,renderedMessage)) {
        Assert.fail(renderedMessage);
      }
    }
  }
  finally {
    captureAppender.close();
  }
}
