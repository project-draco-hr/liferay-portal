{
  String path=ExportImportPathUtil.getModelPath(stagedModel);
  if (portletDataContext.isPathProcessed(path)) {
    return;
  }
  try {
    ExportImportLifecycleManager.fireExportImportLifecycleEvent(ExportImportLifecycleConstants.EVENT_STAGED_MODEL_IMPORT_STARTED,portletDataContext,new TransientValue<T>(stagedModel));
    ManifestSummary manifestSummary=portletDataContext.getManifestSummary();
    PortletDataHandlerStatusMessageSenderUtil.sendStatusMessage("stagedModel",stagedModel,manifestSummary);
    if (stagedModel instanceof LocalizedModel) {
      LocalizedModel localizedModel=(LocalizedModel)stagedModel;
      localizedModel.prepareLocalizedFieldsForImport();
    }
    if (stagedModel instanceof TrashedModel) {
      restoreStagedModel(portletDataContext,stagedModel);
    }
    importAssetCategories(portletDataContext,stagedModel);
    importReferenceStagedModels(portletDataContext,stagedModel);
    doImportStagedModel(portletDataContext,stagedModel);
    importComments(portletDataContext,stagedModel);
    importRatings(portletDataContext,stagedModel);
    manifestSummary.incrementModelAdditionCount(stagedModel.getStagedModelType());
    ExportImportLifecycleManager.fireExportImportLifecycleEvent(ExportImportLifecycleConstants.EVENT_STAGED_MODEL_IMPORT_FINISHED,portletDataContext,new TransientValue<T>(stagedModel));
  }
 catch (  PortletDataException pde) {
    ExportImportLifecycleManager.fireExportImportLifecycleEvent(ExportImportLifecycleConstants.EVENT_STAGED_MODEL_IMPORT_FAILED,portletDataContext,new TransientValue<T>(stagedModel),pde);
    throw pde;
  }
catch (  Throwable t) {
    ExportImportLifecycleManager.fireExportImportLifecycleEvent(ExportImportLifecycleConstants.EVENT_STAGED_MODEL_IMPORT_FAILED,portletDataContext,new TransientValue<T>(stagedModel),t);
    throw new PortletDataException(t);
  }
}
