{
  ClassLoader classLoader=HelloVelocityPortlet.class.getClassLoader();
  InputStream stream=classLoader.getResourceAsStream(templateId);
  if (stream == null) {
    if (_log.isInfoEnabled()) {
      _log.info("Unable to open resource template:" + templateId + " from classloader");
    }
  }
  StringBuilder sb=new StringBuilder();
  Scanner scanner=null;
  try {
    scanner=new Scanner(stream);
    scanner.useDelimiter("\\n");
    while (scanner.hasNext()) {
      sb.append(scanner.next());
    }
  }
 catch (  Exception e) {
    if (_log.isInfoEnabled()) {
      _log.info("Exception caught loading template:" + templateId + ": "+ e.getMessage());
    }
  }
 finally {
    scanner.close();
  }
  return sb.toString();
}
