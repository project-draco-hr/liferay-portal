{
  ServiceReference<DestinationFactory> serviceReference=bundleContext.getServiceReference(DestinationFactory.class);
  try {
    DestinationFactory destinationFactory=bundleContext.getService(serviceReference);
    DestinationConfiguration destinationConfiguration=new DestinationConfiguration(DestinationConfiguration.DESTINATION_TYPE_SERIAL,DestinationNames.RESOURCES_IMPORTER);
    Destination destination=destinationFactory.createDestination(destinationConfiguration);
    Dictionary<String,Object> dictionary=new HashMapDictionary<>();
    dictionary.put("destination.name",destination.getName());
    _serviceRegistration=bundleContext.registerService(Destination.class,destination,dictionary);
  }
  finally {
    bundleContext.ungetService(serviceReference);
  }
}
