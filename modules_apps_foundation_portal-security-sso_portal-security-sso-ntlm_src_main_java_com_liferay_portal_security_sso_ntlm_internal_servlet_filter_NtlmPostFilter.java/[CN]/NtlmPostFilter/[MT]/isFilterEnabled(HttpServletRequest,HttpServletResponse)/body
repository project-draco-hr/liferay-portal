{
  String method=request.getMethod();
  if (!BrowserSnifferUtil.isIe(request) || !method.equals(HttpMethods.POST)) {
    return false;
  }
  long companyId=PortalInstances.getCompanyId(request);
  try {
    NtlmConfiguration ntlmConfiguration=_configurationProvider.getConfiguration(NtlmConfiguration.class,new CompanyServiceSettingsLocator(companyId,NtlmConstants.SERVICE_NAME));
    return ntlmConfiguration.enabled();
  }
 catch (  ConfigurationException ce) {
    _log.error(ce,ce);
  }
  return false;
}
