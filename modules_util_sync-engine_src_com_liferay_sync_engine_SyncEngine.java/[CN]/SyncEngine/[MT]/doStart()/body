{
  _running=true;
  SyncEngineUtil.fireSyncEngineStateChanged(SyncEngineUtil.SYNC_ENGINE_STATE_STARTING);
  LoggerUtil.initLogger();
  _logger.info("Starting {}",PropsValues.SYNC_PRODUCT_NAME);
  UpgradeUtil.upgrade();
  SyncClientUpdater.scheduleAutoUpdateChecker(SyncPropService.getInteger("updateCheckInterval",1440));
  List<SyncAccount> syncAccounts=SyncAccountService.findAll();
  if (syncAccounts.isEmpty()) {
    SyncEngineUtil.fireSyncEngineStateChanged(SyncEngineUtil.SYNC_ENGINE_NOT_CONFIGURED);
  }
  for (  long activeSyncAccountId : SyncAccountService.getActiveSyncAccountIds()) {
    scheduleSyncAccountTasks(activeSyncAccountId);
  }
  SyncEngineUtil.fireSyncEngineStateChanged(SyncEngineUtil.SYNC_ENGINE_STATE_STARTED);
}
