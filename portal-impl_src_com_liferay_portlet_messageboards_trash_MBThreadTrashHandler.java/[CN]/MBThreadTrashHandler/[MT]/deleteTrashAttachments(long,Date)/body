{
  Group group=GroupLocalServiceUtil.getGroup(groupId);
  long repositoryId=CompanyConstants.SYSTEM;
  String[] threadFileNames=null;
  try {
    threadFileNames=DLStoreUtil.getFileNames(group.getCompanyId(),repositoryId,"messageboards");
  }
 catch (  NoSuchDirectoryException nsde) {
    return;
  }
  for (  String threadFileName : threadFileNames) {
    String[] messageFileNames=null;
    try {
      messageFileNames=DLStoreUtil.getFileNames(group.getCompanyId(),repositoryId,threadFileName);
    }
 catch (    NoSuchDirectoryException nsde) {
      continue;
    }
    for (    String messageFileName : messageFileNames) {
      String fileTitle=StringUtil.extractLast(messageFileName,StringPool.FORWARD_SLASH);
      if (fileTitle.startsWith(TrashUtil.TRASH_ATTACHMENTS_DIR)) {
        String[] attachmentFileNames=DLStoreUtil.getFileNames(group.getCompanyId(),repositoryId,threadFileName + StringPool.FORWARD_SLASH + fileTitle);
        TrashUtil.deleteEntriesAttachments(group.getCompanyId(),repositoryId,date,attachmentFileNames);
      }
    }
  }
}
