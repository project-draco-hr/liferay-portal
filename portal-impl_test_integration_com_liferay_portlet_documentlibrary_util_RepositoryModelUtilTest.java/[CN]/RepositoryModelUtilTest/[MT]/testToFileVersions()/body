{
  DLFileEntry dlFileEntry=DLTestUtil.addDLFileEntry(_folder.getFolderId());
  for (int i=0; i < 5; i++) {
    dlFileEntry.setTitle(RandomTestUtil.randomString());
    DLFileEntryLocalServiceUtil.updateDLFileEntry(dlFileEntry);
  }
  dlFileEntry=DLFileEntryLocalServiceUtil.getFileEntry(dlFileEntry.getFileEntryId());
  List<DLFileVersion> dlFileVersions=dlFileEntry.getFileVersions(WorkflowConstants.STATUS_APPROVED);
  List<FileVersion> fileVersions=RepositoryModelUtil.toFileVersions(dlFileVersions);
  Assert.assertEquals(dlFileVersions.size(),fileVersions.size());
  for (int i=0; i < dlFileVersions.size(); i++) {
    DLFileVersion dlFileVersion=dlFileVersions.get(i);
    FileVersion fileVersion=fileVersions.get(i);
    Assert.assertEquals(dlFileVersion.getFileVersionId(),fileVersion.getFileVersionId());
  }
}
