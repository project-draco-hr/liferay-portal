{
  if (_configurations == null) {
    return _configuration;
  }
  Long companyId=CompanyThreadLocal.getCompanyId();
  if (companyId > CompanyConstants.SYSTEM) {
    Configuration configuration=_configurations.get(companyId);
    if (configuration == null) {
      configuration=new ConfigurationImpl(PropsUtil.class.getClassLoader(),PropsFiles.PORTAL,companyId);
      _configurations.put(companyId,configuration);
    }
    return configuration;
  }
 else {
    return _configuration;
  }
}
