{
  MBMessageDisplay messageDisplay=MBMessageLocalServiceUtil.getDiscussionMessageDisplay(siteMember.getUserId(),group.getGroupId(),BlogsEntry.class.getName(),_commentedEntry.getEntryId(),WorkflowConstants.STATUS_APPROVED);
  MBThread thread=messageDisplay.getThread();
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(group.getGroupId());
  serviceContext.setCommand(Constants.ADD);
  serviceContext.setLayoutFullURL("http://localhost");
  return MBMessageLocalServiceUtil.addDiscussionMessage(siteMember.getUserId(),user.getFullName(),group.getGroupId(),BlogsEntry.class.getName(),_commentedEntry.getEntryId(),thread.getThreadId(),thread.getRootMessageId(),ServiceTestUtil.randomString(),ServiceTestUtil.randomString(50),serviceContext);
}
