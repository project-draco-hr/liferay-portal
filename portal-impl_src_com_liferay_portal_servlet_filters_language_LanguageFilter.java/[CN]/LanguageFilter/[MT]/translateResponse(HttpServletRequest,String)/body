{
  String languageId=LanguageUtil.getLanguageId(request);
  Locale locale=LocaleUtil.fromLanguageId(languageId);
  StringBundler sb=new StringBundler();
  Matcher matcher=_pattern.matcher(content);
  int x=0;
  ResourceBundle resourceBundle=null;
  if (_portletConfig != null) {
    resourceBundle=_portletConfig.getResourceBundle(locale);
  }
  if (resourceBundle == null) {
    resourceBundle=LanguageResources.getResourceBundle(locale);
  }
  while (matcher.find()) {
    int y=matcher.start(0);
    String key=matcher.group(1);
    sb.append(content.substring(x,y));
    sb.append(StringPool.APOSTROPHE);
    String value=UnicodeLanguageUtil.get(resourceBundle,key);
    sb.append(value);
    sb.append(StringPool.APOSTROPHE);
    x=matcher.end(0);
  }
  sb.append(content.substring(x));
  return sb.toString();
}
