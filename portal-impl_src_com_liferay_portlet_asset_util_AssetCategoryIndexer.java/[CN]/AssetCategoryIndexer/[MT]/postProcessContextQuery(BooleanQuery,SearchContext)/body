{
  long[] parentCategoryIds=(long[])searchContext.getAttribute(Field.ASSET_PARENT_CATEGORY_IDS);
  if (!ArrayUtil.isEmpty(parentCategoryIds)) {
    BooleanQuery parentCategoryQuery=BooleanQueryFactoryUtil.create(searchContext);
    for (    long parentCategoryId : parentCategoryIds) {
      parentCategoryQuery.addTerm(Field.ASSET_PARENT_CATEGORY_ID,String.valueOf(parentCategoryId));
    }
    contextQuery.add(parentCategoryQuery,BooleanClauseOccur.MUST);
  }
  long[] vocabularyIds=(long[])searchContext.getAttribute(Field.ASSET_VOCABULARY_IDS);
  if (!ArrayUtil.isEmpty(vocabularyIds)) {
    BooleanQuery vocabularyQuery=BooleanQueryFactoryUtil.create(searchContext);
    for (    long vocabularyId : vocabularyIds) {
      vocabularyQuery.addTerm(Field.ASSET_VOCABULARY_ID,String.valueOf(vocabularyId));
    }
    contextQuery.add(vocabularyQuery,BooleanClauseOccur.MUST);
  }
}
