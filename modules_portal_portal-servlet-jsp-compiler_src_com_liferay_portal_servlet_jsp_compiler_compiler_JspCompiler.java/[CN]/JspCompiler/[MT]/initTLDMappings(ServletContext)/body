{
  Map<String,String[]> tldMappings=(Map<String,String[]>)servletContext.getAttribute(Constants.JSP_TLD_URI_TO_LOCATION_MAP);
  if (tldMappings != null) {
    return;
  }
  tldMappings=new HashMap<String,String[]>();
  tldMappings.put("http://java.sun.com/jsp/jstl/core",new String[]{"/WEB-INF/tld/c.tld",null});
  BundleWiring bundleWiring=_bundle.adapt(BundleWiring.class);
  Collection<String> wiringEntries=bundleWiring.listResources("/","*.tld",BundleWiring.FINDENTRIES_RECURSE);
  Iterator<String> iterator=wiringEntries.iterator();
  while (iterator.hasNext()) {
    String resourcePath=iterator.next();
    URL url=_bundle.getResource(resourcePath);
    String uri=getTldUri(url);
    if (uri != null) {
      tldMappings.put(uri,new String[]{StringPool.SLASH.concat(resourcePath),null});
    }
  }
  servletContext.setAttribute(Constants.JSP_TLD_URI_TO_LOCATION_MAP,tldMappings);
}
