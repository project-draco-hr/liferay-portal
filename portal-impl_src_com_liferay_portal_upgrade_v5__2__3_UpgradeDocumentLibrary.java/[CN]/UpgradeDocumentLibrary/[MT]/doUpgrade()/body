{
  if (isSupportsAlterColumnType()) {
    runSQL("alter_column_type DLFileEntry name VARCHAR(255) null");
    runSQL("alter_column_type DLFileEntry title VARCHAR(255) null");
    runSQL("alter_column_type DLFileRank name VARCHAR(255) null");
    runSQL("alter_column_type DLFileShortcut toName VARCHAR(255) null");
    runSQL("alter_column_type DLFileVersion name VARCHAR(255) null");
  }
 else {
    UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(DLFileEntryTable.TABLE_NAME,DLFileEntryTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileEntryTable.TABLE_SQL_CREATE);
    upgradeTable.updateTable();
    upgradeTable=new DefaultUpgradeTableImpl(DLFileRankTable.TABLE_NAME,DLFileRankTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileRankTable.TABLE_SQL_CREATE);
    upgradeTable.updateTable();
    upgradeTable=new DefaultUpgradeTableImpl(DLFileShortcutTable.TABLE_NAME,DLFileShortcutTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileShortcutTable.TABLE_SQL_CREATE);
    upgradeTable.updateTable();
    upgradeTable=new DefaultUpgradeTableImpl(DLFileVersionTable.TABLE_NAME,DLFileVersionTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileVersionTable.TABLE_SQL_CREATE);
    upgradeTable.updateTable();
  }
  updateGroupId();
  updatePortletPreferences();
}
