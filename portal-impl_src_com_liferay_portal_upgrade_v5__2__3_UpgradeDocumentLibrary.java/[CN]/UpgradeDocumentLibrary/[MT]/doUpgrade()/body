{
  if (isSupportsAlterColumnType()) {
    runSQL("alter_column_type DLFileEntry name VARCHAR(255) null");
    runSQL("alter_column_type DLFileRank name VARCHAR(255) null");
    runSQL("alter_column_type DLFileShortcut toName VARCHAR(255) null");
    runSQL("alter_column_type DLFileVersion name VARCHAR(255) null");
  }
 else {
    UpgradeTable upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(DLFileEntryTable.TABLE_NAME,DLFileEntryTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileEntryTable.TABLE_SQL_CREATE);
    upgradeTable.setIndexesSQL(DLFileEntryTable.TABLE_SQL_ADD_INDEXES);
    upgradeTable.updateTable();
    upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(DLFileRankTable.TABLE_NAME,DLFileRankTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileRankTable.TABLE_SQL_CREATE);
    upgradeTable.setIndexesSQL(DLFileRankTable.TABLE_SQL_ADD_INDEXES);
    upgradeTable.updateTable();
    upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(DLFileShortcutTable.TABLE_NAME,DLFileShortcutTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileShortcutTable.TABLE_SQL_CREATE);
    upgradeTable.setIndexesSQL(DLFileShortcutTable.TABLE_SQL_ADD_INDEXES);
    upgradeTable.updateTable();
    upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(DLFileVersionTable.TABLE_NAME,DLFileVersionTable.TABLE_COLUMNS);
    upgradeTable.setCreateSQL(DLFileVersionTable.TABLE_SQL_CREATE);
    upgradeTable.setIndexesSQL(DLFileVersionTable.TABLE_SQL_ADD_INDEXES);
    upgradeTable.updateTable();
  }
  updateGroupId();
  updatePortletPreferences();
}
