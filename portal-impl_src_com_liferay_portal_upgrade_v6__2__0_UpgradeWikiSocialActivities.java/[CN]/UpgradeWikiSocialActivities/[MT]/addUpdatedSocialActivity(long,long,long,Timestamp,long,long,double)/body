{
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  JSONObject extraDataJSONObject=JSONFactoryUtil.createJSONObject();
  extraDataJSONObject.put("version",version);
  try {
    con=DataAccess.getUpgradeOptimizedConnection();
    ps=con.prepareStatement("insert into SocialActivity (activityId, groupId, companyId, " + "userId, createDate, mirrorActivityId, classNameId, " + "classPK, type_, extraData, receiverUserId) values ("+ "?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)");
    ps.setLong(1,increment());
    ps.setLong(2,groupId);
    ps.setLong(3,companyId);
    ps.setLong(4,userId);
    ps.setLong(5,modifiedDate.getTime());
    ps.setInt(6,0);
    ps.setLong(7,classNameId);
    ps.setLong(8,resourcePrimKey);
    if (version > 1.0) {
      ps.setInt(9,WikiActivityKeys.UPDATE_PAGE);
    }
 else {
      ps.setInt(9,WikiActivityKeys.ADD_PAGE);
    }
    ps.setString(10,extraDataJSONObject.toString());
    ps.setInt(11,0);
    ps.executeUpdate();
  }
  finally {
    DataAccess.cleanUp(con,ps,rs);
  }
}
