{
  for (  DDMFormFieldValue ddmFormFieldValue : ddmFormFieldValues) {
    String name=ddmFormFieldValue.getName();
    DDMFormField ddmFormField=_ddmFormFieldsMap.get(name);
    if (ddmFormField.isRepeatable() && !ancestorDDMFormFieldValues.contains(ddmFormFieldValue)) {
      continue;
    }
    String valueString=getValueString(ddmFormFieldValue.getValue(),_locale);
    if (valueString != null) {
      setExpressionVariableValue(ddmExpression,name,ddmFormField.getDataType(),valueString);
    }
    setDDMExpressionVariables(ddmExpression,ddmFormFieldValue.getNestedDDMFormFieldValues(),ancestorDDMFormFieldValues);
  }
}
