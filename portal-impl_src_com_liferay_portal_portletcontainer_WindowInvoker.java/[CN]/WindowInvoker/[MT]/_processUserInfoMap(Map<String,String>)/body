{
  Map<String,String> wsrpUserInfoMap=userInfoMap;
  try {
    wsrpUserInfoMap=new HashMap<String,String>();
    ProfileMapManager profileMapManager=new ProfileMapManagerImpl();
    Map<String,String> wsrpDefaultUserInfoMap=profileMapManager.getPortletMap();
    Set<String> userAttributes=userInfoMap.keySet();
    for (    String userAttribute : userAttributes) {
      String wsrpUserAttribute=wsrpDefaultUserInfoMap.get(userAttribute);
      if (wsrpUserAttribute != null) {
        String value=userInfoMap.get(userAttribute);
        wsrpUserInfoMap.put(wsrpUserAttribute,value);
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return wsrpUserInfoMap;
}
