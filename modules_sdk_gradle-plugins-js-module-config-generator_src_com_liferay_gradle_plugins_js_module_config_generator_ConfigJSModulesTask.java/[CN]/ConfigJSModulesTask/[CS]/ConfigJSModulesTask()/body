{
  dependsOn(JSModuleConfigGeneratorPlugin.DOWNLOAD_LFR_MODULE_CONFIG_GENERATOR_TASK_NAME);
  dependsOn(BasePlugin.CLEAN_TASK_NAME + StringUtil.capitalize(getName()));
  dependsOn(SetupTask.NAME);
  onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      ConfigJSModulesTask configJSModulesTask=(ConfigJSModulesTask)task;
      File file=configJSModulesTask.getModuleConfigFile();
      if ((file != null) && file.exists()) {
        return true;
      }
      return false;
    }
  }
);
  Project project=getProject();
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      NodeExtension nodeExtension=GradleUtil.getExtension(project,NodeExtension.class);
      File scriptFile=new File(nodeExtension.getNodeModulesDir(),"node_modules/lfr-module-config-generator/bin" + "/index.js");
      setScript(scriptFile);
    }
  }
);
}
