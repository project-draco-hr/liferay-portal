{
  int maxHits=10 * maxResults;
  TopDocs topDocs=indexSearcher.search(query,null,maxHits);
  ScoreDoc[] hits=topDocs.scoreDocs;
  SuggestWordQueue suggestWordQueue=new SuggestWordQueue(maxResults,_suggestWordComparator);
  int stop=Math.min(hits.length,maxHits);
  for (int i=0; i < stop; i++) {
    SuggestWord suggestWord=new SuggestWord();
    Document document=indexSearcher.doc(hits[i].doc);
    Fieldable fieldable=document.getFieldable(fieldName);
    suggestWord.string=fieldable.stringValue();
    boolean relevant=relevancyChecker.isRelevant(suggestWord);
    if (relevant) {
      suggestWordQueue.insertWithOverflow(suggestWord);
    }
  }
  String[] list=new String[suggestWordQueue.size()];
  for (int i=suggestWordQueue.size() - 1; i >= 0; i--) {
    list[i]=suggestWordQueue.pop().string;
  }
  return list;
}
