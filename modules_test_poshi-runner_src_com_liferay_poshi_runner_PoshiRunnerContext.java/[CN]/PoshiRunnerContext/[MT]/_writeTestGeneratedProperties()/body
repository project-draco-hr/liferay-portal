{
  String testName=PropsValues.TEST_NAME;
  String className=PoshiRunnerGetterUtil.getClassNameFromClassCommandName(testName);
  String testCasePropertyKey=className + "TestCase";
  StringBuilder sb=new StringBuilder();
  Element rootElement=getTestCaseRootElement(className);
  List<Element> rootPropertyElements=rootElement.elements("property");
  for (  Element rootPropertyElement : rootPropertyElements) {
    sb.append(testCasePropertyKey);
    sb.append(".all.");
    sb.append(rootPropertyElement.attributeValue("name"));
    sb.append("=");
    sb.append(rootPropertyElement.attributeValue("value"));
    sb.append("\n");
  }
  List<Element> commandElements=rootElement.elements("command");
  if (testName.contains("#")) {
    String commandName=PoshiRunnerGetterUtil.getCommandNameFromClassCommandName(testName);
    Element commandElement=getTestCaseCommandElement(testName);
    commandElements=Arrays.asList(commandElement);
  }
  for (  Element commandElement : commandElements) {
    String commandName=commandElement.attributeValue("name");
    List<Element> commandPropertyElements=commandElement.elements("property");
    for (    Element commandPropertyElement : commandPropertyElements) {
      sb.append(testCasePropertyKey);
      sb.append(".test");
      sb.append(commandName);
      sb.append(".");
      sb.append(commandPropertyElement.attributeValue("name"));
      sb.append("=");
      sb.append(commandPropertyElement.attributeValue("value"));
      sb.append("\n");
    }
  }
  FileUtil.write("test.generated.properties",sb.toString());
}
