{
  DDMExpression<Number> ddmExpression=_ddmExpressionFactory.createNumberDDMExpression("var1 + var2 + var3");
  ddmExpression.setLongVariableValue("var1",5L);
  ddmExpression.setExpressionStringVariableValue("var2","var1 + 3");
  ddmExpression.setExpressionStringVariableValue("var3","var2 + var1");
  Map<String,VariableDependencies> variableDependenciesMap=ddmExpression.getVariableDependenciesMap();
  VariableDependencies var1VariableDependencies=variableDependenciesMap.get("var1");
  Assert.assertTrue(hasAffectedVariableName(var1VariableDependencies,"var2"));
  Assert.assertTrue(hasAffectedVariableName(var1VariableDependencies,"var3"));
  List<String> var1RequiredVariableNames=var1VariableDependencies.getRequiredVariableNames();
  Assert.assertTrue(var1RequiredVariableNames.isEmpty());
  VariableDependencies var2VariableDependencies=variableDependenciesMap.get("var2");
  Assert.assertTrue(hasRequiredVariableName(var2VariableDependencies,"var1"));
  Assert.assertTrue(hasAffectedVariableName(var2VariableDependencies,"var3"));
  VariableDependencies var3VariableDependencies=variableDependenciesMap.get("var3");
  List<String> var3AffectedVariableNames=var3VariableDependencies.getAffectedVariableNames();
  Assert.assertTrue(var3AffectedVariableNames.isEmpty());
  Assert.assertTrue(hasRequiredVariableName(var3VariableDependencies,"var1"));
  Assert.assertTrue(hasRequiredVariableName(var3VariableDependencies,"var2"));
}
