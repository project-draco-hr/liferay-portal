{
  LayoutBranch layoutBranch=_layoutBranchLocalService.fetchLayoutBranch(layoutBranchId);
  if (layoutBranch == null) {
    return;
  }
  if (layoutBranch.isMaster()) {
    portalPreferences.setValue(Staging.class.getName(),getRecentLayoutBranchIdKey(layoutSetBranchId,plid),null);
  }
 else {
    portalPreferences.setValue(Staging.class.getName(),getRecentLayoutBranchIdKey(layoutSetBranchId,plid),String.valueOf(layoutBranchId));
  }
  ProxiedLayoutsThreadLocal.clearProxiedLayouts();
}
