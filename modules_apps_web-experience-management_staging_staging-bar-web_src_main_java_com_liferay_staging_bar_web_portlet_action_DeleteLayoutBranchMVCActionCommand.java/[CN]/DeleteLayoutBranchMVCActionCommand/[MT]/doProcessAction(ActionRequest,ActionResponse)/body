{
  long layoutBranchId=ParamUtil.getLong(actionRequest,"layoutBranchId");
  long currentLayoutBranchId=ParamUtil.getLong(actionRequest,"currentLayoutBranchId");
  try {
    _layoutBranchService.deleteLayoutBranch(layoutBranchId);
    SessionMessages.add(actionRequest,"pageVariationDeleted");
    if (layoutBranchId == currentLayoutBranchId) {
      SessionMessages.add(actionRequest,PortalUtil.getPortletId(actionRequest) + SessionMessages.KEY_SUFFIX_PORTLET_NOT_AJAXABLE);
    }
    ActionUtil.addLayoutBranchSessionMessages(actionRequest,actionResponse);
  }
 catch (  Exception e) {
    SessionErrors.add(actionRequest,e.getClass(),e);
    actionResponse.setRenderParameter("mvcPath","/error.jsp");
  }
}
