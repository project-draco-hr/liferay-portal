{
  columnId=GetterUtil.getString(columnId);
  if (columnPos == null) {
    columnPos=new Integer(0);
  }
  if (columnCount == null) {
    columnCount=new Integer(0);
  }
  req.setAttribute(WebKeys.RENDER_PORTLET,portlet);
  req.setAttribute(WebKeys.RENDER_PORTLET_COLUMN_ID,columnId);
  req.setAttribute(WebKeys.RENDER_PORTLET_COLUMN_POS,columnPos);
  req.setAttribute(WebKeys.RENDER_PORTLET_COLUMN_COUNT,columnCount);
  RequestDispatcher rd=ctx.getRequestDispatcher("/html/portal/render_portlet.jsp");
  if (sb != null) {
    StringServletResponse stringServletRes=new StringServletResponse(res);
    rd.include(req,stringServletRes);
    sb.append(stringServletRes.getString());
  }
 else {
    res.setContentType(Constants.TEXT_HTML);
    rd.include(req,res);
  }
}
