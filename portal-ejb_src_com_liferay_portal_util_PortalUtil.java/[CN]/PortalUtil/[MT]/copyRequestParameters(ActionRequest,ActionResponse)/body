{
  try {
    ActionRequestImpl reqImpl=(ActionRequestImpl)req;
    HttpServletRequest originalReq=getOriginalServletRequest(reqImpl.getHttpServletRequest());
    if (LiferayWindowState.isExclusive(originalReq)) {
      return;
    }
    ActionResponseImpl resImpl=(ActionResponseImpl)res;
    Map renderParameters=resImpl.getRenderParameters();
    res.setRenderParameter("p_p_action","1");
    Enumeration enu=req.getParameterNames();
    while (enu.hasMoreElements()) {
      String param=(String)enu.nextElement();
      String[] values=req.getParameterValues(param);
      if (renderParameters.get(resImpl.getNamespace() + param) == null) {
        res.setRenderParameter(param,values);
      }
    }
  }
 catch (  IllegalStateException ise) {
  }
}
