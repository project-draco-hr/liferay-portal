{
  MBMessage message=MBMessageLocalServiceUtil.getMessage(entryClassPK);
  if (message.isDiscussion()) {
    Indexer indexer=IndexerRegistryUtil.getIndexer(message.getClassName());
    if (indexer.isRelatedEntryInTrash(message.getClassPK())) {
      return false;
    }
    return indexer.hasPermission(permissionChecker,message.getClassName(),message.getClassPK(),ActionKeys.VIEW);
  }
  return MBMessagePermission.contains(permissionChecker,entryClassPK,ActionKeys.VIEW);
}
