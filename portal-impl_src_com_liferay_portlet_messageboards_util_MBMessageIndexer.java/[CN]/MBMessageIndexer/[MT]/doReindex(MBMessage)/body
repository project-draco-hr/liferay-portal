{
  if (!mbMessage.isApproved() && !mbMessage.isInTrash()) {
    return;
  }
  if (mbMessage.isDiscussion() && mbMessage.isRoot()) {
    return;
  }
  Document document=getDocument(mbMessage);
  SearchEngineUtil.updateDocument(getSearchEngineId(),mbMessage.getCompanyId(),document,isCommitImmediately());
}
