{
  if (!StagingAdvicesThreadLocal.isEnabled()) {
    return methodInvocation.proceed();
  }
  try {
    Object[] arguments=methodInvocation.getArguments();
    if (arguments == null) {
      return methodInvocation.proceed();
    }
    Method method=methodInvocation.getMethod();
    String methodName=method.getName();
    if (methodName.equals("getPortletPreferences") && (arguments.length == 4)) {
      return getPortletPreferences(methodInvocation);
    }
 else     if (methodName.equals("getPreferences")) {
      return getPreferences(methodInvocation);
    }
 else     if (methodName.equals("getStrictPreferences")) {
      return getPreferences(methodInvocation);
    }
 else     if (methodName.equals("updatePreferences")) {
      return updatePreferences(methodInvocation);
    }
    return methodInvocation.proceed();
  }
 catch (  InvocationTargetException ite) {
    throw ite.getCause();
  }
catch (  Throwable throwable) {
    throw throwable;
  }
}
