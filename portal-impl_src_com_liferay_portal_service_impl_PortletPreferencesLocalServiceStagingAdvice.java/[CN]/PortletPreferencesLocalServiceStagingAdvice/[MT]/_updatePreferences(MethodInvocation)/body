{
  Method method=methodInvocation.getMethod();
  Object args[]=methodInvocation.getArguments();
  long plid=(Long)args[2];
  String portletId=(String)args[3];
  if (portletId.equals(PortletKeys.LIFERAY_PORTAL) || (plid <= 0)) {
    return methodInvocation.proceed();
  }
  LayoutRevision layoutRevision=LayoutRevisionUtil.fetchByPrimaryKey(plid);
  if (layoutRevision == null) {
    return methodInvocation.proceed();
  }
  ServiceContext serviceContext=ServiceContextThreadLocal.getServiceContext();
  serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  layoutRevision=LayoutRevisionLocalServiceUtil.updateLayoutRevision(serviceContext.getUserId(),layoutRevision.getLayoutRevisionId(),layoutRevision.getName(),layoutRevision.getTitle(),layoutRevision.getDescription(),layoutRevision.getKeywords(),layoutRevision.getRobots(),layoutRevision.getTypeSettings(),layoutRevision.getIconImage(),layoutRevision.getIconImageId(),layoutRevision.getThemeId(),layoutRevision.getColorSchemeId(),layoutRevision.getWapThemeId(),layoutRevision.getWapColorSchemeId(),layoutRevision.getCss(),serviceContext);
  args[2]=layoutRevision.getLayoutRevisionId();
  return method.invoke(methodInvocation.getThis(),args);
}
