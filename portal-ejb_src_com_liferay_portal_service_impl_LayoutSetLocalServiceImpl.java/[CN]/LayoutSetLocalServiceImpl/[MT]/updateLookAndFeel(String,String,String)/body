{
  LayoutSet layoutSet=LayoutSetUtil.findByPrimaryKey(ownerId);
  layoutSet.setThemeId(themeId);
  layoutSet.setColorSchemeId(colorSchemeId);
  LayoutSetUtil.update(layoutSet);
  if (PrefsPropsUtil.getBoolean(PropsUtil.GROUP_THEME_SYNCHRONIZE)) {
    String groupId=LayoutImpl.getGroupId(ownerId);
    String otherOwnerId;
    if (LayoutImpl.isPrivateLayout(ownerId)) {
      otherOwnerId=LayoutImpl.PUBLIC + groupId;
    }
 else {
      otherOwnerId=LayoutImpl.PRIVATE + groupId;
    }
    LayoutSet otherLayoutSet=LayoutSetUtil.findByPrimaryKey(otherOwnerId);
    otherLayoutSet.setThemeId(themeId);
    otherLayoutSet.setColorSchemeId(colorSchemeId);
    LayoutSetUtil.update(otherLayoutSet);
  }
  return layoutSet;
}
