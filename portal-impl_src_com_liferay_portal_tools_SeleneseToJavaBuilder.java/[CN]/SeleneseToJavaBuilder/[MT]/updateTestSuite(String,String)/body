{
  fileName=StringUtil.replace(fileName,StringPool.BACK_SLASH,StringPool.SLASH);
  int x=fileName.indexOf(CharPool.PERIOD);
  String testFileName=basedir + "/" + fileName.substring(0,x)+ ".java";
  String content=FileUtil.read(testFileName);
  content=StringUtil.replace(content,".BaseTests",".BaseTestSuite");
  content=StringUtil.replace(content," BaseTests"," BaseTestSuite");
  x=content.indexOf("import ");
  int y=content.indexOf("/",x);
  String imports=content.substring(x,y - 1);
  imports=StringUtil.replace(imports,"\n","");
  String[] importClassNames=StringUtil.split(imports,";");
  for (  String importClassName : importClassNames) {
    if (!importClassName.contains("com.liferay.portalweb.") || !importClassName.endsWith("Tests")) {
      continue;
    }
    importClassName=importClassName.substring(7);
    x=importClassName.lastIndexOf(".");
    String testName=importClassName.substring(x + 1);
    String dirName=StringUtil.replace(importClassName.substring(0,x),".","/");
    if (!FileUtil.exists(basedir + "/" + dirName+ "/"+ testName+ ".java")) {
      content=StringUtil.replace(content,testName,testName.substring(0,testName.length() - 1) + "Plan");
    }
  }
  FileUtil.write(testFileName,content);
}
