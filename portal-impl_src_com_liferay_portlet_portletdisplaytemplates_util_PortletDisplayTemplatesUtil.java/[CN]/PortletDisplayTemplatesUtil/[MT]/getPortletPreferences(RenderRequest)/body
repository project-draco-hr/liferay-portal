{
  Map<String,Object> contextPreferences=new HashMap<String,Object>();
  PortletPreferences preferences=renderRequest.getPreferences();
  Map<String,String[]> preferencesMap=preferences.getMap();
  for (  Map.Entry<String,String[]> preference : preferencesMap.entrySet()) {
    if ((preference.getValue() != null) && (preference.getValue()[0] != null)) {
      contextPreferences.put(preference.getKey(),preference.getValue()[0]);
    }
  }
  return contextPreferences;
}
