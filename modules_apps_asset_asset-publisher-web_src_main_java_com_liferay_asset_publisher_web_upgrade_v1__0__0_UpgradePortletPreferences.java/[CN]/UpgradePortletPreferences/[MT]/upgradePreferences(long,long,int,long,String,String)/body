{
  PortletPreferences portletPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  String[] assetEntryXmls=portletPreferences.getValues("asset-entry-xml",new String[0]);
  if (ArrayUtil.isNotEmpty(assetEntryXmls)) {
    upgradeUuids(assetEntryXmls);
    portletPreferences.setValues("assetEntryXml",assetEntryXmls);
  }
  return PortletPreferencesFactoryUtil.toXML(portletPreferences);
}
