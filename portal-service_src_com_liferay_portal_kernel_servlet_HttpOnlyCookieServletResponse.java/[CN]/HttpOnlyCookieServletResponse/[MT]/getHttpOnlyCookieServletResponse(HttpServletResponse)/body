{
  HttpServletResponse httpServletResponse=response;
  while (httpServletResponse instanceof HttpServletResponseWrapper) {
    if (httpServletResponse instanceof HttpOnlyCookieServletResponse) {
      return response;
    }
    HttpServletResponseWrapper httpServletResponseWrapper=(HttpServletResponseWrapper)httpServletResponse;
    httpServletResponse=(HttpServletResponse)httpServletResponseWrapper.getResponse();
  }
  return new HttpOnlyCookieServletResponse(response);
}
