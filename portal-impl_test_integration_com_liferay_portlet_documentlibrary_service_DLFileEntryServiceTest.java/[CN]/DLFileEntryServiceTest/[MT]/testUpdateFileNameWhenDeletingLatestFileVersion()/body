{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  DLFileEntry dlFileEntry=addDLFileEntry(DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,false);
  dlFileEntry=updateStatus(dlFileEntry.getLatestFileVersion(true),serviceContext);
  String initialFileName=dlFileEntry.getFileName();
  String newTitle=RandomTestUtil.randomString();
  dlFileEntry=updateFileEntry(dlFileEntry,newTitle,serviceContext);
  Assert.assertNotEquals(initialFileName,dlFileEntry.getFileName());
  Assert.assertEquals(DLUtil.getSanitizedFileName(newTitle,dlFileEntry.getExtension()),dlFileEntry.getFileName());
  DLFileVersion dlFileVersion=dlFileEntry.getLatestFileVersion(true);
  dlFileEntry=DLFileEntryLocalServiceUtil.deleteFileVersion(dlFileEntry.getUserId(),dlFileEntry.getFileEntryId(),dlFileVersion.getVersion());
  Assert.assertEquals(initialFileName,dlFileEntry.getFileName());
}
