{
  DLFileEntry dlFileEntry=addDLFileEntry(DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,false);
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  dlFileEntry=updateStatus(dlFileEntry.getLatestFileVersion(true),serviceContext);
  DLFileVersion dlFileVersion=dlFileEntry.getLatestFileVersion(true);
  String fileName=RandomTestUtil.randomString();
  dlFileVersion.setFileName(fileName);
  DLFileVersionLocalServiceUtil.updateDLFileVersion(dlFileVersion);
  dlFileEntry=updateStatus(dlFileVersion,serviceContext);
  Assert.assertEquals(DLUtil.getSanitizedFileName(fileName,dlFileEntry.getExtension()),dlFileEntry.getFileName());
}
