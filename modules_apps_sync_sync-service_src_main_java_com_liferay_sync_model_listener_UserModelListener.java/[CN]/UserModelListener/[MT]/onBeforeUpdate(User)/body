{
  try {
    User originalUser=_userLocalService.getUser(user.getUserId());
    if (originalUser.isActive() && !user.isActive()) {
      List<SyncDevice> syncDevices=_syncDeviceLocalService.getSyncDevices(user.getUserId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
      for (      SyncDevice syncDevice : syncDevices) {
        _syncDeviceLocalService.updateStatus(syncDevice.getSyncDeviceId(),SyncDeviceConstants.STATUS_INACTIVE);
      }
    }
 else     if (!originalUser.isActive() && user.isActive()) {
      List<SyncDevice> syncDevices=_syncDeviceLocalService.getSyncDevices(user.getUserId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
      for (      SyncDevice syncDevice : syncDevices) {
        _syncDeviceLocalService.updateStatus(syncDevice.getSyncDeviceId(),SyncDeviceConstants.STATUS_ACTIVE);
      }
    }
  }
 catch (  Exception e) {
    throw new ModelListenerException(e);
  }
}
