{
  try {
    User oldUser=_userLocalService.getUser(newUser.getUserId());
    if (oldUser.isActive() && !newUser.isActive()) {
      List<SyncDevice> syncDevices=_syncDeviceLocalService.getSyncDevices(newUser.getUserId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
      for (      SyncDevice syncDevice : syncDevices) {
        _syncDeviceLocalService.updateStatus(syncDevice.getSyncDeviceId(),SyncDeviceConstants.STATUS_INACTIVE);
      }
    }
 else     if (!oldUser.isActive() && newUser.isActive()) {
      List<SyncDevice> syncDevices=_syncDeviceLocalService.getSyncDevices(newUser.getUserId(),QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
      for (      SyncDevice syncDevice : syncDevices) {
        _syncDeviceLocalService.updateStatus(syncDevice.getSyncDeviceId(),SyncDeviceConstants.STATUS_ACTIVE);
      }
    }
  }
 catch (  Exception e) {
    throw new ModelListenerException(e);
  }
}
