{
  String symbol=_symbol;
  double rate=0.0;
  try {
    if (symbol.length() == 6) {
      String fromSymbol=symbol.substring(0,3);
      String toSymbol=symbol.substring(3,6);
      if (!CurrencyUtil.isCurrency(fromSymbol) || !CurrencyUtil.isCurrency(toSymbol)) {
        throw new ConverterException(symbol);
      }
    }
 else     if (symbol.length() == 3) {
      if (!CurrencyUtil.isCurrency(symbol)) {
        throw new ConverterException(symbol);
      }
    }
 else {
      throw new ConverterException(symbol);
    }
    String text=Http.URLtoString("http://finance.yahoo.com/d/quotes.csv?s=" + symbol + "=X&f=sl1d1t1c1ohgv&e=.csv");
    StringTokenizer st=new StringTokenizer(text,StringPool.COMMA);
    st.nextToken();
    rate=Double.parseDouble(st.nextToken().replace('"',' ').trim());
  }
 catch (  Exception e) {
    throw new ConverterException(e);
  }
  return new Currency(symbol,rate);
}
