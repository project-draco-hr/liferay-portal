{
  ModuleGroupDisplay moduleGroupDisplay=null;
  if (moduleGroupTitle.equals(ModuleGroupDisplay.MODULE_GROUP_TITLE_UNCATEGORIZED)) {
    moduleGroupTitle=null;
  }
  List<Bundle> bundles=appDisplay.getBundles();
  for (  Bundle bundle : bundles) {
    Dictionary<String,String> headers=bundle.getHeaders();
    String curModuleGroupTitle=headers.get(BundleConstants.LIFERAY_RELENG_MODULE_GROUP_TITLE);
    if (Validator.isNotNull(moduleGroupTitle) && !moduleGroupTitle.equals(curModuleGroupTitle)) {
      continue;
    }
 else     if (curModuleGroupTitle == null) {
      continue;
    }
    if (moduleGroupDisplay == null) {
      String moduleGroupDescription=GetterUtil.getString(headers.get(BundleConstants.LIFERAY_RELENG_MODULE_GROUP_DESCRIPTION));
      Version appVersion=bundle.getVersion();
      moduleGroupDisplay=new SimpleModuleGroupDisplay(appDisplay,moduleGroupTitle,moduleGroupDescription,appVersion);
    }
    moduleGroupDisplay.addBundle(bundle);
  }
  return moduleGroupDisplay;
}
