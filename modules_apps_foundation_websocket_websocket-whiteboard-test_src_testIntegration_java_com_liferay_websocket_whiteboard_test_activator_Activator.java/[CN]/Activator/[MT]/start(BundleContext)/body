{
  List<Class<? extends Decoder>> decoders=new ArrayList<>();
  decoders.add(ExampleDecoder.class);
  List<Class<? extends Encoder>> encoders=new ArrayList<>();
  encoders.add(ExampleEncoder.class);
  Dictionary<String,Object> properties=new Hashtable<>();
  properties.put("org.osgi.http.websocket.endpoint.path","/o/websocket/decoder");
  properties.put("org.osgi.http.websocket.endpoint.encoders",encoders);
  properties.put("org.osgi.http.websocket.endpoint.decoders",decoders);
  _endpointServiceRegistration=bundleContext.registerService(Endpoint.class,new EncodeWebSocketEndpoint(),properties);
}
