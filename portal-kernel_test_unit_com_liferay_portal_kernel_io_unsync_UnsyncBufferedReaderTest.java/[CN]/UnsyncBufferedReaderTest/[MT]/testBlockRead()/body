{
  StringReader stringReader=new StringReader("abcdefghi");
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(stringReader,5);
  Assert.assertEquals(5,unsyncBufferedReader.buffer.length);
  Assert.assertTrue(stringReader.ready());
  Assert.assertTrue(unsyncBufferedReader.ready());
  char[] buffer=new char[3];
  Assert.assertEquals(0,unsyncBufferedReader.read(buffer,0,0));
  Assert.assertEquals(0,unsyncBufferedReader.read(buffer,0,-1));
  Assert.assertEquals('a',unsyncBufferedReader.read());
  Assert.assertEquals(1,unsyncBufferedReader.index);
  Assert.assertEquals(5,unsyncBufferedReader.firstInvalidIndex);
  int read=unsyncBufferedReader.read(buffer);
  Assert.assertEquals(buffer.length,read);
  Assert.assertEquals('b',buffer[0]);
  Assert.assertEquals('c',buffer[1]);
  Assert.assertEquals('d',buffer[2]);
  Assert.assertEquals(4,unsyncBufferedReader.index);
  Assert.assertEquals(5,unsyncBufferedReader.firstInvalidIndex);
  Assert.assertEquals('e',unsyncBufferedReader.read());
  Assert.assertEquals(5,unsyncBufferedReader.index);
  Assert.assertEquals(5,unsyncBufferedReader.firstInvalidIndex);
  read=unsyncBufferedReader.read(buffer);
  Assert.assertEquals(buffer.length,read);
  Assert.assertEquals('f',buffer[0]);
  Assert.assertEquals('g',buffer[1]);
  Assert.assertEquals('h',buffer[2]);
  Assert.assertEquals(3,unsyncBufferedReader.index);
  Assert.assertEquals(4,unsyncBufferedReader.firstInvalidIndex);
  stringReader=new StringReader(new String(_BUFFER));
  unsyncBufferedReader=new UnsyncBufferedReader(stringReader,_SIZE);
  char[] tempBuffer=new char[_SIZE];
  unsyncBufferedReader.read(tempBuffer);
  stringReader=new StringReader(new String(_BUFFER));
  unsyncBufferedReader=new UnsyncBufferedReader(stringReader,5);
  unsyncBufferedReader.mark(_SIZE);
  Assert.assertEquals(_SIZE,unsyncBufferedReader.read(tempBuffer));
  Assert.assertEquals(-1,unsyncBufferedReader.read(tempBuffer));
}
