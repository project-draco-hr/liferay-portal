{
  REST restAnnotation=method.getAnnotation(REST.class);
  String path=restAnnotation.value().trim();
  if (path.length() == 0) {
    if (_smartMethodNames) {
      path=_methodNameToPath(method);
    }
 else {
      path=_nameToPathChunk(method.getName());
      path+=StringPool.SLASH;
      path+=_buildParametersChunks(method);
    }
  }
  if (path.endsWith(StringPool.SLASH)) {
    path+=_buildParametersChunks(method);
  }
  if (!path.startsWith(StringPool.SLASH)) {
    path=StringPool.SLASH + path;
    restAnnotation=clazz.getAnnotation(REST.class);
    if (restAnnotation != null) {
      String pathFromClass=restAnnotation.value().trim();
      if (pathFromClass.length() == 0) {
        pathFromClass=_classNameToPath(clazz);
      }
      if (!pathFromClass.startsWith(StringPool.SLASH)) {
        pathFromClass=StringPool.SLASH + pathFromClass;
      }
      if (_fixDuplicateStartingChunks) {
        if (path.startsWith(pathFromClass + StringPool.SLASH)) {
          pathFromClass=StringPool.BLANK;
        }
      }
      path=pathFromClass + path;
    }
  }
  return path;
}
