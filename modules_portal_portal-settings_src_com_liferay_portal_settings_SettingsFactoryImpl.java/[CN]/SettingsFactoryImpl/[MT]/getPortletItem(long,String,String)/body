{
  PortletItem portletItem=null;
  try {
    portletItem=_portletItemLocalService.getPortletItem(groupId,name,portletId,PortletPreferences.class.getName());
  }
 catch (  NoSuchPortletItemException nspie) {
    long userId=PrincipalThreadLocal.getUserId();
    portletItem=_portletItemLocalService.updatePortletItem(userId,groupId,name,portletId,PortletPreferences.class.getName());
  }
  return portletItem;
}
