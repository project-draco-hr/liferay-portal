{
  String type="png";
  if (fileVersion == null) {
    return type;
  }
  String contentType=fileVersion.getMimeType();
  if (contentType.contains(ImageTool.TYPE_BMP)) {
    type=ImageTool.TYPE_BMP;
  }
 else   if (contentType.contains(ImageTool.TYPE_GIF)) {
    type=ImageTool.TYPE_GIF;
  }
 else   if (contentType.contains(ImageTool.TYPE_JPEG) || contentType.contains("jpeg")) {
    type=ImageTool.TYPE_JPEG;
  }
 else   if (contentType.contains(ImageTool.TYPE_PNG)) {
    type=ImageTool.TYPE_PNG;
  }
 else   if (!_previewGenerationRequired(fileVersion)) {
    type=fileVersion.getExtension();
  }
  return type;
}
