{
  PortalRuntimePermission.checkSearchEngine(searchEngineId);
  _searchEngines.put(searchEngineId,searchEngine);
  for (  Long companyId : _companyIds.keySet()) {
    searchEngine.initialize(companyId);
  }
synchronized (_queuingSearchEngines) {
    QueuingSearchEngine queuingSearchEngine=_queuingSearchEngines.get(searchEngineId);
    if (queuingSearchEngine != null) {
      try {
        queuingSearchEngine.invokeQueued(searchEngine.getIndexWriter());
      }
 catch (      Exception e) {
        if (_log.isWarnEnabled()) {
          _log.warn("Unable to execute pending write events for " + "engine: " + searchEngineId,e);
        }
      }
    }
  }
}
