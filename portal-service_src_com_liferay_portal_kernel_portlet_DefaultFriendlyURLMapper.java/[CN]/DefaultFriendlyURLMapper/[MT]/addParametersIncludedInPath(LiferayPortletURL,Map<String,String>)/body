{
  for (  String name : defaultIgnoredParameters) {
    portletURL.addParameterIncludedInPath(name);
  }
  Map<String,String[]> portletURLParameters=portletURL.getParameterMap();
  for (  String name : portletURLParameters.keySet()) {
    if (!routeParameters.containsKey(name)) {
      portletURL.addParameterIncludedInPath(name);
    }
  }
  Map<String,String> reservedParameters=portletURL.getReservedParameterMap();
  for (  Map.Entry<String,String> entry : reservedParameters.entrySet()) {
    String key=entry.getKey();
    String value=entry.getValue();
    if (!routeParameters.containsKey(key) || value.equals(defaultReservedParameters.get(key))) {
      portletURL.addParameterIncludedInPath(key);
    }
  }
}
