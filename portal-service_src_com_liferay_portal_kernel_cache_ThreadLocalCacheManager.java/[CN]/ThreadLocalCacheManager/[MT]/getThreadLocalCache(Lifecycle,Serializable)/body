{
  Map<Lifecycle,Map<Serializable,ThreadLocalCache<?>>> threadLocalCacheMaps=_threadLocalCacheMaps.get();
  Map<Serializable,ThreadLocalCache<?>> threadLocalCacheMap=threadLocalCacheMaps.get(lifecycle);
  if (threadLocalCacheMap == null) {
    threadLocalCacheMap=new HashMap<Serializable,ThreadLocalCache<?>>();
    threadLocalCacheMaps.put(lifecycle,threadLocalCacheMap);
  }
  ThreadLocalCache<?> threadLocalCache=threadLocalCacheMap.get(name);
  if (threadLocalCache == null) {
    threadLocalCache=new ThreadLocalCache<T>(name,lifecycle);
    threadLocalCacheMap.put(name,threadLocalCache);
  }
  return (ThreadLocalCache<T>)threadLocalCache;
}
