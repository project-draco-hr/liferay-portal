{
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  Boolean enabled=DependencyManagementThreadLocal.isEnabled();
  try {
    DependencyManagementThreadLocal.setEnabled(false);
    currentThread.setContextClassLoader(_bundleClassLoader);
    _webXML=_webXMLDefinitionLoader.loadWebXML(_bundle);
    initContext();
    Exception e=initListeners();
    if (e != null) {
      destroy();
      throw e;
    }
    initFilters();
    initServlets();
  }
  finally {
    currentThread.setContextClassLoader(contextClassLoader);
    DependencyManagementThreadLocal.setEnabled(enabled);
  }
}
