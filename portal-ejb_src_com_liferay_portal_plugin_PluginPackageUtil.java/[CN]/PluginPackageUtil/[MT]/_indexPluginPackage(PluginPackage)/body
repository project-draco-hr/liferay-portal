{
  PluginPackage installedPluginPackage=getInstalledVersion(pluginPackage.getGroupId(),pluginPackage.getArtifactId());
  String status=null;
  if (installedPluginPackage == null) {
    status="notInstalled";
  }
 else   if (installedPluginPackage.isLaterVersionThan(pluginPackage)) {
    status="laterVersionInstalled";
  }
 else   if (installedPluginPackage.isPreviousVersionThan(pluginPackage)) {
    status="newVersion";
  }
 else {
    status="alreadyInstalled";
  }
  try {
    PluginPackageIndexer.updatePluginPackage(pluginPackage.getModuleId(),pluginPackage.getName(),pluginPackage.getVersion(),pluginPackage.getAuthor(),pluginPackage.getTypes(),pluginPackage.getTags(),pluginPackage.getLicenses(),pluginPackage.getLiferayVersions(),pluginPackage.getShortDescription(),pluginPackage.getLongDescription(),pluginPackage.getPageURL(),pluginPackage.getRepositoryURL(),status);
  }
 catch (  Exception e) {
    _log.error("Error reindexing " + pluginPackage.getModuleId(),e);
  }
}
