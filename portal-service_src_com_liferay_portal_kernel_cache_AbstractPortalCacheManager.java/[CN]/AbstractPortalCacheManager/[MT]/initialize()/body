{
  if ((_portalCacheManagerConfiguration != null) || (_mpiOnly && SPIUtil.isSPI())) {
    return;
  }
  if (Validator.isNull(_portalCacheManagerName)) {
    throw new IllegalArgumentException("Portal cache manager name is not specified");
  }
  initPortalCacheManager();
  _portalCacheManagerConfiguration=getPortalCacheManagerConfiguration();
  _defaultPortalCacheConfiguration=_portalCacheManagerConfiguration.getDefaultPortalCacheConfiguration();
  for (  CallbackConfiguration callbackConfiguration : _portalCacheManagerConfiguration.getPortalCacheManagerListenerConfigurations()) {
    CallbackFactory<PortalCacheManager<?,?>> callbackFactory=(CallbackFactory<PortalCacheManager<?,?>>)callbackConfiguration.getCallbackFactory();
    PortalCacheManagerListener portalCacheManagerListener=callbackFactory.createPortalCacheManagerListener(this,callbackConfiguration.getProperties());
    if (portalCacheManagerListener != null) {
      registerPortalCacheManagerListener(portalCacheManagerListener);
    }
  }
}
