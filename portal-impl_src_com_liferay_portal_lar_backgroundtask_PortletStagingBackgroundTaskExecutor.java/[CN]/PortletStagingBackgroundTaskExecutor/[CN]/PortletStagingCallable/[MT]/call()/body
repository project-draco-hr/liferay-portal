{
  File larFile=null;
  MissingReferences missingReferences=null;
  try {
    larFile=LayoutLocalServiceUtil.exportPortletInfoAsFile(_exportImportConfiguration);
    markBackgroundTask(_backgroundTaskId,"exported");
    LayoutLocalServiceUtil.importPortletDataDeletions(_exportImportConfiguration,larFile);
    missingReferences=LayoutLocalServiceUtil.validateImportPortletInfo(_exportImportConfiguration,larFile);
    markBackgroundTask(_backgroundTaskId,"validated");
    LayoutLocalServiceUtil.importPortletInfo(_exportImportConfiguration,larFile);
  }
  finally {
    larFile.delete();
  }
  return missingReferences;
}
