{
  ServiceRegistrations serviceRegistrations=_serviceRegistrations.get(bundle);
  if (serviceRegistrations == null) {
    return;
  }
  serviceRegistrations._counter--;
  if (serviceRegistrations._counter > 0) {
    return;
  }
  serviceRegistrations=_serviceRegistrations.remove(bundle);
  if (serviceRegistrations._jspServiceRegistration != null) {
    serviceRegistrations._jspServiceRegistration.unregister();
  }
  if (serviceRegistrations._resourceServiceRegistration != null) {
    serviceRegistrations._resourceServiceRegistration.unregister();
  }
  if (serviceRegistrations._contextServiceRegistration != null) {
    serviceRegistrations._contextServiceRegistration.unregister();
  }
}
