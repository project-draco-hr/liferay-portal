{
  if (Validator.isBlank(languageBundleName)) {
    return;
  }
  for (  Locale locale : LanguageUtil.getAvailableLocales()) {
    ResourceBundle resourceBundle=ResourceBundle.getBundle(languageBundleName,locale,classLoader,UTF8Control.INSTANCE);
    Dictionary<String,Object> properties=new HashMapDictionary<>();
    properties.put("javax.portlet.name",portletId);
    properties.put("language.id",LocaleUtil.toLanguageId(locale));
    ServiceRegistration<ResourceBundle> serviceRegistration=bundleContext.registerService(ResourceBundle.class,resourceBundle,properties);
    serviceRegistrations.addServiceRegistration(serviceRegistration);
  }
}
