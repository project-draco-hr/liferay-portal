{
  List<String> portletActions=_resourceActions.getPortletResourceActions(portletModel.getPortletId());
  _resourceActionLocalService.checkResourceActions(portletModel.getPortletId(),portletActions);
  List<String> modelNames=_resourceActions.getPortletModelResources(portletModel.getPortletId());
  for (  String modelName : modelNames) {
    List<String> modelActions=_resourceActions.getModelResourceActions(modelName);
    _resourceActionLocalService.checkResourceActions(modelName,modelActions);
  }
  for (  Company company : companies) {
    com.liferay.portal.model.Portlet companyPortletModel=_portletLocalService.getPortletById(company.getCompanyId(),portletModel.getPortletId());
    _portletLocalService.checkPortlet(companyPortletModel);
  }
}
