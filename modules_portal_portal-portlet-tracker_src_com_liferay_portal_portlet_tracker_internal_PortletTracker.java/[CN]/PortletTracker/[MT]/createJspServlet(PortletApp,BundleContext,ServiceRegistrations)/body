{
  Dictionary<String,Object> properties=new Hashtable<String,Object>();
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_SELECT,portletApp.getServletContextName());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_NAME,"jsp");
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_PATTERN,"*.jsp");
  properties.put("servlet.init.compilerClassName","com.liferay.portal.servlet.jsp.compiler.compiler.JspCompiler");
  properties.put("servlet.init.development","false");
  properties.put("servlet.init.httpMethods","GET,POST,HEAD");
  properties.put("servlet.init.keepgenerated","true");
  properties.put("servlet.init.logVerbosityLevel","DEBUG");
  ServiceRegistration<?> serviceRegistration=bundleContext.registerService(Servlet.class,new JspServlet(),properties);
  serviceRegistrations._jspServletServiceRegistration=serviceRegistration;
}
