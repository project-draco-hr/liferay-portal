{
  try {
    MirageJournalFeed mirageJournalFeed=(MirageJournalFeed)contentFeed;
    JournalFeed feed=mirageJournalFeed.getFeed();
    JournalFeedCriteria criteria=(JournalFeedCriteria)optionalCriteria;
    String query=criteria.getOptions().get(JournalFeedCriteria.QUERY);
    if (query.equals(JournalFeedCriteria.FIND_BY_PRIMARY_KEY)) {
      long feedId=feed.getId();
      feed=JournalFeedUtil.findByPrimaryKey(feedId);
    }
 else     if (query.equals(JournalFeedCriteria.FIND_BY_G_F)) {
      long groupId=feed.getGroupId();
      String feedId=feed.getFeedId();
      feed=JournalFeedUtil.findByG_F(groupId,feedId);
    }
    mirageJournalFeed.setFeed(feed);
    return mirageJournalFeed;
  }
 catch (  PortalException pe) {
    throw new CMSException(pe.getMessage(),pe);
  }
catch (  SystemException se) {
    throw new CMSException(se.getMessage(),se);
  }
}
