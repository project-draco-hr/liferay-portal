{
  Element repositoryElement=portletDataContext.getExportDataElement(repository);
  Folder folder=DLAppLocalServiceUtil.getFolder(repository.getDlFolderId());
  if (folder.getModel() instanceof DLFolder) {
    DLFolder dlFolder=(DLFolder)folder.getModel();
    repositoryElement.addAttribute("hidden",String.valueOf(dlFolder.isHidden()));
  }
  portletDataContext.addClassedModel(repositoryElement,ExportImportPathUtil.getModelPath(repository),repository,DLPortletDataHandler.NAMESPACE);
  List<RepositoryEntry> repositoryEntries=RepositoryEntryLocalServiceUtil.getRepositoryEntries(repository.getRepositoryId());
  for (  RepositoryEntry repositoryEntry : repositoryEntries) {
    StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,repositoryEntry);
    portletDataContext.addReferenceElement(repository,repositoryElement,repositoryEntry,PortletDataContext.REFERENCE_TYPE_CHILD,false);
  }
}
