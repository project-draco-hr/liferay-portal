{
  String sql=CustomSQLUtil.get(COUNT_BY_C_N_D);
  sql=StringUtil.replace(sql,"[$JOIN$]",_getJoin(params));
  sql=StringUtil.replace(sql,"[$WHERE$]",_getWhere(params));
  SQLQuery q=session.createSQLQuery(sql);
  q.addScalar(HibernateUtil.getCountColumnName(),Hibernate.LONG);
  QueryPos qPos=QueryPos.getInstance(q);
  _setJoin(qPos,params);
  qPos.add(companyId);
  qPos.add(name);
  qPos.add(name);
  qPos.add(description);
  qPos.add(description);
  Iterator itr=q.list().iterator();
  if (itr.hasNext()) {
    Long count=(Long)itr.next();
    if (count != null) {
      return count.intValue();
    }
  }
  return 0;
}
