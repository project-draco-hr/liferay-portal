{
  if ((params == null) || params.isEmpty()) {
    return StringPool.BLANK;
  }
  StringBundler sb=new StringBundler(params.size());
  for (  Map.Entry<String,Object> entry : params.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (Validator.isNull(value)) {
      continue;
    }
    if (key.equals("rolePermissions") && (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 6)) {
      List<Object> values=(List<Object>)value;
      String name=(String)values.get(0);
      if (ResourceBlockLocalServiceUtil.isSupported(name)) {
        key="rolePermissions_6_block";
      }
 else {
        key="rolePermissions_6";
      }
    }
    Map<String,String> joinMap=_getJoinMap();
    String joinValue=joinMap.get(key);
    if (Validator.isNotNull(joinValue)) {
      sb.append(joinValue);
    }
  }
  return sb.toString();
}
