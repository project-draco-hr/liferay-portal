{
  _initializedReadLock.lock();
  try {
    if (_initialized) {
      return;
    }
  }
  finally {
    _initializedReadLock.unlock();
  }
  _initializedWriteLock.lock();
  try {
    FileUtil.mkdirs(PREVIEW_TMP_PATH);
    FileUtil.mkdirs(THUMBNAIL_TMP_PATH);
    reset();
    _initialized=true;
  }
 catch (  Exception e) {
    _log.warn(e,e);
  }
 finally {
    _initializedWriteLock.unlock();
  }
}
