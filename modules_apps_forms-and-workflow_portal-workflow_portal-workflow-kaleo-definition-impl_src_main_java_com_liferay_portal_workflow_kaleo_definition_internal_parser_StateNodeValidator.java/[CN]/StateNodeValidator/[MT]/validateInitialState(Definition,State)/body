{
  State initialState=definition.getInitialState();
  if (!Objects.equals(initialState,state)) {
    throw new WorkflowException("Multiple initial states " + state.getName() + " and "+ initialState.getName());
  }
  if (state.getIncomingTransitionsCount() > 0) {
    throw new WorkflowException("An incoming transition was found for initial state " + state.getName());
  }
  if (state.getOutgoingTransitionsCount() == 0) {
    throw new WorkflowException("No outgoing transition found for initial state " + state.getName());
  }
}
