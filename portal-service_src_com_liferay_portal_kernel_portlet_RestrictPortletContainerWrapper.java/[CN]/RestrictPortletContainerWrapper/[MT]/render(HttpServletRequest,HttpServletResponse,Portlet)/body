{
  RestrictPortletServletRequest restrictPortletServletRequest=null;
  if (request instanceof RestrictPortletServletRequest) {
    restrictPortletServletRequest=(RestrictPortletServletRequest)request;
  }
 else {
    restrictPortletServletRequest=new RestrictPortletServletRequest(request);
  }
  try {
    _portletContainer.render(request,response,portlet);
  }
 catch (  Exception e) {
    throw new PortletContainerException(e);
  }
 finally {
    restrictPortletServletRequest.removeAttribute(WebKeys.RENDER_PATH);
    restrictPortletServletRequest.removeAttribute(WebKeys.RENDER_PORTLET_COLUMN_ID);
    restrictPortletServletRequest.removeAttribute(WebKeys.RENDER_PORTLET_COLUMN_POS);
    restrictPortletServletRequest.removeAttribute(WebKeys.RENDER_PORTLET_COLUMN_COUNT);
    restrictPortletServletRequest.mergeSharedAttributes();
  }
}
