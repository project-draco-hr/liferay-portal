{
  ShortURL newShortURL=addShortURL();
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(ShortURL.class,ShortURL.class.getClassLoader());
  dynamicQuery.add(RestrictionsFactoryUtil.eq("shortURLId",newShortURL.getShortURLId()));
  List<ShortURL> result=_persistence.findWithDynamicQuery(dynamicQuery);
  assertEquals(1,result.size());
  ShortURL existingShortURL=result.get(0);
  assertEquals(existingShortURL,newShortURL);
}
