{
  PortalPreferencesImpl portalPreferencesImpl=null;
  if (portalPreferences instanceof PortalPreferencesWrapper) {
    PortalPreferencesWrapper portalPreferencesWrapper=(PortalPreferencesWrapper)portalPreferences;
    portalPreferencesImpl=portalPreferencesWrapper.getPortalPreferencesImpl();
  }
 else {
    portalPreferencesImpl=(PortalPreferencesImpl)portalPreferences;
  }
  return portalPreferencesImpl.toXML();
}
