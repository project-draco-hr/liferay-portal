{
  if (Validator.isNull(xml)) {
    return Collections.emptyMap();
  }
  String cacheKey=_encodeCacheKey(xml);
  Map<String,Preference> preferencesMap=_preferencesMapPortalCache.get(cacheKey);
  if (preferencesMap != null) {
    return preferencesMap;
  }
  preferencesMap=createPreferencesMap(xml);
  _preferencesMapPortalCache.put(cacheKey,preferencesMap);
  return preferencesMap;
}
