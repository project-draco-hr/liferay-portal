{
  Field[] fields=type.getDeclaredFields();
  for (  Field field : fields) {
    String name=field.getName();
    if (name.startsWith(StringPool.UNDERLINE)) {
      name=name.substring(1);
    }
    if (!include) {
      Class fieldType=field.getType();
      if (_isExcludedType(fieldType)) {
        list.add(name);
      }
    }
    JSON jsonAnnotation=field.getAnnotation(JSON.class);
    if ((jsonAnnotation != null) && (jsonAnnotation.include() == include)) {
      if (!list.contains(name)) {
        list.add(name);
      }
    }
  }
  Method[] methods=type.getDeclaredMethods();
  for (  Method method : methods) {
    String name=_getPropertyName(method);
    if (!include) {
      Class propertyType=method.getReturnType();
      if (_isExcludedType(propertyType)) {
        list.add(name);
      }
    }
    JSON jsonAnnotation=method.getAnnotation(JSON.class);
    if ((jsonAnnotation != null) && (jsonAnnotation.include() == include)) {
      if (name != null) {
        if (!list.contains(name)) {
          list.add(name);
        }
      }
    }
  }
}
