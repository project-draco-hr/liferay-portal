{
  if (isInheritProxy()) {
    setNonProxyHosts(environment);
    setProxy(environment,"http");
    setProxy(environment,"https");
  }
  File executableDir=getExecutableDir();
  if (executableDir != null) {
    for (    String pathKey : _PATH_KEYS) {
      String path=environment.get(pathKey);
      if (Validator.isNull(path)) {
        continue;
      }
      path=executableDir.getAbsolutePath() + File.pathSeparator + path;
      environment.put(pathKey,path);
    }
  }
}
