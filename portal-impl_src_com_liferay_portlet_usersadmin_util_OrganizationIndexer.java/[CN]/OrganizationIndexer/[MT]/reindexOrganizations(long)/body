{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(Organization.class,PACLClassLoaderUtil.getPortalClassLoader());
  Projection minOrganizationIdProjection=ProjectionFactoryUtil.min("organizationId");
  Projection maxOrganizationIdProjection=ProjectionFactoryUtil.max("organizationId");
  ProjectionList projectionList=ProjectionFactoryUtil.projectionList();
  projectionList.add(minOrganizationIdProjection);
  projectionList.add(maxOrganizationIdProjection);
  dynamicQuery.setProjection(projectionList);
  addReindexCriteria(dynamicQuery,companyId);
  List<Object[]> results=OrganizationLocalServiceUtil.dynamicQuery(dynamicQuery);
  Object[] minAndMaxOrganizationIds=results.get(0);
  if ((minAndMaxOrganizationIds[0] == null) || (minAndMaxOrganizationIds[1] == null)) {
    return;
  }
  long minOrganizationId=(Long)minAndMaxOrganizationIds[0];
  long maxOrganizationId=(Long)minAndMaxOrganizationIds[1];
  long startOrganizationId=minOrganizationId;
  long endOrganizationId=startOrganizationId + DEFAULT_INTERVAL;
  while (startOrganizationId <= maxOrganizationId) {
    reindexOrganizations(companyId,startOrganizationId,endOrganizationId);
    startOrganizationId=endOrganizationId;
    endOrganizationId+=DEFAULT_INTERVAL;
  }
}
