{
  LinkedHashMap<String,Object> params=(LinkedHashMap<String,Object>)searchContext.getAttribute("params");
  if (params == null) {
    return;
  }
  long parentOrganizationId=GetterUtil.getLong(searchContext.getAttribute("parentOrganizationId"));
  if (parentOrganizationId > 0) {
    contextQuery.addRequiredTerm("parentOrganizationId",parentOrganizationId);
  }
  List<Organization> organizationsTree=(List<Organization>)params.get("organizationsTree");
  if ((organizationsTree != null) && !organizationsTree.isEmpty()) {
    BooleanQuery booleanQuery=BooleanQueryFactoryUtil.create(searchContext);
    for (    Organization organization : organizationsTree) {
      String treePath=organization.buildTreePath();
      booleanQuery.addTerm("treePath",treePath,true);
    }
    contextQuery.add(booleanQuery,BooleanClauseOccur.MUST);
  }
}
