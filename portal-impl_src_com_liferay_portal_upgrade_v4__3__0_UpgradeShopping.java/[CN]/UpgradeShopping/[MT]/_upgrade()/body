{
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(ShoppingCartImpl.TABLE_NAME,ShoppingCartImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl());
  upgradeTable.updateTable();
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingCategoryImpl.TABLE_NAME,ShoppingCategoryImpl.TABLE_COLUMNS,pkUpgradeColumn);
  upgradeTable.updateTable();
  ValueMapper categoryIdMapper=new DefaultParentIdMapper(pkUpgradeColumn.getValueMapper());
  UpgradeColumn upgradeParentCategoryIdColumn=new SwapUpgradeColumnImpl("parentCategoryId",categoryIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingCategoryImpl.TABLE_NAME,ShoppingCategoryImpl.TABLE_COLUMNS,upgradeParentCategoryIdColumn);
  upgradeTable.updateTable();
  UpgradeColumn upgradeCategoryIdColumn=new SwapUpgradeColumnImpl("categoryId",categoryIdMapper);
  pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingItemImpl.TABLE_NAME,ShoppingItemImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeCategoryIdColumn);
  upgradeTable.updateTable();
  ValueMapper itemIdMapper=pkUpgradeColumn.getValueMapper();
  UpgradeColumn upgradeItemIdColumn=new SwapUpgradeColumnImpl("itemId",itemIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingItemFieldImpl.TABLE_NAME,ShoppingItemFieldImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl(),upgradeItemIdColumn);
  upgradeTable.updateTable();
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingItemPriceImpl.TABLE_NAME,ShoppingItemPriceImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl(),upgradeItemIdColumn);
  upgradeTable.updateTable();
  pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingOrderImpl.TABLE_NAME,ShoppingOrderImpl.TABLE_COLUMNS,pkUpgradeColumn);
  upgradeTable.updateTable();
  ValueMapper orderIdMapper=pkUpgradeColumn.getValueMapper();
  UpgradeColumn upgradeOrderIdColumn=new SwapUpgradeColumnImpl("orderId",orderIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(ShoppingOrderItemImpl.TABLE_NAME,ShoppingOrderItemImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl(),upgradeOrderIdColumn,upgradeItemIdColumn);
  upgradeTable.updateTable();
  ResourceUtil.upgradePrimKey(categoryIdMapper,ShoppingCategory.class.getName());
  ResourceUtil.upgradePrimKey(itemIdMapper,ShoppingItem.class.getName());
  CounterLocalServiceUtil.reset(ShoppingCategory.class.getName());
  CounterLocalServiceUtil.reset(ShoppingItem.class.getName());
  DBUtil.getInstance().executeSQL(_UPGRADE_SCHEMA);
}
