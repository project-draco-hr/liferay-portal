{
  BookmarksEntry entry=bookmarksEntryPersistence.findByPrimaryKey(entryId);
  BookmarksFolder folder=getFolder(entry,folderId);
  if (Validator.isNull(name)) {
    name=url;
  }
  validate(url);
  entry.setModifiedDate(new Date());
  entry.setFolderId(folder.getFolderId());
  entry.setName(name);
  entry.setUrl(url);
  entry.setComments(comments);
  bookmarksEntryPersistence.update(entry,false);
  updateTagsAsset(userId,entry,serviceContext.getTagsEntries());
  try {
    Indexer.updateEntry(entry.getCompanyId(),folder.getGroupId(),entry.getFolderId(),entry.getEntryId(),name,url,comments,entry.getModifiedDate(),serviceContext.getTagsEntries(),entry.getExpandoBridge());
  }
 catch (  SearchException se) {
    _log.error("Indexing " + entryId,se);
  }
  return entry;
}
