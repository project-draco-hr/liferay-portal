{
  BookmarksEntry entry=bookmarksEntryPersistence.findByPrimaryKey(entryId);
  if (Validator.isNull(name)) {
    name=url;
  }
  if (!Validator.isUrl(url)) {
    throw new EntryURLException();
  }
  entry.setModifiedDate(serviceContext.getModifiedDate(null));
  entry.setFolderId(folderId);
  entry.setName(name);
  entry.setUrl(url);
  entry.setComments(comments);
  entry.setExpandoBridgeAttributes(serviceContext);
  bookmarksEntryPersistence.update(entry,false);
  updateAsset(userId,entry,serviceContext.getAssetCategoryIds(),serviceContext.getAssetTagNames());
  Indexer indexer=IndexerRegistryUtil.getIndexer(BookmarksEntry.class);
  indexer.reindex(entry);
  return entry;
}
