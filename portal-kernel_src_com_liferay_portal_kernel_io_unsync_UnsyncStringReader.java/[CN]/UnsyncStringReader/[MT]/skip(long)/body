{
  if (index >= capability) {
    return 0;
  }
  long length=ns;
  if (index + ns > capability) {
    length=capability - index;
  }
  index+=length;
  return length;
}
