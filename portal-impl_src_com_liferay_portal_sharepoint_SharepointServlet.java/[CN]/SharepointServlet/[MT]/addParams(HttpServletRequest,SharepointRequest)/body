{
  String contentType=request.getContentType();
  if (!contentType.equals(SharepointUtil.VEERMER_URLENCODED)) {
    return;
  }
  try {
    InputStream is=new BufferedInputStream(request.getInputStream());
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    BufferedOutputStream bos=new BufferedOutputStream(baos);
    int c=is.read();
    while (c != -1) {
      bos.write(c);
      if (c == 10) {
        break;
      }
      c=is.read();
    }
    bos.flush();
    bos.close();
    String url=new String(baos.toByteArray());
    String[] params=url.split(StringPool.AMPERSAND);
    for (    String param : params) {
      String[] kvp=param.split(StringPool.EQUAL);
      String key=HttpUtil.decodeURL(kvp[0]);
      String value=StringPool.BLANK;
      if (kvp.length > 1) {
        value=HttpUtil.decodeURL(kvp[1]);
      }
      sharepointRequest.addParam(key,value);
    }
    c=is.read();
    baos=new ByteArrayOutputStream();
    bos=new BufferedOutputStream(baos);
    while (c != -1) {
      bos.write(c);
      c=is.read();
    }
    is.close();
    bos.flush();
    bos.close();
    sharepointRequest.setBytes(baos.toByteArray());
  }
 catch (  Exception e) {
    throw new SharepointException(e);
  }
}
