{
  String contentType=request.getContentType();
  if (!contentType.equals(SharepointUtil.VEERMER_URLENCODED)) {
    return;
  }
  try {
    List<String> linesList=FileUtil.toList(new InputStreamReader((request.getInputStream())));
    String url=linesList.get(0);
    String[] params=url.split(StringPool.AMPERSAND);
    for (    String param : params) {
      String[] kvp=param.split(StringPool.EQUAL);
      String name=HttpUtil.decodeURL(kvp[0]);
      String value=StringPool.BLANK;
      if (kvp.length > 1) {
        value=HttpUtil.decodeURL(kvp[1]);
      }
      sharepointRequest.addParam(name,value);
    }
    linesList.remove(0);
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    int i=0;
    for (    String line : linesList) {
      baos.write(line.getBytes());
      if (i < linesList.size()) {
        baos.write(StringPool.RETURN_NEW_LINE.getBytes());
      }
      i++;
    }
    sharepointRequest.setBytes(baos.toByteArray());
  }
 catch (  Exception e) {
    throw new SharepointException(e);
  }
}
