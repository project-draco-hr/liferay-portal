{
  try {
    long exportDate=System.currentTimeMillis();
    if (_log.isInfoEnabled()) {
      _log.info("Exporting LAR on " + new Date(exportDate));
    }
    prefs.setValue("last-export-date",String.valueOf(exportDate));
    prefs.store();
    String data=LARPlugin.class.getName() + " " + new Date(exportDate);
    if (_log.isInfoEnabled()) {
      _log.info("Exporting data " + data);
    }
    ZipWriter zipWriter=context.getZipWriter();
    if (zipWriter != null) {
      if (_log.isInfoEnabled()) {
        _log.info("Writing to zip");
      }
      zipWriter.addEntry(portletId + "/README.txt","test writing to zip");
    }
    return data;
  }
 catch (  Exception e) {
    throw new PortletDataException(e);
  }
}
