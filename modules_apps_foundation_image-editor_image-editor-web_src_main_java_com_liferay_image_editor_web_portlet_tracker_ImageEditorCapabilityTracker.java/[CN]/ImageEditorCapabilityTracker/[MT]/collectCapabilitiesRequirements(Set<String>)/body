{
  for (  String key : _serviceTrackerMap.keySet()) {
    List<ImageEditorCapability> imageEditorCapabilities=_serviceTrackerMap.getService(key);
    for (    ImageEditorCapability imageEditorCapability : imageEditorCapabilities) {
      Bundle capabilityBundle=FrameworkUtil.getBundle(imageEditorCapability.getClass());
      try {
        String moduleName=_getModuleName(capabilityBundle);
        List<URL> resourceURLs=_getResourceURLs(capabilityBundle);
        for (        URL resourceURL : resourceURLs) {
          String fullFileName=resourceURL.getFile();
          String fileName=_getJavaScriptFileName(fullFileName);
          requiredModules.add(moduleName.concat(StringPool.SLASH).concat(fileName));
        }
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
}
