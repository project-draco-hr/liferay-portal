{
  _group=GroupTestUtil.addGroup();
  Role role=RoleLocalServiceUtil.getRole(TestPropsValues.getCompanyId(),RoleConstants.SITE_ADMINISTRATOR);
  _user=UserTestUtil.addUser(null,_group.getGroupId());
  UserGroupRolePK userGroupRolePK=new UserGroupRolePK(_user.getUserId(),_group.getGroupId(),role.getRoleId());
  UserGroupRole userGroupRole=addUserGroupRole(userGroupRolePK);
  PortalCache<Serializable,Serializable> portalCache=EntityCacheUtil.getPortalCache(UserGroupRoleImpl.class);
  Serializable userGroupRoleCached=portalCache.get(userGroupRolePK);
  Assert.assertEquals(UserGroupRoleCacheModel.class,userGroupRoleCached.getClass());
  EntityCacheUtil.clearLocalCache();
  UserGroupRole userGroupRoleFetched=UserGroupRoleUtil.fetchByPrimaryKey(userGroupRolePK);
  Assert.assertEquals(userGroupRole,userGroupRoleFetched);
}
