{
  try {
    long ruleId=ParamUtil.getLong(renderRequest,"ruleId");
    MDRRule rule=MDRRuleServiceUtil.fetchRule(ruleId);
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE,rule);
    String type=BeanPropertiesUtil.getString(rule,"type");
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_TYPE,type);
    String editorJSP=ActionUtil.getRuleEditorJSPMethod.getEditorJSP(type);
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_EDITOR_JSP,editorJSP);
    long ruleGroupId=BeanParamUtil.getLong(rule,renderRequest,"ruleGroupId");
    MDRRuleGroup ruleGroup=MDRRuleGroupServiceUtil.getRuleGroup(ruleGroupId);
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_GROUP,ruleGroup);
    return "/edit_rule.jsp";
  }
 catch (  PortalException pe) {
    return "/error.jsp";
  }
}
