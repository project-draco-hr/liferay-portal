{
  try {
    try {
      CyrusUserUtil.remove(userId);
    }
 catch (    NoSuchCyrusUserException nscue) {
    }
    CyrusVirtualUtil.removeByUserId(userId);
    String deleteUserCmd=PropsUtil.get(PropsKeys.MAIL_HOOK_CYRUS_DELETE_USER);
    deleteUserCmd=StringUtil.replace(deleteUserCmd,"%1%",String.valueOf(userId));
    Runtime rt=Runtime.getRuntime();
    Process p=rt.exec(deleteUserCmd);
    ProcessUtil.close(p);
    String home=PropsUtil.get(PropsKeys.MAIL_HOOK_CYRUS_HOME);
    File file=new File(home + "/" + userId+ ".procmail.blocked");
    if (file.exists()) {
      file.delete();
    }
    file=new File(home + "/" + userId+ ".procmail.forward");
    if (file.exists()) {
      file.delete();
    }
    file=new File(home + "/" + userId+ ".vacation");
    if (file.exists()) {
      file.delete();
    }
    file=new File(home + "/" + userId+ ".vacation.cache");
    if (file.exists()) {
      file.delete();
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
