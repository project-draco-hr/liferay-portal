{
  Connection con=null;
  PreparedStatement ps=null;
  try {
    con=DataAccess.getUpgradeOptimizedConnection();
    StringBundler sb=new StringBundler(6);
    sb.append("delete from WorkflowDefinitionLink where classPk not ");
    sb.append("in(select ");
    sb.append(columnName);
    sb.append(" from ");
    sb.append(tableName);
    sb.append(StringPool.CLOSE_PARENTHESIS);
    ps=con.prepareStatement(sb.toString());
    ps.execute();
  }
  finally {
    DataAccess.cleanUp(con,ps,null);
  }
}
