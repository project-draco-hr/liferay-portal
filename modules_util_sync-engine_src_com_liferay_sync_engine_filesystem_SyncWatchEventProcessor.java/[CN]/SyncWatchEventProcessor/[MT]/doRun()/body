{
  SyncWatchEvent lastSyncWatchEvent=SyncWatchEventService.fetchLastSyncWatchEvent(_syncAccountId);
  if (lastSyncWatchEvent == null) {
    return;
  }
  long delta=System.currentTimeMillis() - lastSyncWatchEvent.getTimestamp();
  if (delta <= 500) {
    _inProgress=true;
    SyncEngineUtil.fireSyncEngineStateChanged(_syncAccountId,SyncEngineUtil.SYNC_ENGINE_STATE_PROCESSING);
    return;
  }
  if (_logger.isTraceEnabled()) {
    _logger.trace("Processing sync watch events");
  }
  _pendingTypePKSyncFileIds.clear();
  List<SyncWatchEvent> syncWatchEvents=SyncWatchEventService.findBySyncAccountId(_syncAccountId,"eventType",true);
  for (  SyncWatchEvent syncWatchEvent : syncWatchEvents) {
    processSyncWatchEvent(syncWatchEvent);
  }
  _inProgress=false;
  SyncEngineUtil.fireSyncEngineStateChanged(_syncAccountId,SyncEngineUtil.SYNC_ENGINE_STATE_PROCESSED);
  _processedSyncWatchEventIds.clear();
}
