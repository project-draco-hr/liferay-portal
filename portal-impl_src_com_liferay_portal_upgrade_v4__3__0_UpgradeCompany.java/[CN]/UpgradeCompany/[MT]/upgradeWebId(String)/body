{
  long companyId=CounterLocalServiceUtil.increment();
  for (int j=0; j < _TABLES.length; j++) {
    runSQL(getUpdateSQL(_TABLES[j],companyId,webId));
  }
  long accountId=CounterLocalServiceUtil.increment();
  runSQL("update Account_ set accountId = '" + accountId + "', companyId = '"+ companyId+ "' where accountId = '"+ webId+ "'");
  runSQL("update Address set classPK = '" + accountId + "' where classNameId = '"+ Account.class.getName()+ "' and classPK = '"+ webId+ "'");
  ValueMapper imageIdMapper=AvailableMappersUtil.getImageIdMapper();
  Long logoId=(Long)imageIdMapper.getNewValue(webId);
  runSQL("update Company set accountId = " + accountId + ", logoId = "+ logoId.longValue()+ " where webId = '"+ webId+ "'");
  runSQL("alter_column_type Company companyId LONG");
  runSQL("update Contact_ set companyId = '" + companyId + "', accountId = "+ accountId+ " where contactId = '"+ webId+ ".default'");
  runSQL("update Contact_ set accountId = '" + accountId + "' where accountId = '"+ webId+ "'");
  runSQL("update EmailAddress set classPK = '" + accountId + "' where classNameId = '"+ Account.class.getName()+ "' and classPK = '"+ webId+ "'");
  runSQL("update Phone set classPK = '" + accountId + "' where classNameId = '"+ Account.class.getName()+ "' and classPK = '"+ webId+ "'");
  runSQL("update PortletPreferences set ownerId = '" + companyId + "', ownerType = "+ PortletKeys.PREFS_OWNER_TYPE_COMPANY+ " where ownerId = 'COMPANY."+ webId+ "'");
  runSQL("update Resource_ set primKey = '" + companyId + "' where scope = 'company' and primKey = '"+ webId+ "'");
  runSQL("update User_ set companyId = '" + companyId + "', defaultUser = TRUE where userId = '"+ webId+ ".default'");
  runSQL("update Website set classPK = '" + accountId + "' where classNameId = '"+ Account.class.getName()+ "' and classPK = '"+ webId+ "'");
  return companyId;
}
