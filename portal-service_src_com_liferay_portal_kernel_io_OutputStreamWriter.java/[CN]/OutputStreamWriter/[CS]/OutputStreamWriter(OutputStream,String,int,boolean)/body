{
  if (outputBufferSize < 4) {
    throw new IllegalArgumentException("Output buffer size " + outputBufferSize + " is less than 4");
  }
  if (charsetName == null) {
    charsetName=StringPool.DEFAULT_CHARSET_NAME;
  }
  _outputStream=outputStream;
  _charsetName=charsetName;
  _charsetEncoder=CharsetEncoderUtil.getCharsetEncoder(charsetName);
  _outputBuffer=ByteBuffer.allocate(outputBufferSize);
  _autoFlush=autoFlush;
}
