{
  String resourceName=PortletConstants.getRootPortletId(portletId);
  String primaryKey=PortletPermissionUtil.getPrimaryKey(plid,portletId);
  Role guest=RoleLocalServiceUtil.getRole(companyId,RoleConstants.GUEST);
  Role siteMember=RoleLocalServiceUtil.getRole(companyId,RoleConstants.SITE_MEMBER);
  Role owner=RoleLocalServiceUtil.getRole(companyId,RoleConstants.OWNER);
  long[] roleIds=new long[]{guest.getRoleId(),siteMember.getRoleId(),owner.getRoleId()};
  for (  long roleId : roleIds) {
    ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,resourceName,ResourceConstants.SCOPE_INDIVIDUAL,primaryKey,roleId,new String[]{ActionKeys.VIEW});
  }
}
