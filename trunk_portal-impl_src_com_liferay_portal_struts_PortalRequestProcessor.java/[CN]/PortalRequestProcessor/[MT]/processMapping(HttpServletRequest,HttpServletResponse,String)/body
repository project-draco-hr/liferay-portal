{
  if (path == null) {
    return null;
  }
  Action action=StrutsActionRegistry.getAction(path);
  if (action != null) {
    ActionMapping actionMapping=(ActionMapping)moduleConfig.findActionConfig(path);
    if (actionMapping == null) {
      actionMapping=new ActionMapping();
      actionMapping.setModuleConfig(moduleConfig);
      actionMapping.setPath(path);
      request.setAttribute(Globals.MAPPING_KEY,actionMapping);
    }
    return actionMapping;
  }
  ActionMapping actionMapping=super.processMapping(request,response,path);
  if (actionMapping == null) {
    MessageResources messageResources=getInternal();
    String msg=messageResources.getMessage("processInvalid");
    _log.error("User ID " + request.getRemoteUser());
    _log.error("Current URL " + PortalUtil.getCurrentURL(request));
    _log.error("Referer " + request.getHeader("Referer"));
    _log.error("Remote address " + request.getRemoteAddr());
    _log.error(msg + " " + path);
  }
  return actionMapping;
}
