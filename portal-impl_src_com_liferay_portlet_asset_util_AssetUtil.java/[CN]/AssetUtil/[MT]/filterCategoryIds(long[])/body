{
  List<Long> viewableCategoryIds=new ArrayList<Long>();
  for (  long categoryId : categoryIds) {
    AssetCategory category=assetCategoryPersistence.fetchByPrimaryKey(categoryId);
    if ((category != null) && AssetCategoryPermission.contains(getPermissionChecker(),categoryId,ActionKeys.VIEW)) {
      viewableCategoryIds.add(categoryId);
    }
  }
  return ArrayUtil.toArray(viewableCategoryIds.toArray(new Long[viewableCategoryIds.size()]));
}
