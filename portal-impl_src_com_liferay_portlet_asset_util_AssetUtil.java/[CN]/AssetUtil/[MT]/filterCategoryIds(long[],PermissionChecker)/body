{
  List<Long> viewableCategoryIds=new ArrayList<Long>();
  for (  long categoryId : categoryIds) {
    AssetCategory category=AssetCategoryLocalServiceUtil.fetchCategory(categoryId);
    if ((category != null) && AssetCategoryPermission.contains(permissionChecker,categoryId,ActionKeys.VIEW)) {
      viewableCategoryIds.add(categoryId);
    }
  }
  return ArrayUtil.toArray(viewableCategoryIds.toArray(new Long[viewableCategoryIds.size()]));
}
