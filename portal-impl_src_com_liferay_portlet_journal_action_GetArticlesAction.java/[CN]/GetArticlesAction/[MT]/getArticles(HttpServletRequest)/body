{
  long companyId=PortalUtil.getCompanyId(request);
  long groupId=ParamUtil.getLong(request,"groupId");
  String articleId=null;
  Double version=null;
  String title=null;
  String description=null;
  String content=null;
  String type=ParamUtil.getString(request,"type");
  String[] structureIds=StringUtil.split(ParamUtil.getString(request,"structureId"));
  String[] templateIds=StringUtil.split(ParamUtil.getString(request,"templateId"));
  Date displayDateGT=null;
  String displayDateGTParam=ParamUtil.getString(request,"displayDateGT");
  if (Validator.isNotNull(displayDateGTParam)) {
    DateFormat displayDateGTFormat=DateUtil.getISOFormat(displayDateGTParam);
    displayDateGT=GetterUtil.getDate(displayDateGTParam,displayDateGTFormat);
  }
  if (_log.isDebugEnabled()) {
    _log.debug("displayDateGT is " + displayDateGT);
  }
  Date displayDateLT=null;
  String displayDateLTParam=ParamUtil.getString(request,"displayDateLT");
  if (Validator.isNotNull(displayDateLTParam)) {
    DateFormat displayDateLTFormat=DateUtil.getISOFormat(displayDateLTParam);
    displayDateLT=GetterUtil.getDate(displayDateLTParam,displayDateLTFormat);
  }
  if (displayDateLT == null) {
    displayDateLT=new Date();
  }
  if (_log.isDebugEnabled()) {
    _log.debug("displayDateLT is " + displayDateLT);
  }
  int status=WorkflowConstants.STATUS_APPROVED;
  Date reviewDate=null;
  boolean andOperator=true;
  int start=0;
  int end=ParamUtil.getInteger(request,"delta",5);
  String orderBy=ParamUtil.getString(request,"orderBy");
  String orderByCol=ParamUtil.getString(request,"orderByCol",orderBy);
  String orderByType=ParamUtil.getString(request,"orderByType");
  boolean orderByAsc=orderByType.equals("asc");
  OrderByComparator obc=new ArticleModifiedDateComparator(orderByAsc);
  if (orderByCol.equals("display-date")) {
    obc=new ArticleDisplayDateComparator(orderByAsc);
  }
  return JournalArticleServiceUtil.search(companyId,groupId,0,articleId,version,title,description,content,type,structureIds,templateIds,displayDateGT,displayDateLT,status,reviewDate,andOperator,start,end,obc);
}
