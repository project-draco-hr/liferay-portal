{
  SampleModel sampleModel=planarImage.getSampleModel();
  int height=planarImage.getHeight();
  int width=planarImage.getWidth();
  int numOfBands=sampleModel.getNumBands();
  int[] pixels=new int[height * width * numOfBands];
  Raster raster=planarImage.getData();
  raster.getPixels(0,0,width,height,pixels);
  int offset=0;
  for (int h=0; h < height; h++) {
    for (int w=0; w < width; w++) {
      offset=(h * width * numOfBands) + (w * numOfBands);
      System.out.print("[" + w + ", "+ h+ "] = ");
      for (int b=0; b < numOfBands; b++) {
        System.out.print(pixels[offset + b] + " ");
      }
    }
    System.out.println();
  }
}
