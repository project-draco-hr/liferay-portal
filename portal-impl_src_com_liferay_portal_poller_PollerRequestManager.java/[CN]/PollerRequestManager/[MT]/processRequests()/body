{
  MessageBusUtil.registerMessageListener(_responseDestination,this);
  try {
    for (    PollerRequest pollerRequest : _pollerRequests.values()) {
      Message message=new Message();
      message.setPayload(pollerRequest);
      message.setResponseDestinationName(_responseDestination);
      String responseId=PortalUUIDUtil.generate();
      message.setResponseId(responseId);
      _responseIds.put(responseId,responseId);
      MessageBusUtil.sendMessage(_destinationName,message);
    }
synchronized (this) {
      if (_responseCount != _pollerRequests.size()) {
        try {
          this.wait(_timeout);
        }
 catch (        InterruptedException e) {
        }
      }
    }
  }
  finally {
    MessageBusUtil.unregisterMessageListener(_responseDestination,this);
  }
}
