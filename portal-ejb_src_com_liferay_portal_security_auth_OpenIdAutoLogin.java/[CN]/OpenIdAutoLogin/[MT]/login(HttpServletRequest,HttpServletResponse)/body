{
  HttpSession ses=req.getSession();
  String[] credentials=null;
  Long userId=(Long)ses.getAttribute(WebKeys.OPEN_ID_LOGIN);
  if (userId == null) {
    return credentials;
  }
  ses.removeAttribute(WebKeys.OPEN_ID_LOGIN);
  try {
    User user=UserLocalServiceUtil.getUserById(userId.longValue());
    credentials=new String[3];
    credentials[0]=String.valueOf(user.getUserId());
    credentials[1]=user.getPassword();
    credentials[2]=Boolean.TRUE.toString();
  }
 catch (  Exception e) {
    _log.error(e.getMessage());
  }
  return credentials;
}
