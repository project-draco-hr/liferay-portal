{
  Session session=null;
  try {
    if (shoppingCart.isNew() || shoppingCart.isModified()) {
      session=openSession();
      if (shoppingCart.isNew()) {
        ShoppingCartHBM shoppingCartHBM=new ShoppingCartHBM();
        shoppingCartHBM.setCartId(shoppingCart.getCartId());
        shoppingCartHBM.setGroupId(shoppingCart.getGroupId());
        shoppingCartHBM.setCompanyId(shoppingCart.getCompanyId());
        shoppingCartHBM.setUserId(shoppingCart.getUserId());
        shoppingCartHBM.setUserName(shoppingCart.getUserName());
        shoppingCartHBM.setCreateDate(shoppingCart.getCreateDate());
        shoppingCartHBM.setModifiedDate(shoppingCart.getModifiedDate());
        shoppingCartHBM.setItemIds(shoppingCart.getItemIds());
        shoppingCartHBM.setCouponIds(shoppingCart.getCouponIds());
        shoppingCartHBM.setAltShipping(shoppingCart.getAltShipping());
        shoppingCartHBM.setInsure(shoppingCart.getInsure());
        session.save(shoppingCartHBM);
        session.flush();
      }
 else {
        ShoppingCartHBM shoppingCartHBM=(ShoppingCartHBM)session.get(ShoppingCartHBM.class,shoppingCart.getPrimaryKey());
        if (shoppingCartHBM != null) {
          shoppingCartHBM.setGroupId(shoppingCart.getGroupId());
          shoppingCartHBM.setCompanyId(shoppingCart.getCompanyId());
          shoppingCartHBM.setUserId(shoppingCart.getUserId());
          shoppingCartHBM.setUserName(shoppingCart.getUserName());
          shoppingCartHBM.setCreateDate(shoppingCart.getCreateDate());
          shoppingCartHBM.setModifiedDate(shoppingCart.getModifiedDate());
          shoppingCartHBM.setItemIds(shoppingCart.getItemIds());
          shoppingCartHBM.setCouponIds(shoppingCart.getCouponIds());
          shoppingCartHBM.setAltShipping(shoppingCart.getAltShipping());
          shoppingCartHBM.setInsure(shoppingCart.getInsure());
          session.flush();
        }
 else {
          shoppingCartHBM=new ShoppingCartHBM();
          shoppingCartHBM.setCartId(shoppingCart.getCartId());
          shoppingCartHBM.setGroupId(shoppingCart.getGroupId());
          shoppingCartHBM.setCompanyId(shoppingCart.getCompanyId());
          shoppingCartHBM.setUserId(shoppingCart.getUserId());
          shoppingCartHBM.setUserName(shoppingCart.getUserName());
          shoppingCartHBM.setCreateDate(shoppingCart.getCreateDate());
          shoppingCartHBM.setModifiedDate(shoppingCart.getModifiedDate());
          shoppingCartHBM.setItemIds(shoppingCart.getItemIds());
          shoppingCartHBM.setCouponIds(shoppingCart.getCouponIds());
          shoppingCartHBM.setAltShipping(shoppingCart.getAltShipping());
          shoppingCartHBM.setInsure(shoppingCart.getInsure());
          session.save(shoppingCartHBM);
          session.flush();
        }
      }
      shoppingCart.setNew(false);
      shoppingCart.setModified(false);
    }
    return shoppingCart;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
