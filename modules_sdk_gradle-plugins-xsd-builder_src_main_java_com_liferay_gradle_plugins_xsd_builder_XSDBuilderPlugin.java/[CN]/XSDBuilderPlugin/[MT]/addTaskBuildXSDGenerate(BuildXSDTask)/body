{
  Project project=buildXSDTask.getProject();
  JavaExec javaExec=GradleUtil.addTask(project,buildXSDTask.getName() + "Generate",JavaExec.class);
  File tmpSrcDir=new File(project.getBuildDir(),buildXSDTask.getName() + "/src");
  javaExec.args("-d");
  javaExec.args(FileUtil.getAbsolutePath(tmpSrcDir));
  javaExec.args("-srconly");
  Iterable<File> xsdFiles=buildXSDTask.getInputFiles();
  for (  File xsdFile : xsdFiles) {
    javaExec.args(FileUtil.getAbsolutePath(xsdFile));
  }
  javaExec.dependsOn(BasePlugin.CLEAN_TASK_NAME + StringUtil.capitalize(javaExec.getName()));
  javaExec.setClasspath(GradleUtil.getConfiguration(project,CONFIGURATION_NAME));
  javaExec.setMain("org.apache.xmlbeans.impl.tool.SchemaCompiler");
  TaskInputs taskInputs=javaExec.getInputs();
  taskInputs.files(xsdFiles);
  TaskOutputs taskOutputs=javaExec.getOutputs();
  taskOutputs.dir(tmpSrcDir);
  return javaExec;
}
