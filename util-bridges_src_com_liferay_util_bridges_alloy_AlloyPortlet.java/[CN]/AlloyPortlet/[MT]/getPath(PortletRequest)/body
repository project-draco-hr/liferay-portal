{
  LiferayPortletConfig liferayPortletConfig=(LiferayPortletConfig)portletRequest.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
  Portlet portlet=liferayPortletConfig.getPortlet();
  String controllerPath=ParamUtil.getString(portletRequest,"controller");
  if (Validator.isNull(controllerPath)) {
    Map<String,String> defaultRouteParameters=getDefaultRouteParameters();
    controllerPath=defaultRouteParameters.get("controller");
  }
  return "/WEB-INF/jsp/" + portlet.getFriendlyURLMapping() + "/controllers/"+ controllerPath+ "_controller.jsp";
}
