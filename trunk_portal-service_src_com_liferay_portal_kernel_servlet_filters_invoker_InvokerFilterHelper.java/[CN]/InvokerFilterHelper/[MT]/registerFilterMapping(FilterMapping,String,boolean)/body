{
  int i=0;
  if (Validator.isNotNull(filterName)) {
    Filter filter=_filters.get(filterName);
    if (filter != null) {
      for (; i < _filterMappings.size(); i++) {
        FilterMapping currentFilterMapping=_filterMappings.get(i);
        if (currentFilterMapping.getFilter() == filter) {
          break;
        }
      }
    }
  }
  if (after) {
    i++;
  }
  _filterMappings.add(i,filterMapping);
  for (  InvokerFilter invokerFilter : _invokerFilters) {
    invokerFilter.clearFilterChainsCache();
  }
}
