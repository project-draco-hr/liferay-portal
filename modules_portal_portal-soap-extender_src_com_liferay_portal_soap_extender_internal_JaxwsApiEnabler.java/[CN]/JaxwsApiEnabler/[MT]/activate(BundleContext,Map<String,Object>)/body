{
  JaxWsApiConfiguration configuration=Configurable.createConfigurable(JaxWsApiConfiguration.class,properties);
  String contextPath=configuration.contextPath();
  Filter filter=bundleContext.createFilter("(&(objectClass=org.apache.cxf.Bus)(" + HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_PATH + "="+ contextPath+ "))");
  _busServiceTracker=new ServiceTracker<>(bundleContext,filter,null);
  _busServiceTracker.open();
  Bus bus=_busServiceTracker.waitForService(configuration.timeout());
  if (bus != null) {
    BusFactory.setDefaultBus(bus);
    ProviderImpl providerImpl=new ProviderImpl();
    _providerServiceRegistration=bundleContext.registerService(Provider.class,providerImpl,null);
  }
}
