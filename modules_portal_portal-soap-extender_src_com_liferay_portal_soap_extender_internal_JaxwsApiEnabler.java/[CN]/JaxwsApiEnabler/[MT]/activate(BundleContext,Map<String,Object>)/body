{
  JaxWsApiConfiguration jaxWsApiConfiguration=Configurable.createConfigurable(JaxWsApiConfiguration.class,properties);
  String contextPath=jaxWsApiConfiguration.contextPath();
  Filter filter=bundleContext.createFilter("(&(objectClass=org.apache.cxf.Bus)(" + HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_PATH + "="+ contextPath+ "))");
  _serviceTracker=new ServiceTracker<>(bundleContext,filter,null);
  _serviceTracker.open();
  Bus bus=_serviceTracker.waitForService(jaxWsApiConfiguration.timeout());
  if (bus != null) {
    BusFactory.setDefaultBus(bus);
    ProviderImpl providerImpl=new ProviderImpl();
    _serviceRegistration=bundleContext.registerService(Provider.class,providerImpl,null);
  }
}
