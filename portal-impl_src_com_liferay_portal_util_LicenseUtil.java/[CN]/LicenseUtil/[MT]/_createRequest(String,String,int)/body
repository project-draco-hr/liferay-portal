{
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  jsonObject.put("version",2);
  jsonObject.put("orderUuid",orderUuid);
  jsonObject.put("liferayVersion",ReleaseInfo.getBuildNumber());
  if (Validator.isNull(productEntryName)) {
    jsonObject.put(Constants.CMD,"QUERY");
  }
 else {
    jsonObject.put(Constants.CMD,"REGISTER");
    if (productEntryName.startsWith("basic")) {
      jsonObject.put("productEntryName","basic");
      if (productEntryName.equals("basic-cluster")) {
        jsonObject.put("cluster",true);
        jsonObject.put("maxServers",maxServers);
      }
 else       if (productEntryName.startsWith("basic-")) {
        String[] productNameArray=StringUtil.split(productEntryName,StringPool.DASH);
        if (productNameArray.length >= 3) {
          jsonObject.put("offeringEntryId",productNameArray[1]);
          jsonObject.put("clusterId",productNameArray[2]);
        }
      }
    }
 else {
      jsonObject.put("productEntryName",productEntryName);
    }
    jsonObject.put("hostName",PortalUtil.getComputerName());
    jsonObject.put("ipAddresses",StringUtil.merge(getIpAddresses()));
    jsonObject.put("macAddresses",StringUtil.merge(getMacAddresses()));
    jsonObject.put("serverId",Arrays.toString(getServerIdBytes()));
  }
  return jsonObject;
}
