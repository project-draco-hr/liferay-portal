{
  if (!MBUtil.isDefaultParentCategoryId(parentCategoryId) && !MBUtil.isDiscussionCategoryId(parentCategoryId)) {
    MBCategory parentCategory=mbCategoryPersistence.fetchByPrimaryKey(parentCategoryId);
    if ((parentCategory == null) || (groupId != parentCategory.getGroupId())) {
      parentCategoryId=MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID;
    }
  }
  return parentCategoryId;
}
