{
  for (  Object object : mbCategoriesAndThreads) {
    if (object instanceof MBThread) {
      MBThread thread=(MBThread)object;
      if ((status == WorkflowConstants.STATUS_APPROVED) && (thread.getStatus() == WorkflowConstants.STATUS_IN_TRASH)) {
        continue;
      }
      mbThreadLocalService.updateStatus(user.getUserId(),thread.getThreadId(),status,status);
    }
 else     if (object instanceof MBCategory) {
      MBCategory category=(MBCategory)object;
      if (category.isInTrash()) {
        continue;
      }
      List<Object> categoriesAndThreads=getCategoriesAndThreads(category.getGroupId(),category.getCategoryId());
      updateStatuses(user,categoriesAndThreads,status);
    }
  }
}
