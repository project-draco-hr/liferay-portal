{
  List<MBCategory> categories=mbCategoryPersistence.findByCompanyId(companyId,categoryStart,categoryEnd);
  for (  MBCategory category : categories) {
    long categoryId=category.getCategoryId();
    int messageCount=mbMessagePersistence.countByCategoryId(categoryId);
    int messagePages=messageCount / Indexer.DEFAULT_INTERVAL;
    for (int i=0; i <= messagePages; i++) {
      int messageStart=(i * Indexer.DEFAULT_INTERVAL);
      int messageEnd=messageStart + Indexer.DEFAULT_INTERVAL;
      reIndexMessages(categoryId,messageStart,messageEnd);
    }
  }
}
