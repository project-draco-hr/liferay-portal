{
  List<MBCategory> categories=mbCategoryPersistence.findByCompanyId(companyId,categoryStart,categoryEnd);
  for (  MBCategory category : categories) {
    long groupId=category.getGroupId();
    long categoryId=category.getCategoryId();
    int messageCount=mbMessagePersistence.countByG_C(groupId,categoryId);
    int messagePages=messageCount / Indexer.DEFAULT_INTERVAL;
    for (int i=0; i <= messagePages; i++) {
      int messageStart=(i * Indexer.DEFAULT_INTERVAL);
      int messageEnd=messageStart + Indexer.DEFAULT_INTERVAL;
      reIndexMessages(groupId,categoryId,messageStart,messageEnd);
    }
  }
}
