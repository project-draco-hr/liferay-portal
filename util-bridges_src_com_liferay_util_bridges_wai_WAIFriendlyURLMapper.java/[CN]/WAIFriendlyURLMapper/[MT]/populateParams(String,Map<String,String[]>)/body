{
  int x=friendlyURLPath.indexOf(_MAPPING);
  int y=friendlyURLPath.indexOf("/",x + _MAPPING.length() + 1);
  if (x == -1) {
    return;
  }
  String prefix=friendlyURLPath.substring(x + _MAPPING.length() + 1,y);
  String portletId=prefix + PortletConstants.WAR_SEPARATOR + prefix;
  params.put("p_p_id",new String[]{portletId});
  params.put("p_p_lifecycle",new String[]{"0"});
  if (hasBinaryExtension(friendlyURLPath)) {
    params.put("p_p_state",new String[]{LiferayWindowState.EXCLUSIVE.toString()});
  }
 else {
    params.put("p_p_state",new String[]{WindowState.MAXIMIZED.toString()});
  }
  params.put("p_p_mode",new String[]{PortletMode.VIEW.toString()});
  String namespace=PortalUtil.getPortletNamespace(portletId);
  String path=friendlyURLPath.substring(y);
  params.put(namespace + "appURL",new String[]{path});
}
