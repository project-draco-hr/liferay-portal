{
  PortalClassLoaderUtil.setClassLoader(getClass().getClassLoader());
  RPCDatagramReceiveHandler rpcDatagramReceiveHandler=new RPCDatagramReceiveHandler();
  MockIntraBand mockIntraBand=new MockIntraBand();
  Serializer serializer=new Serializer();
  serializer.writeObject(new TestProcessCallable());
  SystemDataType systemDataType=SystemDataType.RPC;
  rpcDatagramReceiveHandler.doReceive(new MockRegistrationReference(mockIntraBand),Datagram.createRequestDatagram(systemDataType.getValue(),serializer.toByteBuffer()));
  Datagram responseDatagram=mockIntraBand.getDatagram();
  Deserializer deserializer=new Deserializer(responseDatagram.getDataByteBuffer());
  Assert.assertEquals(TestProcessCallable.class.getName(),deserializer.readObject());
}
