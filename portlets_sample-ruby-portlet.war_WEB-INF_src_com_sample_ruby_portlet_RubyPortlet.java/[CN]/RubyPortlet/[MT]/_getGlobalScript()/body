{
  StringBuffer script=new StringBuffer();
  for (int i=0; i < globalFiles.length; i++) {
    InputStream is=getPortletContext().getResourceAsStream(globalFiles[i]);
    if (is == null) {
      _log.warn("Global file '" + globalFiles[i] + "' not found");
    }
    try {
      script.append(_readAll(is));
    }
  finally {
      is.close();
    }
  }
  return script.toString();
}
