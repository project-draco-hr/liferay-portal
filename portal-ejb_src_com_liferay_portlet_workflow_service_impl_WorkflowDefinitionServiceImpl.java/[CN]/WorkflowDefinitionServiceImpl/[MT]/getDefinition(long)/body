{
  try {
    long companyId=getUser().getCompanyId();
    String repositoryId=CompanyImpl.SYSTEM_STRING;
    String dirName="workflow/definitions";
    String fileName=dirName + "/" + definitionId+ ".xml";
    String xml=new String(DLServiceUtil.getFile(companyId,repositoryId,fileName));
    WorkflowDefinition definition=(WorkflowDefinition)WorkflowComponentServiceUtil.getDefinition(definitionId);
    definition.setXml(xml);
    return definition;
  }
 catch (  NoSuchFileException nsfe) {
    throw new NoSuchDefinitionException();
  }
catch (  RemoteException re) {
    throw new SystemException(re);
  }
}
