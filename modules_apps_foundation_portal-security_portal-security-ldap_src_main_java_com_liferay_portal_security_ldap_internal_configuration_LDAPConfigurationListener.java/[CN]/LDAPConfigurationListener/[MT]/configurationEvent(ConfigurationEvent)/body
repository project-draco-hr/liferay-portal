{
  String factoryPid=configurationEvent.getFactoryPid();
  if (Validator.isNull(factoryPid) || !_configurationProviders.containsKey(factoryPid)) {
    return;
  }
  ConfigurationProvider<?> configurationProvider=_configurationProviders.get(factoryPid);
  try {
    Configuration configuration=_configurationAdmin.getConfiguration(configurationEvent.getPid(),StringPool.QUESTION);
    if (configurationEvent.getType() == ConfigurationEvent.CM_DELETED) {
      configurationProvider.unregisterConfiguration(configuration);
    }
 else {
      configurationProvider.registerConfiguration(configuration);
    }
  }
 catch (  IOException ioe) {
    throw new SystemException("Unable to load configuration " + configurationEvent.getPid(),ioe);
  }
}
