{
  try {
    if (Validator.isNotNull(PropsValues.JPA_LOAD_TIME_WEAVER)) {
      Class<?> loadTimeWeaverClass=Class.forName(PropsValues.JPA_LOAD_TIME_WEAVER);
      LoadTimeWeaver loadTimeWeaver=(LoadTimeWeaver)loadTimeWeaverClass.newInstance();
      setLoadTimeWeaver(loadTimeWeaver);
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
    throw new RuntimeException(e);
  }
  setPersistenceXmlLocation("classpath*:META-INF/persistence-custom.xml");
  PersistenceUnitPostProcessor[] persistenceUnitPostProcessors={new LiferayPersistenceUnitPostProcessor()};
  setPersistenceUnitPostProcessors(persistenceUnitPostProcessors);
}
