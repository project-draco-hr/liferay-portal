{
  String dbPlatform=null;
  String pkg=null;
  boolean eclipselink=false;
  if ("EclipseLink".equalsIgnoreCase(provider)) {
    pkg="org.eclipse.persistence.platform.database.";
    eclipselink=true;
  }
 else {
    pkg="oracle.toplink.essentials.platform.database.";
  }
  if (dbType.equals(Database.DB2)) {
    dbPlatform=pkg + "DB2Platform";
  }
 else   if (dbType.equals(Database.DERBY)) {
    dbPlatform=pkg + "DerbyPlatform";
  }
 else   if (dbType.equals(Database.HSQL)) {
    dbPlatform=pkg + "HSQLPlatform";
  }
 else   if (dbType.equals(Database.INFORMIX)) {
    dbPlatform=pkg + "InformixPlatform";
  }
 else   if (dbType.equals(Database.MYSQL)) {
    if (eclipselink) {
      dbPlatform=pkg + "MySQLPlatform";
    }
 else {
      dbPlatform=pkg + "MySQL4Platform";
    }
  }
 else   if (dbType.equals(Database.ORACLE)) {
    if (eclipselink) {
      dbPlatform=pkg + "OraclePlatform";
    }
 else {
      dbPlatform=pkg + "oracle.OraclePlatform";
    }
  }
 else   if (dbType.equals(Database.POSTGRESQL)) {
    dbPlatform=pkg + "PostgreSQLPlatform";
  }
 else   if (dbType.equals(Database.SQL_SERVER)) {
    dbPlatform=pkg + "SQLServerPlatform";
  }
 else   if (dbType.equals(Database.SYBASE)) {
    dbPlatform=pkg + "SybasePlatform";
  }
 else {
    _log.error("Unable to detect database platform for  \"" + dbType.toString() + "\". Override using \"jpa.provider.database\" property.");
  }
  return dbPlatform;
}
