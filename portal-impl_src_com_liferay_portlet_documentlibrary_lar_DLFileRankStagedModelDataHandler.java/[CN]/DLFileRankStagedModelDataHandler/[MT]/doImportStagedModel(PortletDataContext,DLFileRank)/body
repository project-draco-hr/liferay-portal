{
  String fileEntryPath=ExportImportPathUtil.getModelPath(portletDataContext,DLFileEntry.class.getName(),fileRank.getFileEntryId());
  DLFileEntry dlFileEntry=(DLFileEntry)portletDataContext.getZipEntryAsObject(fileEntryPath);
  StagedModelDataHandlerUtil.importStagedModel(portletDataContext,dlFileEntry);
  long userId=portletDataContext.getUserId(fileRank.getUserUuid());
  Map<Long,Long> fileEntryIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(DLFileEntry.class);
  long fileEntryId=MapUtil.getLong(fileEntryIds,fileRank.getFileEntryId(),fileRank.getFileEntryId());
  if (DLFileEntryLocalServiceUtil.fetchDLFileEntry(fileEntryId) == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to retrieve file to import file rank");
    }
    return;
  }
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setCreateDate(fileRank.getCreateDate());
  DLAppLocalServiceUtil.updateFileRank(portletDataContext.getScopeGroupId(),portletDataContext.getCompanyId(),userId,fileEntryId,serviceContext);
}
