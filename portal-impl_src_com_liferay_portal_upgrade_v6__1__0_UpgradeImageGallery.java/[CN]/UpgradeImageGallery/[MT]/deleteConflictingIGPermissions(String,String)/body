{
  String selectSQL="select companyId, scope, primKey, roleId from " + "ResourcePermission where name = ?";
  String deleteSQL="delete from ResourcePermission where name = ? and companyId = ? " + "and scope = ? and primKey = ? and roleId = ?";
  try (Connection con=DataAccess.getUpgradeOptimizedConnection();PreparedStatement ps1=con.prepareStatement(selectSQL);ResultSet rs=ps1.executeQuery()){
    ps1.setString(1,igResourceName);
    try (PreparedStatement ps2=AutoBatchPreparedStatementUtil.autoBatch(con.prepareStatement(deleteSQL))){
      while (rs.next()) {
        ps2.setString(1,dlResourceName);
        ps2.setLong(2,rs.getLong("companyId"));
        ps2.setInt(3,rs.getInt("scope"));
        ps2.setString(4,rs.getString("primKey"));
        ps2.setLong(5,rs.getLong("roleId"));
        ps2.addBatch();
      }
      ps2.executeBatch();
    }
   }
 }
