{
  if (expandoAttributes.isEmpty()) {
    return;
  }
  Map<String,Serializable> serializedExpandoAttributes=new HashMap<String,Serializable>();
  for (  Map.Entry<String,String[]> expandoAttribute : expandoAttributes.entrySet()) {
    String name=expandoAttribute.getKey();
    if (!expandoBridge.hasAttribute(name)) {
      continue;
    }
    int type=expandoBridge.getAttributeType(name);
    Serializable value=ExpandoConverterUtil.getAttributeFromStringArray(type,expandoAttribute.getValue());
    serializedExpandoAttributes.put(name,value);
  }
  try {
    ExpandoValueLocalServiceUtil.addValues(expandoBridge.getCompanyId(),expandoBridge.getClassName(),ExpandoTableConstants.DEFAULT_TABLE_NAME,expandoBridge.getClassPK(),serializedExpandoAttributes);
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to populate expando attributes");
    }
    if (_log.isDebugEnabled()) {
      _log.debug(e,e);
    }
  }
}
