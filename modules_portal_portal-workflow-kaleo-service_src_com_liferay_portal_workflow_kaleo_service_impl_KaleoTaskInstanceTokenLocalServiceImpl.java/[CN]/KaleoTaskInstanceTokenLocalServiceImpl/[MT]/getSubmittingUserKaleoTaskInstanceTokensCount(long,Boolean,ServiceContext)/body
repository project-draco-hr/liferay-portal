{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(KaleoTaskInstanceToken.class,getClassLoader());
  Property companyIdProperty=PropertyFactoryUtil.forName("companyId");
  dynamicQuery.add(companyIdProperty.eq(serviceContext.getCompanyId()));
  Property workflowContextProperty=PropertyFactoryUtil.forName("workflowContext");
  dynamicQuery.add(workflowContextProperty.like("%\"userId\":\"" + userId + "\"%"));
  addCompletedCriterion(dynamicQuery,completed);
  return (int)dynamicQueryCount(dynamicQuery);
}
