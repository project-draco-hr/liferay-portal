{
  if (!PropsValues.STAGING_LOCK_ENABLED) {
    return;
  }
  if (LockLocalServiceUtil.isLocked(Staging.class.getName(),targetGroupId)) {
    Lock lock=LockLocalServiceUtil.getLock(Staging.class.getName(),targetGroupId);
    throw new DuplicateLockException(lock);
  }
 else {
    LockLocalServiceUtil.lock(userId,Staging.class.getName(),String.valueOf(targetGroupId),StagingImpl.class.getName(),false,StagingConstants.LOCK_EXPIRATION_TIME);
  }
}
