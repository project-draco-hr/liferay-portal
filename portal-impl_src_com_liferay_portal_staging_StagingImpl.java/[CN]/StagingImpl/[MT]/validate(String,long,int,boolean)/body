{
  RemoteOptionsException roe=null;
  if (!Validator.isDomain(remoteAddress) && !Validator.isIPAddress(remoteAddress)) {
    roe=new RemoteOptionsException(RemoteOptionsException.REMOTE_ADDRESS);
    roe.setRemoteAddress(remoteAddress);
    throw roe;
  }
  if ((remotePort < 1) || (remotePort > 65535)) {
    roe=new RemoteOptionsException(RemoteOptionsException.REMOTE_PORT);
    roe.setRemotePort(remotePort);
    throw roe;
  }
  if (remoteGroupId <= 0) {
    roe=new RemoteOptionsException(RemoteOptionsException.REMOTE_GROUP_ID);
    roe.setRemoteGroupId(remoteGroupId);
    throw roe;
  }
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  User user=UserLocalServiceUtil.getUser(permissionChecker.getUserId());
  String url=buildRemoteURL(remoteAddress,remotePort,secureConnection,GroupConstants.DEFAULT_LIVE_GROUP_ID,false);
  HttpPrincipal httpPrincipal=new HttpPrincipal(url,user.getEmailAddress(),user.getPassword(),user.getPasswordEncrypted());
  try {
    GroupServiceHttp.getGroup(httpPrincipal,remoteGroupId);
  }
 catch (  NoSuchGroupException nsge) {
    RemoteExportException ree=new RemoteExportException(RemoteExportException.NO_GROUP);
    ree.setGroupId(remoteGroupId);
    throw ree;
  }
catch (  PrincipalException pe) {
    RemoteExportException ree=new RemoteExportException(RemoteExportException.NO_PERMISSIONS);
    ree.setGroupId(remoteGroupId);
    throw ree;
  }
catch (  SystemException se) {
    RemoteExportException ree=new RemoteExportException(RemoteExportException.BAD_CONNECTION);
    ree.setURL(url);
    throw ree;
  }
}
