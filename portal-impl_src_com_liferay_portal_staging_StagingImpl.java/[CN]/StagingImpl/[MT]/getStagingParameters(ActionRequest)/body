{
  Map<String,String[]> parameterMap=new LinkedHashMap<String,String[]>(actionRequest.getParameterMap());
  if (!parameterMap.containsKey(PortletDataHandlerKeys.DATA_STRATEGY)) {
    parameterMap.put(PortletDataHandlerKeys.DATA_STRATEGY,new String[]{PortletDataHandlerKeys.DATA_STRATEGY_MIRROR});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS)) {
    parameterMap.put(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS,new String[]{Boolean.TRUE.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.DELETE_PORTLET_DATA)) {
    parameterMap.put(PortletDataHandlerKeys.DELETE_PORTLET_DATA,new String[]{Boolean.FALSE.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.PORTLET_DATA)) {
    parameterMap.put(PortletDataHandlerKeys.PORTLET_DATA,new String[]{Boolean.FALSE.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.PORTLET_DATA_ALL)) {
    Boolean portletDataAll=Boolean.FALSE;
    if (MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA)) {
      portletDataAll=Boolean.TRUE;
    }
    parameterMap.put(PortletDataHandlerKeys.PORTLET_DATA_ALL,new String[]{portletDataAll.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.PORTLET_SETUP)) {
    parameterMap.put(PortletDataHandlerKeys.PORTLET_SETUP,new String[]{Boolean.TRUE.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.PORTLET_USER_PREFERENCES)) {
    parameterMap.put(PortletDataHandlerKeys.PORTLET_USER_PREFERENCES,new String[]{Boolean.TRUE.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.THEME)) {
    parameterMap.put(PortletDataHandlerKeys.THEME,new String[]{Boolean.FALSE.toString()});
  }
  if (!parameterMap.containsKey(PortletDataHandlerKeys.USER_ID_STRATEGY)) {
    parameterMap.put(PortletDataHandlerKeys.USER_ID_STRATEGY,new String[]{UserIdStrategy.CURRENT_USER_ID});
  }
  return parameterMap;
}
