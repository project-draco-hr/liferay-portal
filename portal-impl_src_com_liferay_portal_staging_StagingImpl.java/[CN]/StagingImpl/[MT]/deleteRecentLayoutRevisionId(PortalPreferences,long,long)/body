{
  String oldPortalPreferences=portalPreferences.getValue(Staging.class.getName(),StagingConstants.STAGING_RECENT_LAYOUT_IDS_MAP);
  try {
    JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
    JSONArray oldJsonArray=JSONFactoryUtil.createJSONArray(oldPortalPreferences);
    String recentLayoutRevisionIdKey=getRecentLayoutRevisionIdKey(layoutSetBranchId,plid);
    for (int i=0; i < oldJsonArray.length(); i++) {
      JSONObject jsonObject=oldJsonArray.getJSONObject(i);
      if (Validator.isNotNull(jsonObject.getString(recentLayoutRevisionIdKey))) {
        continue;
      }
      jsonArray.put(jsonObject);
    }
    portalPreferences.setValue(Staging.class.getName(),StagingConstants.STAGING_RECENT_LAYOUT_IDS_MAP,jsonArray.toString());
  }
 catch (  JSONException jsone) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to delete recent layout revision ID with layout " + "set branch " + layoutSetBranchId + " and PLID "+ plid,jsone);
    }
  }
}
