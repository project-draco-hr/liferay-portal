{
  String recentLayoutBranchIdKey=getRecentLayoutBranchIdKey(layoutSetBranchId,plid);
  String preferencesString=portalPreferences.getValue(Staging.class.getName(),"ATTRIBUTE_MAP");
  try {
    JSONArray jsonArray=JSONFactoryUtil.createJSONArray(preferencesString);
    for (int i=0; i < jsonArray.length(); i++) {
      JSONObject jsonObject=jsonArray.getJSONObject(i);
      if (jsonObject.has(recentLayoutBranchIdKey)) {
        return GetterUtil.getLong(jsonObject.getString(recentLayoutBranchIdKey));
      }
    }
  }
 catch (  JSONException je) {
    _log.warn("Staging preferences are not in JSON format");
  }
  return 0;
}
