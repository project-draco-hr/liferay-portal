{
  long layoutRevisionId=GetterUtil.getLong(portalPreferences.getValue(Staging.class.getName(),getRecentLayoutRevisionIdKey(layoutSetBranchId,plid)));
  if (layoutRevisionId > 0) {
    return layoutRevisionId;
  }
  String variationName=getRecentVariationName(portalPreferences,layoutSetBranchId,plid);
  try {
    LayoutRevision layoutRevision=LayoutRevisionLocalServiceUtil.getLayoutRevision(layoutSetBranchId,plid,variationName);
    if (layoutRevision != null) {
      layoutRevisionId=layoutRevision.getLayoutRevisionId();
    }
  }
 catch (  PortalException pe) {
  }
  return layoutRevisionId;
}
