{
  Group liveGroup=GroupLocalServiceUtil.getGroup(liveGroupId);
  validate(remoteAddress,remoteGroupId,remotePort,secureConnection);
  if (liveGroup.hasStagingGroup()) {
    disableStaging(scopeGroupId,liveGroupId,serviceContext);
  }
  UnicodeProperties typeSettingsProperties=liveGroup.getTypeSettingsProperties();
  typeSettingsProperties.setProperty("branching-public",String.valueOf(branchingPublic));
  typeSettingsProperties.setProperty("branching-private",String.valueOf(branchingPrivate));
  typeSettingsProperties.setProperty("locking-public",String.valueOf(lockingPublic));
  typeSettingsProperties.setProperty("locking-private",String.valueOf(lockingPrivate));
  typeSettingsProperties.setProperty("remoteAddress",remoteAddress);
  typeSettingsProperties.setProperty("remoteGroupId",String.valueOf(remoteGroupId));
  typeSettingsProperties.setProperty("remotePort",String.valueOf(remotePort));
  typeSettingsProperties.setProperty("secureConnection",String.valueOf(secureConnection));
  typeSettingsProperties.setProperty("staged",Boolean.TRUE.toString());
  typeSettingsProperties.setProperty("stagedRemotely",Boolean.TRUE.toString());
  setCommonStagingOptions(liveGroup,typeSettingsProperties,serviceContext);
  GroupLocalServiceUtil.updateGroup(liveGroup.getGroupId(),typeSettingsProperties.toString());
  if (branchingPublic) {
    LayoutSetBranchLocalServiceUtil.addLayoutSetBranch(serviceContext.getUserId(),liveGroup.getGroupId(),false,LayoutSetBranchConstants.MASTER_BRANCH_NAME,LayoutSetBranchConstants.MASTER_BRANCH_NAME.concat(" branch of ").concat(liveGroup.getDescriptiveName()),serviceContext);
  }
  if (branchingPrivate) {
    LayoutSetBranchLocalServiceUtil.addLayoutSetBranch(serviceContext.getUserId(),liveGroup.getGroupId(),true,LayoutSetBranchConstants.MASTER_BRANCH_NAME,LayoutSetBranchConstants.MASTER_BRANCH_NAME.concat(" branch of ").concat(liveGroup.getDescriptiveName()),serviceContext);
  }
}
