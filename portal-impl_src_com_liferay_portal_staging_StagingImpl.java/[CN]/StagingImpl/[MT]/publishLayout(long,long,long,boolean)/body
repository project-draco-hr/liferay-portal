{
  Map<String,String[]> parameterMap=getStagingParameters();
  parameterMap.put(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS,new String[]{Boolean.FALSE.toString()});
  Layout layout=LayoutLocalServiceUtil.getLayout(plid);
  List<Layout> layouts=new ArrayList<Layout>();
  layouts.add(layout);
  layouts.addAll(getMissingParentLayouts(layout,liveGroupId));
  if (includeChildren) {
    layouts.addAll(layout.getAllChildren());
  }
  long[] layoutIds=new long[layouts.size()];
  for (int i=0; i < layouts.size(); i++) {
    layoutIds[i]=layouts.get(i).getLayoutId();
  }
  publishLayouts(userId,layout.getGroupId(),liveGroupId,layout.isPrivateLayout(),layoutIds,parameterMap,null,null);
}
