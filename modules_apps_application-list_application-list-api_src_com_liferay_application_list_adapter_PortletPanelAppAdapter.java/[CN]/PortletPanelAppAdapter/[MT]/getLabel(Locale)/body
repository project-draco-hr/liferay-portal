{
  PortletConfig portletConfig=PortletConfigFactoryUtil.get(getPortletId());
  ResourceBundle resourceBundle=portletConfig.getResourceBundle(locale);
  Portlet portlet=getPortlet();
  String key=JavaConstants.JAVAX_PORTLET_TITLE + StringPool.PERIOD + portlet.getPortletName();
  String value=LanguageUtil.get(resourceBundle,key);
  if (!key.equals(value)) {
    return value;
  }
  value=LanguageUtil.get(locale,key);
  if (!key.equals(value)) {
    return value;
  }
  String displayName=portlet.getDisplayName();
  if (!displayName.equals(portlet.getPortletName())) {
    return displayName;
  }
  return key;
}
