{
  List actions=_getActions(_portletResourceActions,name);
  if (actions.size() == 0) {
synchronized (this) {
      actions.clear();
      Portlet portlet=PortletServiceUtil.getPortletById(companyId,name);
      Map portletModes=portlet.getPortletModes();
      Set mimeTypeModes=(Set)portletModes.get("text/html");
      if (mimeTypeModes != null) {
        Iterator itr=mimeTypeModes.iterator();
        while (itr.hasNext()) {
          String actionId=(String)itr.next();
          if (actionId.equalsIgnoreCase("edit")) {
            actions.add(ActionKeys.PREFERENCES);
          }
 else {
            actions.add(actionId.toUpperCase());
          }
        }
      }
      _checkPortletActions(actions);
      List communityDefaultActions=_getActions(_portletResourceCommunityDefaultActions,name);
      communityDefaultActions.clear();
      _checkPortletCommunityDefaultActions(communityDefaultActions);
    }
  }
  return actions;
}
