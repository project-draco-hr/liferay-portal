{
  File fileNameDir=getFileNameDir(companyId,repositoryId,fileName);
  File newFileNameDir=getFileNameDir(companyId,repositoryId,newFileName);
  FileUtil.copyDirectory(fileNameDir,newFileNameDir);
  FileUtil.deltree(fileNameDir);
  if (reindex) {
    Indexer indexer=IndexerRegistryUtil.getIndexer(FileModel.class);
    FileModel fileModel=new FileModel();
    fileModel.setCompanyId(companyId);
    fileModel.setFileName(fileName);
    fileModel.setPortletId(portletId);
    fileModel.setRepositoryId(repositoryId);
    indexer.delete(fileModel);
    fileModel.setFileName(newFileName);
    fileModel.setGroupId(groupId);
    indexer.reindex(fileModel);
  }
}
