{
  String[] fileNames=file.list();
  if (fileNames.length == 0) {
    String fileName=file.getName();
    if ((repositoryId > 0) && fileName.equals(String.valueOf(repositoryId))) {
      RepositoryDirKey repositoryDirKey=new RepositoryDirKey(companyId,repositoryId);
      _repositoryDirs.remove(repositoryDirKey);
    }
    File parentFile=file.getParentFile();
    if (file.delete() && (parentFile != null)) {
      deleteEmptyAncestors(companyId,repositoryId,parentFile);
    }
  }
}
