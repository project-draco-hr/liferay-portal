{
  try {
    File fileNameDir=getFileNameDir(companyId,repositoryId,fileName);
    File newFileNameDir=getFileNameDir(companyId,repositoryId,newFileName);
    FileUtil.copyDirectory(fileNameDir,newFileNameDir);
    File parentFile=fileNameDir.getParentFile();
    FileUtil.deltree(fileNameDir);
    deleteEmptyAncestors(parentFile);
  }
 catch (  IOException ioe) {
    throw new SystemException(ioe);
  }
}
