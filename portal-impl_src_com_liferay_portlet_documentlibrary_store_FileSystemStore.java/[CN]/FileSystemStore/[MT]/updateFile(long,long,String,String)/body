{
  File fileNameDir=getFileNameDir(companyId,repositoryId,fileName);
  File newFileNameDir=getFileNameDir(companyId,repositoryId,newFileName);
  if (newFileNameDir.exists()) {
    throw new DuplicateFileException(newFileName);
  }
  File parentFile=fileNameDir.getParentFile();
  fileNameDir.renameTo(newFileNameDir);
  deleteEmptyAncestors(parentFile);
}
