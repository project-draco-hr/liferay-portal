{
  if (Validator.isNotNull(_INTRABAND_IMPL)) {
    try {
      Class<? extends IntraBand> intraBandClass=(Class<? extends IntraBand>)Class.forName(_INTRABAND_IMPL);
      Constructor<? extends IntraBand> constructor=intraBandClass.getConstructor(long.class);
      return constructor.newInstance(_INTRABAND_DEFAULT_TIMEOUT);
    }
 catch (    Exception e) {
      throw new RuntimeException("Unable to create IntraBand instance for class " + _INTRABAND_IMPL,e);
    }
  }
 else {
    Class<? extends Welder> welderClass=WelderFactoryUtil.getWelderClass();
    if (welderClass.equals(SocketWelder.class)) {
      return new SelectorIntraBand(_INTRABAND_DEFAULT_TIMEOUT);
    }
 else {
      return new ExecutorIntraBand(_INTRABAND_DEFAULT_TIMEOUT);
    }
  }
}
