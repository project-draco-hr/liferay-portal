{
  if (Validator.isNull(emailAddress) && !PropsValues.USERS_EMAIL_ADDRESS_REQUIRED) {
    return;
  }
  if (!Validator.isEmailAddress(emailAddress) || emailAddress.startsWith("root@") || emailAddress.startsWith("postmaster@")) {
    throw new UserEmailAddressException();
  }
  String[] reservedEmailAddresses=PrefsPropsUtil.getStringArray(companyId,PropsKeys.ADMIN_RESERVED_EMAIL_ADDRESSES,StringPool.NEW_LINE,PropsValues.ADMIN_RESERVED_EMAIL_ADDRESSES);
  for (int i=0; i < reservedEmailAddresses.length; i++) {
    if (emailAddress.equalsIgnoreCase(reservedEmailAddresses[i])) {
      throw new ReservedUserEmailAddressException();
    }
  }
}
