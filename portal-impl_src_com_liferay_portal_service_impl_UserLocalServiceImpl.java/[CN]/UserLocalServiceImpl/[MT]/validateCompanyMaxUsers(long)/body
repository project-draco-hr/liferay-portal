{
  Company company=companyPersistence.findByPrimaryKey(companyId);
  if (company.isSystem()) {
    return;
  }
  validateCompanyMaxUsers(companyId);
  if ((company.getMaxUsers() > 0) && (company.getMaxUsers() <= searchCount(companyId,null,WorkflowConstants.STATUS_APPROVED,null))) {
    throw new CompanyMaxUsersException();
  }
}
