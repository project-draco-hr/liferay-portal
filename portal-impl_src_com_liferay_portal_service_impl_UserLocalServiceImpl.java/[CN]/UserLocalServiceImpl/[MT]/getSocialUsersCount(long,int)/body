{
  User user=userPersistence.findByPrimaryKey(userId);
  LinkedHashMap<String,Object> params=new LinkedHashMap<String,Object>();
  if (SocialRelationConstants.isTypeUni(type)) {
    params.put("socialRelationTypeUni",new Long[]{userId,new Long(type)});
  }
 else {
    params.put("socialRelationTypeBi",new Long[]{userId,userId,userId,new Long(type)});
  }
  return searchCount(user.getCompanyId(),null,null,params);
}
