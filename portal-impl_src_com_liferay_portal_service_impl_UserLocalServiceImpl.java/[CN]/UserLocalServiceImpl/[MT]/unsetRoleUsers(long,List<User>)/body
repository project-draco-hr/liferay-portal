{
  Role role=rolePersistence.findByPrimaryKey(roleId);
  String roleName=role.getName();
  if ((roleName.equals(RoleConstants.ADMINISTRATOR) && (getRoleUsersCount(role.getRoleId()) <= 1)) || roleName.equals(RoleConstants.USER)) {
    return;
  }
  rolePersistence.removeUsers(roleId,users);
  Indexer<User> indexer=IndexerRegistryUtil.nullSafeGetIndexer(User.class);
  indexer.reindex(users);
}
