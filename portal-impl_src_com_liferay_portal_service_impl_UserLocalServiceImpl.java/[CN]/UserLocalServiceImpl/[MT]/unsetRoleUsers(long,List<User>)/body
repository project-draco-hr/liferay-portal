{
  Role role=rolePersistence.findByPrimaryKey(roleId);
  if (role.getName().equals(RoleConstants.USER)) {
    return;
  }
  rolePersistence.removeUsers(roleId,users);
  try {
    UserIndexer.updateUsers(users);
  }
 catch (  SearchException se) {
    _log.error("Indexing " + ListUtil.toString(users,"userId"),se);
  }
  PermissionCacheUtil.clearCache();
}
