{
  Group group=groupLocalService.getGroup(groupId);
  if (group.isSite()) {
    userGroupRoleLocalService.deleteUserSiteRoles(userIds,groupId);
  }
 else {
    userGroupRoleLocalService.deleteUserGroupRoles(userIds,groupId);
  }
  userLocalService.unsetGroupTeamsUsers(groupId,userIds);
  groupPersistence.removeUsers(groupId,userIds);
  Indexer indexer=IndexerRegistryUtil.nullSafeGetIndexer(User.class);
  indexer.reindex(userIds);
  PermissionCacheUtil.clearCache();
}
