{
  User user=userPersistence.findByPrimaryKey(userId);
  LinkedHashMap<String,Object> params=new LinkedHashMap<String,Object>();
  if (type == SocialRelationConstants.TYPE_UNI_CHILD || type == SocialRelationConstants.TYPE_UNI_PARENT) {
    params.put("socialRelationUnidirectional",new Long[]{userId,new Long(type)});
  }
 else {
    params.put("socialRelationBidirectional",new Long[]{userId,userId,userId,new Long(type)});
  }
  return search(user.getCompanyId(),null,null,params,begin,end,null);
}
