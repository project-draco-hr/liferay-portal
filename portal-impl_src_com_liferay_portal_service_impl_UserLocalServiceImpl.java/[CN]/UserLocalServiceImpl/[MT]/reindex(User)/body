{
  final Indexer indexer=IndexerRegistryUtil.nullSafeGetIndexer(User.class);
  Callable<Void> callable=new ShardCallable<Void>(user.getCompanyId()){
    @Override protected Void doCall() throws Exception {
      indexer.reindex(user);
      return null;
    }
  }
;
  TransactionCommitCallbackRegistryUtil.registerCallback(callable);
}
