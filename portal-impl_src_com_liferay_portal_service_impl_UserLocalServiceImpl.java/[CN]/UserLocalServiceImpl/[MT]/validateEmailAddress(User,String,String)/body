{
  if (!emailAddress1.equals(emailAddress2)) {
    throw new UserEmailAddressException();
  }
  validateEmailAddress(user.getCompanyId(),emailAddress1);
  validateEmailAddress(user.getCompanyId(),emailAddress2);
  if (!emailAddress1.equalsIgnoreCase(user.getEmailAddress())) {
    if (userPersistence.fetchByC_EA(user.getCompanyId(),emailAddress1) != null) {
      throw new DuplicateUserEmailAddressException();
    }
  }
}
