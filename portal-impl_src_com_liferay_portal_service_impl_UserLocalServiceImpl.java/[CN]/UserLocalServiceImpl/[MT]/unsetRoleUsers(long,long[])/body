{
  Role role=rolePersistence.findByPrimaryKey(roleId);
  if (role.getName().equals(RoleConstants.USER)) {
    return;
  }
  rolePersistence.removeUsers(roleId,userIds);
  try {
    UserIndexer.updateUsers(userIds);
  }
 catch (  SearchException se) {
    _log.error("Indexing " + StringUtil.merge(userIds),se);
  }
  PermissionCacheUtil.clearCache();
}
