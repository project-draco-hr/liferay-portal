{
  SourceProcessor sourceProcessor=null;
  if (fileName.endsWith(".testjava")) {
    sourceProcessor=JavaSourceProcessor.class.newInstance();
  }
 else   if (fileName.endsWith(".testsql")) {
    sourceProcessor=SQLSourceProcessor.class.newInstance();
  }
 else   if (fileName.endsWith(".testtld")) {
    sourceProcessor=TLDSourceProcessor.class.newInstance();
  }
 else   if (fileName.endsWith(".testxml")) {
    sourceProcessor=XMLSourceProcessor.class.newInstance();
  }
  if (sourceProcessor == null) {
    return null;
  }
  String newContent=sourceProcessor.format(fileName,_sourceFormatterBean.isUseProperties(),_sourceFormatterBean.isPrintErrors(),_sourceFormatterBean.isAutoFix());
  return new Tuple(newContent,sourceProcessor.getErrorMessages());
}
