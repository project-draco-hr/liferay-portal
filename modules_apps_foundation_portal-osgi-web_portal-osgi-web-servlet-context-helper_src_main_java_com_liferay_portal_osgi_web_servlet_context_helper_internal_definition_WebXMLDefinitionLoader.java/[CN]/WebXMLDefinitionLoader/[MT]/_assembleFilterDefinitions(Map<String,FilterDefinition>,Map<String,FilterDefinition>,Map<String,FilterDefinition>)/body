{
  for (  Entry<String,FilterDefinition> entry : fragmentFilterDefinitions.entrySet()) {
    String filterName=entry.getKey();
    if (!assembledFilterDefinitions.containsKey(filterName)) {
      assembledFilterDefinitions.put(filterName,entry.getValue());
      continue;
    }
    FilterDefinition webXMLFilterDefinition=webXMLFilterDefinitions.get(filterName);
    Map<String,String> webXMLInitParameters=null;
    if (webXMLFilterDefinition != null) {
      webXMLInitParameters=webXMLFilterDefinition.getInitParameters();
    }
    FilterDefinition assembledFilterDefinition=assembledFilterDefinitions.get(filterName);
    Map<String,String> assembledInitParameters=assembledFilterDefinition.getInitParameters();
    FilterDefinition fragmentFilterDefinition=entry.getValue();
    Map<String,String> fragmentInitParameters=fragmentFilterDefinition.getInitParameters();
    for (    Entry<String,String> initParametersEntry : fragmentInitParameters.entrySet()) {
      String initParameterName=initParametersEntry.getKey();
      String webXMLInitParameterValue=null;
      if (webXMLInitParameters != null) {
        webXMLInitParameterValue=webXMLInitParameters.get(initParameterName);
      }
      String assembledInitParameterValue=assembledInitParameters.get(initParameterName);
      if (Validator.isNull(assembledInitParameterValue)) {
        if ((webXMLInitParameterValue == null) && !Validator.equals(assembledInitParameterValue,initParametersEntry.getValue())) {
          throw new Exception("Init paramter name " + initParameterName + " conflicts with filter name "+ filterName);
        }
 else {
          assembledInitParameters.put(initParameterName,initParametersEntry.getValue());
        }
      }
    }
    List<String> assembledDispatchers=assembledFilterDefinition.getDispatchers();
    List<String> fragmentDispatchers=fragmentFilterDefinition.getDispatchers();
    for (    String dispatcher : fragmentDispatchers) {
      if (!assembledDispatchers.contains(dispatcher)) {
        assembledDispatchers.add(dispatcher);
      }
    }
    List<String> assembledServletNames=assembledFilterDefinition.getServletNames();
    List<String> fragmentServletNames=fragmentFilterDefinition.getServletNames();
    for (    String servletName : fragmentServletNames) {
      if (!assembledServletNames.contains(servletName)) {
        assembledServletNames.add(servletName);
      }
    }
    List<String> assembledURLPatterns=assembledFilterDefinition.getURLPatterns();
    List<String> fragmentURLPatterns=fragmentFilterDefinition.getURLPatterns();
    for (    String urlPattern : fragmentURLPatterns) {
      if (!assembledURLPatterns.contains(urlPattern)) {
        assembledURLPatterns.add(urlPattern);
      }
    }
  }
}
