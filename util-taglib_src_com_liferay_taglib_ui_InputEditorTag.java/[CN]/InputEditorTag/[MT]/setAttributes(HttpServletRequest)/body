{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  if (_contentsLanguageId == null) {
    _contentsLanguageId=themeDisplay.getLanguageId();
  }
  String cssClasses="portlet ";
  Portlet portlet=(Portlet)request.getAttribute(WebKeys.RENDER_PORTLET);
  if (portlet != null) {
    cssClasses+=portlet.getCssClassWrapper();
  }
  String editorImpl=EditorUtil.getEditorValue(request,_editorImpl);
  _page="/html/js/editor/" + editorImpl + ".jsp";
  request.setAttribute("liferay-ui:input-editor:allowBrowseDocuments",String.valueOf(_allowBrowseDocuments));
  request.setAttribute("liferay-ui:input-editor:autoCreate",String.valueOf(_autoCreate));
  request.setAttribute("liferay-ui:input-editor:configParams",_configParams);
  request.setAttribute("liferay-ui:input-editor:contents",_contents);
  request.setAttribute("liferay-ui:input-editor:contentsLanguageId",_contentsLanguageId);
  request.setAttribute("liferay-ui:input-editor:cssClass",_cssClass);
  request.setAttribute("liferay-ui:input-editor:cssClasses",cssClasses);
  if (portlet != null) {
    if (Validator.isNull(_configKey)) {
      _configKey=_name;
    }
    LiferayPortletResponse portletResponse=(LiferayPortletResponse)request.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
    PortletEditorConfig portletEditorConfig=PortletEditorConfigFactoryUtil.getPortletEditorConfig(portlet.getPortletId(),_configKey,themeDisplay,portletResponse);
    Map<String,Object> data=portletEditorConfig.getData();
    if (MapUtil.isNotEmpty(_data)) {
      MapUtil.merge(_data,data);
    }
    _data=data;
  }
  request.setAttribute("liferay-ui:input-editor:data",_data);
  request.setAttribute("liferay-ui:input-editor:editorImpl",editorImpl);
  request.setAttribute("liferay-ui:input-editor:fileBrowserParams",_fileBrowserParams);
  request.setAttribute("liferay-ui:input-editor:height",_height);
  request.setAttribute("liferay-ui:input-editor:initMethod",_initMethod);
  request.setAttribute("liferay-ui:input-editor:inlineEdit",String.valueOf(_inlineEdit));
  request.setAttribute("liferay-ui:input-editor:inlineEditSaveURL",_inlineEditSaveURL);
  request.setAttribute("liferay-ui:input-editor:name",_name);
  request.setAttribute("liferay-ui:input-editor:onBlurMethod",_onBlurMethod);
  request.setAttribute("liferay-ui:input-editor:onChangeMethod",_onChangeMethod);
  request.setAttribute("liferay-ui:input-editor:onFocusMethod",_onFocusMethod);
  request.setAttribute("liferay-ui:input-editor:onInitMethod",_onInitMethod);
  request.setAttribute("liferay-ui:input-editor:placeholder",_placeholder);
  request.setAttribute("liferay-ui:input-editor:resizable",String.valueOf(_resizable));
  request.setAttribute("liferay-ui:input-editor:showSource",String.valueOf(_showSource));
  request.setAttribute("liferay-ui:input-editor:skipEditorLoading",String.valueOf(_skipEditorLoading));
  request.setAttribute("liferay-ui:input-editor:toolbarSet",_toolbarSet);
  request.setAttribute("liferay-ui:input-editor:width",_width);
}
