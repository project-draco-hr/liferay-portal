{
  Portlet portlet=(Portlet)request.getAttribute(WebKeys.RENDER_PORTLET);
  if (portlet == null) {
    return _data;
  }
  Map<String,Object> attributes=new HashMap<>();
  Enumeration<String> enumeration=request.getAttributeNames();
  while (enumeration.hasMoreElements()) {
    String attributeName=enumeration.nextElement();
    if (attributeName.startsWith("liferay-ui:input-editor")) {
      attributes.put(attributeName,request.getAttribute(attributeName));
    }
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  LiferayPortletResponse portletResponse=(LiferayPortletResponse)request.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
  PortletEditorConfig portletEditorConfig=PortletEditorConfigFactoryUtil.getPortletEditorConfig(portlet.getPortletId(),getConfigKey(),getEditorImpl(),attributes,themeDisplay,portletResponse);
  Map<String,Object> data=portletEditorConfig.getData();
  if (MapUtil.isNotEmpty(_data)) {
    MapUtil.merge(_data,data);
  }
  return data;
}
