{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long documentTypeId=ParamUtil.getLong(actionRequest,"documentTypeId");
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  List<Long> ddmStructureIdList=new ArrayList<Long>();
  for (int i=1; i < 4; i++) {
    long ddmStructureId=ParamUtil.getLong(actionRequest,"ddmStructureId" + i);
    if (ddmStructureId > 0) {
      ddmStructureIdList.add(ddmStructureId);
    }
  }
  long[] ddmStructureIdArray=ArrayUtil.toArray((Long[])ddmStructureIdList.toArray(new Long[0]));
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DLDocumentType.class.getName(),actionRequest);
  if (documentTypeId <= 0) {
    DLDocumentTypeServiceUtil.addDocumentType(themeDisplay.getScopeGroupId(),name,description,ddmStructureIdArray,serviceContext);
  }
 else {
    DLDocumentTypeServiceUtil.updateDocumentType(documentTypeId,name,description,serviceContext);
  }
}
