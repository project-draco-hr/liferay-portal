{
  Iterator<Long> itr=roleIdsToActionIds.keySet().iterator();
  while (itr.hasNext()) {
    Long roleId=itr.next();
    String[] actionIds=roleIdsToActionIds.get(roleId);
    List<Permission> permissions=permissionFinder.findByR_R(roleId,resourceId);
    rolePersistence.removePermissions(roleId,permissions);
    permissions=getPermissions(companyId,actionIds,resourceId);
    rolePersistence.addPermissions(roleId,permissions);
  }
  PermissionCacheUtil.clearCache();
  SearchEngineUtil.updatePermissionFields(resourceId);
}
