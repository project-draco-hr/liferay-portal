{
  for (  Map.Entry<Long,String[]> entry : roleIdsToActionIds.entrySet()) {
    long roleId=entry.getKey();
    String[] actionIds=entry.getValue();
    List<Permission> permissions=permissionFinder.findByR_R(roleId,resourceId);
    rolePersistence.removePermissions(roleId,permissions);
    permissions=getPermissions(companyId,actionIds,resourceId);
    rolePersistence.addPermissions(roleId,permissions);
  }
  PermissionCacheUtil.clearCache();
  SearchEngineUtil.updatePermissionFields(resourceId);
}
