{
  ResourceCode resourceCode=resourceCodeLocalService.getResourceCode(companyId,name,scope);
  Iterator itr=resourcePersistence.findByCodeId(resourceCode.getCodeId()).iterator();
  while (itr.hasNext()) {
    Resource resource=(Resource)itr.next();
    try {
      Permission permission=permissionPersistence.findByA_R(actionId,resource.getResourceId());
      if (rolePersistence.containsPermission(roleId,permission.getPermissionId())) {
        return true;
      }
    }
 catch (    NoSuchPermissionException nspe) {
    }
  }
  return false;
}
