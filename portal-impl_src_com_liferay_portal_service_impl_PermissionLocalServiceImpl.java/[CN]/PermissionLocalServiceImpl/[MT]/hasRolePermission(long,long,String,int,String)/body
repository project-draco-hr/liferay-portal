{
  ResourceCode resourceCode=resourceCodeLocalService.getResourceCode(companyId,name,scope);
  List<Resource> resources=resourcePersistence.findByCodeId(resourceCode.getCodeId());
  for (  Resource resource : resources) {
    Permission permission=permissionPersistence.fetchByA_R(actionId,resource.getResourceId());
    if (permission != null) {
      if (rolePersistence.containsPermission(roleId,permission.getPermissionId())) {
        return true;
      }
    }
  }
  return false;
}
