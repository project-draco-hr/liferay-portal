{
  ResourceCode resourceCode=resourceCodeLocalService.getResourceCode(companyId,name,scope);
  List<Resource> resources=resourcePersistence.findByCodeId(resourceCode.getCodeId());
  for (  Resource resource : resources) {
    try {
      Permission permission=permissionPersistence.findByA_R(actionId,resource.getResourceId());
      rolePersistence.removePermission(roleId,permission);
    }
 catch (    NoSuchPermissionException nspe) {
    }
  }
  PermissionCacheUtil.clearCache();
}
