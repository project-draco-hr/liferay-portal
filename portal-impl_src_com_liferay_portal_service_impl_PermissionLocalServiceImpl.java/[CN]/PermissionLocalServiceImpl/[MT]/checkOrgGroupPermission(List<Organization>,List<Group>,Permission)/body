{
  if ((organizations.size() == 0) || (groups.size() == 0)) {
    return false;
  }
  List<OrgGroupPermission> orgGroupPermissions=orgGroupPermissionPersistence.findByPermissionId(permission.getPermissionId());
  if (orgGroupPermissions.size() == 0) {
    return false;
  }
  for (  OrgGroupPermission orgGroupPermission : orgGroupPermissions) {
    if (orgGroupPermission.containsOrganization(organizations) && orgGroupPermission.containsGroup(groups)) {
      return true;
    }
  }
  throw new NoSuchPermissionException("User has a permission in OrgGroupPermission that does not match");
}
