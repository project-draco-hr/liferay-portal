{
  String cssClasses="portlet ";
  Portlet portlet=(Portlet)request.getAttribute(WebKeys.RENDER_PORTLET);
  if (portlet != null) {
    cssClasses+=portlet.getCssClassWrapper();
  }
  String editorImpl=_editorImpl;
  if (Validator.isNotNull(editorImpl)) {
    editorImpl=PropsUtil.get(editorImpl);
  }
  if (!BrowserSnifferUtil.isRtf(request)) {
    if (BrowserSnifferUtil.isSafari(request) && BrowserSnifferUtil.isMobile(request)) {
      editorImpl="simple";
    }
 else     if (BrowserSnifferUtil.isSafari(request) && (editorImpl.indexOf("simple") == -1)) {
      editorImpl="tinymce_simple";
    }
 else {
      editorImpl="simple";
    }
  }
  if (Validator.isNull(editorImpl)) {
    editorImpl=_EDITOR_WYSIWYG_DEFAULT;
  }
  _page="/html/js/editor/" + editorImpl + ".jsp";
  request.setAttribute("liferay-ui:input-editor:configParams",_configParams);
  request.setAttribute("liferay-ui:input-editor:cssClass",_cssClass);
  request.setAttribute("liferay-ui:input-editor:cssClasses",cssClasses);
  request.setAttribute("liferay-ui:input-editor:editorImpl",editorImpl);
  request.setAttribute("liferay-ui:input-editor:height",_height);
  request.setAttribute("liferay-ui:input-editor:initMethod",_initMethod);
  request.setAttribute("liferay-ui:input-editor:name",_name);
  request.setAttribute("liferay-ui:input-editor:onChangeMethod",_onChangeMethod);
  request.setAttribute("liferay-ui:input-editor:toolbarSet",_toolbarSet);
  request.setAttribute("liferay-ui:input-editor:width",_width);
}
