{
  String basedir="./";
  DirectoryScanner directoryScanner=new DirectoryScanner();
  directoryScanner.setBasedir(basedir);
  String[] excludes={"**\\journal\\dependencies\\template.ftl","**\\servicebuilder\\dependencies\\props.ftl"};
  excludes=ArrayUtil.append(excludes,getExcludes());
  directoryScanner.setExcludes(excludes);
  directoryScanner.setIncludes(new String[]{"**\\*.ftl"});
  List<String> fileNames=getSourceFormatterHelper().scanForFiles(directoryScanner);
  for (  String fileName : fileNames) {
    File file=new File(basedir + fileName);
    String content=getFileUtil().read(file);
    String newContent=trimContent(content,false);
    if ((newContent != null) && !content.equals(newContent)) {
      getFileUtil().write(file,newContent);
      fileName=StringUtil.replace(fileName,StringPool.BACK_SLASH,StringPool.SLASH);
      getSourceFormatterHelper().printError(fileName,file);
    }
  }
}
