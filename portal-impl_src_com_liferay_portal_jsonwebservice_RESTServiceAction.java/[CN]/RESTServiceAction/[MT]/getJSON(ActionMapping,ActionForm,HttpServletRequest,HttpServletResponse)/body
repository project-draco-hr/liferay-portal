{
  try {
    JSONWebServiceAction restAction=JSONWebServiceActionsManagerUtil.lookup(request);
    Object returnObj=restAction.invoke(request);
    if (returnObj != null) {
      return getReturnValue(returnObj,restAction.getReturnType());
    }
 else {
      JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
      return jsonObject.toString();
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    if (e instanceof InvocationTargetException) {
      jsonObject.put("exception",e.getCause().toString());
    }
 else {
      jsonObject.put("exception",e.getMessage());
    }
    return jsonObject.toString();
  }
}
