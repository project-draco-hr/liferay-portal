{
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  portletId=layoutTypePortlet.addPortletId(0,portletId,columnId,-1,false);
  _layoutLocalService.updateLayout(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),layout.getTypeSettings());
  Portlet portlet=_portletLocalService.getPortletById(layout.getCompanyId(),portletId);
  PortalUtil.addPortletDefaultResource(layout.getCompanyId(),layout,portlet);
  return portletId;
}
