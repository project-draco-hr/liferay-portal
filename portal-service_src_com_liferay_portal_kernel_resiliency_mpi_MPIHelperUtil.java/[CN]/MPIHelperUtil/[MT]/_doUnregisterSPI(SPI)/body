{
  SPIRegistryUtil.unregisterSPI(spi);
  SPIConfiguration spiConfiguration=spi.getSPIConfiguration();
  for (  String servletContextName : spiConfiguration.getServletContextNames()) {
    List<MessagingConfigurator> messagingConfigurators=MessagingConfiguratorRegistry.getMessagingConfigurators(servletContextName);
    if (messagingConfigurators != null) {
      for (      MessagingConfigurator messagingConfigurator : messagingConfigurators) {
        messagingConfigurator.connect();
      }
    }
  }
  if (_log.isInfoEnabled()) {
    _log.info("Unregistered SPI " + spi);
  }
}
