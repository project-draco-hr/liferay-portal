{
  try {
    Checker checker=new Checker();
    checker.setModuleClassLoader(CheckStyleUtil.class.getClassLoader());
    Configuration configuration=ConfigurationLoader.loadConfiguration(configurationFileName,new PropertiesExpander(System.getProperties()),false);
    checker.configure(configuration);
    AuditListener listener=new SourceFormatterLogger(new UnsyncByteArrayOutputStream(),true);
    checker.addListener(listener);
    return checker;
  }
 catch (  Exception e) {
    return null;
  }
}
