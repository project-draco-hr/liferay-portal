{
  Element rootElement=document.getRootElement();
  String defaultLanguageId=LocaleUtil.toLanguageId(LocaleUtil.getSiteDefault());
  String articleDefaultLanguageId=rootElement.attributeValue("default-locale",defaultLanguageId);
  String[] availableLanguageIds=StringUtil.split(rootElement.attributeValue("available-locales",articleDefaultLanguageId));
  if (!ArrayUtil.contains(availableLanguageIds,languageId,true)) {
    filterByLanguage(rootElement,articleDefaultLanguageId,articleDefaultLanguageId);
  }
 else {
    filterByLanguage(rootElement,languageId,articleDefaultLanguageId);
  }
}
