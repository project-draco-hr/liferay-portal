{
  Path fileNamePath=remoteFilePath.getFileName();
  String name=fileNamePath.toString();
  int index=name.lastIndexOf(CharPool.PERIOD);
  if (index == -1) {
    StringBundler sb=new StringBundler(5);
    sb.append(name);
    sb.append(StringPool.DASH);
    sb.append(System.currentTimeMillis());
    sb.append(StringPool.DASH);
    sb.append(idGenerator.getAndIncrement());
    return repositoryPath.resolve(sb.toString());
  }
  StringBundler sb=new StringBundler(6);
  sb.append(name.substring(0,index));
  sb.append(StringPool.DASH);
  sb.append(System.currentTimeMillis());
  sb.append(StringPool.DASH);
  sb.append(idGenerator.getAndIncrement());
  sb.append(name.substring(index));
  return repositoryPath.resolve(sb.toString());
}
