{
  List<Team> userTeams=TeamLocalServiceUtil.getUserTeams(userId,group.getGroupId());
  for (  Team team : userTeams) {
    Role role=RoleLocalServiceUtil.getTeamRole(team.getCompanyId(),team.getTeamId());
    roleIds.add(role.getRoleId());
  }
  LinkedHashMap<String,Object> teamParams=new LinkedHashMap<>();
  teamParams.put("usersUserGroups",userId);
  List<Team> userGroupTeams=TeamLocalServiceUtil.search(group.getGroupId(),null,null,teamParams,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  for (  Team team : userGroupTeams) {
    Role role=RoleLocalServiceUtil.getTeamRole(team.getCompanyId(),team.getTeamId());
    roleIds.add(role.getRoleId());
  }
}
