{
  if ((PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 5) || (PropsValues.PERMISSIONS_USER_CHECK_ALGORITHM == 6)) {
    List<Team> userTeams=TeamLocalServiceUtil.getUserTeams(userId,group.getGroupId());
    for (    Team team : userTeams) {
      Role role=RoleLocalServiceUtil.getTeamRole(team.getCompanyId(),team.getTeamId());
      roles.add(role);
    }
    LinkedHashMap<String,Object> teamParams=new LinkedHashMap<String,Object>();
    teamParams.put("usersUserGroups",userId);
    List<Team> userGroupTeams=TeamLocalServiceUtil.search(group.getGroupId(),null,null,teamParams,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
    for (    Team team : userGroupTeams) {
      Role role=RoleLocalServiceUtil.getTeamRole(team.getCompanyId(),team.getTeamId());
      roles.add(role);
    }
  }
}
