{
  List<Organization> userOrgs=OrganizationLocalServiceUtil.getUserOrganizations(userId);
  if (userOrgs.isEmpty()) {
    return userOrgs;
  }
  List<Organization> organizations=new ArrayList<Organization>();
  for (  Organization organization : userOrgs) {
    if (!organizations.contains(organization)) {
      organizations.add(organization);
      List<Organization> ancestorOrganizations=OrganizationLocalServiceUtil.getParentOrganizations(organization.getOrganizationId());
      organizations.addAll(ancestorOrganizations);
    }
  }
  return ListUtil.unique(organizations);
}
