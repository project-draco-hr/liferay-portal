{
  Group group=GroupTestUtil.addGroup();
  long groupId=group.getGroupId();
  AssetVocabulary vocabulary1=AssetTestUtil.addVocabulary(groupId);
  AssetVocabulary vocabulary2=AssetTestUtil.addVocabulary(groupId);
  AssetCategory category1a=AssetTestUtil.addCategory(groupId,vocabulary1.getVocabularyId());
  assertLeftRightCategory(2,category1a);
  AssetCategory category1b=AssetTestUtil.addCategory(groupId,vocabulary1.getVocabularyId());
  assertLeftRightCategory(4,category1b);
  AssetCategory category1c=AssetTestUtil.addCategory(groupId,vocabulary1.getVocabularyId());
  assertLeftRightCategory(6,category1c);
  AssetCategory category2a=AssetTestUtil.addCategory(groupId,vocabulary2.getVocabularyId());
  assertLeftRightCategory(8,category2a);
  AssetCategory category2b=AssetTestUtil.addCategory(groupId,vocabulary2.getVocabularyId());
  assertLeftRightCategory(10,category2b);
  AssetCategory category2c=AssetTestUtil.addCategory(groupId,vocabulary2.getVocabularyId());
  assertLeftRightCategory(12,category2c);
  AssetVocabularyServiceUtil.deleteVocabulary(vocabulary1.getVocabularyId());
  int count=AssetCategoryServiceUtil.getVocabularyCategoriesCount(groupId,vocabulary1.getVocabularyId());
  Assert.assertEquals(0,count);
  count=AssetCategoryServiceUtil.getVocabularyCategoriesCount(groupId,vocabulary2.getVocabularyId());
  Assert.assertEquals(3,count);
  category2a=AssetCategoryServiceUtil.getCategory(category2a.getCategoryId());
  assertLeftRightCategory(2,category2a);
  category2b=AssetCategoryServiceUtil.getCategory(category2b.getCategoryId());
  assertLeftRightCategory(4,category2b);
  category2c=AssetCategoryServiceUtil.getCategory(category2c.getCategoryId());
  assertLeftRightCategory(6,category2c);
}
