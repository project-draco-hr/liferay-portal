{
  String tabs2=ParamUtil.getString(actionRequest,"tabs2");
  if (tabs2.equals("password-changed-notification") || tabs2.equals("password-reset-notification")) {
    String languageId=LanguageUtil.getLanguageId(actionRequest);
    String emailParam="emailPasswordSent";
    if (tabs2.equals("password-reset-notification")) {
      emailParam="emailPasswordReset";
    }
    String emailSubject=ParamUtil.getString(actionRequest,emailParam + "Subject_" + languageId);
    String emailBody=ParamUtil.getString(actionRequest,emailParam + "Body_" + languageId);
    preferences.setValue(emailParam + "Subject_" + languageId,emailSubject);
    preferences.setValue(emailParam + "Body_" + languageId,emailBody);
    preferences.store();
  }
 else {
    String emailFromName=ParamUtil.getString(actionRequest,"emailFromName");
    String emailFromAddress=ParamUtil.getString(actionRequest,"emailFromAddress");
    preferences.setValue("emailFromName",emailFromName);
    if (Validator.isNotNull(emailFromAddress) && !Validator.isEmailAddress(emailFromAddress)) {
      SessionErrors.add(actionRequest,"emailFromAddress");
    }
 else {
      preferences.setValue("emailFromName",emailFromName);
      preferences.setValue("emailFromAddress",emailFromAddress);
      preferences.store();
    }
  }
}
