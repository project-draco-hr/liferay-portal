{
  StringBundler sb=new StringBundler(4);
  sb.append("SELECT cmis:objectId FROM cmis:folder");
  if (folderId > 0) {
    sb.append(" WHERE IN_FOLDER(");
    String objectId=toFolderId(session,folderId);
    sb.append(StringUtil.quote(objectId));
    sb.append(StringPool.CLOSE_PARENTHESIS);
  }
  String query=sb.toString();
  if (_log.isDebugEnabled()) {
    _log.debug("Calling query " + query);
  }
  ItemIterable<QueryResult> queryResults=session.query(query,isAllVersionsSearchableSupported(session));
  List<String> cmsFolderIds=new ArrayList<>();
  for (  QueryResult queryResult : queryResults) {
    PropertyData<String> propertyData=queryResult.getPropertyById(PropertyIds.OBJECT_ID);
    List<String> values=propertyData.getValues();
    String value=values.get(0);
    cmsFolderIds.add(value);
  }
  return cmsFolderIds;
}
