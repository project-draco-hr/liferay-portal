{
  DDLRecordVersion recordVersion=getRecordVersion(recordId,version);
  DDLRecord record=ddlRecordLocalService.getDDLRecord(recordId);
  DDLRecordSetPermission.check(getPermissionChecker(),record.getRecordSetId(),ActionKeys.UPDATE);
  if (!recordVersion.isApproved()) {
    return;
  }
  Fields fields=StorageEngineUtil.getFields(recordVersion.getDDMStorageId());
  updateRecord(userId,recordId,recordVersion.getDisplayIndex(),fields,serviceContext);
}
