{
  MBMessageDisplay messageDisplay=MBMessageLocalServiceUtil.getDiscussionMessageDisplay(TestPropsValues.getUserId(),_group.getGroupId(),className,classPK,WorkflowConstants.STATUS_APPROVED);
  MBThread thread=messageDisplay.getThread();
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),TestPropsValues.getUserId());
  MBTestUtil.populateNotificationsServiceContext(serviceContext,Constants.ADD);
  return MBMessageLocalServiceUtil.addDiscussionMessage(TestPropsValues.getUserId(),RandomTestUtil.randomString(),_group.getGroupId(),className,classPK,thread.getThreadId(),thread.getRootMessageId(),RandomTestUtil.randomString(),RandomTestUtil.randomString(50),serviceContext);
}
