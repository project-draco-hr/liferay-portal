{
  ExtendedProperties extendedProperties=runtimeServices.getConfiguration();
  Field field=ReflectionUtil.getDeclaredField(RuntimeInstance.class,"configuration");
  field.set(runtimeServices,new FastExtendedProperties(extendedProperties));
  _macroTemplateIds=(Vector<String>)extendedProperties.get(VelocityEngine.VM_LIBRARY);
  _resourceModificationCheckInterval=GetterUtil.getInteger(extendedProperties.get("liferay." + VelocityEngine.RESOURCE_LOADER + ".resourceModificationCheckInterval"),60);
  _templateResourceLoader=(TemplateResourceLoader)extendedProperties.get(VelocityTemplateResourceLoader.class.getName());
  super.initialize(runtimeServices);
}
