{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long resourceId=ParamUtil.getLong(actionRequest,"resourceId");
  long[] teamIds=StringUtil.split(ParamUtil.getString(actionRequest,"teamsSearchContainerPrimaryKeys"),0L);
  for (  long teamId : teamIds) {
    Role role=RoleLocalServiceUtil.getTeamRole(themeDisplay.getCompanyId(),teamId);
    String[] actionIds=getActionIds(actionRequest,teamId);
    PermissionServiceUtil.setRolePermissions(role.getRoleId(),themeDisplay.getScopeGroupId(),actionIds,resourceId);
  }
}
