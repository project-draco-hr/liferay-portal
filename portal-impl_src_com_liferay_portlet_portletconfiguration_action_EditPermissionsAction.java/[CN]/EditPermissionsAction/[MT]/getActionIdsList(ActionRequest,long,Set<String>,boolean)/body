{
  List<String> actionIds=new ArrayList<String>();
  Enumeration<String> enu=actionRequest.getParameterNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    if (name.startsWith(roleId + ActionUtil.ACTION)) {
      int pos=name.indexOf(ActionUtil.ACTION);
      String actionId=name.substring(pos + ActionUtil.ACTION.length());
      if (actionId.equals(ActionKeys.ACCESS_IN_CONTROL_PANEL) || (isGuestRoleId(actionRequest,roleId) && guestUnsupportedActions.contains(actionId))) {
        throw new PrincipalException();
      }
      actionIds.add(actionId);
    }
 else     if (includePreselected && name.startsWith(roleId + ActionUtil.PRESELECTED)) {
      int pos=name.indexOf(ActionUtil.PRESELECTED);
      String actionId=name.substring(pos + ActionUtil.PRESELECTED.length());
      actionIds.add(actionId);
    }
  }
  return actionIds;
}
