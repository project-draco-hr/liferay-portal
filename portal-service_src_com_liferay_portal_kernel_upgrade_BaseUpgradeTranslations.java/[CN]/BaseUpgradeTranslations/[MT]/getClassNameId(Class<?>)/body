{
  Connection connection=null;
  PreparedStatement preparedStatement=null;
  ResultSet resultSet=null;
  try {
    connection=DataAccess.getUpgradeOptimizedConnection();
    preparedStatement=connection.prepareStatement("select classNameId from ClassName_ where value = ?");
    preparedStatement.setString(1,modelClass.getName());
    resultSet=preparedStatement.executeQuery();
    if (!resultSet.next()) {
      throw new IllegalStateException(String.format("No row found in table ClassName_ for value %s",modelClass.getName()));
    }
    return resultSet.getLong(1);
  }
  finally {
    DataAccess.cleanUp(connection,preparedStatement,resultSet);
  }
}
