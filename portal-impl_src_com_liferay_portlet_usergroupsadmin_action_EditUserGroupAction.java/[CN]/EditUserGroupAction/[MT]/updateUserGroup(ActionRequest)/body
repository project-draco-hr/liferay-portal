{
  long userGroupId=ParamUtil.getLong(actionRequest,"userGroupId");
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  UserGroup userGroup=null;
  if (userGroupId <= 0) {
    userGroup=UserGroupServiceUtil.addUserGroup(name,description);
  }
 else {
    userGroup=UserGroupServiceUtil.updateUserGroup(userGroupId,name,description);
  }
  long publicLayoutSetPrototypeId=ParamUtil.getLong(actionRequest,"publicLayoutSetPrototypeId");
  long privateLayoutSetPrototypeId=ParamUtil.getLong(actionRequest,"privateLayoutSetPrototypeId");
  boolean privateLayoutSetPrototypeLinkEnabled=ParamUtil.getBoolean(actionRequest,"privateLayoutSetPrototypeLinkEnabled",(privateLayoutSetPrototypeId > 0));
  boolean publicLayoutSetPrototypeLinkEnabled=ParamUtil.getBoolean(actionRequest,"publicLayoutSetPrototypeLinkEnabled",(publicLayoutSetPrototypeId > 0));
  SitesUtil.updateLayoutSetPrototypesLinks(userGroup.getGroup(),publicLayoutSetPrototypeId,privateLayoutSetPrototypeId,privateLayoutSetPrototypeLinkEnabled,publicLayoutSetPrototypeLinkEnabled);
}
