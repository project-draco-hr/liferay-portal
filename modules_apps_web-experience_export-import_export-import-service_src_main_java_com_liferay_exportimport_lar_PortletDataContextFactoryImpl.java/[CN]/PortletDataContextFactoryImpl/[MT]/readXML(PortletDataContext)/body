{
  String xml=portletDataContext.getZipEntryAsString("/manifest.xml");
  Element rootElement=null;
  try {
    Document document=SAXReaderUtil.read(xml);
    rootElement=document.getRootElement();
  }
 catch (  Exception e) {
    throw new PortletDataException(e);
  }
  portletDataContext.setImportDataRootElement(rootElement);
  Element headerElement=rootElement.element("header");
  long sourceCompanyId=GetterUtil.getLong(headerElement.attributeValue("company-id"));
  portletDataContext.setSourceCompanyId(sourceCompanyId);
  long sourceCompanyGroupId=GetterUtil.getLong(headerElement.attributeValue("company-group-id"));
  portletDataContext.setSourceCompanyGroupId(sourceCompanyGroupId);
  long sourceGroupId=GetterUtil.getLong(headerElement.attributeValue("group-id"));
  portletDataContext.setSourceGroupId(sourceGroupId);
  long sourceUserPersonalSiteGroupId=GetterUtil.getLong(headerElement.attributeValue("user-personal-site-group-id"));
  portletDataContext.setSourceUserPersonalSiteGroupId(sourceUserPersonalSiteGroupId);
  Element missingReferencesElement=rootElement.element("missing-references");
  if (missingReferencesElement != null) {
    portletDataContext.setMissingReferencesElement(missingReferencesElement);
  }
}
