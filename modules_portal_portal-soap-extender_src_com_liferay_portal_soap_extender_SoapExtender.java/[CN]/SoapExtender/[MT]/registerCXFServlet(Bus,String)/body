{
  Dictionary<String,Object> properties=new Hashtable<>();
  Class<?> clazz=getClass();
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_NAME,clazz.getName());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_PATH,contextPath);
  _registerLiferayJaxWsProvider();
  _servletContextHelperServiceRegistration=_bundleContext.registerService(ServletContextHelper.class,new ServletContextHelper(_bundleContext.getBundle()){
  }
,properties);
  CXFNonSpringServlet cxfNonSpringServlet=new CXFNonSpringServlet();
  cxfNonSpringServlet.setBus(bus);
  properties=new Hashtable<>();
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_SELECT,clazz.getName());
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_NAME,"CXFServlet");
  properties.put(HttpWhiteboardConstants.HTTP_WHITEBOARD_SERVLET_PATTERN,"/*");
  _servletServiceRegistration=_bundleContext.registerService(Servlet.class,cxfNonSpringServlet,properties);
}
