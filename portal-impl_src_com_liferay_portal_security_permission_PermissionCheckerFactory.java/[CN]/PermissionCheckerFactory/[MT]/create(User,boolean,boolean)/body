{
  if (CachePropsUtil.COMMONS_POOL_ENABLED) {
    if (_log.isDebugEnabled()) {
      _log.debug("Borrowing:\t" + _instance._pool.getNumIdle() + "\t"+ _instance._pool.getNumActive());
    }
  }
  PermissionCheckerImpl permissionChecker=null;
  if (CachePropsUtil.COMMONS_POOL_ENABLED) {
    permissionChecker=(PermissionCheckerImpl)_instance._pool.borrowObject();
  }
 else {
    permissionChecker=(PermissionCheckerImpl)Class.forName(PropsUtil.get(PropsUtil.PERMISSIONS_CHECKER)).newInstance();
  }
  permissionChecker.init(user,signedIn,checkGuest);
  return permissionChecker;
}
