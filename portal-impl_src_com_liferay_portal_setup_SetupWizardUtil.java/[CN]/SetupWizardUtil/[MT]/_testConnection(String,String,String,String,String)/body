{
  Class.forName(driverClassName);
  Connection connection=null;
  DataSource dataSource=null;
  try {
    dataSource=DataSourceFactoryUtil.initDataSource(driverClassName,url,userName,password,jndiName);
    connection=dataSource.getConnection();
  }
  finally {
    DataAccess.cleanUp(connection);
    DataSourceFactoryUtil.destroyDataSource(dataSource);
  }
}
