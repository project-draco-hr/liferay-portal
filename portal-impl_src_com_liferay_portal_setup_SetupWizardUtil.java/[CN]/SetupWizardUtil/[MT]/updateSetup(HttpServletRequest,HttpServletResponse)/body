{
  UnicodeProperties unicodeProperties=PropertiesParamUtil.getProperties(request,_PROPERTIES_PREFIX);
  unicodeProperties.setProperty(PropsKeys.LIFERAY_HOME,SystemProperties.get(PropsKeys.LIFERAY_HOME));
  boolean databaseConfigured=_isDatabaseConfigured(unicodeProperties);
  _processDatabaseProperties(request,unicodeProperties,databaseConfigured);
  _processOtherProperties(request,unicodeProperties);
  updateLanguage(request,response);
  unicodeProperties.put(PropsKeys.SETUP_WIZARD_ENABLED,String.valueOf(false));
  _updateCompany(request);
  _updateAdminUser(request,response,unicodeProperties);
  HttpSession session=request.getSession();
  session.setAttribute(WebKeys.SETUP_WIZARD_PROPERTIES,unicodeProperties);
  session.setAttribute(WebKeys.SETUP_WIZARD_PROPERTIES_FILE_CREATED,_writePropertiesFile(unicodeProperties));
}
