{
  UnicodeProperties unicodeProperties=PropertiesParamUtil.getProperties(request,_PROPERTIES_PREFIX);
  boolean databaseConfigured=_isDatabaseConfigured(unicodeProperties);
  _processAdminProperties(request,unicodeProperties);
  _processDatabaseProperties(request,unicodeProperties);
  updateLanguage(request,response);
  unicodeProperties.put(PropsKeys.SETUP_WIZARD_ENABLED,String.valueOf(false));
  HttpSession session=request.getSession();
  session.setAttribute(WebKeys.SETUP_WIZARD_PROPERTIES,unicodeProperties);
  boolean propertiesFileUpdated=_writePropertiesFile(unicodeProperties);
  session.setAttribute(WebKeys.SETUP_WIZARD_PROPERTIES_UPDATED,propertiesFileUpdated);
  if (!databaseConfigured) {
    _reloadServletContext(request,unicodeProperties);
  }
  _resetAdminPassword(request);
}
