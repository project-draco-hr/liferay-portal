{
  StringBundler sb=new StringBundler();
  sb.append(null);
  assertEquals(1,sb.index());
  assertEquals(StringPool.NULL,sb.stringAt(0));
  sb=new StringBundler();
  sb.append("test1");
  assertEquals(1,sb.index());
  assertEquals(16,sb.capacity());
  assertEquals("test1",sb.stringAt(0));
  sb.append("test2");
  assertEquals(2,sb.index());
  assertEquals(16,sb.capacity());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  sb.append("test3");
  assertEquals(3,sb.index());
  assertEquals(16,sb.capacity());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  assertEquals("test3",sb.stringAt(2));
  sb=new StringBundler(2);
  sb.append("test1");
  assertEquals(1,sb.index());
  assertEquals(2,sb.capacity());
  assertEquals("test1",sb.stringAt(0));
  sb.append("test2");
  assertEquals(2,sb.index());
  assertEquals(2,sb.capacity());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  sb.append("test3");
  assertEquals(3,sb.index());
  assertEquals(4,sb.capacity());
  assertEquals("test1",sb.stringAt(0));
  assertEquals("test2",sb.stringAt(1));
  assertEquals("test3",sb.stringAt(2));
}
