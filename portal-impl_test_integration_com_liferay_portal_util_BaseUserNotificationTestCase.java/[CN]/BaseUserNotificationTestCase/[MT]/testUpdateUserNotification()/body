{
  BaseModel baseModel=addBaseModel();
  updateBaseModel(baseModel);
  Assert.assertEquals(2,logRecords.size());
  LogRecord logRecord=logRecords.get(0);
  Assert.assertEquals("Sending email",logRecord.getMessage());
  logRecord=logRecords.get(1);
  Assert.assertEquals("Sending email",logRecord.getMessage());
  List<JSONObject> userNotificationEventsJSONObjects=getUserNotificationEventsJSONObjects(user.getUserId(),(Long)baseModel.getPrimaryKeyObj());
  Assert.assertEquals(2,userNotificationEventsJSONObjects.size());
  int[] notificationTypes=new int[0];
  for (  JSONObject userNotificationEventsJSONObject : userNotificationEventsJSONObjects) {
    notificationTypes=ArrayUtil.append(notificationTypes,userNotificationEventsJSONObject.getInt("notificationType"));
  }
  Assert.assertNotEquals(notificationTypes[0],notificationTypes[1]);
  Assert.assertTrue(ArrayUtil.contains(notificationTypes,UserNotificationDefinition.NOTIFICATION_TYPE_ADD_ENTRY));
  Assert.assertTrue(ArrayUtil.contains(notificationTypes,UserNotificationDefinition.NOTIFICATION_TYPE_UPDATE_ENTRY));
}
