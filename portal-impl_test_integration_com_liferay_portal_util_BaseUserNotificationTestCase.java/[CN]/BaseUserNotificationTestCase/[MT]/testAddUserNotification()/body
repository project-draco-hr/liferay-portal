{
  subscribeToContainer();
  BaseModel baseModel=addBaseModel();
  Assert.assertEquals(1,logRecords.size());
  LogRecord logRecord=logRecords.get(0);
  Assert.assertEquals("Sending email",logRecord.getMessage());
  List<JSONObject> userNotificationEventsJSONObjects=getUserNotificationEventsJSONObjects(user.getUserId(),(Long)baseModel.getPrimaryKeyObj());
  Assert.assertEquals(1,userNotificationEventsJSONObjects.size());
  for (  JSONObject userNotificationEventsJSONObject : userNotificationEventsJSONObjects) {
    Assert.assertEquals(UserNotificationDefinition.NOTIFICATION_TYPE_ADD_ENTRY,userNotificationEventsJSONObject.getInt("notificationType"));
  }
}
