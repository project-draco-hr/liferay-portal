{
  CacheResponse cacheResponse=new CacheResponse(response,StringPool.UTF8);
  processFilter(ETagFilter.class,request,cacheResponse,filterChain);
  CacheResponseData cacheResponseData=new CacheResponseData(cacheResponse.getData(),cacheResponse.getContentType(),cacheResponse.getHeaders());
  if (!ETagUtil.processETag(request,response,cacheResponse.getData())) {
    CacheResponseUtil.write(response,cacheResponseData);
  }
}
