{
  boolean etag=ParamUtil.getBoolean(request,_ETAG,true);
  if (etag) {
    StringServletResponse stringResponse=new StringServletResponse(response);
    processFilter(ETagFilter.class,request,stringResponse,filterChain);
    if (!ETagUtil.processETag(request,response,stringResponse)) {
      ServletResponseUtil.write(response,stringResponse);
    }
  }
 else {
    processFilter(ETagFilter.class,request,response,filterChain);
  }
}
