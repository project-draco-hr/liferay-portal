{
  ByteBufferServletResponse byteBufferResponse=new ByteBufferServletResponse(response);
  processFilter(ETagFilter.class,request,byteBufferResponse,filterChain);
  if (!ETagUtil.processETag(request,response,byteBufferResponse)) {
    CacheResponseUtil.setHeaders(response,byteBufferResponse.getHeaders());
    ServletResponseUtil.write(response,byteBufferResponse.getByteBuffer());
  }
}
