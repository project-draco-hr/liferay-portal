{
  if (_firstBlockNumber == -1) {
    return;
  }
  if (_lastBlockNumber == _firstBlockNumber) {
    _deltaByteChannelWriter.ensureSpace(5);
    _deltaByteBuffer.put(DeltaUtil.REFERENCE_KEY);
    _deltaByteBuffer.putInt(_firstBlockNumber);
  }
 else {
    _deltaByteChannelWriter.ensureSpace(9);
    _deltaByteBuffer.put(DeltaUtil.REFERENCE_RANGE_KEY);
    _deltaByteBuffer.putInt(_firstBlockNumber);
    _deltaByteBuffer.putInt(_lastBlockNumber);
  }
  _firstBlockNumber=-1;
  _lastBlockNumber=-1;
}
