{
  if (!_shouldTest()) {
    return;
  }
  List<LogRecord> logRecords=JDKLoggerTestUtil.configureJDKLogger(FIFOUtil.class.getName(),Level.WARNING);
  File tempFolder=new File("tempFolder");
  tempFolder.mkdirs();
  tempFolder.setReadOnly();
  String oldTempFolder=System.getProperty("java.io.tmpdir");
  System.setProperty("java.io.tmpdir",tempFolder.getAbsolutePath());
  try {
    Assert.assertFalse(FIFOUtil.isFIFOSupported());
  }
  finally {
    System.setProperty("java.io.tmpdir",oldTempFolder);
  }
  Assert.assertEquals(1,logRecords.size());
  LogRecord logRecord=logRecords.get(0);
  Assert.assertEquals("Unable to detect FIFO support",logRecord.getMessage());
  Throwable throwable=logRecord.getThrown();
  Assert.assertEquals(Exception.class,throwable.getClass());
  String message=throwable.getMessage();
  Assert.assertTrue(message.startsWith("Unable to create FIFO with command \"mkfifo\", external " + "process returned "));
}
