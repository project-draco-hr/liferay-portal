{
  File fromFileNameVersionFile=getFileNameVersionFile(companyId,repositoryId,fileName,fromVersionLabel);
  if (!fromFileNameVersionFile.exists()) {
    throw new NoSuchFileException(companyId,repositoryId,fileName,fromVersionLabel);
  }
  File toFileNameVersionFile=getFileNameVersionFile(companyId,repositoryId,fileName,toVersionLabel);
  if (toFileNameVersionFile.exists()) {
    throw new DuplicateFileException(toFileNameVersionFile.getPath());
  }
  try {
    toFileNameVersionFile.createNewFile();
    FileUtil.copyFile(fromFileNameVersionFile,toFileNameVersionFile);
  }
 catch (  IOException ioe) {
    throw new SystemException(ioe);
  }
}
