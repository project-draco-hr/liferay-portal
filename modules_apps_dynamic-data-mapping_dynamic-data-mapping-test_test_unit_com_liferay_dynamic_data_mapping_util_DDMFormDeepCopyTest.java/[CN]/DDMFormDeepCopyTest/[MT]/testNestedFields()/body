{
  DDMForm ddmForm=createDDMForm();
  DDMFormField nameDDMFormField=new DDMFormField("Name","textarea");
  ddmForm.addDDMFormField(nameDDMFormField);
  DDMFormField phoneDDMFormField=new DDMFormField("Phone","text");
  nameDDMFormField.addNestedDDMFormField(phoneDDMFormField);
  DDMFormField contactDDMFormField=new DDMFormField("Name","text");
  nameDDMFormField.addNestedDDMFormField(contactDDMFormField);
  DDMFormField addressDDMFormField=new DDMFormField("ZipCode","text");
  contactDDMFormField.addNestedDDMFormField(addressDDMFormField);
  com.liferay.portlet.dynamicdatamapping.DDMForm copyDDMForm=BeanPropertiesUtil.deepCopyProperties(ddmForm,com.liferay.portlet.dynamicdatamapping.DDMForm.class);
  List<com.liferay.portlet.dynamicdatamapping.DDMFormField> copyDDMFormFields=copyDDMForm.getDDMFormFields();
  Assert.assertEquals(1,copyDDMFormFields.size());
  com.liferay.portlet.dynamicdatamapping.DDMFormField copyDDMFormField=copyDDMFormFields.get(0);
  Assert.assertEquals("Name",copyDDMFormField.getName());
  Assert.assertEquals("textarea",copyDDMFormField.getType());
  List<com.liferay.portlet.dynamicdatamapping.DDMFormField> copyNestedDDMFormFields=copyDDMFormField.getNestedDDMFormFields();
  Assert.assertEquals(2,copyNestedDDMFormFields.size());
  com.liferay.portlet.dynamicdatamapping.DDMFormField copyNestedDDMFormField=copyNestedDDMFormFields.get(0);
  Assert.assertEquals("Phone",copyNestedDDMFormField.getName());
  Assert.assertEquals("text",copyNestedDDMFormField.getType());
  copyNestedDDMFormField=copyNestedDDMFormFields.get(1);
  Assert.assertEquals("Name",copyNestedDDMFormField.getName());
  Assert.assertEquals("text",copyNestedDDMFormField.getType());
  Assert.assertEquals(1,copyNestedDDMFormField.getNestedDDMFormFields().size());
  copyNestedDDMFormField=copyNestedDDMFormField.getNestedDDMFormFields().get(0);
  Assert.assertEquals("ZipCode",copyNestedDDMFormField.getName());
  Assert.assertEquals("text",copyNestedDDMFormField.getType());
}
