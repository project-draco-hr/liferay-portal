{
  DDMForm ddmForm=createDDMForm();
  DDMFormField nameDDMFormField=new DDMFormField("Name","textarea");
  ddmForm.addDDMFormField(nameDDMFormField);
  DDMFormField phoneDDMFormField=new DDMFormField("Phone","text");
  DDMFormField contactDDMFormField=new DDMFormField("Name","text");
  nameDDMFormField.addNestedDDMFormField(phoneDDMFormField);
  nameDDMFormField.addNestedDDMFormField(contactDDMFormField);
  DDMFormField addressDDMFormField=new DDMFormField("ZipCode","text");
  contactDDMFormField.addNestedDDMFormField(addressDDMFormField);
  com.liferay.portlet.dynamicdatamapping.DDMForm ddmFormCopy=BeanPropertiesUtil.deepCopyProperties(ddmForm,com.liferay.portlet.dynamicdatamapping.DDMForm.class);
  List<com.liferay.portlet.dynamicdatamapping.DDMFormField> ddmFormFieldsCopy=ddmFormCopy.getDDMFormFields();
  Assert.assertEquals(1,ddmFormFieldsCopy.size());
  com.liferay.portlet.dynamicdatamapping.DDMFormField ddmFormFieldCopy=ddmFormFieldsCopy.get(0);
  Assert.assertEquals("Name",ddmFormFieldCopy.getName());
  Assert.assertEquals("textarea",ddmFormFieldCopy.getType());
  List<com.liferay.portlet.dynamicdatamapping.DDMFormField> nestedDDMFormFieldsCopy=ddmFormFieldCopy.getNestedDDMFormFields();
  Assert.assertEquals(2,nestedDDMFormFieldsCopy.size());
  com.liferay.portlet.dynamicdatamapping.DDMFormField nestedDDMFormFieldCopy=nestedDDMFormFieldsCopy.get(0);
  Assert.assertEquals("Phone",nestedDDMFormFieldCopy.getName());
  Assert.assertEquals("text",nestedDDMFormFieldCopy.getType());
  nestedDDMFormFieldCopy=nestedDDMFormFieldsCopy.get(1);
  Assert.assertEquals("Name",nestedDDMFormFieldCopy.getName());
  Assert.assertEquals("text",nestedDDMFormFieldCopy.getType());
  Assert.assertEquals(1,nestedDDMFormFieldCopy.getNestedDDMFormFields().size());
  nestedDDMFormFieldCopy=nestedDDMFormFieldCopy.getNestedDDMFormFields().get(0);
  Assert.assertEquals("ZipCode",nestedDDMFormFieldCopy.getName());
  Assert.assertEquals("text",nestedDDMFormFieldCopy.getType());
}
