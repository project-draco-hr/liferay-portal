{
  DDMForm ddmForm=createDDMForm();
  DDMFormField nameDDMFormField=new DDMFormField("Name","textarea");
  ddmForm.addDDMFormField(nameDDMFormField);
  nameDDMFormField.setFieldNamespace("namespace");
  nameDDMFormField.setIndexType("indexType");
  LocalizedValue value=new LocalizedValue(LocaleUtil.BRAZIL);
  value.addString(LocaleUtil.BRAZIL,"teste");
  nameDDMFormField.setLabel(value);
  nameDDMFormField.setLocalizable(true);
  nameDDMFormField.setMultiple(true);
  nameDDMFormField.setReadOnly(true);
  nameDDMFormField.setRepeatable(true);
  nameDDMFormField.setRequired(true);
  nameDDMFormField.setShowLabel(true);
  value=new LocalizedValue(LocaleUtil.ENGLISH);
  value.addString(LocaleUtil.ENGLISH,"style");
  nameDDMFormField.setStyle(value);
  value=new LocalizedValue(LocaleUtil.FRANCE);
  value.addString(LocaleUtil.FRANCE,"tip");
  nameDDMFormField.setTip(value);
  nameDDMFormField.setVisibilityExpression("expression");
  DDMFormFieldOptions fieldOptions=new DDMFormFieldOptions();
  fieldOptions.setDefaultLocale(LocaleUtil.BRAZIL);
  fieldOptions.addOption("teste");
  fieldOptions.addOptionLabel("teste",LocaleUtil.ENGLISH,"label");
  nameDDMFormField.setDDMFormFieldOptions(fieldOptions);
  com.liferay.portlet.dynamicdatamapping.DDMForm copiedForm=BeanPropertiesUtil.deepCopyProperties(com.liferay.portlet.dynamicdatamapping.DDMForm.class,ddmForm);
  com.liferay.portlet.dynamicdatamapping.DDMFormField formField=copiedForm.getDDMFormFields().get(0);
  Assert.assertEquals("Name",formField.getName());
  Assert.assertEquals("textarea",formField.getType());
  Assert.assertEquals("namespace",formField.getFieldNamespace());
  Assert.assertEquals("indexType",formField.getIndexType());
  com.liferay.portlet.dynamicdatamapping.LocalizedValue lValue=formField.getLabel();
  Assert.assertEquals(LocaleUtil.BRAZIL,lValue.getDefaultLocale());
  Assert.assertEquals("teste",lValue.getString(LocaleUtil.BRAZIL));
  Assert.assertTrue(formField.isLocalizable());
  Assert.assertTrue(formField.isMultiple());
  Assert.assertTrue(formField.isReadOnly());
  Assert.assertTrue(formField.isRepeatable());
  Assert.assertTrue(formField.isRequired());
  Assert.assertTrue(formField.isShowLabel());
  lValue=formField.getStyle();
  Assert.assertEquals(LocaleUtil.ENGLISH,lValue.getDefaultLocale());
  Assert.assertEquals("style",lValue.getString(LocaleUtil.ENGLISH));
  lValue=formField.getTip();
  Assert.assertEquals(LocaleUtil.FRANCE,lValue.getDefaultLocale());
  Assert.assertEquals("tip",lValue.getString(LocaleUtil.FRANCE));
  Assert.assertEquals("expression",formField.getVisibilityExpression());
  com.liferay.portlet.dynamicdatamapping.DDMFormFieldOptions ffOptions=formField.getDDMFormFieldOptions();
  Assert.assertEquals(LocaleUtil.BRAZIL,ffOptions.getDefaultLocale());
  Map<String,com.liferay.portlet.dynamicdatamapping.LocalizedValue> mapOptions=ffOptions.getOptions();
  Assert.assertTrue(mapOptions.containsKey("teste"));
  lValue=mapOptions.get("teste");
  Assert.assertEquals("label",lValue.getString(LocaleUtil.ENGLISH));
}
