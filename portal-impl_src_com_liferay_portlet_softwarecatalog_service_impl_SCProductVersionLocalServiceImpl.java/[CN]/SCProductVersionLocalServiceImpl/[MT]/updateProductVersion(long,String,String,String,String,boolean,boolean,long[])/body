{
  directDownloadURL=StringUtil.toLowerCase(directDownloadURL.trim());
  validate(productVersionId,version,changeLog,downloadPageURL,directDownloadURL,testDirectDownloadURL,frameworkVersionIds);
  SCProductVersion productVersion=scProductVersionPersistence.findByPrimaryKey(productVersionId);
  productVersion.setVersion(version);
  productVersion.setChangeLog(changeLog);
  productVersion.setDownloadPageURL(downloadPageURL);
  productVersion.setDirectDownloadURL(directDownloadURL);
  productVersion.setRepoStoreArtifact(repoStoreArtifact);
  scProductVersionPersistence.update(productVersion);
  scProductVersionPersistence.setSCFrameworkVersions(productVersionId,frameworkVersionIds);
  SCProductEntry productEntry=scProductEntryPersistence.findByPrimaryKey(productVersion.getProductEntryId());
  productEntry.setModifiedDate(new Date());
  scProductEntryPersistence.update(productEntry);
  Indexer<SCProductEntry> indexer=IndexerRegistryUtil.nullSafeGetIndexer(SCProductEntry.class);
  indexer.reindex(productEntry);
  return productVersion;
}
