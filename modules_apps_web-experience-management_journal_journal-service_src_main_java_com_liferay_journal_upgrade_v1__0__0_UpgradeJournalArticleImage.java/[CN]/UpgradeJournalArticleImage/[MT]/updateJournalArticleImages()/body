{
  PreparedStatement ps=null;
  ResultSet rs=null;
  try {
    ps=connection.prepareStatement("select articleImageId, elName from JournalArticleImage");
    rs=ps.executeQuery();
    while (rs.next()) {
      long articleImageId=rs.getLong(1);
      String elName=rs.getString(2);
      int lastIndexOf=elName.lastIndexOf(StringPool.UNDERLINE);
      if (lastIndexOf > 0) {
        elName=elName.substring(0,lastIndexOf);
      }
      updateJournalArticle(articleImageId,elName);
    }
  }
  finally {
    DataAccess.cleanUp(ps,rs);
  }
}
