{
  HotDeployUtil.fireUndeployEvent(hotDeployEvent);
  ClassLoaderPool.register(hotDeployEvent.getServletContextName(),hotDeployEvent.getContextClassLoader());
  PortletClassLoaderUtil.setServletContextName(hotDeployEvent.getServletContextName());
  try {
    portletContextLoaderListener.contextDestroyed(new ServletContextEvent(hotDeployEvent.getServletContext()));
  }
  finally {
    ClassLoaderPool.unregister(hotDeployEvent.getServletContextName());
    PortletClassLoaderUtil.setServletContextName(null);
  }
}
