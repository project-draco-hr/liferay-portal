{
  long classNameId=PortalUtil.getClassNameId(DDMContent.class.getName());
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("root");
  Iterator<Field> itr=fields.iterator();
  while (itr.hasNext()) {
    Field field=itr.next();
    _appendField(rootElement,field.getName(),String.valueOf(field.getValue()));
  }
  DDMContent ddmContent=DDMContentLocalServiceUtil.addContent(serviceContext.getUserId(),serviceContext.getScopeGroupId(),DDMStorageLink.class.getName(),null,document.formattedString(),serviceContext);
  DDMStorageLinkLocalServiceUtil.addStorageLink(classNameId,ddmContent.getPrimaryKey(),ddmStructureId,serviceContext);
  return ddmContent.getPrimaryKey();
}
