{
  List<Fields> fieldsList=new ArrayList<Fields>();
  XPath conditionXPath=null;
  if (condition != null) {
    conditionXPath=_parseCondition(condition);
  }
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getDDMStructure(ddmStructureId);
  for (  long classPK : classPKs) {
    DDMContent ddmContent=DDMContentLocalServiceUtil.getContent(classPK);
    Fields fields=DDMXMLUtil.getFields(ddmStructure,conditionXPath,ddmContent.getData(),fieldNames);
    fieldsList.add(fields);
  }
  if (orderByComparator != null) {
    Collections.sort(fieldsList,orderByComparator);
  }
  return fieldsList;
}
