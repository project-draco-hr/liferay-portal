{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(SocialEquityUser.class,PortalClassLoaderUtil.getClassLoader());
  dynamicQuery.setProjection(projectionList);
  dynamicQuery.add(RestrictionsFactoryUtil.eq("userId",userId));
  if (groupId > 0) {
    dynamicQuery.add(RestrictionsFactoryUtil.eq("groupId",groupId));
  }
  List<?> results=dynamicQuery(dynamicQuery);
  Object[] values=(Object[])results.get(0);
  SocialEquityValue socialEquityValue=null;
  if (values[0] != null) {
    socialEquityValue=new SocialEquityValue((Double)values[0],(Double)values[1]);
  }
 else {
    socialEquityValue=new SocialEquityValue(0,0);
  }
  return socialEquityValue;
}
