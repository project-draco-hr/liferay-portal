{
  Element folderElement=portletDataContext.getExportDataElement(folder,Folder.class);
  String folderPath=ExportImportPathUtil.getModelPath(folder.getGroupId(),Folder.class.getName(),folder.getFolderId());
  if (folder.isMountPoint()) {
    Repository repository=RepositoryUtil.findByPrimaryKey(folder.getRepositoryId());
    StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,repository);
    portletDataContext.addReferenceElement(folder,folderElement,repository,false);
    portletDataContext.addClassedModel(folderElement,folderPath,folder,DLPortletDataHandler.NAMESPACE);
    return;
  }
 else   if (!folder.isDefaultRepository()) {
    return;
  }
  if (folder.getParentFolderId() != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,folder.getParentFolder());
  }
  exportFolderFileEntryTypes(portletDataContext,folder,folderElement);
  portletDataContext.addClassedModel(folderElement,folderPath,folder,DLPortletDataHandler.NAMESPACE);
}
