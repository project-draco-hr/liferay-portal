{
  GradleUtil.applyPlugin(project,JavaPlugin.class);
  final JspCExtension jspCExtension=GradleUtil.addExtension(project,EXTENSION_NAME,JspCExtension.class);
  Configuration jspCConfiguration=addJspCConfiguration(project);
  Configuration jspCToolConfiguration=addJspCToolConfiguration(project);
  final CompileJSPTask generateJSPJavaTask=addTaskGenerateJSPJava(project,jspCConfiguration,jspCToolConfiguration);
  addTaskCompileJSP(generateJSPJavaTask,jspCConfiguration,jspCToolConfiguration);
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      addJspCDependencies(project);
      addJspCToolDependencies(project);
      configureJspcExtension(project,jspCExtension);
      jspCExtension.copyTo(generateJSPJavaTask);
    }
  }
);
}
