{
  CompileJSPTask compileJSPTask=GradleUtil.addTask(project,GENERATE_JSP_JAVA_TASK_NAME,CompileJSPTask.class);
  compileJSPTask.setClasspath(jspCToolConfiguration);
  compileJSPTask.setDescription("Compiles JSP files to Java source files to check for errors.");
  compileJSPTask.setDestinationDir(new File(project.getBuildDir(),"jspc"));
  compileJSPTask.setJspCClasspath(jspCConfiguration);
  File webAppDir=null;
  PluginContainer pluginContainer=project.getPlugins();
  if (pluginContainer.hasPlugin(WarPlugin.class)) {
    WarPluginConvention warPluginConvention=GradleUtil.getConvention(project,WarPluginConvention.class);
    webAppDir=warPluginConvention.getWebAppDir();
  }
 else {
    webAppDir=getResourcesDir(project);
  }
  compileJSPTask.setWebAppDir(webAppDir);
  return compileJSPTask;
}
