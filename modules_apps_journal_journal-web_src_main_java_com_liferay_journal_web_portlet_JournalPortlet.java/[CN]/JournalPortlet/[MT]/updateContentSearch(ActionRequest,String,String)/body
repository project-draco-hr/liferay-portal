{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  long referingPlid=ParamUtil.getLong(actionRequest,"referringPlid");
  if (referingPlid > 0) {
    layout=_layoutLocalService.getLayout(referingPlid);
  }
  _journalContentSearchLocalService.updateContentSearch(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),portletResource,articleId,true);
}
