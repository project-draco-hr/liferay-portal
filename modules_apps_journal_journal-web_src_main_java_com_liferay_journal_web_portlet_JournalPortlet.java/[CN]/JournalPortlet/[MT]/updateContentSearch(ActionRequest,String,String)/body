{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  long referringPlid=ParamUtil.getLong(actionRequest,"referringPlid");
  if (referringPlid > 0) {
    layout=_layoutLocalService.fetchLayout(referringPlid);
  }
  _journalContentSearchLocalService.updateContentSearch(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),portletResource,articleId,true);
}
