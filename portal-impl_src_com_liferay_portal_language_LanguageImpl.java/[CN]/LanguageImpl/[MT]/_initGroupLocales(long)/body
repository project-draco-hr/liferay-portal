{
  String[] languageIds=null;
  try {
    Group group=GroupLocalServiceUtil.getGroup(groupId);
    UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
    languageIds=StringUtil.split(typeSettingsProperties.getProperty(PropsKeys.LOCALES));
  }
 catch (  Exception e) {
    languageIds=PropsValues.LOCALES_ENABLED;
  }
  Locale[] locales=new Locale[languageIds.length];
  Map<String,Locale> localesMap=new HashMap<>(languageIds.length);
  Set<Locale> localesSet=new HashSet<>(languageIds.length);
  for (int i=0; i < languageIds.length; i++) {
    String languageId=languageIds[i];
    Locale locale=LocaleUtil.fromLanguageId(languageId,false);
    String language=languageId;
    int pos=languageId.indexOf(CharPool.UNDERLINE);
    if (pos > 0) {
      language=languageId.substring(0,pos);
    }
    locales[i]=locale;
    if (!localesMap.containsKey(language)) {
      localesMap.put(language,locale);
    }
    localesSet.add(locale);
  }
  _groupLocalesByLanguageMap.put(groupId,localesMap);
  _groupLocalesMap.put(groupId,locales);
  _groupLocalesSet.put(groupId,localesSet);
}
