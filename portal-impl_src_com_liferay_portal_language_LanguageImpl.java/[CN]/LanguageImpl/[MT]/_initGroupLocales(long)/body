{
  String[] languageIds=null;
  try {
    Group group=GroupLocalServiceUtil.getGroup(groupId);
    UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
    languageIds=StringUtil.split(typeSettingsProperties.getProperty(PropsKeys.LOCALES));
  }
 catch (  Exception e) {
    languageIds=PropsValues.LOCALES_ENABLED;
  }
  Map<String,Locale> localesMap=new HashMap<>();
  Set<Locale> localesSet=new HashSet<>();
  for (int i=0; i < languageIds.length; i++) {
    String languageId=languageIds[i];
    Locale locale=LocaleUtil.fromLanguageId(languageId,false);
    String language=languageId;
    int pos=languageId.indexOf(CharPool.UNDERLINE);
    if (pos > 0) {
      language=languageId.substring(0,pos);
    }
    if (!localesMap.containsKey(language)) {
      localesMap.put(language,locale);
    }
    localesSet.add(locale);
  }
  _groupLanguageCodeLocalesMapMap.put(groupId,localesMap);
  _groupLocalesSetsMap.put(groupId,localesSet);
}
