{
  String[] languageIds=PropsValues.LOCALES;
  if (companyId != CompanyConstants.SYSTEM) {
    try {
      languageIds=PrefsPropsUtil.getStringArray(companyId,PropsKeys.LOCALES,StringPool.COMMA,PropsValues.LOCALES_ENABLED);
    }
 catch (    SystemException se) {
      languageIds=PropsValues.LOCALES_ENABLED;
    }
  }
  _duplicateLanguageCodes=new HashSet<>();
  _languageCodeLocalesMap=new HashMap<>();
  _languageIdLocalesMap=new HashMap<>();
  for (int i=0; i < languageIds.length; i++) {
    String languageId=languageIds[i];
    Locale locale=LocaleUtil.fromLanguageId(languageId,false);
    String language=languageId;
    int pos=languageId.indexOf(CharPool.UNDERLINE);
    if (pos > 0) {
      language=languageId.substring(0,pos);
    }
    if (_languageCodeLocalesMap.containsKey(language)) {
      _duplicateLanguageCodes.add(language);
    }
    if (!_languageCodeLocalesMap.containsKey(language)) {
      _languageCodeLocalesMap.put(language,locale);
    }
    _languageIdLocalesMap.put(LocaleUtil.toLanguageId(locale),locale);
  }
  String[] localesBetaArray=PropsValues.LOCALES_BETA;
  _localesBetaSet=new HashSet<>(localesBetaArray.length);
  for (  String languageId : localesBetaArray) {
    Locale locale=LocaleUtil.fromLanguageId(languageId,false);
    _localesBetaSet.add(locale);
  }
  _supportedLocalesSet=new HashSet<>(_languageIdLocalesMap.values());
  _supportedLocalesSet.removeAll(_localesBetaSet);
}
