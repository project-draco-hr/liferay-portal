{
  int initialUserSubscriptionsCount=SubscriptionLocalServiceUtil.getUserSubscriptionsCount(TestPropsValues.getUserId());
  testSubscribeFolder(folderId);
  BookmarksFolderLocalServiceUtil.unsubscribeFolder(TestPropsValues.getUserId(),_group.getGroupId(),folderId);
  Assert.assertEquals(initialUserSubscriptionsCount,SubscriptionLocalServiceUtil.getUserSubscriptionsCount(TestPropsValues.getUserId()));
  List<Subscription> subscriptions=SubscriptionLocalServiceUtil.getUserSubscriptions(TestPropsValues.getUserId(),BookmarksFolder.class.getName());
  long subscriptionClassPK=folderId;
  if (folderId == BookmarksFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    subscriptionClassPK=_group.getGroupId();
  }
  for (  Subscription subscription : subscriptions) {
    if (subscription.getClassName().equals(BookmarksFolder.class.getName()) && (subscription.getClassPK() == subscriptionClassPK)) {
      Assert.fail("A susbcription exist for folder");
    }
  }
}
