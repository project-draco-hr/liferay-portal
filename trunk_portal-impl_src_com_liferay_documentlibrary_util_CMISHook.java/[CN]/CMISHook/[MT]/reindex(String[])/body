{
  long companyId=GetterUtil.getLong(ids[0]);
  String portletId=ids[1];
  long groupId=GetterUtil.getLong(ids[2]);
  long repositoryId=GetterUtil.getLong(ids[3]);
  Collection<com.liferay.portal.kernel.search.Document> documents=new ArrayList<com.liferay.portal.kernel.search.Document>();
  try {
    Folder repositoryFolderEntry=getRepositoryFolder(companyId,repositoryId);
    List<Folder> folders=getFolders(repositoryFolderEntry);
    for (    Folder folder : folders) {
      String fileName=folder.getName();
      Indexer indexer=IndexerRegistryUtil.getIndexer(FileModel.class);
      FileModel fileModel=new FileModel();
      fileModel.setCompanyId(companyId);
      fileModel.setFileName(fileName);
      fileModel.setGroupId(groupId);
      fileModel.setPortletId(portletId);
      fileModel.setRepositoryId(repositoryId);
      com.liferay.portal.kernel.search.Document document=indexer.getDocument(fileModel);
      if (document == null) {
        continue;
      }
      documents.add(document);
    }
  }
 catch (  Exception e) {
    if (_log.isErrorEnabled()) {
      _log.error(e,e);
    }
  }
  SearchEngineUtil.updateDocuments(companyId,documents);
}
