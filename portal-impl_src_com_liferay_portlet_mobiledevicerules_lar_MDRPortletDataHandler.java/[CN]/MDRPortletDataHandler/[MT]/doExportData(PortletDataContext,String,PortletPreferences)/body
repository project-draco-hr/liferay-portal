{
  portletDataContext.addPermissions(MDRPermission.RESOURCE_NAME,portletDataContext.getScopeGroupId());
  Element rootElement=addExportDataRootElement(portletDataContext);
  if (portletDataContext.getBooleanParameter(NAMESPACE,"rules")) {
    ActionableDynamicQuery rulesActionableDynamicQuery=new MDRRuleExportActionableDynamicQuery(portletDataContext);
    rulesActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"actions")) {
    ActionableDynamicQuery actionsActionableDynamicQuery=new MDRActionExportActionableDynamicQuery(portletDataContext){
      @Override protected StagedModelType getStagedModelType(){
        return new StagedModelType(PortalUtil.getClassNameId(MDRAction.class));
      }
    }
;
    actionsActionableDynamicQuery.performActions();
  }
  return getExportDataRootElementString(rootElement);
}
