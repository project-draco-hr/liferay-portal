{
  portletDataContext.addPermissions("com.liferay.portlet.mobiledevicerules",portletDataContext.getScopeGroupId());
  Element rootElement=addExportDataRootElement(portletDataContext);
  ActionableDynamicQuery rulesActionableDynamicQuery=new MDRRuleActionableDynamicQuery(){
    @Override protected void addCriteria(    DynamicQuery dynamicQuery){
      portletDataContext.addDateRangeCriteria(dynamicQuery,"modifiedDate");
    }
    @Override protected void performAction(    Object object) throws PortalException {
      MDRRule rule=(MDRRule)object;
      StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,rule);
    }
  }
;
  rulesActionableDynamicQuery.setGroupId(portletDataContext.getScopeGroupId());
  rulesActionableDynamicQuery.performActions();
  ActionableDynamicQuery actionsActionableDynamicQuery=new MDRActionActionableDynamicQuery(){
    @Override protected void addCriteria(    DynamicQuery dynamicQuery){
      portletDataContext.addDateRangeCriteria(dynamicQuery,"modifiedDate");
    }
    @Override protected void performAction(    Object object) throws PortalException {
      MDRAction action=(MDRAction)object;
      StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,action);
    }
  }
;
  actionsActionableDynamicQuery.setGroupId(portletDataContext.getScopeGroupId());
  actionsActionableDynamicQuery.performActions();
  return getExportDataRootElementString(rootElement);
}
