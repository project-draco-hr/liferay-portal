{
  portletDataContext.addPortletPermissions(MDRPermission.RESOURCE_NAME);
  Element rootElement=addExportDataRootElement(portletDataContext);
  if (portletDataContext.getBooleanParameter(NAMESPACE,"rules")) {
    ActionableDynamicQuery rulesActionableDynamicQuery=new MDRRuleExportActionableDynamicQuery(portletDataContext);
    rulesActionableDynamicQuery.performActions();
  }
  if (portletDataContext.getBooleanParameter(NAMESPACE,"actions")) {
    ActionableDynamicQuery actionsActionableDynamicQuery=new MDRActionExportActionableDynamicQuery(portletDataContext){
      @Override protected StagedModelType getStagedModelType(){
        return new StagedModelType(PortalUtil.getClassNameId(MDRAction.class),StagedModelType.REFERRER_CLASS_NAME_ID_ALL);
      }
    }
;
    actionsActionableDynamicQuery.performActions();
  }
  return getExportDataRootElementString(rootElement);
}
