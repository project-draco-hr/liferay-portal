{
  BuildDeploymentHelperTask buildDeploymentHelperTask=GradleUtil.addTask(project,BUILD_DEPLOYMENT_HELPER_TASK_NAME,BuildDeploymentHelperTask.class);
  buildDeploymentHelperTask.setDeploymentFiles(new Callable<List<Jar>>(){
    @Override public List<Jar> call() throws Exception {
      List<Jar> jarTasks=new ArrayList<>();
      for (      Project curProject : project.getAllprojects()) {
        TaskContainer taskContainer=curProject.getTasks();
        Task task=taskContainer.findByName(JavaPlugin.JAR_TASK_NAME);
        if (task instanceof Jar) {
          jarTasks.add((Jar)task);
        }
      }
      return jarTasks;
    }
  }
);
  buildDeploymentHelperTask.setDescription("Assembles a war file to deploy one or more apps to a cluster.");
  buildDeploymentHelperTask.setOutputFile(new Callable<File>(){
    @Override public File call() throws Exception {
      return new File(project.getBuildDir(),project.getName() + ".war");
    }
  }
);
  return buildDeploymentHelperTask;
}
