{
  Object response=new Object();
  destination.register(new ReplayMessageListener(response));
  _messageBus.addDestination(destination);
  try {
    Assert.assertSame(response,_defaultSynchronousMessageSender.send(destination.getName(),new Message()));
  }
  finally {
    _messageBus.removeDestination(destination.getName());
    destination.close(true);
  }
}
