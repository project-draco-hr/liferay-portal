{
  ObjectClassDefinition objectClassDefinition=mock(ObjectClassDefinition.class);
  AttributeDefinition attributeDefinition=mock(AttributeDefinition.class);
  whenObjectClassDefinitionGetAttributeDefinitions(objectClassDefinition,new AttributeDefinition[]{attributeDefinition},ObjectClassDefinition.OPTIONAL);
  whenAttributeDefinitionGetCardinality(attributeDefinition,0);
  whenAttributeDefinitionGetID(attributeDefinition,"Text");
  whenAttributeDefinitionGetType(attributeDefinition,AttributeDefinition.STRING);
  Configuration configuration=mock(Configuration.class);
  Dictionary<String,Object> properties=new Hashtable<>();
  properties.put("Text","Ella Fitzgerald");
  whenConfigurationGetProperties(configuration,properties);
  ConfigurationModel configurationModel=new ConfigurationModel(objectClassDefinition,configuration,null,false);
  ConfigurationModelToDDMFormConverter configurationModelToDDMFormConverter=new ConfigurationModelToDDMFormConverter(configurationModel,_enLocale);
  DDMForm ddmForm=configurationModelToDDMFormConverter.getDDMForm();
  Map<String,DDMFormField> ddmFormFieldsMap=ddmForm.getDDMFormFieldsMap(false);
  DDMFormField ddmFormField=ddmFormFieldsMap.get("Text");
  Assert.assertNotNull(ddmFormField);
  Assert.assertEquals(DDMFormFieldType.TEXT,ddmFormField.getType());
  Assert.assertEquals("string",ddmFormField.getDataType());
  Assert.assertFalse(ddmFormField.isRepeatable());
  Assert.assertFalse(ddmFormField.isRequired());
  LocalizedValue predefinedValue=ddmFormField.getPredefinedValue();
  Assert.assertEquals(_enLocale,predefinedValue.getDefaultLocale());
  Assert.assertEquals("Ella Fitzgerald",predefinedValue.getString(_enLocale));
}
