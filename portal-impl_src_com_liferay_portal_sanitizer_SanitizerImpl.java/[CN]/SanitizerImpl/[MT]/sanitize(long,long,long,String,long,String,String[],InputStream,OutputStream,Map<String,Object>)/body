{
  if (_sanitizers.isEmpty()) {
    return;
  }
  if (_sanitizers.size() == 1) {
    Sanitizer sanitizer=_sanitizers.get(0);
    sanitizer.sanitize(companyId,groupId,userId,className,classPK,contentType,modes,inputStream,outputStream,options);
    return;
  }
  ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();
  try {
    StreamUtil.transfer(inputStream,byteArrayOutputStream);
  }
 catch (  IOException ioe) {
    throw new SanitizerException(ioe);
  }
  byte[] bytes=sanitize(companyId,groupId,userId,className,classPK,contentType,modes,byteArrayOutputStream.toByteArray(),options);
  try {
    outputStream.write(bytes);
  }
 catch (  IOException ioe) {
    throw new SanitizerException(ioe);
  }
}
