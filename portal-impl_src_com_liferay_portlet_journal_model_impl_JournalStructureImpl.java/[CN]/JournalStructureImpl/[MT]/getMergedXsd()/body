{
  String parentStructureId=getParentStructureId();
  String xsd=getXsd();
  if (Validator.isNull(parentStructureId)) {
    return xsd;
  }
  try {
    JournalStructure parentStructure=null;
    try {
      parentStructure=JournalStructureLocalServiceUtil.getStructure(getGroupId(),parentStructureId);
    }
 catch (    NoSuchStructureException nsse) {
      Group group=GroupLocalServiceUtil.getGroup(getGroupId());
      Group companyGroup=GroupLocalServiceUtil.getCompanyGroup(group.getCompanyId());
      if (getGroupId() == companyGroup.getGroupId()) {
        throw new NoSuchStructureException();
      }
      parentStructure=JournalStructureLocalServiceUtil.getStructure(companyGroup.getGroupId(),parentStructureId);
    }
    Document doc=SAXReaderUtil.read(getXsd());
    Element root=doc.getRootElement();
    Document parentDoc=SAXReaderUtil.read(parentStructure.getMergedXsd());
    Element parentRoot=parentDoc.getRootElement();
    addParentStructureId(parentRoot,parentStructureId);
    root.content().addAll(0,parentRoot.content());
    xsd=root.asXML();
  }
 catch (  Exception e) {
  }
  return xsd;
}
