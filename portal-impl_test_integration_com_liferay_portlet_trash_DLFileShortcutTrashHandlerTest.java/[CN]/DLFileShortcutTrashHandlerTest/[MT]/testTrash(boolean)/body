{
  int initialNotInTrashCount=getNotInTrashCount();
  int initialTrashEntriesCount=getTrashEntriesCount();
  FileEntry fileEntry=addFileEntry(false,"Test Basic.txt");
  long fileEntryId=fileEntry.getFileEntryId();
  DLFileShortcut fileShortcut=addFileShortcut(fileEntry);
  long fileShortcutId=fileShortcut.getFileShortcutId();
  Assert.assertEquals(initialNotInTrashCount + 2,getNotInTrashCount());
  Assert.assertEquals(initialTrashEntriesCount,getTrashEntriesCount());
  DLAppServiceUtil.moveFileEntryToTrash(fileEntryId);
  Assert.assertEquals(initialNotInTrashCount,getNotInTrashCount());
  Assert.assertEquals(initialTrashEntriesCount + 1,getTrashEntriesCount());
  DLAppServiceUtil.restoreFileEntryFromTrash(fileEntryId);
  Assert.assertEquals(initialNotInTrashCount + 2,getNotInTrashCount());
  DLAppServiceUtil.moveFileShortcutToTrash(fileShortcutId);
  Assert.assertEquals(initialNotInTrashCount + 1,getNotInTrashCount());
  Assert.assertEquals(initialTrashEntriesCount + 1,getTrashEntriesCount());
  if (delete) {
    TrashEntryServiceUtil.deleteEntries(parentFolder.getGroupId());
    Assert.assertEquals(initialNotInTrashCount + 1,getNotInTrashCount());
    Assert.assertNull(fetchAssetEntry(DLFileShortcut.class.getName(),fileShortcutId));
  }
 else {
    DLAppServiceUtil.restoreFileShortcutFromTrash(fileShortcutId);
    Assert.assertEquals(initialNotInTrashCount + 2,getNotInTrashCount());
  }
  Assert.assertEquals(initialTrashEntriesCount,getTrashEntriesCount());
}
