{
  Indexer indexer=Mockito.mock(Indexer.class);
  Summary summary=new Summary(null,SUMMARY_TITLE,SUMMARY_CONTENT,null);
  when(indexer.getSummary((Document)Matchers.any(),Matchers.anyString(),(PortletURL)Matchers.any(),(PortletRequest)Matchers.isNull(),(PortletResponse)Matchers.isNull())).thenReturn(summary);
  stub(method(IndexerRegistryUtil.class,"getIndexer",String.class)).toReturn(indexer);
  searchBlankDocument();
  Assert.assertSame(summary,result.getSummary());
  assertThatEverythingUnrelatedIsEmpty();
}
