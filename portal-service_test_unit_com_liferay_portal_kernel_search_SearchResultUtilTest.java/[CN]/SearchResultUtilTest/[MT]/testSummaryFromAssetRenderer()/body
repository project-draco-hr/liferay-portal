{
  when(assetRenderer.getSearchSummary((Locale)Matchers.any())).thenReturn(SearchTestUtil.SUMMARY_CONTENT);
  when(assetRenderer.getTitle((Locale)Matchers.any())).thenReturn(SearchTestUtil.SUMMARY_TITLE);
  when(assetRendererFactory.getAssetRenderer(Matchers.anyLong())).thenReturn(assetRenderer);
  stub(method(AssetRendererFactoryRegistryUtil.class,"getAssetRendererFactoryByClassName",String.class)).toReturn(assetRendererFactory);
  SearchResult searchResult=assertOneSearchResult(new DocumentImpl());
  Summary summary=searchResult.getSummary();
  Assert.assertEquals(SearchTestUtil.SUMMARY_CONTENT,summary.getContent());
  Assert.assertEquals(SearchResultUtil.SUMMARY_MAX_CONTENT_LENGTH,summary.getMaxContentLength());
  Assert.assertSame(portletURL,summary.getPortletURL());
  Assert.assertEquals(SearchTestUtil.SUMMARY_TITLE,summary.getTitle());
  assertSearchResult(searchResult);
}
