{
  when(assetRendererFactory.getAssetRenderer(Matchers.anyLong())).thenReturn(assetRenderer);
  when(assetRenderer.getSearchSummary((Locale)Matchers.any())).thenReturn(SearchTestUtil.SUMMARY_CONTENT);
  when(assetRenderer.getTitle((Locale)Matchers.any())).thenReturn(SearchTestUtil.SUMMARY_TITLE);
  stub(method(AssetRendererFactoryRegistryUtil.class,"getAssetRendererFactoryByClassName",String.class)).toReturn(assetRendererFactory);
  SearchResult searchResult=searchBlankDocument();
  Summary summary=searchResult.getSummary();
  Assert.assertEquals(SearchTestUtil.SUMMARY_CONTENT,summary.getContent());
  Assert.assertEquals(200,summary.getMaxContentLength());
  Assert.assertSame(portletURL,summary.getPortletURL());
  Assert.assertEquals(SearchTestUtil.SUMMARY_TITLE,summary.getTitle());
  assertThatEverythingButSummaryIsEmpty(searchResult);
}
