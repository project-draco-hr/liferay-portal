{
  InputStream inputStream=null;
  try {
    inputStream=getInputStream();
    byte[] bytes=FileUtil.getBytes(inputStream);
    FileEntry tempFileEntry=TempFileEntryUtil.addTempFileEntry(_group.getGroupId(),TestPropsValues.getUserId(),_TEMP_FOLDER_NAME,_IMAGE_TITLE,getInputStream(),ContentTypes.IMAGE_JPEG);
    BlogsEntryImageSelectorHelper blogsEntryImageSelectorHelper=new BlogsEntryImageSelectorHelper(tempFileEntry.getFileEntryId(),tempFileEntry.getFileEntryId() + 1,_IMAGE_CROP_REGION,StringPool.BLANK,StringPool.BLANK);
    ImageSelector imageSelector=blogsEntryImageSelectorHelper.getImageSelector();
    Assert.assertEquals(bytes,imageSelector.getImageBytes());
    Assert.assertEquals(_IMAGE_TITLE,imageSelector.getImageTitle());
    Assert.assertEquals(MimeTypesUtil.getContentType(_IMAGE_TITLE),imageSelector.getImageMimeType());
    Assert.assertEquals(_IMAGE_CROP_REGION,imageSelector.getImageCropRegion());
    Assert.assertEquals(_IMAGE_URL,imageSelector.getImageURL());
    Assert.assertTrue(blogsEntryImageSelectorHelper.isFileEntryTempFile());
  }
  finally {
    StreamUtil.cleanUp(inputStream);
  }
}
