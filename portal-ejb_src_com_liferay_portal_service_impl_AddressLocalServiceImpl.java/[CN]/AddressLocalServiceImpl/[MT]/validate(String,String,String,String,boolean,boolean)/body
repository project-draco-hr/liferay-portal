{
  if (mailing) {
    Iterator itr=AddressUtil.findByC_C_C_M(companyId,className,classPK,mailing).iterator();
    while (itr.hasNext()) {
      Address address=(Address)itr.next();
      if ((addressId == null) || (!address.getAddressId().equals(addressId))) {
        address.setMailing(false);
        AddressUtil.update(address);
      }
    }
  }
  if (primary) {
    Iterator itr=AddressUtil.findByC_C_C_P(companyId,className,classPK,primary).iterator();
    while (itr.hasNext()) {
      Address address=(Address)itr.next();
      if ((addressId == null) || (!address.getAddressId().equals(addressId))) {
        address.setPrimary(false);
        AddressUtil.update(address);
      }
    }
  }
}
