{
  UpgradeColumn upgradeGroupIdColumn=new SwapUpgradeColumnImpl("groupId",AvailableMappersUtil.getGroupIdMapper());
  UpgradeColumn upgradeUserIdColumn=new SwapUpgradeColumnImpl("userId",new Integer(Types.VARCHAR),AvailableMappersUtil.getUserIdMapper());
  PKUpgradeColumnImpl upgradePKColumn=new PKUpgradeColumnImpl("categoryId",true);
  UpgradeTable upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingCategoryTable.TABLE_NAME,ShoppingCategoryTable.TABLE_COLUMNS,upgradePKColumn,upgradeGroupIdColumn,upgradeUserIdColumn);
  upgradeTable.setCreateSQL(ShoppingCategoryTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingCategoryTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  ValueMapper categoryIdMapper=new DefaultPKMapper(upgradePKColumn.getValueMapper());
  AvailableMappersUtil.setShoppingCategoryIdMapper(categoryIdMapper);
  UpgradeColumn upgradeParentCategoryIdColumn=new SwapUpgradeColumnImpl("parentCategoryId",categoryIdMapper);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingCategoryTable.TABLE_NAME,ShoppingCategoryTable.TABLE_COLUMNS,upgradeParentCategoryIdColumn);
  upgradeTable.updateTable();
  UpgradeColumn upgradeCategoryIdColumn=new SwapUpgradeColumnImpl("categoryId",categoryIdMapper);
  upgradePKColumn=new PKUpgradeColumnImpl("itemId",true);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingItemTable.TABLE_NAME,ShoppingItemTable.TABLE_COLUMNS,upgradePKColumn,upgradeCategoryIdColumn,upgradeUserIdColumn);
  upgradeTable.setCreateSQL(ShoppingItemTable.TABLE_SQL_CREATE);
  upgradeTable.updateTable();
  ValueMapper itemIdMapper=upgradePKColumn.getValueMapper();
  AvailableMappersUtil.setShoppingItemIdMapper(itemIdMapper);
  UpgradeColumn upgradeItemIdColumn=new SwapUpgradeColumnImpl("itemId",itemIdMapper);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingItemTable.TABLE_NAME,ShoppingItemTable.TABLE_COLUMNS,new PKUpgradeColumnImpl("itemFieldId",false),upgradeItemIdColumn);
  upgradeTable.setCreateSQL(ShoppingItemTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingItemTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingItemPriceTable.TABLE_NAME,ShoppingItemPriceTable.TABLE_COLUMNS,new PKUpgradeColumnImpl("itemPriceId",false),upgradeItemIdColumn);
  upgradeTable.setCreateSQL(ShoppingItemPriceTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingItemPriceTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  upgradePKColumn=new PKUpgradeColumnImpl("orderId",new Integer(Types.VARCHAR),true);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingOrderTable.TABLE_NAME,ShoppingOrderTable.TABLE_COLUMNS,upgradePKColumn,upgradeGroupIdColumn,upgradeUserIdColumn);
  upgradeTable.setCreateSQL(ShoppingOrderTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingOrderTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  ValueMapper orderIdMapper=upgradePKColumn.getValueMapper();
  UpgradeColumn upgradeOrderIdColumn=new SwapUpgradeColumnImpl("orderId",new Integer(Types.VARCHAR),orderIdMapper);
  UpgradeColumn upgradeCartItemIdColumn=new ShoppingCartItemIdUpgradeColumnImpl(itemIdMapper);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingOrderItemTable.TABLE_NAME,ShoppingOrderItemTable.TABLE_COLUMNS,new PKUpgradeColumnImpl("orderItemId",false),upgradeOrderIdColumn,upgradeCartItemIdColumn);
  upgradeTable.setCreateSQL(ShoppingOrderItemTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingOrderItemTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  UpgradeColumn upgradeItemIdsColumn=new ShoppingCartItemIdsUpgradeColumnImpl(itemIdMapper);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingCartTable.TABLE_NAME,ShoppingCartTable.TABLE_COLUMNS,new PKUpgradeColumnImpl("cartId",new Integer(Types.VARCHAR),false),upgradeGroupIdColumn,upgradeUserIdColumn,upgradeItemIdsColumn);
  upgradeTable.setCreateSQL(ShoppingCartTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingCartTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
  UpgradeColumn upgradeLimitCategoriesColumn=new ShoppingCouponLimitCategoriesUpgradeColumnImpl(categoryIdMapper);
  upgradeTable=UpgradeTableFactoryUtil.getUpgradeTable(ShoppingCouponTable.TABLE_NAME,ShoppingCouponTable.TABLE_COLUMNS,new PKUpgradeColumnImpl("couponId",new Integer(Types.VARCHAR),false),upgradeGroupIdColumn,upgradeUserIdColumn,upgradeLimitCategoriesColumn);
  upgradeTable.setCreateSQL(ShoppingCouponTable.TABLE_SQL_CREATE);
  upgradeTable.setIndexesSQL(ShoppingCouponTable.TABLE_SQL_ADD_INDEXES);
  upgradeTable.updateTable();
}
