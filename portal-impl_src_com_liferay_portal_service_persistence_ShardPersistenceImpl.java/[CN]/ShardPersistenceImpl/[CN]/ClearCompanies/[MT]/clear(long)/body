{
  ModelListener[] companyListeners=companyPersistence.getListeners();
  List<com.liferay.portal.model.Company> companies=null;
  if ((listeners.length > 0) || (companyListeners.length > 0)) {
    companies=getCompanies(shardId);
    for (    com.liferay.portal.model.Company company : companies) {
      for (      ModelListener listener : listeners) {
        listener.onBeforeRemoveAssociation(shardId,com.liferay.portal.model.Company.class.getName(),company.getPrimaryKey());
      }
      for (      ModelListener listener : companyListeners) {
        listener.onBeforeRemoveAssociation(company.getPrimaryKey(),Shard.class.getName(),shardId);
      }
    }
  }
  _sqlUpdate.update(new Object[]{new Long(shardId)});
  if ((listeners.length > 0) || (companyListeners.length > 0)) {
    for (    com.liferay.portal.model.Company company : companies) {
      for (      ModelListener listener : listeners) {
        listener.onAfterRemoveAssociation(shardId,com.liferay.portal.model.Company.class.getName(),company.getPrimaryKey());
      }
      for (      ModelListener listener : companyListeners) {
        listener.onBeforeRemoveAssociation(company.getPrimaryKey(),Shard.class.getName(),shardId);
      }
    }
  }
}
