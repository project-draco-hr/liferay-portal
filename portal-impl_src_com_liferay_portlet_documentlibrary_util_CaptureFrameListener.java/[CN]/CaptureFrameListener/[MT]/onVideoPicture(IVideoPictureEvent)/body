{
  try {
    if (_written) {
      return;
    }
    if (event.getStreamIndex() != mVideoStreamIndex) {
      if (mVideoStreamIndex == -1) {
        mVideoStreamIndex=event.getStreamIndex();
      }
 else {
        return;
      }
    }
    _written=true;
    _destFile.createNewFile();
    RenderedImage renderedImage=ImageProcessorUtil.scale(event.getImage(),_height,_width);
    ImageIO.write(renderedImage,_extension,new FileOutputStream(_destFile));
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
