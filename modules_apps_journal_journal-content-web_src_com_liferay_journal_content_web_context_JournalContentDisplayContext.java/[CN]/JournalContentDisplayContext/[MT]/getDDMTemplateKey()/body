{
  if (_ddmTemplateKey != null) {
    return _ddmTemplateKey;
  }
  _ddmTemplateKey=PrefsParamUtil.getString(_portletPreferences,_portletRequest,"ddmTemplateKey");
  if (getDDMTemplates().isEmpty()) {
    return _ddmTemplateKey;
  }
  if (Validator.isNull(_ddmTemplateKey)) {
    JournalArticle article=getArticle();
    _ddmTemplateKey=article.getDDMTemplateKey();
  }
  return _ddmTemplateKey;
}
