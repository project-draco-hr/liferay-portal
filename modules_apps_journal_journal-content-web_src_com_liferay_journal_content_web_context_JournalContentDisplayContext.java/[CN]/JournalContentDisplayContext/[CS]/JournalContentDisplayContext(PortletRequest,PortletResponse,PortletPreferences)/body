{
  _portletRequest=portletRequest;
  _portletResponse=portletResponse;
  _portletPreferences=portletPreferences;
  if (Validator.isNotNull(getPortletResource())) {
    return;
  }
  JournalArticle article=getArticle();
  JournalArticleDisplay articleDisplay=getArticleDisplay();
  if ((article == null) || !hasViewPermission() || (articleDisplay == null)|| isExpired()) {
    portletRequest.setAttribute(WebKeys.PORTLET_CONFIGURATOR_VISIBILITY,Boolean.TRUE);
  }
}
