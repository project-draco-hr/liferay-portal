{
  String path=getRuleGroupInstancePath(portletDataContext,ruleGroupInstance);
  Element ruleGroupInstanceElement=ruleGroupInstancesElement.addElement("rule-group-instance");
  MDRRuleGroup ruleGroup=ruleGroupInstance.getRuleGroup();
  String className=ruleGroupInstance.getClassName();
  if (className.equals(Layout.class.getName())) {
    Layout layout=LayoutLocalServiceUtil.getLayout(ruleGroupInstance.getClassPK());
    ruleGroupInstanceElement.addAttribute("layout-uuid",layout.getUuid());
  }
  String ruleGroupUuid=ruleGroup.getUuid();
  ruleGroupInstanceElement.addAttribute("rule-group-uuid",ruleGroupUuid);
  portletDataContext.addClassedModel(ruleGroupInstanceElement,path,ruleGroupInstance,NAMESPACE);
  Element actionsElement=ruleGroupInstanceElement.addElement("actions");
  List<MDRAction> actions=ruleGroupInstance.getActions();
  for (  MDRAction action : actions) {
    exportAction(portletDataContext,actionsElement,action);
  }
}
