{
  String path=StagedModelPathUtil.getPath(ruleGroupInstance);
  Element ruleGroupInstancesElement=elements[0];
  Element ruleGroupInstanceElement=ruleGroupInstancesElement.addElement("rule-group-instance");
  MDRRuleGroup ruleGroup=ruleGroupInstance.getRuleGroup();
  String className=ruleGroupInstance.getClassName();
  if (className.equals(Layout.class.getName())) {
    Layout layout=LayoutLocalServiceUtil.getLayout(ruleGroupInstance.getClassPK());
    ruleGroupInstanceElement.addAttribute("layout-uuid",layout.getUuid());
  }
  String ruleGroupUuid=ruleGroup.getUuid();
  ruleGroupInstanceElement.addAttribute("rule-group-uuid",ruleGroupUuid);
  portletDataContext.addClassedModel(ruleGroupInstanceElement,path,ruleGroupInstance,MDRPortletDataHandler.NAMESPACE);
}
