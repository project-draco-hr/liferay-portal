{
  if (state != State.CREATED) {
    throw new IllegalStateException("Unable to weld a welder with state " + state);
  }
  if (server) {
    registrationReference=weldServer(intraBand);
  }
 else {
    registrationReference=weldClient(intraBand);
  }
  state=State.WELDED;
  return registrationReference;
}
