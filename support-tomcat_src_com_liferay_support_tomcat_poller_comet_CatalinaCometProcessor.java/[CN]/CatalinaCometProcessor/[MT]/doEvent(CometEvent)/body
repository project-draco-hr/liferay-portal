{
  CometEvent.EventType eventType=cometEvent.getEventType();
  if (_log.isDebugEnabled()) {
    _log.debug(session.getId() + " " + eventType);
  }
  HttpServletRequest request=cometEvent.getHttpServletRequest();
  HttpSession session=request.getSession();
  if (eventType.equals(CometEvent.EventType.BEGIN)) {
    startCometHandler(cometEvent,request,session);
  }
 else   if (eventType.equals(CometEvent.EventType.END) || eventType.equals(CometEvent.EventType.ERROR)) {
    if (_log.isDebugEnabled()) {
      _log.debug(session.getId() + " " + cometEvent.getEventSubType());
    }
    closeConnection(cometEvent,request,session);
  }
 else   if (eventType.equals(CometEvent.EventType.READ)) {
    readData(cometEvent,request,session);
  }
}
