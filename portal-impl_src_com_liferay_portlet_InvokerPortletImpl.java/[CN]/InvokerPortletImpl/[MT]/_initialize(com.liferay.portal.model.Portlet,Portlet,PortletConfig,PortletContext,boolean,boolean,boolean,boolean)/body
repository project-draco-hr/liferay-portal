{
  _portletModel=portletModel;
  _portlet=portlet;
  _liferayPortletConfig=(LiferayPortletConfig)portletConfig;
  _portletId=_portletModel.getPortletId();
  _liferayPortletContext=(LiferayPortletContext)portletContext;
  _checkAuthToken=checkAuthToken;
  _facesPortlet=facesPortlet;
  _strutsPortlet=strutsPortlet;
  _strutsBridgePortlet=strutsBridgePortlet;
  _expCache=portletModel.getExpCache();
  if (_log.isDebugEnabled()) {
    _log.debug("Create instance cache wrapper for " + _liferayPortletContext.getPortlet().getPortletId());
  }
  StringBundler sb=new StringBundler(3);
  sb.append("(javax.portlet.name=");
  sb.append(_portletId);
  sb.append(")");
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("javax.portlet.name",_portletId);
  _actionFilters=ServiceTrackerCollections.list(ActionFilter.class,sb.toString(),new PortletFilterCustomizer<ActionFilter>(_liferayPortletContext),map);
  _eventFilters=ServiceTrackerCollections.list(EventFilter.class,sb.toString(),new PortletFilterCustomizer<EventFilter>(_liferayPortletContext),map);
  _renderFilters=ServiceTrackerCollections.list(RenderFilter.class,sb.toString(),new PortletFilterCustomizer<RenderFilter>(_liferayPortletContext),map);
  _resourceFilters=ServiceTrackerCollections.list(ResourceFilter.class,sb.toString(),new PortletFilterCustomizer<ResourceFilter>(_liferayPortletContext),map);
  setPortletFilters();
}
