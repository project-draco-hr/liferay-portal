{
  PortletApp portletApp=_portletModel.getPortletApp();
  PortletContextBag portletContextBag=PortletContextBagPool.get(portletApp.getServletContextName());
  if (portletApp.isWARFile() && (portletContextBag == null)) {
    return;
  }
  removePortletFilters();
  Map<String,com.liferay.portal.model.PortletFilter> portletFilters=_portletModel.getPortletFilters();
  for (  Map.Entry<String,com.liferay.portal.model.PortletFilter> entry : portletFilters.entrySet()) {
    com.liferay.portal.model.PortletFilter portletFilterModel=entry.getValue();
    PortletFilter portletFilter=PortletFilterFactory.create(portletFilterModel,_portletContextImpl);
    Set<String> lifecycles=portletFilterModel.getLifecycles();
    if (lifecycles.contains(PortletRequest.ACTION_PHASE)) {
      List<ActionFilter> actionFilters=_actionFiltersMap.get(_portletId);
      if (actionFilters == null) {
        actionFilters=new ArrayList<ActionFilter>();
      }
      actionFilters.add((ActionFilter)portletFilter);
      _actionFiltersMap.put(_portletId,actionFilters);
    }
    if (lifecycles.contains(PortletRequest.EVENT_PHASE)) {
      List<EventFilter> eventFilters=_eventFiltersMap.get(_portletId);
      if (eventFilters == null) {
        eventFilters=new ArrayList<EventFilter>();
      }
      eventFilters.add((EventFilter)portletFilter);
      _eventFiltersMap.put(_portletId,eventFilters);
    }
    if (lifecycles.contains(PortletRequest.RENDER_PHASE)) {
      List<RenderFilter> renderFilters=_renderFiltersMap.get(_portletId);
      if (renderFilters == null) {
        renderFilters=new ArrayList<RenderFilter>();
      }
      renderFilters.add((RenderFilter)portletFilter);
      _renderFiltersMap.put(_portletId,renderFilters);
    }
    if (lifecycles.contains(PortletRequest.RESOURCE_PHASE)) {
      List<ResourceFilter> resourceFilters=_resourceFiltersMap.get(_portletId);
      if (resourceFilters == null) {
        resourceFilters=new ArrayList<ResourceFilter>();
      }
      resourceFilters.add((ResourceFilter)portletFilter);
      _resourceFiltersMap.put(_portletId,resourceFilters);
    }
  }
}
