{
  if (PortletConstants.hasInstanceId(_portletModel.getPortletId())) {
    if (_log.isWarnEnabled()) {
      _log.warn("Destroying an instanced portlet is not allowed");
    }
    return;
  }
  ClassLoader contextClassLoader=PACLClassLoaderUtil.getContextClassLoader();
  ClassLoader portletClassLoader=getPortletClassLoader();
  try {
    if (portletClassLoader != null) {
      PACLClassLoaderUtil.setContextClassLoader(portletClassLoader);
    }
    removePortletFilters();
    _portlet.destroy();
  }
  finally {
    if (portletClassLoader != null) {
      PACLClassLoaderUtil.setContextClassLoader(contextClassLoader);
    }
  }
}
