{
  if (!ServerDetector.isResin()) {
    return false;
  }
  for (int i=7; ; i++) {
    Class<?> callerClass=Reflection.getCallerClass(i);
    if (callerClass == null) {
      return false;
    }
    String callerClassName=callerClass.getName();
    if (!callerClassName.startsWith(_PACKAGE_NAME_ORG_CAUCHO_VFS)) {
      continue;
    }
    String actualClassLocation=PACLClassUtil.getClassLocation(callerClass);
    String expectedClassLocation=PathUtil.toUnixPath(System.getProperty("resin.home") + "/lib/resin.jar!/");
    return actualClassLocation.contains(expectedClassLocation);
  }
}
