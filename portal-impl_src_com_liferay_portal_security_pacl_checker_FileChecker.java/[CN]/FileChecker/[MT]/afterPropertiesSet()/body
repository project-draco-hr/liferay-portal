{
  _rootDir=WebDirDetector.getRootDir(getClassLoader());
  if (_log.isDebugEnabled()) {
    _log.debug("Root directory " + _rootDir);
  }
  ServletContext servletContext=ServletContextPool.get(getServletContextName());
  if (servletContext != null) {
    File tempDir=(File)servletContext.getAttribute(JavaConstants.JAVAX_SERVLET_CONTEXT_TEMPDIR);
    _workDir=tempDir.getAbsolutePath();
    if (_log.isDebugEnabled()) {
      _log.debug("Work directory " + _workDir);
    }
  }
  initPermissions();
}
