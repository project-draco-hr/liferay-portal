{
  _rootDir=WebDirDetector.getRootDir(getClassLoader());
  if (_log.isDebugEnabled()) {
    _log.debug("Root directory " + _rootDir);
  }
  ServletContext servletContext=ServletContextPool.get(getServletContextName());
  if (servletContext != null) {
    File tempDir=(File)servletContext.getAttribute(JavaConstants.JAVAX_SERVLET_CONTEXT_TEMPDIR);
    _workDir=tempDir.getAbsolutePath();
    if (_log.isDebugEnabled()) {
      _log.debug("Work directory " + _workDir);
    }
  }
  _defaultReadPathsFromArray=new String[]{"${catalina.base}","${com.sun.aas.instanceRoot}","${com.sun.aas.installRoot}","${jboss.home.dir}","${jetty.home}","${jonas.base}","${liferay.web.portal.dir}","${org.apache.geronimo.home.dir}","${org.apache.geronimo.home.dir}","${plugin.servlet.context.name}","${weblogic.home.dir}"};
  _defaultReadPathsToArray=new String[]{System.getProperty("catalina.base"),System.getProperty("com.sun.aas.instanceRoot"),System.getProperty("com.sun.aas.installRoot"),System.getProperty("jboss.home.dir"),System.getProperty("jetty.home"),System.getProperty("jonas.base"),_portalDir,System.getProperty("org.apache.geronimo.home.dir"),System.getProperty("resin.home"),getServletContextName(),System.getenv("DOMAIN_HOME")};
  if (_log.isDebugEnabled()) {
    _log.debug("Default read paths replace with " + StringUtil.merge(_defaultReadPathsToArray));
  }
  initPermissions();
}
