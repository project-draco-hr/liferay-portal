{
  final long classNameId=CounterLocalServiceUtil.increment();
  final String classNameValue=PwdGenerator.getPassword();
  try {
    TransactionalCallableUtil.call(_transactionAttribute,new Callable<Void>(){
      @Override public Void call() throws Exception {
        ClassName className=ClassNameUtil.create(classNameId);
        className.setValue(classNameValue);
        ClassNameUtil.update(className);
        return null;
      }
    }
);
    ClassName className=ClassNameLocalServiceUtil.fetchClassName(classNameId);
    Assert.assertNotNull(className);
    Assert.assertEquals(classNameValue,className.getClassName());
  }
  finally {
    ClassNameLocalServiceUtil.deleteClassName(classNameId);
  }
}
