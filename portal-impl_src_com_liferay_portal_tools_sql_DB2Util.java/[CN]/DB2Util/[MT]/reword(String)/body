{
  BufferedReader br=new BufferedReader(new StringReader(data));
  StringMaker sm=new StringMaker();
  String line=null;
  while ((line=br.readLine()) != null) {
    if (line.startsWith(ALTER_COLUMN_TYPE)) {
      line="-- " + line;
    }
 else     if (line.startsWith(ALTER_COLUMN_NAME)) {
      String[] template=buildColumnNameTokens(line);
      line=StringUtil.replace("alter table @table@ add column @new-column@ @type@;\n",REWORD_TEMPLATE,template);
      line=line + StringUtil.replace("update @table@ set @new-column@ = @old-column@;\n",REWORD_TEMPLATE,template);
      line=line + StringUtil.replace("alter table @table@ drop column @old-column@",REWORD_TEMPLATE,template);
    }
    sm.append(line);
    sm.append("\n");
  }
  br.close();
  return sm.toString();
}
