{
  String projectDir=PoshiRunnerGetterUtil.getProjectDir();
  String portalURL=PORTAL_URL;
  if (TCAT_ENABLED) {
    portalURL="http://localhost:8180/console";
  }
  if (MOBILE_DEVICE_ENABLED) {
    _selenium=new AppiumMobileDriverImpl(projectDir,portalURL);
  }
 else {
    if (BROWSER_TYPE.equals("*chrome") || BROWSER_TYPE.equals("*firefox")) {
      _selenium=new FirefoxWebDriverImpl(projectDir,portalURL);
    }
 else     if (BROWSER_TYPE.equals("*googlechrome")) {
      System.setProperty("webdriver.chrome.driver",SELENIUM_EXECUTABLE_DIR_NAME + "\\chromedriver.exe");
      _selenium=new ChromeWebDriverImpl(projectDir,portalURL);
    }
 else     if (BROWSER_TYPE.equals("*iehta") || BROWSER_TYPE.equals("*iexplore")) {
      System.setProperty("webdriver.ie.driver",SELENIUM_EXECUTABLE_DIR_NAME + "\\IEDriverServer.exe");
      _selenium=new InternetExplorerWebDriverImpl(projectDir,portalURL);
    }
 else     if (BROWSER_TYPE.equals("*safari")) {
      _selenium=new SafariWebDriverImpl(projectDir,portalURL);
    }
 else {
      throw new RuntimeException("Invalid browser type " + BROWSER_TYPE);
    }
  }
}
