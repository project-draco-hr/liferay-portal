{
  List<PortletPreferences> preferences=portletPreferencesLocalService.getPortletPreferencesByPlid(revision.getRevisionId());
  for (  PortletPreferences preference : preferences) {
    try {
      portletPreferencesLocalService.deletePortletPreferences(preference.getPortletPreferencesId());
    }
 catch (    PortalException e) {
    }
  }
  revisionPersistence.remove(revision);
}
