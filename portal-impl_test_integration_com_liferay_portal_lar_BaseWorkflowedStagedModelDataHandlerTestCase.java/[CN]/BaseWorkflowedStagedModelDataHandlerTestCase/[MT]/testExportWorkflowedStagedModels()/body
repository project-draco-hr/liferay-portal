{
  initExport();
  List<StagedModel> stagedModels=null;
  boolean workflowEnabled=WorkflowThreadLocal.isEnabled();
  try {
    WorkflowThreadLocal.setEnabled(true);
    stagedModels=addWorkflowedStagedModels(stagingGroup);
  }
  finally {
    WorkflowThreadLocal.setEnabled(workflowEnabled);
  }
  for (  StagedModel stagedModel : stagedModels) {
    Assert.assertTrue("Staged model is not a workflowed model",stagedModel instanceof WorkflowedModel);
    StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,stagedModel);
    validateWorkflowedExport(portletDataContext,stagedModel);
  }
}
