{
  Object[] data=addFile(0);
  long companyId=(Long)data[0];
  long repositoryId=(Long)data[1];
  String fileName=(String)data[2];
  File file=createFile(_DATA_VERSION_2);
  _store.updateFile(companyId,repositoryId,fileName,"1.1",file);
  byte[] bytes1=_store.getFileAsBytes(companyId,repositoryId,fileName,"1.0");
  assertTrue(Arrays.equals(_DATA_VERSION_1,bytes1));
  byte[] bytes2=_store.getFileAsBytes(companyId,repositoryId,fileName,"1.1");
  assertTrue(Arrays.equals(_DATA_VERSION_2,bytes2));
  byte[] bytes3=_store.getFileAsBytes(companyId,repositoryId,fileName);
  assertTrue(Arrays.equals(_DATA_VERSION_2,bytes3));
}
