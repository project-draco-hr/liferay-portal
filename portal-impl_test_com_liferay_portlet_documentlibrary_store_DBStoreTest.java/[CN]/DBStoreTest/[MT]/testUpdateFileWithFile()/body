{
  Object[] data=createFile(0);
  Long companyId=(Long)data[0];
  Long repositoryId=(Long)data[1];
  String fileName=(String)data[2];
  File testFile=createTempFile(_DATA_VERSION_2);
  _STORE.updateFile(companyId,repositoryId,fileName,"1.1",testFile);
  byte[] result1=_STORE.getFileAsBytes(companyId,repositoryId,fileName,"1.0");
  assertTrue(Arrays.equals(_DATA_VERSION_1,result1));
  byte[] result2=_STORE.getFileAsBytes(companyId,repositoryId,fileName,"1.1");
  assertTrue(Arrays.equals(_DATA_VERSION_2,result2));
  byte[] result3=_STORE.getFileAsBytes(companyId,repositoryId,fileName);
  assertTrue(Arrays.equals(_DATA_VERSION_2,result3));
}
