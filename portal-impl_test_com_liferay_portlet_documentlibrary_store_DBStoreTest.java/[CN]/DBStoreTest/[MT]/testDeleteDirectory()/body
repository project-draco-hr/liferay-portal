{
  long companyId=nextLong();
  long repositoryId=nextLong();
  String directory=randomString();
  String fileName1=directory + "/" + randomString();
  String fileName2=directory + "/" + randomString();
  _STORE.addFile(companyId,repositoryId,fileName1,_DATA_VERSION_1);
  _STORE.addFile(companyId,repositoryId,fileName2,_DATA_VERSION_1);
  boolean fileExist1=_STORE.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT);
  boolean fileExist2=_STORE.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT);
  assertTrue(fileExist1);
  assertTrue(fileExist2);
  _STORE.deleteDirectory(companyId,repositoryId,directory);
  fileExist1=_STORE.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT);
  fileExist2=_STORE.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT);
  assertFalse(fileExist1);
  assertFalse(fileExist2);
  directory=randomString();
  String subDirectory=directory + "/" + randomString();
  fileName1=directory + "/" + randomString();
  fileName2=subDirectory + "/" + randomString();
  _STORE.addFile(companyId,repositoryId,fileName1,_DATA_VERSION_1);
  _STORE.addFile(companyId,repositoryId,fileName2,_DATA_VERSION_1);
  fileExist1=_STORE.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT);
  fileExist2=_STORE.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT);
  assertTrue(fileExist1);
  assertTrue(fileExist2);
  _STORE.deleteDirectory(companyId,repositoryId,directory);
  fileExist1=_STORE.hasFile(companyId,repositoryId,fileName1,Store.VERSION_DEFAULT);
  fileExist2=_STORE.hasFile(companyId,repositoryId,fileName2,Store.VERSION_DEFAULT);
  assertFalse(fileExist1);
  assertFalse(fileExist2);
}
