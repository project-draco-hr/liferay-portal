{
  request.setAttribute("liferay-ui:asset-display:abstractLength",_abstractLength);
  AssetEntry assetEntry=_assetEntry;
  if (assetEntry == null) {
    if (Validator.isNotNull(_className) && (_classPK > 0)) {
      assetEntry=AssetEntryLocalServiceUtil.fetchEntry(_className,_classPK);
    }
 else     if (_renderer != null) {
      assetEntry=AssetEntryLocalServiceUtil.fetchEntry(_renderer.getClassName(),_renderer.getClassPK());
    }
  }
  request.setAttribute("liferay-ui:asset-display:assetEntry",assetEntry);
  if ((_renderer == null) && (assetEntry != null)) {
    _renderer=assetEntry.getAssetRenderer();
  }
  if (_renderer instanceof AssetRenderer) {
    AssetRenderer<?> assetRenderer=(AssetRenderer<?>)_renderer;
    request.setAttribute(WebKeys.ASSET_RENDERER,assetRenderer);
  }
 else {
    request.setAttribute("liferay-ui:asset-display:renderer",_renderer);
  }
  AssetRendererFactory<?> assetRendererFactory=_assetRendererFactory;
  if ((assetRendererFactory == null) && (assetEntry != null)) {
    assetRendererFactory=assetEntry.getAssetRendererFactory();
  }
  if (assetRendererFactory != null) {
    request.setAttribute(WebKeys.ASSET_RENDERER_FACTORY,assetRendererFactory);
  }
  request.setAttribute(WebKeys.ASSET_ENTRY_VIEW_URL,_viewURL);
  addParam("showComments",String.valueOf(_showComments));
  addParam("showExtraInfo",String.valueOf(_showExtraInfo));
  addParam("showHeader",String.valueOf(_showHeader));
}
