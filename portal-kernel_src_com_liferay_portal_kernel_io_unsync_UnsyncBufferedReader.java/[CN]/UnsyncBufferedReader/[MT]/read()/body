{
  if (reader == null) {
    throw new IOException("Reader closed");
  }
  if (index >= firstInvalidIndex) {
    readUnderlyingReader();
    if (index >= firstInvalidIndex) {
      return -1;
    }
  }
  return buffer[index++];
}
