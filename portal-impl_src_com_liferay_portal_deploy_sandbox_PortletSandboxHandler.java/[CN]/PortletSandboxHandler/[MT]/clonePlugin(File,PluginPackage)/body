{
  Map<String,String> filterMap=new HashMap<>();
  filterMap.put("portlet_class","com.liferay.util.bridges.alloy.AlloyPortlet");
  filterMap.put("portlet_name","1");
  filterMap.put("portlet_title",pluginPackage.getName());
  filterMap.put("restore_current_view","false");
  filterMap.put("friendly_url_mapper_class","com.liferay.util.bridges.alloy.AlloyFriendlyURLMapper");
  filterMap.put("friendly_url_mapping",TextFormatter.format(pluginPackage.getName(),TextFormatter.B));
  filterMap.put("friendly_url_routes","com/liferay/util/bridges/alloy/alloy-friendly-url-routes.xml");
  filterMap.put("namespace",TextFormatter.format(pluginPackage.getName(),TextFormatter.D));
  filterMap.put("package_path","com.liferay." + TextFormatter.format(pluginPackage.getName(),TextFormatter.B));
  _deployer.copyDependencyXml("liferay-display.xml",dir + "/WEB-INF",filterMap);
  updateLiferayDisplayXML(dir);
  _deployer.copyDependencyXml("liferay-portlet.xml",dir + "/WEB-INF",filterMap);
  _deployer.copyDependencyXml("portlet.xml",dir + "/WEB-INF",filterMap);
  updatePortletXML(dir);
  _deployer.copyDependencyXml("service.xml",dir + "/WEB-INF",filterMap);
}
