{
  File file=new File(dir + "/WEB-INF/portlet.xml");
  String content=FileUtil.read(file);
  Document document=SAXReaderUtil.read(content);
  Element rootElement=document.getRootElement();
  List<Element> portletElements=rootElement.elements("portlet");
  for (  Element portletElement : portletElements) {
    List<Element> elements=new ArrayList<>();
    Element resourceBundleElement=SAXReaderUtil.createElement(SAXReaderUtil.createQName("resource-bundle",getPortletNamespace(document)));
    resourceBundleElement.setText("content.Language");
    for (    Element element : portletElement.elements()) {
      String elementName=element.getName();
      if (elementName.equals("init-param") || elementName.equals("portlet-info")) {
      }
 else {
        elements.add(element);
        if (elementName.equals("supports")) {
          elements.add(resourceBundleElement);
        }
      }
      element.detach();
    }
    for (    Element element : elements) {
      portletElement.add(element);
    }
  }
  FileUtil.write(file,document.formattedString());
}
