{
  String liferayToggleControls=SessionClicks.get(request,"com.liferay.frontend.js.web_toggleControls","visible");
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  if (layout.isTypeControlPanel()) {
    liferayToggleControls="visible";
  }
  String cssClass=GetterUtil.getString(contextObjects.get("bodyCssClass"));
  if (Validator.equals(liferayToggleControls,"visible")) {
    cssClass+=" controls-visible";
  }
 else {
    cssClass+=" controls-hidden";
  }
  contextObjects.put("bodyCssClass",cssClass);
  contextObjects.put("liferay_toggle_controls",liferayToggleControls);
  contextObjects.put("show_toggle_controls",themeDisplay.isSignedIn());
  if (themeDisplay.isSignedIn()) {
    ResourceBundle resourceBundle=ResourceBundleUtil.getBundle("content.Language",themeDisplay.getLocale(),getClass());
    contextObjects.put("toggle_controls_text",LanguageUtil.get(resourceBundle,"toggle-controls"));
    contextObjects.put("toggle_controls_url","javascript:;");
  }
}
