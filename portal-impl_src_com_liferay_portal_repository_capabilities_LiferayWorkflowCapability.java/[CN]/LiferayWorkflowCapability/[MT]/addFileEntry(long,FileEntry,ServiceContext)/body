{
  boolean previousEnabled=WorkflowThreadLocal.isEnabled();
  if (!DLAppHelperThreadLocal.isEnabled()) {
    WorkflowThreadLocal.setEnabled(false);
  }
  try {
    FileVersion fileVersion=fileEntry.getFileVersion();
    DLUtil.startWorkflowInstance(userId,(DLFileVersion)fileVersion.getModel(),DLSyncConstants.EVENT_ADD,serviceContext);
  }
  finally {
    if (!DLAppHelperThreadLocal.isEnabled()) {
      WorkflowThreadLocal.setEnabled(previousEnabled);
    }
  }
}
