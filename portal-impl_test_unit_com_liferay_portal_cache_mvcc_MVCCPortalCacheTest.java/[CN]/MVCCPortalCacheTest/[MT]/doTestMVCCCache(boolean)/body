{
  Assert.assertNull(_mvccPortalCache.get(_KEY_1));
  Assert.assertNull(_mvccPortalCache.get(_KEY_2));
  if (timeToLive) {
    _mvccPortalCache.put(_KEY_1,new MockMVCCModel(_VERSION_1),10);
  }
 else {
    _mvccPortalCache.put(_KEY_1,new MockMVCCModel(_VERSION_1));
  }
  _assertVersion(_VERSION_1,_mvccPortalCache.get(_KEY_1));
  Assert.assertNull(_mvccPortalCache.get(_KEY_2));
  _testCacheListener.assertActionsCount(1);
  if (timeToLive) {
    _testCacheListener.assertPut(_KEY_1,new MockMVCCModel(_VERSION_1),10);
  }
 else {
    _testCacheListener.assertPut(_KEY_1,new MockMVCCModel(_VERSION_1));
  }
  _testCacheListener.reset();
  _testCacheReplicator.assertActionsCount(1);
  if (timeToLive) {
    _testCacheReplicator.assertPut(_KEY_1,new MockMVCCModel(_VERSION_1),10);
  }
 else {
    _testCacheReplicator.assertPut(_KEY_1,new MockMVCCModel(_VERSION_1));
  }
  _testCacheReplicator.reset();
  if (timeToLive) {
    _mvccPortalCache.put(_KEY_1,new MockMVCCModel(_VERSION_0),10);
  }
 else {
    _mvccPortalCache.put(_KEY_1,new MockMVCCModel(_VERSION_0));
  }
  _assertVersion(_VERSION_1,_mvccPortalCache.get(_KEY_1));
  Assert.assertNull(_mvccPortalCache.get(_KEY_2));
  _testCacheListener.assertActionsCount(0);
  _testCacheReplicator.assertActionsCount(0);
  if (timeToLive) {
    _mvccPortalCache.put(_KEY_1,new MockMVCCModel(_VERSION_2),10);
  }
 else {
    _mvccPortalCache.put(_KEY_1,new MockMVCCModel(_VERSION_2));
  }
  _assertVersion(_VERSION_2,_mvccPortalCache.get(_KEY_1));
  Assert.assertNull(_mvccPortalCache.get(_KEY_2));
  _testCacheListener.assertActionsCount(1);
  if (timeToLive) {
    _testCacheListener.assertUpdated(_KEY_1,new MockMVCCModel(_VERSION_2),10);
  }
 else {
    _testCacheListener.assertUpdated(_KEY_1,new MockMVCCModel(_VERSION_2));
  }
  _testCacheListener.reset();
  _testCacheReplicator.assertActionsCount(1);
  if (timeToLive) {
    _testCacheReplicator.assertUpdated(_KEY_1,new MockMVCCModel(_VERSION_2),10);
  }
 else {
    _testCacheReplicator.assertUpdated(_KEY_1,new MockMVCCModel(_VERSION_2));
  }
  _testCacheReplicator.reset();
}
