{
  if (isOmniadmin()) {
    return true;
  }
  String key=String.valueOf(companyId);
  Boolean value=(Boolean)companyAdmins.get(key);
  if (value == null) {
    boolean hasAdminRole=RoleLocalServiceUtil.hasUserRole(user.getUserId(),companyId,RoleImpl.ADMINISTRATOR,true);
    value=Boolean.valueOf(hasAdminRole);
    companyAdmins.put(key,value);
  }
  return value.booleanValue();
}
