{
  Capability capability=_supportedCapabilities.get(capabilityClass);
  if (capability == null) {
    throw new IllegalArgumentException(String.format("Capability %s is not supported by provider %s",capabilityClass.getName(),getProviderKey()));
  }
  return (S)capability;
}
