{
  Capability capability=_supportedCapabilitiesMap.get(capabilityClass);
  if (capability == null) {
    throw new IllegalArgumentException(String.format("Capability %s not supported by provider %s",capabilityClass.getName(),getProviderId()));
  }
  return (S)capability;
}
