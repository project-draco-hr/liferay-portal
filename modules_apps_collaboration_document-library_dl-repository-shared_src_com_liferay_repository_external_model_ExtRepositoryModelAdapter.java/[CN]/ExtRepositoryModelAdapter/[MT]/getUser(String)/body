{
  User user=null;
  if (Validator.isNotNull(extRepositoryUserName)) {
    String liferayLogin=_extRepositoryAdapter.getLiferayLogin(extRepositoryUserName);
    try {
      String authType=_extRepositoryAdapter.getAuthType();
      if (authType.equals(CompanyConstants.AUTH_TYPE_ID)) {
        user=UserLocalServiceUtil.getUser(GetterUtil.getLong(liferayLogin));
      }
 else       if (authType.equals(CompanyConstants.AUTH_TYPE_EA)) {
        user=UserLocalServiceUtil.getUserByEmailAddress(getCompanyId(),liferayLogin);
      }
 else       if (authType.equals(CompanyConstants.AUTH_TYPE_SN)) {
        user=UserLocalServiceUtil.getUserByScreenName(getCompanyId(),liferayLogin);
      }
    }
 catch (    Exception e) {
    }
  }
  if (user == null) {
    try {
      user=UserLocalServiceUtil.getDefaultUser(getCompanyId());
    }
 catch (    Exception e) {
    }
  }
  return user;
}
