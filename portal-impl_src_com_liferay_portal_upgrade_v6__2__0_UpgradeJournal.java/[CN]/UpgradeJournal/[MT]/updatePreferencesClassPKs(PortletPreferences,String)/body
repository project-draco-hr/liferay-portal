{
  String[] oldValues=preferences.getValues(key,null);
  if (oldValues == null) {
    return;
  }
  String[] newValues=new String[oldValues.length];
  for (int i=0; i < oldValues.length; i++) {
    String oldValue=oldValues[i];
    String newValue=oldValue;
    String[] oldPrimaryKeys=StringUtil.split(oldValue);
    for (    String oldPrimaryKey : oldPrimaryKeys) {
      if (!Validator.isNumber(oldPrimaryKey)) {
        break;
      }
      long newPrimaryKey=_ddmStructurePKs.get(GetterUtil.getLong(oldPrimaryKey));
      if (Validator.isNotNull(newPrimaryKey)) {
        newValue=StringUtil.replace(newValue,oldPrimaryKey,String.valueOf(newPrimaryKey));
      }
    }
    newValues[i]=newValue;
  }
  preferences.setValues(key,newValues);
}
