{
  ActionableDynamicQuery organizationActionableDynamicQuery=OrganizationLocalServiceUtil.getActionableDynamicQuery();
  organizationActionableDynamicQuery.setPerformActionMethod(new ActionableDynamicQuery.PerformActionMethod<Organization>(){
    @Override public void performAction(    Organization organization) throws PortalException {
      verifyPolicy(organization);
      ActionableDynamicQuery userGroupRoleActionableDynamicQuery=UserGroupRoleLocalServiceUtil.getActionableDynamicQuery();
      userGroupRoleActionableDynamicQuery.setGroupId(organization.getGroupId());
      userGroupRoleActionableDynamicQuery.setPerformActionMethod(new ActionableDynamicQuery.PerformActionMethod<UserGroupRole>(){
        @Override public void performAction(        UserGroupRole userGroupRole) throws PortalException {
          verifyPolicy(userGroupRole.getRole());
        }
      }
);
      userGroupRoleActionableDynamicQuery.performActions();
    }
  }
);
  organizationActionableDynamicQuery.performActions();
}
