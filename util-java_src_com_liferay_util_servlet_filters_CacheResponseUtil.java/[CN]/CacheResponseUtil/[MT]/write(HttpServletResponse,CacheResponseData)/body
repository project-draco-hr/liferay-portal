{
  Map<String,List<Header>> headers=data.getHeaders();
  for (  Map.Entry<String,List<Header>> entry : headers.entrySet()) {
    String headerKey=entry.getKey();
    List<Header> headerValues=entry.getValue();
    for (int i=0; i < headerValues.size(); i++) {
      Header header=(Header)headerValues.get(i);
      int type=header.getType();
      if (type == Header.DATE_TYPE) {
        res.addDateHeader(headerKey,header.getDateValue());
      }
 else       if (type == Header.INTEGER_TYPE) {
        res.addIntHeader(headerKey,header.getIntValue());
      }
 else       if (type == Header.STRING_TYPE) {
        res.addHeader(headerKey,header.getStringValue());
      }
    }
  }
  res.setContentType(data.getContentType());
  ServletResponseUtil.write(res,data.getData());
}
