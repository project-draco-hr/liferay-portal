{
  List<AssetCategory> assetCategories=_assetCategoryLocalService.getVocabularyRootCategories(assetVocabularyId,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  long[] vocabularyCategoryIds=new long[0];
  for (  AssetCategory assetCategory : assetCategories) {
    vocabularyCategoryIds=ArrayUtil.append(vocabularyCategoryIds,assetCategory.getCategoryId());
  }
  long[] originalAnyCategoryIds=assetEntryQuery.getAnyCategoryIds();
  if (ArrayUtil.isEmpty(originalAnyCategoryIds)) {
    assetEntryQuery.setAnyCategoryIds(vocabularyCategoryIds);
  }
 else {
    long[] newAnyCategoryIds=new long[0];
    for (int i=0; i < originalAnyCategoryIds.length; i++) {
      if (ArrayUtil.contains(vocabularyCategoryIds,originalAnyCategoryIds[i])) {
        newAnyCategoryIds=ArrayUtil.append(newAnyCategoryIds,originalAnyCategoryIds[i]);
      }
    }
    assetEntryQuery.setAnyCategoryIds(newAnyCategoryIds);
  }
}
