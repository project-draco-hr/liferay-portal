{
  FileChannel fileChannel=null;
  FileLock fileLock=null;
  try {
    Path filePath=pathCallable.getPath();
    if ((filePath == null) || Files.notExists(filePath)) {
      return true;
    }
    if (Files.isDirectory(filePath)) {
      pathCallable.call();
      return true;
    }
 else {
      fileChannel=FileChannel.open(filePath,StandardOpenOption.READ,StandardOpenOption.WRITE);
      fileLock=FileUtil.getFileLock(fileChannel);
    }
    if (fileLock != null) {
      pathCallable.call();
      return true;
    }
  }
 catch (  Exception e) {
  }
 finally {
    FileUtil.releaseFileLock(fileLock);
    StreamUtil.cleanUp(fileChannel);
  }
  return false;
}
