{
  DDMFormFieldEvaluationResult ddmFormFieldEvaluationResult=new DDMFormFieldEvaluationResult(ddmFormFieldValue.getName(),ddmFormFieldValue.getInstanceId());
  DDMFormFieldValidation ddmFormFieldValidation=ddmFormField.getDDMFormFieldValidation();
  String validationExpression=getValidationExpression(ddmFormFieldValidation);
  boolean valid=evaluateBooleanExpression(validationExpression,ancestorDDMFormFieldValues);
  ddmFormFieldEvaluationResult.setValid(valid);
  if (!valid) {
    ddmFormFieldEvaluationResult.setErrorMessage(ddmFormFieldValidation.getErrorMessage());
  }
  boolean visible=evaluateBooleanExpression(ddmFormField.getVisibilityExpression(),ancestorDDMFormFieldValues);
  ddmFormFieldEvaluationResult.setVisible(visible);
  List<DDMFormFieldEvaluationResult> nestedDDMFormFieldEvaluationResults=evaluateDDMFormFieldValues(ddmFormFieldValue.getNestedDDMFormFieldValues(),ancestorDDMFormFieldValues);
  ddmFormFieldEvaluationResult.setNestedDDMFormFieldEvaluationResults(nestedDDMFormFieldEvaluationResults);
  return ddmFormFieldEvaluationResult;
}
