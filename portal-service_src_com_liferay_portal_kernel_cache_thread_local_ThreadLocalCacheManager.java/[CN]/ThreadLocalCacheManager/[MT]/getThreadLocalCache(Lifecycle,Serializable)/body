{
  Map<Lifecycle,Boolean> threadLocalCacheDisabledFlags=_threadLocalCacheDisabledFlags.get();
  if (threadLocalCacheDisabledFlags.get(lifecycle) == Boolean.TRUE) {
    return (ThreadLocalCache<T>)_emptyThreadLocalCache;
  }
  Map<Lifecycle,Map<Serializable,ThreadLocalCache<?>>> threadLocalCacheMaps=_threadLocalCacheMaps.get();
  Map<Serializable,ThreadLocalCache<?>> threadLocalCacheMap=threadLocalCacheMaps.get(lifecycle);
  if (threadLocalCacheMap == null) {
    threadLocalCacheMap=new HashMap<>();
    threadLocalCacheMaps.put(lifecycle,threadLocalCacheMap);
  }
  ThreadLocalCache<?> threadLocalCache=threadLocalCacheMap.get(name);
  if (threadLocalCache == null) {
    threadLocalCache=new ThreadLocalCache<>(name,lifecycle);
    threadLocalCacheMap.put(name,threadLocalCache);
  }
  return (ThreadLocalCache<T>)threadLocalCache;
}
