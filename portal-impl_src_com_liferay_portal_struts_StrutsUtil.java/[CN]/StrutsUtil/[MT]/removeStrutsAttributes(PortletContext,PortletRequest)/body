{
  Map<String,Object> strutsAttributes=new HashMap<String,Object>();
  Enumeration<String> enu=portletRequest.getAttributeNames();
  while (enu.hasMoreElements()) {
    String attributeName=enu.nextElement();
    if (attributeName.startsWith(STRUTS_PACKAGE)) {
      strutsAttributes.put(attributeName,portletRequest.getAttribute(attributeName));
    }
  }
  Iterator<String> itr=strutsAttributes.keySet().iterator();
  while (itr.hasNext()) {
    String attributeName=itr.next();
    portletRequest.setAttribute(attributeName,null);
  }
  Object moduleConfig=portletContext.getAttribute(Globals.MODULE_KEY);
  portletRequest.setAttribute(Globals.MODULE_KEY,moduleConfig);
  return strutsAttributes;
}
