{
  if (_log.isDebugEnabled()) {
    _log.debug("Forward URI " + uri);
  }
  if (uri.equals(ActionConstants.COMMON_NULL)) {
    return;
  }
  if (!response.isCommitted()) {
    String path=TEXT_HTML_DIR + uri;
    if (BrowserSnifferUtil.isWap(request)) {
      path=TEXT_WAP_DIR + uri;
    }
    if (_log.isDebugEnabled()) {
      _log.debug("Forward path " + path);
    }
    RequestDispatcher requestDispatcher=servletContext.getRequestDispatcher(path);
    try {
      requestDispatcher.forward(request,response);
    }
 catch (    IOException ioe1) {
      _log.warn(ioe1,ioe1);
    }
catch (    ServletException se1) {
      request.setAttribute(PageContext.EXCEPTION,se1.getRootCause());
      String errorPath=TEXT_HTML_DIR + "/common/error.jsp";
      if (BrowserSnifferUtil.isWap(request)) {
        path=TEXT_WAP_DIR + "/common/error.jsp";
      }
      requestDispatcher=servletContext.getRequestDispatcher(errorPath);
      try {
        requestDispatcher.forward(request,response);
      }
 catch (      IOException ioe2) {
        _log.warn(ioe2,ioe2);
      }
catch (      ServletException se2) {
        throw se2;
      }
    }
  }
 else {
    _log.warn(uri + " is already committed");
  }
}
