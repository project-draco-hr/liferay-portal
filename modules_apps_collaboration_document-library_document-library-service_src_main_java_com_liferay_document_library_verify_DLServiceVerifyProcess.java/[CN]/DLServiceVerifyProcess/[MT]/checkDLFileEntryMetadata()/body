{
  try (LoggingTimer loggingTimer=new LoggingTimer()){
    List<DLFileEntryMetadata> mismatchedCompanyIdDLFileEntryMetadatas=_dlFileEntryMetadataLocalService.getMismatchedCompanyIdFileEntryMetadatas();
    if (_log.isDebugEnabled()) {
      int size=mismatchedCompanyIdDLFileEntryMetadatas.size();
      _log.debug("Deleting " + size + " file entry metadatas with "+ "mismatched company IDs");
    }
    for (    DLFileEntryMetadata dlFileEntryMetadata : mismatchedCompanyIdDLFileEntryMetadatas) {
      deleteUnusedDLFileEntryMetadata(dlFileEntryMetadata);
    }
    List<DLFileEntryMetadata> noStructuresDLFileEntryMetadatas=_dlFileEntryMetadataLocalService.getNoStructuresFileEntryMetadatas();
    if (_log.isDebugEnabled()) {
      _log.debug("Deleting " + noStructuresDLFileEntryMetadatas.size() + " file entry metadatas with no structures");
    }
    for (    DLFileEntryMetadata dlFileEntryMetadata : noStructuresDLFileEntryMetadatas) {
      deleteUnusedDLFileEntryMetadata(dlFileEntryMetadata);
    }
  }
 }
