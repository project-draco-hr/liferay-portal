{
  PortletURL viewFullContentURL=liferayPortletResponse.createRenderURL();
  viewFullContentURL.setParameter("struts_action","/asset_publisher/view_content");
  String currentURL=PortalUtil.getCurrentURL(liferayPortletRequest);
  viewFullContentURL.setParameter("redirect",currentURL);
  viewFullContentURL.setParameter("assetEntryId",String.valueOf(assetEntry.getEntryId()));
  AssetRendererFactory assetRendererFactory=assetEntry.getAssetRendererFactory();
  AssetRenderer assetRenderer=assetEntry.getAssetRenderer();
  viewFullContentURL.setParameter("type",assetRendererFactory.getType());
  if (Validator.isNotNull(assetRenderer.getUrlTitle())) {
    ThemeDisplay themeDisplay=(ThemeDisplay)liferayPortletRequest.getAttribute(WebKeys.THEME_DISPLAY);
    if (assetRenderer.getGroupId() != themeDisplay.getScopeGroupId()) {
      viewFullContentURL.setParameter("groupId",String.valueOf(assetRenderer.getGroupId()));
    }
    viewFullContentURL.setParameter("urlTitle",assetRenderer.getUrlTitle());
  }
  return viewFullContentURL.toString();
}
