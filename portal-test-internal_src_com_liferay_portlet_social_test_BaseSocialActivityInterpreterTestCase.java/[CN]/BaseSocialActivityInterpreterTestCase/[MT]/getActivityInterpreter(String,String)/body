{
  try {
    Registry registry=RegistryUtil.getRegistry();
    Collection<SocialActivityInterpreter> socialActivityInterpreters=registry.getServices(SocialActivityInterpreter.class,"(javax.portlet.name=" + portletId + ")");
    for (    SocialActivityInterpreter socialActivityInterpreter : socialActivityInterpreters) {
      if (ArrayUtil.contains(socialActivityInterpreter.getClassNames(),className)) {
        return socialActivityInterpreter;
      }
    }
    throw new IllegalStateException("No activity interpreter found for class " + className);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
