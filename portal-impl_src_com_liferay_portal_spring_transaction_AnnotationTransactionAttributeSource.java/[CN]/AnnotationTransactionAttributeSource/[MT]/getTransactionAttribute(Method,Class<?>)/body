{
  MethodTargetClassKey methodTargetClassKey=new MethodTargetClassKey(method,targetClass);
  TransactionAttribute transactionAttribute=_transactionAttributes.get(methodTargetClassKey);
  if (transactionAttribute != null) {
    if (transactionAttribute == _nullTransactionAttribute) {
      return null;
    }
 else {
      return transactionAttribute;
    }
  }
  Transactional transactional=AnnotationLocator.locate(method,targetClass,Transactional.class);
  transactionAttribute=TransactionAttributeBuilder.build(transactional);
  if (transactionAttribute == null) {
    _transactionAttributes.put(methodTargetClassKey,_nullTransactionAttribute);
  }
 else {
    _transactionAttributes.put(methodTargetClassKey,transactionAttribute);
  }
  return transactionAttribute;
}
