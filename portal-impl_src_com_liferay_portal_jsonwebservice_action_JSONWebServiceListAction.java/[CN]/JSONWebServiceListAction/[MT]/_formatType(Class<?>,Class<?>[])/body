{
  if (type.isArray()) {
    Class<?> componentType=type.getComponentType();
    return _formatType(componentType,genericTypes) + "[]";
  }
  if (type.isPrimitive()) {
    return type.getSimpleName();
  }
  if (type.equals(Date.class)) {
    return "long";
  }
  if (type.equals(Locale.class) || type.equals(String.class)) {
    return "string";
  }
  if (type.equals(Object.class) || type.equals(Serializable.class)) {
    return "object";
  }
  String typeName=type.getName();
  if (type.equals(List.class)) {
    typeName="list";
  }
 else   if (type.equals(Map.class)) {
    typeName="map";
  }
 else {
    _types.add(type);
  }
  if (genericTypes == null) {
    return "object<" + typeName + ">";
  }
  StringBundler sb=new StringBundler(genericTypes.length * 2 + 1);
  sb.append(StringPool.LESS_THAN);
  for (int i=0; i < genericTypes.length; i++) {
    Class<?> genericType=genericTypes[i];
    if (i != 0) {
      sb.append(StringPool.COMMA);
    }
    sb.append(_formatType(genericType,null));
  }
  sb.append(StringPool.GREATER_THAN);
  return typeName + sb.toString();
}
