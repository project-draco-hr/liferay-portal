{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  long classPK=ParamUtil.getLong(actionRequest,"classPK");
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  long scopeClassNameId=ParamUtil.getLong(actionRequest,"scopeClassNameId");
  String structureKey=ParamUtil.getString(actionRequest,"structureKey");
  long parentStructureId=ParamUtil.getLong(actionRequest,"parentStructureId",DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID);
  Map<Locale,String> nameMap=LocalizationUtil.getLocalizationMap(actionRequest,"name");
  Map<Locale,String> descriptionMap=LocalizationUtil.getLocalizationMap(actionRequest,"description");
  String definition=ParamUtil.getString(actionRequest,"definition");
  String storageType=ParamUtil.getString(actionRequest,"storageType");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DDMStructure.class.getName(),actionRequest);
  DDMStructure structure=null;
  if (cmd.equals(Constants.ADD)) {
    structure=DDMStructureServiceUtil.addStructure(groupId,parentStructureId,scopeClassNameId,structureKey,nameMap,descriptionMap,definition,storageType,DDMStructureConstants.TYPE_DEFAULT,serviceContext);
  }
 else   if (cmd.equals(Constants.UPDATE)) {
    structure=DDMStructureServiceUtil.updateStructure(classPK,parentStructureId,nameMap,descriptionMap,definition,serviceContext);
  }
  return structure;
}
