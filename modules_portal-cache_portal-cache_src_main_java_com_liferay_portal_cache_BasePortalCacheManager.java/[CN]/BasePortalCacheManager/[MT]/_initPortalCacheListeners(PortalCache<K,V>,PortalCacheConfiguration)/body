{
  if (portalCacheConfiguration == null) {
    return;
  }
  for (  Properties properties : portalCacheConfiguration.getPortalCacheListenerPropertiesSet()) {
    PortalCacheListenerScope portalCacheListenerScope=(PortalCacheListenerScope)properties.remove(PortalCacheConfiguration.PORTAL_CACHE_LISTENER_SCOPE);
    if (portalCacheListenerScope == null) {
      portalCacheListenerScope=PortalCacheListenerScope.ALL;
    }
    PortalCacheListener<K,V> portalCacheListener=portalCacheListenerFactory.create(properties);
    if (portalCacheListener != null) {
      portalCache.registerPortalCacheListener(portalCacheListener,portalCacheListenerScope);
    }
  }
}
