{
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  String icon=_icon;
  if (icon == null) {
    icon=themeDisplay.getPathThemeImages() + "/common/tool.png";
  }
  String id=_id;
  if (Validator.isNull(id)) {
    String randomKey=PortalUtil.generateRandomKey(request,IconMenuTag.class.getName());
    id=randomKey + StringPool.UNDERLINE;
  }
  request.setAttribute("liferay-ui:icon-menu:align",_align);
  request.setAttribute("liferay-ui:icon-menu:cssClass",_cssClass);
  request.setAttribute("liferay-ui:icon-menu:icon-count",new IntegerWrapper());
  request.setAttribute("liferay-ui:icon-menu:icon",icon);
  request.setAttribute("liferay-ui:icon-menu:id",id);
  request.setAttribute("liferay-ui:icon-menu:message",_message);
  request.setAttribute("liferay-ui:icon-menu:showArrow",String.valueOf(_showArrow));
  request.setAttribute("liferay-ui:icon-menu:showExpanded",String.valueOf(_showExpanded));
  request.setAttribute("liferay-ui:icon-menu:showWhenSingleIcon",String.valueOf(_showWhenSingleIcon));
  return EVAL_BODY_BUFFERED;
}
