{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (!cmd.equals(Constants.UPDATE)) {
    return;
  }
  String xmlURL=ParamUtil.getString(actionRequest,"xmlURL");
  String xslURL=ParamUtil.getString(actionRequest,"xslURL");
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
  if (xmlURL.startsWith("file:/")) {
    SessionErrors.add(actionRequest,"xmlURL");
  }
  if (xslURL.startsWith("file:/")) {
    SessionErrors.add(actionRequest,"xslURL");
  }
  if (SessionErrors.isEmpty(actionRequest)) {
    preferences.setValue("xml-url",xmlURL);
    preferences.setValue("xsl-url",xslURL);
    preferences.store();
    SessionMessages.add(actionRequest,portletConfig.getPortletName() + ".doConfigure");
  }
}
