{
  if (_printWriter != null) {
    return _printWriter;
  }
  if (_servletOutputStream != null) {
    throw new IllegalStateException("Cannot obtain Writer because OutputStream is already in use");
  }
  _unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
  _servletOutputStream=new PipingServletOutputStream(_unsyncByteArrayOutputStream);
  _printWriter=new UnsyncPrintWriter(_unsyncByteArrayOutputStream);
  return _printWriter;
}
