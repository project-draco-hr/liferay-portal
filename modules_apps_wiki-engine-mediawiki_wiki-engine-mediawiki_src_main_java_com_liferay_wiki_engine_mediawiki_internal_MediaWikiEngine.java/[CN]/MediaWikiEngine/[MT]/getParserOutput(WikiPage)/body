{
  ParserOutput parserOutput=null;
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  currentThread.setContextClassLoader(getClassLoader());
  try {
    ParserInput parserInput=getParserInput(page.getNodeId(),page.getTitle());
    parserOutput=ParserUtil.parseMetadata(parserInput,page.getContent());
  }
 catch (  ParserException pe) {
    throw new PageContentException(pe);
  }
 finally {
    currentThread.setContextClassLoader(contextClassLoader);
  }
  return parserOutput;
}
