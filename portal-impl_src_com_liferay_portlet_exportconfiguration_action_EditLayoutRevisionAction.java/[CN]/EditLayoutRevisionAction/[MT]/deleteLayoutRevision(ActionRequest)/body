{
  HttpServletRequest request=PortalUtil.getHttpServletRequest(actionRequest);
  long layoutRevisionId=ParamUtil.getLong(actionRequest,"layoutRevisionId");
  LayoutRevision layoutRevision=LayoutRevisionLocalServiceUtil.getLayoutRevision(layoutRevisionId);
  LayoutRevisionLocalServiceUtil.deleteLayoutRevision(layoutRevision);
  boolean updateRecentLayoutRevisionId=ParamUtil.getBoolean(actionRequest,"updateRecentLayoutRevisionId");
  if (updateRecentLayoutRevisionId) {
    StagingUtil.setRecentLayoutRevisionId(request,layoutRevision.getLayoutSetBranchId(),layoutRevision.getPlid(),layoutRevision.getParentLayoutRevisionId());
  }
}
