{
  BatchablePipe<String,Integer> batchablePipe=new BatchablePipe<String,Integer>();
  IncreasableEntry<String,Integer> increasableEntry1=new IntegerIncreasableEntry("1st",1);
  Assert.assertTrue(batchablePipe.put(increasableEntry1));
  Assert.assertEquals(increasableEntry1,batchablePipe.take());
  Assert.assertTrue(increasableEntry1.increase(1));
  Assert.assertEquals(2,(int)increasableEntry1.getValue());
  Assert.assertFalse(increasableEntry1.increase(1));
  Assert.assertEquals(2,(int)increasableEntry1.getValue());
  IncreasableEntry<String,Integer> increasableEntry2=new IntegerIncreasableEntry("2nd",2);
  Assert.assertTrue(batchablePipe.put(increasableEntry2));
  IncreasableEntry<String,Integer> increasableEntry3=new IntegerIncreasableEntry("3nd",3);
  Assert.assertTrue(batchablePipe.put(increasableEntry3));
  IncreasableEntry<String,Integer> increasableEntry4=new IntegerIncreasableEntry("4th",4);
  Assert.assertTrue(batchablePipe.put(increasableEntry4));
  Assert.assertEquals(increasableEntry2,batchablePipe.take());
  Assert.assertEquals(increasableEntry3,batchablePipe.take());
  Assert.assertEquals(increasableEntry4,batchablePipe.take());
  Assert.assertNull(batchablePipe.take());
}
