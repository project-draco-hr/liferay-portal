{
  Map<String,String[]> parameterMap=getLayoutSetPrototypeParameters();
  FileCacheOutputStream fileCacheOutputStream=LayoutLocalServiceUtil.exportLayoutsAsStream(sourceLayoutSet.getGroupId(),sourceLayoutSet.isPrivateLayout(),null,parameterMap,null,null);
  try {
    LayoutServiceUtil.importLayouts(targetLayoutSet.getGroupId(),targetLayoutSet.isPrivateLayout(),parameterMap,fileCacheOutputStream.getFileInputStream());
  }
  finally {
    fileCacheOutputStream.close();
  }
}
