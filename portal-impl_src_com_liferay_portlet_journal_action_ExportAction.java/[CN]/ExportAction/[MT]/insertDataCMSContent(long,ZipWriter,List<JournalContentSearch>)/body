{
  StringBuilder sb=new StringBuilder();
  List<IGImage> igImages=new ArrayList<IGImage>();
  List<IGFolder> igFolders=IGFolderLocalServiceUtil.getFolders(groupId);
  for (  IGFolder folder : igFolders) {
    sb.append("insert into IGFolder (");
    sb.append("folderId, groupId, companyId, userId, createDate, ");
    sb.append("modifiedDate, parentFolderId, name");
    sb.append(") values (");
    addPKColumn(sb,folder.getFolderId());
    addColumn(sb,folder.getGroupId());
    addColumn(sb,folder.getCompanyId());
    addColumn(sb,DEFAULT_USER_ID);
    addColumn(sb,folder.getCreateDate());
    addColumn(sb,folder.getModifiedDate());
    addColumn(sb,folder.getParentFolderId());
    addColumn(sb,folder.getName());
    removeTrailingComma(sb);
    sb.append(");\n");
    igImages.addAll(IGImageLocalServiceUtil.getImages(folder.getFolderId()));
  }
  sb.append("\n");
  Collections.sort(igImages);
  for (  IGImage image : igImages) {
    sb.append("insert into IGImage (");
    sb.append("imageId, companyId, userId, createDate, modifiedDate, ");
    sb.append("folderId, description, smallImageId, largeImageId");
    sb.append(") values (");
    addPKColumn(sb,image.getImageId());
    addColumn(sb,image.getCompanyId());
    addColumn(sb,DEFAULT_USER_ID);
    addColumn(sb,image.getCreateDate());
    addColumn(sb,image.getModifiedDate());
    addPKColumn(sb,image.getFolderId());
    addColumn(sb,image.getDescription());
    addPKColumn(sb,image.getSmallImageId());
    addPKColumn(sb,image.getLargeImageId());
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  sb.append("\n");
  List<JournalArticle> articles=JournalArticleLocalServiceUtil.getArticles(groupId);
  for (  JournalArticle article : articles) {
    if (article.isApproved() && JournalArticleLocalServiceUtil.isLatestVersion(article.getGroupId(),article.getArticleId(),article.getVersion())) {
      sb.append("insert into JournalArticle (");
      sb.append("id_, resourcePrimKey, groupId, companyId, userId, ");
      sb.append("userName, createDate, modifiedDate, articleId, ");
      sb.append("version, title, description, content, type_, ");
      sb.append("structureId, templateId, displayDate, approved, ");
      sb.append("approvedByUserId, approvedByUserName, expired, ");
      sb.append("indexable");
      sb.append(") values (");
      addPKColumn(sb,article.getId());
      addPKColumn(sb,article.getResourcePrimKey());
      addColumn(sb,article.getGroupId());
      addColumn(sb,article.getCompanyId());
      addColumn(sb,DEFAULT_USER_ID);
      addColumn(sb,DEFAULT_USER_NAME);
      addColumn(sb,article.getCreateDate());
      addColumn(sb,article.getModifiedDate());
      addPKColumn(sb,article.getArticleId());
      addColumn(sb,JournalArticleImpl.DEFAULT_VERSION);
      addColumn(sb,article.getTitle());
      addColumn(sb,article.getDescription());
      addColumn(sb,replaceIds(article.getContent()));
      addColumn(sb,article.getType());
      addPKColumn(sb,article.getStructureId());
      addPKColumn(sb,article.getTemplateId());
      addColumn(sb,article.getDisplayDate(),false);
      addColumn(sb,article.getApproved());
      addColumn(sb,DEFAULT_USER_ID);
      addColumn(sb,DEFAULT_USER_NAME);
      addColumn(sb,article.getExpired());
      addColumn(sb,article.getIndexable());
      removeTrailingComma(sb);
      sb.append(");\n");
    }
  }
  sb.append("\n");
  List<JournalArticleImage> articleImages=JournalArticleImageLocalServiceUtil.getArticleImages(groupId);
  for (  JournalArticleImage articleImage : articleImages) {
    sb.append("insert into JournalArticleImage (");
    sb.append("articleImageId, groupId, articleId, version, elName, ");
    sb.append("languageId, tempImage");
    sb.append(") values (");
    addPKColumn(sb,articleImage.getArticleImageId());
    addColumn(sb,articleImage.getGroupId());
    addPKColumn(sb,articleImage.getArticleId());
    addColumn(sb,articleImage.getVersion());
    addColumn(sb,articleImage.getElName());
    addColumn(sb,articleImage.getLanguageId());
    addColumn(sb,articleImage.getTempImage());
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  sb.append("\n");
  List<JournalArticleResource> articleResources=JournalArticleResourceLocalServiceUtil.getArticleResources(groupId);
  for (  JournalArticleResource articleResource : articleResources) {
    sb.append("insert into JournalArticleResource (");
    sb.append("resourcePrimKey, groupId, articleId");
    sb.append(") values (");
    addPKColumn(sb,articleResource.getResourcePrimKey());
    addColumn(sb,articleResource.getGroupId());
    addPKColumn(sb,articleResource.getArticleId());
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  sb.append("\n");
  for (  JournalContentSearch contentSearch : journalContentSearches) {
    sb.append("insert into JournalContentSearch (");
    sb.append("contentSearchId, groupId, companyId, privateLayout, ");
    sb.append("layoutId, portletId, articleId");
    sb.append(") values (");
    addPKColumn(sb,contentSearch.getContentSearchId());
    addColumn(sb,contentSearch.getGroupId());
    addColumn(sb,contentSearch.getCompanyId());
    addColumn(sb,contentSearch.isPrivateLayout());
    addColumn(sb,contentSearch.getLayoutId());
    addColumn(sb,contentSearch.getPortletId());
    addPKColumn(sb,contentSearch.getArticleId());
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  sb.append("\n");
  List<JournalFeed> feeds=JournalFeedLocalServiceUtil.getFeeds(groupId);
  for (  JournalFeed feed : feeds) {
    sb.append("insert into JournalFeed (");
    sb.append("id_, groupId, companyId, userId, userName, ");
    sb.append("createDate, modifiedDate, feedId, name, description, ");
    sb.append("type_, structureId, templateId, rendererTemplateId, ");
    sb.append("delta, orderByCol, orderByType, ");
    sb.append("targetLayoutFriendlyUrl, targetPortletId, ");
    sb.append("contentField, feedType, feedVersion");
    sb.append(") values (");
    addPKColumn(sb,feed.getId());
    addColumn(sb,feed.getGroupId());
    addColumn(sb,feed.getCompanyId());
    addColumn(sb,DEFAULT_USER_ID);
    addColumn(sb,DEFAULT_USER_NAME);
    addColumn(sb,feed.getCreateDate());
    addColumn(sb,feed.getModifiedDate());
    addPKColumn(sb,feed.getFeedId());
    addColumn(sb,feed.getName());
    addColumn(sb,feed.getDescription());
    addColumn(sb,feed.getType());
    addPKColumn(sb,feed.getStructureId());
    addPKColumn(sb,feed.getTemplateId());
    addPKColumn(sb,feed.getRendererTemplateId());
    addColumn(sb,feed.getDelta());
    addColumn(sb,feed.getOrderByCol());
    addColumn(sb,feed.getOrderByType());
    addColumn(sb,feed.getTargetLayoutFriendlyUrl());
    addColumn(sb,feed.getTargetPortletId());
    addColumn(sb,feed.getContentField());
    addColumn(sb,feed.getFeedType());
    addColumn(sb,feed.getFeedVersion());
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  sb.append("\n");
  List<JournalStructure> structures=JournalStructureLocalServiceUtil.getStructures(groupId);
  for (  JournalStructure structure : structures) {
    sb.append("insert into JournalStructure (");
    sb.append("id_, groupId, companyId, userId, userName, ");
    sb.append("createDate, modifiedDate, structureId, name, ");
    sb.append("description, xsd");
    sb.append(") values (");
    addPKColumn(sb,structure.getId());
    addColumn(sb,structure.getGroupId());
    addColumn(sb,structure.getCompanyId());
    addColumn(sb,DEFAULT_USER_ID);
    addColumn(sb,DEFAULT_USER_NAME);
    addColumn(sb,structure.getCreateDate());
    addColumn(sb,structure.getModifiedDate());
    addPKColumn(sb,structure.getStructureId());
    addColumn(sb,structure.getName());
    addColumn(sb,structure.getDescription());
    addColumn(sb,replaceIds(structure.getXsd()));
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  sb.append("\n");
  List<JournalTemplate> templates=JournalTemplateLocalServiceUtil.getTemplates(groupId);
  for (  JournalTemplate template : templates) {
    sb.append("insert into JournalTemplate (");
    sb.append("id_, groupId, companyId, userId, userName, ");
    sb.append("createDate, modifiedDate, templateId, structureId, ");
    sb.append("name, description, xsl, langType, smallImage, ");
    sb.append("smallImageId, smallImageURL");
    sb.append(") values (");
    addPKColumn(sb,template.getId());
    addColumn(sb,template.getGroupId());
    addColumn(sb,template.getCompanyId());
    addColumn(sb,DEFAULT_USER_ID);
    addColumn(sb,DEFAULT_USER_NAME);
    addColumn(sb,template.getCreateDate());
    addColumn(sb,template.getModifiedDate());
    addPKColumn(sb,template.getTemplateId());
    addPKColumn(sb,template.getStructureId());
    addColumn(sb,template.getName());
    addColumn(sb,template.getDescription());
    addColumn(sb,replaceIds(template.getXsl()));
    addColumn(sb,template.getLangType());
    addColumn(sb,template.getSmallImage());
    addPKColumn(sb,template.getSmallImageId());
    addColumn(sb,template.getSmallImageURL());
    removeTrailingComma(sb);
    sb.append(");\n");
  }
  removeTrailingNewLine(sb);
  zipWriter.addEntry("portal-data-cms-content.sql",sb);
}
