{
  try {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
    if (permissionChecker.isOmniadmin()) {
      long groupId=ParamUtil.getLong(request,"groupId",DEFAULT_GROUP_ID);
      _primaryKeys.clear();
      _primaryKeyCount=1500;
      ZipWriter zipWriter=new ZipWriter();
      List<JournalContentSearch> journalContentSearches=new ArrayList<JournalContentSearch>();
      insertDataImage(groupId,zipWriter);
      insertDataCMSLayout(groupId,zipWriter,journalContentSearches);
      insertDataCMSContent(groupId,zipWriter,journalContentSearches);
      String fileName="journal.zip";
      ServletResponseUtil.sendFile(response,fileName,zipWriter.finish());
    }
    return null;
  }
 catch (  Exception e) {
    PortalUtil.sendError(e,request,response);
    return null;
  }
}
