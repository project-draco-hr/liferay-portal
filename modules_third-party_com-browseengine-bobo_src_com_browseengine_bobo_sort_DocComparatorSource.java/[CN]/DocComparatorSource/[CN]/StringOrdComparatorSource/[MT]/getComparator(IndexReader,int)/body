{
  final StringIndex values=FieldCache.DEFAULT.getStringIndex(reader,field);
  return new DocComparator(){
    public int compare(    ScoreDoc doc1,    ScoreDoc doc2){
      return values.order[doc1.doc] - values.order[doc2.doc];
    }
    public String value(    ScoreDoc doc){
      if (values.lookup[values.order[doc.doc]] == null) {
        return null;
      }
      return String.valueOf(values.lookup[values.order[doc.doc]]);
    }
  }
;
}
