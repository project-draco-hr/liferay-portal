{
  Set<Long> newDLFolderPKsSet=SetUtil.fromArray(dlFolderPKs);
  Set<Long> oldDLFolderPKsSet=SetUtil.fromArray(dlFileEntryTypeToDLFolderTableMapper.getRightPrimaryKeys(pk));
  Set<Long> removeDLFolderPKsSet=new HashSet<Long>(oldDLFolderPKsSet);
  removeDLFolderPKsSet.removeAll(newDLFolderPKsSet);
  long[] removeDLFolderPKs=new long[removeDLFolderPKsSet.size()];
  int i=0;
  for (  long removeDLFolderPK : removeDLFolderPKsSet) {
    removeDLFolderPKs[i++]=removeDLFolderPK;
  }
  dlFileEntryTypeToDLFolderTableMapper.deleteTableMappings(pk,removeDLFolderPKs);
  newDLFolderPKsSet.removeAll(oldDLFolderPKsSet);
  long[] newDLFolderPKs=new long[newDLFolderPKsSet.size()];
  i=0;
  for (  long newDLFolderPK : newDLFolderPKsSet) {
    newDLFolderPKs[i++]=newDLFolderPK;
  }
  long companyId=0;
  DLFileEntryType dlFileEntryType=fetchByPrimaryKey(pk);
  if (dlFileEntryType == null) {
    companyId=companyProvider.getCompanyId();
  }
 else {
    companyId=dlFileEntryType.getCompanyId();
  }
  dlFileEntryTypeToDLFolderTableMapper.addTableMappings(companyId,pk,newDLFolderPKs);
}
