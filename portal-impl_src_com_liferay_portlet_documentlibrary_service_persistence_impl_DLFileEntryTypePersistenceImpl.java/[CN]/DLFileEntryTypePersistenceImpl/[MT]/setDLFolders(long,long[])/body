{
  Set<Long> newDLFolderPKsSet=SetUtil.fromArray(dlFolderPKs);
  Set<Long> oldDLFolderPKsSet=SetUtil.fromArray(dlFileEntryTypeToDLFolderTableMapper.getRightPrimaryKeys(pk));
  Set<Long> removeDLFolderPKsSet=new HashSet<Long>(oldDLFolderPKsSet);
  removeDLFolderPKsSet.removeAll(newDLFolderPKsSet);
  for (  long removeDLFolderPK : removeDLFolderPKsSet) {
    dlFileEntryTypeToDLFolderTableMapper.deleteTableMapping(pk,removeDLFolderPK);
  }
  newDLFolderPKsSet.removeAll(oldDLFolderPKsSet);
  long companyId=0;
  DLFileEntryType dlFileEntryType=fetchByPrimaryKey(pk);
  if (dlFileEntryType == null) {
    companyId=companyProvider.getCompanyId();
  }
 else {
    companyId=dlFileEntryType.getCompanyId();
  }
  for (  long newDLFolderPK : newDLFolderPKsSet) {
    dlFileEntryTypeToDLFolderTableMapper.addTableMapping(companyId,pk,newDLFolderPK);
  }
}
