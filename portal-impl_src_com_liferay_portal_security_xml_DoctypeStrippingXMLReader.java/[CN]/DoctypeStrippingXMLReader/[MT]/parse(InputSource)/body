{
  if (_disallowDTD) {
    final InputStream byteStream=input.getByteStream();
    if (byteStream != null) {
      final SimpleDoctypeStrippingFilter filter=new SimpleDoctypeStrippingFilter(byteStream);
      input.setByteStream(new FilterInputStream(byteStream){
        @Override public int read() throws IOException {
          return filter.read();
        }
        @Override public int read(        byte[] b,        int off,        int len) throws IOException {
          return filter.read(b,off,len);
        }
      }
);
    }
    Reader characterStream=input.getCharacterStream();
    if (characterStream != null) {
      final SimpleDoctypeStrippingFilter filter=new SimpleDoctypeStrippingFilter(characterStream);
      input.setCharacterStream(new FilterReader(characterStream){
        @Override public int read() throws IOException {
          return filter.read();
        }
        @Override public int read(        char[] cbuf,        int off,        int len) throws IOException {
          return filter.read(cbuf,off,len);
        }
      }
);
    }
  }
  _xmlReader.parse(input);
}
