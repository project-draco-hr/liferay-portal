{
  if (_disallowDoctypeDecl) {
    final InputStream inputStream=inputSource.getByteStream();
    if (inputStream != null) {
      final SimpleDoctypeStrippingFilter filter=new SimpleDoctypeStrippingFilter(inputStream);
      inputSource.setByteStream(new FilterInputStream(inputStream){
        @Override public int read() throws IOException {
          return filter.read();
        }
        @Override public int read(        byte[] bytes,        int offset,        int length) throws IOException {
          return filter.read(bytes,offset,length);
        }
      }
);
    }
    Reader characterStream=inputSource.getCharacterStream();
    if (characterStream != null) {
      final SimpleDoctypeStrippingFilter filter=new SimpleDoctypeStrippingFilter(characterStream);
      inputSource.setCharacterStream(new FilterReader(characterStream){
        @Override public int read() throws IOException {
          return filter.read();
        }
        @Override public int read(        char[] chars,        int offset,        int length) throws IOException {
          return filter.read(chars,offset,length);
        }
      }
);
    }
  }
  _xmlReader.parse(inputSource);
}
