{
  long folderId=DLFolderConstants.DEFAULT_PARENT_FOLDER_ID;
  if (pathArray.length <= 1) {
    return folderId;
  }
  long groupId=WebDAVUtil.getGroupId(companyId,pathArray);
  int x=pathArray.length;
  if (parent) {
    x--;
  }
  for (int i=2; i < x; i++) {
    String name=pathArray[i];
    Folder folder=_dlAppService.getFolder(groupId,folderId,name);
    if (groupId == folder.getRepositoryId()) {
      folderId=folder.getFolderId();
    }
  }
  return folderId;
}
