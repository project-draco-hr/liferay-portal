{
  _docrootDirName=docrootDirName;
  _portalCommonDirName=portalCommonDirName;
  int threads=1;
  try {
    _jniSassCompiler=new JniSassCompiler();
  }
 catch (  Throwable t) {
    threads=2;
    RubyExecutor rubyExecutor=new RubyExecutor();
    rubyExecutor.setExecuteInSeparateThread(false);
    _scriptingContainer=rubyExecutor.getScriptingContainer();
    _scriptingContainer.setCurrentDirectory(System.getProperty("user.dir"));
    String rubyScript=StringUtil.read(SassExecutorUtil.class.getClassLoader(),"com/liferay/portal/servlet/filters/dynamiccss" + "/dependencies/main.rb");
    _scriptObject=_scriptingContainer.runScriptlet(rubyScript);
  }
  _executorService=Executors.newFixedThreadPool(threads,new NamedThreadFactory("SassExecutor",Thread.NORM_PRIORITY,SassExecutorUtil.class.getClassLoader()));
  _mainThread=Thread.currentThread();
}
