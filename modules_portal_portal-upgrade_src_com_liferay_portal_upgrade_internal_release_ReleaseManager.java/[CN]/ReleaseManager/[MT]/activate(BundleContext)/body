{
  _logger=new Logger(bundleContext);
  _serviceTrackerMap=ServiceTrackerMapFactory.multiValueMap(bundleContext,UpgradeStep.class,"(&(" + UpgradeStepConstants.APPLICATION_NAME + "=*)(|(database="+ UpgradeStepConstants.ALL_DATABASES+ ")(database="+ DBFactoryUtil.getDB().getType()+ ")))",new PropertyServiceReferenceMapper<String,UpgradeStep>(UpgradeStepConstants.APPLICATION_NAME),new UpgradeCustomizer(bundleContext),Collections.reverseOrder(new PropertyServiceReferenceComparator<UpgradeStep>(UpgradeStepConstants.FROM)));
  _serviceTrackerMap.open();
}
