{
  String fromVersionString=(String)serviceReference.getProperty("upgrade.from.version");
  String toVersionString=(String)serviceReference.getProperty("upgrade.to.version");
  UpgradeStep upgradeStep=_bundleContext.getService(serviceReference);
  if (upgradeStep == null) {
    _logger.log(Logger.LOG_WARNING,"Skipping service " + serviceReference + " because it does not implement UpgradeStep");
    return null;
  }
  return new UpgradeInfo(fromVersionString,toVersionString,upgradeStep);
}
