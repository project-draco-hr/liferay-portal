{
  String fromSchemaVersionString=(String)serviceReference.getProperty("upgrade.from.schema.version");
  String toSchemaVersionString=(String)serviceReference.getProperty("upgrade.to.schema.version");
  UpgradeStep upgradeStep=_bundleContext.getService(serviceReference);
  if (upgradeStep == null) {
    _logger.log(Logger.LOG_WARNING,"Skipping service " + serviceReference + " because it does not implement UpgradeStep");
    return null;
  }
  return new UpgradeInfo(fromSchemaVersionString,toSchemaVersionString,upgradeStep);
}
