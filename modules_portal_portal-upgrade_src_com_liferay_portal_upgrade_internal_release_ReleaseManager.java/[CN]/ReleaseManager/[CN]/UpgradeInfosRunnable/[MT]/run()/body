{
  for (  UpgradeInfo upgradeInfo : _upgradeInfos) {
    UpgradeStep upgradeStep=upgradeInfo.getUpgradeStep();
    try {
      upgradeStep.upgrade(new DBProcessContext(){
        @Override public DBContext getDBContext(){
          return new DBContext();
        }
        @Override public OutputStream getOutputStream(){
          return _outputStream;
        }
      }
);
      _releaseLocalService.updateRelease(_bundleSymbolicName,upgradeInfo.getToVersionString(),upgradeInfo.getFromVersionString());
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
}
