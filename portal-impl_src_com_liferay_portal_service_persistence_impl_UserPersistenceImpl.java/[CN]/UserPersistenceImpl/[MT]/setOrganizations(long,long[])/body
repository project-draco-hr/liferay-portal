{
  Set<Long> newOrganizationPKsSet=SetUtil.fromArray(organizationPKs);
  Set<Long> oldOrganizationPKsSet=SetUtil.fromArray(userToOrganizationTableMapper.getRightPrimaryKeys(companyProvider.getCompanyId(),pk));
  Set<Long> removeOrganizationPKsSet=new HashSet<Long>(oldOrganizationPKsSet);
  removeOrganizationPKsSet.removeAll(newOrganizationPKsSet);
  for (  long removeOrganizationPK : removeOrganizationPKsSet) {
    userToOrganizationTableMapper.deleteTableMapping(companyProvider.getCompanyId(),pk,removeOrganizationPK);
  }
  newOrganizationPKsSet.removeAll(oldOrganizationPKsSet);
  for (  long newOrganizationPK : newOrganizationPKsSet) {
    userToOrganizationTableMapper.addTableMapping(companyProvider.getCompanyId(),pk,newOrganizationPK);
  }
}
