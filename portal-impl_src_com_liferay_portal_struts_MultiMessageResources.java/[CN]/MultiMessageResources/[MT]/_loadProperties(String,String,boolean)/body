{
  Properties properties=new Properties();
  try {
    URL url=null;
    if (useServletContext) {
      url=_servletContext.getResource("/WEB-INF/" + name);
    }
 else {
      ClassLoader classLoader=getClass().getClassLoader();
      url=classLoader.getResource(name);
    }
    if (_log.isInfoEnabled()) {
      _log.info("Attempting to load " + name + " "+ localeKey+ " "+ useServletContext);
    }
    if (url != null) {
      InputStream is=url.openStream();
      properties.load(is);
      is.close();
      if (_log.isInfoEnabled()) {
        _log.info("Loading " + url + " with "+ properties.size()+ " values");
      }
    }
  }
 catch (  Exception e) {
    _log.warn(e);
  }
  putMessages(properties,localeKey);
}
