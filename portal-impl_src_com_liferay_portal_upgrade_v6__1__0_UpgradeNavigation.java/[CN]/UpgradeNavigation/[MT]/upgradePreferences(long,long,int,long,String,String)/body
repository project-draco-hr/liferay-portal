{
  PortletPreferencesImpl preferences=PortletPreferencesSerializer.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  String displayStyle=preferences.getValue("display-style",null);
  if (Validator.isNumber(displayStyle)) {
    int index=GetterUtil.getInteger(displayStyle);
    if (index > 6 || index < 0) {
      index=0;
    }
    String newDisplayStyle=displayStyles[index];
    preferences.setValue("display-style",newDisplayStyle);
  }
  return PortletPreferencesSerializer.toXML(preferences);
}
