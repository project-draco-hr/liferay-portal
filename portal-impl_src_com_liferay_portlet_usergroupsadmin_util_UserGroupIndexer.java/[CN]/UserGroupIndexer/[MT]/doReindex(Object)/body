{
  if (obj instanceof List<?>) {
    List<UserGroup> userGroups=(List<UserGroup>)obj;
    for (    UserGroup userGroup : userGroups) {
      doReindex(userGroup);
    }
  }
 else   if (obj instanceof Long) {
    long userGroupId=(Long)obj;
    UserGroup userGroup=UserGroupLocalServiceUtil.getUserGroup(userGroupId);
    doReindex(userGroup);
  }
 else   if (obj instanceof long[]) {
    long[] userGroupIds=(long[])obj;
    Map<Long,Collection<Document>> documentsMap=new HashMap<Long,Collection<Document>>();
    for (    long userGroupId : userGroupIds) {
      UserGroup userGroup=UserGroupLocalServiceUtil.fetchUserGroup(userGroupId);
      if (userGroup == null) {
        continue;
      }
      Document document=getDocument(userGroup);
      long companyId=userGroup.getCompanyId();
      Collection<Document> documents=documentsMap.get(companyId);
      if (documents == null) {
        documents=new ArrayList<Document>();
        documentsMap.put(companyId,documents);
      }
      documents.add(document);
    }
    for (    Map.Entry<Long,Collection<Document>> entry : documentsMap.entrySet()) {
      long companyId=entry.getKey();
      Collection<Document> documents=entry.getValue();
      SearchEngineUtil.updateDocuments(getSearchEngineId(),companyId,documents);
    }
  }
 else   if (obj instanceof UserGroup) {
    UserGroup userGroup=(UserGroup)obj;
    Document document=getDocument(userGroup);
    SearchEngineUtil.updateDocument(getSearchEngineId(),userGroup.getCompanyId(),document);
  }
}
