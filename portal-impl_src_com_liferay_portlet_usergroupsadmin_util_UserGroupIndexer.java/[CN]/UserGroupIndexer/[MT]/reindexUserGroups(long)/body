{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(UserGroup.class,PACLClassLoaderUtil.getPortalClassLoader());
  Projection minUserGroupIdProjection=ProjectionFactoryUtil.min("userGroupId");
  Projection maxUserGroupIdProjection=ProjectionFactoryUtil.max("userGroupId");
  ProjectionList projectionList=ProjectionFactoryUtil.projectionList();
  projectionList.add(minUserGroupIdProjection);
  projectionList.add(maxUserGroupIdProjection);
  dynamicQuery.setProjection(projectionList);
  addReindexCriteria(dynamicQuery,companyId);
  List<Object[]> results=UserGroupLocalServiceUtil.dynamicQuery(dynamicQuery);
  Object[] minAndMaxUserGroupIds=results.get(0);
  if ((minAndMaxUserGroupIds[0] == null) || (minAndMaxUserGroupIds[1] == null)) {
    return;
  }
  long minUserGroupId=(Long)minAndMaxUserGroupIds[0];
  long maxUserGroupId=(Long)minAndMaxUserGroupIds[1];
  long startUserGroupId=minUserGroupId;
  long endUserGroupId=startUserGroupId + DEFAULT_INTERVAL;
  while (startUserGroupId <= maxUserGroupId) {
    reindexUserGroups(companyId,startUserGroupId,endUserGroupId);
    startUserGroupId=endUserGroupId;
    endUserGroupId+=DEFAULT_INTERVAL;
  }
}
