{
  if (checkedFileNames.contains(fileName)) {
    return false;
  }
  checkedFileNames.add(fileName);
  String content=_jspContents.get(fileName);
  if (Validator.isNull(content)) {
    return false;
  }
  Pattern pattern=Pattern.compile(regex);
  Matcher matcher=pattern.matcher(content);
  if (matcher.find() && (!type.equals("variable") || (checkedFileNames.size() > 1) || matcher.find())) {
    return true;
  }
  addJSPIncludeFileNames(fileName,includeFileNames);
  if (fileName.endsWith("init.jsp") || fileName.endsWith("init.jspf") || fileName.contains("init-ext.jsp")) {
    addJSPReferenceFileNames(fileName,includeFileNames);
  }
  String[] includeFileNamesArray=includeFileNames.toArray(new String[includeFileNames.size()]);
  for (  String includeFileName : includeFileNamesArray) {
    if (!checkedFileNames.contains(includeFileName) && isJSPTermRequired(includeFileName,regex,type,includeFileNames,checkedFileNames)) {
      return true;
    }
  }
  return false;
}
