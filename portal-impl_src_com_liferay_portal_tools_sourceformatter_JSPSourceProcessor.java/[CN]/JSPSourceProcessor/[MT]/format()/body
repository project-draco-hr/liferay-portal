{
  String[] excludes=new String[]{"**\\portal\\aui\\**","**\\bin\\**","**\\null.jsp","**\\tmp\\**","**\\tools\\**"};
  String[] includes=new String[]{"**\\*.jsp","**\\*.jspf","**\\*.vm"};
  List<String> fileNames=getFileNames(excludes,includes);
  Pattern pattern=Pattern.compile("(\\s*@\\s*include\\s*file)");
  for (  String fileName : fileNames) {
    File file=new File(BASEDIR + fileName);
    fileName=StringUtil.replace(fileName,StringPool.BACK_SLASH,StringPool.SLASH);
    String content=fileUtil.read(file);
    Matcher matcher=pattern.matcher(content);
    String newContent=content;
    if (matcher.find()) {
      newContent=matcher.replaceAll("@ include file");
      if (isAutoFix() && !content.equals(newContent)) {
        fileUtil.write(file,newContent);
        sourceFormatterHelper.printError(fileName,file);
      }
    }
    _jspContents.put(fileName,newContent);
  }
  for (  String fileName : fileNames) {
    format(fileName);
  }
}
