{
  String topLevelDirName=null;
  int x=includeFileName.indexOf(CharPool.SLASH,1);
  if (x != -1) {
    topLevelDirName=includeFileName.substring(1,x);
  }
  String path=fileName;
  while (true) {
    int y=path.lastIndexOf(CharPool.SLASH);
    if (y == -1) {
      return StringPool.BLANK;
    }
    if (Validator.isNull(topLevelDirName) || path.equals(topLevelDirName) || path.endsWith(StringPool.SLASH + topLevelDirName)) {
      String fullPathIncludeFileName=path.substring(0,y) + includeFileName;
      if (_jspContents.containsKey(fullPathIncludeFileName) && !fullPathIncludeFileName.equals(fileName)) {
        return fullPathIncludeFileName;
      }
    }
    path=path.substring(0,y);
  }
}
