{
  Session session=null;
  try {
    if (shoppingOrder.isNew() || shoppingOrder.isModified()) {
      session=openSession();
      if (shoppingOrder.isNew()) {
        ShoppingOrderHBM shoppingOrderHBM=new ShoppingOrderHBM(shoppingOrder.getOrderId(),shoppingOrder.getCompanyId(),shoppingOrder.getUserId(),shoppingOrder.getCreateDate(),shoppingOrder.getModifiedDate(),shoppingOrder.getTax(),shoppingOrder.getShipping(),shoppingOrder.getAltShipping(),shoppingOrder.getRequiresShipping(),shoppingOrder.getInsure(),shoppingOrder.getInsurance(),shoppingOrder.getCouponIds(),shoppingOrder.getCouponDiscount(),shoppingOrder.getBillingFirstName(),shoppingOrder.getBillingLastName(),shoppingOrder.getBillingEmailAddress(),shoppingOrder.getBillingCompany(),shoppingOrder.getBillingStreet(),shoppingOrder.getBillingCity(),shoppingOrder.getBillingState(),shoppingOrder.getBillingZip(),shoppingOrder.getBillingCountry(),shoppingOrder.getBillingPhone(),shoppingOrder.getShipToBilling(),shoppingOrder.getShippingFirstName(),shoppingOrder.getShippingLastName(),shoppingOrder.getShippingEmailAddress(),shoppingOrder.getShippingCompany(),shoppingOrder.getShippingStreet(),shoppingOrder.getShippingCity(),shoppingOrder.getShippingState(),shoppingOrder.getShippingZip(),shoppingOrder.getShippingCountry(),shoppingOrder.getShippingPhone(),shoppingOrder.getCcName(),shoppingOrder.getCcType(),shoppingOrder.getCcNumber(),shoppingOrder.getCcExpMonth(),shoppingOrder.getCcExpYear(),shoppingOrder.getCcVerNumber(),shoppingOrder.getComments(),shoppingOrder.getPpTxnId(),shoppingOrder.getPpPaymentStatus(),shoppingOrder.getPpPaymentGross(),shoppingOrder.getPpReceiverEmail(),shoppingOrder.getPpPayerEmail(),shoppingOrder.getSendOrderEmail(),shoppingOrder.getSendShippingEmail());
        session.save(shoppingOrderHBM);
        session.flush();
      }
 else {
        ShoppingOrderHBM shoppingOrderHBM=(ShoppingOrderHBM)session.get(ShoppingOrderHBM.class,shoppingOrder.getPrimaryKey());
        if (shoppingOrderHBM != null) {
          shoppingOrderHBM.setCompanyId(shoppingOrder.getCompanyId());
          shoppingOrderHBM.setUserId(shoppingOrder.getUserId());
          shoppingOrderHBM.setCreateDate(shoppingOrder.getCreateDate());
          shoppingOrderHBM.setModifiedDate(shoppingOrder.getModifiedDate());
          shoppingOrderHBM.setTax(shoppingOrder.getTax());
          shoppingOrderHBM.setShipping(shoppingOrder.getShipping());
          shoppingOrderHBM.setAltShipping(shoppingOrder.getAltShipping());
          shoppingOrderHBM.setRequiresShipping(shoppingOrder.getRequiresShipping());
          shoppingOrderHBM.setInsure(shoppingOrder.getInsure());
          shoppingOrderHBM.setInsurance(shoppingOrder.getInsurance());
          shoppingOrderHBM.setCouponIds(shoppingOrder.getCouponIds());
          shoppingOrderHBM.setCouponDiscount(shoppingOrder.getCouponDiscount());
          shoppingOrderHBM.setBillingFirstName(shoppingOrder.getBillingFirstName());
          shoppingOrderHBM.setBillingLastName(shoppingOrder.getBillingLastName());
          shoppingOrderHBM.setBillingEmailAddress(shoppingOrder.getBillingEmailAddress());
          shoppingOrderHBM.setBillingCompany(shoppingOrder.getBillingCompany());
          shoppingOrderHBM.setBillingStreet(shoppingOrder.getBillingStreet());
          shoppingOrderHBM.setBillingCity(shoppingOrder.getBillingCity());
          shoppingOrderHBM.setBillingState(shoppingOrder.getBillingState());
          shoppingOrderHBM.setBillingZip(shoppingOrder.getBillingZip());
          shoppingOrderHBM.setBillingCountry(shoppingOrder.getBillingCountry());
          shoppingOrderHBM.setBillingPhone(shoppingOrder.getBillingPhone());
          shoppingOrderHBM.setShipToBilling(shoppingOrder.getShipToBilling());
          shoppingOrderHBM.setShippingFirstName(shoppingOrder.getShippingFirstName());
          shoppingOrderHBM.setShippingLastName(shoppingOrder.getShippingLastName());
          shoppingOrderHBM.setShippingEmailAddress(shoppingOrder.getShippingEmailAddress());
          shoppingOrderHBM.setShippingCompany(shoppingOrder.getShippingCompany());
          shoppingOrderHBM.setShippingStreet(shoppingOrder.getShippingStreet());
          shoppingOrderHBM.setShippingCity(shoppingOrder.getShippingCity());
          shoppingOrderHBM.setShippingState(shoppingOrder.getShippingState());
          shoppingOrderHBM.setShippingZip(shoppingOrder.getShippingZip());
          shoppingOrderHBM.setShippingCountry(shoppingOrder.getShippingCountry());
          shoppingOrderHBM.setShippingPhone(shoppingOrder.getShippingPhone());
          shoppingOrderHBM.setCcName(shoppingOrder.getCcName());
          shoppingOrderHBM.setCcType(shoppingOrder.getCcType());
          shoppingOrderHBM.setCcNumber(shoppingOrder.getCcNumber());
          shoppingOrderHBM.setCcExpMonth(shoppingOrder.getCcExpMonth());
          shoppingOrderHBM.setCcExpYear(shoppingOrder.getCcExpYear());
          shoppingOrderHBM.setCcVerNumber(shoppingOrder.getCcVerNumber());
          shoppingOrderHBM.setComments(shoppingOrder.getComments());
          shoppingOrderHBM.setPpTxnId(shoppingOrder.getPpTxnId());
          shoppingOrderHBM.setPpPaymentStatus(shoppingOrder.getPpPaymentStatus());
          shoppingOrderHBM.setPpPaymentGross(shoppingOrder.getPpPaymentGross());
          shoppingOrderHBM.setPpReceiverEmail(shoppingOrder.getPpReceiverEmail());
          shoppingOrderHBM.setPpPayerEmail(shoppingOrder.getPpPayerEmail());
          shoppingOrderHBM.setSendOrderEmail(shoppingOrder.getSendOrderEmail());
          shoppingOrderHBM.setSendShippingEmail(shoppingOrder.getSendShippingEmail());
          session.flush();
        }
 else {
          shoppingOrderHBM=new ShoppingOrderHBM(shoppingOrder.getOrderId(),shoppingOrder.getCompanyId(),shoppingOrder.getUserId(),shoppingOrder.getCreateDate(),shoppingOrder.getModifiedDate(),shoppingOrder.getTax(),shoppingOrder.getShipping(),shoppingOrder.getAltShipping(),shoppingOrder.getRequiresShipping(),shoppingOrder.getInsure(),shoppingOrder.getInsurance(),shoppingOrder.getCouponIds(),shoppingOrder.getCouponDiscount(),shoppingOrder.getBillingFirstName(),shoppingOrder.getBillingLastName(),shoppingOrder.getBillingEmailAddress(),shoppingOrder.getBillingCompany(),shoppingOrder.getBillingStreet(),shoppingOrder.getBillingCity(),shoppingOrder.getBillingState(),shoppingOrder.getBillingZip(),shoppingOrder.getBillingCountry(),shoppingOrder.getBillingPhone(),shoppingOrder.getShipToBilling(),shoppingOrder.getShippingFirstName(),shoppingOrder.getShippingLastName(),shoppingOrder.getShippingEmailAddress(),shoppingOrder.getShippingCompany(),shoppingOrder.getShippingStreet(),shoppingOrder.getShippingCity(),shoppingOrder.getShippingState(),shoppingOrder.getShippingZip(),shoppingOrder.getShippingCountry(),shoppingOrder.getShippingPhone(),shoppingOrder.getCcName(),shoppingOrder.getCcType(),shoppingOrder.getCcNumber(),shoppingOrder.getCcExpMonth(),shoppingOrder.getCcExpYear(),shoppingOrder.getCcVerNumber(),shoppingOrder.getComments(),shoppingOrder.getPpTxnId(),shoppingOrder.getPpPaymentStatus(),shoppingOrder.getPpPaymentGross(),shoppingOrder.getPpReceiverEmail(),shoppingOrder.getPpPayerEmail(),shoppingOrder.getSendOrderEmail(),shoppingOrder.getSendShippingEmail());
          session.save(shoppingOrderHBM);
          session.flush();
        }
      }
      shoppingOrder.setNew(false);
      shoppingOrder.setModified(false);
      shoppingOrder.protect();
      ShoppingOrderPool.update(shoppingOrder.getPrimaryKey(),shoppingOrder);
    }
    return shoppingOrder;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
