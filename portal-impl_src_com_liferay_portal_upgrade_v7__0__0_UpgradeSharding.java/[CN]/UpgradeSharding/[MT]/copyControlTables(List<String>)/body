{
  String defaultShardName=PropsUtil.get("shard.default.name");
  List<String> uniqueShardNames=ListUtil.unique(shardNames);
  boolean defaultPartitioningEnabled=false;
  if (uniqueShardNames.size() < shardNames.size()) {
    defaultPartitioningEnabled=true;
  }
  if ((!defaultPartitioningEnabled) && Validator.isNull(defaultShardName)) {
    throw new RuntimeException("The property \"shard.default.name\" is not set in " + "portal.properties. Please specify a default shard name " + "from: " + StringUtil.merge(shardNames,", ") + ".");
  }
  for (  String shardName : shardNames) {
    if (!shardName.equals(defaultShardName)) {
      copyControlTables(shardName);
    }
  }
}
