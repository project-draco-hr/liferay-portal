{
  URI uri1=_file.toURI();
  temporaryFolder.newFolder("configs","nested");
  File file=temporaryFolder.newFile("/configs/nested/com.liferay.test.anotherConfigFile");
  write(file,"key2=value2\nanotherKey2=anotherValue2");
  URI uri2=file.toURI();
  BundleStorage bundleStorage=new DummyBundleStorage(100,"aLocation",_headers,Arrays.asList(uri1.toURL(),uri2.toURL()));
  NamedConfigurationContentFactory namedConfigurationContentFactory=new NamedConfigurationPathContentFactory();
  List<NamedConfigurationContent> namedConfigurationContents=namedConfigurationContentFactory.create(bundleStorage);
  Assert.assertEquals(2,namedConfigurationContents.size());
  NamedConfigurationContent namedConfigurationContent=namedConfigurationContents.get(0);
  Assert.assertEquals("com.liferay.test.aConfigFile",namedConfigurationContent.getName());
  Assert.assertEquals("key=value\nanotherKey=anotherValue",StringUtil.read(namedConfigurationContent.getInputStream()));
  namedConfigurationContent=namedConfigurationContents.get(1);
  Assert.assertEquals("com.liferay.test.anotherConfigFile",namedConfigurationContent.getName());
  Assert.assertEquals("key2=value2\nanotherKey2=anotherValue2",StringUtil.read(namedConfigurationContent.getInputStream()));
}
