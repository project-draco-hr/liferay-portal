{
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(TestPropsValues.getGroupId());
  serviceContext.setAssetTagNames(new String[]{"basketball"});
  JournalArticle journalArticle=JournalTestUtil.addArticle(TestPropsValues.getGroupId(),ServiceTestUtil.randomString(),ServiceTestUtil.randomString(100),serviceContext);
  AssetTag tag=AssetTagLocalServiceUtil.getTag(TestPropsValues.getGroupId(),"basketball");
  long classNameId=PortalUtil.getClassNameId(JournalArticle.class);
  AssetTagStats tagStats=AssetTagStatsLocalServiceUtil.getTagStats(tag.getTagId(),classNameId);
  Assert.assertEquals(1,tagStats.getAssetCount());
  JournalArticleLocalServiceUtil.deleteArticle(journalArticle);
  tagStats=AssetTagStatsLocalServiceUtil.getTagStats(tag.getTagId(),classNameId);
  Assert.assertEquals(0,tagStats.getAssetCount());
}
