{
  String spiId="spiId";
  String javaExecutable="/usr/bin/java";
  String jvmArguments="-Xmx2048m -XX:PermSize=256m";
  String spiAgentClassName="spiAgentClassName";
  int connectorPort=8080;
  String baseDir="baseDir";
  String[] portletIds={"portlet1","portlet2"};
  String[] servletContextNames={"app1","app2"};
  long pingInterval=1000;
  long registerTimeout=5000;
  long shutdownTimeout=5000;
  String extraSettings="key1=value1\nkey2=values";
  SPIConfiguration spiConfiguration=new SPIConfiguration(spiId,javaExecutable,jvmArguments,spiAgentClassName,connectorPort,baseDir,portletIds,servletContextNames,pingInterval,registerTimeout,shutdownTimeout,extraSettings);
  Assert.assertEquals(spiId,spiConfiguration.getSPIId());
  Assert.assertEquals(javaExecutable,spiConfiguration.getJavaExecutable());
  Assert.assertEquals(Arrays.asList(StringUtil.split(jvmArguments,CharPool.SPACE)),spiConfiguration.getJVMArguments());
  Assert.assertEquals(spiAgentClassName,spiConfiguration.getSPIAgentClassName());
  Assert.assertEquals(connectorPort,spiConfiguration.getConnectorPort());
  Assert.assertEquals(baseDir,spiConfiguration.getBaseDir());
  Assert.assertSame(portletIds,spiConfiguration.getPortletIds());
  Assert.assertSame(servletContextNames,spiConfiguration.getServletContextNames());
  Assert.assertEquals(pingInterval,spiConfiguration.getPingInterval());
  Assert.assertEquals(registerTimeout,spiConfiguration.getRegisterTimeout());
  Assert.assertEquals(shutdownTimeout,spiConfiguration.getShutdownTimeout());
  Assert.assertEquals(extraSettings,spiConfiguration.getExtraSettings());
  StringBundler sb=new StringBundler(7);
  sb.append("{baseDir=baseDir, connectorPort=8080, ");
  sb.append("extraSettings=key1=value1\nkey2=values, ");
  sb.append("javaExecutable=/usr/bin/java, jvmArguments=-Xmx2048m ");
  sb.append("-XX:PermSize=256m, pingInterval=1000, ");
  sb.append("portletIds=[portlet1,portlet2], registerTimeout=5000, ");
  sb.append("servletContextName=[app1,app2], shutdownTimeout=5000, ");
  sb.append("spiAgentClassName=spiAgentClassName, spiId=spiId}");
  Assert.assertEquals(sb.toString(),spiConfiguration.toString());
  sb=new StringBundler(13);
  sb.append("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n");
  sb.append("<SPIConfiguration><id>spiId</id>");
  sb.append("<javaExecutable>/usr/bin/java</javaExecutable>");
  sb.append("<jvmArguments>-Xmx2048m -XX:PermSize=256m</jvmArguments>");
  sb.append("<spiAgentClassName>spiAgentClassName</spiAgentClassName>");
  sb.append("<connectorPort>8080</connectorPort>");
  sb.append("<baseDir>baseDir</baseDir>");
  sb.append("<portletIds>portlet1,portlet2</portletIds>");
  sb.append("<servletContextNames>app1,app2</servletContextNames>");
  sb.append("<pingInterval>1000</pingInterval>");
  sb.append("<registerTimeout>5000</registerTimeout>");
  sb.append("<shutdownTimeout>5000</shutdownTimeout>");
  sb.append("<extraSettings>key1=value1\nkey2=values</extraSettings>");
  sb.append("</SPIConfiguration>");
  Assert.assertEquals(sb.toString(),spiConfiguration.toXMLString());
}
