{
  try {
    if (!isProcessActionRequest(actionRequest)) {
      return;
    }
    if (!callActionMethod(actionRequest,actionResponse)) {
      return;
    }
    if (!SessionErrors.isEmpty(actionRequest)) {
      return;
    }
    boolean emptySessionMessages=SessionMessages.isEmpty(actionRequest);
    if (emptySessionMessages) {
      addSuccessMessage(actionRequest,actionResponse);
    }
    if (emptySessionMessages || isAlwaysSendRedirect()) {
      sendRedirect(actionRequest,actionResponse);
    }
  }
 catch (  PortletException pe) {
    Throwable cause=pe.getCause();
    if (isSessionErrorException(cause)) {
      SessionErrors.add(actionRequest,cause.getClass(),cause);
    }
 else {
      throw pe;
    }
  }
}
