{
  String payPalEmailAddress=HttpUtil.encodeURL(shoppingGroupServiceOverriddenConfiguration.getPayPalEmailAddress());
  NumberFormat doubleFormat=NumberFormat.getNumberInstance(LocaleUtil.ENGLISH);
  doubleFormat.setMaximumFractionDigits(2);
  doubleFormat.setMinimumFractionDigits(2);
  String amount=doubleFormat.format(total);
  returnURL=HttpUtil.encodeURL(returnURL);
  notifyURL=HttpUtil.encodeURL(notifyURL);
  String firstName=HttpUtil.encodeURL(order.getBillingFirstName());
  String lastName=HttpUtil.encodeURL(order.getBillingLastName());
  String address1=HttpUtil.encodeURL(order.getBillingStreet());
  String city=HttpUtil.encodeURL(order.getBillingCity());
  String state=HttpUtil.encodeURL(order.getBillingState());
  String zip=HttpUtil.encodeURL(order.getBillingZip());
  String currencyCode=shoppingGroupServiceOverriddenConfiguration.getCurrencyId();
  StringBundler sb=new StringBundler(29);
  sb.append("https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&");
  sb.append("business=");
  sb.append(payPalEmailAddress);
  sb.append("&item_name=");
  sb.append(order.getNumber());
  sb.append("&item_number=");
  sb.append(order.getNumber());
  sb.append("&invoice=");
  sb.append(order.getNumber());
  sb.append("&amount=");
  sb.append(amount);
  sb.append("&return=");
  sb.append(returnURL);
  sb.append("&notify_url=");
  sb.append(notifyURL);
  sb.append("&first_name=");
  sb.append(firstName);
  sb.append("&last_name=");
  sb.append(lastName);
  sb.append("&address1=");
  sb.append(address1);
  sb.append("&city=");
  sb.append(city);
  sb.append("&state=");
  sb.append(state);
  sb.append("&zip=");
  sb.append(zip);
  sb.append("&no_note=1&currency_code=");
  sb.append(currencyCode);
  return sb.toString();
}
