{
  try {
    StringBundler sb=new StringBundler(5);
    sb.append("window.open('");
    PortletURL portletURL=PortalUtil.getControlPanelPortletURL(portletRequest,KBPortletKeys.KNOWLEDGE_BASE_ADMIN,PortletRequest.RENDER_PHASE);
    portletURL.setParameter("mvcPath","/admin/print_article.jsp");
    KBArticle kbArticle=(KBArticle)portletRequest.getAttribute("article_icons.jsp-kb_article");
    portletURL.setParameter("resourceClassNameId",String.valueOf(kbArticle.getClassNameId()));
    portletURL.setParameter("resourcePrimKey",String.valueOf(kbArticle.getResourcePrimKey()));
    portletURL.setParameter("title",kbArticle.getTitle());
    portletURL.setParameter("viewMode",Constants.PRINT);
    portletURL.setWindowState(LiferayWindowState.POP_UP);
    sb.append(portletURL.toString());
    sb.append("', '', 'directories=no,height=640,location=no,");
    sb.append("menubar=no,resizable=yes,scrollbars=yes,status=0,");
    sb.append("toolbar=no,width=680');");
    return sb.toString();
  }
 catch (  Exception e) {
  }
  return StringPool.BLANK;
}
