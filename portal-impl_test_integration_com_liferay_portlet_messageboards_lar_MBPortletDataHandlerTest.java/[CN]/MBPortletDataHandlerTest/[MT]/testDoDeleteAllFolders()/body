{
  Group group=GroupTestUtil.addGroup();
  MBCategory parentCategory=MBTestUtil.addCategory(group.getGroupId());
  MBCategory childCategory=MBTestUtil.addCategory(group.getGroupId(),parentCategory.getCategoryId());
  MBCategoryLocalServiceUtil.moveCategoryToTrash(TestPropsValues.getUserId(),childCategory.getCategoryId());
  MBCategoryLocalServiceUtil.moveCategoryToTrash(TestPropsValues.getUserId(),parentCategory.getCategoryId());
  MBCategoryLocalServiceUtil.deleteCategory(parentCategory,false);
  GroupLocalServiceUtil.deleteGroup(group);
  List<MBCategory> categories=MBCategoryLocalServiceUtil.getCategories(group.getGroupId());
  Assert.assertEquals(0,categories.size());
}
