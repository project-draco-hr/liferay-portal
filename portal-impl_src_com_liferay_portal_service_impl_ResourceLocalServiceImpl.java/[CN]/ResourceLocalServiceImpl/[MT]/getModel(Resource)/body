{
  ResourceCode resourceCode=resourceCodeLocalService.getResourceCode(resource.getCodeId());
  String resourceName=resourceCode.getName();
  if (resourceName.contains(".model.")) {
    String[] parts=StringUtil.split(resourceName,".");
    if (parts.length > 2 && parts[parts.length - 2].equals("model")) {
      parts[parts.length - 2]="service";
      String serviceName=StringUtil.merge(parts,".") + "LocalServiceUtil";
      String methodName="get" + parts[parts.length - 1];
      Method method=null;
      try {
        Class serviceUtil=Class.forName(serviceName);
        method=serviceUtil.getMethod(methodName,new Class[]{Long.TYPE});
      }
 catch (      Exception e) {
        return null;
      }
      try {
        return method.invoke(null,new Long(resource.getPrimKey()));
      }
 catch (      Exception e) {
        Throwable cause=e.getCause();
        if (cause instanceof PortalException) {
          throw (PortalException)cause;
        }
 else         if (cause instanceof SystemException) {
          throw (SystemException)cause;
        }
      }
    }
  }
  return null;
}
