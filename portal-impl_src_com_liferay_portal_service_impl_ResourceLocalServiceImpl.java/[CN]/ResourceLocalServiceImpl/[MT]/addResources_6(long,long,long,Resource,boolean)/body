{
  List<String> actionIds=null;
  if (portletActions) {
    actionIds=ResourceActionsUtil.getPortletResourceActions(resource.getName());
  }
 else {
    actionIds=ResourceActionsUtil.getModelResourceActions(resource.getName());
    List<String> defaultOwnerActions=ResourceActionsUtil.getModelResourceOwnerDefaultActions(resource.getName());
    if (!defaultOwnerActions.isEmpty()) {
      Iterator<String> itr=actionIds.iterator();
      while (itr.hasNext()) {
        String action=itr.next();
        if (!defaultOwnerActions.contains(action)) {
          itr.remove();
        }
      }
    }
  }
  Role role=roleLocalService.getRole(companyId,RoleConstants.OWNER);
  resourcePermissionLocalService.setResourcePermissions(resource.getCompanyId(),resource.getName(),resource.getScope(),resource.getPrimKey(),role.getRoleId(),actionIds.toArray(new String[actionIds.size()]));
}
