{
  Resource resource=getResource(companyId,name,ResourceConstants.SCOPE_INDIVIDUAL,primKey);
  if (groupPermissions == null) {
    groupPermissions=new String[0];
  }
  if (guestPermissions == null) {
    guestPermissions=new String[0];
  }
  if (resourceBlockLocalService.isSupported(name)) {
    updateResourceBlocks(companyId,groupId,resource,groupPermissions,guestPermissions,permissionedModel);
  }
 else {
    updateResourcePermissions(companyId,groupId,resource,groupPermissions,guestPermissions);
  }
}
