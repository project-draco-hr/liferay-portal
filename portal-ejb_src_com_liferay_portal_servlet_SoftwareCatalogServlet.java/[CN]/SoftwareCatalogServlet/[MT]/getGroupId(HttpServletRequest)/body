{
  String path=req.getPathInfo();
  long groupId=GetterUtil.getLong(path.substring(1));
  if (groupId <= 0) {
    groupId=ParamUtil.getLong(req,"groupId");
  }
  if (groupId <= 0) {
    long companyId=PortalInstances.getCompanyId(req);
    Group group=GroupLocalServiceUtil.getFriendlyURLGroup(companyId,path);
    groupId=group.getGroupId();
  }
  return groupId;
}
