{
  long groupId=-1;
  String path=req.getPathInfo();
  try {
    groupId=Long.parseLong(path.substring(1));
  }
 catch (  NumberFormatException e) {
  }
  if (groupId == -1) {
    groupId=GetterUtil.getLong(req.getParameter("groupId"),-1);
  }
  if (groupId == -1) {
    Group group=GroupLocalServiceUtil.getFriendlyURLGroup(_companyId,path);
    groupId=group.getGroupId();
  }
  return groupId;
}
