{
  Group group=getGroup(actionRequest,actionResponse);
  long groupId=group.getGroupId();
  long[] removeUserIds=null;
  long removeUserId=ParamUtil.getLong(actionRequest,"removeUserId");
  if (removeUserId > 0) {
    removeUserIds=new long[]{removeUserId};
  }
 else {
    removeUserIds=ParamUtil.getLongValues(actionRequest,"rowIds");
  }
  removeUserIds=filterRemoveUserIds(groupId,removeUserIds);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(actionRequest);
  _userService.unsetGroupUsers(groupId,removeUserIds,serviceContext);
  LiveUsers.leaveGroup(group.getCompanyId(),groupId,removeUserIds);
}
