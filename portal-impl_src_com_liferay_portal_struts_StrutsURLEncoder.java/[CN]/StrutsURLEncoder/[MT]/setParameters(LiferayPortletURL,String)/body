{
  String[] params=StringUtil.split(queryString,"&");
  for (int i=0; i < params.length; i++) {
    int pos=params[i].indexOf("=");
    if (pos != -1) {
      String param=params[i].substring(0,pos);
      String value=params[i].substring(pos + 1,params[i].length());
      if (param.equals("windowState")) {
        try {
          portletURL.setWindowState(new WindowState(value));
        }
 catch (        WindowStateException wse) {
          wse.printStackTrace();
        }
      }
 else       if (param.equals("portletMode")) {
        try {
          portletURL.setPortletMode(new PortletMode(value));
        }
 catch (        PortletModeException pme) {
          pme.printStackTrace();
        }
      }
 else       if (param.equals("actionURL")) {
        portletURL.setAction(GetterUtil.getBoolean(value));
      }
 else {
        portletURL.setParameter(param,HttpUtil.decodeURL(value),true);
      }
    }
  }
}
