{
  String[] params=StringUtil.split(queryString,"&");
  for (int i=0; i < params.length; i++) {
    int pos=params[i].indexOf("=");
    if (pos != -1) {
      String param=params[i].substring(0,pos);
      String value=params[i].substring(pos + 1,params[i].length());
      if (param.equals("windowState")) {
        try {
          portletURL.setWindowState(WindowStateFactory.getWindowState(value));
        }
 catch (        WindowStateException wse) {
          _log.error(wse.getMessage());
        }
      }
 else       if (param.equals("portletMode")) {
        try {
          portletURL.setPortletMode(PortletModeFactory.getPortletMode(value));
        }
 catch (        PortletModeException pme) {
          _log.error(pme.getMessage());
        }
      }
 else       if (param.equals("actionURL")) {
        String lifecycle=PortletRequest.RENDER_PHASE;
        if (GetterUtil.getBoolean(value)) {
          lifecycle=PortletRequest.ACTION_PHASE;
        }
        portletURL.setLifecycle(lifecycle);
      }
 else {
        portletURL.setParameter(param,HttpUtil.decodeURL(value),true);
      }
    }
  }
}
