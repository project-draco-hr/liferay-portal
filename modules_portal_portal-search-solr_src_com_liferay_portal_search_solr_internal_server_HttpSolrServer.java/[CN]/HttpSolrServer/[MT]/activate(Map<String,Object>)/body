{
  if (getHttpSolrServer() != null) {
    shutdown();
  }
  _solrConfiguration=Configurable.createConfigurable(SolrConfiguration.class,properties);
  String url=_solrConfiguration.url();
  setUrl(url);
  String authMode=_solrConfiguration.authenticationMode();
  HttpClientFactory httpClientFactory=_httpClientFactories.get(authMode);
  if (httpClientFactory == null) {
    throw new IllegalStateException("No HTTP client factory for " + authMode);
  }
  HttpClient httpClient=httpClientFactory.createInstance();
  initHttpSolrServer(httpClient);
}
