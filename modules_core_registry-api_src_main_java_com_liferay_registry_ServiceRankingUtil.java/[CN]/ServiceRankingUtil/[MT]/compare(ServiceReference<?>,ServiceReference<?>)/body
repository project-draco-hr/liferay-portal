{
  int value=Integer.compare(_getServiceRanking(serviceReference1),_getServiceRanking(serviceReference2));
  if (value != 0) {
    return value;
  }
  return -Long.compare((Long)serviceReference1.getProperty("service.id"),(Long)serviceReference2.getProperty("service.id"));
}
