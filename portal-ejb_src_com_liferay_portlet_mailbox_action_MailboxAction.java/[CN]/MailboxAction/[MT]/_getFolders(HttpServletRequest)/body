{
  JSONObject jsonObj=new JSONObject();
  JSONArray jFolders=new JSONArray();
  try {
    int count=1;
    List folders=MailUtil.getAllFolders(MailUtil.getStore(req));
    for (int i=0; i < folders.size(); i++) {
      Folder folderObj=(Folder)folders.get(i);
      JSONObject jFolderObj=new JSONObject();
      ;
      String folderName=folderObj.getName();
      jFolderObj.put("name",folderName);
      jFolderObj.put("id",folderName);
      jFolderObj.put("newCount",folderObj.getNewMessageCount());
      jFolderObj.put("totalCount",folderObj.getMessageCount());
      if ("INBOX".equals(folderName)) {
        jFolders.put(0,jFolderObj);
      }
 else {
        jFolders.put(count++,jFolderObj);
      }
    }
  }
 catch (  Exception e) {
  }
  jsonObj.put("folders",jFolders);
  return jsonObj.toString();
}
