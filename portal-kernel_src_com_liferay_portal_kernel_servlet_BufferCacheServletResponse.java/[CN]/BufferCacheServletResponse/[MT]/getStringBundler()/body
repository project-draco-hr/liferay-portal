{
  if (_charBuffer != null) {
    StringBundler sb=new StringBundler(1);
    sb.append(_charBuffer.toString());
    return sb;
  }
  if (_byteBuffer != null) {
    CharBuffer charBuffer=CharsetDecoderUtil.decode(getCharacterEncoding(),_byteBuffer.duplicate());
    StringBundler sb=new StringBundler(1);
    sb.append(charBuffer.toString());
    return sb;
  }
  _flushInternalBuffer();
  if (_unsyncStringWriter != null) {
    return _unsyncStringWriter.getStringBundler();
  }
  if (_unsyncByteArrayOutputStream != null) {
    ByteBuffer byteBuffer=_unsyncByteArrayOutputStream.unsafeGetByteBuffer();
    CharBuffer charBuffer=CharsetDecoderUtil.decode(getCharacterEncoding(),byteBuffer);
    StringBundler sb=new StringBundler(1);
    sb.append(charBuffer.toString());
    return sb;
  }
  return new StringBundler(1);
}
