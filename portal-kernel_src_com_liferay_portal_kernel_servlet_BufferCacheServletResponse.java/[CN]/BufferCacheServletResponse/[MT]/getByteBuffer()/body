{
  if (_byteBuffer != null) {
    return _byteBuffer;
  }
  if (_charBuffer != null) {
    return CharsetEncoderUtil.encode(getCharacterEncoding(),_charBuffer.duplicate());
  }
  _flushInternalBuffer();
  if (_unsyncByteArrayOutputStream != null) {
    return _unsyncByteArrayOutputStream.unsafeGetByteBuffer();
  }
  if (_unsyncStringWriter != null) {
    String content=_unsyncStringWriter.toString();
    return CharsetEncoderUtil.encode(getCharacterEncoding(),content);
  }
  return _emptyByteBuffer;
}
