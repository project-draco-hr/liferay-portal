{
  try {
    String cmd=ParamUtil.getString(req,Constants.CMD);
    if (!cmd.equals(Constants.UPDATE)) {
      return;
    }
    String questionId=ParamUtil.getString(req,"questionId");
    PollsQuestion question=PollsQuestionServiceUtil.getQuestion(questionId);
    String portletResource=ParamUtil.getString(req,"portletResource");
    PortletPreferences prefs=PortletPreferencesFactory.getPortletSetup(req,portletResource,true,true);
    prefs.setValue("question-id",questionId);
    prefs.store();
    SessionMessages.add(req,config.getPortletName() + ".doConfigure");
  }
 catch (  NoSuchQuestionException nsqe) {
    SessionErrors.add(req,nsqe.getClass().getName());
  }
}
