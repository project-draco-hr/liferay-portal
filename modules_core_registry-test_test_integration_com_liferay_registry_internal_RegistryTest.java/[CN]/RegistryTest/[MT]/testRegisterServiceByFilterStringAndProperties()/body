{
  InterfaceOne interfaceOne=getInstance();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("a.property","C");
  properties.put("b.property","D");
  ServiceRegistration<InterfaceOne> serviceRegistration=_registry.registerService(InterfaceOne.class.getName(),interfaceOne,properties);
  Assert.assertNotNull(serviceRegistration);
  ServiceReference<InterfaceOne> serviceReference=serviceRegistration.getServiceReference();
  Assert.assertNotNull(serviceReference);
  Assert.assertEquals(serviceReference.getProperty("a.property"),"C");
  Assert.assertEquals(serviceReference.getProperty("b.property"),"D");
  Assert.assertNull(serviceReference.getProperty("c.property"));
  serviceRegistration.unregister();
  InterfaceOne registeredInterfaceOne=_registry.getService(serviceReference);
  Assert.assertNull(registeredInterfaceOne);
}
