{
  ActionableDynamicQuery actionableDynamicQuery=_ddlRecordLocalService.getExportActionableDynamicQuery(portletDataContext);
  final ActionableDynamicQuery.AddCriteriaMethod addCriteriaMethod=actionableDynamicQuery.getAddCriteriaMethod();
  actionableDynamicQuery.setAddCriteriaMethod(new ActionableDynamicQuery.AddCriteriaMethod(){
    @Override public void addCriteria(    DynamicQuery dynamicQuery){
      addCriteriaMethod.addCriteria(dynamicQuery);
      Property recordIdProperty=PropertyFactoryUtil.forName("recordId");
      DynamicQuery recordVersionDynamicQuery=createRecordVersionDynamicQuery();
      dynamicQuery.add(recordIdProperty.in(recordVersionDynamicQuery));
      Property recordSetIdProperty=PropertyFactoryUtil.forName("recordSetId");
      DynamicQuery recordSetDynamicQuery=createRecordSetDynamicQuery();
      dynamicQuery.add(recordSetIdProperty.in(recordSetDynamicQuery));
    }
  }
);
  return actionableDynamicQuery;
}
