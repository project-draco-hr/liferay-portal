{
  Set<Long> recordSetDDMStructureIds=new HashSet<>();
  List<DDLRecordSet> recordSets=_ddlRecordSetLocalService.search(portletDataContext.getCompanyId(),portletDataContext.getScopeGroupId(),null,DDLRecordSetConstants.SCOPE_DYNAMIC_DATA_LISTS,QueryUtil.ALL_POS,QueryUtil.ALL_POS,new DDLRecordSetNameComparator());
  for (  DDLRecordSet recordSet : recordSets) {
    recordSetDDMStructureIds.add(recordSet.getDDMStructureId());
    _ddlRecordSetLocalService.deleteRecordSet(recordSet);
  }
  deleteDDMStructures(recordSetDDMStructureIds);
}
