{
  int totalRecordSets=_ddlRecordSetLocalService.searchCount(portletDataContext.getCompanyId(),portletDataContext.getScopeGroupId(),null,DDLRecordSetConstants.SCOPE_DYNAMIC_DATA_LISTS);
  if (totalRecordSets > 0) {
    List<DDLRecordSet> ddlRecordSets=_ddlRecordSetLocalService.search(portletDataContext.getCompanyId(),portletDataContext.getScopeGroupId(),null,DDLRecordSetConstants.SCOPE_DYNAMIC_DATA_LISTS,1,totalRecordSets,new DDLRecordSetNameComparator());
    for (    DDLRecordSet ddlRecordSet : ddlRecordSets) {
      _ddlRecordSetLocalService.deleteDDLRecordSet(ddlRecordSet);
      DDMStructure ddmStructure=_ddmStructureLocalService.fetchDDMStructure(ddlRecordSet.getDDMStructureId());
      if (ddmStructure != null) {
        _ddmStructureLocalService.deleteDDMStructure(ddmStructure);
      }
    }
  }
}
