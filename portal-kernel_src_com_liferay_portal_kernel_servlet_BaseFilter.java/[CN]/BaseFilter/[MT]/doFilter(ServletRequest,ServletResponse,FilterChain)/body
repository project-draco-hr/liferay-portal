{
  Log log=getLog();
  if (log.isDebugEnabled()) {
    if (isFilterEnabled()) {
      log.debug(_filterClass + " is enabled");
    }
 else {
      log.debug(_filterClass + " is disabled");
    }
  }
  HttpServletRequest request=(HttpServletRequest)servletRequest;
  HttpServletResponse response=(HttpServletResponse)servletResponse;
  boolean filterEnabled=isFilterEnabled();
  if (filterEnabled && (_urlRegexPattern != null)) {
    StringBuilder sb=new StringBuilder();
    sb.append(request.getRequestURL());
    if (Validator.isNotNull(request.getQueryString())) {
      sb.append(StringPool.QUESTION);
      sb.append(request.getQueryString());
    }
    Matcher matcher=_urlRegexPattern.matcher(sb.toString());
    filterEnabled=matcher.find();
  }
  try {
    if (filterEnabled) {
      processFilter(request,response,filterChain);
    }
 else {
      processFilter(_filterClass,request,response,filterChain);
    }
  }
 catch (  IOException ioe) {
    throw ioe;
  }
catch (  ServletException se) {
    throw se;
  }
catch (  Exception e) {
    getLog().error(e,e);
  }
}
