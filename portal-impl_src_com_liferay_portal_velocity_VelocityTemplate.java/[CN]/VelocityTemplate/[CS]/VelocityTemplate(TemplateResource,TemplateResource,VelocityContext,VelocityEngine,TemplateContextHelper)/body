{
  _templateResource=templateResource;
  if (errorTemplateResource != null) {
    _errorTemplateResource=errorTemplateResource;
    _hasErrorTemplate=true;
  }
  if (velocityContext == null) {
    _velocityContext=new VelocityContext();
  }
 else {
    _velocityContext=new VelocityContext(velocityContext);
  }
  _velocityEngine=velocityEngine;
  _templateContextHelper=templateContextHelper;
}
