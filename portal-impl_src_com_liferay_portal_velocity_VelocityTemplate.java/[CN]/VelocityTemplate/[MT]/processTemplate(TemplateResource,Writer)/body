{
  TemplateResourceThreadLocal.setTemplateResource(TemplateManager.VELOCITY,templateResource);
  try {
    Template template=_velocityEngine.getTemplate(getTemplateResourceUUID(templateResource),TemplateResource.DEFAUT_ENCODING);
    template.merge(_velocityContext,writer);
  }
  finally {
    TemplateResourceThreadLocal.setTemplateResource(TemplateManager.VELOCITY,null);
  }
}
