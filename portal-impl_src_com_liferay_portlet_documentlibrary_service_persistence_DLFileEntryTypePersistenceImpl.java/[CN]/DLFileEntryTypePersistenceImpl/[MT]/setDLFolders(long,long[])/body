{
  try {
    Set<Long> dlFolderPKSet=SetUtil.fromArray(dlFolderPKs);
    List<com.liferay.portlet.documentlibrary.model.DLFolder> dlFolders=getDLFolders(pk);
    for (    com.liferay.portlet.documentlibrary.model.DLFolder dlFolder : dlFolders) {
      if (!dlFolderPKSet.remove(dlFolder.getPrimaryKey())) {
        removeDLFolder.remove(pk,dlFolder.getPrimaryKey());
      }
    }
    for (    Long dlFolderPK : dlFolderPKSet) {
      addDLFolder.add(pk,dlFolderPK);
    }
  }
 catch (  Exception e) {
    throw processException(e);
  }
 finally {
    FinderCacheUtil.clearCache(DLFileEntryTypeModelImpl.MAPPING_TABLE_DLFILEENTRYTYPES_DLFOLDERS_NAME);
  }
}
