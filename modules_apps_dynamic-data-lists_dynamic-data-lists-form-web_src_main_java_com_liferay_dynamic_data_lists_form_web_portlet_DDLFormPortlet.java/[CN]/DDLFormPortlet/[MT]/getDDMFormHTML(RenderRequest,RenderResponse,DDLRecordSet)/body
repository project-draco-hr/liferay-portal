{
  DDMStructure ddmStructure=recordSet.getDDMStructure();
  boolean requireCaptcha=isCaptchaRequired(recordSet);
  DDMForm ddmForm=getDDMForm(renderResponse,ddmStructure,requireCaptcha);
  DDMFormLayout ddmFormLayout=getDDMFormLayout(ddmStructure,requireCaptcha);
  DDMFormRenderingContext ddmFormRenderingContext=createDDMFormRenderingContext(renderRequest,renderResponse,ddmForm);
  ThemeDisplay themeDisplay=(ThemeDisplay)renderRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String submitLabel=getSubmitLabel(recordSet,themeDisplay);
  ddmFormRenderingContext.setSubmitLabel(submitLabel);
  return _ddmFormRenderer.render(ddmForm,ddmFormLayout,ddmFormRenderingContext);
}
