{
  JournalStructureContentType type=(JournalStructureContentType)contentType;
  JournalStructure structure=type.getStructure();
  try {
    String structureId=structure.getStructureId().trim().toUpperCase();
    String xsd=structure.getXsd();
    try {
      xsd=JournalUtil.formatXML(xsd);
    }
 catch (    DocumentException de) {
      throw new StructureXsdException();
    }
catch (    IOException ioe) {
      throw new StructureXsdException();
    }
    String name=structure.getName();
    String description=structure.getDescription();
    validate(name,description,xsd);
    long groupId=structure.getGroupId();
    JournalStructure persistedStructure=JournalStructureUtil.findByG_S(groupId,structureId);
    persistedStructure.setModifiedDate(new Date());
    persistedStructure.setName(name);
    persistedStructure.setDescription(description);
    persistedStructure.setXsd(xsd);
    JournalStructureUtil.update(persistedStructure,false);
  }
 catch (  PortalException ex) {
    _log.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
catch (  SystemException ex) {
    _log.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
}
