{
  int result=0;
  List<SearchFieldValue> searchFields=searchCriteria.getSearchFieldValues();
  try {
    String finder=_findFieldValue(searchFields,OptionalJournalStructureCriteria.FINDER);
    if (OptionalJournalStructureCriteria.FIND_BY_GROUP.equals(finder)) {
      long groupId=Long.parseLong(category.getUuid());
      result=_getStructuresCount(groupId);
    }
 else     if (OptionalJournalStructureCriteria.FIND_BY_KEYWORDS.equals(finder)) {
      long groupId=Long.parseLong(category.getUuid());
      String companyId=_findFieldValue(searchFields,OptionalJournalStructureCriteria.COMPANY_ID);
      String keywords=_findFieldValue(searchFields,OptionalJournalStructureCriteria.KEYWORDS);
      result=_searchCount(Long.parseLong(companyId),groupId,keywords);
    }
 else     if (OptionalJournalStructureCriteria.FIND_BY_C_G_S_N_D.equals(finder)) {
      long groupId=Long.parseLong(category.getUuid());
      boolean andOperator=!searchCriteria.isMatchAnyOneField();
      String companyId=_findFieldValue(searchFields,OptionalJournalStructureCriteria.COMPANY_ID);
      String structureId=_findFieldValue(searchFields,OptionalJournalStructureCriteria.STRUCTURE_ID);
      String name=_findFieldValue(searchFields,OptionalJournalStructureCriteria.NAME);
      String description=_findFieldValue(searchFields,OptionalJournalStructureCriteria.DESCRIPTION);
      result=_searchCount(Long.parseLong(companyId),groupId,structureId,name,description,andOperator);
    }
  }
 catch (  SystemException ex) {
    throw new CMSException(ex.getMessage(),ex);
  }
  return result;
}
