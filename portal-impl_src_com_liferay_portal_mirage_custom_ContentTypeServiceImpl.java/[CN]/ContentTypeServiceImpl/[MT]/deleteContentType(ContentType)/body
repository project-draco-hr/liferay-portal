{
  JournalStructureContentType type=(JournalStructureContentType)contentType;
  JournalStructure structure=type.getStructure();
  try {
    if (journalArticlePersistence.countByG_S(structure.getGroupId(),structure.getStructureId()) > 0) {
      throw new RequiredStructureException();
    }
    if (journalTemplatePersistence.countByG_S(structure.getGroupId(),structure.getStructureId()) > 0) {
      throw new RequiredStructureException();
    }
    webDAVPropsLocalService.deleteWebDAVProps(JournalStructure.class.getName(),structure.getPrimaryKey());
    resourceLocalService.deleteResource(structure.getCompanyId(),JournalStructure.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,structure.getId());
    journalStructurePersistence.remove(structure.getPrimaryKey());
  }
 catch (  PortalException ex) {
    _log.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
catch (  SystemException ex) {
    _log.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
}
