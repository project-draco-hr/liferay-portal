{
  JournalStructureContentType type=(JournalStructureContentType)contentType;
  JournalStructure structure=type.getStructure();
  try {
    if (JournalArticleUtil.countByG_S(structure.getGroupId(),structure.getStructureId()) > 0) {
      throw new RequiredStructureException();
    }
    if (JournalTemplateUtil.countByG_S(structure.getGroupId(),structure.getStructureId()) > 0) {
      throw new RequiredStructureException();
    }
    WebDAVPropsLocalServiceUtil.deleteWebDAVProps(JournalStructure.class.getName(),structure.getPrimaryKey());
    ResourceLocalServiceUtil.deleteResource(structure.getCompanyId(),JournalStructure.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,structure.getId());
    JournalStructureUtil.remove(structure.getPrimaryKey());
  }
 catch (  PortalException ex) {
    _log.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
catch (  SystemException ex) {
    _log.error(ex.getMessage(),ex);
    throw new CMSException(ex.getMessage(),ex);
  }
}
