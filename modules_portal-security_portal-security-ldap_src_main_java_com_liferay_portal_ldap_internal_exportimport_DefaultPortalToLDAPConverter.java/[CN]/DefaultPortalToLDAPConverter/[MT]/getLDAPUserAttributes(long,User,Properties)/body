{
  Attributes attributes=new BasicAttributes(true);
  Attribute objectClassAttribute=new BasicAttribute(_OBJECT_CLASS);
  LDAPServerConfiguration ldapServerConfiguration=_ldapServerConfigurationProvider.getConfiguration(user.getCompanyId(),ldapServerId);
  String[] defaultObjectClassNames=ldapServerConfiguration.userDefaultObjectClasses();
  for (  String defaultObjectClassName : defaultObjectClassNames) {
    objectClassAttribute.add(defaultObjectClassName);
  }
  attributes.put(objectClassAttribute);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.UUID),user.getUuid(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.SCREEN_NAME),user.getScreenName(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.PASSWORD),getEncryptedPasswordForLDAP(user,userMappings),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.EMAIL_ADDRESS),user.getEmailAddress(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.FULL_NAME),user.getFullName(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.FIRST_NAME),user.getFirstName(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.MIDDLE_NAME),user.getMiddleName(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.LAST_NAME),user.getLastName(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.JOB_TITLE),user.getJobTitle(),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.PORTRAIT),getUserPortrait(user),attributes);
  addAttributeMapping(userMappings.getProperty(UserConverterKeys.STATUS),String.valueOf(user.getStatus()),attributes);
  return attributes;
}
