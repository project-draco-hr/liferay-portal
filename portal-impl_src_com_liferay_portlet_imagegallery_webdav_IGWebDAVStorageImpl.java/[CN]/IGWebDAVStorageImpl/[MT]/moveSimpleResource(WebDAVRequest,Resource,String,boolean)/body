{
  try {
    String[] destinationArray=WebDAVUtil.getPathArray(destination,true);
    IGImage image=(IGImage)resource.getModel();
    long imageId=image.getImageId();
    long folderId=image.getFolderId();
    String description=image.getDescription();
    long destGroupId=WebDAVUtil.getGroupId(destinationArray);
    long destParentFolderId=getParentFolderId(destinationArray);
    String destName=WebDAVUtil.getResourceName(destinationArray);
    String[] tagsEntries=new String[0];
    int status=HttpServletResponse.SC_CREATED;
    if (overwrite) {
      if (deleteResource(destGroupId,destParentFolderId,destName)) {
        status=HttpServletResponse.SC_NO_CONTENT;
      }
    }
    IGImageServiceUtil.updateImage(imageId,folderId,destName,description,null,null,tagsEntries);
    return status;
  }
 catch (  PrincipalException pe) {
    return HttpServletResponse.SC_FORBIDDEN;
  }
catch (  DuplicateFileException dfe) {
    return HttpServletResponse.SC_PRECONDITION_FAILED;
  }
catch (  DuplicateFolderNameException dfne) {
    return HttpServletResponse.SC_PRECONDITION_FAILED;
  }
catch (  Exception e) {
    throw new WebDAVException(e);
  }
}
