{
  try {
    long folderId=getFolderId(webDavRequest.getPathArray());
    List<Resource> folders=getFolders(webDavRequest,folderId);
    List<Resource> images=getImages(webDavRequest,folderId);
    List<Resource> resources=new ArrayList<Resource>(folders.size() + images.size());
    resources.addAll(folders);
    resources.addAll(images);
    return resources;
  }
 catch (  Exception e) {
    throw new WebDAVException(e);
  }
}
