{
  if (cacheConfiguration == null) {
    return null;
  }
  String portalCacheName=cacheConfiguration.getName();
  if (portalCacheName == null) {
    portalCacheName=PortalCacheConfiguration.DEFAULT_PORTAL_CACHE_NAME;
  }
  Set<Properties> portalCacheListenerPropertiesSet=_parseCacheEventListenerFactoryConfiguration(cacheConfiguration,clusterAware,usingDefault);
  Properties portalCacheBootstrapLoaderProperties=_parsePortalCacheBootstrapLoaderProperties(cacheConfiguration,clusterAware);
  boolean requireSerialization=_isRequireSerialization(cacheConfiguration,clusterAware);
  return new EhcachePortalCacheConfiguration(portalCacheName,portalCacheListenerPropertiesSet,portalCacheBootstrapLoaderProperties,requireSerialization);
}
