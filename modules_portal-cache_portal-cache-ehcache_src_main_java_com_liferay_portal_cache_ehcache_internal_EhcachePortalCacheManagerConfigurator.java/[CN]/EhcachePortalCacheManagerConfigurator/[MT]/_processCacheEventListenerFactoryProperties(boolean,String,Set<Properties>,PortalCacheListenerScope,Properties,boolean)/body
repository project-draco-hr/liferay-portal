{
  if (factoryClassName.equals(props.get(PropsKeys.EHCACHE_CACHE_EVENT_LISTENER_FACTORY))) {
    if (clusterAware && _clusterEnabled) {
      if (!_clusterLinkReplicationEnabled) {
        properties.put(EhcacheConstants.CACHE_EVENT_LISTENER_FACTORY_CLASS_NAME,factoryClassName);
      }
      properties.put(PortalCacheConfiguration.PORTAL_CACHE_LISTENER_SCOPE,portalCacheListenerScope);
      properties.put(PortalCacheReplicator.REPLICATOR,true);
      portalCacheListenerPropertiesSet.add(properties);
    }
  }
 else   if (!usingDefault) {
    properties.put(EhcacheConstants.CACHE_EVENT_LISTENER_FACTORY_CLASS_NAME,factoryClassName);
    properties.put(PortalCacheConfiguration.PORTAL_CACHE_LISTENER_SCOPE,portalCacheListenerScope);
    portalCacheListenerPropertiesSet.add(properties);
  }
}
