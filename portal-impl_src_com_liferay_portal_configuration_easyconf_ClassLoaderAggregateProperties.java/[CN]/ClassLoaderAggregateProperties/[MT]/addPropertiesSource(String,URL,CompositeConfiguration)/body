{
  try {
    Configuration newConf;
    if (DatasourceURL.isDatasource(sourceName)) {
      newConf=addDatasourceProperties(sourceName);
    }
 else     if (JndiURL.isJndi(sourceName)) {
      newConf=addJndiProperties(sourceName);
    }
 else     if (url != null) {
      newConf=addUrlProperties(url,loadedConf);
    }
 else {
      newConf=addFileProperties(sourceName,loadedConf);
    }
    if (newConf != null) {
      loadedConf.addConfiguration(newConf);
      super.addConfiguration(newConf);
      if (newConf instanceof AbstractFileConfiguration) {
        AbstractFileConfiguration abstractFileConfiguration=(AbstractFileConfiguration)newConf;
        _loadedSources.add(abstractFileConfiguration.getURL().toString());
      }
 else {
        _loadedSources.add(sourceName);
      }
    }
    return newConf;
  }
 catch (  Exception ignore) {
    if (_log.isDebugEnabled()) {
      _log.debug("Configuration source " + sourceName + " ignored");
    }
    return null;
  }
}
