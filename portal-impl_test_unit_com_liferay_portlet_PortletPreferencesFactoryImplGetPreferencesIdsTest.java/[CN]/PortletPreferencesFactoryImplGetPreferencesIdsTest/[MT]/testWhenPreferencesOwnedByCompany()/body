{
  Layout layout=new LayoutImpl();
  layout.setCompanyId(RandomTestUtil.randomLong());
  layout.setPlid(RandomTestUtil.randomLong());
  layout.setPrivateLayout(true);
  boolean modeEditGuest=false;
  PowerMockito.mockStatic(PortletLocalServiceUtil.class);
  Mockito.when(PortletLocalServiceUtil.getPortletById(layout.getCompanyId(),_PORTLET_ID)).thenReturn(_getPortlet());
  PowerMockito.mockStatic(LayoutPermissionUtil.class);
  Mockito.when(LayoutPermissionUtil.contains(Mockito.any(PermissionChecker.class),Mockito.eq(layout),Mockito.eq(ActionKeys.UPDATE))).thenReturn(true);
  PortletPreferencesIds portletPreferencesIds=PortletPreferencesFactoryUtil.getPortletPreferencesIds(0,_USER_ID,layout,_PORTLET_ID,modeEditGuest);
  Assert.assertEquals("The owner type was not the one expected",PortletKeys.PREFS_OWNER_TYPE_USER,portletPreferencesIds.getOwnerType());
}
