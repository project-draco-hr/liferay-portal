{
  PowerMockito.mockStatic(PortletLocalServiceUtil.class);
  Mockito.when(PortletLocalServiceUtil.getPortletById(_layout.getCompanyId(),_PORTLET_ID)).thenReturn(getGroupLayoutPortlet());
  long siteGroupId=_layout.getGroupId();
  boolean modeEditGuest=false;
  PortletPreferencesIds portletPreferencesIds=PortletPreferencesFactoryUtil.getPortletPreferencesIds(siteGroupId,_USER_ID,_layout,_PORTLET_ID,modeEditGuest);
  Assert.assertEquals("The owner type should be of type layout",PortletKeys.PREFS_OWNER_TYPE_LAYOUT,portletPreferencesIds.getOwnerType());
  Assert.assertEquals("The owner ID should be the default value",PortletKeys.PREFS_OWNER_ID_DEFAULT,portletPreferencesIds.getOwnerId());
  Assert.assertEquals("The PLID should be the PLID of the current layout",_layout.getPlid(),portletPreferencesIds.getPlid());
}
