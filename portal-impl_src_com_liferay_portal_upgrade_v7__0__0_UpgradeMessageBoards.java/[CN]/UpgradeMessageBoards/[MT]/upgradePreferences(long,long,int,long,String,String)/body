{
  PortletPreferences portletPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  upgradeEmailSignature(portletPreferences,"emailMessageAddedBody","emailMessageAddedSignature");
  upgradeEmailSignature(portletPreferences,"emailMessageUpdatedBody","emailMessageUpdatedSignature");
  upgradeThreadPriorities(portletPreferences);
  return PortletPreferencesFactoryUtil.toXML(portletPreferences);
}
