{
  String[] threadPriorities=portletPreferences.getValues("priorities",StringPool.EMPTY_ARRAY);
  if (ArrayUtil.isNotEmpty(threadPriorities)) {
    String[] upgradedThreadPriorities=new String[threadPriorities.length];
    for (int i=0; i < threadPriorities.length; i++) {
      String[] parts=StringUtil.split(threadPriorities[i]);
      upgradedThreadPriorities[i]=StringUtil.merge(parts,StringPool.PIPE);
    }
    portletPreferences.setValues("priorities",upgradedThreadPriorities);
  }
}
