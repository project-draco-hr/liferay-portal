{
  _group=GroupTestUtil.addGroup();
  _ddmStructure=DDMStructureTestUtil.addStructure(_group.getGroupId(),JournalArticle.class.getName());
  _folder=JournalTestUtil.addFolder(_group.getGroupId(),"Folder 1");
  _basicWebContentDDMStructure=DDMStructureTestUtil.addStructure(_group.getGroupId(),JournalArticle.class.getName());
  _basicWebContentDDMTemplate=DDMTemplateTestUtil.addTemplate(_group.getGroupId(),_basicWebContentDDMStructure.getStructureId());
  JournalArticle article=JournalTestUtil.addArticleWithXMLContent(_group.getGroupId(),_folder.getFolderId(),JournalArticleConstants.CLASSNAME_ID_DEFAULT,"<title>Article 1</title>",_basicWebContentDDMStructure.getStructureKey(),_basicWebContentDDMTemplate.getTemplateKey());
  _articles.add(article);
  JournalFolder folder=JournalTestUtil.addFolder(_group.getGroupId(),"Folder 2");
  DDMTemplate ddmTemplate=DDMTemplateTestUtil.addTemplate(_group.getGroupId(),_ddmStructure.getStructureId());
  article=JournalTestUtil.addArticleWithXMLContent(_group.getGroupId(),folder.getFolderId(),JournalArticleConstants.CLASSNAME_ID_DEFAULT,"<title>Article 2</title>",_ddmStructure.getStructureKey(),ddmTemplate.getTemplateKey());
  _articles.add(article);
  article=JournalTestUtil.addArticleWithXMLContent(_group.getGroupId(),folder.getFolderId(),JournalArticleConstants.CLASSNAME_ID_DEFAULT,"<title>Article 3</title>",_basicWebContentDDMStructure.getStructureKey(),_basicWebContentDDMTemplate.getTemplateKey());
  _articles.add(article);
  article.setUserId(_USER_ID);
  Calendar calendar=new GregorianCalendar();
  calendar.add(Calendar.DATE,-1);
  article.setExpirationDate(calendar.getTime());
  article.setReviewDate(calendar.getTime());
  JournalArticleLocalServiceUtil.updateJournalArticle(article);
  JournalArticleLocalServiceUtil.moveArticleToTrash(TestPropsValues.getUserId(),article);
  article=JournalTestUtil.addArticleWithXMLContent(_group.getGroupId(),folder.getFolderId(),PortalUtil.getClassNameId(DDMStructure.class),"<title>Article 4</title>",_ddmStructure.getStructureKey(),ddmTemplate.getTemplateKey());
  _articles.add(article);
  _folderIds.clear();
  _folderIds.add(_folder.getFolderId());
  _folderIds.add(folder.getFolderId());
  _article=_articles.get(0);
  Bundle bundle=FrameworkUtil.getBundle(getClass());
  _bundleContext=bundle.getBundleContext();
  _serviceReference=_bundleContext.getServiceReference(JournalArticleFinder.class);
  _journalArticleFinder=_bundleContext.getService(_serviceReference);
}
