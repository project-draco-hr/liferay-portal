{
  long contentId=counterLocalService.increment();
  DLContent dlContent=dlContentPersistence.create(contentId);
  dlContent.setGroupId(groupId);
  dlContent.setCompanyId(companyId);
  dlContent.setRepositoryId(repositoryId);
  dlContent.setPath(path);
  dlContent.setVersion(version);
  dlContent.setPortletId(portletId);
  UnsyncByteArrayInputStream inputStream=new UnsyncByteArrayInputStream(bytes);
  OutputBlob dataOutputBlob=new OutputBlob(inputStream,bytes.length);
  dlContent.setData(dataOutputBlob);
  dlContent.setSize(bytes.length);
  dlContentPersistence.update(dlContent,false);
  inputStream.reset();
  dlContent.setData(dataOutputBlob);
  return dlContent;
}
