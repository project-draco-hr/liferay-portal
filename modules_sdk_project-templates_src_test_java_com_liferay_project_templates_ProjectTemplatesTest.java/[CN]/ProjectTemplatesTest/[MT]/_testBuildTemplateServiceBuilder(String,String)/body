{
  File projectDir=_createTemplateWithGradle("servicebuilder",name,"--package-name",packageName);
  String apiProjectName=name + "-api";
  String serviceProjectName=name + "-service";
  _testContains(projectDir,"settings.gradle","include \"" + apiProjectName + "\", \""+ serviceProjectName+ "\"");
  _testContains(projectDir,apiProjectName + "/bnd.bnd","Export-Package:\\",packageName + ".exception,\\",packageName + ".model,\\",packageName + ".service,\\",packageName + ".service.persistence");
  _testContains(projectDir,serviceProjectName + "/bnd.bnd","Liferay-Service: true");
  _testContains(projectDir,serviceProjectName + "/build.gradle","compileOnly project(\":" + apiProjectName + "\")");
  _executeGradle(projectDir,":" + serviceProjectName + ":buildService");
  _executeGradle(projectDir,"build",":" + apiProjectName + ":build",":" + serviceProjectName + ":build");
  _testExists(projectDir,apiProjectName + "/build/libs/" + packageName+ ".api-1.0.0.jar");
  _testExists(projectDir,serviceProjectName + "/build/libs/" + packageName+ ".service-1.0.0.jar");
}
