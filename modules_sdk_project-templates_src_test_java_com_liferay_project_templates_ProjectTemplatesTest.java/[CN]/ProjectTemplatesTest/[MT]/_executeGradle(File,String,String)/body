{
  GradleRunner gradleRunner=GradleRunner.create();
  gradleRunner.withArguments(taskPath);
  gradleRunner.withProjectDir(projectDir);
  BuildResult buildResult=gradleRunner.build();
  if (testTaskPaths.length == 0) {
    testTaskPaths=new String[]{taskPath};
  }
  for (  String testTaskPath : testTaskPaths) {
    BuildTask buildTask=buildResult.task(testTaskPath);
    Assert.assertNotNull("Build task \"" + testTaskPath + "\" not found",buildTask);
    Assert.assertEquals("Unexpected outcome for task \"" + buildTask.getPath() + "\"",TaskOutcome.SUCCESS,buildTask.getOutcome());
  }
}
