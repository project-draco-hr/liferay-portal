{
  if (Validator.isNotNull(_repositoryUrl)) {
    File buildGradleFile=new File(projectDir,"build.gradle");
    Path buildGradlePath=buildGradleFile.toPath();
    String buildGradle=FileTestUtil.read(buildGradlePath);
    buildGradle=buildGradle.replace("\"" + _REPOSITORY_CDN_URL + "\"","\"" + _repositoryUrl + "\"");
    Files.write(buildGradlePath,buildGradle.getBytes(StandardCharsets.UTF_8));
  }
  GradleRunner gradleRunner=GradleRunner.create();
  if (Validator.isNotNull(_httpProxyHost) && Validator.isNotNull(_httpProxyPort)) {
    gradleRunner.withArguments("-Dhttp.proxyHost=" + _httpProxyHost,"-Dhttp.proxyPort=" + _httpProxyPort,taskPath);
  }
 else {
    gradleRunner.withArguments(taskPath);
  }
  gradleRunner.withGradleDistribution(_gradleDistribution);
  gradleRunner.withProjectDir(projectDir);
  BuildResult buildResult=gradleRunner.build();
  if (testTaskPaths.length == 0) {
    testTaskPaths=new String[]{taskPath};
  }
  for (  String testTaskPath : testTaskPaths) {
    BuildTask buildTask=buildResult.task(testTaskPath);
    Assert.assertNotNull("Build task \"" + testTaskPath + "\" not found",buildTask);
    Assert.assertEquals("Unexpected outcome for task \"" + buildTask.getPath() + "\"",TaskOutcome.SUCCESS,buildTask.getOutcome());
  }
}
