{
  String importLine="import com.liferay.portal.kernel.events.LifecycleAction;";
  String classLine="public class FooAction implements LifecycleAction {";
  File actionJavaFile=_testContains(gradleProjectDir,"src/main/java/servicepreaction/FooAction.java","package servicepreaction;",importLine,"service = LifecycleAction.class",classLine);
  Path actionJavaPath=actionJavaFile.toPath();
  List<String> lines=Files.readAllLines(actionJavaPath,StandardCharsets.UTF_8);
  try (BufferedWriter bufferedWriter=Files.newBufferedWriter(actionJavaPath,StandardCharsets.UTF_8)){
    for (    String line : lines) {
      FileTestUtil.write(bufferedWriter,line);
      if (line.equals(classLine)) {
        FileTestUtil.write(bufferedWriter,"@Override","public void processLifecycleEvent(","LifecycleEvent lifecycleEvent)","throws ActionException {","System.out.println(","\"login.event.pre=\" + lifecycleEvent);","}");
      }
 else       if (line.equals(importLine)) {
        FileTestUtil.write(bufferedWriter,"import com.liferay.portal.kernel.events." + "LifecycleEvent;","import com.liferay.portal.kernel.events." + "ActionException;");
      }
    }
  }
 }
