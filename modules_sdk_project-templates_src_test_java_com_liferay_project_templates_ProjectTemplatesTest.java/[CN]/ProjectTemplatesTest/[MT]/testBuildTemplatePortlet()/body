{
  File projectDir=_buildTemplateWithGradle("portlet","gradle.test","--class-name","Foo");
  _testExists(projectDir,"bnd.bnd");
  _testExists(projectDir,"src/main/resources/META-INF/resources/init.jsp");
  _testExists(projectDir,"src/main/resources/META-INF/resources/view.jsp");
  _testContains(projectDir,"build.gradle","apply plugin: \"com.liferay.plugin\"");
  _testContains(projectDir,"src/main/java/gradle/test/portlet/FooPortlet.java","package gradle.test.portlet;","javax.portlet.display-name=gradle.test","public class FooPortlet extends GenericPortlet {","printWriter.print(\"gradle.test Portlet");
  _executeGradle(projectDir,_TASK_PATH_BUILD);
  _testExists(projectDir,"build/libs/gradle.test-1.0.0.jar");
}
