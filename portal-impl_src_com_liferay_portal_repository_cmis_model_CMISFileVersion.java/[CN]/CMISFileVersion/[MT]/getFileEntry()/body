{
  Document document=null;
  List<Document> allVersions=null;
  try {
    allVersions=_document.getAllVersions();
  }
 catch (  CmisObjectNotFoundException confe) {
    throw new NoSuchFileEntryException(confe);
  }
  if (allVersions.isEmpty()) {
    document=_document;
  }
 else {
    document=allVersions.get(0);
  }
  return CMISRepositoryLocalServiceUtil.toFileEntry(getRepositoryId(),document);
}
