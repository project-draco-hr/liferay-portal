{
  if (beanShellMap.get("start-time") == null) {
    Long start=System.currentTimeMillis();
    beanShellMap.put("start-time",start);
  }
  String jenkinsJobURL=project.getProperty("jenkins.job.url");
  String reportSizeString=project.getProperty("report.size");
  int reportSize=Integer.parseInt(reportSizeString);
  JSONObject jobJSONObject=JenkinsResultsParserUtil.toJSONObject(JenkinsResultsParserUtil.getLocalURL(jenkinsJobURL + "testReport/api/json"));
  if (jobJSONObject != null) {
    List<Result> resultList=getLongestResults(jobJSONObject,project,reportSize);
    List<Result> globalList=beanShellMap.get("global-result-list");
    if (globalList == null) {
      globalList=new ArrayList<>();
    }
    globalList.addAll(resultList);
    Collections.sort(globalList);
    globalList=truncateList(globalList,reportSize);
    beanShellMap.put("global-result-list",globalList);
  }
 else {
    System.out.println("JSON data could not be loaded. URL: " + jenkinsJobURL + "testReport/api/json");
  }
}
