{
  String[] types=AnnouncementsEntryImpl.TYPES;
  long userClassNameId=PortalUtil.getClassNameId(User.class.getName());
  for (int i=0; i < types.length; i++) {
    String emailColName="announcements-delivery-by-email-type-" + types[i];
    boolean emailOption=ParamUtil.getBoolean(req,emailColName);
    String smsColName="announcements-delivery-by-sms-type-" + types[i];
    boolean smsOption=ParamUtil.getBoolean(req,smsColName);
    ExpandoColumn emailColumn=ExpandoColumnLocalServiceUtil.setColumn(userClassNameId,emailColName,ExpandoColumnImpl.BOOLEAN);
    ExpandoColumn smsColumn=ExpandoColumnLocalServiceUtil.setColumn(userClassNameId,smsColName,ExpandoColumnImpl.BOOLEAN);
    ExpandoValueLocalServiceUtil.setValue(user.getUserId(),emailColumn.getColumnId(),String.valueOf(emailOption));
    ExpandoValueLocalServiceUtil.setValue(user.getUserId(),smsColumn.getColumnId(),String.valueOf(smsOption));
  }
}
