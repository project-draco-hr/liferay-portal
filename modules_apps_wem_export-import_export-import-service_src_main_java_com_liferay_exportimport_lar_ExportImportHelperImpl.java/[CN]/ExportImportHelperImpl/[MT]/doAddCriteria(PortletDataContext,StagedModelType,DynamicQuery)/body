{
  Disjunction disjunction=RestrictionsFactoryUtil.disjunction();
  Property groupIdProperty=PropertyFactoryUtil.forName("groupId");
  disjunction.add(groupIdProperty.eq(0L));
  disjunction.add(groupIdProperty.eq(portletDataContext.getScopeGroupId()));
  dynamicQuery.add(disjunction);
  Property classNameIdProperty=PropertyFactoryUtil.forName("classNameId");
  dynamicQuery.add(classNameIdProperty.eq(stagedModelType.getClassNameId()));
  long referrerClassNameId=stagedModelType.getReferrerClassNameId();
  Property referrerClassNameIdProperty=PropertyFactoryUtil.forName("referrerClassNameId");
  if ((referrerClassNameId != StagedModelType.REFERRER_CLASS_NAME_ID_ALL) && (referrerClassNameId != StagedModelType.REFERRER_CLASS_NAME_ID_ANY)) {
    dynamicQuery.add(referrerClassNameIdProperty.eq(stagedModelType.getReferrerClassNameId()));
  }
 else   if (referrerClassNameId == StagedModelType.REFERRER_CLASS_NAME_ID_ANY) {
    dynamicQuery.add(referrerClassNameIdProperty.isNotNull());
  }
  Property typeProperty=PropertyFactoryUtil.forName("type");
  dynamicQuery.add(typeProperty.eq(SystemEventConstants.TYPE_DELETE));
  addCreateDateProperty(portletDataContext,dynamicQuery);
}
