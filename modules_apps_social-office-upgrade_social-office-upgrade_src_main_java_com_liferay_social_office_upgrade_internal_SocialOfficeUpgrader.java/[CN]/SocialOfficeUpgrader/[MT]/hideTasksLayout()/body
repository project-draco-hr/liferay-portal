{
  ActionableDynamicQuery actionableDynamicQuery=_layoutLocalService.getActionableDynamicQuery();
  actionableDynamicQuery.setAddCriteriaMethod(new ActionableDynamicQuery.AddCriteriaMethod(){
    public void addCriteria(    DynamicQuery dynamicQuery){
      dynamicQuery.add(RestrictionsFactoryUtil.eq("friendlyURL","/so/tasks"));
      dynamicQuery.add(RestrictionsFactoryUtil.eq("hidden",false));
    }
  }
);
  final AtomicInteger atomicInteger=new AtomicInteger(0);
  actionableDynamicQuery.setPerformActionMethod(new ActionableDynamicQuery.PerformActionMethod<Layout>(){
    public void performAction(    Layout layout) throws PortalException {
      layout.setHidden(true);
      _layoutLocalService.updateLayout(layout);
      atomicInteger.incrementAndGet();
    }
  }
);
  actionableDynamicQuery.performActions();
  System.out.printf("[so:hideTasksLayout] %d layouts updated.%n",atomicInteger.get());
}
