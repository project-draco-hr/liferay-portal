{
  long consumerRegistrationId=counterLocalService.increment();
  WSRPConsumerRegistration consumerRegistration=wsrpConsumerRegistrationPersistence.create(consumerRegistrationId);
  consumerRegistration.setConsumerAgent(consumerAgent);
  consumerRegistration.setConsumerName(consumerName);
  consumerRegistration.setConsumerModes(consumerModes);
  consumerRegistration.setConsumerWindowStates(consumerWindowStates);
  consumerRegistration.setCustomUserProfileData(customUserProfileData);
  consumerRegistration.setConsumerUserScopes(consumerUserScopes);
  consumerRegistration.setLifetimeTerminationTime(lifetimeTermination);
  consumerRegistration.setMethodGetSupported(methodGetSupported);
  consumerRegistration.setProducerKey(producerKey);
  consumerRegistration.setRegistrationHandle(registrationHandle);
  consumerRegistration.setStatus(status);
  wsrpConsumerRegistrationPersistence.update(consumerRegistration,false);
}
