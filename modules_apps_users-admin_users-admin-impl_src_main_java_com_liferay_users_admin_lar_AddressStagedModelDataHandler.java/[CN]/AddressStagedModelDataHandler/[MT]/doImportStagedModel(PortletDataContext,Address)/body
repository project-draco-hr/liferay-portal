{
  long userId=portletDataContext.getUserId(address.getUserUuid());
  ServiceContext serviceContext=portletDataContext.createServiceContext(address);
  Address existingAddress=_addressLocalService.fetchAddressByUuidAndCompanyId(address.getUuid(),portletDataContext.getCompanyId());
  Address importedAddress=null;
  if (existingAddress == null) {
    serviceContext.setUuid(address.getUuid());
    importedAddress=_addressLocalService.addAddress(userId,address.getClassName(),address.getClassPK(),address.getStreet1(),address.getStreet2(),address.getStreet3(),address.getCity(),address.getZip(),address.getRegionId(),address.getCountryId(),address.getTypeId(),address.getMailing(),address.isPrimary(),serviceContext);
  }
 else {
    importedAddress=_addressLocalService.updateAddress(existingAddress.getAddressId(),address.getStreet1(),address.getStreet2(),address.getStreet3(),address.getCity(),address.getZip(),address.getRegionId(),address.getCountryId(),address.getTypeId(),address.getMailing(),address.isPrimary());
  }
  portletDataContext.importClassedModel(address,importedAddress);
}
