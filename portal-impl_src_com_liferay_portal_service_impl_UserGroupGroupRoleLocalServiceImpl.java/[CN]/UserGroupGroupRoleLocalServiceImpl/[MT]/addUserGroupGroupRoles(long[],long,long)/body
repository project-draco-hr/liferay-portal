{
  checkGroupResource(groupId);
  for (int i=0; i < userGroupIds.length; i++) {
    long userGroupId=userGroupIds[i];
    UserGroupGroupRolePK pk=new UserGroupGroupRolePK(userGroupId,groupId,roleId);
    UserGroupGroupRole UserGroupGroupRole=userGroupGroupRolePersistence.fetchByPrimaryKey(pk);
    if (UserGroupGroupRole == null) {
      UserGroupGroupRole=userGroupGroupRolePersistence.create(pk);
      userGroupGroupRolePersistence.update(UserGroupGroupRole,false);
    }
  }
  PermissionCacheUtil.clearCache();
}
