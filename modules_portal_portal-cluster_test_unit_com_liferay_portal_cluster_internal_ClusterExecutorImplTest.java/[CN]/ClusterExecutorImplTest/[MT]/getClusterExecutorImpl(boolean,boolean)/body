{
  ClusterExecutorImpl clusterExecutorImpl=new ClusterExecutorImpl();
  clusterExecutorImpl.setProps(new Props(){
    @Override public boolean contains(    String key){
      return false;
    }
    @Override public String get(    String key){
      if (PropsKeys.CLUSTER_LINK_ENABLED.equals(key)) {
        return String.valueOf(enabled);
      }
      return StringPool.BLANK;
    }
    @Override public String get(    String key,    Filter filter){
      return null;
    }
    @Override public String[] getArray(    String key){
      return null;
    }
    @Override public String[] getArray(    String key,    Filter filter){
      return null;
    }
    @Override public Properties getProperties(){
      return null;
    }
    @Override public Properties getProperties(    String prefix,    boolean removePrefix){
      return null;
    }
  }
);
  clusterExecutorImpl.setClusterChannelFactory(new TestClusterChannelFactory());
  clusterExecutorImpl.setPortalExecutorManager(new MockPortalExecutorManager());
  Dictionary<String,Object> properties=new HashMapDictionary<>();
  StringBundler sb=new StringBundler();
  sb.append("UDP(bind_addr=localhost;mcast_group_addr=239.255.0.1;");
  sb.append("mcast_port=23301):");
  sb.append("PING(timeout=2000;num_initial_members=20;");
  sb.append("break_on_coord_rsp=true):");
  sb.append("MERGE3(min_interval=10000;max_interval=30000):");
  sb.append("FD_SOCK:FD_ALL:VERIFY_SUSPECT(timeout=1500):");
  sb.append("pbcast.NAKACK2(xmit_interval=1000;xmit_table_num_rows=100;");
  sb.append("xmit_table_msgs_per_row=2000;");
  sb.append("xmit_table_max_compaction_time=30000;max_msg_batch_size=500;");
  sb.append("use_mcast_xmit=false;discard_delivered_msgs=true):");
  sb.append("UNICAST2(max_bytes=10M;xmit_table_num_rows=100;");
  sb.append("xmit_table_msgs_per_row=2000;");
  sb.append("xmit_table_max_compaction_time=60000;");
  sb.append("max_msg_batch_size=500):");
  sb.append("pbcast.STABLE(stability_delay=1000;desired_avg_gossip=50000;");
  sb.append("max_bytes=4M):");
  sb.append("pbcast.GMS(join_timeout=3000;print_local_addr=true;");
  sb.append("view_bundling=true):UFC(max_credits=2M;min_threshold=0.4):");
  sb.append("MFC(max_credits=2M;min_threshold=0.4):");
  sb.append("FRAG2(frag_size=61440):");
  sb.append("RSVP(resend_interval=2000;timeout=10000)");
  properties.put(ClusterPropsKeys.CHANNEL_PROPERTIES_CONTROL,sb.toString());
  properties.put(ClusterPropsKeys.CHANNEL_NAME_CONTROL,"test-channel-name");
  clusterExecutorImpl.activate(new MockComponentContext(properties));
  return clusterExecutorImpl;
}
