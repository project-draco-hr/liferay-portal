{
  ExportImportConfiguration exportImportConfiguration=getExportImportConfiguration(backgroundTask);
  Map<String,Serializable> settingsMap=exportImportConfiguration.getSettingsMap();
  long userId=MapUtil.getLong(settingsMap,"userId");
  long targetPlid=MapUtil.getLong(settingsMap,"targetPlid");
  long targetGroupId=MapUtil.getLong(settingsMap,"targetGroupId");
  String portletId=MapUtil.getString(settingsMap,"portletId");
  Map<String,String[]> parameterMap=(Map<String,String[]>)settingsMap.get("parameterMap");
  List<FileEntry> attachmentsFileEntries=backgroundTask.getAttachmentsFileEntries();
  for (  FileEntry attachmentsFileEntry : attachmentsFileEntries) {
    LayoutLocalServiceUtil.importPortletInfo(userId,targetPlid,targetGroupId,portletId,parameterMap,attachmentsFileEntry.getContentStream());
  }
  return BackgroundTaskResult.SUCCESS;
}
