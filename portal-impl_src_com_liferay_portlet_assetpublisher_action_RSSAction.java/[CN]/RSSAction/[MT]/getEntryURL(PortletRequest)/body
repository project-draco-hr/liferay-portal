{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  StringBundler sb=new StringBundler(7);
  sb.append(themeDisplay.getPortalURL());
  sb.append(themeDisplay.getPathContext());
  sb.append(PortalUtil.getLayoutURL(layout,themeDisplay));
  sb.append(Portal.FRIENDLY_URL_SEPARATOR);
  sb.append("asset_publisher/");
  sb.append(portletDisplay.getInstanceId());
  sb.append(StringPool.SLASH);
  return sb.toString();
}
