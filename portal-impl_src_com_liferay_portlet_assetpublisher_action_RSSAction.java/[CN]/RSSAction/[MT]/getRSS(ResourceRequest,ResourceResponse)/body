{
  PortletPreferences preferences=portletRequest.getPreferences();
  String selectionStyle=preferences.getValue("selectionStyle","dynamic");
  if (!selectionStyle.equals("dynamic")) {
    return new byte[0];
  }
  String assetLinkBehavior=preferences.getValue("assetLinkBehavior","showFullContent");
  String rssDisplayStyle=preferences.getValue("rssDisplayStyle",RSSUtil.DISPLAY_STYLE_ABSTRACT);
  String rssFeedType=preferences.getValue("rssFeedType",RSSUtil.FEED_TYPE_DEFAULT);
  String rssName=preferences.getValue("rssName",null);
  String format=RSSUtil.getFeedTypeFormat(rssFeedType);
  double version=RSSUtil.getFeedTypeVersion(rssFeedType);
  String rss=exportToRSS(portletRequest,portletResponse,rssName,null,format,version,rssDisplayStyle,assetLinkBehavior,getAssetEntries(portletRequest,preferences));
  return rss.getBytes(StringPool.UTF8);
}
