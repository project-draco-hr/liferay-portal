{
  PortletPreferences preferences=portletRequest.getPreferences();
  String selectionStyle=preferences.getValue("selectionStyle","dynamic");
  if (!selectionStyle.equals("dynamic")) {
    return new byte[0];
  }
  String rssName=preferences.getValue("rssName",null);
  String rssFormat=preferences.getValue("rssFormat","atom10");
  String rssDisplayStyle=preferences.getValue("rssDisplayStyle",RSSUtil.DISPLAY_STYLE_ABSTRACT);
  String assetLinkBehavior=preferences.getValue("assetLinkBehavior","showFullContent");
  String rss=exportToRSS(portletRequest,portletResponse,rssName,null,RSSUtil.getFormatType(rssFormat),RSSUtil.getFormatVersion(rssFormat),rssDisplayStyle,assetLinkBehavior,getAssetEntries(portletRequest,preferences));
  return rss.getBytes(StringPool.UTF8);
}
