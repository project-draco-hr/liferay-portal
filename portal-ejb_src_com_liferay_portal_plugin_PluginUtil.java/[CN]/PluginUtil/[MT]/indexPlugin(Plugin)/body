{
  String status;
  Plugin installedPlugin=getInstalledVersion(plugin.getGroupId(),plugin.getArtifactId());
  if (installedPlugin == null) {
    status="notInstalled";
  }
 else   if (installedPlugin.isLaterVersionThan(plugin)) {
    status="laterVersionInstalled";
  }
 else   if (installedPlugin.isPreviousVersionThan(plugin)) {
    status="newVersion";
  }
 else {
    status="alreadyInstalled";
  }
  try {
    PluginIndexer.updatePlugin(plugin.getModuleId(),plugin.getName(),plugin.getVersion(),plugin.getAuthor(),plugin.getType(),plugin.getTags(),plugin.getLicenses(),plugin.getLiferayVersions(),plugin.getShortDescription(),plugin.getLongDescription(),plugin.getPageURL(),plugin.getRepositoryURL(),status);
  }
 catch (  Exception e) {
    _log.error("Error reindexing " + plugin.getModuleId(),e);
  }
}
