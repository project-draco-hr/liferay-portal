{
  String value=matchQuery.getValue();
  MatchQuery.Type matchQueryType=matchQuery.getType();
  if (value.startsWith(StringPool.QUOTE) && value.endsWith(StringPool.QUOTE)) {
    value=value.substring(1,value.length() - 1);
    if (value.endsWith(StringPool.STAR)) {
      value=value.substring(0,value.length() - 1);
      matchQueryType=MatchQuery.Type.PHRASE_PREFIX;
    }
 else {
      matchQueryType=MatchQuery.Type.PHRASE;
    }
  }
  MatchQueryBuilder matchQueryBuilder=QueryBuilders.matchQuery(matchQuery.getField(),value);
  if (Validator.isNotNull(matchQuery.getAnalyzer())) {
    matchQueryBuilder.analyzer(matchQuery.getAnalyzer());
  }
  if (matchQuery.getCutOffFrequency() != null) {
    matchQueryBuilder.cutoffFrequency(matchQuery.getCutOffFrequency());
  }
  if (matchQuery.getFuzziness() != null) {
    matchQueryBuilder.fuzziness(Fuzziness.build(matchQuery.getFuzziness()));
  }
  if (matchQuery.getFuzzyRewriteMethod() != null) {
    String matchQueryFuzzyRewrite=translate(matchQuery.getFuzzyRewriteMethod());
    matchQueryBuilder.fuzzyRewrite(matchQueryFuzzyRewrite);
  }
  if (matchQuery.getMaxExpansions() != null) {
    matchQueryBuilder.maxExpansions(matchQuery.getMaxExpansions());
  }
  if (Validator.isNotNull(matchQuery.getMinShouldMatch())) {
    matchQueryBuilder.minimumShouldMatch(matchQuery.getMinShouldMatch());
  }
  if (matchQuery.getOperator() != null) {
    MatchQueryBuilder.Operator operator=translate(matchQuery.getOperator());
    matchQueryBuilder.operator(operator);
  }
  if (matchQuery.getPrefixLength() != null) {
    matchQueryBuilder.prefixLength(matchQuery.getPrefixLength());
  }
  if (matchQuery.getRewriteMethod() != null) {
    String matchQueryRewrite=translate(matchQuery.getRewriteMethod());
    matchQueryBuilder.rewrite(matchQueryRewrite);
  }
  if (matchQuery.getSlop() != null) {
    matchQueryBuilder.slop(matchQuery.getSlop());
  }
  if (matchQueryType != null) {
    MatchQueryBuilder.Type matchQueryBuilderType=translate(matchQueryType);
    matchQueryBuilder.type(matchQueryBuilderType);
  }
  if (matchQuery.getZeroTermsQuery() != null) {
    MatchQueryBuilder.ZeroTermsQuery matchQueryBuilderZeroTermsQuery=translate(matchQuery.getZeroTermsQuery());
    matchQueryBuilder.zeroTermsQuery(matchQueryBuilderZeroTermsQuery);
  }
  if (!matchQuery.isDefaultBoost()) {
    matchQueryBuilder.boost(matchQuery.getBoost());
  }
  if (matchQuery.isFuzzyTranspositions() != null) {
    matchQueryBuilder.fuzzyTranspositions(matchQuery.isFuzzyTranspositions());
  }
  if (matchQuery.isLenient() != null) {
    matchQueryBuilder.setLenient(matchQuery.isLenient());
  }
  return matchQueryBuilder;
}
