{
  DDMForm ddmForm=createDDMForm();
  addDDMFormFields(ddmForm,createTextDDMFormField("Name","",true,true,false));
  DDMStructure ddmStructure=createStructure("Test Structure",ddmForm);
  DDMFormValues ddmFormValues=createDDMFormValues(ddmForm,_availableLocales,LocaleUtil.US);
  List<DDMFormFieldValue> ddmFormFieldValues=ddmFormValues.getDDMFormFieldValues();
  DDMFormFieldValue nameDDMFormFieldValue1=createDDMFormFieldValue("rztm","Name",createLocalizedValue("Name 1","Nome 1",LocaleUtil.US));
  ddmFormFieldValues.add(nameDDMFormFieldValue1);
  DDMFormFieldValue nameDDMFormFieldValue2=createDDMFormFieldValue("uayd","Name",createLocalizedValue("Name 2","Nome 2",LocaleUtil.US));
  ddmFormFieldValues.add(nameDDMFormFieldValue2);
  DDMFormFieldValue nameDDMFormFieldValue3=createDDMFormFieldValue("pamh","Name",createLocalizedValue("Name 3","Nome 3",LocaleUtil.US));
  ddmFormFieldValues.add(nameDDMFormFieldValue3);
  try (CaptureHandler captureHandler=JDKLoggerTestUtil.configureJDKLogger(LocaleUtil.class.getName(),Level.WARNING)){
    Fields fields=_ddmFormValuesToFieldsConverter.convert(ddmStructure,ddmFormValues);
    List<LogRecord> logRecords=captureHandler.getLogRecords();
    Assert.assertEquals(3,logRecords.size());
    for (    LogRecord logRecord : logRecords) {
      Assert.assertEquals("en_US is not a valid language id",logRecord.getMessage());
    }
    Assert.assertNotNull(fields);
    Field nameField=fields.get("Name");
    testField(nameField,createValuesList("Name 1","Name 2","Name 3"),createValuesList("Nome 1","Nome 2","Nome 3"),_availableLocales,LocaleUtil.US);
    Field fieldsDisplayField=fields.get(DDMImpl.FIELDS_DISPLAY_NAME);
    Assert.assertEquals("Name_INSTANCE_rztm,Name_INSTANCE_uayd,Name_INSTANCE_pamh",fieldsDisplayField.getValue());
  }
 }
