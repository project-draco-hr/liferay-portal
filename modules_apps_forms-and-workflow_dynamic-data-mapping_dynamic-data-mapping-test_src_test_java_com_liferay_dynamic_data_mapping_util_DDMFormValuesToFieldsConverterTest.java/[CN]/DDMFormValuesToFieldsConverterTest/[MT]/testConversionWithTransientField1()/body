{
  DDMForm ddmForm=createDDMForm();
  addDDMFormFields(ddmForm,createTextDDMFormField("Name","",true,true,false));
  DDMStructure ddmStructure=createStructure("Test Structure",ddmForm);
  DDMForm templateDDMForm=createDDMForm();
  DDMFormField paragraphDDMFormField=createParagraphDDMFormField("Paragraph");
  paragraphDDMFormField.addNestedDDMFormField(createTextDDMFormField("Name","",true,true,false));
  addDDMFormFields(templateDDMForm,paragraphDDMFormField);
  DDMFormValues templateDDMFormValues=createDDMFormValues(templateDDMForm,_availableLocales,LocaleUtil.US);
  List<DDMFormFieldValue> ddmFormFieldValues=templateDDMFormValues.getDDMFormFieldValues();
  DDMFormFieldValue paragraphDDMFormFieldValue=createDDMFormFieldValue("rztm","Paragraph",null);
  DDMFormFieldValue nameDDMFormFieldValue1=createDDMFormFieldValue("uayd","Name",createLocalizedValue("Name 1","Nome 1",LocaleUtil.US));
  paragraphDDMFormFieldValue.addNestedDDMFormFieldValue(nameDDMFormFieldValue1);
  DDMFormFieldValue nameDDMFormFieldValue2=createDDMFormFieldValue("pamh","Name",createLocalizedValue("Name 2","Nome 2",LocaleUtil.US));
  paragraphDDMFormFieldValue.addNestedDDMFormFieldValue(nameDDMFormFieldValue2);
  ddmFormFieldValues.add(paragraphDDMFormFieldValue);
  Fields fields=_ddmFormValuesToFieldsConverter.convert(ddmStructure,templateDDMFormValues);
  Assert.assertNotNull(fields);
  Field nameField=fields.get("Name");
  testField(nameField,createValuesList("Name 1","Name 2"),createValuesList("Nome 1","Nome 2"),_availableLocales,LocaleUtil.US);
  Field fieldsDisplayField=fields.get(DDMImpl.FIELDS_DISPLAY_NAME);
  Assert.assertEquals("Paragraph_INSTANCE_rztm,Name_INSTANCE_uayd,Name_INSTANCE_pamh",fieldsDisplayField.getValue());
}
