{
  TreePathUtil.rebuildTree(companyId,parentFolderId,parentTreePath,new TreeModelTasksAdapter<JournalFolder>(){
    @Override public List<JournalFolder> findTreeModels(    long previousId,    long companyId,    long parentPrimaryKey,    int size){
      return journalFolderPersistence.findByF_C_P_NotS(previousId,companyId,parentPrimaryKey,WorkflowConstants.STATUS_IN_TRASH,QueryUtil.ALL_POS,size,new FolderIdComparator(true));
    }
    @Override public void rebuildDependentModelsTreePaths(    long parentPrimaryKey,    String treePath) throws PortalException {
      journalArticleLocalService.setTreePaths(parentPrimaryKey,treePath,false);
    }
    @Override public void reindexTreeModels(    List<TreeModel> treeModels) throws PortalException {
      if (!reindex) {
        return;
      }
      Indexer<JournalFolder> indexer=IndexerRegistryUtil.nullSafeGetIndexer(JournalFolder.class);
      for (      TreeModel treeModel : treeModels) {
        JournalFolder journalFolder=(JournalFolder)treeModel;
        indexer.reindex(journalFolder);
      }
    }
  }
);
}
