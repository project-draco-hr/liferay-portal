{
  String name=pluginPackageElement.elementText("name");
  if (_log.isDebugEnabled()) {
    _log.debug("Reading pluginPackage definition " + name);
  }
  PluginPackage pluginPackage=new PluginPackageImpl(GetterUtil.getString(pluginPackageElement.elementText("module-id")));
  List<String> liferayVersions=_readList(pluginPackageElement.element("liferay-versions"),"liferay-version");
  List<String> types=_readList(pluginPackageElement.element("types"),"type");
  if (types.contains("layout-template")) {
    types.remove("layout-template");
    types.add(Plugin.TYPE_LAYOUT_TEMPLATE);
  }
  pluginPackage.setName(_readText(name));
  pluginPackage.setRecommendedDeploymentContext(_readText(pluginPackageElement.elementText("recommended-deployment-context")));
  pluginPackage.setRequiredDeploymentContexts(_readList(pluginPackageElement.element("required-deployment-contexts"),"required-deployment-context"));
  pluginPackage.setModifiedDate(_readDate(pluginPackageElement.elementText("modified-date")));
  pluginPackage.setAuthor(_readText(pluginPackageElement.elementText("author")));
  pluginPackage.setTypes(types);
  pluginPackage.setLicenses(_readLicenseList(pluginPackageElement.element("licenses"),"license"));
  pluginPackage.setLiferayVersions(liferayVersions);
  pluginPackage.setTags(_readList(pluginPackageElement.element("tags"),"tag"));
  pluginPackage.setShortDescription(_readText(pluginPackageElement.elementText("short-description")));
  pluginPackage.setLongDescription(_readHtml(pluginPackageElement.elementText("long-description")));
  pluginPackage.setChangeLog(_readHtml(pluginPackageElement.elementText("change-log")));
  pluginPackage.setScreenshots(_readScreenshots(pluginPackageElement.element("screenshots")));
  pluginPackage.setPageURL(_readText(pluginPackageElement.elementText("page-url")));
  pluginPackage.setDownloadURL(_readText(pluginPackageElement.elementText("download-url")));
  pluginPackage.setDeploymentSettings(_readProperties(pluginPackageElement.element("deployment-settings"),"setting"));
  return pluginPackage;
}
