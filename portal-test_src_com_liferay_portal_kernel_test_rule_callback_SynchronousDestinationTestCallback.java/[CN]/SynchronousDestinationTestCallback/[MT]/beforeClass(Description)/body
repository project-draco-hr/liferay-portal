{
  Class<?> testClass=description.getTestClass();
  Sync sync=testClass.getAnnotation(Sync.class);
  if (sync != null) {
    return _createSyncHandler(sync);
  }
  boolean hasSyncedMethod=false;
  for (  Method method : testClass.getMethods()) {
    if ((method.getAnnotation(Sync.class) != null) && (method.getAnnotation(Test.class) != null)) {
      hasSyncedMethod=true;
      break;
    }
  }
  if (!hasSyncedMethod) {
    throw new AssertionError(testClass.getName() + " uses " + SynchronousDestinationTestRule.class.getName()+ " without any usage of "+ Sync.class.getName());
  }
  return super.beforeClass(description);
}
