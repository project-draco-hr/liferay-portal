{
  Class<?> testClass=description.getTestClass();
  Sync sync=testClass.getAnnotation(Sync.class);
  if (sync == null) {
    boolean hasSyncedMethod=false;
    for (    Method method : testClass.getMethods()) {
      if ((method.getAnnotation(Sync.class) != null) && (method.getAnnotation(Test.class) != null)) {
        hasSyncedMethod=true;
        break;
      }
    }
    if (!hasSyncedMethod) {
      throw new AssertionError(testClass + " uses " + SynchronousDestinationTestRule.class+ " without any usage of "+ Sync.class);
    }
  }
 else {
    return _applySyncHandler(sync);
  }
  return super.doBeforeClass(description);
}
