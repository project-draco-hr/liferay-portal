{
  org.apache.lucene.search.BooleanQuery newBooleanQuery=new org.apache.lucene.search.BooleanQuery();
  List<BooleanClause> clauses=booleanQuery.clauses();
  for (  BooleanClause booleanClause : clauses) {
    org.apache.lucene.search.TermQuery termQuery=(org.apache.lucene.search.TermQuery)booleanClause.getQuery();
    org.apache.lucene.search.Query query=toCaseInsensitiveSubstringQuery(termQuery);
    newBooleanQuery.add(query,booleanClause.getOccur());
  }
  return newBooleanQuery;
}
