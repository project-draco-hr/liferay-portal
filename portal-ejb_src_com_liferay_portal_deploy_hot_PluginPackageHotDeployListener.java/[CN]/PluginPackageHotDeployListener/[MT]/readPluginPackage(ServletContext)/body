{
  PluginPackage pluginPackage=null;
  String servletContextName=ctx.getServletContextName();
  String xml=Http.URLtoString(ctx.getResource("/WEB-INF/liferay-plugin-package.xml"));
  if (xml == null) {
    if (_log.isWarnEnabled()) {
      _log.warn("Plugin package on context " + servletContextName + " cannot be tracked because this WAR does not "+ "contain a liferay-plugin-package.xml file");
    }
    pluginPackage=new PluginPackageImpl(servletContextName + StringPool.SLASH + servletContextName+ StringPool.SLASH+ Version.UNKNOWN+ StringPool.SLASH+ "war");
    pluginPackage.setName(servletContextName);
    return pluginPackage;
  }
  if (_log.isInfoEnabled()) {
    _log.info("Reading plugin package for " + ((servletContextName == null) ? " root context" : servletContextName));
  }
  pluginPackage=PluginPackageUtil.readPluginPackageXml(xml);
  return pluginPackage;
}
