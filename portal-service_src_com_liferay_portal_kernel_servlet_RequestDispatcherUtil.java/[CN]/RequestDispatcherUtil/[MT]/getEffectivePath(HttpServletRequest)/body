{
  DispatcherType dispatcherType=request.getDispatcherType();
switch (dispatcherType) {
case FORWARD:
    return (String)request.getAttribute(RequestDispatcher.FORWARD_SERVLET_PATH);
case INCLUDE:
  return (String)request.getAttribute(RequestDispatcher.INCLUDE_SERVLET_PATH);
default :
return request.getServletPath();
}
}
