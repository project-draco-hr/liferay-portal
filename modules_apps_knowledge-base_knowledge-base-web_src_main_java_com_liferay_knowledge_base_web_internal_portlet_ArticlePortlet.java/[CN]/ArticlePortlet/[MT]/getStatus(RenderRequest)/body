{
  ThemeDisplay themeDisplay=(ThemeDisplay)renderRequest.getAttribute(KBWebKeys.THEME_DISPLAY);
  if (!themeDisplay.isSignedIn()) {
    return WorkflowConstants.STATUS_APPROVED;
  }
  String value=renderRequest.getParameter("status");
  int status=GetterUtil.getInteger(value);
  if ((value != null) && (status == WorkflowConstants.STATUS_APPROVED)) {
    return WorkflowConstants.STATUS_APPROVED;
  }
  long resourcePrimKey=getResourcePrimKey(renderRequest);
  if (resourcePrimKey == 0) {
    return WorkflowConstants.STATUS_APPROVED;
  }
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  if (KBArticlePermission.contains(permissionChecker,resourcePrimKey,KBActionKeys.UPDATE)) {
    return ParamUtil.getInteger(renderRequest,"status",WorkflowConstants.STATUS_ANY);
  }
  return WorkflowConstants.STATUS_APPROVED;
}
