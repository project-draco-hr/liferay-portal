{
  NameCallback nameCallback=new NameCallback("userId: ");
  PasswordCallback passwordCallback=new PasswordCallback("password: ",false);
  _callbackHandler.handle(new Callback[]{nameCallback,passwordCallback});
  String userId=nameCallback.getName();
  String password=null;
  char[] passwordChar=passwordCallback.getPassword();
  if (passwordChar != null) {
    password=new String(passwordChar);
  }
  if (userId == null) {
    return new String[]{StringPool.BLANK,StringPool.BLANK};
  }
  try {
    if (UserLocalServiceUtil.authenticateForJAAS(userId,password)) {
      return new String[]{userId,password};
    }
  }
 catch (  Exception e) {
    _log.error(StackTraceUtil.getStackTrace(e));
  }
  return null;
}
