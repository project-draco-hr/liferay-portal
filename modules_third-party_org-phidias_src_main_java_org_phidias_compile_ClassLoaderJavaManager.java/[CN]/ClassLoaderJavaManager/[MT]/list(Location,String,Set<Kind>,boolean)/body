{
  List<JavaFileObject> javaFileObjects=new ArrayList<JavaFileObject>();
  if ((location == StandardLocation.CLASS_PATH) && _log.isEnabled()) {
    _log.log("List available sources for {location=" + location + ", packageName="+ packageName+ ", kinds="+ kinds+ ", recurse="+ recurse+ "}");
  }
  String packagePath=packageName.replace('.','/');
  if (!packageName.startsWith(JAVA_PACKAGE) && (location == StandardLocation.CLASS_PATH)) {
  }
  if (packageName.startsWith(JAVA_PACKAGE) || (location != StandardLocation.CLASS_PATH) || (javaFileObjects.isEmpty() && hasPackageCapability(packageName))) {
    for (    JavaFileObject javaFileObject : _javaFileManager.list(location,packagePath,kinds,recurse)) {
      if ((location == StandardLocation.CLASS_PATH) && _log.isEnabled()) {
        _log.log("\t" + javaFileObject);
      }
      javaFileObjects.add(javaFileObject);
    }
  }
  return javaFileObjects;
}
