{
  final Set<String> packageNames=new HashSet<>();
  Files.walkFileTree(path,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult preVisitDirectory(    Path dirPath,    BasicFileAttributes basicFileAttributes) throws IOException {
      try (DirectoryStream<Path> directoryStream=Files.newDirectoryStream(dirPath,"*.java")){
        Iterator<Path> iterator=directoryStream.iterator();
        if (iterator.hasNext()) {
          Path relativePath=path.relativize(dirPath);
          String relativePathString=relativePath.toString();
          packageNames.add(relativePathString.replace('/','.'));
        }
      }
       return FileVisitResult.CONTINUE;
    }
  }
);
  return packageNames;
}
