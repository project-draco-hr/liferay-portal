{
  ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();
  UnsyncBufferedOutputStream unsyncBufferedOutputStream=new UnsyncBufferedOutputStream(byteArrayOutputStream,_SIZE * 2);
  assertEquals(_SIZE * 2,unsyncBufferedOutputStream.buffer.length);
  unsyncBufferedOutputStream.write(_BUFFER);
  for (int i=0; i < _SIZE; i++) {
    assertEquals(i,unsyncBufferedOutputStream.buffer[i]);
  }
  unsyncBufferedOutputStream.write(_BUFFER);
  for (int i=_SIZE; i < _SIZE * 2; i++) {
    assertEquals(i - _SIZE,unsyncBufferedOutputStream.buffer[i]);
  }
  unsyncBufferedOutputStream.write(100);
  assertEquals(100,unsyncBufferedOutputStream.buffer[0]);
  assertEquals(_SIZE * 2,byteArrayOutputStream.size());
}
