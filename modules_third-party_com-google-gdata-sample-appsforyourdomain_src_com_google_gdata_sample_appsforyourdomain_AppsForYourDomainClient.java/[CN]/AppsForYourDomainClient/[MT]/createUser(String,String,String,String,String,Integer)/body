{
  LOGGER.log(Level.INFO,"Creating user '" + username + "'. Given Name: '"+ givenName+ "' Family Name: '"+ familyName+ (passwordHashFunction != null ? "' Hash Function: '" + passwordHashFunction : "")+ (quotaLimitInMb != null ? "' Quota Limit: '" + quotaLimitInMb + "'." : "'."));
  UserEntry entry=new UserEntry();
  Login login=new Login();
  login.setUserName(username);
  login.setPassword(password);
  if (passwordHashFunction != null) {
    login.setHashFunctionName(passwordHashFunction);
  }
  entry.addExtension(login);
  Name name=new Name();
  name.setGivenName(givenName);
  name.setFamilyName(familyName);
  entry.addExtension(name);
  if (quotaLimitInMb != null) {
    Quota quota=new Quota();
    quota.setLimit(quotaLimitInMb);
    entry.addExtension(quota);
  }
  URL insertUrl=new URL(domainUrlBase + "user/" + SERVICE_VERSION);
  return userService.insert(insertUrl,entry);
}
