{
  BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.fetchBackgroundTask(backgroundTaskId);
  if (backgroundTask == null) {
    return;
  }
  Map<String,Serializable> taskContextMap=backgroundTask.getTaskContextMap();
  if (Validator.isNull(backgroundTaskState)) {
    return;
  }
  if (Validator.isNull(taskContextMap)) {
    taskContextMap=new HashMap<String,Serializable>();
  }
  taskContextMap.put(backgroundTaskState,Boolean.TRUE);
  backgroundTask.setTaskContextMap(taskContextMap);
  BackgroundTaskLocalServiceUtil.updateBackgroundTask(backgroundTask);
}
