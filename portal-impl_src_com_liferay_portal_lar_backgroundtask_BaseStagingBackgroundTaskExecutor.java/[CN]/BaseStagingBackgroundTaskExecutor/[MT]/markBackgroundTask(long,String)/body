{
  BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.fetchBackgroundTask(backgroundTaskId);
  if (backgroundTask == null) {
    return;
  }
  Map<String,Serializable> taskContextMap=backgroundTask.getTaskContextMap();
  if (Validator.isNull(backgroundTaskState)) {
    return;
  }
  taskContextMap.put(backgroundTaskState,Boolean.TRUE);
  backgroundTask.setTaskContext(JSONFactoryUtil.serialize(taskContextMap));
  BackgroundTaskLocalServiceUtil.updateBackgroundTask(backgroundTask);
}
