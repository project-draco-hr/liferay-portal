{
  BackgroundTaskResult backgroundTaskResult=new BackgroundTaskResult(BackgroundTaskConstants.STATUS_SUCCESSFUL);
  Map<String,MissingReference> weakMissingReferences=missingReferences.getWeakMissingReferences();
  if ((weakMissingReferences != null) && !weakMissingReferences.isEmpty()) {
    BackgroundTask backgroundTask=BackgroundTaskLocalServiceUtil.fetchBackgroundTask(backgroundTaskId);
    JSONArray jsonArray=StagingUtil.getWarningMessagesJSONArray(getLocale(backgroundTask),weakMissingReferences,backgroundTask.getTaskContextMap());
    backgroundTaskResult.setStatusMessage(jsonArray.toString());
  }
  return backgroundTaskResult;
}
