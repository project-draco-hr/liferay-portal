{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (!cmd.equals(Constants.UPDATE)) {
    return;
  }
  long classNameId=ParamUtil.getLong(actionRequest,"classNameId");
  String displayStyle=ParamUtil.getString(actionRequest,"displayStyle");
  boolean showAssetCount=ParamUtil.getBoolean(actionRequest,"showAssetCount");
  boolean showZeroAssetCount=ParamUtil.getBoolean(actionRequest,"showZeroAssetCount");
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
  preferences.setValue("classNameId",String.valueOf(classNameId));
  preferences.setValue("displayStyle",displayStyle);
  preferences.setValue("showAssetCount",String.valueOf(showAssetCount));
  preferences.setValue("showZeroAssetCount",String.valueOf(showZeroAssetCount));
  preferences.store();
  SessionMessages.add(actionRequest,portletConfig.getPortletName() + ".doConfigure");
}
