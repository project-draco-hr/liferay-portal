{
  SearchContext searchContext=getSearchContext();
  searchContext.setKeywords("+test* -test.doc");
  BooleanQuery searchQuery=RepositorySearchQueryBuilderUtil.getFullQuery(searchContext);
  String cmisQuery=CMISSearchQueryBuilderUtil.buildQuery(searchContext,searchQuery);
  assertQueryEquals("((cmis:name LIKE 'test%' AND NOT(cmis:name = 'test.doc')) OR " + "(cmis:createdBy LIKE 'test%' AND NOT(cmis:createdBy = " + "'test.doc')))",cmisQuery);
}
