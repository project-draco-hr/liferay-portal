{
  PortletRequestImpl portletRequestImpl=(PortletRequestImpl)_request.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  if (portletRequestImpl != null) {
    return portletRequestImpl.getOriginalHttpServletRequest();
  }
  HttpServletRequest originalServletRequest=PortalUtil.getOriginalServletRequest(request);
  Portlet portlet=getPortlet();
  return DynamicServletRequestUtil.createDynamicServletRequest(originalServletRequest,portlet,request.getParameterMap(),false);
}
