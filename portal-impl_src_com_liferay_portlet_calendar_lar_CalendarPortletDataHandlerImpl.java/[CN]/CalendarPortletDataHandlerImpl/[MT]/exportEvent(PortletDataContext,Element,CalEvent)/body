{
  if (!context.isWithinDateRange(event.getModifiedDate())) {
    return;
  }
  String path=getEventPath(context,event);
  if (!context.isPathNotProcessed(path)) {
    return;
  }
  Element eventEl=root.addElement("event");
  eventEl.addAttribute("path",path);
  context.addPermissions(CalEvent.class,event.getEventId());
  if (context.getBooleanParameter(_NAMESPACE,"categories")) {
    context.addAssetCategories(CalEvent.class,event.getEventId());
  }
  if (context.getBooleanParameter(_NAMESPACE,"comments")) {
    context.addComments(CalEvent.class,event.getEventId());
  }
  if (context.getBooleanParameter(_NAMESPACE,"tags")) {
    context.addAssetTags(CalEvent.class,event.getEventId());
  }
  event.setUserUuid(event.getUserUuid());
  context.addZipEntry(path,event);
}
