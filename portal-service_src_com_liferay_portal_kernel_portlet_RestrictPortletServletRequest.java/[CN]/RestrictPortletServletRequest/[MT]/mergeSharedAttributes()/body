{
  ServletRequest servletRequest=getRequest();
  for (  Map.Entry<String,Object> entry : _attributes.entrySet()) {
    String name=entry.getKey();
    Object value=entry.getValue();
    if (name.startsWith("LIFERAY_SHARED_")) {
      if (value == _nullValue) {
        servletRequest.removeAttribute(name);
        if (_log.isInfoEnabled()) {
          _log.info("Remove shared attribute " + name);
        }
      }
 else {
        servletRequest.setAttribute(name,value);
        if (_log.isInfoEnabled()) {
          _log.info("Set shared attribute " + name);
        }
      }
    }
 else {
      if ((value != _nullValue) && _log.isDebugEnabled()) {
        _log.debug("Ignore setting restricted attribute " + name);
      }
    }
  }
}
