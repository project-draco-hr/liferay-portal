{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Group scopeGroup=themeDisplay.getScopeGroup();
  if ((scopeGroup != null) && (scopeGroup.hasStagingGroup() || (scopeGroup.hasRemoteStagingGroup() && !scopeGroup.isStagedRemotely()) || (!scopeGroup.isStaged() && !scopeGroup.isStagingGroup()))) {
    return false;
  }
  User user=themeDisplay.getUser();
  if (user.isDefaultUser()) {
    return false;
  }
  return true;
}
