{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String strutsAction=ParamUtil.getString(portletRequest,"struts_action");
  long groupId=ParamUtil.getLong(portletRequest,"groupId");
  StringBundler sb=new StringBundler();
  if (groupId > 0) {
    sb.append(groupId);
  }
 else {
    sb.append(themeDisplay.getScopeGroupId());
  }
  if (strutsAction.equalsIgnoreCase("/journal/select_structure")) {
    sb.append(StringPool.COMMA);
    sb.append(themeDisplay.getCompanyGroupId());
  }
  return sb.toString();
}
