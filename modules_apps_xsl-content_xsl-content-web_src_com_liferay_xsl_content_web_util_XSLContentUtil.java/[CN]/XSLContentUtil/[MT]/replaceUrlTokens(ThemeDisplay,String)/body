{
  StringBundler sb=new StringBundler(4);
  sb.append(themeDisplay.getPortalURL());
  sb.append(PortalUtil.getPathModule());
  sb.append(StringPool.SLASH);
  Bundle bundle=FrameworkUtil.getBundle(XSLContentUtil.class);
  String symbolicName=bundle.getSymbolicName();
  sb.append(symbolicName.replaceAll("[^a-zA-Z0-9]",StringPool.BLANK));
  return StringUtil.replace(url,new String[]{"@portal_url@","@portlet_context_url@"},new String[]{themeDisplay.getPortalURL(),sb.toString()});
}
