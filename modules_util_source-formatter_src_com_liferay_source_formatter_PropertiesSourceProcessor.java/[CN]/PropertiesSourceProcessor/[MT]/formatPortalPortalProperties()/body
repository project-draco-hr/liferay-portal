{
  if (!portalSource) {
    ClassLoader classLoader=PropertiesSourceProcessor.class.getClassLoader();
    URL url=classLoader.getResource("portal.properties");
    if (url != null) {
      return IOUtils.toString(url);
    }
    return StringPool.BLANK;
  }
  String fileName="portal-impl/src/portal.properties";
  File file=getFile(fileName,4);
  String content=FileUtil.read(file);
  StringBundler sb=new StringBundler();
  try (UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(content))){
    String line=null;
    while ((line=unsyncBufferedReader.readLine()) != null) {
      line=trimLine(line,true);
      if (line.startsWith(StringPool.TAB)) {
        line=line.replaceFirst(StringPool.TAB,StringPool.FOUR_SPACES);
      }
      sb.append(line);
      sb.append("\n");
    }
  }
   String newContent=sb.toString();
  if (newContent.endsWith("\n")) {
    newContent=newContent.substring(0,newContent.length() - 1);
  }
  processFormattedFile(file,fileName,content,newContent);
  return newContent;
}
