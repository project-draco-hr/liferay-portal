{
synchronized (_batchEvents) {
    try {
      SyncSite syncSite=SyncSiteService.fetchSyncSite(syncFile.getRepositoryId(),syncFile.getSyncAccountId());
      BatchEvent batchEvent=_batchEvents.get(syncSite.getSyncSiteId());
      if ((batchEvent != null) && !batchEvent.isClosed()) {
        return batchEvent;
      }
      batchEvent=new BatchEvent(syncSite.getSyncAccountId(),syncSite.getSyncSiteId());
      _batchEvents.put(syncSite.getSyncSiteId(),batchEvent);
      return batchEvent;
    }
 catch (    Exception e) {
      if (_logger.isDebugEnabled()) {
        _logger.debug(e.getMessage(),e);
      }
      return null;
    }
  }
}
