{
  try {
    PortletSession ses=req.getPortletSession();
    String captchaText=_producer.createText();
    ses.setAttribute(WebKeys.CAPTCHA_TEXT,captchaText);
    HttpServletResponse httpRes=((ActionResponseImpl)res).getHttpServletResponse();
    _producer.createImage(httpRes.getOutputStream(),captchaText);
    setForward(req,ActionConstants.COMMON_NULL);
  }
 catch (  Exception e) {
    _log.error(e);
  }
}
