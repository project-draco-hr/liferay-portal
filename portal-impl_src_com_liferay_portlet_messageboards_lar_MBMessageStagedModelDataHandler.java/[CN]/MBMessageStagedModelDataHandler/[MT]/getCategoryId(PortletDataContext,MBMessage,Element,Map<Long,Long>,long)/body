{
  if ((categoryId != MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID) && (categoryId != MBCategoryConstants.DISCUSSION_CATEGORY_ID) && (categoryId == message.getCategoryId())) {
    String path=StagedModelPathUtil.getPath(portletDataContext,MBCategory.class.getName(),categoryId);
    MBCategory category=(MBCategory)portletDataContext.getZipEntryAsObject(path);
    StagedModelDataHandlerUtil.importStagedModel(portletDataContext,categoryElement,path,category);
    categoryId=MapUtil.getLong(categoryPKs,message.getCategoryId(),message.getCategoryId());
  }
  return categoryId;
}
