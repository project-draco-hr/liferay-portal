{
  MBDiscussion discussion=MBDiscussionLocalServiceUtil.getThreadDiscussion(threadId);
  MBMessage importedMessage=null;
  if (!message.isRoot()) {
    importedMessage=MBMessageLocalServiceUtil.addDiscussionMessage(userId,message.getUserName(),portletDataContext.getScopeGroupId(),discussion.getClassName(),discussion.getClassPK(),threadId,parentMessageId,message.getSubject(),message.getBody(),serviceContext);
  }
 else {
    MBThread thread=MBThreadLocalServiceUtil.getThread(threadId);
    importedMessage=MBMessageLocalServiceUtil.getMBMessage(thread.getRootMessageId());
  }
  return importedMessage;
}
