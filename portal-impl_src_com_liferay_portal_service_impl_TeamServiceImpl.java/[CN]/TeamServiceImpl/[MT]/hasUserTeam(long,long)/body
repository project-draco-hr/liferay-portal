{
  PermissionChecker permissionChecker=getPermissionChecker();
  Team team=teamPersistence.findByPrimaryKey(teamId);
  if (!GroupPermissionUtil.contains(permissionChecker,team.getGroupId(),ActionKeys.MANAGE_TEAMS) && !UserPermissionUtil.contains(permissionChecker,userId,ActionKeys.UPDATE)) {
    throw new PrincipalException();
  }
  return userPersistence.containsTeam(userId,teamId);
}
