{
  List<Long> ddmStructureIds=new ArrayList<Long>();
  for (  DDMStructure ddmStructure : ddmStructureLocalService.getJournalFolderDDMStructures(folder.getFolderId())) {
    ddmStructureIds.add(ddmStructure.getStructureId());
  }
  if (ddmStructureIds.isEmpty()) {
    ddmStructureIds.add(JournalArticleConstants.DDM_STRUCTURE_ID_ALL);
  }
  for (  long ddmStructureId : ddmStructureIds) {
    WorkflowDefinitionLink workflowDefinitionLink=workflowDefinitionLinkLocalService.fetchWorkflowDefinitionLink(folder.getCompanyId(),folder.getGroupId(),JournalFolder.class.getName(),folder.getFolderId(),ddmStructureId);
    if (workflowDefinitionLink == null) {
      continue;
    }
    workflowDefinitionLinkLocalService.deleteWorkflowDefinitionLink(workflowDefinitionLink);
  }
}
