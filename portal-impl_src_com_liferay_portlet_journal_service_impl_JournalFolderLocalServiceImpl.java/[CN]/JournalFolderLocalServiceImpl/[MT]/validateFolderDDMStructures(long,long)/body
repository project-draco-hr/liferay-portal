{
  JournalFolder folder=journalFolderLocalService.fetchFolder(folderId);
  int restrictionType=JournalFolderConstants.RESTRICTION_TYPE_DDM_STRUCTURES_AND_WORKFLOW;
  JournalFolder parentFolder=journalFolderLocalService.fetchFolder(parentFolderId);
  if (parentFolder != null) {
    restrictionType=parentFolder.getRestrictionType();
  }
  List<DDMStructure> folderDDMStructures=getDDMStructures(PortalUtil.getCurrentAndAncestorSiteGroupIds(folder.getGroupId()),parentFolderId,restrictionType);
  long[] ddmStructureIds=new long[folderDDMStructures.size()];
  for (int i=0; i < folderDDMStructures.size(); i++) {
    DDMStructure folderDDMStructure=folderDDMStructures.get(i);
    ddmStructureIds[i]=folderDDMStructure.getStructureId();
  }
  validateArticleDDMStructures(folderId,ddmStructureIds);
}
