{
  if (ArrayUtil.isEmpty(ddmStructureIds)) {
    return;
  }
  JournalFolder folder=journalFolderPersistence.findByPrimaryKey(folderId);
  List<JournalArticle> articles=journalArticleLocalService.getArticles(folder.getGroupId(),folderId);
  if (!articles.isEmpty()) {
    long classNameId=classNameLocalService.getClassNameId(JournalArticle.class);
    for (    JournalArticle article : articles) {
      DDMStructure ddmStructure=ddmStructureLocalService.fetchStructure(article.getGroupId(),classNameId,article.getDDMStructureKey(),true);
      if (ddmStructure == null) {
        throw new InvalidDDMStructureException();
      }
      if (!ArrayUtil.contains(ddmStructureIds,ddmStructure.getStructureId())) {
        throw new InvalidDDMStructureException();
      }
    }
  }
  List<JournalFolder> folders=journalFolderPersistence.findByG_P(folder.getGroupId(),folder.getFolderId());
  if (folders.isEmpty()) {
    return;
  }
  for (  JournalFolder curFolder : folders) {
    validateArticleDDMStructures(curFolder.getFolderId(),ddmStructureIds);
  }
}
