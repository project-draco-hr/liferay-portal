{
  while (folderId != JournalFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    JournalFolder folder=journalFolderPersistence.findByPrimaryKey(folderId);
    if (folder.getRestrictionType() != JournalFolderConstants.RESTRICTION_TYPE_INHERIT) {
      break;
    }
    folderId=folder.getParentFolderId();
  }
  return folderId;
}
