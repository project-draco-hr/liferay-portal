{
  List<Long> originalDDMStructureIds=getDDMStructureIds(journalFolderPersistence.getDDMStructures(folder.getFolderId()));
  if (ddmStructureIds.equals(originalDDMStructureIds)) {
    return;
  }
  for (  Long ddmStructureId : ddmStructureIds) {
    if (!originalDDMStructureIds.contains(ddmStructureId)) {
      journalFolderPersistence.addDDMStructure(folder.getFolderId(),ddmStructureId);
    }
  }
  for (  Long originalDDMStructureId : originalDDMStructureIds) {
    if (!ddmStructureIds.contains(originalDDMStructureId)) {
      journalFolderPersistence.removeDDMStructure(folder.getFolderId(),originalDDMStructureId);
    }
  }
}
