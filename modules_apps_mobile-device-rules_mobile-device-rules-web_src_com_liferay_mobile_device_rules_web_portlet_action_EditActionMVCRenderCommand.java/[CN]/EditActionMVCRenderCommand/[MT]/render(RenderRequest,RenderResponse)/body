{
  try {
    long actionId=ParamUtil.getLong(renderRequest,"actionId");
    MDRAction action=MDRActionServiceUtil.fetchAction(actionId);
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_GROUP_ACTION,action);
    String type=BeanPropertiesUtil.getString(action,"type");
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_GROUP_ACTION_TYPE,type);
    String editorJSP=ActionUtil.getActionEditorJSPMethod.getEditorJSP(type);
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_GROUP_ACTION_EDITOR_JSP,editorJSP);
    long ruleGroupInstanceId=BeanParamUtil.getLong(action,renderRequest,"ruleGroupInstanceId");
    MDRRuleGroupInstance ruleGroupInstance=MDRRuleGroupInstanceLocalServiceUtil.getMDRRuleGroupInstance(ruleGroupInstanceId);
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_GROUP_INSTANCE,ruleGroupInstance);
    MDRRuleGroup ruleGroup=ruleGroupInstance.getRuleGroup();
    renderRequest.setAttribute(MobileDeviceRulesWebKeys.MOBILE_DEVICE_RULES_RULE_GROUP,ruleGroup);
    return "/edit_action.jsp";
  }
 catch (  PortalException pe) {
    return "/error.jsp";
  }
}
