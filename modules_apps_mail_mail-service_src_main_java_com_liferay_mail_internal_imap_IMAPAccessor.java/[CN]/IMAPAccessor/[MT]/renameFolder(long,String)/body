{
  try {
    Folder jxFolder=getFolder(folderId);
    String newFullName=StringPool.BLANK;
    if (Validator.isNotNull(_account.getFolderPrefix())) {
      Store store=_imapConnection.getStore(true);
      Folder defaultJxFolder=store.getDefaultFolder();
      newFullName=_account.getFolderPrefix() + defaultJxFolder.getSeparator() + newDisplayName;
    }
    if (!jxFolder.exists()) {
      throw new MailException(MailException.FOLDER_DOES_NOT_EXIST);
    }
    if (jxFolder.renameTo(getFolder(newFullName))) {
      return new String[]{jxFolder.getFullName(),jxFolder.getName()};
    }
 else {
      throw new MailException(MailException.FOLDER_RENAME_FAILED);
    }
  }
 catch (  MessagingException me) {
    throw new MailException(me);
  }
}
