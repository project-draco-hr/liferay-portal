{
  List<PollerRequest> pollerRequests=new ArrayList<PollerRequest>(pollerHeader.getPortletIds().length);
  Set<String> portletIdsWithParameters=null;
  if (receiveRequest) {
    portletIdsWithParameters=new HashSet<String>((int)(pollerRequestChunks.length / 0.75) + 1);
  }
  for (int i=1; i < pollerRequestChunks.length; i++) {
    Map<String,Object> pollerRequestChunk=pollerRequestChunks[i];
    String portletId=(String)pollerRequestChunk.get("portletId");
    Map<String,String> parameterMap=parseData(pollerRequestChunk);
    String chunkId=(String)pollerRequestChunk.get("chunkId");
    try {
      PollerRequest pollerRequest=createPollerRequest(receiveRequest,pollerHeader,portletId,parameterMap,chunkId);
      pollerRequests.add(pollerRequest);
      if (receiveRequest) {
        portletIdsWithParameters.add(portletId);
      }
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
  if (receiveRequest) {
    for (    String portletId : pollerHeader.getPortletIds()) {
      if (portletIdsWithParameters.contains(portletId)) {
        continue;
      }
      try {
        PollerRequest pollerRequest=createPollerRequest(receiveRequest,pollerHeader,portletId);
        pollerRequests.add(pollerRequest);
      }
 catch (      Exception e) {
        _log.error(e,e);
      }
    }
  }
  return pollerRequests;
}
