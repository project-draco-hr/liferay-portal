{
  if (Validator.isNull(pollerRequestString)) {
    return null;
  }
  Map<String,Object>[] pollerRequestChunks=parsePollerRequestParameters(pollerRequestString);
  PollerHeader pollerHeader=parsePollerRequestHeader(pollerRequestChunks);
  if (pollerHeader == null) {
    return null;
  }
  String path=request.getPathInfo();
  boolean receiveRequest=isReceiveRequest(path);
  String pollerSessionId=getPollerSessionId(pollerHeader);
  PollerSession pollerSession=null;
synchronized (_pollerSessions) {
    pollerSession=_pollerSessions.get(pollerSessionId);
    if ((pollerSession == null) && receiveRequest) {
      pollerSession=new PollerSession(pollerSessionId);
      _pollerSessions.put(pollerSessionId,pollerSession);
    }
  }
  List<PollerRequest> pollerRequests=createPollerRequests(pollerHeader,pollerRequestChunks,receiveRequest,request);
  executePollerRequests(pollerSession,pollerRequests);
  if (receiveRequest) {
    return createPollerResponseHeader(pollerHeader);
  }
 else {
    return null;
  }
}
