{
  Object messagePayload=message.getPayload();
  if (!(messagePayload instanceof PollerResponse)) {
    return;
  }
  PollerResponse pollerResponse=(PollerResponse)messagePayload;
  PollerHeader pollerHeader=pollerResponse.getPollerHeader();
  String pollerSessionId=getPollerSessionId(pollerHeader);
synchronized (_pollerSessionMap) {
    PollerSession pollerSession=_pollerSessionMap.get(pollerSessionId);
    if (pollerSession != null) {
      String portletId=pollerResponse.getPortletId();
      String responseId=message.getResponseId();
      boolean complete=pollerSession.completePortletProcessing(responseId,portletId);
      if (complete) {
        _pollerSessionMap.remove(pollerSessionId);
      }
    }
  }
}
