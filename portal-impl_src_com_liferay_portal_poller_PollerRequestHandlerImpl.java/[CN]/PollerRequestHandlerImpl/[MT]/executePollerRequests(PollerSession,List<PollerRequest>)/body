{
  for (  PollerRequest pollerRequest : pollerRequests) {
    PollerRequestResponsePair pollerRequestResponsePair=new PollerRequestResponsePair(pollerRequest);
    String responseId=null;
    if (pollerRequest.isReceiveRequest()) {
      responseId=PortalUUIDUtil.generate();
      PollerResponse pollerResponse=new DefaultPollerResponse(pollerRequest.getPollerHeader(),pollerRequest.getPortletId(),pollerRequest.getChunkId());
      pollerRequestResponsePair.setPollerResponse(pollerResponse);
      if (!pollerSession.beginPortletProcessing(pollerRequestResponsePair,responseId)) {
        continue;
      }
    }
    Message message=new Message();
    message.setPayload(pollerRequestResponsePair);
    if (pollerRequest.isReceiveRequest()) {
      message.setResponseId(responseId);
      message.setResponseDestinationName(DestinationNames.POLLER_RESPONSE);
    }
    MessageBusUtil.sendMessage(DestinationNames.POLLER,message);
  }
}
