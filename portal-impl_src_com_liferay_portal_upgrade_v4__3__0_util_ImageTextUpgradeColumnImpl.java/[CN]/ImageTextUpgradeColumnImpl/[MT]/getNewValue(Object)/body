{
  _type=null;
  _height=null;
  _width=null;
  _size=null;
  String text=(String)oldValue;
  byte[] bytes=(byte[])Base64.stringToObject(text);
  try {
    Image image=ImageLocalUtil.getImage(bytes);
    _type=image.getType();
    _height=new Integer(image.getHeight());
    _width=new Integer(image.getWidth());
    _size=new Integer(image.getSize());
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      String imageId=(String)_imageIdColumn.getOldValue();
      _log.warn("Unable to get image data for " + imageId + ": "+ e.getMessage());
    }
    _type=ImageImpl.TYPE_NOT_AVAILABLE;
    _height=null;
    _width=null;
    _size=new Integer(bytes.length);
  }
  return oldValue;
}
