{
  boolean commitValue=super.commit();
  if (commitValue) {
    PortalGroup rolesPortalGroup=new PortalGroup("Roles");
    rolesPortalGroup.addMember(new PortalPrincipal("users"));
    Subject subject=getSubject();
    Set<Principal> principals=subject.getPrincipals();
    principals.add(rolesPortalGroup);
    PortalGroup callerPrincipalGroup=new PortalGroup("CallerPrincipal");
    callerPrincipalGroup.addMember(getPrincipal());
    principals.add(callerPrincipalGroup);
  }
  return commitValue;
}
