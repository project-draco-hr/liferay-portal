{
  if (isIndexReadOnly()) {
    return;
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Document " + doc.toString());
  }
  _searchPermissionChecker.addPermissionFields(companyId,doc);
  _searchEngine.getWriter().updateDocument(companyId,uid,doc);
}
