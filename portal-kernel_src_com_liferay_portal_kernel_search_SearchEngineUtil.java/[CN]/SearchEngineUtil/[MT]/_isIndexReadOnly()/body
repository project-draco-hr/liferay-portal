{
  StringMaker sm=new StringMaker();
  sm.append("{\"javaClass\":\"");
  sm.append(SearchRequest.class.getName());
  sm.append("\",\"command\":\"");
  sm.append(SearchRequest.COMMAND_INDEX_ONLY);
  sm.append("\"}");
  try {
    String message=MessageBusUtil.sendSynchronizedMessage(DestinationNames.SEARCH,sm.toString());
    if ((message.indexOf("true") != -1)) {
      _cachedIndexReadOnly=true;
      return _cachedIndexReadOnly;
    }
    _cachedIndexReadOnly=false;
    return _cachedIndexReadOnly;
  }
 catch (  MessageBusException mbe) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to check index status",mbe);
    }
    return _cachedIndexReadOnly;
  }
}
