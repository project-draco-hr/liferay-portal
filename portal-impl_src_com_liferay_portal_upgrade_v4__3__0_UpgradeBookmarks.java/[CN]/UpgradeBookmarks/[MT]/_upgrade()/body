{
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(BookmarksFolderImpl.TABLE_NAME,BookmarksFolderImpl.TABLE_COLUMNS,pkUpgradeColumn);
  upgradeTable.updateTable();
  ValueMapper folderIdMapper=new DefaultPKMapper(pkUpgradeColumn.getValueMapper());
  UpgradeColumn upgradeParentFolderIdColumn=new SwapUpgradeColumnImpl("parentFolderId",folderIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(BookmarksFolderImpl.TABLE_NAME,BookmarksFolderImpl.TABLE_COLUMNS,upgradeParentFolderIdColumn);
  upgradeTable.updateTable();
  UpgradeColumn upgradeFolderIdColumn=new SwapUpgradeColumnImpl("folderId",folderIdMapper);
  pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  upgradeTable=new DefaultUpgradeTableImpl(BookmarksEntryImpl.TABLE_NAME,BookmarksEntryImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeFolderIdColumn);
  upgradeTable.updateTable();
  ValueMapper entryIdMapper=pkUpgradeColumn.getValueMapper();
  ResourceUtil.upgradePrimKey(folderIdMapper,BookmarksFolder.class.getName());
  ResourceUtil.upgradePrimKey(entryIdMapper,BookmarksEntry.class.getName());
  CounterLocalServiceUtil.reset(BookmarksFolder.class.getName());
  CounterLocalServiceUtil.reset(BookmarksEntry.class.getName());
}
