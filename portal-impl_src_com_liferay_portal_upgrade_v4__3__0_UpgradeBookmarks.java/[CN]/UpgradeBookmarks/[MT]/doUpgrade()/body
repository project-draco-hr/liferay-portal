{
  UpgradeColumn upgradeGroupIdColumn=new SwapUpgradeColumnImpl("groupId",AvailableMappersUtil.getGroupIdMapper());
  UpgradeColumn upgradeUserIdColumn=new SwapUpgradeColumnImpl("userId",new Integer(Types.VARCHAR),AvailableMappersUtil.getUserIdMapper());
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl("folderId",true);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(BookmarksFolderImpl.TABLE_NAME,BookmarksFolderImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeGroupIdColumn,upgradeUserIdColumn);
  upgradeTable.updateTable();
  ValueMapper folderIdMapper=new DefaultPKMapper(pkUpgradeColumn.getValueMapper());
  AvailableMappersUtil.setBookmarksFolderIdMapper(folderIdMapper);
  UpgradeColumn upgradeParentFolderIdColumn=new SwapUpgradeColumnImpl("parentFolderId",folderIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(BookmarksFolderImpl.TABLE_NAME,BookmarksFolderImpl.TABLE_COLUMNS,upgradeParentFolderIdColumn);
  upgradeTable.updateTable();
  UpgradeColumn upgradeFolderIdColumn=new SwapUpgradeColumnImpl("folderId",folderIdMapper);
  pkUpgradeColumn=new PKUpgradeColumnImpl("entryId",true);
  upgradeTable=new DefaultUpgradeTableImpl(BookmarksEntryImpl.TABLE_NAME,BookmarksEntryImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeFolderIdColumn,upgradeUserIdColumn);
  upgradeTable.updateTable();
  ValueMapper entryIdMapper=pkUpgradeColumn.getValueMapper();
  AvailableMappersUtil.setBookmarksEntryIdMapper(entryIdMapper);
  runSQL(_UPGRADE_SCHEMA);
}
