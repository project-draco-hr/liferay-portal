{
  Element rootElement=portletDataContext.getExportDataRootElement();
  List<Element> stagedModelGroupElements=new ArrayList<>();
  Class<?> stagedModelClass=getStagedModelClass();
  String stagedModelClassSimpleName=stagedModelClass.getSimpleName();
  stagedModelGroupElements.addAll(rootElement.elements(stagedModelClassSimpleName));
  for (  String dependentStagedModelClassSimpleName : dependentStagedModelsMap.keySet()) {
    stagedModelGroupElements.addAll(rootElement.elements(dependentStagedModelClassSimpleName));
  }
  for (  Element stagedModelGroupElement : stagedModelGroupElements) {
    String className=stagedModelGroupElement.getName();
    if (className.equals("missing-references")) {
      continue;
    }
    List<StagedModel> dependentStagedModels=dependentStagedModelsMap.get(className);
    if (dependentStagedModels == null) {
      dependentStagedModels=new ArrayList<>();
    }
 else {
      dependentStagedModels=ListUtil.copy(dependentStagedModels);
    }
    if (className.equals(stagedModelClassSimpleName)) {
      dependentStagedModels.add(stagedModel);
    }
    List<Element> elements=stagedModelGroupElement.elements();
    Assert.assertEquals(dependentStagedModels.size(),elements.size());
    for (    Element element : elements) {
      String path=element.attributeValue("path");
      Assert.assertNotNull(path);
      Iterator<StagedModel> iterator=dependentStagedModels.iterator();
      while (iterator.hasNext()) {
        StagedModel dependentStagedModel=iterator.next();
        String dependentStagedModelPath=ExportImportPathUtil.getModelPath(dependentStagedModel);
        if (path.equals(dependentStagedModelPath)) {
          iterator.remove();
        }
      }
    }
    Assert.assertTrue("There is more than one element exported with the same path",dependentStagedModels.isEmpty());
  }
}
