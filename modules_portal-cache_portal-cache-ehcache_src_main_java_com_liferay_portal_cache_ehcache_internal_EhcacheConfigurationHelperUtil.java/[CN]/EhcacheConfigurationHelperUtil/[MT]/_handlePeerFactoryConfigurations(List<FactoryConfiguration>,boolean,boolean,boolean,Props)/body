{
  if (factoryConfigurations.isEmpty()) {
    return;
  }
  if (!clusterAware || !clusterEnabled || clusterLinkReplicationEnabled) {
    factoryConfigurations.clear();
    return;
  }
  for (  FactoryConfiguration factoryConfiguration : factoryConfigurations) {
    Properties properties=null;
    factoryConfiguration.setClass(_parseFactoryClassName(factoryConfiguration.getFullyQualifiedClassPath(),props));
    String propertiesString=factoryConfiguration.getProperties();
    if (Validator.isNull(propertiesString)) {
      properties=new Properties();
    }
 else {
      properties=_parseProperties(propertiesString,factoryConfiguration.getPropertySeparator(),props);
    }
    properties.put(PropsKeys.CLUSTER_LINK_ENABLED,clusterEnabled);
    properties.put(PropsKeys.EHCACHE_CLUSTER_LINK_REPLICATION_ENABLED,clusterLinkReplicationEnabled);
    factoryConfiguration.setProperties(_getPropertiesString(properties,factoryConfiguration.getPropertySeparator()));
  }
}
