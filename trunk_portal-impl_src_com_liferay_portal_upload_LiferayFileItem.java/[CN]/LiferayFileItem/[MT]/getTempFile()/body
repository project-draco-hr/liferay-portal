{
  String tempFileName="upload_" + _getUniqueId();
  String extension=getFileNameExtension();
  if (extension != null) {
    tempFileName+="." + extension;
  }
  File tempFile=new File(_repository,tempFileName);
  if (!JavaProps.hasSunBug6291034()) {
    tempFile.deleteOnExit();
  }
  return tempFile;
}
