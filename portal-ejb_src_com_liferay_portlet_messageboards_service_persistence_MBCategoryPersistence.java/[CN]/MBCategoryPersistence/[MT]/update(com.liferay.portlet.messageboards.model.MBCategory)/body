{
  Session session=null;
  try {
    if (mbCategory.isNew() || mbCategory.isModified()) {
      session=openSession();
      if (mbCategory.isNew()) {
        MBCategoryHBM mbCategoryHBM=new MBCategoryHBM();
        mbCategoryHBM.setCategoryId(mbCategory.getCategoryId());
        mbCategoryHBM.setGroupId(mbCategory.getGroupId());
        mbCategoryHBM.setCompanyId(mbCategory.getCompanyId());
        mbCategoryHBM.setUserId(mbCategory.getUserId());
        mbCategoryHBM.setUserName(mbCategory.getUserName());
        mbCategoryHBM.setCreateDate(mbCategory.getCreateDate());
        mbCategoryHBM.setModifiedDate(mbCategory.getModifiedDate());
        mbCategoryHBM.setParentCategoryId(mbCategory.getParentCategoryId());
        mbCategoryHBM.setName(mbCategory.getName());
        mbCategoryHBM.setDescription(mbCategory.getDescription());
        session.save(mbCategoryHBM);
        session.flush();
      }
 else {
        MBCategoryHBM mbCategoryHBM=(MBCategoryHBM)session.get(MBCategoryHBM.class,mbCategory.getPrimaryKey());
        if (mbCategoryHBM != null) {
          mbCategoryHBM.setGroupId(mbCategory.getGroupId());
          mbCategoryHBM.setCompanyId(mbCategory.getCompanyId());
          mbCategoryHBM.setUserId(mbCategory.getUserId());
          mbCategoryHBM.setUserName(mbCategory.getUserName());
          mbCategoryHBM.setCreateDate(mbCategory.getCreateDate());
          mbCategoryHBM.setModifiedDate(mbCategory.getModifiedDate());
          mbCategoryHBM.setParentCategoryId(mbCategory.getParentCategoryId());
          mbCategoryHBM.setName(mbCategory.getName());
          mbCategoryHBM.setDescription(mbCategory.getDescription());
          session.flush();
        }
 else {
          mbCategoryHBM=new MBCategoryHBM();
          mbCategoryHBM.setCategoryId(mbCategory.getCategoryId());
          mbCategoryHBM.setGroupId(mbCategory.getGroupId());
          mbCategoryHBM.setCompanyId(mbCategory.getCompanyId());
          mbCategoryHBM.setUserId(mbCategory.getUserId());
          mbCategoryHBM.setUserName(mbCategory.getUserName());
          mbCategoryHBM.setCreateDate(mbCategory.getCreateDate());
          mbCategoryHBM.setModifiedDate(mbCategory.getModifiedDate());
          mbCategoryHBM.setParentCategoryId(mbCategory.getParentCategoryId());
          mbCategoryHBM.setName(mbCategory.getName());
          mbCategoryHBM.setDescription(mbCategory.getDescription());
          session.save(mbCategoryHBM);
          session.flush();
        }
      }
      mbCategory.setNew(false);
      mbCategory.setModified(false);
    }
    return mbCategory;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
