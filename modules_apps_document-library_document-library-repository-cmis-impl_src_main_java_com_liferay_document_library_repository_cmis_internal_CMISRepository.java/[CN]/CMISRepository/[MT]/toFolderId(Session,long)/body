{
  RepositoryEntry repositoryEntry=repositoryEntryLocalService.fetchRepositoryEntry(folderId);
  if (repositoryEntry != null) {
    return repositoryEntry.getMappedId();
  }
  DLFolder dlFolder=dlFolderLocalService.fetchFolder(folderId);
  if (dlFolder == null) {
    throw new NoSuchFolderException("No CMIS folder with {folderId=" + folderId + "}");
  }
 else   if (!dlFolder.isMountPoint()) {
    throw new RepositoryException("CMIS repository should not be used with {folderId=" + folderId + "}");
  }
  RepositoryInfo repositoryInfo=session.getRepositoryInfo();
  String rootFolderId=repositoryInfo.getRootFolderId();
  repositoryEntry=repositoryEntryLocalService.getRepositoryEntry(dlFolder.getUserId(),getGroupId(),getRepositoryId(),rootFolderId);
  return repositoryEntry.getMappedId();
}
