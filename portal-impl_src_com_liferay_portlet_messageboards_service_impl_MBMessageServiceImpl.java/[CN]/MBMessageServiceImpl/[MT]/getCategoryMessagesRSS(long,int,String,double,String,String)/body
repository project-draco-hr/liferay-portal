{
  MBCategory category=MBCategoryLocalServiceUtil.getCategory(categoryId);
  String name=category.getName();
  String description=category.getDescription();
  List messages=MBMessageLocalServiceUtil.getCategoryMessages(categoryId,0,max,new MessageCreateDateComparator(false));
  Iterator itr=messages.iterator();
  while (itr.hasNext()) {
    MBMessage message=(MBMessage)itr.next();
    if (!MBMessagePermission.contains(getPermissionChecker(),message,ActionKeys.VIEW)) {
      itr.remove();
    }
  }
  return exportToRSS(name,description,type,version,feedURL,entryURL,messages);
}
