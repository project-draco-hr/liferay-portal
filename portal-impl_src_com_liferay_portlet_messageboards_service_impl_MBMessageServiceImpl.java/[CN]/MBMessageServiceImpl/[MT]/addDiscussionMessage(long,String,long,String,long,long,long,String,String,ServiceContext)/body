{
  User user=getGuestOrUser();
  MBDiscussionPermission.check(getPermissionChecker(),user.getCompanyId(),serviceContext.getScopeGroupId(),permissionClassName,permissionClassPK,user.getUserId(),ActionKeys.ADD_DISCUSSION);
  return mbMessageLocalService.addDiscussionMessage(null,user.getUserId(),null,groupId,className,classPK,threadId,parentMessageId,subject,body,serviceContext);
}
