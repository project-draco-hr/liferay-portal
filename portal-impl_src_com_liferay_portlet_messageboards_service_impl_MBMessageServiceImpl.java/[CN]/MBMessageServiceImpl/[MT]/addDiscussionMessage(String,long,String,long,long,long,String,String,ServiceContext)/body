{
  User user=getGuestOrUser();
  MBDiscussionPermission.check(getPermissionChecker(),user.getCompanyId(),serviceContext.getScopeGroupId(),permissionClassName,permissionClassPK,user.getUserId(),ActionKeys.ADD_DISCUSSION);
  return mbMessageLocalService.addDiscussionMessage(user.getUserId(),null,className,classPK,threadId,parentMessageId,subject,body,serviceContext);
}
