{
  long userId=getGuestOrUserId();
  MBDiscussionPermission.check(getPermissionChecker(),CompanyThreadLocal.getCompanyId(),serviceContext.getScopeGroupId(),permissionClassName,permissionClassPK,userId,ActionKeys.ADD_DISCUSSION);
  return mbMessageLocalService.addDiscussionMessage(userId,null,className,classPK,threadId,parentMessageId,subject,body,serviceContext);
}
