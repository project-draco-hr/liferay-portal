{
  List messages=new ArrayList();
  Iterator itr=mbMessageLocalService.getCategoryMessages(categoryId,begin,end).iterator();
  while (itr.hasNext()) {
    MBMessage message=(MBMessage)itr.next();
    if (MBMessagePermission.contains(getPermissionChecker(),message,ActionKeys.VIEW)) {
      messages.add(message);
    }
  }
  return messages;
}
