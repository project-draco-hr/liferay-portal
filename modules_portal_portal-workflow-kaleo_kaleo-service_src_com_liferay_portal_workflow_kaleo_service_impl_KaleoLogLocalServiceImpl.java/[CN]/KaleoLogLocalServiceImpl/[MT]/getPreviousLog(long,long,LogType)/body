{
  List<KaleoLog> kaleoLogEntries=null;
  if (kaleoNodeId > 0) {
    kaleoLogEntries=kaleoLogPersistence.findByKCN_KCPK_KITI_T(KaleoNode.class.getName(),kaleoNodeId,kaleoInstanceTokenId,logType.name());
  }
 else {
    kaleoLogEntries=kaleoLogPersistence.findByKITI_T(kaleoInstanceTokenId,logType.name());
  }
  if (!kaleoLogEntries.isEmpty()) {
    return kaleoLogEntries.get(0);
  }
  throw new NoSuchLogException();
}
