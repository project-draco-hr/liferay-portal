{
  dlFileEntryPersistence.remove(fileEntry);
  resourceLocalService.deleteResource(fileEntry.getCompanyId(),DLFileEntry.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,fileEntry.getFileEntryId());
  webDAVPropsLocalService.deleteWebDAVProps(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  workflowInstanceLinkLocalService.deleteWorkflowInstanceLinks(fileEntry.getCompanyId(),fileEntry.getGroupId(),DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  dlFileRankLocalService.deleteFileRanks(fileEntry.getFolderId(),fileEntry.getName());
  dlFileShortcutLocalService.deleteFileShortcuts(fileEntry.getGroupId(),fileEntry.getFolderId(),fileEntry.getName());
  List<DLFileVersion> fileVersions=dlFileVersionPersistence.findByG_F_N(fileEntry.getGroupId(),fileEntry.getFolderId(),fileEntry.getName());
  for (  DLFileVersion fileVersion : fileVersions) {
    dlFileVersionPersistence.remove(fileVersion);
  }
  assetEntryLocalService.deleteEntry(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  expandoValueLocalService.deleteValues(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  String lockId=DLUtil.getLockId(fileEntry.getGroupId(),fileEntry.getFolderId(),fileEntry.getName());
  lockLocalService.unlock(DLFileEntry.class.getName(),lockId);
  mbMessageLocalService.deleteDiscussionMessages(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  ratingsStatsLocalService.deleteStats(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  socialActivityLocalService.deleteActivities(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  try {
    dlLocalService.deleteFile(fileEntry.getCompanyId(),PortletKeys.DOCUMENT_LIBRARY,fileEntry.getRepositoryId(),fileEntry.getName());
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
  }
}
