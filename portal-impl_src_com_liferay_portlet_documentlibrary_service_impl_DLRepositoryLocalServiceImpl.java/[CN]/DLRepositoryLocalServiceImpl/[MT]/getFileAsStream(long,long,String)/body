{
  DLFileEntry dlFileEntry=dlFileEntryPersistence.findByPrimaryKey(fileEntryId);
  if (PropsValues.DL_FILE_ENTRY_READ_COUNT_ENABLED) {
    dlFileEntry.setReadCount(dlFileEntry.getReadCount() + 1);
    dlFileEntryPersistence.update(dlFileEntry,false);
  }
  dlAppHelperLocalService.getFileAsStream(userId,new LiferayFileEntry(dlFileEntry));
  return dlLocalService.getFileAsStream(dlFileEntry.getCompanyId(),dlFileEntry.getRepositoryId(),dlFileEntry.getName(),version);
}
