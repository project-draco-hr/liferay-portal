{
  DLFileEntry fileEntry=dlFileEntryPersistence.findByPrimaryKey(fileEntryId);
  if (PropsValues.DL_FILE_ENTRY_READ_COUNT_ENABLED) {
    fileEntry.setReadCount(fileEntry.getReadCount() + 1);
    dlFileEntryPersistence.update(fileEntry,false);
  }
  dlAppHelperLocalService.getFileAsStream(userId,fileEntry);
  return dlLocalService.getFileAsStream(fileEntry.getCompanyId(),fileEntry.getRepositoryId(),fileEntry.getName(),version);
}
