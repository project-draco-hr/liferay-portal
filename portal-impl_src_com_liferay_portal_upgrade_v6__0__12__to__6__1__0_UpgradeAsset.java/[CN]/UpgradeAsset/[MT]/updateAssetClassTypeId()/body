{
  try (LoggingTimer loggingTimer=new LoggingTimer()){
    long classNameId=PortalUtil.getClassNameId("com.liferay.portlet.journal.model.JournalArticle");
    try (PreparedStatement ps=connection.prepareStatement("select resourcePrimKey, structureId from JournalArticle " + "where structureId != ''");ResultSet rs=ps.executeQuery()){
      while (rs.next()) {
        long resourcePrimKey=rs.getLong("resourcePrimKey");
        String structureId=rs.getString("structureId");
        long journalStructureId=getJournalStructureId(structureId);
        StringBundler sb=new StringBundler(6);
        sb.append("update AssetEntry set classTypeId = ");
        sb.append(journalStructureId);
        sb.append(" where classNameId = ");
        sb.append(classNameId);
        sb.append(" and classPK = ");
        sb.append(resourcePrimKey);
        runSQL(sb.toString());
      }
    }
   }
 }
