{
  Properties properties=new Properties();
  String protocol=account.getProtocol();
  int port=defaultPort;
  if (account.isUseSSL()) {
    port=secutiryPort;
  }
  if (account.getServerPort() > 0) {
    port=account.getServerPort();
  }
  properties.put("mail." + protocol + ".host",account.getServerName());
  properties.put("mail." + protocol + ".port",port);
  properties.put("mail." + protocol + ".socketFactory.class","javax.net.ssl.SSLSocketFactory");
  properties.put("mail." + protocol + ".socketFactory.fallback","false");
  properties.put("mail." + protocol + ".socketFactory.port",port);
  return properties;
}
