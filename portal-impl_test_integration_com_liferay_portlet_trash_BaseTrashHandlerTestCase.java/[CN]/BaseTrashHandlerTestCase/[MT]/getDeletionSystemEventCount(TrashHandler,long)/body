{
  final long systemEventClassNameId=PortalUtil.getClassNameId(trashHandler.getSystemEventClassName());
  ActionableDynamicQuery actionableDynamicQuery=new SystemEventActionableDynamicQuery(){
    @Override protected void addCriteria(    DynamicQuery dynamicQuery){
      Property classNameIdProperty=PropertyFactoryUtil.forName("classNameId");
      dynamicQuery.add(classNameIdProperty.eq(systemEventClassNameId));
      if (systemEventSetKey > 0) {
        Property systemEventSetKeyProperty=PropertyFactoryUtil.forName("systemEventSetKey");
        dynamicQuery.add(systemEventSetKeyProperty.eq(systemEventSetKey));
      }
      Property typeProperty=PropertyFactoryUtil.forName("type");
      dynamicQuery.add(typeProperty.eq(SystemEventConstants.TYPE_DELETE));
    }
    @Override protected void performAction(    Object object) throws PortalException, SystemException {
    }
  }
;
  actionableDynamicQuery.setGroupId(group.getGroupId());
  return actionableDynamicQuery.performCount();
}
