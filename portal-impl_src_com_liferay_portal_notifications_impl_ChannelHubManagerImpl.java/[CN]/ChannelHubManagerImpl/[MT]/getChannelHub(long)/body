{
  Lock readLock=_channelHubsRWLock.readLock();
  try {
    readLock.lock();
    ChannelHub hub=_channelHubs.get(companyId);
    if (hub == null) {
      throw new UnknownChannelHubException(companyId);
    }
    return hub;
  }
  finally {
    readLock.unlock();
  }
}
