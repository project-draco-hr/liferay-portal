{
synchronized (this) {
    if (_channelHubs.containsKey(companyId)) {
      throw new DuplicateChannelHubException(companyId);
    }
    ChannelHub hub=_channelHubPrototype.clone(companyId);
    _channelHubs.put(companyId,hub);
    return hub;
  }
}
