{
  FacesContext facesContext=FacesContext.getCurrentInstance();
  _portletPreferences=JSFPortletUtil.getPortletPreferences(facesContext);
  _preferences=new HashMap<String,String>();
  Enumeration<String> enu=_portletPreferences.getNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    String value=_portletPreferences.getValue(name,null);
    _preferences.put(name,value);
    if (_log.isDebugEnabled()) {
      _log.debug("{name=" + name + ", value="+ value+ "}");
    }
  }
}
