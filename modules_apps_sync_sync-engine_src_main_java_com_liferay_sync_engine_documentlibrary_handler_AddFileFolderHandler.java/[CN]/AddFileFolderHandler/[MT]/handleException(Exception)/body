{
  if (e instanceof SocketException) {
    String message=e.getMessage();
    if (message.equals("Broken pipe")) {
      if (_logger.isDebugEnabled()) {
        _logger.debug("Handling exception {}",e.toString());
      }
      SyncFile syncFile=getLocalSyncFile();
      if (syncFile == null) {
        return;
      }
      syncFile.setState(SyncFile.STATE_ERROR);
      syncFile.setUiEvent(SyncFile.UI_EVENT_UPLOAD_EXCEPTION);
      SyncFileService.update(syncFile);
      return;
    }
  }
  super.handleException(e);
}
