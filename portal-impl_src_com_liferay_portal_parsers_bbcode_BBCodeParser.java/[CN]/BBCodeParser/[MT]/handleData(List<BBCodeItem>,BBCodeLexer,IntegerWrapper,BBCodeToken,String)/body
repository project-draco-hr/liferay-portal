{
  int length=data.length();
  int lastIndex=length;
  if (bbCodeToken != null) {
    length=bbCodeToken.getStart();
    lastIndex=bbCodeLexer.getLastIndex();
  }
  if (length > marker.getValue()) {
    BBCodeItem bbCodeItem=new BBCodeItem(TYPE_DATA,null,data.substring(marker.getValue(),length));
    bbCodeItems.add(bbCodeItem);
  }
  marker.setValue(lastIndex);
}
