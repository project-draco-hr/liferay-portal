{
  try {
    String virtualHostname=PortalUtil.getHost(request);
    LayoutSet layoutSet=null;
    try {
      layoutSet=LayoutSetLocalServiceUtil.getLayoutSet(virtualHostname);
    }
 catch (    LayoutSetVirtualHostException lsvhe) {
    }
catch (    NoSuchLayoutSetException nslse) {
    }
    String robots=RobotsUtil.getRobots(layoutSet);
    ServletResponseUtil.sendFile(request,response,null,robots.getBytes(StringPool.UTF8),ContentTypes.TEXT_PLAIN_UTF8);
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
    PortalUtil.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,e,request,response);
  }
  return null;
}
