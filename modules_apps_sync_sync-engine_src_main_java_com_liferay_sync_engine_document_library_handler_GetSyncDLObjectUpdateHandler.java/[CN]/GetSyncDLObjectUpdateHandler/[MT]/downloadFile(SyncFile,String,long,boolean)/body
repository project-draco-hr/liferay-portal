{
  String checksum=syncFile.getChecksum();
  if (!checksum.isEmpty() && (syncFile.getSize() > 0)) {
    SyncFile sourceSyncFile=SyncFileService.fetchSyncFile(checksum,SyncFile.STATE_SYNCED);
    if ((sourceSyncFile != null) && FileUtil.exists(Paths.get(sourceSyncFile.getFilePathName()))) {
      copyFile(sourceSyncFile,syncFile);
      return;
    }
  }
  String targetVersion=syncFile.getVersion();
  if (patch && !sourceVersion.equals("PWC") && !targetVersion.equals("PWC")&& (Double.valueOf(sourceVersion) < Double.valueOf(targetVersion))) {
    FileEventUtil.downloadPatch(sourceVersionId,getSyncAccountId(),syncFile,syncFile.getVersionId());
  }
 else {
    FileEventUtil.downloadFile(getSyncAccountId(),syncFile);
  }
}
