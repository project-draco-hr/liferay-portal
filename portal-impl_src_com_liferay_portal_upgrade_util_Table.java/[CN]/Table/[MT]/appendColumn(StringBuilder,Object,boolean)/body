{
  if (value == null) {
    throw new UpgradeException("Nulls should never be inserted into the database. " + "Attempted to append column to " + sb.toString() + ".");
  }
 else   if (value instanceof Clob || value instanceof String) {
    value=StringUtil.replace((String)value,SAFE_TABLE_CHARS[0],SAFE_TABLE_CHARS[1]);
    sb.append(value);
  }
 else   if (value instanceof Date) {
    DateFormat df=DateUtil.getISOFormat();
    sb.append(df.format(value));
  }
 else {
    sb.append(value);
  }
  sb.append(StringPool.COMMA);
  if (last) {
    sb.append(StringPool.NEW_LINE);
  }
}
