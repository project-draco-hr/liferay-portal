{
  List<KBArticle> curKBArticles=null;
  if (status == WorkflowConstants.STATUS_ANY) {
    curKBArticles=kbArticlePersistence.findByP_L(resourcePrimKey,true,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
 else   if (status == WorkflowConstants.STATUS_APPROVED) {
    curKBArticles=kbArticlePersistence.findByP_M(resourcePrimKey,true,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
 else {
    curKBArticles=kbArticlePersistence.findByP_S(resourcePrimKey,status,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
  for (  KBArticle curKBArticle : curKBArticles) {
    kbArticles.add(curKBArticle);
    _doGetAllDescendantKBArticles(kbArticles,curKBArticle.getResourcePrimKey(),status,orderByComparator);
  }
}
