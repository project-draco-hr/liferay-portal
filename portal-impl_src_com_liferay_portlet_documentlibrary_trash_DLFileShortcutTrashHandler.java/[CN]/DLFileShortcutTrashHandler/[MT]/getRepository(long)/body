{
  DLFileShortcut dlFileShortcut=getDLFileShortcut(classPK);
  Repository repository=RepositoryServiceUtil.getRepositoryImpl(0,dlFileShortcut.getToFileEntryId(),0);
  if (!(repository instanceof LiferayRepository)) {
    throw new InvalidRepositoryException("Repository " + repository.getRepositoryId() + " does not support trash operations");
  }
  return repository;
}
