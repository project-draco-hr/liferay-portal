{
  SAXReader saxReader=new SAXReader();
  for (int i=0; i < _XML_REPLACEMENTS.length; i++) {
    xml=xml.replace(_XML_REPLACEMENTS[i][0],_XML_REPLACEMENTS[i][1]);
  }
  Document document=null;
  try {
    document=saxReader.read(new StringReader(xml));
  }
 catch (  DocumentException de) {
    DocumentException newDE=new DocumentException(de.getMessage() + "\n" + xml);
    newDE.setStackTrace(de.getStackTrace());
    throw newDE;
  }
  String formattedXML=JenkinsResultsParserUtil.format(document.getRootElement());
  for (int i=0; i < _XML_REPLACEMENTS.length; i++) {
    formattedXML=formattedXML.replace(_XML_REPLACEMENTS[i][1],_XML_REPLACEMENTS[i][0]);
  }
  return formattedXML;
}
