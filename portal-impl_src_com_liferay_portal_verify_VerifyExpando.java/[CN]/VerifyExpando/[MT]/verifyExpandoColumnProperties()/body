{
  List<ExpandoColumn> expandoColumns=ExpandoColumnLocalServiceUtil.getExpandoColumns(QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  ExpandoColumn column : expandoColumns) {
    UnicodeProperties properties=column.getTypeSettingsProperties();
    String indexable=properties.getProperty("indexable");
    int type=column.getType();
    if (Validator.isNotNull(indexable)) {
      if (GetterUtil.getBoolean(indexable)) {
        if ((type == ExpandoColumnConstants.STRING) || (type == ExpandoColumnConstants.STRING_ARRAY)) {
          properties.setProperty(ExpandoColumnConstants.INDEX_TYPE,String.valueOf(ExpandoColumnConstants.INDEX_TYPE_TEXT));
        }
 else {
          properties.setProperty(ExpandoColumnConstants.INDEX_TYPE,String.valueOf(ExpandoColumnConstants.INDEX_TYPE_KEYWORD));
        }
      }
 else {
        properties.setProperty(ExpandoColumnConstants.INDEX_TYPE,String.valueOf(ExpandoColumnConstants.INDEX_TYPE_NONE));
      }
      properties.remove(indexable);
      ExpandoColumnLocalServiceUtil.updateTypeSettings(column.getColumnId(),properties.toString());
    }
  }
}
