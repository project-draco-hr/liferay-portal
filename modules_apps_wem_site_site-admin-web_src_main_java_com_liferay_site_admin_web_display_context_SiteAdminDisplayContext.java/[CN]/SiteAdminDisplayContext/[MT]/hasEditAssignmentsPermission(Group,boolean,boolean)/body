{
  ThemeDisplay themeDisplay=(ThemeDisplay)_request.getAttribute(WebKeys.THEME_DISPLAY);
  User user=themeDisplay.getUser();
  if (!group.isCompany() && !(organizationUser || userGroupUser) && ((group.getType() == GroupConstants.TYPE_SITE_OPEN) || (group.getType() == GroupConstants.TYPE_SITE_RESTRICTED))&& GroupLocalServiceUtil.hasUserGroup(user.getUserId(),group.getGroupId())&& !SiteMembershipPolicyUtil.isMembershipRequired(user.getUserId(),group.getGroupId())) {
    return true;
  }
  return false;
}
