{
  String fileNameExtension=FileUtil.getExtension(fileName);
  String sourceFileNameExtension=FileUtil.getExtension(sourceFileName);
  validate(fileName,true);
  if (!fileNameExtension.equalsIgnoreCase(sourceFileNameExtension)) {
    throw new SourceFileNameException(sourceFileName);
  }
  try {
    if ((PrefsPropsUtil.getLong(PropsKeys.DL_FILE_MAX_SIZE) > 0) && ((is == null) || (is.available() > PrefsPropsUtil.getLong(PropsKeys.DL_FILE_MAX_SIZE)))) {
      throw new FileSizeException(fileName);
    }
  }
 catch (  IOException ioe) {
    throw new FileSizeException(ioe.getMessage());
  }
}
