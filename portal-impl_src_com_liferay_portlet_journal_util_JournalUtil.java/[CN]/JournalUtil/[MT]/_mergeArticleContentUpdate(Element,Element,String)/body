{
  Element newContentElement=newElement.elements("dynamic-content").get(0);
  String newLanguageId=newContentElement.attributeValue("language-id");
  String newValue=newContentElement.getText();
  List<Element> curContentElements=curElement.elements("dynamic-content");
  if (Validator.isNull(newLanguageId)) {
    for (    Element curContentElement : curContentElements) {
      curContentElement.detach();
    }
    Element curContentElement=SAXReaderUtil.createElement("dynamic-content");
    if (newContentElement.element("option") != null) {
      List<Element> newElementOptions=newContentElement.elements("option");
      for (      Element newElementOption : newElementOptions) {
        Element curElementOption=SAXReaderUtil.createElement("option");
        curElementOption.addCDATA(newElementOption.getText());
        curContentElement.add(curElementOption);
      }
    }
 else {
      curContentElement.addCDATA(newValue);
    }
    curElement.add(curContentElement);
  }
 else {
    boolean alreadyExists=false;
    for (    Element curContentElement : curContentElements) {
      String curLanguageId=curContentElement.attributeValue("language-id");
      if (newLanguageId.equals(curLanguageId)) {
        alreadyExists=true;
        curContentElement.clearContent();
        curContentElement.addCDATA(newValue);
        break;
      }
    }
    if (!alreadyExists) {
      Element curContentElement=curContentElements.get(0);
      String curLanguageId=curContentElement.attributeValue("language-id");
      if (Validator.isNull(curLanguageId)) {
        curContentElement.detach();
      }
      curElement.add(newContentElement.createCopy());
    }
  }
}
