{
  try {
    SAXReader reader=new SAXReader();
    Document curContentDoc=reader.read(new StringReader(curContent));
    Document newContentDoc=reader.read(new StringReader(newContent));
    Document xsdDoc=reader.read(new StringReader(xsd));
    Element curContentRoot=curContentDoc.getRootElement();
    Element newContentRoot=newContentDoc.getRootElement();
    Element xsdRoot=xsdDoc.getRootElement();
    curContentRoot.addAttribute("default-locale",newContentRoot.attributeValue("default-locale"));
    curContentRoot.addAttribute("available-locales",newContentRoot.attributeValue("available-locales"));
    Stack<String> path=new Stack<String>();
    path.push(xsdRoot.getName());
    _mergeLocaleContent(path,curContentDoc,newContentDoc,xsdRoot,LocaleUtil.toLanguageId(LocaleUtil.getDefault()));
    curContent=formatXML(curContentDoc);
  }
 catch (  Exception e) {
    _log.error(e);
  }
  return curContent;
}
