{
  Layout layout=themeDisplay.getLayout();
  if (!LayoutPermissionUtil.containsWithoutViewableGroup(themeDisplay.getPermissionChecker(),layout,false,ActionKeys.UPDATE)) {
    return false;
  }
  Group group=layout.getGroup();
  if (!SitesUtil.isLayoutUpdateable(layout) || (layout.isLayoutPrototypeLinkActive() && !group.hasStagingGroup())) {
    return true;
  }
  return false;
}
