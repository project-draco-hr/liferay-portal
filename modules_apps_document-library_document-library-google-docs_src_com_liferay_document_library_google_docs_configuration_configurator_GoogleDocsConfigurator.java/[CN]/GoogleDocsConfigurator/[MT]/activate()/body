{
  List<Company> companies=_companyLocalService.getCompanies();
  for (  Company company : companies) {
    GoogleDocsDLFileEntryTypeHelper googleDocsDLFileEntryTypeHelper=new GoogleDocsDLFileEntryTypeHelper(company,_classNameLocalService,_ddmStructureLocalService,_dlFileEntryTypeLocalService,_userLocalService);
    LegacyGoogleDocsMigration legacyGoogleDocsMigration=new LegacyGoogleDocsMigration(company,_dlFileEntryTypeLocalService,_dlFileEntryLocalService,googleDocsDLFileEntryTypeHelper);
    if (legacyGoogleDocsMigration.isMigrationNeeded()) {
      legacyGoogleDocsMigration.migrate();
    }
 else {
      googleDocsDLFileEntryTypeHelper.addGoogleDocsDLFileEntryType();
    }
  }
}
