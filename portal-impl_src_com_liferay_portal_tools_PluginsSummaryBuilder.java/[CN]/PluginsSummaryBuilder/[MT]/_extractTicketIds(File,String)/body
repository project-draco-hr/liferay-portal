{
  Set<String> ticketIds=new TreeSet<String>(new NaturalOrderStringComparator());
  Runtime runtime=Runtime.getRuntime();
  String command="git log " + range + " .";
  if (OSDetector.isWindows()) {
    command="cmd /c " + command;
  }
  Process process=runtime.exec(command,null,pluginDir);
  String content=StringUtil.read(process.getInputStream());
  content=StringUtil.replace(content,"\n"," ");
  for (  String ticketIdPrefix : _TICKET_ID_PREFIXES) {
    int x=0;
    while (true) {
      x=content.indexOf(ticketIdPrefix + "-",x);
      if (x == -1) {
        break;
      }
      int y=x + ticketIdPrefix.length() + 1;
      while (true) {
        if ((y + 1) > content.length()) {
          break;
        }
        if (Character.isDigit(content.charAt(y))) {
          y++;
        }
 else {
          break;
        }
      }
      String ticketId=content.substring(x,y);
      ticketIds.add(ticketId);
      x=y;
    }
  }
  return ticketIds;
}
