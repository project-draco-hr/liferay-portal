{
  StringBundler sb=new StringBundler();
  sb.append("<plugins-summary>\n");
  DirectoryScanner directoryScanner=new DirectoryScanner();
  directoryScanner.setBasedir(_pluginsDir);
  directoryScanner.setExcludes(new String[]{"**\\tmp\\**","**\\tools\\**"});
  directoryScanner.setIncludes(new String[]{"**\\liferay-plugin-package.properties","**\\liferay-plugin-package.xml"});
  directoryScanner.scan();
  String[] fileNames=directoryScanner.getIncludedFiles();
  Arrays.sort(fileNames);
  for (  String fileName : fileNames) {
    fileName=StringUtil.replace(fileName,StringPool.BACK_SLASH,StringPool.SLASH);
    _createPluginSummary(fileName,sb);
  }
  for (  String author : _distinctAuthors) {
    sb.append("\t<author>");
    sb.append(author);
    sb.append("</author>\n");
  }
  for (  String license : _distinctLicenses) {
    sb.append("\t<license>");
    sb.append(license);
    sb.append("</license>\n");
  }
  sb.append("</plugins-summary>");
  FileUtil.write(_pluginsDir + "/summary.xml",sb.toString());
}
