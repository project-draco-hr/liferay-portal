{
  String url=StringPool.BLANK;
  try {
    Folder folder=ActionUtil.getFolder(portletRequest);
    if (folder != null) {
      url=PermissionsURLTag.doTag(null,DLFolderConstants.getClassName(),HtmlUtil.unescape(folder.getName()),null,String.valueOf(folder.getFolderId()),LiferayWindowState.POP_UP.toString(),null,themeDisplay.getRequest());
    }
 else {
      url=PermissionsURLTag.doTag(null,"com.liferay.portlet.documentlibrary",HtmlUtil.unescape(themeDisplay.getScopeGroupName()),null,String.valueOf(themeDisplay.getScopeGroupId()),LiferayWindowState.POP_UP.toString(),null,themeDisplay.getRequest());
    }
  }
 catch (  Exception e) {
  }
  return url;
}
