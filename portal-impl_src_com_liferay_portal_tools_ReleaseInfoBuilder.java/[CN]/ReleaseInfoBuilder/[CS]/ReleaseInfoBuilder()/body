{
  try {
    Properties releaseProps=_fileUtil.toProperties("../release.properties");
    String version=releaseProps.getProperty("lp.version");
    File file=new File("../portal-service/src/com/liferay/portal/kernel/util/" + "ReleaseInfo.java");
    String content=_fileUtil.read(file);
    int x=content.indexOf("String _VERSION = \"");
    x=content.indexOf("\"",x) + 1;
    int y=content.indexOf("\"",x);
    content=content.substring(0,x) + version + content.substring(y);
    x=content.indexOf("String _BUILD = \"");
    x=content.indexOf("\"",x) + 1;
    y=content.indexOf("\"",x);
    int build=GetterUtil.getInteger(content.substring(x,y)) + 1;
    content=content.substring(0,x) + build + content.substring(y);
    DateFormat dateFormat=DateFormat.getDateInstance(DateFormat.LONG);
    String date=dateFormat.format(new Date());
    x=content.indexOf("String _DATE = \"");
    x=content.indexOf("\"",x) + 1;
    y=content.indexOf("\"",x);
    content=content.substring(0,x) + date + content.substring(y);
    _fileUtil.write(file,content);
    file=new File("../sql/portal-data-release.sql");
    content=_fileUtil.read(file);
    x=content.indexOf("insert into Release_");
    y=content.indexOf(", FALSE);",x);
    x=content.lastIndexOf(" ",y - 1) + 1;
    content=content.substring(0,x) + build + content.substring(y);
    _fileUtil.write(file,content);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
