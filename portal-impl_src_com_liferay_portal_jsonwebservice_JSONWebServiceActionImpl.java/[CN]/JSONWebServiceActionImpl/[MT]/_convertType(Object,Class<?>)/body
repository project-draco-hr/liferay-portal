{
  Object destination=null;
  try {
    destination=TypeConverterManager.convertType(value,targetType);
  }
 catch (  TypeConversionException tce) {
    if (value instanceof Map) {
      try {
        if (targetType.isInterface()) {
          String className=targetType.getName();
          className=StringUtil.replace(className,".model.",".model.impl.");
          className+="Impl";
          ClassLoader classLoader=this.getClass().getClassLoader();
          try {
            targetType=classLoader.loadClass(className);
          }
 catch (          ClassNotFoundException e) {
          }
        }
        destination=targetType.newInstance();
        BeanCopy.beans(value,destination).copy();
      }
 catch (      Exception e) {
        throw new TypeConversionException(e);
      }
    }
    throw tce;
  }
  return destination;
}
