{
  if (parameterType.isArray()) {
    Class<?> valueType=value.getClass();
    List<?> list=null;
    if (value instanceof List) {
      list=(List)value;
    }
 else {
      String stringValue=value.toString();
      stringValue=stringValue.trim();
      if (!stringValue.startsWith(StringPool.OPEN_BRACKET)) {
        stringValue=StringPool.OPEN_BRACKET.concat(stringValue).concat(StringPool.CLOSE_BRACKET);
      }
      list=JSONFactoryUtil.looseDeserializeSafe(stringValue,ArrayList.class);
    }
    return _convertListToArray(list,parameterType.getComponentType());
  }
  if (parameterType.equals(List.class)) {
    List<?> list=null;
    Class<?> valueType=value.getClass();
    if (value instanceof List) {
      list=(List<?>)value;
    }
 else {
      String stringValue=value.toString();
      stringValue=stringValue.trim();
      if (!stringValue.startsWith(StringPool.OPEN_BRACKET)) {
        stringValue=StringPool.OPEN_BRACKET.concat(stringValue).concat(StringPool.CLOSE_BRACKET);
      }
      list=JSONFactoryUtil.looseDeserializeSafe(stringValue,ArrayList.class);
    }
    list=_generifyList(list,genericParameterTypes);
    return list;
  }
  if (parameterType.equals(Map.class)) {
    String stringValue=value.toString();
    stringValue=stringValue.trim();
    Map<?,?> map=JSONFactoryUtil.looseDeserializeSafe(stringValue,HashMap.class);
    map=_generifyMap(map,genericParameterTypes);
    return map;
  }
  if (parameterType.equals(Calendar.class)) {
    Calendar calendar=Calendar.getInstance();
    calendar.setLenient(false);
    String stringValue=value.toString();
    stringValue=stringValue.trim();
    long timeInMillis=GetterUtil.getLong(stringValue);
    calendar.setTimeInMillis(timeInMillis);
    return calendar;
  }
  if (parameterType.equals(Locale.class)) {
    String stringValue=value.toString();
    stringValue=stringValue.trim();
    return LocaleUtil.fromLanguageId(stringValue);
  }
  Object parameterValue=null;
  try {
    parameterValue=TypeConverterManager.convertType(value,parameterType);
  }
 catch (  ClassCastException cce) {
    String stringValue=value.toString();
    stringValue=stringValue.trim();
    if (!stringValue.startsWith(StringPool.OPEN_CURLY_BRACE)) {
      throw cce;
    }
    parameterValue=JSONFactoryUtil.looseDeserializeSafe(stringValue,parameterType);
  }
  return parameterValue;
}
