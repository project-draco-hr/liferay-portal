{
  PortalCacheManager<? extends Serializable,?> portalCacheManager=PortalCacheProvider.getPortalCacheManager(portalCacheClusterEvent.getPortalCacheManagerName());
  PortalCache<Serializable,Serializable> portalCache=(PortalCache<Serializable,Serializable>)portalCacheManager.getCache(portalCacheClusterEvent.getPortalCacheName());
  if (portalCache == null) {
    return;
  }
  PortalCacheClusterEventType portalCacheClusterEventType=portalCacheClusterEvent.getEventType();
  boolean remoteInvoke=AggregatedCacheListener.isRemoteInvoke();
  AggregatedCacheListener.setRemoteInvoke(true);
  try {
    if (portalCacheClusterEventType.equals(PortalCacheClusterEventType.REMOVE_ALL)) {
      portalCache.removeAll();
    }
 else     if (portalCacheClusterEventType.equals(PortalCacheClusterEventType.PUT) || portalCacheClusterEventType.equals(PortalCacheClusterEventType.UPDATE)) {
      Serializable key=portalCacheClusterEvent.getElementKey();
      Serializable value=portalCacheClusterEvent.getElementValue();
      if (value == null) {
        portalCache.remove(key);
      }
 else {
        portalCache.put(key,value,portalCacheClusterEvent.getTimeToLive());
      }
    }
 else {
      portalCache.remove(portalCacheClusterEvent.getElementKey());
    }
  }
  finally {
    AggregatedCacheListener.setRemoteInvoke(remoteInvoke);
  }
}
