{
  if (inputBufferSize < 4) {
    throw new IllegalArgumentException("The minimum input buffer size is 4, current value:" + inputBufferSize);
  }
  if (outputBufferSize <= 0) {
    throw new IllegalArgumentException("Output buffer size has to be a positive number, current value:" + outputBufferSize);
  }
  _writer=writer;
  _charsetName=charsetName;
  _charsetDecoder=CharsetDecoderUtil.getCharsetDecoder(charsetName);
  _inputBuffer=ByteBuffer.allocate(inputBufferSize);
  _outputBuffer=CharBuffer.allocate(outputBufferSize);
  _autoFlush=autoFlush;
}
