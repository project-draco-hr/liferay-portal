{
  List<JournalArticle> journalArticles=JournalArticleServiceUtil.getArticlesByLayoutUuid(layout.getGroupId(),layout.getUuid());
  if (journalArticles.isEmpty()) {
    return;
  }
  List<String> processedArticleIds=new ArrayList<String>();
  for (  JournalArticle journalArticle : journalArticles) {
    if (processedArticleIds.contains(journalArticle.getArticleId()) || (journalArticle.getStatus() != WorkflowConstants.STATUS_APPROVED)) {
      continue;
    }
    String portalURL=PortalUtil.getPortalURL(layout,themeDisplay);
    String groupFriendlyURL=PortalUtil.getGroupFriendlyURL(GroupLocalServiceUtil.getGroup(journalArticle.getGroupId()),false,themeDisplay);
    String articleURL=portalURL.concat(groupFriendlyURL).concat(JournalArticleConstants.CANONICAL_URL_SEPARATOR).concat(journalArticle.getUrlTitle());
    Element url=element.addElement("url");
    url.addElement("loc").addText(encodeXML(articleURL));
    processedArticleIds.add(journalArticle.getArticleId());
  }
}
