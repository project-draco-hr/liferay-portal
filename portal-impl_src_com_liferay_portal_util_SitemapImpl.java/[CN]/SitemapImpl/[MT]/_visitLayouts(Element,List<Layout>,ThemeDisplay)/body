{
  for (  Layout layout : layouts) {
    UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
    if (PortalUtil.isLayoutSitemapable(layout) && !layout.isHidden() && GetterUtil.getBoolean(typeSettingsProperties.getProperty("sitemap-include"),true)) {
      Element url=element.addElement("url");
      String layoutFullURL=PortalUtil.getLayoutFullURL(layout,themeDisplay);
      url.addElement("loc").addText(encodeXML(layoutFullURL));
      String changefreq=typeSettingsProperties.getProperty("sitemap-changefreq");
      if (Validator.isNotNull(changefreq)) {
        url.addElement("changefreq").addText(changefreq);
      }
      String priority=typeSettingsProperties.getProperty("sitemap-priority");
      if (Validator.isNotNull(priority)) {
        url.addElement("priority").addText(priority);
      }
      _visitArticles(element,layout,themeDisplay);
      List<Layout> children=layout.getChildren();
      _visitLayouts(element,children,themeDisplay);
    }
  }
}
