{
  try {
    HttpServletRequest request=commandArgument.getHttpServletRequest();
    long resourcePK=ParamUtil.getLong(request,"wikiPageResourcePrimKey");
    WikiPage page=WikiPageLocalServiceUtil.getPage(resourcePK);
    String title=page.getTitle();
    long nodeId=page.getNodeId();
    List<ObjectValuePair<String,File>> files=new ArrayList<ObjectValuePair<String,File>>();
    ObjectValuePair<String,File> ovp=new ObjectValuePair<String,File>(fileName,file);
    files.add(ovp);
    WikiPageServiceUtil.addPageAttachments(nodeId,title,files);
  }
 catch (  Exception e) {
    throw new FCKException(e);
  }
  return "0";
}
