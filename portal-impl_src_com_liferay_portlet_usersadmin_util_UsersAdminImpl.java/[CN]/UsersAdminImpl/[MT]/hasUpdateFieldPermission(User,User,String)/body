{
  if (curUser != null) {
    for (    String roleName : PropsValues.FIELD_ALL_USERS_EDITABLE_ROLES) {
      Role role=RoleLocalServiceUtil.fetchRole(curUser.getCompanyId(),roleName);
      if ((role != null) && RoleLocalServiceUtil.hasUserRole(curUser.getUserId(),role.getRoleId())) {
        return true;
      }
    }
  }
  if (selUser == null) {
    return true;
  }
  for (  String userType : PropsValues.FIELD_EDITABLE_USER_TYPES) {
    if (userType.equals("user-with-mx") && selUser.hasCompanyMx()) {
      return true;
    }
    if (userType.equals("user-without-mx") && !selUser.hasCompanyMx()) {
      return true;
    }
  }
  for (  String roleName : PropsValues.FIELD_EDITABLE_ROLES) {
    Role role=RoleLocalServiceUtil.fetchRole(selUser.getCompanyId(),roleName);
    if ((role != null) && RoleLocalServiceUtil.hasUserRole(selUser.getUserId(),role.getRoleId())) {
      return true;
    }
  }
  String emailAddress=selUser.getEmailAddress();
  for (  String domainName : PropsValues.FIELD_EDITABLE_DOMAINS) {
    if (emailAddress.endsWith(domainName)) {
      return true;
    }
  }
  String[] fieldEditableDomainNames=PropsUtil.getArray(PropsKeys.FIELD_EDITABLE_DOMAINS,new Filter(field));
  for (  String domainName : fieldEditableDomainNames) {
    if (emailAddress.endsWith(domainName)) {
      return true;
    }
  }
  return false;
}
