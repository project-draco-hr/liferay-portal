{
  Set<Long> groupIds=SetUtil.fromArray(currentPKs);
  long[] addPrimaryKeys=StringUtil.split(ParamUtil.getString(portletRequest,addParam),0L);
  long[] deletePrimaryKeys=StringUtil.split(ParamUtil.getString(portletRequest,deleteParam),0L);
  for (  long pk : addPrimaryKeys) {
    groupIds.add(pk);
  }
  for (  long pk : deletePrimaryKeys) {
    groupIds.remove(pk);
  }
  return ArrayUtil.toLongArray(groupIds);
}
