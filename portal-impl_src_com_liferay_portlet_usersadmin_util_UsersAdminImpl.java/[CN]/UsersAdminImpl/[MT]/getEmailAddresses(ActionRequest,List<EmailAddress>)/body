{
  String emailAddressesIndexesString=actionRequest.getParameter("emailAddressesIndexes");
  if (emailAddressesIndexesString == null) {
    return defaultEmailAddresses;
  }
  List<EmailAddress> emailAddresses=new ArrayList<EmailAddress>();
  int[] emailAddressesIndexes=StringUtil.split(emailAddressesIndexesString,0);
  int emailAddressPrimary=ParamUtil.getInteger(actionRequest,"emailAddressPrimary");
  for (  int emailAddressesIndex : emailAddressesIndexes) {
    long emailAddressId=ParamUtil.getLong(actionRequest,"emailAddressId" + emailAddressesIndex);
    String address=ParamUtil.getString(actionRequest,"emailAddressAddress" + emailAddressesIndex);
    if (Validator.isNull(address)) {
      continue;
    }
    int typeId=ParamUtil.getInteger(actionRequest,"emailAddressTypeId" + emailAddressesIndex);
    boolean primary=false;
    if (emailAddressesIndex == emailAddressPrimary) {
      primary=true;
    }
    EmailAddress emailAddress=EmailAddressLocalServiceUtil.createEmailAddress(emailAddressId);
    emailAddress.setAddress(address);
    emailAddress.setTypeId(typeId);
    emailAddress.setPrimary(primary);
    emailAddresses.add(emailAddress);
  }
  return emailAddresses;
}
