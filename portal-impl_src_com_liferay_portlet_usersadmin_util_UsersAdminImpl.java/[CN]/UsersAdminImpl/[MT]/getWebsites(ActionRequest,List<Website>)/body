{
  String websitesIndexesString=actionRequest.getParameter("websitesIndexes");
  if (websitesIndexesString == null) {
    return defaultWebsites;
  }
  List<Website> websites=new ArrayList<Website>();
  int[] websitesIndexes=StringUtil.split(websitesIndexesString,0);
  int websitePrimary=ParamUtil.getInteger(actionRequest,"websitePrimary");
  for (  int websitesIndex : websitesIndexes) {
    long websiteId=ParamUtil.getLong(actionRequest,"websiteId" + websitesIndex);
    String url=ParamUtil.getString(actionRequest,"websiteUrl" + websitesIndex);
    if (Validator.isNull(url)) {
      continue;
    }
    int typeId=ParamUtil.getInteger(actionRequest,"websiteTypeId" + websitesIndex);
    boolean primary=false;
    if (websitesIndex == websitePrimary) {
      primary=true;
    }
    Website website=WebsiteLocalServiceUtil.createWebsite(websiteId);
    website.setUrl(url);
    website.setTypeId(typeId);
    website.setPrimary(primary);
    websites.add(website);
  }
  return websites;
}
