{
  if (user == null) {
    return true;
  }
  for (  String userType : PropsValues.FIELDS_EDITABLE_USER_TYPES) {
    if (userType.equals("user-with-mx") && user.hasCompanyMx()) {
      return true;
    }
    if (userType.equals("user-without-mx") && !user.hasCompanyMx()) {
      return true;
    }
  }
  for (  String roleName : PropsValues.FIELDS_EDITABLE_ROLES) {
    Role role=RoleLocalServiceUtil.fetchRole(user.getCompanyId(),roleName);
    if ((role != null) && RoleLocalServiceUtil.hasUserRole(user.getUserId(),role.getRoleId())) {
      return true;
    }
  }
  String emailAddress=user.getEmailAddress();
  for (  String domainName : PropsValues.FIELDS_EDITABLE_DOMAINS) {
    if (emailAddress.endsWith(domainName)) {
      return true;
    }
  }
  String[] fieldEditableDomainNames=PropsUtil.getArray(PropsKeys.FIELD_EDITABLE_DOMAINS,new Filter(field));
  for (  String domainName : fieldEditableDomainNames) {
    if (emailAddress.endsWith(domainName)) {
      return true;
    }
  }
  return false;
}
