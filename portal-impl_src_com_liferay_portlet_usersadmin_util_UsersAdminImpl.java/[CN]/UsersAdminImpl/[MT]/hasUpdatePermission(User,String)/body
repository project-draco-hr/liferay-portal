{
  if (Validator.equals(userType,"user-with-mx") && user.hasCompanyMx()) {
    return true;
  }
  if (Validator.equals(userType,"user-without-mx") && !user.hasCompanyMx()) {
    return true;
  }
  String emailAddress=user.getEmailAddress();
  if (emailAddress.endsWith(userType)) {
    return true;
  }
  Role role=RoleLocalServiceUtil.fetchRole(user.getCompanyId(),userType);
  if ((role != null) && RoleLocalServiceUtil.hasUserRole(user.getUserId(),role.getRoleId())) {
    return true;
  }
  return false;
}
