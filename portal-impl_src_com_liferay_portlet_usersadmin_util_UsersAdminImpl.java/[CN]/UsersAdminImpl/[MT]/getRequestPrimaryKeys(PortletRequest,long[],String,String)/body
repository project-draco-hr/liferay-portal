{
  Set<Long> primaryKeys=SetUtil.fromArray(currentPKs);
  long[] addPrimaryKeys=StringUtil.split(ParamUtil.getString(portletRequest,addParam),0L);
  long[] deletePrimaryKeys=StringUtil.split(ParamUtil.getString(portletRequest,deleteParam),0L);
  for (  long addPrimaryKey : addPrimaryKeys) {
    primaryKeys.add(addPrimaryKey);
  }
  for (  long deletePrimaryKey : deletePrimaryKeys) {
    primaryKeys.remove(deletePrimaryKey);
  }
  return ArrayUtil.toLongArray(primaryKeys);
}
