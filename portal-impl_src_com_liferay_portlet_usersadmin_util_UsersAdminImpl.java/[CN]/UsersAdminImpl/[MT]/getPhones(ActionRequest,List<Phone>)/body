{
  String phonesIndexesString=actionRequest.getParameter("phonesIndexes");
  if (phonesIndexesString == null) {
    return defaultPhones;
  }
  List<Phone> phones=new ArrayList<Phone>();
  int[] phonesIndexes=StringUtil.split(phonesIndexesString,0);
  int phonePrimary=ParamUtil.getInteger(actionRequest,"phonePrimary");
  for (  int phonesIndex : phonesIndexes) {
    long phoneId=ParamUtil.getLong(actionRequest,"phoneId" + phonesIndex);
    String number=ParamUtil.getString(actionRequest,"phoneNumber" + phonesIndex);
    String extension=ParamUtil.getString(actionRequest,"phoneExtension" + phonesIndex);
    if (Validator.isNull(number) && Validator.isNull(extension)) {
      continue;
    }
    int typeId=ParamUtil.getInteger(actionRequest,"phoneTypeId" + phonesIndex);
    boolean primary=false;
    if (phonesIndex == phonePrimary) {
      primary=true;
    }
    Phone phone=PhoneLocalServiceUtil.createPhone(phoneId);
    phone.setNumber(number);
    phone.setExtension(extension);
    phone.setTypeId(typeId);
    phone.setPrimary(primary);
    phones.add(phone);
  }
  return phones;
}
