{
  long[] filteredUserIds=userIds;
  for (  long userId : userIds) {
    Organization organization=OrganizationLocalServiceUtil.getOrganization(organizationId);
    User user=UserLocalServiceUtil.getUser(userId);
    if (MembershipPolicyUtil.isMembershipProtected(permissionChecker,organization,user)) {
      filteredUserIds=ArrayUtil.remove(filteredUserIds,userId);
    }
  }
  return filteredUserIds;
}
