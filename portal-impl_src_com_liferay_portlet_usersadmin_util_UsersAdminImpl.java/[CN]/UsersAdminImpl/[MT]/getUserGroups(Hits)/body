{
  List<Document> documents=hits.toList();
  List<UserGroup> userGroups=new ArrayList<>(documents.size());
  for (  Document document : documents) {
    long userGroupId=GetterUtil.getLong(document.get(Field.USER_GROUP_ID));
    UserGroup userGroup=UserGroupLocalServiceUtil.fetchUserGroup(userGroupId);
    if (userGroup == null) {
      userGroups=null;
      Indexer<UserGroup> indexer=IndexerRegistryUtil.getIndexer(UserGroup.class);
      long companyId=GetterUtil.getLong(document.get(Field.COMPANY_ID));
      indexer.delete(companyId,document.getUID());
    }
 else     if (userGroups != null) {
      userGroups.add(userGroup);
    }
  }
  return userGroups;
}
