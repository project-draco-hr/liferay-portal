{
  if (!GetterUtil.getBoolean(TestPropsUtil.get(ServiceTestSuite.class.getName() + ".enabled"))) {
    return;
  }
  if (BeanLocatorUtil.getBeanLocator() == null) {
    BeanLocatorUtil.setBeanLocator(new BeanLocatorImpl());
    SpringUtil.initContext(SpringUtil.getContext());
  }
  try {
    JCRFactoryUtil.prepare();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  LuceneUtil.checkLuceneDir(TestPropsValues.COMPANY_ID);
  MessageBus messageBus=(MessageBus)BeanLocatorUtil.locate(MessageBus.class.getName());
  MessageSender messageSender=(MessageSender)BeanLocatorUtil.locate(MessageSender.class.getName());
  MessageBusUtil.init(messageBus,messageSender);
  SearchEngineUtil.init(new IndexSearcherImpl(),new IndexWriterImpl());
  addTestSuite(BookmarksFolderServiceTest.class);
  addTestSuite(BookmarksEntryServiceTest.class);
  addTestSuite(DLFileEntryServiceTest.class);
  addTestSuite(IGImageServiceTest.class);
  addTestSuite(MBMessageServiceTest.class);
  addTestSuite(SocialRelationLocalServiceTest.class);
}
