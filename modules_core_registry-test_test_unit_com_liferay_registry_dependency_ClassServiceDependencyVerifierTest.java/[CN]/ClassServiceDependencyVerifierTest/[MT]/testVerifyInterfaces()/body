{
  Registry registry=RegistryUtil.getRegistry();
  registry.registerService(TestInterface1.class,new TestInstance1());
  registry.registerService(TestInterface2.class,new TestInstance2());
  ServiceReference<?> serviceReference1=registry.getServiceReference(TestInterface1.class);
  ServiceReference<?> serviceReference2=registry.getServiceReference(TestInterface2.class);
  ServiceReference<?> serviceReference3=registry.getServiceReference(TestInterface2.class);
  ClassServiceDependencyVerifier classServiceDependencyVerifier=new ClassServiceDependencyVerifier(TestInstance1.class);
  Assert.assertTrue(classServiceDependencyVerifier.verify(serviceReference1));
  Assert.assertFalse(classServiceDependencyVerifier.verify(serviceReference2));
  ClassServiceDependencyVerifier classServiceDependencyVerifier2=new ClassServiceDependencyVerifier(TestInstance2.class);
  Assert.assertTrue(classServiceDependencyVerifier2.verify(serviceReference2));
  ClassServiceDependencyVerifier classServiceDependencyVerifier3=new ClassServiceDependencyVerifier(TestInstance3.class);
  Assert.assertFalse(classServiceDependencyVerifier3.verify(serviceReference3));
}
