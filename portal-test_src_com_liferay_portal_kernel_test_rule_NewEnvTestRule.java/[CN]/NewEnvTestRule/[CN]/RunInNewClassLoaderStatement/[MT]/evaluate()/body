{
  MethodCache.reset();
  Thread currentThread=Thread.currentThread();
  ClassLoader contextClassLoader=currentThread.getContextClassLoader();
  currentThread.setContextClassLoader(_newClassLoader);
  String quiet=System.getProperty(SystemProperties.SYSTEM_PROPERTIES_QUIET);
  System.setProperty(SystemProperties.SYSTEM_PROPERTIES_QUIET,StringPool.TRUE);
  try {
    Class<?> clazz=_newClassLoader.loadClass(_testClassName);
    Object object=clazz.newInstance();
    for (    MethodKey beforeMethodKey : _beforeMethodKeys) {
      invoke(_newClassLoader,beforeMethodKey,object);
    }
    invoke(_newClassLoader,_testMethodKey,object);
    for (    MethodKey afterMethodKey : _afterMethodKeys) {
      invoke(_newClassLoader,afterMethodKey,object);
    }
  }
 catch (  InvocationTargetException ite) {
    throw ite.getTargetException();
  }
 finally {
    if (quiet == null) {
      System.clearProperty(SystemProperties.SYSTEM_PROPERTIES_QUIET);
    }
 else {
      System.setProperty(SystemProperties.SYSTEM_PROPERTIES_QUIET,quiet);
    }
    currentThread.setContextClassLoader(contextClassLoader);
    MethodCache.reset();
  }
}
