{
  List<String> arguments=new ArrayList<>();
  Class<?> testClass=description.getTestClass();
  JVMArgsLine jvmArgsLine=testClass.getAnnotation(JVMArgsLine.class);
  if (jvmArgsLine != null) {
    arguments.addAll(processJVMArgsLine(jvmArgsLine));
  }
  jvmArgsLine=description.getAnnotation(JVMArgsLine.class);
  if (jvmArgsLine != null) {
    arguments.addAll(processJVMArgsLine(jvmArgsLine));
  }
  arguments.add("-Djava.net.preferIPv4Stack=true");
  if (Boolean.getBoolean("jvm.debug")) {
    arguments.add(_JPDA_OPTIONS);
    arguments.add("-Djvm.debug=true");
  }
  arguments.add("-Dliferay.mode=test");
  String whipAgentLine=System.getProperty("whip.agent");
  if (Validator.isNotNull(whipAgentLine)) {
    arguments.add(whipAgentLine);
    arguments.add("-Dwhip.agent=" + whipAgentLine);
  }
  String fileName=System.getProperty("whip.datafile");
  if (fileName != null) {
    arguments.add("-Dwhip.datafile=" + fileName);
  }
  if (Boolean.getBoolean("whip.instrument.dump")) {
    arguments.add("-Dwhip.instrument.dump=true");
  }
  if (Boolean.getBoolean("whip.static.instrument")) {
    arguments.add("-Dwhip.static.instrument=true");
  }
  return arguments;
}
