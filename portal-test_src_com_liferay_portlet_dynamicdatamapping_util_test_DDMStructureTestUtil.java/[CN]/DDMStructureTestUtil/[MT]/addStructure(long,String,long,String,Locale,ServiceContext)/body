{
  Map<Locale,String> nameMap=new HashMap<Locale,String>();
  nameMap.put(defaultLocale,"Test Structure");
  DDMForm ddmForm=DDMFormXSDDeserializerUtil.deserialize(definition);
  String ddlStorageType=GetterUtil.getString(PropsUtil.get(PropsKeys.DYNAMIC_DATA_LISTS_STORAGE_TYPE));
  serviceContext.setAddGroupPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  return DDMStructureLocalServiceUtil.addStructure(TestPropsValues.getUserId(),groupId,parentStructureId,PortalUtil.getClassNameId(className),null,nameMap,null,ddmForm,ddlStorageType,DDMStructureConstants.TYPE_DEFAULT,serviceContext);
}
