{
  StringBundler availableLocales=new StringBundler(2 * contents.size());
  for (  Map<Locale,String> map : contents) {
    StringBundler sb=new StringBundler(2 * map.size());
    for (    Locale locale : map.keySet()) {
      sb.append(LocaleUtil.toLanguageId(locale));
      sb.append(StringPool.COMMA);
    }
    sb.setIndex(sb.index() - 1);
    availableLocales.append(sb);
  }
  Document document=createDocumentContent(availableLocales.toString(),defaultLocale);
  Element rootElement=document.getRootElement();
  for (  Map<Locale,String> map : contents) {
    Element dynamicElementElement=rootElement.addElement("dynamic-element");
    dynamicElementElement.addAttribute("index-type","keyword");
    dynamicElementElement.addAttribute("name",name);
    dynamicElementElement.addAttribute("type","text");
    for (    Map.Entry<Locale,String> entry : map.entrySet()) {
      Element element=dynamicElementElement.addElement("dynamic-content");
      element.addAttribute("language-id",LocaleUtil.toLanguageId(entry.getKey()));
      element.addCDATA(entry.getValue());
    }
  }
  return document.asXML();
}
