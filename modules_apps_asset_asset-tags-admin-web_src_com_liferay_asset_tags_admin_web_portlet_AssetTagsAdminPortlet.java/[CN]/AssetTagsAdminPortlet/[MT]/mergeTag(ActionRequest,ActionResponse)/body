{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Group siteGroup=themeDisplay.getSiteGroup();
  String mergeTagNamesString=ParamUtil.getString(actionRequest,"mergeTagNames");
  String[] mergeTagNames=StringUtil.split(mergeTagNamesString);
  List<AssetTag> tags=AssetTagLocalServiceUtil.checkTags(themeDisplay.getUserId(),siteGroup,mergeTagNames);
  String targetTagName=ParamUtil.getString(actionRequest,"targetTagName");
  AssetTag targetTag=AssetTagLocalServiceUtil.getTag(siteGroup.getGroupId(),targetTagName);
  for (  AssetTag mergeTag : tags) {
    if (targetTag.getTagId() == mergeTag.getTagId()) {
      continue;
    }
    AssetTagServiceUtil.mergeTags(mergeTag.getTagId(),targetTag.getTagId());
  }
}
