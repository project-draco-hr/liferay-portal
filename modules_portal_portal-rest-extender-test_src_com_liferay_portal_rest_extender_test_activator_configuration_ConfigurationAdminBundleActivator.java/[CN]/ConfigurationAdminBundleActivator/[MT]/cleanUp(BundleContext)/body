{
  final CountDownLatch countDownLatch=new CountDownLatch(1);
  ServiceTracker<ServletContextHelper,ServletContextHelper> serviceTracker=new ServiceTracker<ServletContextHelper,ServletContextHelper>(bundleContext,ServletContextHelper.class,null){
    @Override public void removedService(    ServiceReference<ServletContextHelper> reference,    ServletContextHelper service){
      Object contextName=reference.getProperty(HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_NAME);
      if ("rest-test".equals(contextName)) {
        countDownLatch.countDown();
        close();
      }
    }
  }
;
  serviceTracker.open();
  try {
    _serviceRegistration.unregister();
  }
 catch (  Exception e) {
  }
  try {
    _restConfiguration.delete();
  }
 catch (  Exception e) {
  }
  try {
    _cxfConfiguration.delete();
  }
 catch (  Exception e) {
  }
  if (!countDownLatch.await(10,TimeUnit.MINUTES)) {
    throw new TimeoutException("Service unregister waiting timeout");
  }
}
