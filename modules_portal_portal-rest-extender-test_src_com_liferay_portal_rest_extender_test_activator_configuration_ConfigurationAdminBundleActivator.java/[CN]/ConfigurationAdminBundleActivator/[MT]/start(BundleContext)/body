{
  ServiceReference<ConfigurationAdmin> serviceReference=bundleContext.getServiceReference(ConfigurationAdmin.class);
  ConfigurationAdmin configurationAdmin=bundleContext.getService(serviceReference);
  try {
    _cxfConfiguration=configurationAdmin.createFactoryConfiguration("com.liferay.portal.cxf.common.configuration." + "CXFEndpointPublisherConfiguration",null);
    Dictionary<String,Object> properties=new Hashtable<>();
    properties.put("contextPath","/rest-test");
    _cxfConfiguration.update(properties);
    _restConfiguration=configurationAdmin.createFactoryConfiguration("com.liferay.portal.rest.extender.configuration." + "RestExtenderConfiguration",null);
    properties=new Hashtable<>();
    properties.put("jaxRsApplicationFilterStrings",new String[]{"(jaxrs.application=true)"});
    properties.put("contextPaths",new String[]{"/rest-test"});
    _restConfiguration.update(properties);
  }
  finally {
    bundleContext.ungetService(serviceReference);
  }
}
