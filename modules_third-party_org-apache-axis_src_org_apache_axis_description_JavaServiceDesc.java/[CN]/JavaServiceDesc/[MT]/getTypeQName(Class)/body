{
  QName typeQName;
  TypeMapping tm=getTypeMapping();
  if (style == Style.RPC) {
    typeQName=tm.getTypeQName(javaClass);
  }
 else {
    typeQName=tm.getTypeQNameExact(javaClass);
    if (typeQName == null && javaClass.isArray()) {
      typeQName=tm.getTypeQName(javaClass.getComponentType());
    }
 else {
      typeQName=tm.getTypeQName(javaClass);
    }
  }
  return typeQName;
}
