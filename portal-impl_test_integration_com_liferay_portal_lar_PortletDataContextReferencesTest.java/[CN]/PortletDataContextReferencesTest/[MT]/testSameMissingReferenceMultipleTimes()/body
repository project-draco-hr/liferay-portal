{
  Element bookmarksEntryElement=_portletDataContext.getExportDataElement(_mockBookmarksEntry);
  bookmarksEntryElement.addAttribute("path",ExportImportPathUtil.getModelPath(_mockBookmarksEntry));
  _portletDataContext.addReferenceElement(_mockBookmarksEntry,bookmarksEntryElement,_mockBookmarksFolder,PortletDataContext.REFERENCE_TYPE_DEPENDENCY,true);
  _portletDataContext.addReferenceElement(_mockBookmarksEntry,bookmarksEntryElement,_mockBookmarksFolder,PortletDataContext.REFERENCE_TYPE_DEPENDENCY,true);
  Element missingReferencesElement=_portletDataContext.getMissingReferencesElement();
  List<Element> missingReferenceElements=missingReferencesElement.elements();
  Assert.assertEquals(1,missingReferenceElements.size());
  List<Element> referencesElements=_portletDataContext.getReferenceElements(_mockBookmarksEntry,MockBookmarksFolder.class);
  Assert.assertEquals(2,referencesElements.size());
  for (  Element referenceElement : referencesElements) {
    Assert.assertTrue(GetterUtil.getBoolean(referenceElement.attributeValue("missing")));
  }
}
