{
  for (int i=0; i < structureDDMFormFields.size(); i++) {
    DDMFormField structureDDMFormField=structureDDMFormFields.get(i);
    DDMFormField templateDDMFormField=getDDMFormField(templateDDMFormFields,structureDDMFormField.getName());
    if (templateDDMFormField == null) {
      if (structureDDMFormField.isRequired()) {
        templateDDMFormFields.add(structureDDMFormField);
      }
    }
 else {
      String fieldType=templateDDMFormField.getType();
      if (fieldType.equals(DDMImpl.TYPE_SELECT) || fieldType.equals((DDMImpl.TYPE_RADIO))) {
        templateDDMFormField.setProperty("options",structureDDMFormField.getDDMFormFieldOptions());
      }
      addRequiredDDMFormFields(structureDDMFormField.getNestedDDMFormFields(),templateDDMFormField.getNestedDDMFormFields());
    }
  }
}
