{
  Set<Long> newUserGroupPKSet=SetUtil.fromArray(userGroupPKs);
  Set<Long> oldUserGroupPKSet=SetUtil.fromArray(groupToUserGroupTableMapper.getRightPrimaryKeys(pk));
  Set<Long> removeUserGroupPKSet=new HashSet<Long>(oldUserGroupPKSet);
  removeUserGroupPKSet.removeAll(newUserGroupPKSet);
  for (  long removeUserGroupPK : removeUserGroupPKSet) {
    groupToUserGroupTableMapper.deleteTableMapping(pk,removeUserGroupPK);
  }
  newUserGroupPKSet.removeAll(oldUserGroupPKSet);
  for (  long newUserGroupPK : newUserGroupPKSet) {
    groupToUserGroupTableMapper.addTableMapping(pk,newUserGroupPK);
  }
}
