{
  if (!_fileSets.isEmpty()) {
    _collectFromFileSets();
  }
  try {
    SourceFormatter sourceFormatter=new SourceFormatter(_sourceFormatterArgs);
    sourceFormatter.format();
    List<String> processedFiles=sourceFormatter.getProcessedFiles();
    Project project=getProject();
    project.addIdReference(SourceFormatter.PROCESSED_FILES_ATTRIBUTE,processedFiles);
  }
 catch (  Exception e) {
    throw new BuildException(e);
  }
}
