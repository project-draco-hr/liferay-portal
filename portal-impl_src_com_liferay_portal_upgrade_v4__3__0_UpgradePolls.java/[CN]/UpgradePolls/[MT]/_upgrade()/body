{
  PKUpgradeColumnImpl pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  UpgradeTable upgradeTable=new DefaultUpgradeTableImpl(PollsQuestionImpl.TABLE_NAME,PollsQuestionImpl.TABLE_COLUMNS,pkUpgradeColumn);
  upgradeTable.updateTable();
  ValueMapper questionIdMapper=pkUpgradeColumn.getValueMapper();
  UpgradeColumn upgradeQuestionIdColumn=new SwapUpgradeColumnImpl("questionId",questionIdMapper);
  pkUpgradeColumn=new PKUpgradeColumnImpl(0,true);
  upgradeTable=new DefaultUpgradeTableImpl(PollsChoiceImpl.TABLE_NAME,PollsChoiceImpl.TABLE_COLUMNS,pkUpgradeColumn,upgradeQuestionIdColumn);
  ValueMapper choiceIdMapper=pkUpgradeColumn.getValueMapper();
  UpgradeColumn upgradeChoiceIdColumn=new SwapUpgradeColumnImpl("choiceId",choiceIdMapper);
  upgradeTable=new DefaultUpgradeTableImpl(PollsVoteImpl.TABLE_NAME,PollsVoteImpl.TABLE_COLUMNS,new PKUpgradeColumnImpl(),upgradeQuestionIdColumn,upgradeChoiceIdColumn);
  upgradeTable.updateTable();
  ResourceUtil.upgradePrimKey(questionIdMapper,PollsQuestion.class.getName());
  CounterLocalServiceUtil.reset(PollsQuestion.class.getName());
  DBUtil.getInstance().executeSQL(_UPGRADE_SCHEMA);
}
