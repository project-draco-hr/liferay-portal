{
  List<Role> allRoles=RoleLocalServiceUtil.getRoles(companyId);
  if (types == null) {
    types=_instance._getRoleTypes(companyId,group,modelResource);
  }
  List<Role> roles=new ArrayList<Role>();
  for (  int type : types) {
    for (    Role role : allRoles) {
      if (role.getType() == type) {
        roles.add(role);
      }
    }
  }
  return roles;
}
