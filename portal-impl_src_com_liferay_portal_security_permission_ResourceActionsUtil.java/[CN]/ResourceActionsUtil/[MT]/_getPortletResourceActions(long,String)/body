{
  name=PortletImpl.getRootPortletId(name);
  List actions=_getActions(_portletResourceActions,name);
  if (actions.size() == 0) {
synchronized (this) {
      Portlet portlet=PortletLocalServiceUtil.getPortletById(companyId,name);
      Map portletModes=portlet.getPortletModes();
      Set mimeTypeModes=(Set)portletModes.get("text/html");
      if (mimeTypeModes != null) {
        Iterator itr=mimeTypeModes.iterator();
        while (itr.hasNext()) {
          String actionId=(String)itr.next();
          if (actionId.equalsIgnoreCase("edit")) {
            actions.add(ActionKeys.PREFERENCES);
          }
 else           if (actionId.equalsIgnoreCase("edit_guest")) {
            actions.add(ActionKeys.GUEST_PREFERENCES);
          }
 else {
            actions.add(actionId.toUpperCase());
          }
        }
      }
      _checkPortletActions(actions);
      List communityDefaultActions=(List)_portletResourceCommunityDefaultActions.get(name);
      if (communityDefaultActions == null) {
        communityDefaultActions=new UniqueList();
        _portletResourceCommunityDefaultActions.put(name,communityDefaultActions);
        _checkPortletCommunityDefaultActions(communityDefaultActions);
      }
      List guestDefaultActions=(List)_portletResourceGuestDefaultActions.get(name);
      if (guestDefaultActions == null) {
        guestDefaultActions=new UniqueList();
        _portletResourceGuestDefaultActions.put(name,guestDefaultActions);
        _checkPortletGuestDefaultActions(guestDefaultActions);
      }
    }
  }
  return actions;
}
