{
  String name=modelResourceElement.elementTextTrim("model-name");
  Element portletRefElement=modelResourceElement.element("portlet-ref");
  for (  Element portletNameElement : portletRefElement.elements("portlet-name")) {
    String portletName=portletNameElement.getTextTrim();
    if (servletContextName != null) {
      portletName=portletName.concat(PortletConstants.WAR_SEPARATOR).concat(servletContextName);
    }
    portletName=PortalUtil.getJsSafePortletId(portletName);
    Set<String> modelResources=_portletModelResources.get(portletName);
    if (modelResources == null) {
      modelResources=new HashSet<String>();
      _portletModelResources.put(portletName,modelResources);
    }
    modelResources.add(name);
    Set<String> portletResources=_modelPortletResources.get(name);
    if (portletResources == null) {
      portletResources=new HashSet<String>();
      _modelPortletResources.put(name,portletResources);
    }
    portletResources.add(portletName);
  }
  _readSupportsActions(modelResourceElement,_modelResourceActions,name);
  _readCommunityDefaultActions(modelResourceElement,_modelResourceCommunityDefaultActions,name);
  List<String> guestDefaultActions=_readGuestDefaultActions(modelResourceElement,_modelResourceGuestDefaultActions,name);
  _readGuestUnsupportedActions(modelResourceElement,_modelResourceGuestUnsupportedActions,name,guestDefaultActions);
  _readOwnerDefaultActions(modelResourceElement,_modelResourceOwnerDefaultActions,name);
}
