{
  if (Validator.isNull(ddmFormField.getDataType())) {
    if (value != null) {
      throw new StorageFieldValueException("Value should not be set for field " + ddmFormField.getName());
    }
  }
 else {
    if ((value == null) || (ddmFormField.isRequired() && isNull(value))) {
      throw new StorageFieldValueException("No value defined for field " + ddmFormField.getName());
    }
    if ((ddmFormField.isLocalizable() && !value.isLocalized()) || (!ddmFormField.isLocalizable() && value.isLocalized())) {
      throw new StorageFieldValueException("Invalid value set for field " + ddmFormField.getName());
    }
    validateDDMFormFieldValueLocales(ddmFormField,availableLocales,defaultLocale,value);
  }
}
