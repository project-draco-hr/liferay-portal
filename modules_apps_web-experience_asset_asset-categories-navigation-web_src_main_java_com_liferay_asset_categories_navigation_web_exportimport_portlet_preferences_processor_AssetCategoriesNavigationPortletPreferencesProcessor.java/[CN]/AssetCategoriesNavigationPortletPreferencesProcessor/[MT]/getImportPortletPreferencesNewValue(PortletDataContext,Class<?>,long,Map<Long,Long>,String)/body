{
  if (Validator.isNumber(portletPreferencesOldValue)) {
    long oldPrimaryKey=GetterUtil.getLong(portletPreferencesOldValue);
    return MapUtil.getLong(primaryKeys,oldPrimaryKey,oldPrimaryKey);
  }
  String className=clazz.getName();
  String[] oldValues=StringUtil.split(portletPreferencesOldValue,StringPool.POUND);
  String uuid=oldValues[0];
  long groupId=portletDataContext.getScopeGroupId();
  if (oldValues.length > 1) {
    Map<Long,Long> groupIds=(Map<Long,Long>)portletDataContext.getNewPrimaryKeysMap(Group.class);
    groupId=MapUtil.getLong(groupIds,GetterUtil.getLong(oldValues[1]));
  }
  if (className.equals(AssetVocabulary.class.getName())) {
    AssetVocabulary assetVocabulary=AssetVocabularyUtil.fetchByUUID_G(uuid,groupId);
    if (assetVocabulary != null) {
      return assetVocabulary.getVocabularyId();
    }
  }
  return null;
}
