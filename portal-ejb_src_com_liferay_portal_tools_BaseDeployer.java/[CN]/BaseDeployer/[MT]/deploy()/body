{
  try {
    File[] files=FileUtil.sortFiles(new File(baseDir).listFiles());
    for (int i=0; i < files.length; i++) {
      File srcFile=files[i];
      boolean deploy=false;
      if (srcFile.getName().endsWith(".war")) {
        deploy=true;
        if ((wars.size() > 0) && (!wars.contains(srcFile.getName()))) {
          deploy=false;
        }
      }
      if (deploy) {
        System.out.println("\nDeploying " + srcFile.getName());
        String deployDir=srcFile.getName();
        if (appServerType.startsWith("jboss")) {
          deployDir=jbossPrefix + deployDir;
        }
 else         if (appServerType.equals("jetty") || appServerType.equals("oc4j") || appServerType.equals("orion")|| appServerType.equals("resin")|| appServerType.equals("tomcat")) {
          if (unpackWar) {
            deployDir=deployDir.substring(0,deployDir.length() - 4);
          }
        }
        deployDir=destDir + "/" + deployDir;
        if (srcFile.isDirectory()) {
          deployDirectory(srcFile,new File(deployDir),getDisplayName(srcFile));
        }
 else {
          deployFile(srcFile,new File(deployDir));
        }
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
