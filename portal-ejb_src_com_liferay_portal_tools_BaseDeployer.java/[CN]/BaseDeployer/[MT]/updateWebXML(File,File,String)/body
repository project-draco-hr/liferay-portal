{
  if (!webXML.exists()) {
    String content="";
    content+="<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n";
    content+="<!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//" + "DTD Web Application 2.3//EN\" " + "\"http://java.sun.com/dtd/web-app_2_3.dtd\">\n\n";
    content+="<web-app>\n";
    content+="</web-app>";
    FileUtil.write(webXML,content);
    System.out.println("  Adding Servlet " + webXML);
  }
  String content=FileUtil.read(webXML);
  int pos=content.indexOf("<web-app");
  pos=content.indexOf(">",pos) + 1;
  double webXmlVersion=2.3;
  SAXReader reader=SAXReaderFactory.getInstance(false);
  Document webXmlDoc=reader.read(new StringReader(content));
  Element webXmlRoot=webXmlDoc.getRootElement();
  webXmlVersion=GetterUtil.getDouble(webXmlRoot.attributeValue("version"),webXmlVersion);
  String extraContent=getExtraContent(webXmlVersion,srcFile,displayName);
  String newContent=content.substring(0,pos) + extraContent + content.substring(pos,content.length());
  newContent=StringUtil.replace(newContent,"com.liferay.portal.shared.","com.liferay.portal.kernel.");
  newContent=organizeWebXML(newContent);
  FileUtil.write(webXML,newContent,true);
  System.out.println("  Modifying Servlet " + webXmlVersion + " "+ webXML);
}
