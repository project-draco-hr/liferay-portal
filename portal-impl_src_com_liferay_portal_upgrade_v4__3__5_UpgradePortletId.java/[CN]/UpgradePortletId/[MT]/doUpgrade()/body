{
  String[][] portletIdsArray=getPortletIdsArray();
  for (int i=0; i < portletIdsArray.length; i++) {
    String[] portletIds=portletIdsArray[i];
    String oldRootPortletId=portletIds[0];
    String newRootPortletId=portletIds[1];
    upgradePortlet(oldRootPortletId,newRootPortletId);
    upgradeResource(oldRootPortletId,newRootPortletId);
    upgradeResourceCode(oldRootPortletId,newRootPortletId);
  }
}
