{
  friendlyURL=getFriendlyURL(friendlyURL);
  if (Validator.isNull(friendlyURL)) {
    friendlyURL=StringPool.SLASH + getFriendlyURL(layoutName);
    if (LayoutImpl.validateFriendlyURL(friendlyURL) != -1) {
      friendlyURL=StringPool.SLASH + layoutId;
    }
 else {
      String baseFriendlyURL=friendlyURL;
      for (int i=1; ; i++) {
        try {
          validateFriendlyURL(groupId,privateLayout,layoutId,friendlyURL);
          break;
        }
 catch (        LayoutFriendlyURLException lfue) {
          friendlyURL=baseFriendlyURL + i;
        }
      }
    }
  }
  return friendlyURL;
}
