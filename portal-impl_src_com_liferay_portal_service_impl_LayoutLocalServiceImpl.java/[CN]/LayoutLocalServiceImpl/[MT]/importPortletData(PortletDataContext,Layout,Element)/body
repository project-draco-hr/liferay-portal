{
  Iterator<Element> itr=parentEl.elements("portlet-data").iterator();
  while (itr.hasNext()) {
    Element el=itr.next();
    String portletId=el.attributeValue("portlet-id");
    try {
      PortletPreferences portletPreferences=portletPreferencesPersistence.findByO_O_P_P(PortletKeys.PREFS_OWNER_ID_DEFAULT,PortletKeys.PREFS_OWNER_TYPE_LAYOUT,layout.getPlid(),portletId);
      String preferences=importPortletData(context,portletId,portletPreferences,el);
      if (preferences != null) {
        portletPreferences.setPreferences(preferences);
        portletPreferencesPersistence.update(portletPreferences);
      }
    }
 catch (    NoSuchPortletPreferencesException nsppe) {
    }
  }
}
