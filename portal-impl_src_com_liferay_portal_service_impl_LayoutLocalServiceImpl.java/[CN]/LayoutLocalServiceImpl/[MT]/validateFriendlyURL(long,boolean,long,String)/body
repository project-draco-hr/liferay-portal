{
  if (Validator.isNull(friendlyURL)) {
    return;
  }
  int exceptionType=LayoutImpl.validateFriendlyURL(friendlyURL);
  if (exceptionType != -1) {
    throw new LayoutFriendlyURLException(exceptionType);
  }
  Layout layout=layoutPersistence.fetchByG_P_F(groupId,privateLayout,friendlyURL);
  if ((layout != null) && (layout.getLayoutId() != layoutId)) {
    throw new LayoutFriendlyURLException(LayoutFriendlyURLException.DUPLICATE);
  }
  LayoutImpl.validateFriendlyURLKeyword(friendlyURL);
  String layoutIdFriendlyURL=friendlyURL.substring(1);
  if (Validator.isNumber(layoutIdFriendlyURL) && !layoutIdFriendlyURL.equals(String.valueOf(layoutId))) {
    LayoutFriendlyURLException lfurle=new LayoutFriendlyURLException(LayoutFriendlyURLException.POSSIBLE_DUPLICATE);
    lfurle.setKeywordConflict(layoutIdFriendlyURL);
    throw lfurle;
  }
}
