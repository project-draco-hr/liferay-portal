{
  if (Validator.isNull(friendlyURL)) {
    return;
  }
  int exceptionType=LayoutImpl.validateFriendlyURL(friendlyURL);
  if (exceptionType != -1) {
    throw new LayoutFriendlyURLException(exceptionType);
  }
  try {
    Layout layout=layoutPersistence.findByG_P_F(groupId,privateLayout,friendlyURL);
    if (layout.getLayoutId() != layoutId) {
      throw new LayoutFriendlyURLException(LayoutFriendlyURLException.DUPLICATE);
    }
  }
 catch (  NoSuchLayoutException nsle) {
  }
  LayoutImpl.validateFriendlyURLKeyword(friendlyURL);
  List friendlyURLMappers=portletLocalService.getFriendlyURLMappers();
  Iterator itr=friendlyURLMappers.iterator();
  while (itr.hasNext()) {
    FriendlyURLMapper friendlyURLMapper=(FriendlyURLMapper)itr.next();
    if (friendlyURL.indexOf(friendlyURLMapper.getMapping()) != -1) {
      LayoutFriendlyURLException lfurle=new LayoutFriendlyURLException(LayoutFriendlyURLException.KEYWORD_CONFLICT);
      lfurle.setKeywordConflict(friendlyURLMapper.getMapping());
      throw lfurle;
    }
  }
  friendlyURL=friendlyURL.substring(1);
  if (Validator.isNumber(friendlyURL) && !friendlyURL.equals(String.valueOf(layoutId))) {
    LayoutFriendlyURLException lfurle=new LayoutFriendlyURLException(LayoutFriendlyURLException.POSSIBLE_DUPLICATE);
    lfurle.setKeywordConflict(friendlyURL);
    throw lfurle;
  }
}
