{
  Date now=new Date();
  layoutLocalServiceHelper.validateName(name,languageId);
  layout.setModifiedDate(now);
  layout.setName(name,LocaleUtil.fromLanguageId(languageId));
  layoutPersistence.update(layout);
  if (layout.getGroup().isLayoutPrototype()) {
    Group group=layout.getGroup();
    LayoutPrototype layoutPrototype=layoutPrototypeLocalService.getLayoutPrototype(group.getClassPK());
    layoutPrototype.setModifiedDate(now);
    layoutPrototype.setName(name,LocaleUtil.fromLanguageId(languageId));
    layoutPrototypePersistence.update(layoutPrototype);
  }
  return layout;
}
