{
  try {
    XStream xStream=new XStream();
    Iterator itr=root.elements("comments").iterator();
    while (itr.hasNext()) {
      Element el=(Element)itr.next();
      String className=GetterUtil.getString(el.attributeValue("class-name"));
      long classPK=GetterUtil.getLong(el.attributeValue("class-pk"));
      Element messagesListEl=el.element("list");
      Document tempDoc=DocumentHelper.createDocument();
      tempDoc.content().add(messagesListEl.createCopy());
      List messages=(List)xStream.fromXML(XMLFormatter.toString(tempDoc));
      context.addComments(className,new Long(classPK),messages);
    }
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
