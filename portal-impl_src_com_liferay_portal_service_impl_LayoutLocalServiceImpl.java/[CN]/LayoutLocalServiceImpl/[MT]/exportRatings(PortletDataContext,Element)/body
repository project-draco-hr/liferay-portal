{
  try {
    XStream xStream=new XStream();
    Map ratingsEntriesMap=context.getRatingsEntries();
    Iterator<String> itr=ratingsEntriesMap.keySet().iterator();
    while (itr.hasNext()) {
      String key=itr.next();
      String[] ratingsEntry=key.split(StringPool.POUND);
      Element el=root.addElement("ratings");
      el.addAttribute("class-name",ratingsEntry[0]);
      el.addAttribute("class-pk",ratingsEntry[1]);
      List ratingsEntries=(List)ratingsEntriesMap.get(key);
      String xml=xStream.toXML(ratingsEntries);
      Document tempDoc=PortalUtil.readDocumentFromXML(xml);
      el.content().add(tempDoc.getRootElement().createCopy());
    }
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
