{
  if (Validator.isNull(friendlyURL)) {
    throw new NoSuchLayoutException();
  }
  friendlyURL=layoutLocalServiceHelper.getFriendlyURL(friendlyURL);
  Layout layout=null;
  List<LayoutFriendlyURL> layoutFriendlyURLs=layoutFriendlyURLPersistence.findByG_P_F(groupId,privateLayout,friendlyURL);
  if (!layoutFriendlyURLs.isEmpty()) {
    LayoutFriendlyURL layoutFriendlyURL=layoutFriendlyURLs.get(0);
    layout=layoutPersistence.findByPrimaryKey(layoutFriendlyURL.getPlid());
  }
  if ((layout == null) && friendlyURL.startsWith(StringPool.SLASH) && Validator.isNumber(friendlyURL.substring(1))) {
    long layoutId=GetterUtil.getLong(friendlyURL.substring(1));
    layout=layoutPersistence.fetchByG_P_L(groupId,privateLayout,layoutId);
  }
  if (layout == null) {
    throw new NoSuchLayoutException();
  }
  return layout;
}
