{
  Iterator<PortletPreferences> itr=portletPreferencesLocalService.getPortletPreferencesByPlid(layout.getPlid()).iterator();
  while (itr.hasNext()) {
    PortletPreferences portletPreferences=itr.next();
    javax.portlet.PortletPreferences jxPrefs=portletPreferencesLocalService.getPreferences(layout.getCompanyId(),portletPreferences.getOwnerId(),portletPreferences.getOwnerType(),portletPreferences.getPlid(),portletPreferences.getPortletId());
    String portletId=portletPreferences.getPortletId();
    if (layoutTypePortlet.hasPortletId(portletId)) {
      exportPortletData(context,portletId,jxPrefs,parentEl);
    }
  }
}
