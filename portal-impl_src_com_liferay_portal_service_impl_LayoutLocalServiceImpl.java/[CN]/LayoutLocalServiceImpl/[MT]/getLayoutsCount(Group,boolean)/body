{
  LayoutSet layoutSet=layoutSetPersistence.findByG_P(group.getGroupId(),privateLayout);
  int count=layoutSet.getPageCount();
  if (group.isUser()) {
    List<UserGroup> userGroups=userPersistence.getUserGroups(group.getClassPK());
    if (!userGroups.isEmpty()) {
      long userGroupClassNameId=classNameLocalService.getClassNameId(UserGroup.class);
      for (      UserGroup userGroup : userGroups) {
        Group userGroupGroup=groupPersistence.findByC_C_C(group.getCompanyId(),userGroupClassNameId,userGroup.getUserGroupId());
        layoutSet=layoutSetPersistence.findByG_P(userGroupGroup.getGroupId(),privateLayout);
        count+=layoutSet.getPageCount();
      }
    }
  }
  return count;
}
