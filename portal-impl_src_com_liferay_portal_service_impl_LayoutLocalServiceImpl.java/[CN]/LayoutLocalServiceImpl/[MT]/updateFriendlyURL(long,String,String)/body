{
  Date now=new Date();
  Layout layout=layoutPersistence.findByPrimaryKey(plid);
  friendlyURL=layoutLocalServiceHelper.getFriendlyURL(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),StringPool.BLANK,friendlyURL);
  layoutLocalServiceHelper.validateFriendlyURL(layout.getGroupId(),layout.isPrivateLayout(),layout.getLayoutId(),friendlyURL);
  layoutFriendlyURLLocalService.updateLayoutFriendlyURL(layout.getUserId(),layout.getCompanyId(),layout.getGroupId(),layout.getPlid(),layout.isPrivateLayout(),friendlyURL,languageId,new ServiceContext());
  layout.setModifiedDate(now);
  String defaultLanguageId=LocaleUtil.toLanguageId(LocaleUtil.getDefault());
  if (languageId.equals(defaultLanguageId)) {
    layout.setFriendlyURL(friendlyURL);
  }
  layoutPersistence.update(layout);
  return layout;
}
