{
  long nextLayoutId=counterLocalService.increment(getCounterName(groupId,privateLayout));
  if (nextLayoutId == 1) {
    List<Layout> layouts=layoutPersistence.findByG_P(groupId,privateLayout,0,1,new LayoutComparator());
    if (!layouts.isEmpty()) {
      Layout layout=layouts.get(0);
      nextLayoutId=layout.getLayoutId() + 1;
      counterLocalService.reset(getCounterName(groupId,privateLayout),layout.getLayoutId());
    }
  }
  return nextLayoutId;
}
