{
  Map<String,Serializable> taskContextMap=BackgroundTaskContextMapFactory.buildTaskContextMap(userId,plid,groupId,portletId,parameterMap,Constants.IMPORT,null,null,file.getName());
  BackgroundTask backgroundTask=backgroundTaskLocalService.addBackgroundTask(userId,groupId,taskName,null,PortletImportBackgroundTaskExecutor.class,taskContextMap,new ServiceContext());
  backgroundTaskLocalService.addBackgroundTaskAttachment(userId,backgroundTask.getBackgroundTaskId(),file.getName(),file);
  return backgroundTask.getBackgroundTaskId();
}
