{
  User user=userPersistence.findByPrimaryKey(userId);
  Map<String,Serializable> settingsMap=ExportImportConfigurationSettingsMapFactory.buildImportSettingsMap(userId,plid,groupId,portletId,parameterMap,Constants.IMPORT,user.getLocale(),user.getTimeZone(),file.getName());
  ServiceContext serviceContext=new ServiceContext();
  ExportImportConfiguration exportImportConfiguration=exportImportConfigurationLocalService.addExportImportConfiguration(userId,groupId,taskName,StringPool.BLANK,ExportImportConfigurationConstants.TYPE_IMPORT_PORTLET,settingsMap,WorkflowConstants.STATUS_DRAFT,serviceContext);
  return importPortletInfoInBackground(userId,exportImportConfiguration,file);
}
