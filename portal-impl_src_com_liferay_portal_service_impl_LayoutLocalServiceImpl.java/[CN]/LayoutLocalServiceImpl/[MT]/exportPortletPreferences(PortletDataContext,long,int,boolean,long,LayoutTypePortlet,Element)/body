{
  Iterator<PortletPreferences> itr=portletPreferencesLocalService.getPortletPreferences(ownerId,ownerType,plid).iterator();
  while (itr.hasNext()) {
    PortletPreferences portletPreferences=itr.next();
    String portletId=portletPreferences.getPortletId();
    if ((layoutTypePortlet == null) || (layoutTypePortlet.hasPortletId(portletId))) {
      exportPortletPreference(context,ownerId,ownerType,defaultUser,portletPreferences,portletId,plid,parentEl);
    }
  }
}
