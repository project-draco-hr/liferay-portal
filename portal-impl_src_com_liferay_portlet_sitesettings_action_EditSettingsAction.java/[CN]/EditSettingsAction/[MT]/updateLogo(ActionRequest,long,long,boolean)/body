{
  UploadPortletRequest uploadRequest=PortalUtil.getUploadPortletRequest(actionRequest);
  String privateParam="public";
  if (privateLayoutSet) {
    privateParam="private";
  }
  boolean logo=ParamUtil.getBoolean(actionRequest,privateParam + "Logo");
  File file=uploadRequest.getFile(privateParam + "LogoFileName");
  byte[] bytes=FileUtil.getBytes(file);
  if (logo && ((bytes == null) || (bytes.length == 0))) {
    throw new UploadException();
  }
  LayoutSetServiceUtil.updateLogo(liveGroupId,privateLayoutSet,logo,file);
  if (stagingGroupId > 0) {
    LayoutSetServiceUtil.updateLogo(stagingGroupId,privateLayoutSet,logo,file);
  }
}
