{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  List<BreadcrumbEntry> breadcrumbEntries=new ArrayList<>();
  boolean hasAll=ArrayUtil.contains(types,ENTRY_TYPE_ANY);
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_GUEST_GROUP)) {
    BreadcrumbEntry breadcrumbEntry=getGuestGroupBreadcrumbEntry(themeDisplay);
    if (breadcrumbEntry != null) {
      breadcrumbEntries.add(breadcrumbEntry);
    }
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_PARENT_GROUP)) {
    breadcrumbEntries.addAll(getParentGroupBreadcrumbEntries(themeDisplay));
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_CURRENT_GROUP)) {
    BreadcrumbEntry breadcrumbEntry=getScopeGroupBreadcrumbEntry(themeDisplay);
    if (breadcrumbEntry != null) {
      breadcrumbEntries.add(breadcrumbEntry);
    }
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_LAYOUT)) {
    breadcrumbEntries.addAll(getLayoutBreadcrumbEntries(themeDisplay));
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_PORTLET)) {
    breadcrumbEntries.addAll(getPortletBreadcrumbEntries(request));
  }
  return breadcrumbEntries;
}
