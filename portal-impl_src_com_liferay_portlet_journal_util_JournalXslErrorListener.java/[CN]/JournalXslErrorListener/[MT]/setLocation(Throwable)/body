{
  SourceLocator locator=null;
  Throwable cause=exception;
  Throwable realCause=null;
  do {
    if (cause instanceof SAXParseException) {
      locator=new SAXSourceLocator((SAXParseException)cause);
      realCause=cause;
    }
 else     if (cause instanceof TransformerException) {
      SourceLocator causeLocator=((TransformerException)cause).getLocator();
      if (causeLocator != null) {
        locator=causeLocator;
        realCause=cause;
      }
    }
    if (cause instanceof TransformerException)     cause=((TransformerException)cause).getCause();
 else     if (cause instanceof WrappedRuntimeException)     cause=((WrappedRuntimeException)cause).getException();
 else     if (cause instanceof SAXException)     cause=((SAXException)cause).getException();
 else     cause=null;
  }
 while (cause != null);
  _message=realCause.getMessage();
  if (null != locator) {
    _location=XMLMessages.createXMLMessage("line",null) + locator.getLineNumber() + "; "+ XMLMessages.createXMLMessage("column",null)+ locator.getColumnNumber()+ "; ";
  }
 else {
    _location="";
  }
}
