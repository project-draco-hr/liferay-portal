{
  SourceLocator locator=null;
  Throwable cause=exception;
  Throwable rootCause=null;
  while (cause != null) {
    if (cause instanceof SAXParseException) {
      locator=new SAXSourceLocator((SAXParseException)cause);
      rootCause=cause;
    }
 else     if (cause instanceof TransformerException) {
      SourceLocator causeLocator=((TransformerException)cause).getLocator();
      if (causeLocator != null) {
        locator=causeLocator;
        rootCause=cause;
      }
    }
    if (cause instanceof TransformerException) {
      cause=((TransformerException)cause).getCause();
    }
 else     if (cause instanceof WrappedRuntimeException) {
      cause=((WrappedRuntimeException)cause).getException();
    }
 else     if (cause instanceof SAXException) {
      cause=((SAXException)cause).getException();
    }
 else {
      cause=null;
    }
  }
  _message=rootCause.getMessage();
  if (locator != null) {
    StringMaker sm=new StringMaker();
    sm.append(XMLMessages.createXMLMessage("line",null));
    sm.append(locator.getLineNumber());
    sm.append("; ");
    sm.append(XMLMessages.createXMLMessage("column",null));
    sm.append(locator.getColumnNumber());
    sm.append("; ");
    _location=sm.toString();
  }
 else {
    _location=StringPool.BLANK;
  }
}
