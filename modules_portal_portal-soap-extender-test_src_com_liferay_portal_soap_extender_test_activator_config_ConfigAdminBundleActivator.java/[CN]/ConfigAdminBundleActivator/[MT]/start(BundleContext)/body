{
  ServiceReference<ConfigurationAdmin> serviceReference=bundleContext.getServiceReference(ConfigurationAdmin.class);
  ConfigurationAdmin configurationAdmin=bundleContext.getService(serviceReference);
  try {
    _cxfConfiguration=configurationAdmin.createFactoryConfiguration(_WEB_SERVICE_PUBLISHER_CONFIGURATION,null);
    Dictionary<String,Object> properties=new Hashtable<>();
    properties.put("contextPath",_TEST_CONTEXT_PATH);
    _cxfConfiguration.update(properties);
    _soapConfiguration=configurationAdmin.createFactoryConfiguration(_SOAP_EXTENDER_CONFIGURATION,null);
    properties=new Hashtable<>();
    properties.put("contextPaths",new String[]{_TEST_CONTEXT_PATH});
    properties.put("jaxwsHandlersFilters",new String[]{"(soap.address=*)"});
    properties.put("jaxwsServiceFilters",new String[]{"(jaxws=true)"});
    _soapConfiguration.update(properties);
    _jaxwsApiConfiguration=configurationAdmin.getConfiguration(_JAXWS_API_CONFIGURATION,null);
    properties=new Hashtable<>();
    properties.put("contextPath",_TEST_CONTEXT_PATH);
    properties.put("timeout",10000);
    _jaxwsApiConfiguration.update(properties);
  }
  finally {
    bundleContext.ungetService(serviceReference);
  }
}
