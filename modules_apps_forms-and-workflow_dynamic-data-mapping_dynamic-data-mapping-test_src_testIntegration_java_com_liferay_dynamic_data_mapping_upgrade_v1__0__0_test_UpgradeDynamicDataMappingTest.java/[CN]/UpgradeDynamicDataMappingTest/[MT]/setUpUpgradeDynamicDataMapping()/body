{
  Registry registry=RegistryUtil.getRegistry();
  UpgradeStepRegistrator ddmUpgradeStepRegistror=registry.getService("com.liferay.dynamic.data.mapping.upgrade.DDMServiceUpgrade");
  ddmUpgradeStepRegistror.register(new UpgradeStepRegistrator.Registry(){
    @Override public void register(    String bundleSymbolicName,    String fromSchemaVersionString,    String toSchemaVersionString,    UpgradeStep... upgradeSteps){
      for (      UpgradeStep upgradeStep : upgradeSteps) {
        Class<?> clazz=upgradeStep.getClass();
        String className=clazz.getName();
        if (className.contains("UpgradeDynamicDataMapping")) {
          _upgradeDynamicDataMapping=(UpgradeProcess)upgradeStep;
        }
      }
    }
  }
);
}
