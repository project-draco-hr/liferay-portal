{
  FilesetArchetypeGenerator filesetArchetypeGenerator=new DefaultFilesetArchetypeGenerator();
  ReflectionUtil.setFieldValue(_loggerField,filesetArchetypeGenerator,_logger);
  ReflectionUtil.setFieldValue(DefaultFilesetArchetypeGenerator.class,"archetypeArtifactManager",filesetArchetypeGenerator,archetypeArtifactManager);
  ReflectionUtil.setFieldValue(DefaultFilesetArchetypeGenerator.class,"archetypeFilesResolver",filesetArchetypeGenerator,new DefaultArchetypeFilesResolver());
  ReflectionUtil.setFieldValue(DefaultFilesetArchetypeGenerator.class,"velocity",filesetArchetypeGenerator,_createVelocityComponent());
  return filesetArchetypeGenerator;
}
