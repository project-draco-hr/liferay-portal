{
  S service=null;
  if (_serviceTrackerCustomizer != null) {
    service=_serviceTrackerCustomizer.addedService(serviceReference);
  }
 else {
    Registry registry=getRegistry();
    service=registry.getService(serviceReference);
  }
  _cachedCollection.add(service);
  return service;
}
