{
  ThemeDisplay themeDisplay=(ThemeDisplay)portletRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long workflowTaskId=ParamUtil.getLong(portletRequest,"workflowTaskId");
  String comment=ParamUtil.getString(portletRequest,"comment");
  int dueDateMonth=ParamUtil.getInteger(portletRequest,"dueDateMonth");
  int dueDateDay=ParamUtil.getInteger(portletRequest,"dueDateDay");
  int dueDateYear=ParamUtil.getInteger(portletRequest,"dueDateYear");
  int dueDateHour=ParamUtil.getInteger(portletRequest,"dueDateHour");
  int dueDateMinute=ParamUtil.getInteger(portletRequest,"dueDateMinute");
  int dueDateAmPm=ParamUtil.getInteger(portletRequest,"dueDateAmPm");
  if (dueDateAmPm == Calendar.PM) {
    dueDateHour+=12;
  }
  Date dueDate=PortalUtil.getDate(dueDateMonth,dueDateDay,dueDateYear,dueDateHour,dueDateMinute,WorkflowTaskDueDateException.class);
  WorkflowTaskManagerUtil.updateDueDate(themeDisplay.getCompanyId(),themeDisplay.getUserId(),workflowTaskId,comment,dueDate);
}
