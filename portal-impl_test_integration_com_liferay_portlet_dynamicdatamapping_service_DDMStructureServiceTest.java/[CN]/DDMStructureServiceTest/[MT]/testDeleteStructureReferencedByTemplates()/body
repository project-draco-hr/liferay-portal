{
  DDMStructure structure=addStructure(_testClassNameId,"Test Structure");
  addDetailTemplate(structure.getPrimaryKey(),"Test List Template");
  addListTemplate(structure.getPrimaryKey(),"Test Detail Template");
  try {
    DDMStructureLocalServiceUtil.deleteStructure(structure.getStructureId());
    Assert.fail("Should not be able to delete this structure because it is " + "referenced by templates");
  }
 catch (  RequiredStructureException rse) {
  }
}
