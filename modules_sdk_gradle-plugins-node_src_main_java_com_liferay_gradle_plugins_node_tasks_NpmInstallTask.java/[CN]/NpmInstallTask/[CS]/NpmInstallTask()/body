{
  onlyIf(new Spec<Task>(){
    @Override public boolean isSatisfiedBy(    Task task){
      NpmInstallTask npmInstallTask=(NpmInstallTask)task;
      File packageJsonFile=npmInstallTask.getPackageJsonFile();
      if (!packageJsonFile.exists()) {
        return false;
      }
      JsonSlurper jsonSlurper=new JsonSlurper();
      Map<String,Object> packageJson=(Map<String,Object>)jsonSlurper.parse(packageJsonFile);
      if (packageJson.containsKey("dependencies") || packageJson.containsKey("devDependencies")) {
        return true;
      }
      return false;
    }
  }
);
}
