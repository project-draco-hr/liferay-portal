{
  User user=UserUtil.findByPrimaryKey(userId);
  Date now=new Date();
  validate(key,value);
  long propertyId=CounterLocalServiceUtil.increment(Counter.class.getName());
  TagsProperty property=TagsPropertyUtil.create(propertyId);
  property.setCompanyId(user.getCompanyId());
  property.setUserId(user.getUserId());
  property.setUserName(user.getFullName());
  property.setCreateDate(now);
  property.setModifiedDate(now);
  property.setEntryId(entryId);
  property.setKey(key);
  property.setValue(value);
  TagsPropertyUtil.update(property);
  return property;
}
