{
  long folderId=parentFolder.getFolderId();
  String description=StringPool.BLANK;
  String changeLog=StringPool.BLANK;
  _fileEntry=DLAppTestUtil.addFileEntry(group.getGroupId(),folderId,"Test DLAppService.txt");
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId());
  try {
    String name="InvalidMime.txt";
    byte[] bytes=CONTENT.getBytes();
    FileEntry fileEntry=DLAppServiceUtil.addFileEntry(group.getGroupId(),folderId,name,ContentTypes.APPLICATION_OCTET_STREAM,name,description,changeLog,bytes,serviceContext);
    Assert.assertEquals(ContentTypes.TEXT_PLAIN,fileEntry.getMimeType());
    name="InvalidMime";
    fileEntry=DLAppServiceUtil.updateFileEntry(fileEntry.getFileEntryId(),name,null,name,description,changeLog,true,bytes,serviceContext);
    Assert.assertEquals(ContentTypes.TEXT_PLAIN,fileEntry.getMimeType());
  }
 catch (  Exception e) {
    Assert.fail("Unable to add file with invalid mime type " + StackTraceUtil.getStackTrace(e));
  }
}
