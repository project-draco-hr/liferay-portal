{
  try (WorkflowHandlerInvocationCounter<DLFileEntry> workflowHandlerInvocationCounter=new WorkflowHandlerInvocationCounter<>(DLFileEntryConstants.getClassName())){
    ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId());
    Folder folder=DLAppServiceUtil.addFolder(group.getGroupId(),parentFolder.getFolderId(),RandomTestUtil.randomString(),StringPool.BLANK,serviceContext);
    addFileEntry(group.getGroupId(),folder.getFolderId());
    Assert.assertEquals(1,workflowHandlerInvocationCounter.getCount("updateStatus",int.class,Map.class));
    DLAppServiceUtil.copyFolder(folder.getRepositoryId(),folder.getFolderId(),parentFolder.getParentFolderId(),folder.getName(),folder.getDescription(),serviceContext);
    Assert.assertEquals(2,workflowHandlerInvocationCounter.getCount("updateStatus",int.class,Map.class));
  }
 }
