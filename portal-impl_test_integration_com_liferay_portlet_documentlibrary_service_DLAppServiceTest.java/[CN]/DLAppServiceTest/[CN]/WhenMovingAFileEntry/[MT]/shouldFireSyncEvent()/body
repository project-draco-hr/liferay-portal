{
  AtomicInteger addCounter=registerDLSyncEventProcessorMessageListener(DLSyncConstants.EVENT_ADD);
  AtomicInteger deleteCounter=registerDLSyncEventProcessorMessageListener(DLSyncConstants.EVENT_DELETE);
  FileEntry fileEntry=addFileEntry(group.getGroupId(),parentFolder.getFolderId(),RandomTestUtil.randomString());
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId());
  DLAppServiceUtil.moveFileEntry(fileEntry.getFileEntryId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,serviceContext);
  Assert.assertEquals(2,addCounter.get());
  Assert.assertEquals(1,deleteCounter.get());
}
