{
  try (WorkflowHandlerInvocationCounter<FileEntry> invocationCounter=new WorkflowHandlerInvocationCounter<>(DLFileEntryConstants.getClassName())){
    FileEntry fileEntry=addFileEntry(group.getGroupId(),parentFolder.getFolderId());
    String version=fileEntry.getVersion();
    updateFileEntry(group.getGroupId(),fileEntry.getFileEntryId(),RandomTestUtil.randomString(),true);
    ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId());
    DLAppServiceUtil.revertFileEntry(fileEntry.getFileEntryId(),version,serviceContext);
    Assert.assertEquals(3,invocationCounter.getCount("updateStatus",int.class,Map.class));
  }
 }
