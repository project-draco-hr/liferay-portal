{
  if (Validator.isNotNull(folderId) && Validator.isNotNull(name)) {
    DLFileEntry fileEntry=DLFileEntryLocalServiceUtil.getFileEntry(folderId,name);
    return getBreadcrumbs(fileEntry.getFolder(),fileEntry,pageContext,req,res);
  }
 else {
    DLFolder folder=null;
    try {
      folder=DLFolderLocalServiceUtil.getFolder(folderId);
    }
 catch (    Exception e) {
    }
    return getBreadcrumbs(folder,null,pageContext,req,res,action,maximize);
  }
}
