{
  if (_lookupService != null) {
    return;
  }
  String fileLocation=properties.get("ip.geocoderservice.file.location");
  if ((fileLocation == null) || (fileLocation.equals(""))) {
    fileLocation=System.getProperty(TMP_DIR) + "/liferay/GeoIP/GeoIPCity.dat";
  }
  String fileURL=properties.get("ip.geocoderservice.file.url");
  try {
    String ipGeocoderFile=getIPGeocoderFile(fileLocation,fileURL,false);
    _lookupService=new LookupService(ipGeocoderFile,LookupService.GEOIP_MEMORY_CACHE);
  }
 catch (  IOException ioe) {
    _logger.error(ioe.getMessage());
  }
}
