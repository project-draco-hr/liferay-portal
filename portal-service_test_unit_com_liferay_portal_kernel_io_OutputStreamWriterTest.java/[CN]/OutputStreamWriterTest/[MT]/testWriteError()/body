{
  OutputStreamWriter outputStreamWriter=new OutputStreamWriter(new DummyOutputStream(),"US-ASCII");
  CharsetEncoder charsetEncoder=_getCharsetEncoder(outputStreamWriter);
  charsetEncoder.onUnmappableCharacter(CodingErrorAction.REPORT);
  try {
    outputStreamWriter.write("??????");
    Assert.fail();
  }
 catch (  IOException ioe) {
    Assert.assertEquals("Unexcepted coder result UNMAPPABLE[1]",ioe.getMessage());
  }
}
