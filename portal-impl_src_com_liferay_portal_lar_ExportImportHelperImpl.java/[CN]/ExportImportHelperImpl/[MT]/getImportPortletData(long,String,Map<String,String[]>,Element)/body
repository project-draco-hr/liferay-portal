{
  boolean importPortletData=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA);
  boolean importPortletDataAll=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA_ALL);
  if (_log.isDebugEnabled()) {
    _log.debug("Import portlet data " + importPortletData);
    _log.debug("Import all portlet data " + importPortletDataAll);
  }
  boolean importCurPortletData=importPortletData;
  String rootPortletId=getExportableRootPortletId(companyId,portletId);
  if (portletDataElement == null) {
    importCurPortletData=false;
  }
 else   if (importPortletDataAll) {
    importCurPortletData=true;
  }
 else   if (rootPortletId != null) {
    importCurPortletData=importPortletData && MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA + StringPool.UNDERLINE + rootPortletId);
  }
  return importCurPortletData;
}
