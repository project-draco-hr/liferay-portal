{
  boolean exportPortletData=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA);
  boolean exportPortletDataAll=MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA_ALL);
  if (_log.isDebugEnabled()) {
    _log.debug("Export portlet data " + exportPortletData);
    _log.debug("Export all portlet data " + exportPortletDataAll);
  }
  boolean exportCurPortletData=exportPortletData;
  String rootPortletId=getExportableRootPortletId(companyId,portletId);
  if (exportPortletDataAll) {
    exportCurPortletData=true;
  }
 else   if (rootPortletId != null) {
    exportCurPortletData=exportPortletData && MapUtil.getBoolean(parameterMap,PortletDataHandlerKeys.PORTLET_DATA + StringPool.UNDERLINE + rootPortletId);
  }
  return exportCurPortletData;
}
