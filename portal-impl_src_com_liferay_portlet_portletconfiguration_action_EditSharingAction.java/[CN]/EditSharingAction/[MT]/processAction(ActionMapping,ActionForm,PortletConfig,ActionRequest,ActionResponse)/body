{
  Portlet portlet=null;
  try {
    portlet=getPortlet(req);
  }
 catch (  PrincipalException pe) {
    SessionErrors.add(req,PrincipalException.class.getName());
    setForward(req,"portlet.portlet_configuration.error");
  }
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  PortletPreferences prefs=PortletPreferencesFactoryUtil.getPortletSetup(layout,portlet.getPortletId());
  String tabs2=ParamUtil.getString(req,"tabs2");
  if (tabs2.equals("any-website")) {
    updateAnyWebsite(req,prefs);
  }
 else   if (tabs2.equals("facebook")) {
    updateFacebook(req,prefs);
  }
  prefs.store();
  sendRedirect(req,res);
}
