{
  SearchContext searchContext1=SearchContextTestUtil.getSearchContext(_group.getGroupId());
  searchContext1.setKeywords("Architectural");
  int initialSearchCount1=0;
  assertSearchCount(initialSearchCount1,_group.getGroupId(),searchContext1);
  SearchContext searchContext2=SearchContextTestUtil.getSearchContext(_group.getGroupId());
  searchContext2.setKeywords("Apple");
  int initialSearchCount2=0;
  assertSearchCount(initialSearchCount2,_group.getGroupId(),searchContext2);
  JournalFolder folder=JournalTestUtil.addFolder(_group.getGroupId(),RandomTestUtil.randomString());
  JournalArticle article=JournalTestUtil.addArticleWithWorkflow(_group.getGroupId(),folder.getFolderId(),"title","Liferay Architectural Approach",true);
  assertSearchCount(initialSearchCount1 + 1,_group.getGroupId(),searchContext1);
  String content=DDMStructureTestUtil.getSampleStructuredContent("Apple tablet");
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  if (!approve) {
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_SAVE_DRAFT);
  }
 else {
    serviceContext.setWorkflowAction(WorkflowConstants.ACTION_PUBLISH);
  }
  JournalTestUtil.updateArticle(article,article.getTitleMap(),content,false,true,serviceContext);
  if (approve) {
    assertSearchCount(initialSearchCount1,_group.getGroupId(),searchContext1);
    assertSearchCount(initialSearchCount2 + 1,_group.getGroupId(),searchContext2);
  }
 else {
    assertSearchCount(initialSearchCount1 + 1,_group.getGroupId(),searchContext1);
    assertSearchCount(initialSearchCount2,_group.getGroupId(),searchContext2);
  }
}
