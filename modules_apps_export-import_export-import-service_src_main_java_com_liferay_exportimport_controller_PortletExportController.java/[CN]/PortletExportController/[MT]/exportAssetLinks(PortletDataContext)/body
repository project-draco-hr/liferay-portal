{
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("links");
  Element exportDataRootElement=portletDataContext.getExportDataRootElement();
  try {
    portletDataContext.setExportDataRootElement(rootElement);
    ActionableDynamicQuery linkActionableDynamicQuery=_assetLinkLocalService.getExportActionbleDynamicQuery(portletDataContext);
    linkActionableDynamicQuery.performActions();
    for (    long linkId : portletDataContext.getAssetLinkIds()) {
      AssetLink assetLink=_assetLinkLocalService.getAssetLink(linkId);
      StagedAssetLink stagedAssetLink=ModelAdapterUtil.adapt(assetLink,AssetLink.class,StagedAssetLink.class);
      portletDataContext.addClassedModel(portletDataContext.getExportDataElement(stagedAssetLink),ExportImportPathUtil.getModelPath(stagedAssetLink),stagedAssetLink);
    }
  }
  finally {
    portletDataContext.setExportDataRootElement(exportDataRootElement);
  }
  portletDataContext.addZipEntry(ExportImportPathUtil.getRootPath(portletDataContext) + "/links.xml",document.formattedString());
}
