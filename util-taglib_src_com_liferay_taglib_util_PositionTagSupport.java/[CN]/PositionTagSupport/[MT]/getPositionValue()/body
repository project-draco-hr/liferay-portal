{
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  String position=_position;
  String fragmentId=ParamUtil.getString(request,"p_f_id");
  if (Validator.isNotNull(fragmentId)) {
    position=_POSITION_INLINE;
  }
  if (Validator.isNull(position)) {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    if (themeDisplay.isIsolated() || themeDisplay.isLifecycleResource() || themeDisplay.isStateExclusive()) {
      position=_POSITION_INLINE;
    }
 else {
      position=_POSITION_AUTO;
    }
  }
  return position;
}
