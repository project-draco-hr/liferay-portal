{
  WikiEngine engine=_getEngine(page.getFormat());
  String content=engine.convert(page,editURL);
  if ((editURL != null) && (editURL instanceof LiferayPortletURL)) {
    LiferayPortletURL liferayPageURL=(LiferayPortletURL)pageURL;
    liferayPageURL.setParameter("nodeId",Long.toString(page.getNodeId()));
    LiferayPortletURL liferayEditURL=(LiferayPortletURL)editURL;
    liferayEditURL.setParameter("nodeId",Long.toString(page.getNodeId()));
    Iterator itr=engine.getLinks(page).keySet().iterator();
    while (itr.hasNext()) {
      String title=(String)itr.next();
      content=_replaceLinks(title,content,liferayPageURL,liferayEditURL);
    }
  }
  return content;
}
