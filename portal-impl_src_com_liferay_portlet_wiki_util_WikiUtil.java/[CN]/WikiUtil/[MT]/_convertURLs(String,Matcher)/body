{
  StringBuffer sb=new StringBuffer();
  String replacement="";
  while (matcher.find()) {
    if (matcher.groupCount() >= 1) {
      String encodedTitle=HttpUtil.encodeURL(matcher.group(1));
      replacement=matchExpression.replace("$1",encodedTitle);
    }
 else {
      replacement=matchExpression;
    }
    matcher.appendReplacement(sb,replacement);
  }
  return matcher.appendTail(sb).toString();
}
