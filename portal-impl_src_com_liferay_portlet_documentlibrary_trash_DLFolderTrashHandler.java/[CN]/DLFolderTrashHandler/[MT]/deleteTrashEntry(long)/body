{
  Repository repository=getRepository(classPK);
  TrashCapability trashCapability=repository.getCapability(TrashCapability.class);
  DLFolder dlFolder=DLFolderLocalServiceUtil.getDLFolder(classPK);
  List<DLFileEntry> dlFileEntries=DLFileEntryLocalServiceUtil.getGroupFileEntries(dlFolder.getGroupId(),0,classPK,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  for (  DLFileEntry dlFileEntry : dlFileEntries) {
    FileEntry fileEntry=new LiferayFileEntry(dlFileEntry);
    DLAppHelperLocalServiceUtil.deleteFileEntry(fileEntry);
    trashCapability.deleteFileEntry(fileEntry);
  }
  Folder folder=new LiferayFolder(dlFolder);
  DLAppHelperLocalServiceUtil.deleteFolder(folder);
  trashCapability.deleteFolder(folder);
  DLFolderLocalServiceUtil.deleteFolder(classPK,false);
}
