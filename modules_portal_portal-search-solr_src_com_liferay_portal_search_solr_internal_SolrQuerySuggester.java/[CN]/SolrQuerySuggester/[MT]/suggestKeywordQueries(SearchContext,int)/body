{
  SolrQuery solrQuery=new SolrQuery();
  solrQuery.setFilterQueries(getFilterQueries(searchContext,SuggestionConstants.TYPE_QUERY_SUGGESTION));
  StringBundler sb=new StringBundler(6);
  sb.append("start");
  String keywords=searchContext.getKeywords();
  sb.append(keywords.length());
  sb.append(StringPool.COLON);
  sb.append(StringPool.QUOTE);
  sb.append(keywords);
  sb.append(StringPool.QUOTE);
  solrQuery.setQuery(sb.toString());
  solrQuery.setRows(max);
  try {
    QueryResponse queryResponse=_solrServer.query(solrQuery);
    SolrDocumentList solrDocumentList=queryResponse.getResults();
    String[] querySuggestions=new String[solrDocumentList.size()];
    for (int i=0; i < solrDocumentList.size(); i++) {
      SolrDocument solrDocument=solrDocumentList.get(i);
      querySuggestions[i]=(String)solrDocument.getFieldValue(Field.KEYWORD_SEARCH);
    }
    return querySuggestions;
  }
 catch (  Exception e) {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to execute Solr query",e);
    }
    throw new SearchException(e.getMessage());
  }
}
