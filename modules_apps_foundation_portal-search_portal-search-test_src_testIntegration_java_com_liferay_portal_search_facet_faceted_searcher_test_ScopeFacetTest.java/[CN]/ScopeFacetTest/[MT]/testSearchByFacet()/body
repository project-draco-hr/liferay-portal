{
  final Group group1=userSearchFixture.addGroup();
  String keyword=RandomTestUtil.randomString();
  userSearchFixture.addUser(group1,keyword + " " + RandomTestUtil.randomString());
  final Group group2=userSearchFixture.addGroup();
  userSearchFixture.addUser(group2,keyword + " " + RandomTestUtil.randomString());
  userSearchFixture.addUser(group2,keyword + " " + RandomTestUtil.randomString());
  SearchContext searchContext=getSearchContext(keyword);
  searchContext.setGroupIds(new long[]{group1.getGroupId(),group2.getGroupId()});
  assertFrequencies(searchContext,new HashMap<Long,Integer>(){
{
      putAll(toMap(group1,1));
      putAll(toMap(group2,2));
    }
  }
);
}
