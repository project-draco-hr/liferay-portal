{
  if (scope.equals(ShardSelector.COMPANY_SCOPE)) {
    String[] availableShardNames=ShardUtil.getAvailableShardNames();
    int instances=PortalInstances.getCompanyIds().length;
    int shards=availableShardNames.length;
    return availableShardNames[instances % shards];
  }
 else {
    return ShardUtil.getDefaultShardName();
  }
}
