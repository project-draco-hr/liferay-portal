{
  ValueMapper valueMapper=getValueMapper();
  Long newValue=null;
  try {
    newValue=(Long)valueMapper.getNewValue(oldValue);
  }
 catch (  StagnantRowException sre) {
    newValue=Long.valueOf(increment());
    valueMapper.mapValue(oldValue,newValue);
  }
  return newValue;
}
