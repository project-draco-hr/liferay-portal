{
  ProxyRequest proxyRequest=createProxyRequest(proceedingJoinPoint);
  Message message=new Message();
  message.setPayload(proxyRequest);
  Map<String,Object> messageVlues=MessageValuesThreadLocal.getValues();
  if (!messageVlues.isEmpty()) {
    for (    String key : messageVlues.keySet()) {
      message.put(key,messageVlues.get(key));
    }
  }
  BaseProxyBean baseProxyBean=(BaseProxyBean)proceedingJoinPoint.getTarget();
  if (proxyRequest.isSynchronous() || ProxyModeThreadLocal.isForceSync()) {
    return doInvokeSynchronous(message,baseProxyBean);
  }
 else {
    doInvokeAsynchronous(message,baseProxyBean);
    return null;
  }
}
