{
  ProxyRequest proxyRequest=createProxyRequest(proceedingJoinPoint);
  Message message=new Message();
  message.setPayload(proxyRequest);
  Map<String,Object> messageValues=MessageValuesThreadLocal.getValues();
  if (!messageValues.isEmpty()) {
    for (    String key : messageValues.keySet()) {
      message.put(key,messageValues.get(key));
    }
  }
  BaseProxyBean baseProxyBean=(BaseProxyBean)proceedingJoinPoint.getTarget();
  if (proxyRequest.isSynchronous() || ProxyModeThreadLocal.isForceSync()) {
    return doInvokeSynchronous(message,baseProxyBean);
  }
 else {
    doInvokeAsynchronous(message,baseProxyBean);
    return null;
  }
}
