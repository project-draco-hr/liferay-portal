{
  com.liferay.portlet.dynamicdatamapping.model.DDMForm form;
  com.liferay.portlet.dynamicdatamapping.model.DDMFormLayout formLayout;
  com.liferay.portlet.dynamicdatamapping.model.DDMStructure structure;
  try {
    form=BeanPropertiesUtil.deepCopyProperties(ddmForm,com.liferay.portlet.dynamicdatamapping.model.DDMForm.class);
    formLayout=BeanPropertiesUtil.deepCopyProperties(ddmFormLayout,com.liferay.portlet.dynamicdatamapping.model.DDMFormLayout.class);
    structure=_ddmStructureLocalService.updateStructure(userId,parentStructureId,form,formLayout,serviceContext);
    return BeanPropertiesUtil.deepCopyProperties(structure,DDMStructureImpl.class);
  }
 catch (  PortalException e) {
    throw e;
  }
catch (  Exception e) {
    throw new PortalException(e);
  }
}
