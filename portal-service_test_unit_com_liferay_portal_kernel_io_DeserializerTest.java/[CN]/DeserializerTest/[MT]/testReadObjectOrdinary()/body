{
  UnsyncByteArrayOutputStream unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
  unsyncByteArrayOutputStream.write(SerializationConstants.TC_CONTEXT_NAME);
  unsyncByteArrayOutputStream.write(1);
  unsyncByteArrayOutputStream.write(new byte[4]);
  ObjectOutputStream objectOutputStream=new ObjectOutputStream(unsyncByteArrayOutputStream);
  Date date=new Date(123456);
  objectOutputStream.writeObject(date);
  ByteBuffer byteBuffer=unsyncByteArrayOutputStream.unsafeGetByteBuffer();
  Deserializer deserializer=new Deserializer(byteBuffer);
  Object object=deserializer.readObject();
  Assert.assertTrue(object instanceof Date);
  Assert.assertEquals(date,object);
}
