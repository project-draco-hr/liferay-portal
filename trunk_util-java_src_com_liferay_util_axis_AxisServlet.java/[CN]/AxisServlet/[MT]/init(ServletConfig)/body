{
  _servletConfig=servletConfig;
  if (ServerDetector.isResin() || ServerDetector.isWebLogic()) {
    doInit();
  }
 else {
    InitThread initThread=new InitThread();
    initThread.start();
    try {
      initThread.join();
    }
 catch (    InterruptedException ie) {
      throw new ServletException(ie);
    }
    Exception e=initThread.getException();
    if (e != null) {
      if (e instanceof ServletException) {
        throw (ServletException)e;
      }
 else {
        throw new ServletException(e);
      }
    }
  }
}
