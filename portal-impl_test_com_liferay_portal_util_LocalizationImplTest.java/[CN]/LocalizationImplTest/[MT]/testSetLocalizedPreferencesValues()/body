{
  final ActionRequest request=_context.mock(ActionRequest.class);
  _context.checking(new Expectations(){
{
      oneOf(request).getParameter("greeting_en_US");
      will(returnValue(_englishHello));
      oneOf(request).getParameter("greeting_de_DE");
      will(returnValue(_germanHello));
      allowing(request).getParameter(with(aNonNull(String.class)));
      will(returnValue(null));
    }
  }
);
  PortletPreferences preferences=new PortletPreferencesImpl();
  LocalizationUtil.setLocalizedPreferencesValues(request,preferences,"greeting");
  assertEquals(_englishHello,LocalizationUtil.getPreferencesValue(preferences,"greeting",_englishId));
  assertEquals(_germanHello,LocalizationUtil.getPreferencesValue(preferences,"greeting",_germanId));
}
