{
  WikiPage[] pages=WikiTestUtil.addPageWithChildAndRedirectPage(group.getGroupId(),_node.getNodeId());
  WikiPage page=pages[0];
  WikiPage childPage=pages[1];
  WikiPage redirectPage=pages[2];
  moveParentBaseModelToTrash(_node.getNodeId());
  WikiNode newNode=WikiTestUtil.addNode(group.getGroupId());
  moveTrashEntry(childPage.getResourcePrimKey(),newNode.getNodeId());
  page=WikiPageLocalServiceUtil.getPage(page.getResourcePrimKey());
  redirectPage=WikiPageLocalServiceUtil.getPage(redirectPage.getResourcePrimKey());
  childPage=WikiPageLocalServiceUtil.getPage(childPage.getResourcePrimKey());
  Assert.assertEquals(_node.getNodeId(),page.getNodeId());
  Assert.assertEquals(newNode.getNodeId(),childPage.getNodeId());
  Assert.assertEquals(newNode.getNodeId(),redirectPage.getNodeId());
  Assert.assertNull(childPage.getParentPage());
  WikiPageResource pageResource=WikiPageResourceLocalServiceUtil.getWikiPageResource(page.getResourcePrimKey());
  WikiPageResource childPageResource=WikiPageResourceLocalServiceUtil.getWikiPageResource(childPage.getResourcePrimKey());
  WikiPageResource redirectPageResource=WikiPageResourceLocalServiceUtil.getWikiPageResource(redirectPage.getResourcePrimKey());
  Assert.assertEquals(_node.getNodeId(),pageResource.getNodeId());
  Assert.assertEquals(newNode.getNodeId(),childPageResource.getNodeId());
  Assert.assertEquals(newNode.getNodeId(),redirectPageResource.getNodeId());
}
