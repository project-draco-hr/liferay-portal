{
  ServiceContext serviceContext=ServiceTestUtil.getServiceContext(group.getGroupId());
  WikiNode node=(WikiNode)getParentBaseModel(group,serviceContext);
  WikiPage[] pages=WikiTestUtil.addTrashedPageWithTrashedRedirectPage(group.getGroupId(),node.getNodeId(),true);
  WikiPage page=pages[0];
  WikiPage redirectPage=pages[1];
  WikiPageLocalServiceUtil.restorePageFromTrash(TestPropsValues.getUserId(),page);
  page=WikiPageLocalServiceUtil.getPageByPageId(page.getPageId());
  redirectPage=WikiPageLocalServiceUtil.getPageByPageId(redirectPage.getPageId());
  Assert.assertFalse(page.isInTrash());
  Assert.assertTrue(redirectPage.isInTrashExplicitly());
  Assert.assertEquals(redirectPage.getRedirectTitle(),page.getTitle());
  WikiPageLocalServiceUtil.restorePageFromTrash(TestPropsValues.getUserId(),redirectPage);
  redirectPage=WikiPageLocalServiceUtil.getPageByPageId(redirectPage.getPageId());
  Assert.assertFalse(redirectPage.isInTrash());
  Assert.assertEquals(redirectPage.getRedirectTitle(),page.getTitle());
}
