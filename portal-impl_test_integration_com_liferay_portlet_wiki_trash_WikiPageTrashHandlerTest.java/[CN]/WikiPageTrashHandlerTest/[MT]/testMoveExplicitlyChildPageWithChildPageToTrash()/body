{
  int initialBaseModelsCount=getNotInTrashBaseModelsCount(_node);
  int initialTrashEntriesCount=getTrashEntriesCount(group.getGroupId());
  WikiPage[] pages=WikiTestUtil.addTrashedParentPageWithChildPageAndGrandChild(group.getGroupId(),_node.getNodeId(),true,false);
  WikiPage parentPage=pages[0];
  WikiPage childPage=pages[1];
  WikiPage grandChildPage=pages[2];
  Assert.assertFalse(parentPage.isInTrash());
  Assert.assertTrue(childPage.isInTrashExplicitly());
  Assert.assertTrue(grandChildPage.isInTrashImplicitly());
  Assert.assertEquals(childPage.getTitle(),grandChildPage.getParentTitle());
  Assert.assertEquals(initialBaseModelsCount + 1,getNotInTrashBaseModelsCount(_node));
  Assert.assertEquals(initialTrashEntriesCount + 1,getTrashEntriesCount(group.getGroupId()));
}
