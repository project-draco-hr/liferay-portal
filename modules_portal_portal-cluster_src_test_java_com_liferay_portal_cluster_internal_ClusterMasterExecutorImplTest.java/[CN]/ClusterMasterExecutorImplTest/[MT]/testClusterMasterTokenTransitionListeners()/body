{
  ClusterMasterExecutorImpl clusterMasterExecutorImpl=new ClusterMasterExecutorImpl();
  MockClusterExecutor mockClusterExecutor=new MockClusterExecutor(true);
  clusterMasterExecutorImpl.setClusterExecutorImpl(mockClusterExecutor);
  clusterMasterExecutorImpl.activate();
  Set<ClusterMasterTokenTransitionListener> clusterMasterTokenTransitionListeners=ReflectionTestUtil.getFieldValue(clusterMasterExecutorImpl,"_clusterMasterTokenTransitionListeners");
  Assert.assertTrue(clusterMasterTokenTransitionListeners.isEmpty());
  ClusterMasterTokenTransitionListener mockClusterMasterTokenTransitionListener=new MockClusterMasterTokenTransitionListener();
  clusterMasterExecutorImpl.addClusterMasterTokenTransitionListener(mockClusterMasterTokenTransitionListener);
  Assert.assertEquals(1,clusterMasterTokenTransitionListeners.size());
  clusterMasterExecutorImpl.removeClusterMasterTokenTransitionListener(mockClusterMasterTokenTransitionListener);
  Assert.assertTrue(clusterMasterTokenTransitionListeners.isEmpty());
  clusterMasterExecutorImpl.setClusterMasterTokenTransitionListeners(Collections.singleton(mockClusterMasterTokenTransitionListener));
  Assert.assertEquals(1,clusterMasterTokenTransitionListeners.size());
}
