{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  User user=themeDisplay.getUser();
  contextObjects.put("is_default_user",user.isDefaultUser());
  Contact contact=user.fetchContact();
  if (contact != null) {
    contextObjects.put("is_female",!contact.isMale());
    contextObjects.put("is_male",contact.isMale());
  }
  contextObjects.put("is_setup_complete",user.isSetupComplete());
  contextObjects.put("language",themeDisplay.getLanguageId());
  contextObjects.put("language_id",user.getLanguageId());
  if (contact != null) {
    contextObjects.put("user_birthday",contact.getBirthday());
  }
  contextObjects.put("user_comments",user.getComments());
  contextObjects.put("user_email_address",user.getEmailAddress());
  contextObjects.put("user_first_name",user.getFirstName());
  contextObjects.put("user_greeting",HtmlUtil.escape(user.getGreeting()));
  contextObjects.put("user_id",user.getUserId());
  contextObjects.put("user_last_login_ip",user.getLastLoginIP());
  contextObjects.put("user_last_name",user.getLastName());
  contextObjects.put("user_login_ip",user.getLoginIP());
  contextObjects.put("user_middle_name",user.getMiddleName());
  contextObjects.put("user_name",user.getFullName());
  Group group=themeDisplay.getSiteGroup();
  if (group.isUser()) {
    try {
      User user2=_userLocalService.getUserById(group.getClassPK());
      contextObjects.put("user2",user2);
    }
 catch (    PortalException pe) {
      _log.error(pe,pe);
    }
  }
  contextObjects.put("w3c_language_id",LocaleUtil.toW3cLanguageId(themeDisplay.getLanguageId()));
}
