{
  Group group=GroupTestUtil.addGroup();
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId(),TestPropsValues.getUserId());
  MBCategory parentCategory=MBCategoryServiceUtil.addCategory(TestPropsValues.getUserId(),MBCategoryConstants.DEFAULT_PARENT_CATEGORY_ID,RandomTestUtil.randomString(),StringPool.BLANK,serviceContext);
  MBCategory childCategory=MBCategoryServiceUtil.addCategory(TestPropsValues.getUserId(),parentCategory.getCategoryId(),RandomTestUtil.randomString(),StringPool.BLANK,serviceContext);
  MBCategoryLocalServiceUtil.moveCategoryToTrash(TestPropsValues.getUserId(),childCategory.getCategoryId());
  MBCategoryLocalServiceUtil.moveCategoryToTrash(TestPropsValues.getUserId(),parentCategory.getCategoryId());
  MBCategoryLocalServiceUtil.deleteCategory(parentCategory,false);
  GroupLocalServiceUtil.deleteGroup(group);
  List<MBCategory> categories=MBCategoryLocalServiceUtil.getCategories(group.getGroupId());
  Assert.assertEquals(0,categories.size());
}
