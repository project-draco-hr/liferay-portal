{
  ShoppingCoupon newShoppingCoupon=addShoppingCoupon();
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(ShoppingCoupon.class,ShoppingCoupon.class.getClassLoader());
  dynamicQuery.add(RestrictionsFactoryUtil.eq("couponId",newShoppingCoupon.getCouponId()));
  List<Object> result=_persistence.findWithDynamicQuery(dynamicQuery);
  assertEquals(1,result.size());
  ShoppingCoupon existingShoppingCoupon=(ShoppingCoupon)result.get(0);
  assertEquals(existingShoppingCoupon,newShoppingCoupon);
}
