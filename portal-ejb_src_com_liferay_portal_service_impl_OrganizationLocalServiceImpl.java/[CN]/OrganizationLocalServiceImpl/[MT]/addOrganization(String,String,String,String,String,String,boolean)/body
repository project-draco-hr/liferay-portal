{
  parentOrganizationId=getParentOrganizationId(companyId,parentOrganizationId);
  validate(companyId,parentOrganizationId,name,countryId,statusId,location);
  String organizationId=Long.toString(CounterServiceUtil.increment(Organization.class.getName()));
  Organization organization=OrganizationUtil.create(organizationId);
  organization.setCompanyId(companyId);
  organization.setParentOrganizationId(parentOrganizationId);
  organization.setName(name);
  organization.setRegionId(regionId);
  organization.setCountryId(countryId);
  organization.setStatusId(statusId);
  OrganizationUtil.update(organization);
  GroupLocalServiceUtil.addGroup(organization.getCompanyId(),Organization.class.getName(),organization.getPrimaryKey().toString(),null,null);
  return organization;
}
