{
  User user=null;
  try {
    Company company=CompanyLocalServiceUtil.getCompany(getCompanyId());
    String authType=company.getAuthType();
    if (authType.equals(CompanyConstants.AUTH_TYPE_ID)) {
      user=UserLocalServiceUtil.getUser(GetterUtil.getLong(createdBy));
    }
 else     if (authType.equals(CompanyConstants.AUTH_TYPE_EA)) {
      user=UserLocalServiceUtil.getUserByEmailAddress(getCompanyId(),createdBy);
    }
 else     if (authType.equals(CompanyConstants.AUTH_TYPE_SN)) {
      user=UserLocalServiceUtil.getUserByScreenName(getCompanyId(),createdBy);
    }
  }
 catch (  Exception e) {
  }
  if (user == null) {
    try {
      user=UserLocalServiceUtil.getDefaultUser(getCompanyId());
    }
 catch (    Exception e) {
    }
  }
  return user;
}
