{
  DDMStructure ddmStructure=ddmStructureLocalService.getStructure(PortalUtil.getSiteGroupId(groupId),classNameLocalService.getClassNameId(JournalArticle.class),ddmStructureKey,true);
  List<DDMStructure> folderDDMStructures=ddmStructureLocalService.getJournalFolderStructures(PortalUtil.getCurrentAndAncestorSiteGroupIds(groupId),folderId,true);
  for (  DDMStructure folderDDMStructure : folderDDMStructures) {
    if (folderDDMStructure.getStructureId() == ddmStructure.getStructureId()) {
      return;
    }
  }
  throw new InvalidDDMStructureException("Invalid structure " + ddmStructure.getStructureId() + " for folder "+ folderId);
}
