{
  DDMStructure ddmStructure=ddmStructureLocalService.getStructure(PortalUtil.getSiteGroupId(groupId),classNameLocalService.getClassNameId(JournalArticle.class),ddmStructureKey,true);
  List<DDMStructure> ddmStructures=ddmStructureLocalService.getJournalFolderStructures(PortalUtil.getCurrentAndAncestorSiteGroupIds(groupId),folderId,true);
  for (  DDMStructure curDDMStructure : ddmStructures) {
    if (curDDMStructure.getStructureId() == ddmStructure.getStructureId()) {
      return;
    }
  }
  throw new InvalidDDMStructureException("Invalid structure " + ddmStructure.getStructureId() + " for folder "+ folderId);
}
