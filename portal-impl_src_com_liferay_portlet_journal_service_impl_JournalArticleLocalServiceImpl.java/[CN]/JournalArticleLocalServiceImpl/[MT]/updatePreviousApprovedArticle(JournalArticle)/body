{
  List<JournalArticle> approvedArticleVersions=journalArticlePersistence.findByG_A_S(article.getGroupId(),article.getArticleId(),WorkflowConstants.STATUS_APPROVED,0,2);
  if (approvedArticleVersions.size() > 1) {
    JournalArticle previousApprovedArticle=approvedArticleVersions.get(1);
    if (article.isIndexable()) {
      Indexer indexer=IndexerRegistryUtil.getIndexer(JournalArticle.class);
      indexer.reindex(previousApprovedArticle);
    }
  }
 else {
    if (article.isIndexable()) {
      Indexer indexer=IndexerRegistryUtil.getIndexer(JournalArticle.class);
      indexer.delete(article);
    }
    assetEntryLocalService.updateVisible(JournalArticle.class.getName(),article.getResourcePrimKey(),false);
  }
}
