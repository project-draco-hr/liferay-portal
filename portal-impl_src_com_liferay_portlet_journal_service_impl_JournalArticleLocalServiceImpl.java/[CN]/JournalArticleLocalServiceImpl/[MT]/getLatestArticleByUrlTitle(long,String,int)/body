{
  List<JournalArticle> articles=null;
  OrderByComparator orderByComparator=new ArticleVersionComparator();
  if (status == WorkflowConstants.STATUS_ANY) {
    articles=journalArticlePersistence.findByG_UT(groupId,urlTitle,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
 else {
    articles=journalArticlePersistence.findByG_UT_ST(groupId,urlTitle,status,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
  if (articles.isEmpty()) {
    throw new NoSuchArticleException("No JournalArticle with the key {groupId=" + groupId + ", urlTitle="+ urlTitle+ ", status="+ status+ "}");
  }
  Date now=new Date();
  for (int i=0; i < articles.size(); i++) {
    JournalArticle article=articles.get(i);
    Date expirationDate=article.getExpirationDate();
    if (article.getDisplayDate().before(now) && ((expirationDate == null) || expirationDate.after(now))) {
      return article;
    }
  }
  return articles.get(0);
}
