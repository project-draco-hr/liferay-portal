{
  if ((prefs != null) && !article.isApproved() && isLatestVersion(article.getGroupId(),article.getArticleId(),article.getVersion())) {
    try {
      sendEmail(article,articleURL,prefs,"denied");
    }
 catch (    IOException ioe) {
      throw new SystemException(ioe);
    }
  }
  article.setExpirationDate(new Date());
  article.setApproved(false);
  article.setExpired(true);
  journalArticlePersistence.update(article,false);
  try {
    if (article.isIndexable()) {
      Indexer.deleteArticle(article.getCompanyId(),article.getArticleId());
    }
  }
 catch (  IOException ioe) {
    _log.error("Removing index " + article.getId(),ioe);
  }
}
