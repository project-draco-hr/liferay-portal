{
  JournalArticle article=new JournalArticleImpl();
  article.setUserId(userId);
  article.setGroupId(groupId);
  article.setArticleId(articleId);
  article.setVersion(version);
  article.setTitle(title);
  article.setDescription(description);
  article.setContent(content);
  article.setType(type);
  article.setStructureId(structureId);
  article.setTemplateId(templateId);
  article.setApproved(false);
  article.setIndexable(indexable);
  article.setSmallImage(smallImage);
  article.setSmallImageId(counterLocalService.increment());
  article.setSmallImageURL(smallImageURL);
  JournalArticleContent articleContent=new JournalArticleContent(article);
  JournalArticleContent.CreationAttributes creationAttributes=articleContent.new CreationAttributes();
  creationAttributes.setArticleURL(articleURL);
  creationAttributes.setPrefs(prefs);
  creationAttributes.setTagsEntries(tagsEntries);
  creationAttributes.setDisplayDateDay(displayDateDay);
  creationAttributes.setDisplayDateHour(displayDateHour);
  creationAttributes.setDisplayDateMinute(displayDateMinute);
  creationAttributes.setDisplayDateMonth(displayDateMonth);
  creationAttributes.setDisplayDateYear(displayDateYear);
  creationAttributes.setExpirationDateDay(expirationDateDay);
  creationAttributes.setExpirationDateHour(expirationDateHour);
  creationAttributes.setExpirationDateMinute(expirationDateMinute);
  creationAttributes.setExpirationDateMonth(expirationDateMonth);
  creationAttributes.setExpirationDateYear(expirationDateYear);
  creationAttributes.setNeverExpire(neverExpire);
  creationAttributes.setReviewDateDay(reviewDateDay);
  creationAttributes.setReviewDateHour(reviewDateHour);
  creationAttributes.setReviewDateMinute(reviewDateMinute);
  creationAttributes.setReviewDateMonth(reviewDateMonth);
  creationAttributes.setReviewDateYear(reviewDateYear);
  creationAttributes.setNeverReview(neverReview);
  creationAttributes.setIncrementVersion(incrementVersion);
  creationAttributes.setSmallFile(smallFile);
  creationAttributes.setImages(images);
  articleContent.setCreationAttributes(creationAttributes);
  ContentService contentService=MirageServiceFactory.getContentService();
  try {
    contentService.updateContent(articleContent);
  }
 catch (  CMSException ce) {
    _throwException(ce);
  }
  article=articleContent.getArticle();
  return article;
}
