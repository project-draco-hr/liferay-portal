{
  try {
    SearchCriteria expireCriteria=new SearchCriteria();
    List<SearchFieldValue> searchFields=new ArrayList<SearchFieldValue>();
    Map<String,String> fields=new HashMap<String,String>();
    fields.put(OptionalJournalArticleCriteria.FINDER,OptionalJournalArticleCriteria.FIND_BY_EXPIRATION_DATE);
    if (now == null) {
      fields.put(OptionalJournalArticleCriteria.EXPIRATION_DATE_LT,null);
    }
 else {
      fields.put(OptionalJournalArticleCriteria.EXPIRATION_DATE_LT,String.valueOf(now.getTime()));
    }
    if (expirationDateGT == null) {
      fields.put(OptionalJournalArticleCriteria.EXPIRATION_DATE_GT,null);
    }
 else {
      fields.put(OptionalJournalArticleCriteria.EXPIRATION_DATE_GT,String.valueOf(expirationDateGT.getTime()));
    }
    fields.put(OptionalJournalArticleCriteria.EXPIRED,String.valueOf(false));
    _addSearchFields(searchFields,fields);
    expireCriteria.setSearchFieldValues(searchFields);
    ContentService contentService=MirageServiceFactory.getContentService();
    List<Content> contents=contentService.searchContents(expireCriteria);
    List<JournalArticle> articles=_getArticlesFromContents(contents);
    return articles;
  }
 catch (  CMSException ex) {
    throw (SystemException)ex.getCause();
  }
}
