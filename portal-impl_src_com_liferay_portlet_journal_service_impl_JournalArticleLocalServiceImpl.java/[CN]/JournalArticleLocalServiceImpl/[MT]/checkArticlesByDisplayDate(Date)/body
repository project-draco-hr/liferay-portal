{
  List<JournalArticle> articles=journalArticlePersistence.findByLtD_S(displayDate,WorkflowConstants.STATUS_SCHEDULED);
  for (  JournalArticle article : articles) {
    Indexer indexer=IndexerRegistryUtil.nullSafeGetIndexer(JournalArticle.class);
    indexer.reindex(article);
    ServiceContext serviceContext=new ServiceContext();
    serviceContext.setCommand(Constants.UPDATE);
    String layoutFullURL=PortalUtil.getLayoutFullURL(article.getGroupId(),PortletKeys.JOURNAL);
    serviceContext.setLayoutFullURL(layoutFullURL);
    serviceContext.setScopeGroupId(article.getGroupId());
    journalArticleLocalService.updateStatus(article.getUserId(),article,WorkflowConstants.STATUS_APPROVED,null,serviceContext,new HashMap<String,Serializable>());
  }
}
