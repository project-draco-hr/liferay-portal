{
  List<JournalArticle> articles=null;
  OrderByComparator orderByComparator=new ArticleVersionComparator();
  if (status == WorkflowConstants.STATUS_ANY) {
    if (preferApproved) {
      articles=journalArticlePersistence.findByR_ST(resourcePrimKey,WorkflowConstants.STATUS_APPROVED,0,1,orderByComparator);
    }
    if ((articles == null) || (articles.size() == 0)) {
      articles=journalArticlePersistence.findByResourcePrimKey(resourcePrimKey,0,1,orderByComparator);
    }
  }
 else {
    articles=journalArticlePersistence.findByR_ST(resourcePrimKey,status,0,1,orderByComparator);
  }
  if (articles.isEmpty()) {
    throw new NoSuchArticleException("No JournalArticle with the key {resourcePrimKey=" + resourcePrimKey + "}");
  }
  return articles.get(0);
}
