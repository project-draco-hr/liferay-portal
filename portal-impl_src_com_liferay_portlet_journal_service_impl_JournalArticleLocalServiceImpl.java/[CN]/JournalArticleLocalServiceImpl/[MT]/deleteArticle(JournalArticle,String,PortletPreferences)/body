{
  try {
    if (article.isApproved() && article.isIndexable()) {
      Indexer.deleteArticle(article.getCompanyId(),article.getArticleId());
    }
  }
 catch (  IOException ioe) {
    _log.error("Deleting index " + article.getPrimaryKey(),ioe);
  }
  if ((prefs != null) && !article.isApproved() && isLatestVersion(article.getGroupId(),article.getArticleId(),article.getVersion())) {
    sendEmail(article,articleURL,prefs,"denied");
  }
  TagsAssetLocalServiceUtil.deleteAsset(JournalArticle.class.getName(),article.getResourcePrimKey());
  RatingsStatsLocalServiceUtil.deleteStats(JournalArticle.class.getName(),article.getResourcePrimKey());
  MBMessageLocalServiceUtil.deleteDiscussionMessages(JournalArticle.class.getName(),article.getResourcePrimKey());
  JournalContentSearchLocalServiceUtil.deleteArticleContentSearches(article.getGroupId(),article.getArticleId());
  JournalArticleImageLocalServiceUtil.deleteImages(article.getGroupId(),article.getArticleId(),article.getVersion());
  if (JournalArticleUtil.countByG_A(article.getGroupId(),article.getArticleId()) == 1) {
    ResourceLocalServiceUtil.deleteResource(article.getCompanyId(),JournalArticle.class.getName(),ResourceImpl.SCOPE_INDIVIDUAL,article.getResourcePrimKey());
  }
  if (JournalArticleUtil.countByG_A(article.getGroupId(),article.getArticleId()) == 1) {
    try {
      JournalArticleResourceLocalServiceUtil.deleteArticleResource(article.getGroupId(),article.getArticleId());
    }
 catch (    NoSuchArticleResourceException nsare) {
    }
  }
  JournalArticleUtil.remove(article.getPrimaryKey());
}
