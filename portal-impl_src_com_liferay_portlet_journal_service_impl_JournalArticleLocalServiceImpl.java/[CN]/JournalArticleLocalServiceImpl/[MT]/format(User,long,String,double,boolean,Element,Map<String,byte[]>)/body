{
  for (  Element element : root.elements()) {
    String elInstanceId=element.attributeValue("instance-id",StringPool.BLANK);
    String elName=element.attributeValue("name",StringPool.BLANK);
    String elType=element.attributeValue("type",StringPool.BLANK);
    if (elType.equals("image")) {
      formatImage(groupId,articleId,version,incrementVersion,element,elInstanceId,elName,images);
    }
 else     if (elType.equals("text_area") || elType.equals("text") || elType.equals("text_box")) {
      String contentTypes=null;
      if (elType.equals("text_area")) {
        contentTypes=ContentTypes.TEXT_HTML;
      }
 else {
        contentTypes=ContentTypes.TEXT_PLAIN;
      }
      List<Element> dynamicContentElements=element.elements("dynamic-content");
      for (      Element dynamicContentElement : dynamicContentElements) {
        String dynamicContent=dynamicContentElement.getText();
        if (Validator.isNotNull(dynamicContent)) {
          dynamicContent=SanitizerUtil.sanitize(user.getCompanyId(),groupId,user.getUserId(),JournalArticle.class.getName(),0,contentTypes,dynamicContent);
          dynamicContentElement.clearContent();
          dynamicContentElement.addCDATA(dynamicContent);
        }
      }
    }
    format(user,groupId,articleId,version,incrementVersion,element,images);
  }
}
