{
  Document doc=null;
  try {
    doc=SAXReaderUtil.read(content);
    Element root=doc.getRootElement();
    if (Validator.isNotNull(structureId)) {
      format(companyId,userId,groupId,articleId,version,incrementVersion,root,images);
    }
 else {
      Element staticContent=root.element("static-content");
      String sanitizedContent=SanitizerUtil.sanitize(companyId,groupId,userId,JournalArticle.class.getName(),0,ContentTypes.TEXT_HTML,staticContent.getText());
      staticContent.setText(sanitizedContent);
    }
    content=DDMXMLUtil.formatXML(doc);
  }
 catch (  DocumentException de) {
    _log.error(de);
  }
catch (  IOException ioe) {
    _log.error(ioe);
  }
  content=HtmlUtil.replaceMsWordCharacters(content);
  return content;
}
