{
  Document document=null;
  try {
    document=SAXReaderUtil.read(content);
    Element rootElement=document.getRootElement();
    if (Validator.isNotNull(structureId)) {
      format(user,groupId,articleId,version,incrementVersion,rootElement,images);
    }
 else {
      Element staticContentElement=rootElement.element("static-content");
      String staticContent=SanitizerUtil.sanitize(user.getCompanyId(),groupId,user.getUserId(),JournalArticle.class.getName(),0,ContentTypes.TEXT_HTML,staticContentElement.getText());
      staticContentElement.setText(staticContent);
    }
    content=DDMXMLUtil.formatXML(document);
  }
 catch (  DocumentException de) {
    _log.error(de);
  }
catch (  IOException ioe) {
    _log.error(ioe);
  }
  content=HtmlUtil.replaceMsWordCharacters(content);
  return content;
}
