{
  Group companyGroup=groupLocalService.getCompanyGroup(article.getCompanyId());
  JournalStructure structure=null;
  try {
    structure=journalStructurePersistence.findByG_S(article.getGroupId(),article.getStructureId());
  }
 catch (  NoSuchStructureException nsse) {
    structure=journalStructurePersistence.findByG_S(companyGroup.getGroupId(),article.getStructureId());
  }
  String content=GetterUtil.getString(article.getContent());
  try {
    Document contentDocument=SAXReaderUtil.read(content);
    Document xsdDocument=SAXReaderUtil.read(structure.getXsd());
    checkStructure(contentDocument,xsdDocument.getRootElement());
  }
 catch (  DocumentException de) {
    throw new SystemException(de);
  }
catch (  StructureXsdException sxsde) {
    long groupId=article.getGroupId();
    String articleId=article.getArticleId();
    double version=article.getVersion();
    if (_log.isWarnEnabled()) {
      _log.warn("Article {groupId=" + groupId + ", articleId="+ articleId+ ", version="+ version+ "} has content that does not match its "+ "structure: "+ sxsde.getMessage());
    }
  }
}
