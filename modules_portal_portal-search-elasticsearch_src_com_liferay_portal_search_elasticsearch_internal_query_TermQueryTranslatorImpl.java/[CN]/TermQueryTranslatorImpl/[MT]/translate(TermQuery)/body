{
  QueryTerm queryTerm=termQuery.getQueryTerm();
  String field=queryTerm.getField();
  String value=queryTerm.getValue();
  if ((_queryPreProcessConfiguration != null) && _queryPreProcessConfiguration.isSubstringSearchAlways(field)) {
    WildcardQueryBuilder wildcardQueryBuilder=toCaseInsensitiveSubstringQuery(field,value);
    if (!termQuery.isDefaultBoost()) {
      wildcardQueryBuilder.boost(termQuery.getBoost());
    }
    return wildcardQueryBuilder;
  }
  MatchQueryBuilder matchQueryBuilder=QueryBuilders.matchQuery(field,value);
  if (!termQuery.isDefaultBoost()) {
    matchQueryBuilder.boost(termQuery.getBoost());
  }
  if (Validator.isNotNull(termQuery.getAnalyzer())) {
    matchQueryBuilder.analyzer(termQuery.getAnalyzer());
  }
  return matchQueryBuilder;
}
