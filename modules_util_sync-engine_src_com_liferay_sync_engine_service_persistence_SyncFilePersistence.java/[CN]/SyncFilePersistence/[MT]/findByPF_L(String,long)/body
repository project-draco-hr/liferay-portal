{
  QueryBuilder<SyncFile,Long> queryBuilder=queryBuilder();
  Where<SyncFile,Long> where=queryBuilder.where();
  FileSystem fileSystem=FileSystems.getDefault();
  parentFilePathName=StringUtils.replace(parentFilePathName + fileSystem.getSeparator(),"\\","\\\\");
  where.like("filePathName",new SelectArg(parentFilePathName + "%"));
  where.lt("localSyncTime",localSyncTime);
  where.or(where.eq("state",SyncFile.STATE_SYNCED),where.eq("uiEvent",SyncFile.UI_EVENT_DELETED_LOCAL),where.eq("uiEvent",SyncFile.UI_EVENT_UPLOADING));
  where.ne("type",SyncFile.TYPE_SYSTEM);
  where.and(4);
  return where.query();
}
