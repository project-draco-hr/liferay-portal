{
  ThemeDisplay themeDisplay=(ThemeDisplay)resourceRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(resourceRequest,"groupId");
  String articleId=ParamUtil.getString(resourceRequest,"articleId");
  double sourceVersion=ParamUtil.getDouble(resourceRequest,"sourceVersion");
  double targetVersion=ParamUtil.getDouble(resourceRequest,"targetVersion");
  String languageId=ParamUtil.getString(resourceRequest,"languageId");
  String diffHtmlResults=JournalUtil.diffHtml(groupId,articleId,sourceVersion,targetVersion,languageId,new PortletRequestModel(resourceRequest,resourceResponse),themeDisplay);
  resourceRequest.setAttribute(WebKeys.DIFF_HTML_RESULTS,diffHtmlResults);
  PortletContext portletContext=portletConfig.getPortletContext();
  PortletRequestDispatcher portletRequestDispatcher=portletContext.getRequestDispatcher("/html/taglib/ui/diff_version_comparator/diff_html.jsp");
  portletRequestDispatcher.include(resourceRequest,resourceResponse);
}
