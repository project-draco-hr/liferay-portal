{
  if (expandoBridge == null) {
    return;
  }
  List<String> attributeNames=Collections.list(expandoBridge.getAttributeNames());
  for (  String attributeName : attributeNames) {
    int attributeType=expandoBridge.getAttributeType(attributeName);
    UnicodeProperties attributeProperties=expandoBridge.getAttributeProperties(attributeName);
    boolean propertyIndexable=GetterUtil.getBoolean(attributeProperties.get(ExpandoBridgeIndexer.INDEXABLE));
    if ((attributeType == ExpandoColumnConstants.STRING) && (propertyIndexable)) {
      try {
        String attributeValue=ExpandoValueLocalServiceUtil.getData(expandoBridge.getClassName(),ExpandoTableConstants.DEFAULT_TABLE_NAME,attributeName,expandoBridge.getClassPK(),StringPool.BLANK);
        doc.addText(attributeName,attributeValue);
      }
 catch (      Exception e) {
        _log.error("Indexing " + attributeName,e);
      }
    }
  }
}
