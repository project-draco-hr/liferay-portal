{
  Registry registry=RegistryUtil.getRegistry();
  _serviceTracker=registry.trackServices(RepositoryDefiner.class,new RepositoryDefinerServiceTrackerCustomizer());
  _serviceTracker.open();
  registerRepositoryDefiner(_liferayRepositoryDefiner);
  ClassLoader classLoader=PortalClassLoaderUtil.getClassLoader();
  for (  String className : PropsValues.DL_REPOSITORY_IMPL) {
    ExternalRepositoryFactory externalRepositoryFactory=new ExternalRepositoryFactoryImpl(className,classLoader);
    registerLegacyExternalRepositoryFactory(className,externalRepositoryFactory);
  }
}
