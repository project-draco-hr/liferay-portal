{
  SyncFile syncFile=SyncFileService.fetchSyncFile(syncSite.getFilePathName());
  if (syncFile != null) {
    SyncFileService.deleteSyncFiles(syncFile,true);
  }
  Path filePath=Paths.get(syncSite.getFilePathName());
  if (!Files.exists(filePath)) {
    return;
  }
  final Watcher watcher=WatcherManager.getWatcher(syncSite.getSyncAccountId());
  final List<String> deletedFilePathNames=watcher.getDeletedFilePathNames();
  Files.walkFileTree(filePath,new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult postVisitDirectory(    Path filePath,    IOException ioe) throws IOException {
      if (ioe != null) {
        return super.postVisitDirectory(filePath,ioe);
      }
      deletedFilePathNames.add(filePath.toString());
      FileUtil.deleteFile(filePath);
      return FileVisitResult.CONTINUE;
    }
    @Override public FileVisitResult visitFile(    Path filePath,    BasicFileAttributes basicFileAttributes) throws IOException {
      deletedFilePathNames.add(filePath.toString());
      FileUtil.deleteFile(filePath);
      return FileVisitResult.CONTINUE;
    }
  }
);
}
