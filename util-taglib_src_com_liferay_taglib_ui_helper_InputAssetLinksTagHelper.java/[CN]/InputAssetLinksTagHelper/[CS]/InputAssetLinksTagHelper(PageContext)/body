{
  super();
  _pageContext=pageContext;
  _request=(HttpServletRequest)pageContext.getRequest();
  ThemeDisplay themeDisplay=(ThemeDisplay)_request.getAttribute(WebKeys.THEME_DISPLAY);
  _locale=themeDisplay.getLocale();
  _companyId=themeDisplay.getCompany().getCompanyId();
  _companyGroupId=themeDisplay.getCompanyGroupId();
  _user=themeDisplay.getUser();
  _portletRequest=(PortletRequest)_request.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  _randomNamespace=PortalUtil.generateRandomKey(_request,"taglib_ui_input_asset_links_page") + StringPool.UNDERLINE;
  _eventName=_randomNamespace + "selectAsset";
  _assetEntryId=GetterUtil.getLong((String)_request.getAttribute("liferay-ui:input-asset-links:assetEntryId"));
  _scopeGroup=GroupLocalServiceUtil.getGroup(themeDisplay.getScopeGroupId());
  _stagedLocally=_scopeGroup.isStaged() && !_scopeGroup.isStagedRemotely();
  _stagedReferrerPortlet=false;
  if (_stagedLocally) {
    String className=(String)_request.getAttribute("liferay-ui:input-asset-links:className");
    AssetRendererFactory factory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(className);
    _stagedReferrerPortlet=_scopeGroup.isStagedPortlet(factory.getPortletId());
  }
}
