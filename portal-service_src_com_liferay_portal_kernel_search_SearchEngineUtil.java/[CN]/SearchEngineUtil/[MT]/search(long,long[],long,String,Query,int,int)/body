{
  SearchContext searchContext=new SearchContext();
  searchContext.setSearchEngineId(getDefaultSearchEngineId());
  if (userId > 0) {
    query=_searchPermissionChecker.getPermissionQuery(companyId,groupIds,userId,className,query,searchContext);
  }
  return search(companyId,query,SortFactoryUtil.getDefaultSorts(),start,end);
}
