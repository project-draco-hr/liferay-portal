{
  if (isIndexReadOnly()) {
    return;
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Add document " + document.toString());
  }
  _searchPermissionChecker.addPermissionFields(companyId,document);
  SearchEngine searchEngine=_searchEngines.get(searchEngineId);
  searchEngine.getWriter().addDocument(companyId,document);
}
