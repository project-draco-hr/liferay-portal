{
  createUser(_defaultContactId,"default@liferay.com",StringPool.BLANK,0,null,StringPool.BLANK,null,null,null,null,String.valueOf(_defaultUserId),_defaultUserId);
  write(StringPool.NEW_LINE);
  String dependenciesDir="../portal-impl/src/com/liferay/portal/tools/samplesqlbuilder/" + "dependencies/";
  List<String> firstNames=ListUtil.fromFile(dependenciesDir + "first_names.txt");
  List<String> lastNames=ListUtil.fromFile(dependenciesDir + "last_names.txt");
  List<Group> groups=new ArrayList<Group>();
  Group group=new GroupImpl();
  group.setGroupId(_guestGroupId);
  group.setName(GroupConstants.GUEST);
  groups.add(group);
  List<Role> roles=new ArrayList<Role>();
  Role role=new RoleImpl();
  role.setRoleId(_userRoleId);
  role.setName(RoleConstants.USER);
  roles.add(role);
  Writer loginCsvWriter=new FileWriter(new File(_outputDir + "/login.csv"));
  int userCount=0;
  for (  String lastName : lastNames) {
    for (    String firstName : firstNames) {
      userCount++;
      createUser(firstName,groups,lastName,roles,userCount,loginCsvWriter);
      if (userCount >= _maxUserCount) {
        break;
      }
    }
    if (userCount >= _maxUserCount) {
      break;
    }
  }
  loginCsvWriter.flush();
}
