{
  final Writer writer=createUnsyncBufferedWriter(charPipe.getWriter());
  Thread thread=new Thread(){
    @Override public void run(){
      try {
        _writerSampleSQL=new UnsyncTeeWriter(writer,createFileWriter(_outputDir + "/sample.sql"));
        Map<String,Object> context=getContext();
        processTemplate(_tplSample,context);
        for (        Object value : context.values()) {
          if (value instanceof Writer) {
            Writer writer=(Writer)value;
            writer.close();
          }
        }
        _writerSampleSQL.close();
        charPipe.close();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
;
  thread.start();
}
