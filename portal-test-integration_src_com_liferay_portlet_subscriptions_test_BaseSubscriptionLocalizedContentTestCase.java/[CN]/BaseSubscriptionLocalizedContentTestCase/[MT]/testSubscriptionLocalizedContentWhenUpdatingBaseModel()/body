{
  Map<Locale,String> previousLocalizedContents=new HashMap<>();
  previousLocalizedContents.putAll(localizedContents);
  localizedContents.put(LocaleUtil.SPAIN,SPANISH_BODY);
  setBaseModelSubscriptionBodyPreferences(getSubscriptionUpdatedBodyPreferenceName());
  LocaleThreadLocal.setDefaultLocale(LocaleUtil.SPAIN);
  long baseModelId=addBaseModel(creatorUser.getUserId(),getDefaultContainerModelId());
  addSubscriptionContainerModel(getDefaultContainerModelId());
  updateBaseModel(creatorUser.getUserId(),baseModelId);
  List<MailMessage> messages=MailServiceTestUtil.getMailMessages("Body",SPANISH_BODY);
  Assert.assertEquals(1,messages.size());
  localizedContents=previousLocalizedContents;
}
