{
  _putLock.lock();
  _takeLock.lock();
  try {
    int pendingElements=_pendingCount.get();
    Object[] array=new Object[pendingElements];
    int index=0;
    Element<E> current=_head.next;
    while (current != null) {
      array[index++]=current.item;
      current=current.next;
    }
    return array;
  }
  finally {
    _putLock.unlock();
    _takeLock.unlock();
  }
}
