{
  DDMForm ddmForm=createDDMForm();
  addDDMFormFields(ddmForm,createTextDDMFormField("Content","",true,true,false));
  DDMStructure ddmStructure=createStructure("Test Structure",ddmForm);
  Field existingContentField=createField(ddmStructure.getStructureId(),"Content",createValuesList("Content 1","Content 3"),createValuesList("Conteudo 1","Conteudo 3"));
  Field existingFieldsDisplayField=createFieldsDisplayField(ddmStructure.getStructureId(),"Content_INSTANCE_ovho,Content_INSTANCE_yiek");
  Fields existingFields=createFields(existingContentField,existingFieldsDisplayField);
  Field newContentField=createField(ddmStructure.getStructureId(),"Content",createValuesList("Content 1","Content 2","Content 3"),null);
  Field newFieldsDisplayField=createFieldsDisplayField(ddmStructure.getStructureId(),"Content_INSTANCE_ovho,Content_INSTANCE_zuvh," + "Content_INSTANCE_yiek");
  Fields newFields=createFields(newContentField,newFieldsDisplayField);
  Fields actualFields=_ddmImpl.mergeFields(newFields,existingFields);
  Field actualContentField=actualFields.get("Content");
  Assert.assertNotNull(actualContentField);
  testValues(actualContentField.getValues(LocaleUtil.US),"Content 1","Content 2","Content 3");
  testValues(actualContentField.getValues(LocaleUtil.BRAZIL),"Conteudo 1","Content 2","Conteudo 3");
}
