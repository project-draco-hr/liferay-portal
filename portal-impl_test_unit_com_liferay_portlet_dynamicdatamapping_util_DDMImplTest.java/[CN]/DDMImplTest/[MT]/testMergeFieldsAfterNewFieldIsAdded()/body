{
  DDMForm ddmForm=createDDMForm();
  addDDMFormFields(ddmForm,createTextDDMFormField("Title","",true,false,false),createTextDDMFormField("Content","",true,false,false));
  DDMStructure ddmStructure=createStructure("Test Structure",ddmForm);
  Field existingTitleField=createField(ddmStructure.getStructureId(),"Title",createValuesList("Title value"),null);
  Field existingFieldsDisplayField=createFieldsDisplayField(ddmStructure.getStructureId(),"Title_INSTANCE_ovho");
  Fields existingFields=createFields(existingTitleField,existingFieldsDisplayField);
  Field newContentField=createField(ddmStructure.getStructureId(),"Content",createValuesList("Content value"),null);
  Field newFieldsDisplayField=createFieldsDisplayField(ddmStructure.getStructureId(),"Title_INSTANCE_ovho,Content_INSTANCE_yiek");
  Fields newFields=createFields(existingTitleField,newContentField,newFieldsDisplayField);
  Fields actualFields=_ddmImpl.mergeFields(newFields,existingFields);
  Field actualContentField=actualFields.get("Content");
  Assert.assertNotNull(actualContentField);
  Assert.assertEquals("Content value",actualContentField.getValue(LocaleUtil.US));
}
