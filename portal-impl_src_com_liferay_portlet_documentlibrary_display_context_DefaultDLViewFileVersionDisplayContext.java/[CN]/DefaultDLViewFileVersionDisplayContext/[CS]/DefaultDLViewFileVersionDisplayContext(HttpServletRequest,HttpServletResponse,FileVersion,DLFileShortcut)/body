{
  try {
    _dlRequestHelper=new DLRequestHelper(request);
    _fileVersion=fileVersion;
    FileEntry fileEntry=null;
    if (fileVersion != null) {
      fileEntry=fileVersion.getFileEntry();
    }
    _fileEntryDisplayContextHelper=new FileEntryDisplayContextHelper(_dlRequestHelper.getPermissionChecker(),fileEntry);
    _fileVersionDisplayContextHelper=new FileVersionDisplayContextHelper(fileVersion);
    if (dlFileShortcut == null) {
      _uiItemsBuilder=new UIItemsBuilder(request,response,fileVersion);
    }
 else {
      _uiItemsBuilder=new UIItemsBuilder(request,response,dlFileShortcut);
    }
  }
 catch (  PortalException pe) {
    throw new SystemException("Unable to build DefaultDLViewFileVersionDisplayContext for " + fileVersion,pe);
  }
}
