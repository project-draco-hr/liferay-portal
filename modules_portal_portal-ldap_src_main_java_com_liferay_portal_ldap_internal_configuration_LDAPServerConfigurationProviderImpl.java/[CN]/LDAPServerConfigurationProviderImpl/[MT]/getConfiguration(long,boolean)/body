{
  List<LDAPServerConfiguration> ldapServerConfigurations=getConfigurations(companyId,useDefault);
  if (ldapServerConfigurations.isEmpty()) {
    throw new IllegalArgumentException("No LDAP server configuration found for company " + companyId);
  }
  return ldapServerConfigurations.get(0);
}
