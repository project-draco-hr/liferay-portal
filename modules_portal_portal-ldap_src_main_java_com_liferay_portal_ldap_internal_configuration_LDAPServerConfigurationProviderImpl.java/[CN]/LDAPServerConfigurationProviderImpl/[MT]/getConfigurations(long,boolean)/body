{
  List<Dictionary<String,Object>> configurationsProperties=getConfigurationsProperties(companyId);
  List<LDAPServerConfiguration> ldapServerConfigurations=new ArrayList<>(configurationsProperties.size());
  if (ListUtil.isEmpty(configurationsProperties) && useDefault) {
    LDAPServerConfiguration ldapServerConfiguration=Configurable.createConfigurable(getMetatype(),new HashMapDictionary<>());
    ldapServerConfigurations.add(ldapServerConfiguration);
  }
 else   if (ListUtil.isNotEmpty(configurationsProperties)) {
    for (    Dictionary<String,Object> configurationProperties : configurationsProperties) {
      LDAPServerConfiguration ldapServerConfiguration=Configurable.createConfigurable(getMetatype(),configurationProperties);
      ldapServerConfigurations.add(ldapServerConfiguration);
    }
  }
  return ldapServerConfigurations;
}
