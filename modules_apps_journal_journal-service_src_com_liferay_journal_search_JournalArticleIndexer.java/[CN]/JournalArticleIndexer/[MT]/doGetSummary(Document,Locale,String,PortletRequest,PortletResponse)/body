{
  Locale snippetLocale=getSnippetLocale(document,locale);
  String localizedTitleName=DocumentImpl.getLocalizedName(locale,Field.TITLE);
  if ((snippetLocale == null) || (document.getField(localizedTitleName) == null)) {
    snippetLocale=LocaleUtil.fromLanguageId(document.get("defaultLanguageId"));
  }
  String title=document.get(snippetLocale,Field.SNIPPET + StringPool.UNDERLINE + Field.TITLE,Field.TITLE);
  String content=getDDMContentSummary(document,snippetLocale,portletRequest,portletResponse);
  return new Summary(snippetLocale,title,content);
}
