{
  Long classNameId=(Long)searchContext.getAttribute(Field.CLASS_NAME_ID);
  if ((classNameId != null) && (classNameId != 0)) {
    contextBooleanFilter.addRequiredTerm(Field.CLASS_NAME_ID,classNameId.toString());
  }
  addStatus(contextBooleanFilter,searchContext);
  addSearchClassTypeIds(contextBooleanFilter,searchContext);
  String ddmStructureFieldName=(String)searchContext.getAttribute("ddmStructureFieldName");
  Serializable ddmStructureFieldValue=searchContext.getAttribute("ddmStructureFieldValue");
  if (Validator.isNotNull(ddmStructureFieldName) && Validator.isNotNull(ddmStructureFieldValue)) {
    QueryFilter queryFilter=DDMIndexerUtil.createFieldValueQueryFilter(ddmStructureFieldName,ddmStructureFieldValue,searchContext.getLocale());
    contextBooleanFilter.add(queryFilter,BooleanClauseOccur.MUST);
  }
  String articleType=(String)searchContext.getAttribute("articleType");
  if (Validator.isNotNull(articleType)) {
    contextBooleanFilter.addRequiredTerm(Field.TYPE,articleType);
  }
  String ddmStructureKey=(String)searchContext.getAttribute("ddmStructureKey");
  if (Validator.isNotNull(ddmStructureKey)) {
    contextBooleanFilter.addRequiredTerm("ddmStructureKey",ddmStructureKey);
  }
  String ddmTemplateKey=(String)searchContext.getAttribute("ddmTemplateKey");
  if (Validator.isNotNull(ddmTemplateKey)) {
    contextBooleanFilter.addRequiredTerm("ddmTemplateKey",ddmTemplateKey);
  }
  boolean head=GetterUtil.getBoolean(searchContext.getAttribute("head"),Boolean.TRUE);
  boolean showNonIndexable=GetterUtil.getBoolean(searchContext.getAttribute("showNonIndexable"),Boolean.FALSE);
  boolean relatedClassName=GetterUtil.getBoolean(searchContext.getAttribute("relatedClassName"));
  if (!showNonIndexable && head && !relatedClassName) {
    contextBooleanFilter.addRequiredTerm("head",Boolean.TRUE);
  }
  if (!relatedClassName && showNonIndexable) {
    contextBooleanFilter.addRequiredTerm("headListable",Boolean.TRUE);
  }
}
