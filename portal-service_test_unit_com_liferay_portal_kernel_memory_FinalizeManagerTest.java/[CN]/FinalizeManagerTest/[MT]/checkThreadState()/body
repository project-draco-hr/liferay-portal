{
  Thread finalizeThread=null;
  for (  Thread thread : ThreadUtil.getThreads()) {
    String name=thread.getName();
    if (name.equals("Finalize Thread")) {
      finalizeThread=thread;
      break;
    }
  }
  Assert.assertNotNull(finalizeThread);
  long startTime=System.currentTimeMillis();
  while (finalizeThread.getState() != Thread.State.WAITING) {
    if ((System.currentTimeMillis() - startTime) > 10000) {
      Assert.fail("Timeout on waiting finialize thread to enter waiting " + "state");
    }
  }
  finalizeThread.interrupt();
  while (finalizeThread.getState() != Thread.State.WAITING) {
    if ((System.currentTimeMillis() - startTime) > 10000) {
      Assert.fail("Timeout on waiting finialize thread to enter waiting " + "state");
    }
  }
}
