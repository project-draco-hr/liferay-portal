{
  Group group=user.getGroup();
  long plid=PortalUtil.getPlidFromPortletId(group.getGroupId(),true,PortletKeys.PRIVATE_MESSAGING);
  Layout layout=layoutLocalService.getLayout(plid);
  String privateMessageURL=PortalUtil.getLayoutFullURL(layout,themeDisplay,false);
  return privateMessageURL + "/-/private_messaging/thread/" + threadId;
}
