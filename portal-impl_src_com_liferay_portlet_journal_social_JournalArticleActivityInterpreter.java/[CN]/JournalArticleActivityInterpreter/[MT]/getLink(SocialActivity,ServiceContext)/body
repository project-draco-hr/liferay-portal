{
  if (TrashUtil.isInTrash(JournalArticle.class.getName(),activity.getClassPK())) {
    PortletURL portletURL=TrashUtil.getViewContentURL(serviceContext.getRequest(),JournalArticle.class.getName(),activity.getClassPK());
    return portletURL.toString();
  }
  JournalArticle article=JournalArticleLocalServiceUtil.getLatestArticle(activity.getClassPK());
  if (Validator.isNotNull(article.getLayoutUuid())) {
    String groupFriendlyURL=PortalUtil.getGroupFriendlyURL(serviceContext.getScopeGroup(),false,serviceContext.getThemeDisplay());
    return groupFriendlyURL.concat(JournalArticleConstants.CANONICAL_URL_SEPARATOR).concat(article.getUrlTitle());
  }
  return null;
}
