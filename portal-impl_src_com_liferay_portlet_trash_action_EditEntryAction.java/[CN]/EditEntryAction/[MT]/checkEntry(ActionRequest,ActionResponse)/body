{
  long entryId=ParamUtil.getLong(actionRequest,"entryId");
  String newName=ParamUtil.getString(actionRequest,"newName");
  TrashEntry entry=TrashEntryLocalServiceUtil.getTrashEntry(entryId);
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(entry.getClassName());
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  try {
    trashHandler.checkDuplicateTrashEntry(entry,newName);
    jsonObject.put("success",true);
  }
 catch (  DuplicateEntryException dee) {
    jsonObject.put("duplicateEntryId",dee.getDuplicateEntryId());
    jsonObject.put("oldName",dee.getOldName());
    jsonObject.put("success",false);
    jsonObject.put("trashEntryId",dee.getTrashEntryId());
  }
  writeJSON(actionRequest,actionResponse,jsonObject);
}
