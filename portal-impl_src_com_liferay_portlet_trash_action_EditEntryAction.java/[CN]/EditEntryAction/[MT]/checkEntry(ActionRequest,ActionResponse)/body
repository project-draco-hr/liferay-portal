{
  long entryId=ParamUtil.getLong(actionRequest,"entryId");
  String newName=ParamUtil.getString(actionRequest,"newName");
  TrashEntry entry=TrashEntryLocalServiceUtil.getTrashEntry(entryId);
  TrashHandler trashHandler=TrashHandlerRegistryUtil.getTrashHandler(entry.getClassName());
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  try {
    trashHandler.checkDuplicateEntry(entry,newName);
    jsonObject.put("success",true);
  }
 catch (  DuplicateTrashEntryException dtee) {
    jsonObject.put("duplicateEntryId",dtee.getDuplicateEntryId());
    jsonObject.put("oldName",dtee.getOldName());
    jsonObject.put("trashEntryId",dtee.getTrashEntryId());
    jsonObject.put("success",false);
  }
  writeJSON(actionRequest,actionResponse,jsonObject);
}
