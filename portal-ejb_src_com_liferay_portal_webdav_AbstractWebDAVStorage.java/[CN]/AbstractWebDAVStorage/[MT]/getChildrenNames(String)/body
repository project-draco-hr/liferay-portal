{
  try {
    if (_log.isDebugEnabled()) {
      _log.debug("Get children " + uri);
    }
    String[] uriValues=getURIValues(uri);
    String companyId=uriValues[0];
    long groupId=GetterUtil.getLong(uriValues[1]);
    uri=uriValues[2];
    if ((companyId != null) && (groupId <= 0)) {
      Map groupParams=new HashMap();
      groupParams.put("usersGroups",getUserId());
      List communities=GroupLocalServiceUtil.search(companyId,null,null,groupParams,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
      String[] childrenNames=new String[communities.size()];
      for (int i=0; i < communities.size(); i++) {
        Group group=(Group)communities.get(i);
        childrenNames[i]=group.getName();
      }
      return childrenNames;
    }
 else     if ((companyId != null) && (groupId > 0)) {
      return getObjects(companyId,groupId,uri);
    }
 else {
      return new String[0];
    }
  }
 catch (  PortalException pe) {
    throw new IOException(pe.getMessage());
  }
catch (  SystemException se) {
    throw new IOException(se.getMessage());
  }
}
