{
  String[] uriValues=new String[3];
  String prefix=(String)_params.get("uri-prefix");
  if (_log.isDebugEnabled()) {
  }
  int pos=uri.indexOf(prefix);
  if (pos != -1) {
    uri=uri.substring(pos + prefix.length(),uri.length());
  }
  if (!uri.startsWith(StringPool.SLASH)) {
    uri=StringPool.SLASH + uri;
  }
  if (!uri.endsWith(StringPool.SLASH)) {
    uri=uri + StringPool.SLASH;
  }
  if (uri.indexOf("//") != -1) {
    uri=StringUtil.replace(uri,"//",StringPool.SLASH);
  }
  String companyId=null;
  String groupId=null;
  if (!uri.equals(StringPool.SLASH)) {
    pos=uri.indexOf(StringPool.SLASH,1);
    companyId=uri.substring(1,pos);
    uri=uri.substring(pos,uri.length());
    if (!uri.equals(StringPool.SLASH)) {
      pos=uri.indexOf(StringPool.SLASH,1);
      String groupName=uri.substring(1,pos);
      Group group=GroupLocalServiceUtil.getGroup(companyId,groupName);
      groupId=group.getGroupId();
      uri=uri.substring(pos,uri.length());
    }
  }
  uriValues[0]=companyId;
  uriValues[1]=groupId;
  uriValues[2]=uri;
  return uriValues;
}
