{
  long fileEntryId=ParamUtil.getLong(actionRequest,"fileEntryId");
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(DLFileEntry.class.getName(),actionRequest);
  if (fileEntryId > 0) {
    DLFileEntryLocalServiceUtil.moveToTrash(themeDisplay.getUserId(),fileEntryId,serviceContext);
  }
 else {
    long[] deleteFileEntryIds=StringUtil.split(ParamUtil.getString(actionRequest,"fileEntryIds"),0L);
    for (int i=0; i < deleteFileEntryIds.length; i++) {
      DLFileEntryLocalServiceUtil.moveToTrash(themeDisplay.getUserId(),deleteFileEntryIds[i],serviceContext);
    }
  }
}
