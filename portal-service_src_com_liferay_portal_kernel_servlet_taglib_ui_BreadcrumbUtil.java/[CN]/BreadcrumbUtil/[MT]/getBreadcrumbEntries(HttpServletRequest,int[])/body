{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  List<BreadcrumbEntry> entries=new ArrayList<BreadcrumbEntry>();
  BreadcrumbEntry entry;
  boolean hasAll=ArrayUtil.contains(types,ENTRY_TYPE_ANY);
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_GUEST_GROUP)) {
    entry=getGuestGroupBreadcrumbEntry(themeDisplay);
    if (entry != null) {
      entries.add(entry);
    }
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_PARENT_GROUP)) {
    entries.addAll(getParentGroupBreadcrumbEntries(themeDisplay));
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_CURRENT_GROUP)) {
    entry=getScopeGroupBreadcrumbEntry(themeDisplay);
    if (entry != null) {
      entries.add(entry);
    }
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_LAYOUT)) {
    entries.addAll(getLayoutBreadcrumbEntries(themeDisplay));
  }
  if (hasAll || ArrayUtil.contains(types,ENTRY_TYPE_PORTLET)) {
    entries.addAll(getPortletBreadcrumbEntries(request));
  }
  return entries;
}
