{
  if (layout.getParentLayoutId() != LayoutConstants.DEFAULT_PARENT_LAYOUT_ID) {
    Layout parentLayout=LayoutLocalServiceUtil.getParentLayout(layout);
    _addLayoutBreadcrumbEntries(breadcrumbEntries,themeDisplay,parentLayout);
  }
  BreadcrumbEntry breadcrumbEntry=new BreadcrumbEntry();
  breadcrumbEntry.setBaseModel(layout);
  LayoutType layoutType=layout.getLayoutType();
  if (!layoutType.isBrowsable()) {
    breadcrumbEntry.setBrowsable(false);
  }
  String layoutName=layout.getName(themeDisplay.getLocale());
  if (layout.isTypeControlPanel()) {
    if (layoutName.equals(LayoutConstants.NAME_CONTROL_PANEL_DEFAULT)) {
      layoutName=LanguageUtil.get(themeDisplay.getLocale(),"control-panel");
    }
  }
  breadcrumbEntry.setTitle(layoutName);
  String layoutURL=PortalUtil.getLayoutFullURL(layout,themeDisplay);
  if (themeDisplay.isAddSessionIdToURL()) {
    layoutURL=PortalUtil.getURLWithSessionId(layoutURL,themeDisplay.getSessionId());
  }
  breadcrumbEntry.setURL(layoutURL);
  breadcrumbEntries.add(breadcrumbEntry);
}
