{
  StringBuffer indentStringBuffer=new StringBuffer();
  for (int i=0; i < indentSize; i++) {
    indentStringBuffer.append(" ");
  }
  String status=getStatus();
  StringBuilder sb=new StringBuilder();
  sb.append(indentStringBuffer);
  sb.append("Build '");
  sb.append(jobName);
  sb.append("'");
  if (status.equals("completed")) {
    sb.append(" completed at ");
    sb.append(getBuildURL());
    sb.append(". ");
    sb.append(getResult());
    return sb.toString();
  }
  if (status.equals("missing")) {
    sb.append(" is missing ");
    sb.append(getJobURL());
    sb.append(".");
    return sb.toString();
  }
  if (status.equals("queued")) {
    sb.append(" is queued at ");
    sb.append(getJobURL());
    sb.append(".");
    return sb.toString();
  }
  if (status.equals("running")) {
    sb.append(" running at ");
    sb.append(getBuildURL());
    sb.append(".\n");
    if (getDownstreamBuildCount(null) > 0) {
      for (      Build downstreamBuild : getDownstreamBuilds("running")) {
        sb.append(indentStringBuffer);
        sb.append(downstreamBuild.getStatusReport(indentSize + 4));
        sb.append("\n\n");
      }
      sb.append(indentStringBuffer);
      sb.append("missing: ");
      sb.append(getDownstreamBuildCount("missing"));
      sb.append(" / ");
      sb.append("queued: ");
      sb.append(getDownstreamBuildCount("queued"));
      sb.append(" / ");
      sb.append("running: ");
      sb.append(getDownstreamBuildCount("running"));
      sb.append(" / ");
      sb.append("completed: ");
      sb.append(getDownstreamBuildCount("completed"));
      sb.append(" / ");
      sb.append("total: ");
      sb.append(getDownstreamBuildCount(null));
      sb.append("\n");
    }
    return sb.toString();
  }
  if (status.equals("starting")) {
    sb.append(" invoked at ");
    sb.append(getJobURL());
    sb.append(".");
    return sb.toString();
  }
  throw new RuntimeException("Unknown status: " + status + ".");
}
