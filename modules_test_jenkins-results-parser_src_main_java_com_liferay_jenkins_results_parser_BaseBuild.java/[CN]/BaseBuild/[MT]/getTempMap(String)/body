{
  Build buildCur=this;
  while (!(buildCur instanceof TopLevelBuild)) {
    buildCur=buildCur.getParentBuild();
    if (buildCur == null) {
      throw new RuntimeException("Incomplete Build tree");
    }
  }
  StringBuilder sb=new StringBuilder();
  sb.append("http://cloud-10-0-0-31.lax.liferay.com/osb-jenkins-web/map/");
  sb.append(getJSONMapURL((TopLevelBuild)buildCur));
  sb.append(mapName);
  try {
    JSONObject tempMapJSONObject=JenkinsResultsParserUtil.toJSONObject(sb.toString(),false);
    if (tempMapJSONObject.has("properties")) {
      JSONArray propertiesJSONArray=tempMapJSONObject.getJSONArray("properties");
      Map<String,String> tempMap=new HashMap<>(propertiesJSONArray.length());
      for (int i=0; i < propertiesJSONArray.length(); i++) {
        JSONObject property=propertiesJSONArray.getJSONObject(i);
        String key=property.getString("name");
        String value=property.optString("value");
        if ((value != null) && !value.isEmpty()) {
          tempMap.put(key,value);
        }
      }
      return tempMap;
    }
    return Collections.emptyMap();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
