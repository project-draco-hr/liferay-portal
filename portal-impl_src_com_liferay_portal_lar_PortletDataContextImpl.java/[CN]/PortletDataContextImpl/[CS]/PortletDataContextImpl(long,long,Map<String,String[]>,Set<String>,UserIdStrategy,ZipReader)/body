{
  _companyId=companyId;
  try {
    Group companyGroup=GroupLocalServiceUtil.getCompanyGroup(_companyId);
    _companyGroupId=companyGroup.getGroupId();
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
  _groupId=groupId;
  _scopeGroupId=groupId;
  _parameterMap=parameterMap;
  _primaryKeys=primaryKeys;
  _dataStrategy=MapUtil.getString(parameterMap,PortletDataHandlerKeys.DATA_STRATEGY,PortletDataHandlerKeys.DATA_STRATEGY_MIRROR);
  _userIdStrategy=userIdStrategy;
  _zipReader=zipReader;
  _zipWriter=null;
  initXStream();
}
