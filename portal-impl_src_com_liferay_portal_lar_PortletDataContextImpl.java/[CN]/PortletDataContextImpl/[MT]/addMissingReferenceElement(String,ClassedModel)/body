{
  Portlet referrerPortlet=PortletLocalServiceUtil.getPortletById(referrerPortletId);
  if (referrerPortlet == null) {
    return null;
  }
  String referenceKey=getReferenceKey(classedModel);
  if (_missingReferences.contains(referenceKey)) {
    return getMissingReferenceElement(classedModel);
  }
  _missingReferences.add(referenceKey);
  return doAddReferenceElement(referrerPortlet,null,classedModel,classedModel.getModelClassName(),null,REFERENCE_TYPE_EMBEDDED,true);
}
