{
  if (parentElement == null) {
    return Collections.emptyList();
  }
  Element referencesElement=parentElement.element("references");
  if (referencesElement == null) {
    return Collections.emptyList();
  }
  StringBundler sb=new StringBundler(5);
  sb.append("reference[@class-name='");
  sb.append(clazz.getName());
  if (groupId > 0) {
    sb.append("' and @group-id='");
    sb.append(groupId);
  }
  if (Validator.isNotNull(uuid)) {
    sb.append("' and @uuid='");
    sb.append(uuid);
  }
  if (classPk > 0) {
    sb.append("' and @class-pk='");
    sb.append(classPk);
  }
  if (referenceType != null) {
    sb.append("' and @type='");
    sb.append(referenceType);
  }
  sb.append("']");
  XPath xPath=SAXReaderUtil.createXPath(sb.toString());
  List<Node> nodes=xPath.selectNodes(referencesElement);
  return ListUtil.fromArray(nodes.toArray(new Element[nodes.size()]));
}
