{
  if ((startDate == null) ^ (endDate == null)) {
    throw new PortletDataException("Both start and end dates must have valid values or be null");
  }
  if (startDate != null) {
    if (startDate.after(endDate) || startDate.equals(endDate)) {
      throw new PortletDataStartEndDateException("The start date cannot be after the end date");
    }
    Date now=new Date();
    if (startDate.after(now) || endDate.after(now)) {
      throw new PortletDataFutureDateException("Dates must not be in the future");
    }
  }
}
