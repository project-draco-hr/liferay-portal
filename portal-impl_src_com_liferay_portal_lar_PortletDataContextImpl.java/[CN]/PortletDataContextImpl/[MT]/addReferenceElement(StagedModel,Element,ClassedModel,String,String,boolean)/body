{
  if (missing) {
    addReferenceElement(referrer,element,classedModel,className,binPath,false);
  }
  Element referenceElement=null;
  if (!missing) {
    Element referencesElement=element.element("references");
    if (referencesElement == null) {
      referencesElement=element.addElement("references");
    }
    referenceElement=referencesElement.addElement("reference");
  }
 else {
    Element referencesElement=_missingReferencesElement;
    referenceElement=referencesElement.addElement("missing-reference");
  }
  referenceElement.addAttribute("class-name",className);
  if (Validator.isNotNull(binPath)) {
    referenceElement.addAttribute("path",binPath);
  }
  if (classedModel instanceof StagedGroupedModel) {
    StagedGroupedModel stagedGroupedModel=(StagedGroupedModel)classedModel;
    referenceElement.addAttribute("group-id",String.valueOf(stagedGroupedModel.getGroupId()));
    referenceElement.addAttribute("uuid",stagedGroupedModel.getUuid());
  }
 else   if (classedModel instanceof StagedModel) {
    StagedModel stagedModel=(StagedModel)classedModel;
    referenceElement.addAttribute("uuid",stagedModel.getUuid());
  }
  if (missing) {
    referenceElement.addAttribute("referrer",referrer.getModelClassName());
  }
  return referenceElement;
}
