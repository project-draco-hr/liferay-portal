{
  long classNameId=PortalUtil.getClassNameId(clazz);
  MBDiscussion discussion=MBDiscussionUtil.fetchByC_C(classNameId,classPK);
  if (discussion == null) {
    return;
  }
  List<MBMessage> messages=MBMessageLocalServiceUtil.getThreadMessages(discussion.getThreadId(),WorkflowConstants.STATUS_APPROVED);
  if (messages.isEmpty()) {
    return;
  }
  MBMessage firstMessage=messages.get(0);
  if ((messages.size() == 1) && firstMessage.isRoot()) {
    return;
  }
  for (  MBMessage message : messages) {
    addRatingsEntries(MBDiscussion.class,message.getPrimaryKey());
  }
  _commentsMap.put(getPrimaryKeyString(clazz,classPK),messages);
}
