{
  long classNameId=PortalUtil.getClassNameId(clazz);
  MBDiscussion discussion=MBDiscussionUtil.fetchByC_C(classNameId,classPK);
  if (discussion == null) {
    return;
  }
  List<MBMessage> messages=MBMessageLocalServiceUtil.getThreadMessages(discussion.getThreadId(),WorkflowConstants.STATUS_APPROVED);
  if (messages.size() == 0) {
    return;
  }
  Iterator<MBMessage> itr=messages.iterator();
  while (itr.hasNext()) {
    MBMessage message=itr.next();
    message.setUserUuid(message.getUserUuid());
    addRatingsEntries(MBDiscussion.class,message.getPrimaryKey());
  }
  _commentsMap.put(getPrimaryKeyString(clazz,classPK),messages);
}
