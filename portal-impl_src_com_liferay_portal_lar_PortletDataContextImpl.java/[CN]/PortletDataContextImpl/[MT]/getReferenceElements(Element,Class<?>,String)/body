{
  if (parentElement == null) {
    return Collections.emptyList();
  }
  Element referencesElement=parentElement.element("references");
  if (referencesElement == null) {
    return Collections.emptyList();
  }
  StringBundler sb=new StringBundler(5);
  sb.append("reference[@class-name='");
  sb.append(clazz.getName());
  if (type != null) {
    sb.append("' and @type='");
    sb.append(type);
  }
  sb.append("']");
  XPath xPath=SAXReaderUtil.createXPath(sb.toString());
  List<Node> nodes=xPath.selectNodes(referencesElement);
  return ListUtil.fromArray(nodes.toArray(new Element[nodes.size()]));
}
