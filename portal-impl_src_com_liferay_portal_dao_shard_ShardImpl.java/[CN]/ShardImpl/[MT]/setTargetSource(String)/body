{
  if (_shardAdvice == null) {
    return null;
  }
  String currentShardName=getCurrentShardName();
  ShardDataSourceTargetSource shardDataSourceTargetSource=_shardAdvice.getShardDataSourceTargetSource();
  shardDataSourceTargetSource.setDataSource(shardName);
  ShardSessionFactoryTargetSource shardSessionFactoryTargetSource=_shardAdvice.getShardSessionFactoryTargetSource();
  shardSessionFactoryTargetSource.setSessionFactory(shardName);
  return currentShardName;
}
