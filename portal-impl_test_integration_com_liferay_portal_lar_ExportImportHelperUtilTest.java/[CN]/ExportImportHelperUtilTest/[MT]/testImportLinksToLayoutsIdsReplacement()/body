{
  LayoutTestUtil.addLayout(_liveGroup.getGroupId(),ServiceTestUtil.randomString(),true);
  LayoutTestUtil.addLayout(_liveGroup.getGroupId(),ServiceTestUtil.randomString(),false);
  exportImportLayouts(true);
  exportImportLayouts(false);
  Layout importedPrivateLayout=LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(_stagingPrivateLayout.getUuid(),_liveGroup.getGroupId(),true);
  Layout importedPublicLayout=LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(_stagingPublicLayout.getUuid(),_liveGroup.getGroupId(),false);
  String content=getContent("layout_links_ids_replacement.txt");
  String expectedContent=replaceLinksToLayoutsParameters(content,importedPrivateLayout,importedPublicLayout);
  content=replaceLinksToLayoutsParameters(content,_stagingPrivateLayout,_stagingPublicLayout);
  Element rootElement=_portletDataContextImport.getImportDataRootElement();
  Element entryElement=rootElement.element("entry");
  content=ExportImportHelperUtil.replaceExportContentReferences(_portletDataContextExport,_referrerStagedModel,entryElement,content,true);
  String importedContent=ExportImportHelperUtil.replaceImportContentReferences(_portletDataContextImport,_referrerStagedModel,entryElement,content,true);
  Assert.assertEquals(expectedContent,importedContent);
}
