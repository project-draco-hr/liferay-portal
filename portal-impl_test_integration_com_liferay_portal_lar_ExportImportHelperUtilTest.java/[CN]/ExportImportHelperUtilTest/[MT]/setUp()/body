{
  FinderCacheUtil.clearCache();
  _liveGroup=GroupTestUtil.addGroup();
  _stagingGroup=GroupTestUtil.addGroup();
  _fileEntry=DLAppTestUtil.addFileEntry(_stagingGroup.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,ServiceTestUtil.randomString() + ".txt",ServiceTestUtil.randomString(),true);
  LiferayFileEntry liferayFileEntry=(LiferayFileEntry)_fileEntry;
  DLFileEntry dlFileEntry=liferayFileEntry.getDLFileEntry();
  dlFileEntry.setLargeImageId(dlFileEntry.getFileEntryId());
  DLFileEntryLocalServiceUtil.updateDLFileEntry(dlFileEntry);
  TestReaderWriter testReaderWriter=new TestReaderWriter();
  _portletDataContextExport=PortletDataContextFactoryUtil.createExportPortletDataContext(_stagingGroup.getCompanyId(),_stagingGroup.getGroupId(),new HashMap<String,String[]>(),new Date(System.currentTimeMillis() - Time.HOUR),new Date(),testReaderWriter);
  Element rootElement=SAXReaderUtil.createElement("root");
  _stagingPublicLayout=LayoutTestUtil.addLayout(_stagingGroup.getGroupId(),ServiceTestUtil.randomString(),false);
  _stagingPrivateLayout=LayoutTestUtil.addLayout(_stagingGroup.getGroupId(),ServiceTestUtil.randomString(),true);
  _portletDataContextExport.setExportDataRootElement(rootElement);
  _portletDataContextExport.setPlid(_stagingPublicLayout.getPlid());
  _portletDataContextImport=PortletDataContextFactoryUtil.createImportPortletDataContext(_stagingGroup.getCompanyId(),_stagingGroup.getGroupId(),new HashMap<String,String[]>(),new CurrentUserIdStrategy(TestPropsValues.getUser()),testReaderWriter);
  _livePublicLayout=LayoutTestUtil.addLayout(_liveGroup.getGroupId(),ServiceTestUtil.randomString(),false);
  _portletDataContextImport.setImportDataRootElement(rootElement);
  _portletDataContextImport.setPlid(_livePublicLayout.getPlid());
  _portletDataContextImport.setSourceGroupId(_stagingGroup.getGroupId());
  rootElement.addElement("entry");
  _referrerStagedModel=JournalTestUtil.addArticle(_stagingGroup.getGroupId(),ServiceTestUtil.randomString(),ServiceTestUtil.randomString());
}
