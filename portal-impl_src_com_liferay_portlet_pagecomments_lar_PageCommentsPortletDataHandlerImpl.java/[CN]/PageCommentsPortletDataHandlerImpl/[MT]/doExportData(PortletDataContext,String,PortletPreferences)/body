{
  portletDataContext.addPermissions("com.liferay.portlet.pagecomments",portletDataContext.getScopeGroupId());
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("page-comments-data");
  rootElement.addAttribute("group-id",String.valueOf(portletDataContext.getScopeGroupId()));
  rootElement.addAttribute("plid",String.valueOf(portletDataContext.getPlid()));
  if (portletDataContext.getBooleanParameter(_NAMESPACE,"comments")) {
    portletDataContext.addComments(Layout.class,portletDataContext.getPlid());
  }
  return document.formattedString();
}
