{
  long entryClassPK=GetterUtil.getLong(document.get(Field.ENTRY_CLASS_PK));
  FileEntry fileEntry=dlAppLocalService.getFileEntry(entryClassPK);
  if (fileEntry != null) {
    Summary summary=getSummary(document,DLFileEntry.class.getName(),fileEntry.getFileEntryId(),locale,portletRequest,portletResponse);
    if (Validator.isNull(summary.getContent())) {
      summary.setContent(fileEntry.getTitle());
    }
    searchResult.addFileEntry(fileEntry,summary);
  }
 else {
    long classNameId=GetterUtil.getLong(document.get(Field.CLASS_NAME_ID));
    long classPK=GetterUtil.getLong(document.get(Field.CLASS_PK));
    ClassName className=classNameLocalService.getClassName(classNameId);
    Summary summary=getSummary(document,className.getClassName(),classPK,locale,portletRequest,portletResponse);
    searchResult.setSummary(summary);
  }
}
