{
  List<?> peerListenerFactoryConfigurations=configuration.getCacheManagerPeerListenerFactoryConfigurations();
  List<?> peerProviderFactoryConfigurations=configuration.getCacheManagerPeerProviderFactoryConfiguration();
  Assert.assertTrue(peerListenerFactoryConfigurations.isEmpty());
  Assert.assertTrue(peerProviderFactoryConfigurations.isEmpty());
  List<CacheConfiguration> cacheConfigurations=_getAllCacheConfigurations(configuration);
  for (  CacheConfiguration cacheConfiguration : cacheConfigurations) {
    List<FactoryConfiguration<?>> factoryConfigurations=(List<FactoryConfiguration<?>>)cacheConfiguration.getCacheEventListenerConfigurations();
    if (onlyReplicator) {
      Assert.assertEquals(1,factoryConfigurations.size());
    }
 else {
      Assert.assertTrue(factoryConfigurations.size() > 1);
    }
    boolean exist=false;
    for (    FactoryConfiguration<?> factoryConfiguration : factoryConfigurations) {
      String fullyQualifiedClassPath=factoryConfiguration.getFullyQualifiedClassPath();
      if (fullyQualifiedClassPath.equals(_CLUSTER_LINK_REPLICATOR)) {
        Assert.assertEquals(_CACHE_EVENT_LISTENER_PROPERTIES,factoryConfiguration.getProperties());
        exist=true;
        break;
      }
    }
    if (!exist) {
      Assert.fail();
    }
  }
}
