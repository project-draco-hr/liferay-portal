{
  Layout layout1=LayoutTestUtil.addLayout(group.getGroupId(),ServiceTestUtil.randomString());
  Layout layout2=LayoutTestUtil.addLayout(group.getGroupId(),ServiceTestUtil.randomString());
  exportImportLayouts(null,getImportParameterMap());
  Assert.assertEquals(LayoutLocalServiceUtil.getLayoutsCount(group,false),LayoutLocalServiceUtil.getLayoutsCount(importedGroup,false));
  LayoutTestUtil.addLayout(importedGroup.getGroupId(),ServiceTestUtil.randomString());
  Map<String,String[]> parameterMap=getImportParameterMap();
  parameterMap.put(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS,new String[]{Boolean.TRUE.toString()});
  long[] layoutIds=new long[]{layout1.getLayoutId()};
  exportImportLayouts(layoutIds,getImportParameterMap());
  Assert.assertEquals(LayoutLocalServiceUtil.getLayoutsCount(group,false),LayoutLocalServiceUtil.getLayoutsCount(importedGroup,false));
  Layout importedLayout1=LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(layout1.getUuid(),importedGroup.getGroupId(),false);
  Assert.assertNotNull(importedLayout1);
  Layout importedLayout2=LayoutLocalServiceUtil.fetchLayoutByUuidAndGroupId(layout2.getUuid(),importedGroup.getGroupId(),false);
  Assert.assertNotNull(importedLayout2);
}
