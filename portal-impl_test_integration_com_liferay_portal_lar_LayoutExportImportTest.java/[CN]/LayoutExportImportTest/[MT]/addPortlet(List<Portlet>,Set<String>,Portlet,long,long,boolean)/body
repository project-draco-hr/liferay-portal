{
  if ((portlet == null) || rootPortletIds.contains(portlet.getRootPortletId())) {
    return;
  }
  PortletDataHandler portletDataHandler=portlet.getPortletDataHandlerInstance();
  if (portletDataHandler == null) {
    return;
  }
  PortletDataHandlerControl[] portletDataHandlerControls=portletDataHandler.getExportConfigurationControls(portlet.getCompanyId(),groupId,portlet,plid,privateLayout);
  if (ArrayUtil.isNotEmpty(portletDataHandlerControls)) {
    rootPortletIds.add(portlet.getRootPortletId());
    portlets.add(portlet);
  }
}
