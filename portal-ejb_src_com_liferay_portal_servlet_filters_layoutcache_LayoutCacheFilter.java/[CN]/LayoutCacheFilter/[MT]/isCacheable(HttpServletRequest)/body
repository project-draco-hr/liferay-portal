{
  if (_pattern == _PATTERN_RESOURCE) {
    return true;
  }
  try {
    String plid=getPlid(req.getPathInfo(),req.getServletPath(),ParamUtil.getString(req,"p_l_id"));
    if (plid == null) {
      return false;
    }
    String layoutId=LayoutImpl.getLayoutId(plid);
    String ownerId=LayoutImpl.getOwnerId(plid);
    Layout layout=LayoutLocalServiceUtil.getLayout(layoutId,ownerId);
    if (!layout.getType().equals(LayoutImpl.TYPE_PORTLET)) {
      return false;
    }
    Properties props=layout.getTypeSettingsProperties();
    for (int i=0; i < 10; i++) {
      String columnId="column-" + i;
      String settings=props.getProperty(columnId,StringPool.BLANK);
      String[] portlets=StringUtil.split(settings);
      for (int j=0; j < portlets.length; j++) {
        String portletId=StringUtil.extractFirst(portlets[j],PortletImpl.INSTANCE_SEPARATOR);
        Portlet portlet=PortletLocalServiceUtil.getPortletById(_companyId,portletId);
        if (!portlet.isLayoutCacheable()) {
          return false;
        }
      }
    }
  }
 catch (  Exception e) {
    return false;
  }
  return true;
}
