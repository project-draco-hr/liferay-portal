{
  if (_pattern == _PATTERN_LAYOUT) {
    return defaultPlid;
  }
  if (Validator.isNull(pathInfo) || !pathInfo.startsWith(StringPool.SLASH)) {
    return null;
  }
  String friendlyURL=null;
  int pos=pathInfo.indexOf(StringPool.SLASH,1);
  if (pos != -1) {
    friendlyURL=pathInfo.substring(0,pos);
  }
 else {
    if (pathInfo.length() > 1) {
      friendlyURL=pathInfo.substring(0,pathInfo.length());
    }
  }
  if (Validator.isNull(friendlyURL)) {
    return null;
  }
  String ownerId=null;
  try {
    Group group=GroupLocalServiceUtil.getFriendlyURLGroup(_companyId,friendlyURL);
    if (servletPath.startsWith(_LAYOUT_FRIENDLY_URL_PRIVATE_SERVLET_MAPPING)) {
      ownerId=Layout.PRIVATE + group.getGroupId();
    }
 else     if (servletPath.startsWith(_LAYOUT_FRIENDLY_URL_PUBLIC_SERVLET_MAPPING)) {
      ownerId=Layout.PUBLIC + group.getGroupId();
    }
  }
 catch (  Exception e) {
    _log.error(e);
    return null;
  }
  friendlyURL=null;
  if ((pos != -1) && ((pos + 1) != pathInfo.length())) {
    friendlyURL=pathInfo.substring(pos,pathInfo.length());
  }
  if (Validator.isNull(friendlyURL)) {
    return null;
  }
  Layout layout=null;
  try {
    layout=LayoutLocalServiceUtil.getFriendlyURLLayout(ownerId,friendlyURL);
  }
 catch (  Exception e) {
    _log.error(e);
    return null;
  }
  return layout.getPlid();
}
