{
  if (_useReflectionToTranslateThrowable) {
    try {
      UnsyncByteArrayOutputStream unsyncByteArrayOutputStream=new UnsyncByteArrayOutputStream();
      ObjectOutputStream objectOutputStream=new ObjectOutputStream(unsyncByteArrayOutputStream);
      objectOutputStream.writeObject(throwable);
      objectOutputStream.flush();
      objectOutputStream.close();
      UnsyncByteArrayInputStream unsyncByteArrayInputStream=new UnsyncByteArrayInputStream(unsyncByteArrayOutputStream.unsafeGetByteArray(),0,unsyncByteArrayOutputStream.size());
      Thread currentThread=Thread.currentThread();
      ClassLoader contextClassLoader=currentThread.getContextClassLoader();
      ObjectInputStream objectInputStream=new ClassLoaderObjectInputStream(unsyncByteArrayInputStream,contextClassLoader);
      throwable=(Throwable)objectInputStream.readObject();
      objectInputStream.close();
      return throwable;
    }
 catch (    ClassNotFoundException cnfe) {
      if (_log.isInfoEnabled()) {
        _log.info("Do not use reflection to translate throwable");
      }
      _useReflectionToTranslateThrowable=false;
    }
catch (    SecurityException se) {
      if (_log.isInfoEnabled()) {
        _log.info("Do not use reflection to translate throwable");
      }
      _useReflectionToTranslateThrowable=false;
    }
catch (    Throwable throwable2) {
      _log.error(throwable2,throwable2);
      return throwable2;
    }
  }
  Class<?> clazz=throwable.getClass();
  String className=clazz.getName();
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchActionException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchActionException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchConditionException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchConditionException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchDefinitionException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchDefinitionException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchInstanceException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchInstanceException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchInstanceTokenException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchInstanceTokenException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchLogException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchLogException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchNodeException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchNodeException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchNotificationException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchNotificationException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchNotificationRecipientException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchNotificationRecipientException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTaskException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTaskException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTaskAssignmentException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTaskAssignmentException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTaskAssignmentInstanceException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTaskAssignmentInstanceException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTaskInstanceTokenException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTaskInstanceTokenException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTimerException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTimerException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTimerInstanceTokenException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTimerInstanceTokenException(throwable.getMessage(),throwable.getCause());
  }
  if (className.equals("com.liferay.portal.workflow.kaleo.NoSuchTransitionException")) {
    return new com.liferay.portal.workflow.kaleo.exception.NoSuchTransitionException(throwable.getMessage(),throwable.getCause());
  }
  return throwable;
}
