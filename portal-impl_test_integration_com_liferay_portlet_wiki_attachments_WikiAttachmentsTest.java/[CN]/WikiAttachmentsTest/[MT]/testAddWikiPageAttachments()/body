{
  int initialFolderCount=DLFolderLocalServiceUtil.getDLFoldersCount();
  int newFolders=NEW_REPOSITORY_FOLDER + NEW_NODE_FOLDER + NEW_PAGE_FOLDER;
  int firstFolderCount=assertAttachFileToPage1InNode1FromGroup1(initialFolderCount + newFolders);
  int totalNewFolders=newFolders;
  int secondFolderCount=assertAttachFileToPage2InNode1FromGroup1(firstFolderCount + NEW_PAGE_FOLDER);
  totalNewFolders+=NEW_PAGE_FOLDER;
  newFolders=NEW_NODE_FOLDER + NEW_PAGE_FOLDER;
  int thirdFolderCount=assertAttachFileToPage2InNode2FromGroup1(secondFolderCount + newFolders);
  totalNewFolders+=newFolders;
  newFolders=NEW_REPOSITORY_FOLDER + NEW_NODE_FOLDER + NEW_PAGE_FOLDER;
  int finalFolderCount=assertAttachFileToPage1InNode1FromGroup2(thirdFolderCount + newFolders);
  totalNewFolders+=newFolders;
  Assert.assertEquals(initialFolderCount + totalNewFolders,finalFolderCount);
}
