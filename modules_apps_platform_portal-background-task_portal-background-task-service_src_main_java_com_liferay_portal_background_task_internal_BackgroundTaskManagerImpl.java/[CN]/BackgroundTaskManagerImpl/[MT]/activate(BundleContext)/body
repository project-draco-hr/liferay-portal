{
  _bundleContext=bundleContext;
  Destination backgroundTaskDestination=registerDestination(bundleContext,DestinationConfiguration.DESTINATION_TYPE_PARALLEL,DestinationNames.BACKGROUND_TASK);
  BackgroundTaskMessageListener backgroundTaskMessageListener=new BackgroundTaskMessageListener(_backgroundTaskExecutorRegistry,this,_backgroundTaskStatusRegistry,_backgroundTaskThreadLocalManager,_messageBus);
  backgroundTaskDestination.register(backgroundTaskMessageListener);
  Destination backgroundTaskStatusDestination=registerDestination(bundleContext,DestinationConfiguration.DESTINATION_TYPE_SERIAL,DestinationNames.BACKGROUND_TASK_STATUS);
  BackgroundTaskQueuingMessageListener backgroundTaskQueuingMessageListener=new BackgroundTaskQueuingMessageListener(this);
  backgroundTaskStatusDestination.register(backgroundTaskQueuingMessageListener);
  if (!_clusterMasterExecutor.isEnabled()) {
    cleanUpBackgroundTasks();
  }
}
