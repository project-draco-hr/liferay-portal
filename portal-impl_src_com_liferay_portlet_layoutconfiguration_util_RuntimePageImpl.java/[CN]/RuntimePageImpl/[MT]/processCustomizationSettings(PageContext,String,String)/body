{
  if (Validator.isNull(velocityTemplateContent)) {
    return;
  }
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  HttpServletResponse response=(HttpServletResponse)pageContext.getResponse();
  CustomizationSettingsProcessor processor=new CustomizationSettingsProcessor(pageContext);
  VelocityContext velocityContext=VelocityEngineUtil.getWrappedStandardToolsContext();
  velocityContext.put("processor",processor);
  VelocityVariablesUtil.insertVariables(velocityContext,request);
  MethodHandler methodHandler=new MethodHandler(_initMethodKey,pageContext.getServletContext(),request,response,pageContext);
  Object velocityTaglib=methodHandler.invoke(true);
  velocityContext.put("taglibLiferay",velocityTaglib);
  velocityContext.put("theme",velocityTaglib);
  try {
    VelocityEngineUtil.mergeTemplate(velocityTemplateId,velocityTemplateContent,velocityContext,pageContext.getOut());
  }
 catch (  Exception e) {
    _log.error(e,e);
    throw e;
  }
}
