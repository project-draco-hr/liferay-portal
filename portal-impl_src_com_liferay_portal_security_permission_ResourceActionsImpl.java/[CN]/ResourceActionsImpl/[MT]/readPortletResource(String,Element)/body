{
  String name=portletResourceElement.elementTextTrim("portlet-name");
  if (servletContextName != null) {
    name=name.concat(PortletConstants.WAR_SEPARATOR).concat(servletContextName);
  }
  name=JS.getSafeName(name);
  Set<String> supportsActions=readSupportsActions(portletResourceElement,_portletResourceActions,name);
  supportsActions.addAll(getPortletMimeTypeActions(name));
  if (!name.equals(PortletKeys.PORTAL)) {
    checkPortletActions(name,supportsActions);
  }
  if (supportsActions.size() > 64) {
    throw new ResourceActionsException("There are more than 64 actions for resource " + name);
  }
  _portletResourceActions.put(name,supportsActions);
  readGroupDefaultActions(portletResourceElement,_portletResourceGroupDefaultActions,name);
  Set<String> guestDefaultActions=readGuestDefaultActions(portletResourceElement,_portletResourceGuestDefaultActions,name);
  readGuestUnsupportedActions(portletResourceElement,_portletResourceGuestUnsupportedActions,name,guestDefaultActions);
  _portletResourceGuestDefaultActions.put(name,guestDefaultActions);
  readLayoutManagerActions(portletResourceElement,_portletResourceLayoutManagerActions,name,supportsActions);
}
