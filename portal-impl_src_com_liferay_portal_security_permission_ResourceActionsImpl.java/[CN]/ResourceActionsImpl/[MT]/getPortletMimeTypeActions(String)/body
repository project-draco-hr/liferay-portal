{
  Set<String> actions=new LinkedHashSet<>();
  Portlet portlet=portletLocalService.getPortletById(name);
  if (portlet != null) {
    Map<String,Set<String>> portletModes=portlet.getPortletModes();
    Set<String> mimeTypePortletModes=portletModes.get(ContentTypes.TEXT_HTML);
    if (mimeTypePortletModes != null) {
      for (      String actionId : mimeTypePortletModes) {
        if (StringUtil.equalsIgnoreCase(actionId,"edit")) {
          actions.add(ActionKeys.PREFERENCES);
        }
 else         if (StringUtil.equalsIgnoreCase(actionId,"edit_guest")) {
          actions.add(ActionKeys.GUEST_PREFERENCES);
        }
 else {
          actions.add(StringUtil.toUpperCase(actionId));
        }
      }
    }
  }
 else {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to obtain resource actions for unknown portlet " + name);
    }
  }
  return actions;
}
