{
  _layoutTypePortlet=layoutTypePortlet;
  _user=user;
  _ctx=ctx;
  _nodeId=1;
  _list=new ArrayList<TreeNodeView>();
  TreeNodeView rootNodeView=new TreeNodeView(_nodeId);
  rootNodeView.setName(rootNodeName);
  _list.add(rootNodeView);
  PortletCategory portletCategory=(PortletCategory)WebAppPool.get(String.valueOf(user.getCompanyId()),WebKeys.PORTLET_CATEGORY);
  List categories=ListUtil.fromCollection(portletCategory.getCategories());
  _iterateCategories(categories,_nodeId,0);
  return new TreeView(_list,_depth);
}
