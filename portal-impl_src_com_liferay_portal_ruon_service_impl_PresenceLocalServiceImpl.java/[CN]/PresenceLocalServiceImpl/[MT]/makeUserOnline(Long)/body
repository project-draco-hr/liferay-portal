{
  try {
    PresenceUser pUser=PresenceUserLocalServiceUtil.getPresenceUser(userId);
    pUser.setPresenceStatus(1);
    PresenceUserLocalServiceUtil.updatePresenceUser(pUser);
  }
 catch (  NoSuchPresenceUserException e) {
    PresenceUser pUserNew=new PresenceUserImpl();
    pUserNew.setPresenceUserId(userId);
    pUserNew.setPresenceStatus(1);
    try {
      PresenceUserLocalServiceUtil.addPresenceUser(pUserNew);
    }
 catch (    Exception se) {
      throw new RUONException(se);
    }
  }
catch (  Exception e) {
    throw new RUONException(e);
  }
}
