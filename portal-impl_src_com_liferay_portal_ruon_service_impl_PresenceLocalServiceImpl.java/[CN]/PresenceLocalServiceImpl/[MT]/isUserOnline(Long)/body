{
  try {
    Long presenceStatus=PresenceUserLocalServiceUtil.getPresenceUser(userId).getPresenceStatus();
    String presenceMessage=PresenceStatusesLocalServiceUtil.getPresenceStatuses(presenceStatus).getPresenceStatusMessage();
    if (presenceMessage.equalsIgnoreCase("online")) {
      return true;
    }
 else     if (presenceMessage.equalsIgnoreCase("offline")) {
      return false;
    }
 else {
      return false;
    }
  }
 catch (  Exception e) {
    throw new RUONException(e);
  }
}
