{
  if (Validator.isNull(getTreePath())) {
    List<Organization> ancestors=getAncestors();
    Collections.reverse(ancestors);
    long[] ancestorIds=new long[ancestors.size()];
    for (int i=0; i < ancestors.size(); i++) {
      Organization organization=ancestors.get(i);
      ancestorIds[i]=organization.getOrganizationId();
    }
    return ancestorIds;
  }
  long[] primaryKeys=StringUtil.split(getTreePath(),StringPool.SLASH,0L);
  if (primaryKeys.length <= 2) {
    return new long[0];
  }
  long[] ancestorIds=new long[primaryKeys.length - 2];
  System.arraycopy(primaryKeys,1,ancestorIds,0,primaryKeys.length - 2);
  return ancestorIds;
}
