{
  Dictionary<String,String> headers=bundle.getHeaders();
  String exportPackage=headers.get(Constants.EXPORT_PACKAGE);
  if (exportPackage == null) {
    return null;
  }
  Parameters parameters=OSGiHeader.parseHeader(exportPackage);
  Map<String,? extends Map<String,String>> exportPackagesMap=parameters.asMapMap();
  Set<ExportPackage> exportPackages=new HashSet<>();
  for (  Map.Entry<String,? extends Map<String,String>> entry : exportPackagesMap.entrySet()) {
    Map<String,String> attributes=entry.getValue();
    exportPackages.add(new ExportPackage(entry.getKey(),attributes.get(Constants.VERSION_ATTRIBUTE)));
  }
  return exportPackages;
}
