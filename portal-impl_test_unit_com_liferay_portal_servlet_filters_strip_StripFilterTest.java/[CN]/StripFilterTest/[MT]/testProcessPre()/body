{
  StripFilter stripFilter=new StripFilter();
  CharBuffer charBuffer=CharBuffer.wrap("pre>abcde");
  StringWriter stringWriter=new StringWriter();
  try (CaptureHandler captureHandler=JDKLoggerTestUtil.configureJDKLogger(StripFilter.class.getName(),Level.WARNING)){
    stripFilter.processPre(charBuffer,stringWriter);
    List<LogRecord> logRecords=captureHandler.getLogRecords();
    Assert.assertEquals(1,logRecords.size());
    LogRecord logRecord=logRecords.get(0);
    Assert.assertEquals("Missing </pre>",logRecord.getMessage());
    Assert.assertEquals("pre",stringWriter.toString());
    Assert.assertEquals(3,charBuffer.position());
  }
   charBuffer=CharBuffer.wrap("pre>a b </pre>");
  stringWriter=new StringWriter();
  stripFilter.processPre(charBuffer,stringWriter);
  Assert.assertEquals("pre>a b </pre>",stringWriter.toString());
  Assert.assertEquals(14,charBuffer.position());
  charBuffer=CharBuffer.wrap("pre>a b </pre> \r\n\tc");
  stringWriter=new StringWriter();
  stripFilter.processPre(charBuffer,stringWriter);
  Assert.assertEquals("pre>a b </pre> ",stringWriter.toString());
  Assert.assertEquals(18,charBuffer.position());
}
