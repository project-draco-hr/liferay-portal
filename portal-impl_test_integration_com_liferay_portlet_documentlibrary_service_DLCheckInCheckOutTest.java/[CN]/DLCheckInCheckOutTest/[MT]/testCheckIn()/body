{
  for (int i=0; i < 2; i++) {
    DLAppServiceUtil.checkOutFileEntry(_fileEntry.getFileEntryId(),_serviceContext);
    Folder folder=DLAppServiceUtil.getFolder(_folder.getFolderId());
    Date lastPostDate=folder.getLastPostDate();
    FileVersion fileVersion=_fileEntry.getLatestFileVersion();
    Assert.assertEquals("PWC",fileVersion.getVersion());
    getAssetEntry(fileVersion.getFileVersionId(),true);
    if (i == 1) {
      updateFileEntry(_fileEntry.getFileEntryId());
    }
    DLAppServiceUtil.checkInFileEntry(_fileEntry.getFileEntryId(),false,StringPool.BLANK,_serviceContext);
    folder=DLAppServiceUtil.getFolder(_folder.getFolderId());
    if (i == 1) {
      Assert.assertTrue(lastPostDate.before(folder.getLastPostDate()));
    }
 else {
      Assert.assertTrue(DateUtil.equals(lastPostDate,folder.getLastPostDate()));
    }
    FileEntry fileEntry=DLAppServiceUtil.getFileEntry(_fileEntry.getFileEntryId());
    Assert.assertEquals("1." + i,fileEntry.getVersion());
    fileVersion=fileEntry.getFileVersion();
    getAssetEntry(fileVersion.getFileVersionId(),false);
  }
}
