{
  JournalArticle article=(JournalArticle)obj;
  Document document=getBaseModelDocument(PORTLET_ID,article);
  document.addUID(PORTLET_ID,article.getGroupId(),article.getArticleId());
  Locale defaultLocale=LocaleUtil.getDefault();
  String defaultLangaugeId=LocaleUtil.toLanguageId(defaultLocale);
  String[] languageIds=getLanguageIds(defaultLangaugeId,article.getContent());
  for (  String languageId : languageIds) {
    String content=extractContent(article.getContentByLocale(languageId));
    if (languageId.equals(defaultLangaugeId)) {
      document.addText(Field.CONTENT,content);
    }
    document.addText(Field.CONTENT.concat(StringPool.UNDERLINE).concat(languageId),content);
  }
  document.addLocalizedText(Field.DESCRIPTION,article.getDescriptionMap());
  document.addLocalizedText(Field.TITLE,article.getTitleMap());
  document.addKeyword(Field.TYPE,article.getType());
  document.addKeyword(Field.VERSION,article.getVersion());
  document.addKeyword("articleId",article.getArticleId());
  document.addDate("displayDate",article.getDisplayDate());
  document.addKeyword("layoutUuid",article.getLayoutUuid());
  document.addKeyword("structureId",article.getStructureId());
  document.addKeyword("templateId",article.getTemplateId());
  JournalStructure structure=null;
  if (Validator.isNotNull(article.getStructureId())) {
    try {
      structure=JournalStructureLocalServiceUtil.getStructure(article.getGroupId(),article.getStructureId());
    }
 catch (    NoSuchStructureException nsse1) {
      Group group=GroupLocalServiceUtil.getCompanyGroup(article.getCompanyId());
      try {
        structure=JournalStructureLocalServiceUtil.getStructure(group.getGroupId(),article.getStructureId());
      }
 catch (      NoSuchStructureException nsse2) {
      }
    }
  }
  processStructure(structure,document,article.getContent());
  return document;
}
