{
  Object model=_results.get(_rowIndex);
  if (isEscapedModel()) {
    if (model instanceof BaseModel) {
      BaseModel<?> baseModel=(BaseModel<?>)model;
      model=baseModel.toEscapedModel();
    }
 else     if (model instanceof RepositoryModel) {
      RepositoryModel<?> repositoryModel=(RepositoryModel<?>)model;
      model=repositoryModel.toEscapedModel();
    }
  }
  String primaryKey=null;
  if (Validator.isNull(_keyProperty)) {
    primaryKey=String.valueOf(model);
  }
 else   if (isStringKey()) {
    primaryKey=BeanPropertiesUtil.getString(model,_keyProperty);
  }
 else {
    Object primaryKeyObj=BeanPropertiesUtil.getObject(model,_keyProperty);
    primaryKey=String.valueOf(primaryKeyObj);
  }
  String idKey=null;
  if (Validator.isNull(_idProperty)) {
    idKey=String.valueOf(_rowIndex + 1);
  }
 else {
    Object idObj=BeanPropertiesUtil.getObject(model,_idProperty);
    if (Validator.isNull(idObj)) {
      idKey=String.valueOf(_rowIndex + 1);
    }
 else {
      idKey=FriendlyURLNormalizerUtil.normalize(String.valueOf(idObj),new char[]{'/'});
    }
  }
  _resultRow=new ResultRow(model,primaryKey,idKey,_rowIndex,_bold);
  pageContext.setAttribute(_indexVar,_rowIndex);
  pageContext.setAttribute(_modelVar,model);
  pageContext.setAttribute(_rowVar,_resultRow);
}
