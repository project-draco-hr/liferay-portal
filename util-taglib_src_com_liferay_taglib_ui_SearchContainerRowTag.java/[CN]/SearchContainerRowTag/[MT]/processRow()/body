{
  Object model=_results.get(_rowIndex);
  if (isEscapedModel()) {
    if (model instanceof BaseModel) {
      BaseModel<?> baseModel=(BaseModel<?>)model;
      model=baseModel.toEscapedModel();
    }
 else     if (model instanceof RepositoryModel) {
      RepositoryModel<?> repositoryModel=(RepositoryModel<?>)model;
      model=repositoryModel.toEscapedModel();
    }
  }
  String primaryKey=null;
  if (Validator.isNull(_keyProperty)) {
    primaryKey=String.valueOf(model);
  }
 else   if (isStringKey()) {
    primaryKey=BeanPropertiesUtil.getString(model,_keyProperty);
  }
 else {
    Object primaryKeyObj=BeanPropertiesUtil.getObject(model,_keyProperty);
    primaryKey=String.valueOf(primaryKeyObj);
  }
  String rowId=null;
  if (Validator.isNull(_rowIdProperty)) {
    rowId=String.valueOf(_rowIndex + 1);
  }
 else {
    Object rowIdObj=BeanPropertiesUtil.getObject(model,_rowIdProperty);
    if (Validator.isNull(rowIdObj)) {
      rowId=String.valueOf(_rowIndex + 1);
    }
 else {
      rowId=FriendlyURLNormalizerUtil.normalize(String.valueOf(rowIdObj),new char[]{CharPool.PERIOD,CharPool.SLASH});
    }
  }
  _resultRow=new ResultRow(rowId,model,primaryKey,_rowIndex,_bold);
  pageContext.setAttribute(_indexVar,_rowIndex);
  pageContext.setAttribute(_modelVar,model);
  pageContext.setAttribute(_rowVar,_resultRow);
}
