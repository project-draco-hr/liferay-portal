{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  try {
    List<UserNotificationEvent> userNotificationEvents=new ArrayList<>();
    if (PortletPropsValues.USER_NOTIFICATION_DOCKBAR_SPLIT) {
      boolean actionable=ParamUtil.getBoolean(actionRequest,"actionable");
      userNotificationEvents.addAll(UserNotificationEventLocalServiceUtil.getDeliveredUserNotificationEvents(themeDisplay.getUserId(),UserNotificationDeliveryConstants.TYPE_WEBSITE,false,actionable));
    }
 else {
      userNotificationEvents.addAll(UserNotificationEventLocalServiceUtil.getDeliveredUserNotificationEvents(themeDisplay.getUserId(),UserNotificationDeliveryConstants.TYPE_WEBSITE,false));
    }
    for (    UserNotificationEvent userNotificationEvent : userNotificationEvents) {
      userNotificationEvent.setDelivered(true);
      UserNotificationEventLocalServiceUtil.updateUserNotificationEvent(userNotificationEvent);
    }
    jsonObject.put("success",Boolean.TRUE);
  }
 catch (  Exception e) {
    jsonObject.put("success",Boolean.FALSE);
  }
  writeJSON(actionRequest,actionResponse,jsonObject);
}
