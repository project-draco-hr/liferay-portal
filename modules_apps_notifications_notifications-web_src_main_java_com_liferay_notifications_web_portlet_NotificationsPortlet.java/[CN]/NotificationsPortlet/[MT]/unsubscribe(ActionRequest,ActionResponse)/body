{
  long subscriptionId=ParamUtil.getLong(actionRequest,"subscriptionId");
  long userNotificationEventId=ParamUtil.getLong(actionRequest,"userNotificationEventId");
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  try {
    SubscriptionLocalServiceUtil.deleteSubscription(subscriptionId);
    UserNotificationEvent userNotificationEvent=UserNotificationEventLocalServiceUtil.fetchUserNotificationEvent(userNotificationEventId);
    if (userNotificationEvent != null) {
      if (!userNotificationEvent.isArchived()) {
        updateArchived(userNotificationEventId);
      }
    }
    jsonObject.put("success",Boolean.TRUE);
  }
 catch (  Exception e) {
    jsonObject.put("success",Boolean.FALSE);
  }
  writeJSON(actionRequest,actionResponse,jsonObject);
}
