{
  Method testMethod=testContext.getMethod();
  if (_transactionContextCache.get(testMethod) != null) {
    throw new IllegalArgumentException("Current transaction open. " + "Close the opening transaction before opening a new one");
  }
  TransactionAttribute transactionAttribute=_transactionAttributeSource.getTransactionAttribute(testMethod,testContext.getClazz());
  if (transactionAttribute != null) {
    TransactionContext transactionContext=new TransactionContext(_platformTransactionManager,transactionAttribute);
    _startNewTransaction(transactionContext);
    _transactionContextCache.put(testMethod,transactionContext);
  }
}
