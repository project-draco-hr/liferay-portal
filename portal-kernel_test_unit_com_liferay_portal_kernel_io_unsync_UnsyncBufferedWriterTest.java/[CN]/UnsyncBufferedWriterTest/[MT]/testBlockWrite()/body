{
  StringWriter stringWriter=new StringWriter();
  UnsyncBufferedWriter unsyncBufferedWriter=new UnsyncBufferedWriter(stringWriter,3);
  unsyncBufferedWriter.write("ab".toCharArray());
  Assert.assertEquals(2,unsyncBufferedWriter.count);
  Assert.assertEquals('a',unsyncBufferedWriter.buffer[0]);
  Assert.assertEquals('b',unsyncBufferedWriter.buffer[1]);
  Assert.assertEquals(0,stringWriter.getBuffer().length());
  unsyncBufferedWriter.write("cd".toCharArray());
  Assert.assertEquals(2,unsyncBufferedWriter.count);
  Assert.assertEquals('c',unsyncBufferedWriter.buffer[0]);
  Assert.assertEquals('d',unsyncBufferedWriter.buffer[1]);
  Assert.assertEquals(2,stringWriter.getBuffer().length());
  Assert.assertEquals("ab",stringWriter.getBuffer().toString());
  unsyncBufferedWriter.write("efg".toCharArray());
  Assert.assertEquals(0,unsyncBufferedWriter.count);
  Assert.assertEquals(7,stringWriter.getBuffer().length());
  Assert.assertEquals("abcdefg",stringWriter.getBuffer().toString());
  unsyncBufferedWriter.write("hij".toCharArray());
  Assert.assertEquals(0,unsyncBufferedWriter.count);
  Assert.assertEquals(10,stringWriter.getBuffer().length());
  Assert.assertEquals("abcdefghij",stringWriter.getBuffer().toString());
}
