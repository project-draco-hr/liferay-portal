{
  Assert.assertEquals(_VALUE_1,_memoryPortalCache.get(_KEY_1));
  Assert.assertNull(_memoryPortalCache.get(_KEY_2));
  Assert.assertNull(_memoryPortalCache.putIfAbsent(_KEY_2,_VALUE_2));
  Assert.assertEquals(_VALUE_1,_memoryPortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_2,_memoryPortalCache.get(_KEY_2));
  _defaultCacheListener.assertPut(_KEY_2,_VALUE_2);
  _defaultCacheListener.assertActionsCount(1);
  _defaultCacheListener.reset();
  Assert.assertEquals(_VALUE_1,_memoryPortalCache.putIfAbsent(_KEY_1,_VALUE_2,10));
  Assert.assertEquals(_VALUE_1,_memoryPortalCache.get(_KEY_1));
  Assert.assertEquals(_VALUE_2,_memoryPortalCache.get(_KEY_2));
  _defaultCacheListener.assertActionsCount(0);
  try {
    _memoryPortalCache.putIfAbsent(null,null);
    Assert.fail();
  }
 catch (  NullPointerException npe) {
    Assert.assertEquals("Key is null",npe.getMessage());
  }
  _defaultCacheListener.assertActionsCount(0);
  try {
    _memoryPortalCache.putIfAbsent(_KEY_1,null);
    Assert.fail();
  }
 catch (  NullPointerException npe) {
    Assert.assertEquals("Value is null",npe.getMessage());
  }
  _defaultCacheListener.assertActionsCount(0);
  try {
    _memoryPortalCache.putIfAbsent(_KEY_1,_VALUE_1,-1);
    Assert.fail();
  }
 catch (  IllegalArgumentException iae) {
    Assert.assertEquals("Time to live is negative",iae.getMessage());
  }
  _defaultCacheListener.assertActionsCount(0);
}
