{
  long categoryId=ParamUtil.getLong(actionRequest,"categoryId");
  long parentCategoryId=ParamUtil.getLong(actionRequest,"parentCategoryId");
  Map<Locale,String> titleMap=LocalizationUtil.getLocalizationMap(actionRequest,"title");
  Map<Locale,String> descriptionMap=LocalizationUtil.getLocalizationMap(actionRequest,"description");
  long vocabularyId=ParamUtil.getLong(actionRequest,"vocabularyId");
  String[] categoryProperties=getCategoryProperties(actionRequest);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(AssetCategory.class.getName(),actionRequest);
  AssetCategory category=null;
  if (categoryId <= 0) {
    category=AssetCategoryServiceUtil.addCategory(parentCategoryId,titleMap,descriptionMap,vocabularyId,categoryProperties,serviceContext);
  }
 else {
    category=AssetCategoryServiceUtil.updateCategory(categoryId,parentCategoryId,titleMap,descriptionMap,vocabularyId,categoryProperties,serviceContext);
  }
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  jsonObject.put("categoryId",category.getCategoryId());
  return jsonObject;
}
