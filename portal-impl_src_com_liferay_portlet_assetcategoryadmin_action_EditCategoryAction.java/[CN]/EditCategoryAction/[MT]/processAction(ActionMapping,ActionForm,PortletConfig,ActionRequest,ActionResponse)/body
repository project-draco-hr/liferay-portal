{
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  try {
    if (cmd.equals(Constants.ADD) || cmd.equals(Constants.UPDATE)) {
      jsonObject=updateCategory(actionRequest);
    }
 else     if (cmd.equals(Constants.MOVE)) {
      jsonObject=moveCategory(actionRequest);
    }
  }
 catch (  Exception e) {
    jsonObject.put("exception",e.getClass() + e.getMessage());
  }
  HttpServletResponse response=PortalUtil.getHttpServletResponse(actionResponse);
  response.setContentType(ContentTypes.TEXT_JAVASCRIPT);
  ServletResponseUtil.write(response,jsonObject.toString());
  setForward(actionRequest,ActionConstants.COMMON_NULL);
}
