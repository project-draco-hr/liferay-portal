{
  if (!_highlight || Validator.isNull(text) || ArrayUtil.isEmpty(_queryTerms)) {
    if (_escape) {
      return HtmlUtil.escape(text);
    }
    return text;
  }
  text=HighlightUtil.highlight(text,_queryTerms,_ESCAPE_SAFE_HIGHLIGHTS[0],_ESCAPE_SAFE_HIGHLIGHTS[1]);
  if (_escape) {
    text=HtmlUtil.escape(text);
  }
  return StringUtil.replace(text,_ESCAPE_SAFE_HIGHLIGHTS,HighlightUtil.HIGHLIGHTS);
}
