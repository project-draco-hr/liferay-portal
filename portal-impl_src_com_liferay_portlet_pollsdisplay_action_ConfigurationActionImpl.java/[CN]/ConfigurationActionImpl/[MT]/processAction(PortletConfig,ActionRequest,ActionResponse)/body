{
  try {
    String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
    if (!cmd.equals(Constants.UPDATE)) {
      return;
    }
    long questionId=ParamUtil.getLong(actionRequest,"questionId");
    PollsQuestionServiceUtil.getQuestion(questionId);
    String portletResource=ParamUtil.getString(actionRequest,"portletResource");
    PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
    preferences.setValue("question-id",String.valueOf(questionId));
    preferences.store();
    SessionMessages.add(actionRequest,portletConfig.getPortletName() + ".doConfigure");
  }
 catch (  NoSuchQuestionException nsqe) {
    SessionErrors.add(actionRequest,nsqe.getClass().getName());
  }
}
