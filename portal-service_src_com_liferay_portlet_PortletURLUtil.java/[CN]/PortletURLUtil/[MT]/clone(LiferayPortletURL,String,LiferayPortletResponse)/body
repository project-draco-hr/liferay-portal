{
  LiferayPortletURL newURLImpl=liferayPortletResponse.createLiferayPortletURL(lifecycle);
  newURLImpl.setPortletId(liferayPortletURL.getPortletId());
  WindowState windowState=liferayPortletURL.getWindowState();
  if (windowState != null) {
    newURLImpl.setWindowState(windowState);
  }
  PortletMode portletMode=liferayPortletURL.getPortletMode();
  if (portletMode != null) {
    newURLImpl.setPortletMode(portletMode);
  }
  newURLImpl.setParameters(liferayPortletURL.getParameterMap());
  return newURLImpl;
}
