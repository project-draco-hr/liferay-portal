{
  Set<String> result=new HashSet<String>();
  PortletContext portletContext=getPortletContext();
  Set<String> paths=portletContext.getResourcePaths(rootPath);
  if (paths == null) {
    return result;
  }
  for (  String path : paths) {
    if (path.endsWith(StringPool.SLASH)) {
      result.addAll(_getPaths(path,extension));
    }
 else     if (path.endsWith(extension)) {
      result.add(path);
    }
  }
  return result;
}
