{
  _registrationReference=registrationReference;
  _datagram=datagram;
  CompletionHandler<?> completionHandler=DatagramHelper.getCompletionHandler(datagram);
  if (completionHandler == null) {
    return;
  }
  if (_ioException == null) {
    Datagram responseDatagram=processDatagram(datagram);
    if (responseDatagram != null) {
      completionHandler.replied(null,responseDatagram);
    }
  }
 else {
    completionHandler.failed(null,_ioException);
  }
}
