{
  if (FileUtil.getFile() == null) {
    FileUtil fileUtil=new FileUtil();
    fileUtil.setFile(new FileImpl());
  }
  if (HttpUtil.getHttp() == null) {
    HttpUtil httpUtil=new HttpUtil();
    httpUtil.setHttp(new HttpImpl());
  }
  File file=new File(PropsValues.LIFERAY_LIB_GLOBAL_DIR + StringPool.SLASH + name);
  if (_log.isDebugEnabled()) {
    _log.debug("Downloading " + url);
  }
  byte[] bytes=HttpUtil.URLtoByteArray(url);
  if (_log.isDebugEnabled()) {
    _log.debug("Writing " + file);
  }
  FileUtil.write(file,bytes);
  return file;
}
