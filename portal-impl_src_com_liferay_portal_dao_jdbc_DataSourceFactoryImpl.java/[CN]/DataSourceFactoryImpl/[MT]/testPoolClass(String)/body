{
  try {
    Class.forName(classname);
  }
 catch (  ClassNotFoundException cnfe) {
    if (!ServerDetector.isGeronimo() && !ServerDetector.isJetty() && !ServerDetector.isTomcat()) {
      throw cnfe;
    }
    String url=PropsUtil.get(PropsKeys.SETUP_LIFERAY_POOL_PROVIDER_JAR_URL,new Filter(PropsValues.JDBC_DEFAULT_LIFERAY_POOL_PROVIDER));
    String name=PropsUtil.get(PropsKeys.SETUP_LIFERAY_POOL_PROVIDER_JAR_NAME,new Filter(PropsValues.JDBC_DEFAULT_LIFERAY_POOL_PROVIDER));
    if (Validator.isNull(url) || Validator.isNull(name)) {
      throw cnfe;
    }
    if (HttpUtil.getHttp() == null) {
      HttpUtil httpUtil=new HttpUtil();
      httpUtil.setHttp(new HttpImpl());
    }
    if (FileUtil.getFile() == null) {
      FileUtil fileUtil=new FileUtil();
      fileUtil.setFile(new FileImpl());
    }
    JarUtil.downloadAndInstallJar(false,url,name,null);
  }
}
