{
  Group group=GroupTestUtil.addGroup();
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(group.getGroupId());
  Locale locale=LocaleThreadLocal.getSiteDefaultLocale();
  try {
    LocaleThreadLocal.setSiteDefaultLocale(LocaleUtil.SPAIN);
    String name=RandomTestUtil.randomString();
    String description=RandomTestUtil.randomString();
    DDMStructure ddmStructure=DDMStructureTestUtil.addStructure(DLFileEntryMetadata.class.getName(),new Locale[]{LocaleUtil.SPAIN},LocaleUtil.SPAIN);
    DLFileEntryType dlFileEntryType=DLFileEntryTypeLocalServiceUtil.addFileEntryType(TestPropsValues.getUserId(),group.getGroupId(),name,description,new long[]{ddmStructure.getStructureId()},serviceContext);
    name=RandomTestUtil.randomString();
    description=RandomTestUtil.randomString();
    DLFileEntryTypeLocalServiceUtil.updateFileEntryType(TestPropsValues.getUserId(),dlFileEntryType.getFileEntryTypeId(),name,description,new long[]{ddmStructure.getStructureId()},serviceContext);
    dlFileEntryType=DLFileEntryTypeLocalServiceUtil.getFileEntryType(dlFileEntryType.getFileEntryTypeId());
    Assert.assertEquals(name,dlFileEntryType.getName(LocaleUtil.US,true));
    Assert.assertEquals(description,dlFileEntryType.getDescription(LocaleUtil.US,true));
  }
  finally {
    LocaleThreadLocal.setSiteDefaultLocale(locale);
  }
}
