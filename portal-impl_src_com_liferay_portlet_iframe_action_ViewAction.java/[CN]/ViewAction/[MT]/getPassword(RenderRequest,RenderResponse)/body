{
  PortletPreferences prefs=req.getPreferences();
  String defaultPassword=null;
  if (req.getRemoteUser() != null) {
    defaultPassword=PortalUtil.getUserPassword(req);
  }
  String password=prefs.getValue("password",defaultPassword);
  if (Validator.isNull(password)) {
    password=defaultPassword;
  }
  return password;
}
