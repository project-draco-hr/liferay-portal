{
  URLConnection urlConnection=null;
  try {
    urlConnection=_templateURL.openConnection();
    if (urlConnection instanceof JarURLConnection) {
      JarURLConnection jarURLConnection=(JarURLConnection)urlConnection;
      URL url=jarURLConnection.getJarFileURL();
      String protocol=url.getProtocol();
      if (protocol.equals("file")) {
        return new File(url.getFile()).lastModified();
      }
 else {
        urlConnection=url.openConnection();
      }
    }
    return urlConnection.getLastModified();
  }
 catch (  IOException ioe) {
    _log.error("Unable to get last modified time for template " + _templateId,ioe);
    return 0;
  }
 finally {
    if (urlConnection != null) {
      try {
        urlConnection.getInputStream().close();
      }
 catch (      IOException ioe) {
      }
    }
  }
}
