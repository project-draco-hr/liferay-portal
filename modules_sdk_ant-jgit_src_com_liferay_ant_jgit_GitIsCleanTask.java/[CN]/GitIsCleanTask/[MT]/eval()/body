{
  if (_path == null) {
    throw new BuildException("Path attribute is required",getLocation());
  }
  File gitDir=PathUtil.getGitDir(_gitDir,getProject(),getLocation());
  try (Repository repository=RepositoryCache.open(RepositoryCache.FileKey.exact(gitDir,FS.DETECTED))){
    Git git=new Git(repository);
    StatusCommand statusCommand=git.status();
    statusCommand.setIgnoreSubmodules(IgnoreSubmoduleMode.ALL);
    statusCommand.addPath(PathUtil.toRelativePath(gitDir,_path));
    Status status=statusCommand.call();
    return status.isClean();
  }
 catch (  Exception e) {
    throw new BuildException("Unable to check cleanness for path " + _path,e);
  }
}
