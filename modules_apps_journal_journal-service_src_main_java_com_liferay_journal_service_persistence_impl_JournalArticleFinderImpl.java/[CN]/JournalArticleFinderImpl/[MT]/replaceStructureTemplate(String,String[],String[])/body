{
  if (isNullArray(ddmStructureKeys) && isNullArray(ddmTemplateKeys)) {
    return StringUtil.replace(sql,"([$STRUCTURE_TEMPLATE$]) AND",StringPool.BLANK);
  }
  StringBundler sb=new StringBundler(3);
  if (!isNullArray(ddmStructureKeys)) {
    sb.append(_DDM_STRUCTURE_KEY_SQL);
  }
  if (!isNullArray(ddmTemplateKeys)) {
    if (!isNullArray(ddmStructureKeys)) {
      sb.append(_AND_OR_CONNECTOR);
    }
    sb.append(_DDM_TEMPLATE_KEY_SQL);
  }
  return StringUtil.replace(sql,"[$STRUCTURE_TEMPLATE$]",sb.toString());
}
