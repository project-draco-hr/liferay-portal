{
  ExportActionableDynamicQuery exportActionableDynamicQuery=_ddlRecordLocalService.getExportActionableDynamicQuery(portletDataContext);
  final ActionableDynamicQuery.AddCriteriaMethod addCriteriaMethod=exportActionableDynamicQuery.getAddCriteriaMethod();
  exportActionableDynamicQuery.setAddCriteriaMethod(new ActionableDynamicQuery.AddCriteriaMethod(){
    @Override public void addCriteria(    DynamicQuery dynamicQuery){
      addCriteriaMethod.addCriteria(dynamicQuery);
      Property recordIdProperty=PropertyFactoryUtil.forName("recordId");
      DynamicQuery recordVersionDynamicQuery=getRecordVersionDynamicQuery();
      dynamicQuery.add(recordIdProperty.in(recordVersionDynamicQuery));
      Property recordSetIdProperty=PropertyFactoryUtil.forName("recordSetId");
      DynamicQuery recordSetDynamicQuery=getRecordSetDynamicQuery(scope);
      dynamicQuery.add(recordSetIdProperty.in(recordSetDynamicQuery));
    }
  }
);
  return exportActionableDynamicQuery;
}
