{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long companyId=themeDisplay.getCompanyId();
  long liveGroupId=ParamUtil.getLong(actionRequest,"liveGroupId");
  long stagingGroupId=ParamUtil.getLong(actionRequest,"stagingGroupId");
  boolean privateLayout=ParamUtil.getBoolean(actionRequest,"privateLayout");
  long layoutId=ParamUtil.getLong(actionRequest,"layoutId");
  String themeId=ParamUtil.getString(actionRequest,"themeId");
  String colorSchemeId=ParamUtil.getString(actionRequest,"colorSchemeId");
  String css=ParamUtil.getString(actionRequest,"css");
  boolean wapTheme=ParamUtil.getBoolean(actionRequest,"wapTheme");
  updateLookAndFeel(companyId,liveGroupId,privateLayout,layoutId,themeId,colorSchemeId,css,wapTheme);
  if (stagingGroupId > 0) {
    updateLookAndFeel(companyId,stagingGroupId,privateLayout,layoutId,themeId,colorSchemeId,css,wapTheme);
  }
}
