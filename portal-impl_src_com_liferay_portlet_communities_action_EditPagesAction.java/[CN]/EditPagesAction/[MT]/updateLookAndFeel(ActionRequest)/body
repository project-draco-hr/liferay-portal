{
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  long companyId=themeDisplay.getCompanyId();
  long liveGroupId=ParamUtil.getLong(req,"liveGroupId");
  long stagingGroupId=ParamUtil.getLong(req,"stagingGroupId");
  boolean privateLayout=ParamUtil.getBoolean(req,"privateLayout");
  long layoutId=ParamUtil.getLong(req,"layoutId");
  String themeId=ParamUtil.getString(req,"themeId");
  String colorSchemeId=ParamUtil.getString(req,"colorSchemeId");
  String css=ParamUtil.getString(req,"css");
  boolean wapTheme=ParamUtil.getBoolean(req,"wapTheme");
  updateLookAndFeel(companyId,liveGroupId,privateLayout,layoutId,themeId,colorSchemeId,css,wapTheme);
  if (stagingGroupId > 0) {
    updateLookAndFeel(companyId,stagingGroupId,privateLayout,layoutId,themeId,colorSchemeId,css,wapTheme);
  }
}
