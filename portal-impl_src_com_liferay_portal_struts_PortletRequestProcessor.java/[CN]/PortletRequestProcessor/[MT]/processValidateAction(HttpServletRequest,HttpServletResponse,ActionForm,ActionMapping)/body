{
  if (form == null) {
    return true;
  }
  if (request.getAttribute(Globals.CANCEL_KEY) != null) {
    return true;
  }
  if (!mapping.getValidate()) {
    return true;
  }
  ActionErrors errors=form.validate(mapping,request);
  if ((errors == null) || errors.isEmpty()) {
    return true;
  }
  if (form.getMultipartRequestHandler() != null) {
    form.getMultipartRequestHandler().rollback();
  }
  String input=mapping.getInput();
  if (input == null) {
    _log.error("Validation failed but no input form is available");
    return false;
  }
  request.setAttribute(Globals.ERROR_KEY,errors);
  request.setAttribute(PortletAction.getForwardKey(request),input);
  return false;
}
