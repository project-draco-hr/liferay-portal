{
  String path=request.getParameter("struts_action");
  if (_log.isDebugEnabled()) {
    _log.debug("Getting request parameter path " + path);
  }
  if (Validator.isNull(path)) {
    if (_log.isDebugEnabled()) {
      _log.debug("Getting request attribute path " + path);
    }
    path=(String)request.getAttribute(WebKeys.PORTLET_STRUTS_ACTION);
  }
  if (path == null) {
    PortletConfigImpl portletConfigImpl=(PortletConfigImpl)request.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
    _log.error(portletConfigImpl.getPortletName() + " does not have any paths specified");
  }
 else {
    if (_log.isDebugEnabled()) {
      _log.debug("Processing path " + path);
    }
    request.removeAttribute(WebKeys.PORTLET_STRUTS_ACTION);
  }
  return path;
}
