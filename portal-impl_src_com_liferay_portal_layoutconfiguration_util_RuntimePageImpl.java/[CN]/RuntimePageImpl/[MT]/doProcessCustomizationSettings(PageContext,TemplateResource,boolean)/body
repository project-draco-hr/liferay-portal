{
  HttpServletRequest request=(HttpServletRequest)pageContext.getRequest();
  HttpServletResponse response=(HttpServletResponse)pageContext.getResponse();
  CustomizationSettingsProcessor processor=new CustomizationSettingsProcessor(request,response);
  Template template=TemplateManagerUtil.getTemplate(TemplateConstants.LANG_TYPE_VM,templateResource,restricted);
  template.put("processor",processor);
  template.prepare(request);
  VelocityTaglib velocityTaglib=new DummyVelocityTaglib();
  template.put("taglibLiferay",velocityTaglib);
  template.put("theme",velocityTaglib);
  try {
    template.processTemplate(pageContext.getOut());
  }
 catch (  Exception e) {
    _log.error(e,e);
    throw e;
  }
}
