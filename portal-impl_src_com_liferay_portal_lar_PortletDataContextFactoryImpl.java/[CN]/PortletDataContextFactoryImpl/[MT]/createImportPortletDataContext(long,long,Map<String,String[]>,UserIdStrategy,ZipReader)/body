{
  PortletDataContext portletDataContext=new PortletDataContextImpl();
  populateGroupIds(companyId,portletDataContext);
  portletDataContext.setCompanyId(companyId);
  String dataStrategy=MapUtil.getString(parameterMap,PortletDataHandlerKeys.DATA_STRATEGY,PortletDataHandlerKeys.DATA_STRATEGY_MIRROR);
  portletDataContext.setDataStrategy(dataStrategy);
  portletDataContext.setGroupId(groupId);
  portletDataContext.setNewLayouts(new ArrayList<Layout>());
  portletDataContext.setParameterMap(parameterMap);
  portletDataContext.setScopeGroupId(groupId);
  portletDataContext.setUserIdStrategy(userIdStrategy);
  portletDataContext.setZipReader(zipReader);
  return portletDataContext;
}
