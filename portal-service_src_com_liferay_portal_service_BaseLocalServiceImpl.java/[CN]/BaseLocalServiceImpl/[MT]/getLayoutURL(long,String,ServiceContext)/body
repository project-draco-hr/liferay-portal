{
  String layoutURL=StringPool.BLANK;
  long plid=serviceContext.getPlid();
  long controlPanelPlid=PortalUtil.getControlPanelPlid(serviceContext.getCompanyId());
  if (plid == controlPanelPlid) {
    plid=PortalUtil.getPlidFromPortletId(groupId,portletId);
  }
  if (plid != LayoutConstants.DEFAULT_PLID) {
    Layout layout=layoutPersistence.findByPrimaryKey(plid);
    return getLayoutURL(layout,serviceContext);
  }
  return layoutURL;
}
