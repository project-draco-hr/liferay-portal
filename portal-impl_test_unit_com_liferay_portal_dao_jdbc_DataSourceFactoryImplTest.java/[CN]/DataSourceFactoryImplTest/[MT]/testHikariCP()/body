{
  ProcessConfig.Builder processConfigBuilder=new ProcessConfig.Builder();
  List<String> arguments=new ArrayList<>();
  arguments.add("-D" + PropsKeys.LIFERAY_LIB_PORTAL_DIR + "="+ PropsValues.LIFERAY_LIB_PORTAL_DIR);
  processConfigBuilder.setArguments(arguments);
  processConfigBuilder.setBootstrapClassPath(System.getProperty("java.class.path"));
  ProcessChannel<TestResult> processChannel=ProcessExecutorUtil.execute(processConfigBuilder.build(),new TestProcessCallable());
  Future<TestResult> processNoticeableFuture=processChannel.getProcessNoticeableFuture();
  TestResult testResult=processNoticeableFuture.get();
  Assert.assertEquals("com.zaxxer.hikari.HikariDataSource",testResult._dataSourceClassName);
  Assert.assertEquals(_CHECKOUT_COUNT,testResult._activeConnections);
  Assert.assertEquals(testResult._validConnectionCount,testResult._activeConnections);
  Assert.assertEquals(testResult._totalConnections,testResult._activeConnections + testResult._idleConnections);
}
