{
  CharPipe charPipe=new CharPipe(4);
  Reader reader=charPipe.getReader();
  Writer writer=charPipe.getWriter();
  writer.write("abcd");
  char[] buffer=new char[4];
  int result=reader.read(buffer);
  Assert.assertEquals(4,result);
  Assert.assertEquals("abcd",new String(buffer));
  charPipe.close();
}
