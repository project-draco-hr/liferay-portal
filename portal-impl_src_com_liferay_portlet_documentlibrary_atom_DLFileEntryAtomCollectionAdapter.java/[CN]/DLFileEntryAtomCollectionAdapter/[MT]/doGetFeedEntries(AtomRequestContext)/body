{
  long groupId=0;
  long folderId=atomRequestContext.getLongParameter("folderId");
  if (folderId != 0) {
    DLFolder dlFolder=DLFolderServiceUtil.getFolder(folderId);
    groupId=dlFolder.getGroupId();
  }
 else {
    groupId=atomRequestContext.getLongParameter("groupId");
  }
  int max=atomRequestContext.getIntParameter("max",SearchContainer.DEFAULT_DELTA);
  int page=atomRequestContext.getIntParameter("page");
  int dlFileEntriesCount=DLFileEntryServiceUtil.getFileEntriesCount(groupId,folderId);
  AtomPager atomPager=new AtomPager(page,dlFileEntriesCount,max);
  return DLFileEntryServiceUtil.getFileEntries(groupId,folderId,atomPager.getStart(),atomPager.getEnd() + 1,new EntryModifiedDateComparator());
}
