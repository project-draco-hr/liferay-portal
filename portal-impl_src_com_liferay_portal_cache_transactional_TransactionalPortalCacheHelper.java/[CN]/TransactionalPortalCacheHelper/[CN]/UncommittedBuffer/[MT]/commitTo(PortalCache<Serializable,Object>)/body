{
  if (_removeAll) {
    portalCache.removeAll();
  }
  for (  Map.Entry<? extends Serializable,List<Object>> entry : _uncommittedMap.entrySet()) {
    Serializable key=entry.getKey();
    List<Object> valueList=entry.getValue();
    for (    Object value : valueList) {
      if (value == TransactionalPortalCache.NULL_HOLDER) {
        portalCache.remove(key);
      }
 else       if (value instanceof TTLValue) {
        TTLValue ttlValue=(TTLValue)value;
        portalCache.put(key,ttlValue._value,ttlValue._ttl);
      }
 else {
        portalCache.put(key,value);
      }
    }
  }
}
