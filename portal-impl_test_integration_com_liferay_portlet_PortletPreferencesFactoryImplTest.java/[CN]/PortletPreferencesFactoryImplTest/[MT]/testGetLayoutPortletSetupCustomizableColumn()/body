{
  long userId=RandomTestUtil.randomLong();
  long ownerId=userId;
  int ownerType=PortletKeys.PREFS_OWNER_TYPE_USER;
  String customizableColumnPortletId=PortletConstants.assemblePortletId(_PORTLET_ID,userId,null);
  String name=RandomTestUtil.randomString(20);
  String[] values=new String[]{RandomTestUtil.randomString(20)};
  String portletPreferencesXML=PortletPreferencesTestUtil.getPortletPreferencesXML(name,values);
  PortletPreferencesLocalServiceUtil.addPortletPreferences(TestPropsValues.getCompanyId(),ownerId,ownerType,_layout.getPlid(),customizableColumnPortletId,_portlet,portletPreferencesXML);
  PortletPreferences layoutPortletSetup=PortletPreferencesFactoryUtil.getLayoutPortletSetup(_layout,customizableColumnPortletId);
  Assert.assertArrayEquals(layoutPortletSetup.getValues(name,null),values);
}
