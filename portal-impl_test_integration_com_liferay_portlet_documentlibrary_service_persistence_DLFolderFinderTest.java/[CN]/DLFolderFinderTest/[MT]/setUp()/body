{
  _group=GroupTestUtil.addGroup();
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),TestPropsValues.getUserId());
  long classNameId=PortalUtil.getClassNameId(PortletRepository.class.getName());
  RepositoryLocalServiceUtil.addRepository(TestPropsValues.getUserId(),_group.getGroupId(),classNameId,DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,"Test Repository",StringUtil.randomString(),StringUtil.randomString(),new UnicodeProperties(),false,serviceContext);
  _folder=DLAppLocalServiceUtil.addFolder(TestPropsValues.getUserId(),_group.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,"Folder A",StringPool.BLANK,serviceContext);
  DLAppLocalServiceUtil.addFolder(TestPropsValues.getUserId(),_group.getGroupId(),_folder.getFolderId(),"Folder B",StringPool.BLANK,serviceContext);
  Folder folder=DLAppLocalServiceUtil.addFolder(TestPropsValues.getUserId(),_group.getGroupId(),_folder.getFolderId(),"Folder C",StringPool.BLANK,serviceContext);
  DLAppServiceUtil.moveFolderToTrash(folder.getFolderId());
  FileEntry fileEntry=addFileEntry(_group.getGroupId(),_folder.getFolderId(),"FE1.txt",ContentTypes.TEXT_PLAIN);
  _fileShortcut=DLAppLocalServiceUtil.addFileShortcut(TestPropsValues.getUserId(),_group.getGroupId(),fileEntry.getFolderId(),fileEntry.getFileEntryId(),serviceContext);
  addFileEntry(_group.getGroupId(),_folder.getFolderId(),"FE2.pdf",ContentTypes.APPLICATION_PDF);
  fileEntry=addFileEntry(_group.getGroupId(),_folder.getFolderId(),"FE3.txt",ContentTypes.TEXT_PLAIN);
  DLAppServiceUtil.moveFileEntryToTrash(fileEntry.getFileEntryId());
}
