{
  this.request=request;
  this.fileVersion=fileVersion;
  this.dlFileShortcut=dlFileShortcut;
  FileEntry fileEntry=null;
  if (fileVersion != null) {
    fileEntry=fileVersion.getFileEntry();
  }
  this.fileEntry=fileEntry;
  _folderId=BeanParamUtil.getLong(this.fileEntry,request,"folderId");
  _themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  _fileEntryDisplayContextHelper=new FileEntryDisplayContextHelper(_themeDisplay.getPermissionChecker(),this.fileEntry);
  _fileVersionDisplayContextHelper=new FileVersionDisplayContextHelper(fileVersion);
}
