{
  Iterator itr=root.elements().iterator();
  while (itr.hasNext()) {
    Element el=(Element)itr.next();
    Element dynamicContent=el.element("dynamic-content");
    String elName=el.attributeValue("name",StringPool.BLANK);
    String elType=el.attributeValue("type",StringPool.BLANK);
    String elLanguage="";
    if (dynamicContent != null) {
      elLanguage=dynamicContent.attributeValue("language-id",StringPool.BLANK);
      if (!elLanguage.equals(StringPool.BLANK)) {
        elLanguage="_" + elLanguage;
      }
    }
    if (elType.equals("image")) {
      String oldImageId=dynamicContent.getText();
      if (oldImageId.startsWith(_IMG_ID_PATH)) {
        String newImageId=getNewImageId(oldCompanyId,oldImageId);
        dynamicContent.setText(_IMG_ID_PATH + newImageId);
        dynamicContent.addAttribute("id",newImageId);
        long articleImageId=GetterUtil.getLong(newImageId);
        JournalArticleImageLocalServiceUtil.addArticleImageId(articleImageId,groupId,articleId,version,elName,elLanguage);
      }
    }
    format(oldCompanyId,newCompanyId,groupId,articleId,version,el);
  }
}
