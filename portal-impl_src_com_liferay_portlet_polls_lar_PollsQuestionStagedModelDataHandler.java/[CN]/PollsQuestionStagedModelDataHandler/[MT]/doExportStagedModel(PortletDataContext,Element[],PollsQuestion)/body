{
  Element choicesElement=null;
  if (elements.length > 1) {
    choicesElement=elements[1];
    List<PollsChoice> choices=PollsChoiceUtil.findByQuestionId(question.getQuestionId());
    for (    PollsChoice choice : choices) {
      StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,choicesElement,choice);
    }
    Element votesElement=null;
    if (elements.length > 2) {
      votesElement=elements[2];
      if (portletDataContext.getBooleanParameter(PollsPortletDataHandler.NAMESPACE,"votes")) {
        List<PollsVote> votes=PollsVoteUtil.findByQuestionId(question.getQuestionId());
        for (        PollsVote vote : votes) {
          StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,votesElement,vote);
        }
      }
    }
  }
  Element questionsElement=elements[0];
  Element questionElement=questionsElement.addElement("question");
  portletDataContext.addClassedModel(questionElement,StagedModelPathUtil.getPath(question),question,PollsPortletDataHandler.NAMESPACE);
}
