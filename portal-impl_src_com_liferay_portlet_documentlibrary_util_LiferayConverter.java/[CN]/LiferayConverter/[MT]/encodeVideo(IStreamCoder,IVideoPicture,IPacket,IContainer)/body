{
  if (outputIStreamCoder.encodeVideo(outputIPacket,outputIVideoPicture,0) < 0) {
    throw new RuntimeException("Unable to encode video");
  }
  if (outputIPacket.isComplete()) {
    if (outputIContainer.writePacket(outputIPacket,true) < 0) {
      throw new RuntimeException("Unable to write video packet");
    }
  }
}
