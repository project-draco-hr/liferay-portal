{
  int value=outputIStreamCoder.encodeVideo(outputIPacket,outputIVideoPicture,0);
  if (value < 0) {
    throw new RuntimeException("Unable to encode video");
  }
  if (outputIPacket.isComplete()) {
    value=outputIContainer.writePacket(outputIPacket,true);
    if (value < 0) {
      throw new RuntimeException("Unable to write video packet");
    }
  }
}
