{
  ObjectMapper objectMapper=new ObjectMapper();
  JsonNode responseJsonNode=null;
  try {
    response=StringEscapeUtils.unescapeJava(response);
    responseJsonNode=objectMapper.readTree(response);
  }
 catch (  Exception e) {
    return "";
  }
  JsonNode errorJsonNode=responseJsonNode.get("error");
  if (errorJsonNode == null) {
    JsonNode exceptionJsonNode=responseJsonNode.get("exception");
    if (exceptionJsonNode == null) {
      return "";
    }
    return exceptionJsonNode.asText();
  }
  JsonNode typeJsonNode=null;
  JsonNode rootCauseJsonNode=responseJsonNode.get("rootCause");
  if (rootCauseJsonNode != null) {
    typeJsonNode=rootCauseJsonNode.get("type");
  }
 else {
    typeJsonNode=errorJsonNode.get("type");
  }
  return typeJsonNode.asText();
}
