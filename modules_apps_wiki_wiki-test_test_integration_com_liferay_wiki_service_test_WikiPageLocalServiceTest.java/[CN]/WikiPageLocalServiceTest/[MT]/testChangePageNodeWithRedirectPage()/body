{
  WikiNode destinationNode=WikiTestUtil.addNode(_group.getGroupId());
  WikiTestUtil.addPage(TestPropsValues.getUserId(),_group.getGroupId(),_node.getNodeId(),"InitialTitlePage",true);
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  WikiPageLocalServiceUtil.renamePage(TestPropsValues.getUserId(),_node.getNodeId(),"InitialTitlePage","RenamedPage",serviceContext);
  WikiPageLocalServiceUtil.changeNode(TestPropsValues.getUserId(),_node.getNodeId(),"RenamedPage",destinationNode.getNodeId(),serviceContext);
  WikiPage page=WikiPageLocalServiceUtil.getPage(destinationNode.getNodeId(),"RenamedPage");
  WikiPage redirectPage=WikiPageLocalServiceUtil.getPage(destinationNode.getNodeId(),"InitialTitlePage");
  Assert.assertEquals(destinationNode.getNodeId(),page.getNodeId());
  Assert.assertEquals(destinationNode.getNodeId(),redirectPage.getNodeId());
  Assert.assertEquals("RenamedPage",redirectPage.getRedirectTitle());
}
