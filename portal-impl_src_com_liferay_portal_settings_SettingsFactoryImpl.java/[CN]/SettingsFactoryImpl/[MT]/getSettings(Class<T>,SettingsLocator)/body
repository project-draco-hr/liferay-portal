{
  Settings settings=getSettings(settingsLocator);
  Class<?> settingsExtraClass=_getOverrideClass(clazz);
  try {
    TypedSettings typedSettings=new TypedSettings(settings);
    Object settingsExtraInstance=null;
    if (settingsExtraClass != null) {
      Constructor<?> constructor=settingsExtraClass.getConstructor(TypedSettings.class);
      settingsExtraInstance=constructor.newInstance(typedSettings);
    }
    SettingsInvocationHandler<T> settingsInvocationHandler=new SettingsInvocationHandler<>(clazz,settingsExtraInstance,typedSettings);
    return settingsInvocationHandler.createProxy();
  }
 catch (  NoSuchMethodException|InvocationTargetException|InstantiationException|IllegalAccessException e) {
    throw new SettingsException("Unable to load settings of type " + clazz.getName(),e);
  }
}
