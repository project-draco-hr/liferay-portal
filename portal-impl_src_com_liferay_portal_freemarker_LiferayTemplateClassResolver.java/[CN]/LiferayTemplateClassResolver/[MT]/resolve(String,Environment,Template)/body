{
  if (className.equals(ObjectConstructor.class.getName())) {
    throw new TemplateException("Instantiating " + className + " is not allowed in the "+ "template for security reasons",environment);
  }
  for (  String restrictedClassName : PropsValues.FREEMARKER_ENGINE_RESTRICTED_CLASSES) {
    if (className.equals(restrictedClassName)) {
      throw new TemplateException("Instantiating " + className + " is not allowed in the "+ "template for security reasons",environment);
    }
  }
  for (  String restrictedPackageName : PropsValues.FREEMARKER_ENGINE_RESTRICTED_PACKAGES) {
    if (className.startsWith(restrictedPackageName)) {
      throw new TemplateException("Instantiating " + className + " is not allowed in the "+ "template for security reasons",environment);
    }
  }
  try {
    return Class.forName(className,true,PACLClassLoaderUtil.getContextClassLoader());
  }
 catch (  Exception e) {
    throw new TemplateException(e,environment);
  }
}
