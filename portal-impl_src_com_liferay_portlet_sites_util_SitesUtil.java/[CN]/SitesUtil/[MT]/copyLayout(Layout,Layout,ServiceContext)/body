{
  Map<String,String[]> parameterMap=getLayoutSetPrototypeParameters(serviceContext);
  parameterMap.put(PortletDataHandlerKeys.DELETE_MISSING_LAYOUTS,new String[]{Boolean.FALSE.toString()});
  File f=LayoutLocalServiceUtil.exportLayoutsAsFile(sourceLayout.getGroupId(),sourceLayout.isPrivateLayout(),new long[]{sourceLayout.getLayoutId()},parameterMap,null,null);
  try {
    LayoutServiceUtil.importLayouts(targetLayout.getGroupId(),targetLayout.isPrivateLayout(),parameterMap,f);
  }
  finally {
    f.delete();
  }
}
