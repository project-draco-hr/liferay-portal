{
  String sourcePrototypeLayoutUuid=layout.getSourcePrototypeLayoutUuid();
  if (Validator.isNotNull(sourcePrototypeLayoutUuid)) {
    LayoutSet layoutSet=layout.getLayoutSet();
    Group layoutSetPrototypeGroup=GroupLocalServiceUtil.getLayoutSetPrototypeGroup(layout.getCompanyId(),layoutSet.getLayoutSetPrototypeId());
    Layout sourcePrototypeLayout=LayoutLocalServiceUtil.getLayoutByUuidAndGroupId(sourcePrototypeLayoutUuid,layoutSetPrototypeGroup.getGroupId());
    doMergeLayoutProtypeLayout(layoutSetPrototypeGroup,sourcePrototypeLayout);
  }
  doMergeLayoutProtypeLayout(group,layout);
}
