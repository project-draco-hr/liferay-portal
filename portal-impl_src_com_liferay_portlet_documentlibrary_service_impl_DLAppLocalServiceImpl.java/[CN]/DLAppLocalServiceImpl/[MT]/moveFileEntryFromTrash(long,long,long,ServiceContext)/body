{
  LocalRepository localRepository=getFileEntryLocalRepository(fileEntryId);
  if (!localRepository.isCapabilityProvided(TrashCapability.class)) {
    throw new InvalidRepositoryException("Repository " + localRepository.getRepositoryId() + " does not support trash operations");
  }
  TrashCapability trashCapability=localRepository.getCapability(TrashCapability.class);
  FileEntry fileEntry=localRepository.getFileEntry(fileEntryId);
  Folder destinationFolder=localRepository.getFolder(newFolderId);
  return trashCapability.moveFileEntryFromTrash(userId,fileEntry,destinationFolder,serviceContext);
}
