{
  LocalRepository sourceLocalRepository=getFolderLocalRepository(folderId);
  LocalRepository destinationLocalRepository=getFolderLocalRepository(parentFolderId,serviceContext.getScopeGroupId());
  if (parentFolderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    Folder toFolder=destinationLocalRepository.getFolder(parentFolderId);
    if (toFolder.isMountPoint()) {
      destinationLocalRepository=getLocalRepository(toFolder.getRepositoryId());
    }
  }
  if (sourceLocalRepository.getRepositoryId() == destinationLocalRepository.getRepositoryId()) {
    Folder folder=sourceLocalRepository.moveFolder(userId,folderId,parentFolderId,serviceContext);
    return folder;
  }
  return moveFolders(userId,folderId,parentFolderId,sourceLocalRepository,destinationLocalRepository,serviceContext);
}
