{
  if (file == null || !file.exists() || file.length() == 0) {
    return updateFileEntry(userId,fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,null,0,serviceContext);
  }
  LocalRepository localRepository=getLocalRepository(0,fileEntryId,0);
  final FileEntry fileEntry=localRepository.updateFileEntry(userId,fileEntryId,sourceFileName,mimeType,title,description,changeLog,majorVersion,file,serviceContext);
  registerDLProcessorCallback(fileEntry);
  return fileEntry;
}
