{
  LocalRepository localRepository=getFileEntryLocalRepository(fileEntryId);
  FileEntry fileEntry=localRepository.getFileEntry(fileEntryId);
  dlAppHelperLocalService.deleteFileEntry(fileEntry);
  SystemEventHierarchyEntryThreadLocal.push(FileEntry.class);
  try {
    localRepository.deleteFileEntry(fileEntryId);
  }
  finally {
    SystemEventHierarchyEntryThreadLocal.pop(FileEntry.class);
  }
}
