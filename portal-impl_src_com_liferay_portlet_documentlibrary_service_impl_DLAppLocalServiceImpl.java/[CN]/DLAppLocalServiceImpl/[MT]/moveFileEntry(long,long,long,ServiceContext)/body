{
  LocalRepository fromRepository=getLocalRepository(0,fileEntryId,0);
  LocalRepository toRepository=getLocalRepository(newFolderId,serviceContext);
  long fromRepositoryId=fromRepository.getRepositoryId();
  long toRepositoryId=toRepository.getRepositoryId();
  if (fromRepositoryId == toRepositoryId) {
    return fromRepository.moveFileEntry(userId,fileEntryId,newFolderId,serviceContext);
  }
  return moveFileEntryBetweenDifferentRepos(userId,fileEntryId,newFolderId,fromRepository,toRepository,serviceContext);
}
