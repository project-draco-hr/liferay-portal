{
  if (is == null) {
    is=new UnsyncByteArrayInputStream(new byte[0]);
    size=0;
  }
  LocalRepository localRepository=getLocalRepository(repositoryId);
  FileEntry fileEntry=localRepository.addFileEntry(userId,folderId,mimeType,title,description,changeLog,is,size,serviceContext);
  DLProcessor.triggerAll(fileEntry);
  return fileEntry;
}
