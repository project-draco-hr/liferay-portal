{
  try {
    return AccessController.doPrivileged(new PrivilegedExceptionAction<DataSource>(){
      @Override public DataSource run() throws Exception {
        Properties properties=PropsUtil.getProperties(PropsKeys.JNDI_ENVIRONMENT,true);
        Context context=new InitialContext(properties);
        return (DataSource)JNDIUtil.lookup(context,location);
      }
    }
);
  }
 catch (  PrivilegedActionException pae) {
    throw (NamingException)pae.getException();
  }
}
