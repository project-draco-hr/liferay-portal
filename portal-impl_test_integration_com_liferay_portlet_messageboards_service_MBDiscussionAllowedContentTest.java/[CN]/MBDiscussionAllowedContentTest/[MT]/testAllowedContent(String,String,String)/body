{
  MBDiscussionAllowedContent mbDiscussionAllowedContent=new MBDiscussionAllowedContent(allowedContent);
  MBMessageLocalServiceUtil.setMBDiscussionAllowedContent(mbDiscussionAllowedContent);
  ServiceContext serviceContext=new ServiceContext();
  User user=TestPropsValues.getUser();
  String className=RandomTestUtil.randomString();
  long classPK=RandomTestUtil.randomLong();
  MBMessage message=MBMessageLocalServiceUtil.addDiscussionMessage(user.getUserId(),user.getFullName(),_group.getGroupId(),className,classPK,0,MBMessageConstants.DEFAULT_PARENT_MESSAGE_ID,RandomTestUtil.randomString(),body,serviceContext);
  Assert.assertEquals(expectedBody,message.getBody());
}
