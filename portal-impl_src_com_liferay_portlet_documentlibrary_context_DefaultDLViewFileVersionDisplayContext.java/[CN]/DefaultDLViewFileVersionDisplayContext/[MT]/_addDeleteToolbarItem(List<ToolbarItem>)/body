{
  if (!isDeleteButtonVisible()) {
    return;
  }
  JavascriptToolbarItem javascriptToolbarItem=new JavascriptToolbarItem();
  javascriptToolbarItem.setKey(DLToolbarItemKeys.DELETE);
  javascriptToolbarItem.setIcon("icon-remove");
  javascriptToolbarItem.setLabel(UnicodeLanguageUtil.get(_request,"delete"));
  LiferayPortletResponse liferayPortletResponse=_getLiferayPortletResponse();
  PortletURL portletURL=liferayPortletResponse.createRenderURL();
  portletURL.setParameter("struts_action","/document_library/view");
  portletURL.setParameter("folderId",String.valueOf(_fileEntry.getFolderId()));
  StringBundler sb=new StringBundler(5);
  sb.append("if (confirm('");
  sb.append(UnicodeLanguageUtil.get(_request,"are-you-sure-you-want-to-delete-this"));
  sb.append("')) {");
  sb.append(getSubmitFormJavascript(Constants.DELETE,portletURL.toString()));
  sb.append("}");
  javascriptToolbarItem.setOnClick(sb.toString());
  toolbarItems.add(javascriptToolbarItem);
}
