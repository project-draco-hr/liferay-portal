{
  if (response.isCommitted()) {
    return false;
  }
  int hashCode=_hashCode(byteBuffer.array(),byteBuffer.position(),byteBuffer.limit());
  String eTag=StringPool.QUOTE.concat(StringUtil.toHexString(hashCode)).concat(StringPool.QUOTE);
  response.setHeader(HttpHeaders.ETAG,eTag);
  String ifNoneMatch=request.getHeader(HttpHeaders.IF_NONE_MATCH);
  if (eTag.equals(ifNoneMatch)) {
    response.setStatus(HttpServletResponse.SC_NOT_MODIFIED);
    response.setContentLength(0);
    return true;
  }
 else {
    return false;
  }
}
