{
  Properties properties=new Properties();
  if (propertiesString == null) {
    return properties;
  }
  if (propertySeparator == null) {
    propertySeparator=StringPool.COMMA;
  }
  String propertyLines=propertiesString.trim();
  propertyLines=StringUtil.replace(propertyLines,propertySeparator,StringPool.NEW_LINE);
  try {
    properties.load(new UnsyncStringReader(propertyLines));
  }
 catch (  IOException ioe) {
    throw new RuntimeException(ioe);
  }
  return properties;
}
