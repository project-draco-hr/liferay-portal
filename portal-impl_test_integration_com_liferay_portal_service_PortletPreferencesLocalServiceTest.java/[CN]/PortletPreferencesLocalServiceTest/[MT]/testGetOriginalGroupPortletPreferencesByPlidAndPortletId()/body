{
  PortletPreferencesTestUtil.addGroupPortletPreferences(_layout,_portlet);
  List<PortletPreferences> portletPreferencesList=PortletPreferencesLocalServiceUtil.getPortletPreferences(PortletKeys.PREFS_OWNER_TYPE_GROUP,_layout.getPlid(),_portlet.getPortletId());
  Assert.assertEquals(1,portletPreferencesList.size());
  Group group=GroupTestUtil.addGroup();
  Layout layout=LayoutTestUtil.addLayout(group);
  PortletPreferencesTestUtil.addGroupPortletPreferences(layout,_portlet);
  portletPreferencesList=PortletPreferencesLocalServiceUtil.getPortletPreferences(PortletKeys.PREFS_OWNER_TYPE_GROUP,_layout.getPlid(),_portlet.getPortletId());
  Assert.assertEquals(1,portletPreferencesList.size());
}
