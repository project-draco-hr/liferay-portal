{
  PortletPreferencesTestUtil.addGroupPortletPreferences(_layout,_portlet);
  Layout layout=LayoutTestUtil.addLayout(GroupTestUtil.addGroup());
  Portlet portlet=PortletLocalServiceUtil.getPortletById(TestPropsValues.getCompanyId(),String.valueOf(_PORTLET_ID + 1));
  PortletPreferencesTestUtil.addGroupPortletPreferences(layout,portlet);
  Portlet portlet2=PortletLocalServiceUtil.getPortletById(TestPropsValues.getCompanyId(),String.valueOf(_PORTLET_ID + 2));
  PortletPreferencesTestUtil.addGroupPortletPreferences(layout,portlet2);
  PortletPreferences portletPreferences=PortletPreferencesLocalServiceUtil.getPortletPreferences(_group.getGroupId(),PortletKeys.PREFS_OWNER_TYPE_GROUP,_layout.getPlid(),_portlet.getPortletId());
  Assert.assertEquals(portletPreferences.getPortletId(),_portlet.getPortletId());
  assertOwner(_group,PortletPreferencesTestUtil.toPortletPreferencesImpl(portletPreferences));
}
