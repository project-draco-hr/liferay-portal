{
  String singleValuePortletPreferences=PortletPreferencesTestUtil.getPortletPreferencesXML(_NAME,_SINGLE_VALUE);
  PortletPreferencesTestUtil.addLayoutPortletPreferences(_layout,_portlet,singleValuePortletPreferences);
  String multipleValuesPortletPreferencesXML=PortletPreferencesTestUtil.getPortletPreferencesXML(_NAME,_MULTIPLE_VALUES);
  javax.portlet.PortletPreferences initialJxPortletPreferences=PortletPreferencesFactoryUtil.fromXML(_layout.getCompanyId(),PortletKeys.PREFS_OWNER_ID_DEFAULT,PortletKeys.PREFS_OWNER_TYPE_LAYOUT,_layout.getPlid(),_portlet.getPortletId(),multipleValuesPortletPreferencesXML);
  PortletPreferencesLocalServiceUtil.updatePreferences(PortletKeys.PREFS_OWNER_ID_DEFAULT,PortletKeys.PREFS_OWNER_TYPE_LAYOUT,_layout.getPlid(),_portlet.getPortletId(),initialJxPortletPreferences);
  javax.portlet.PortletPreferences currentJxPortletPreferences=PortletPreferencesLocalServiceUtil.getPreferences(_layout.getCompanyId(),PortletKeys.PREFS_OWNER_ID_DEFAULT,PortletKeys.PREFS_OWNER_TYPE_LAYOUT,_layout.getPlid(),_portlet.getPortletId());
  assertValues(currentJxPortletPreferences,_NAME,_MULTIPLE_VALUES);
}
