{
  Assert.assertEquals(0,PortletPreferencesLocalServiceUtil.getPortletPreferencesCount(_group.getGroupId(),PortletKeys.PREFS_OWNER_TYPE_GROUP,_portlet.getPortletId(),false));
  PortletPreferencesTestUtil.addGroupPortletPreferences(_layout,_portlet);
  Layout layout=LayoutTestUtil.addLayout(GroupTestUtil.addGroup());
  Portlet portlet=PortletLocalServiceUtil.getPortletById(TestPropsValues.getCompanyId(),String.valueOf(_PORTLET_ID + 1));
  PortletPreferencesTestUtil.addGroupPortletPreferences(layout,portlet);
  Assert.assertEquals(1,PortletPreferencesLocalServiceUtil.getPortletPreferencesCount(_group.getGroupId(),PortletKeys.PREFS_OWNER_TYPE_GROUP,_portlet.getPortletId(),false));
}
