{
  SocialActivityCounter activityCounter=fetchLastCounter(groupId,classNameId,classPK,name,ownerType);
  if (activityCounter == null) {
    Group group=groupPersistence.findByPrimaryKey(groupId);
    activityCounter=createActivityCounter(group.getCompanyId(),groupId,classNameId,classPK,name,ownerType,0);
  }
  if (!activityCounter.isActivePeriod()) {
    activityCounter=createNewCounterPeriod(activityCounter);
  }
  activityCounter.setCurrentValue(activityCounter.getCurrentValue() + increment);
  activityCounter.setTotalValue(activityCounter.getTotalValue() + increment);
  socialActivityCounterPersistence.update(activityCounter,false);
}
