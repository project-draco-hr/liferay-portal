{
  Group group=groupPersistence.findByPrimaryKey(groupId);
  long activityCounterId=counterLocalService.increment();
  SocialActivityCounter activityCounter=socialActivityCounterPersistence.create(activityCounterId);
  activityCounter.setGroupId(groupId);
  activityCounter.setCompanyId(group.getCompanyId());
  activityCounter.setClassNameId(classNameId);
  activityCounter.setClassPK(classPK);
  activityCounter.setName(name);
  activityCounter.setOwnerType(ownerType);
  activityCounter.setCurrentValue(currentValue);
  activityCounter.setTotalValue(totalValue);
  activityCounter.setStartPeriod(SocialCounterPeriodUtil.getStartPeriod());
  activityCounter.setEndPeriod(SocialActivityCounterConstants.END_PERIOD_UNDEFINED);
  socialActivityCounterPersistence.update(activityCounter,false);
  return activityCounter;
}
