{
  SocialActivityCounter activityCounter=fetchLatestActivityCounter(groupId,classNameId,classPK,name,ownerType,false);
  if (activityCounter != null) {
    System.out.println("Found a concurrent added " + "SocialActivityCounter : " + activityCounter);
    return activityCounter;
  }
  Group group=groupPersistence.findByPrimaryKey(groupId);
  long activityCounterId=counterLocalService.increment();
  activityCounter=socialActivityCounterPersistence.create(activityCounterId);
  activityCounter.setGroupId(groupId);
  activityCounter.setCompanyId(group.getCompanyId());
  activityCounter.setClassNameId(classNameId);
  activityCounter.setClassPK(classPK);
  activityCounter.setName(name);
  activityCounter.setOwnerType(ownerType);
  activityCounter.setCurrentValue(currentValue);
  activityCounter.setTotalValue(totalValue);
  activityCounter.setStartPeriod(SocialCounterPeriodUtil.getStartPeriod());
  activityCounter.setEndPeriod(SocialActivityCounterConstants.END_PERIOD_UNDEFINED);
  socialActivityCounterPersistence.update(activityCounter,false);
  return activityCounter;
}
