{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  if (!permissionChecker.isOmniadmin()) {
    SessionErrors.add(actionRequest,PrincipalException.class.getName());
    setForward(actionRequest,"portlet.plugin_installer.error");
    return;
  }
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (cmd.equals("deployConfiguration")) {
    deployConfiguration(actionRequest);
  }
 else   if (cmd.equals("ignorePackages")) {
    ignorePackages(actionRequest);
  }
 else   if (cmd.equals("localDeploy")) {
    localDeploy(actionRequest);
  }
 else   if (cmd.equals("reloadRepositories")) {
    reloadRepositories(actionRequest);
  }
 else   if (cmd.equals("remoteDeploy")) {
    remoteDeploy(actionRequest);
  }
 else   if (cmd.equals("unignorePackages")) {
    unignorePackages(actionRequest);
  }
 else   if (cmd.equals("uninstall")) {
    uninstall(actionRequest);
  }
  sendRedirect(actionRequest,actionResponse);
}
