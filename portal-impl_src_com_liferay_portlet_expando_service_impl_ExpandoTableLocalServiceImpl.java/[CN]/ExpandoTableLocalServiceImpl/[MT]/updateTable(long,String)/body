{
  ExpandoTable table=expandoTablePersistence.findByPrimaryKey(tableId);
  if (Validator.equals(table.getName(),ExpandoTableImpl.DEFAULT_TABLE_NAME)) {
    throw new TableNameException("Cannot rename " + ExpandoTableImpl.DEFAULT_TABLE_NAME);
  }
  validate(tableId,table.getClassNameId(),name);
  table.setName(name);
  return expandoTablePersistence.update(table,false);
}
