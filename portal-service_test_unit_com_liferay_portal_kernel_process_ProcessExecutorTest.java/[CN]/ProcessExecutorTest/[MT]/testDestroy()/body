{
  ProcessExecutor processExecutor=new ProcessExecutor();
  processExecutor.destroy();
  Assert.assertNull(_getThreadPoolExecutor());
  ExecutorService executorService=_invokeGetThreadPoolExecutor();
  Assert.assertNotNull(executorService);
  Assert.assertNotNull(_getThreadPoolExecutor());
  processExecutor.destroy();
  Assert.assertNull(_getThreadPoolExecutor());
  executorService=_invokeGetThreadPoolExecutor();
  Assert.assertNotNull(executorService);
  Assert.assertNotNull(_getThreadPoolExecutor());
  DummyJob dummyJob=new DummyJob();
  Future<Void> future=executorService.submit(dummyJob);
  dummyJob.waitUntilStarted();
  processExecutor.destroy();
  try {
    future.get();
    Assert.fail();
  }
 catch (  ExecutionException ee) {
    Throwable throwable=ee.getCause();
    Assert.assertTrue(throwable instanceof InterruptedException);
  }
  Assert.assertNull(_getThreadPoolExecutor());
  _invokeGetThreadPoolExecutor();
  final ProcessExecutor referenceProcessExecutor=processExecutor;
  Thread thread=new Thread(){
    @Override public void run(){
      referenceProcessExecutor.destroy();
    }
  }
;
synchronized (ProcessExecutor.class) {
    thread.start();
    while (thread.getState() != Thread.State.BLOCKED)     ;
    processExecutor.destroy();
  }
  thread.join();
  _invokeGetThreadPoolExecutor();
  processExecutor.destroy();
  processExecutor.destroy();
  Assert.assertNull(_getThreadPoolExecutor());
}
