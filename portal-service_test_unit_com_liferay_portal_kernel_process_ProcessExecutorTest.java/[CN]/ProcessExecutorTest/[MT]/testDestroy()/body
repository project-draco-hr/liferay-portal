{
  ProcessExecutor processExecutor=new ProcessExecutor();
  processExecutor.destroy();
  assertNull(_getExecutorService());
  ExecutorService executorService=_invokeGetExecutorService();
  assertNotNull(executorService);
  assertNotNull(_getExecutorService());
  processExecutor.destroy();
  assertNull(_getExecutorService());
  executorService=_invokeGetExecutorService();
  assertNotNull(executorService);
  assertNotNull(_getExecutorService());
  DummyJob dummyJob=new DummyJob();
  Future<Void> future=executorService.submit(dummyJob);
  dummyJob.waitUntilStarted();
  processExecutor.destroy();
  try {
    future.get();
    fail();
  }
 catch (  ExecutionException ee) {
    Throwable throwable=ee.getCause();
    assertTrue(throwable instanceof InterruptedException);
  }
  assertNull(_getExecutorService());
  _invokeGetExecutorService();
  final ProcessExecutor referenceProcessExecutor=processExecutor;
  Thread thread=new Thread(){
    @Override public void run(){
      referenceProcessExecutor.destroy();
    }
  }
;
synchronized (ProcessExecutor.class) {
    thread.start();
    while (thread.getState() != Thread.State.BLOCKED)     ;
    processExecutor.destroy();
  }
  thread.join();
  _invokeGetExecutorService();
  processExecutor.destroy();
  processExecutor.destroy();
  assertNull(_getExecutorService());
}
