{
  User user=userPersistence.findByPrimaryKey(userId);
  Date now=new Date();
  validate(key,value);
  long tagPropertyId=counterLocalService.increment();
  AssetTagProperty tagProperty=assetTagPropertyPersistence.create(tagPropertyId);
  tagProperty.setCompanyId(user.getCompanyId());
  tagProperty.setUserId(user.getUserId());
  tagProperty.setUserName(user.getFullName());
  tagProperty.setCreateDate(now);
  tagProperty.setModifiedDate(now);
  tagProperty.setTagId(tagId);
  tagProperty.setKey(key);
  tagProperty.setValue(value);
  assetTagPropertyPersistence.update(tagProperty);
  return tagProperty;
}
