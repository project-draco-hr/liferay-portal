{
  WSRPException e=getException(errorCode,t);
  if (logger != null) {
    if (t instanceof WSRPException) {
      logger.text(logLevel,method,e.getMessage());
    }
 else {
      logger.text(logLevel,method,e,EMPTY_STRING);
    }
  }
  throw e;
}
