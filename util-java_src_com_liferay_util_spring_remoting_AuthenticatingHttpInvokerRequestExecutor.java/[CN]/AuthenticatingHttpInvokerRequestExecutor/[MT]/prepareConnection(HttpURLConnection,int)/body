{
  super.prepareConnection(con,contentLength);
  if (this.getUserId() != null) {
    String pw=this.getPassword();
    if (pw == null) {
      pw="";
    }
    String base64=this.getUserId() + ":" + pw;
    con.setRequestProperty("Authorization","Basic " + new String(Base64.encodeBase64(base64.getBytes())));
  }
}
