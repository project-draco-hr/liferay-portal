{
  Object versionObj=project.getVersion();
  if (!versionObj.equals(Project.DEFAULT_VERSION)) {
    super.configureVersion(project,liferayExtension);
    return;
  }
  File pluginPackagePropertiesFile=new File(getWebAppDir(project),"WEB-INF/liferay-plugin-package.properties");
  Properties pluginPackageProperties=null;
  try {
    pluginPackageProperties=FileUtil.readProperties(pluginPackagePropertiesFile);
  }
 catch (  Exception e) {
    throw new GradleException("Unable to read " + pluginPackagePropertiesFile,e);
  }
  String version=pluginPackageProperties.getProperty("module-full-version");
  if (Validator.isNull(version)) {
    version=pluginPackageProperties.getProperty("module-incremental-version");
    version=liferayExtension.getVersionPrefix() + "." + version;
  }
  project.setVersion(version);
}
