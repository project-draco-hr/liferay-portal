{
  BatchablePipe<String,Integer> batchablePipe=new BatchablePipe<String,Integer>();
  IncreasableEntry<String,Integer> increasableEntry1=new IntegerIncreasableEntry("1st",1);
  assertTrue(batchablePipe.put(increasableEntry1));
  assertEquals(increasableEntry1,batchablePipe.take());
  assertTrue(increasableEntry1.increase(1));
  assertEquals(2,(int)increasableEntry1.getValue());
  assertFalse(increasableEntry1.increase(1));
  assertEquals(2,(int)increasableEntry1.getValue());
  IncreasableEntry<String,Integer> increasableEntry2=new IntegerIncreasableEntry("2nd",2);
  assertTrue(batchablePipe.put(increasableEntry2));
  IncreasableEntry<String,Integer> increasableEntry3=new IntegerIncreasableEntry("3nd",3);
  assertTrue(batchablePipe.put(increasableEntry3));
  IncreasableEntry<String,Integer> increasableEntry4=new IntegerIncreasableEntry("4th",4);
  assertTrue(batchablePipe.put(increasableEntry4));
  assertEquals(increasableEntry2,batchablePipe.take());
  assertEquals(increasableEntry3,batchablePipe.take());
  assertEquals(increasableEntry4,batchablePipe.take());
  assertNull(batchablePipe.take());
}
