{
  User user=userPersistence.findByPrimaryKey(userId);
  DLFileShortcut fileShortcut=dlFileShortcutPersistence.findByPrimaryKey(fileShortcutId);
  validate(user,toGroupId,toFolderId,toName);
  fileShortcut.setModifiedDate(serviceContext.getModifiedDate(new Date()));
  fileShortcut.setToGroupId(toGroupId);
  fileShortcut.setFolderId(folderId);
  fileShortcut.setToFolderId(toFolderId);
  fileShortcut.setToName(toName);
  dlFileShortcutPersistence.update(fileShortcut,false);
  if (folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    DLFolder folder=dlFolderPersistence.findByPrimaryKey(folderId);
    folder.setLastPostDate(fileShortcut.getModifiedDate());
    dlFolderPersistence.update(folder,false);
  }
  DLFileEntry fileEntry=dlRepositoryLocalService.getFileEntry(toGroupId,toFolderId,toName);
  copyAssetTags(fileEntry,serviceContext);
  updateAsset(userId,fileShortcut,serviceContext.getAssetCategoryIds(),serviceContext.getAssetTagNames());
  return fileShortcut;
}
