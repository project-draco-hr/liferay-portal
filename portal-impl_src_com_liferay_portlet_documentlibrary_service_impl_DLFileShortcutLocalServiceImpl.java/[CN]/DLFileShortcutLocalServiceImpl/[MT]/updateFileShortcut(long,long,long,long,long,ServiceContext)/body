{
  User user=userPersistence.findByPrimaryKey(userId);
  DLFileShortcut fileShortcut=dlFileShortcutPersistence.findByPrimaryKey(fileShortcutId);
  validate(user,toFileEntryId);
  fileShortcut.setFolderId(folderId);
  fileShortcut.setToFileEntryId(toFileEntryId);
  fileShortcut.setTreePath(fileShortcut.buildTreePath());
  dlFileShortcutPersistence.update(fileShortcut);
  if (folderId != DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    dlFolderLocalService.updateLastPostDate(folderId,fileShortcut.getModifiedDate());
  }
  FileEntry fileEntry=dlAppLocalService.getFileEntry(toFileEntryId);
  copyAssetTags(fileEntry,serviceContext);
  updateAsset(userId,fileShortcut,serviceContext.getAssetCategoryIds(),serviceContext.getAssetTagNames());
  return fileShortcut;
}
