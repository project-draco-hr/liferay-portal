{
  List<Element> elements=root.elements();
  int listIndex=elements.size() - 1;
  Element defaultLanguageElement=null;
  boolean foundValidChild=false;
  while (listIndex >= 0) {
    Element element=elements.get(listIndex);
    String tempLanguageId=element.attributeValue("language-id",languageId);
    if (!StringUtil.equalsIgnoreCase(tempLanguageId,languageId)) {
      if (StringUtil.equalsIgnoreCase(tempLanguageId,defaultLanguageId)) {
        defaultLanguageElement=element;
      }
      root.remove(element);
    }
 else {
      foundValidChild=true;
      filterByLanguage(element,languageId,defaultLanguageId);
    }
    listIndex--;
  }
  if (!foundValidChild && defaultLanguageElement != null) {
    root.add(defaultLanguageElement);
    filterByLanguage(defaultLanguageElement,languageId,defaultLanguageId);
  }
}
