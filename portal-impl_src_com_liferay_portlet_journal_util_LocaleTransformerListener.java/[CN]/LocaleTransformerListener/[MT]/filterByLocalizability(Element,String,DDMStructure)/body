{
  List<Element> elements=root.elements("dynamic-element");
  int listIndex=elements.size() - 1;
  while (listIndex >= 0) {
    Element element=elements.get(listIndex);
    String name=element.attributeValue("name");
    if (!structure.hasField(name)) {
      listIndex--;
      continue;
    }
    if (!structure.isFieldTransient(name)) {
      filterFields(element,structure,name,defaultLanguageId);
    }
    filterByLocalizability(element,defaultLanguageId,structure);
    listIndex--;
  }
}
