{
  try {
    long ddmStructureId=GetterUtil.getLong(tokens.get("ddm_structure_id"));
    DDMStructure ddmStructure=DDMStructureLocalServiceUtil.fetchDDMStructure(ddmStructureId);
    if (Validator.isNull(ddmStructure)) {
      throw new NoSuchStructureException("Web content structure is not available. " + "The content won't be checked against localizibilty.");
    }
    Element rootElement=document.getRootElement();
    String defaultLanguageId=LocaleUtil.toLanguageId(LocaleUtil.getSiteDefault());
    String articleDefaultLanguageId=rootElement.attributeValue("default-locale",defaultLanguageId);
    filterByLocalizability(rootElement,articleDefaultLanguageId,ddmStructure);
  }
 catch (  PortalException pe) {
    _log.error(pe.getMessage());
  }
catch (  NullPointerException npe) {
    _log.error(npe);
  }
}
