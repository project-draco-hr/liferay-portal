{
  long ddmStructureId=Long.parseLong(tokens.get("ddm_structure_id"));
  try {
    DDMStructure ddmStructure=DDMStructureLocalServiceUtil.fetchDDMStructure(ddmStructureId);
    if (Validator.isNull(ddmStructure)) {
      return;
    }
    Element rootElement=document.getRootElement();
    String defaultLanguageId=LocaleUtil.toLanguageId(LocaleUtil.getSiteDefault());
    String articleDefaultLanguageId=rootElement.attributeValue("default-locale",defaultLanguageId);
    filterByLocalizability(rootElement,articleDefaultLanguageId,ddmStructure);
  }
 catch (  PortalException pe) {
    _log.error(pe.getMessage());
  }
}
