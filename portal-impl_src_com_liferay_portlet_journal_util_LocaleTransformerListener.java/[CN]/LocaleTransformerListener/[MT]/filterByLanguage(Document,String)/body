{
  Element rootElement=document.getRootElement();
  String defaultLanguageId=LocaleUtil.toLanguageId(LocaleUtil.getSiteDefault());
  String[] availableLocales=StringUtil.split(rootElement.attributeValue("available-locales",defaultLanguageId));
  String defaultLocale=rootElement.attributeValue("default-locale",defaultLanguageId);
  boolean supportedLocale=false;
  for (  String availableLocale : availableLocales) {
    if (StringUtil.equalsIgnoreCase(availableLocale,languageId)) {
      supportedLocale=true;
      break;
    }
  }
  if (!supportedLocale) {
    filterByLanguage(rootElement,defaultLocale,defaultLanguageId);
  }
 else {
    filterByLanguage(rootElement,languageId,defaultLanguageId);
  }
}
