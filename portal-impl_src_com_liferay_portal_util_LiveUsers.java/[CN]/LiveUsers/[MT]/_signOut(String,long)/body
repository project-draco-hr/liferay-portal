{
  List<UserTracker> userTrackers=_getUserTrackers(userId);
  if ((userTrackers == null) || (userTrackers.size() <= 1)) {
    _updateGroupStatus(userId,false);
  }
  Map<String,UserTracker> sessionUsers=_getSessionUsers();
  UserTracker userTracker=sessionUsers.remove(sesId);
  if (userTracker != null) {
    try {
      UserTrackerLocalServiceUtil.addUserTracker(userTracker.getCompanyId(),userTracker.getUserId(),userTracker.getModifiedDate(),sesId,userTracker.getRemoteAddr(),userTracker.getRemoteHost(),userTracker.getUserAgent(),userTracker.getPaths());
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e.getMessage());
      }
    }
    _removeUserTracker(userId,userTracker);
  }
}
