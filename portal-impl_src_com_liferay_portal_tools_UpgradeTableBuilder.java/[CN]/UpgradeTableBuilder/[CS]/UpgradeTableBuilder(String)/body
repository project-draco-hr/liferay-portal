{
  DirectoryScanner ds=new DirectoryScanner();
  ds.setBasedir(".");
  ds.setIncludes(new String[]{"**\\upgrade\\v**\\util\\*Table.java"});
  ds.scan();
  String[] fileNames=ds.getIncludedFiles();
  for (  String fileName : fileNames) {
    fileName=StringUtil.replace(fileName,"\\","/");
    int x=fileName.indexOf("upgrade/v");
    int y=fileName.indexOf("/util",x);
    String version=StringUtil.replace(fileName.substring(x + 9,y),"_",".");
    x=fileName.indexOf("/",y + 1);
    y=fileName.indexOf("Table.java",x);
    String upgradeFileName=upgradeTableDir + "/" + version+ "/"+ fileName.substring(x,y)+ "ModelImpl.java";
    if (!_fileUtil.exists(upgradeFileName)) {
      upgradeFileName=_findUpgradeFileName(fileName.substring(x,y));
      if (upgradeFileName == null) {
        continue;
      }
    }
    String content=_fileUtil.read(upgradeFileName);
    String packagePath="com.liferay.portal.upgrade.v" + StringUtil.replace(version,".","_") + ".util";
    String className=fileName.substring(x + 1,y) + "Table";
    content=_getContent(packagePath,className,content);
    _fileUtil.write(fileName,content);
  }
}
