{
  if (inputStream instanceof FileInputStream) {
    FileInputStream fileInputStream=(FileInputStream)inputStream;
    FileChannel fileChannel=fileInputStream.getChannel();
    fileChannel.transferTo(start,length,Channels.newChannel(outputStream));
  }
 else   if (inputStream instanceof ByteArrayInputStream) {
    ByteArrayInputStream byteArrayInputStream=(ByteArrayInputStream)inputStream;
    byteArrayInputStream.skip(start);
    StreamUtil.transfer(byteArrayInputStream,outputStream,length);
  }
 else {
    RandomAccessInputStream randomAccessInputStream=new RandomAccessInputStream(inputStream);
    randomAccessInputStream.seek(start);
    StreamUtil.transfer(randomAccessInputStream,outputStream,length);
  }
}
