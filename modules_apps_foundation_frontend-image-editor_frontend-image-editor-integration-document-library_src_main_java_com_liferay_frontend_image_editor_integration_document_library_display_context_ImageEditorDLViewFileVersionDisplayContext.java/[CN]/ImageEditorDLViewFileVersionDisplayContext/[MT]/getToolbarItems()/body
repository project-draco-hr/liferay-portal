{
  List<ToolbarItem> toolbarItems=super.getToolbarItems();
  if (!_imageEditorDLDisplayContextHelper.isEditWithImageEditorActionAvailable()) {
    return toolbarItems;
  }
  if (!ArrayUtil.contains(PropsValues.DL_FILE_ENTRY_PREVIEW_IMAGE_MIME_TYPES,_fileEntry.getMimeType())) {
    return toolbarItems;
  }
  ResourceBundle resourceBundle=_resourceBundleLoader.loadResourceBundle(LanguageUtil.getLanguageId(_themeDisplay.getLocale()));
  ImageEditorDLDisplayContextHelper imageEditorDLDisplayContextHelper=new ImageEditorDLDisplayContextHelper(fileVersion,request);
  toolbarItems.add(imageEditorDLDisplayContextHelper.getJavacriptEditWithImageEditorToolbarItem(resourceBundle));
  return toolbarItems;
}
