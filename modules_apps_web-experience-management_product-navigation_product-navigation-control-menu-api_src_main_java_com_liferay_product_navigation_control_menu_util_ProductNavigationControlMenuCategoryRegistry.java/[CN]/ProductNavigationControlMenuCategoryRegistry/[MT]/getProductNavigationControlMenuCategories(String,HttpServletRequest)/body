{
  List<ProductNavigationControlMenuCategory> productNavigationControlMenuCategories=getProductNavigationControlMenuCategories(productNavigationControlMenuCategoryKey);
  if (productNavigationControlMenuCategories.isEmpty()) {
    return productNavigationControlMenuCategories;
  }
  return ListUtil.filter(productNavigationControlMenuCategories,new PredicateFilter<ProductNavigationControlMenuCategory>(){
    @Override public boolean filter(    ProductNavigationControlMenuCategory productNavigationControlMenuCategory){
      try {
        if (!productNavigationControlMenuCategory.hasAccessPermission(request)) {
          return false;
        }
        List<ProductNavigationControlMenuEntry> productNavigationControlMenuEntries=_productNavigationControlMenuEntryRegistry.getProductNavigationControlMenuEntries(productNavigationControlMenuCategory,request);
        if (productNavigationControlMenuEntries.isEmpty()) {
          return false;
        }
        return true;
      }
 catch (      PortalException pe) {
        _log.error(pe,pe);
      }
      return false;
    }
  }
);
}
