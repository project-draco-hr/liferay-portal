{
  InputStream is=getClass().getResourceAsStream("dependencies/" + resource);
  if (is == null) {
    return null;
  }
  String tmpDir=SystemProperties.get(SystemProperties.TMP_DIR);
  File file=new File(tmpDir + "/liferay/com/liferay/portal/deploy/dependencies/" + resource);
  if (!file.exists() || resource.startsWith("ext-")) {
    File parentFile=file.getParentFile();
    if (parentFile != null) {
      parentFile.mkdirs();
    }
    StreamUtil.transfer(is,new FileOutputStream(file));
  }
  return FileUtil.getAbsolutePath(file);
}
