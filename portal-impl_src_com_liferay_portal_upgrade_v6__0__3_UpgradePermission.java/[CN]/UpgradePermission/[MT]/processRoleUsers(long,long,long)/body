{
  Map<String,Object> roleMap=getMap("SELECT * FROM Role_ WHERE roleId = ?",roleId);
  Map<String,Object> groupMap=getMap("SELECT * FROM Group_ WHERE groupId = ?",groupId);
  if (roleMap == null || groupMap == null) {
    return;
  }
  List<Map<String,Object>> userMaps=getMaps("(SELECT " + "u.* " + "FROM "+ "User_ u, Users_Roles ur "+ "WHERE "+ "u.userId = ur.userId AND "+ "ur.roleId = ?) UNION ALL "+ "(SELECT "+ "u.* "+ "FROM "+ "User_ u, UserGroupRole ugr "+ "WHERE "+ "u.userId = ugr.userId AND "+ "ugr.roleId = ?)",roleId,roleId);
  String className=PortalUtil.getClassName((Long)groupMap.get("classNameId"));
  for (  Map<String,Object> userMap : userMaps) {
    Map<String,Object> targetRoleMap=null;
    if (className.equals(Group.class.getName())) {
      targetRoleMap=getMap("SELECT * FROM Role_ WHERE companyId = ? and name = ?",companyId,_ROLE_COMMUNITY_CONTENT_REVIEWER);
      addUserGroupRole(userMap,groupMap,targetRoleMap);
    }
 else     if (className.equals(Organization.class.getName())) {
      targetRoleMap=getMap("SELECT * FROM Role_ WHERE companyId = ? and name = ?",companyId,_ROLE_ORGANIZATION_CONTENT_REVIEWER);
      addUserGroupRole(userMap,groupMap,targetRoleMap);
    }
 else     if (className.equals(Company.class.getName())) {
      targetRoleMap=getMap("SELECT * FROM Role_ WHERE companyId = ? and name = ?",companyId,_ROLE_PORTAL_CONTENT_REVIEWER);
      addUserRole(userMap,targetRoleMap);
    }
  }
}
