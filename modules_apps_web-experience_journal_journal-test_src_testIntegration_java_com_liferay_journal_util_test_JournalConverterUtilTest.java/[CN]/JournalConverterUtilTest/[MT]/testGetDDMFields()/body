{
  String serializedDDMForm=read("ddm-structure-select-field-multiple.json");
  DDMForm ddmForm=_ddmFormJSONDeserializer.deserialize(serializedDDMForm);
  DDMStructure structure=_ddmStructureTestHelper.addStructure(_classNameId,null,"Test Structure",ddmForm,StorageType.JSON.getValue(),DDMStructureConstants.TYPE_DEFAULT);
  String content=read("test-journal-content-list-field-multiple.xml");
  Fields fields=_journalConverter.getDDMFields(structure,content);
  Assert.assertEquals(2,fields.getNames().size());
  for (  Field field : fields) {
    Assert.assertTrue(structure.hasField(field.getName()));
    if (structure.getFieldRequired(field.getName())) {
      String value=(String)field.getValue(LocaleUtil.US);
      value=StringUtil.removeChars(value,CharPool.RETURN,CharPool.NEW_LINE,CharPool.TAB,CharPool.SPACE);
      Assert.assertTrue(Validator.isNotNull(value));
    }
  }
}
