{
  Long kbArticleId=(Long)_kbArticleIdColumn.getOldValue();
  Long resourcePrimKey=(Long)_resourcePrimKeyColumn.getOldValue();
  KBArticle kbArticle=KBArticleLocalServiceUtil.getLatestKBArticle(resourcePrimKey,WorkflowConstants.STATUS_ANY);
  if (kbArticle.isApproved()) {
    return Boolean.TRUE;
  }
  if (kbArticle.isFirstVersion()) {
    return Boolean.FALSE;
  }
  kbArticle=KBArticleLocalServiceUtil.getLatestKBArticle(resourcePrimKey,WorkflowConstants.STATUS_APPROVED);
  if (kbArticle.getKbArticleId() != kbArticleId) {
    return Boolean.FALSE;
  }
  KBArticleAttachmentsUtil.updateAttachments(kbArticle);
  return Boolean.TRUE;
}
