{
  Iterator itr=resourceIdMap.keySet().iterator();
  while (itr.hasNext()) {
    Long oldResourceId=(Long)itr.next();
    long newResourceId=((Long)resourceIdMap.get(oldResourceId)).longValue();
    List permissions=PermissionUtil.findByResourceId(oldResourceId.longValue());
    for (int i=0; i < permissions.size(); i++) {
      Permission permission=(Permission)permissions.get(i);
      permission.setResourceId(newResourceId);
      PermissionUtil.update(permission);
    }
  }
}
