{
  Role role=RoleUtil.findByPrimaryKey(roleId);
  if (PortalUtil.isSystemRole(role.getName())) {
    throw new RequiredRoleException();
  }
  if ((role.getClassNameId() <= 0) && (role.getClassPK() <= 0)) {
    ResourceLocalServiceUtil.deleteResource(role.getCompanyId(),Role.class.getName(),ResourceImpl.SCOPE_INDIVIDUAL,role.getRoleId());
  }
  if ((role.getType() == RoleImpl.TYPE_COMMUNITY) || (role.getType() == RoleImpl.TYPE_ORGANIZATION)) {
    UserGroupRoleLocalServiceUtil.deleteUserGroupRolesByRoleId(role.getRoleId());
  }
  RoleUtil.remove(roleId);
  PermissionCacheUtil.clearCache();
}
