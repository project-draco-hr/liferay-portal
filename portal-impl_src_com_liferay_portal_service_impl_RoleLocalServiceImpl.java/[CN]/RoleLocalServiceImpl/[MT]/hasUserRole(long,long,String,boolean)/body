{
  Role role=rolePersistence.findByC_N(companyId,name);
  if (role.getType() != RoleConstants.TYPE_REGULAR) {
    throw new IllegalArgumentException("You cannot use this method to check community/organization " + "roles. " + "Please use UserGroupRoleLocalServiceUtil.hasUserGroupRole");
  }
  if (inherited) {
    if (roleFinder.countByR_U(role.getRoleId(),userId) > 0) {
      return true;
    }
 else {
      return false;
    }
  }
 else {
    return userPersistence.containsRole(userId,role.getRoleId());
  }
}
