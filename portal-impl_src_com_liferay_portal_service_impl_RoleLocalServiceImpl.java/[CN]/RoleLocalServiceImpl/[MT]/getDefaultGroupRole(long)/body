{
  Group group=groupPersistence.findByPrimaryKey(groupId);
  if (group.isLayout()) {
    Layout layout=layoutLocalService.getLayout(group.getClassPK());
    group=layout.getGroup();
  }
  if (group.isStagingGroup()) {
    group=group.getLiveGroup();
  }
  Role role=null;
  if (group.isCommunity() || group.isLayoutPrototype() || group.isLayoutSetPrototype()) {
    role=getRole(group.getCompanyId(),RoleConstants.COMMUNITY_MEMBER);
  }
 else   if (group.isCompany()) {
    role=getRole(group.getCompanyId(),RoleConstants.ADMINISTRATOR);
  }
 else   if (group.isOrganization()) {
    role=getRole(group.getCompanyId(),RoleConstants.ORGANIZATION_MEMBER);
  }
 else   if (group.isUser() || group.isUserGroup()) {
    role=getRole(group.getCompanyId(),RoleConstants.POWER_USER);
  }
  return role;
}
