{
  if (imports.contains("/*") || imports.contains("*/") || imports.contains("//")) {
    return imports + "\n";
  }
  List<ImportPackage> importsList=new ArrayList<ImportPackage>();
  UnsyncBufferedReader unsyncBufferedReader=new UnsyncBufferedReader(new UnsyncStringReader(imports));
  String line=null;
  while ((line=unsyncBufferedReader.readLine()) != null) {
    ImportPackage importPackage=new ImportPackage(line);
    if (Validator.isNotNull(importPackage.getImport()) && !importsList.contains(line)) {
      importsList.add(importPackage);
    }
  }
  importsList=ListUtil.sort(importsList);
  StringBundler sb=new StringBundler();
  String temp=null;
  for (int i=0; i < importsList.size(); i++) {
    String s=importsList.get(i).getLine();
    int pos=s.indexOf(".");
    pos=s.indexOf(".",pos + 1);
    if (pos == -1) {
      pos=s.indexOf(".");
    }
    String packageLevel=s.substring(classStartPos,pos);
    if ((i != 0) && !packageLevel.equals(temp)) {
      sb.append("\n");
    }
    temp=packageLevel;
    sb.append(s);
    sb.append("\n");
  }
  return sb.toString();
}
