{
  if (level == 0) {
    return properties;
  }
  File dir=new File(".");
  String dirName=dir.getCanonicalPath();
  dirName=StringUtil.replace(dirName,StringPool.BACK_SLASH,StringPool.SLASH);
  int pos=dirName.length();
  for (int i=0; i < level; i++) {
    pos=dirName.lastIndexOf(StringPool.SLASH,pos - 1);
  }
  String topLevelDirNames=dirName.substring(pos + 1) + StringPool.SLASH;
  Properties newProperties=new Properties();
  for (  Map.Entry<Object,Object> entry : properties.entrySet()) {
    String key=(String)entry.getKey();
    if (!key.startsWith(topLevelDirNames)) {
      continue;
    }
    key=StringUtil.replaceFirst(key,topLevelDirNames,StringPool.BLANK);
    String value=(String)entry.getValue();
    newProperties.setProperty(key,value);
  }
  return newProperties;
}
