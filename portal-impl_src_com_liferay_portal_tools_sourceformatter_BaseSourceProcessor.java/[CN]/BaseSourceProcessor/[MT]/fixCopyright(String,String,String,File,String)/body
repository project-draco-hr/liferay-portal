{
  if (fileName.endsWith(".vm")) {
    return content;
  }
  if ((oldCopyright != null) && content.contains(oldCopyright)) {
    content=StringUtil.replace(content,oldCopyright,copyright);
    processErrorMessage(fileName,"old (c): " + fileName);
  }
  if (!content.contains(copyright)) {
    String customCopyright=getCustomCopyright(file);
    if (Validator.isNotNull(customCopyright)) {
      copyright=customCopyright;
    }
    if (!content.contains(copyright)) {
      processErrorMessage(fileName,"(c): " + fileName);
    }
  }
  if (fileName.endsWith(".jsp") || fileName.endsWith(".jspf")) {
    content=StringUtil.replace(content,"<%\n" + copyright + "\n%>","<%--\n" + copyright + "\n--%>");
  }
  int x=content.indexOf("* Copyright (c) 2000-20");
  if (x == -1) {
    return content;
  }
  int y=copyright.indexOf("* Copyright (c) 2000-20");
  if (y == -1) {
    return content;
  }
  String contentCopyrightYear=content.substring(x,x + 25);
  String copyrightYear=copyright.substring(y,y + 25);
  return StringUtil.replace(content,contentCopyrightYear,copyrightYear);
}
