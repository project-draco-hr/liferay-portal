{
  if (!_fileEntryDisplayContextHelper.isMoveActionAvailable()) {
    return;
  }
  LiferayPortletResponse liferayPortletResponse=_getLiferayPortletResponse();
  PortletURL portletURL=liferayPortletResponse.createRenderURL();
  portletURL.setParameter("mvcRenderCommandName","/document_library/move_entry");
  PortletURL redirectURL=liferayPortletResponse.createRenderURL();
  long folderId=_fileEntry.getFolderId();
  if (folderId == DLFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    redirectURL.setParameter("mvcRenderCommandName","/document_library/view");
  }
 else {
    redirectURL.setParameter("mvcRenderCommandName","/document_library/view_folder");
  }
  redirectURL.setParameter("folderId",String.valueOf(folderId));
  portletURL.setParameter("redirect",redirectURL.toString());
  portletURL.setParameter("rowIdsFileEntry",String.valueOf(_fileEntry.getFileEntryId()));
  _addURLUIItem(new URLMenuItem(),menuItems,DLUIItemKeys.MOVE,"move",portletURL.toString());
}
