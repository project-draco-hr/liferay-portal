{
  long[] folderIds=searchContext.getFolderIds();
  if ((folderIds == null) || (folderIds.length == 0)) {
    return;
  }
  BooleanQuery folderIdsQuery=BooleanQueryFactoryUtil.create();
  for (  long folderId : folderIds) {
    if (searchContext.getUserId() > 0) {
      try {
        checkSearchFolderId(folderId,searchContext);
      }
 catch (      Exception e) {
        continue;
      }
    }
    TermQuery termQuery=TermQueryFactoryUtil.create(Field.FOLDER_ID,folderId);
    folderIdsQuery.add(termQuery,BooleanClauseOccur.SHOULD);
  }
  if (!folderIdsQuery.clauses().isEmpty()) {
    contextQuery.add(folderIdsQuery,BooleanClauseOccur.MUST);
  }
}
