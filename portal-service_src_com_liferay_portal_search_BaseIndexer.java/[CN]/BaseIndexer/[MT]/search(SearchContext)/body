{
  try {
    String className=getClassName(searchContext);
    BooleanQuery contextQuery=BooleanQueryFactoryUtil.create();
    contextQuery.addRequiredTerm(Field.PORTLET_ID,getPortletId(searchContext));
    addSearchAssetCategoryIds(contextQuery,searchContext);
    addSearchAssetTagNames(contextQuery,searchContext);
    addSearchGroupId(contextQuery,searchContext);
    addSearchOwnerUserId(contextQuery,searchContext);
    addSearchCategoryIds(contextQuery,searchContext);
    addSearchNodeIds(contextQuery,searchContext);
    addSearchFolderIds(contextQuery,searchContext);
    addSearchPortletIds(contextQuery,searchContext);
    BooleanQuery fullQuery=createFullQuery(contextQuery,searchContext);
    return SearchEngineUtil.search(searchContext.getCompanyId(),searchContext.getGroupId(),searchContext.getUserId(),className,fullQuery,searchContext.getSorts(),searchContext.getStart(),searchContext.getEnd());
  }
 catch (  SearchException se) {
    throw se;
  }
catch (  Exception e) {
    throw new SearchException(e);
  }
}
