{
  long[] portletIds=searchContext.getPortletIds();
  if ((portletIds == null) || (portletIds.length == 0)) {
    return;
  }
  BooleanQuery portletIdsQuery=BooleanQueryFactoryUtil.create();
  for (  long portletId : portletIds) {
    if (portletId > 0) {
      TermQuery termQuery=TermQueryFactoryUtil.create(Field.PORTLET_ID,portletId);
      portletIdsQuery.add(termQuery,BooleanClauseOccur.SHOULD);
    }
  }
  if (!portletIdsQuery.clauses().isEmpty()) {
    contextQuery.add(portletIdsQuery,BooleanClauseOccur.MUST);
  }
}
