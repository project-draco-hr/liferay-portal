{
  long[] assetCategoryIds=searchContext.getAssetCategoryIds();
  if ((assetCategoryIds == null) || (assetCategoryIds.length == 0)) {
    return;
  }
  BooleanQuery assetCategoryIdsQuery=BooleanQueryFactoryUtil.create();
  for (  long assetCategoryId : assetCategoryIds) {
    if (searchContext.getUserId() > 0) {
      try {
        AssetCategoryServiceUtil.getCategory(assetCategoryId);
      }
 catch (      Exception e) {
        continue;
      }
    }
    TermQuery termQuery=TermQueryFactoryUtil.create(Field.ASSET_CATEGORY_IDS,assetCategoryId);
    assetCategoryIdsQuery.add(termQuery,BooleanClauseOccur.MUST);
  }
  if (!assetCategoryIdsQuery.clauses().isEmpty()) {
    contextQuery.add(assetCategoryIdsQuery,BooleanClauseOccur.MUST);
  }
}
