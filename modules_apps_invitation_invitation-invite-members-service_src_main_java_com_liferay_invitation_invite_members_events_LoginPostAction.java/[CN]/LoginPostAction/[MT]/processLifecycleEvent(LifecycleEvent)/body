{
  try {
    String ppid=ParamUtil.getString(lifecycleEvent.getRequest(),"p_p_id");
    String portletNamespace=PortalUtil.getPortletNamespace(ppid);
    String memberRequestKey=ParamUtil.getString(lifecycleEvent.getRequest(),portletNamespace + "key");
    if (Validator.isNull(memberRequestKey)) {
      return;
    }
    User user=PortalUtil.getUser(lifecycleEvent.getRequest());
    MemberRequestLocalServiceUtil.updateMemberRequest(memberRequestKey,user.getUserId());
  }
 catch (  Exception e) {
    throw new ActionException(e);
  }
}
