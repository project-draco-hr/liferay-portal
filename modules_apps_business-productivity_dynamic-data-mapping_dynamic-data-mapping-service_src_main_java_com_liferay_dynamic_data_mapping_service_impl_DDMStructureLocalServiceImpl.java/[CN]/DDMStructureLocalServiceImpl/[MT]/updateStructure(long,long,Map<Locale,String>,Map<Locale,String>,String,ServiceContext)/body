{
  DDMStructure structure=ddmStructurePersistence.findByPrimaryKey(structureId);
  long userId=PortalUtil.getValidUserId(structure.getCompanyId(),serviceContext.getUserId());
  DDMXMLUtil.validateXML(definition);
  DDMForm ddmForm=ddmFormXSDDeserializer.deserialize(definition);
  DDMFormLayout ddmFormLayout=ddm.getDefaultDDMFormLayout(ddmForm);
  return doUpdateStructure(userId,parentStructureId,nameMap,descriptionMap,ddmForm,ddmFormLayout,serviceContext,structure);
}
