{
  if (_bundledApps != null) {
    return _bundledApps;
  }
  Map<String,String> bundledApps=new HashMap<>();
  List<Bundle> bundles=_bundleManager.getInstalledBundles();
  for (  Bundle bundle : bundles) {
    InputStream inputStream=null;
    try {
      URL url=bundle.getResource("/META-INF/liferay-releng.changelog.md5");
      if (url == null) {
        url=bundle.getResource("/WEB-INF/liferay-releng.changelog.md5");
      }
      if (url == null) {
        continue;
      }
      inputStream=url.openStream();
      String relengHash=StringUtil.read(inputStream);
      if (Validator.isNotNull(relengHash)) {
        bundledApps.put(bundle.getSymbolicName(),relengHash);
      }
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn("Unable to read plugin package MD5 checksum for " + bundle.getSymbolicName());
      }
    }
 finally {
      StreamUtil.cleanUp(inputStream);
    }
  }
  _bundledApps=bundledApps;
  return _bundledApps;
}
