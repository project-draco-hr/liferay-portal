{
  Collection<Destination> destinations=_messageBus.getDestinations();
  for (  Destination destination : destinations) {
    try {
      unregisterDestination(destination);
    }
 catch (    Exception e) {
      if (log.isWarnEnabled()) {
        log.warn("Unable to unregister destination " + destination.getName(),e);
      }
    }
  }
  try {
    _mBeanServer.unregisterMBean(MessageBusManager.createObjectName());
  }
 catch (  Exception e) {
    if (log.isWarnEnabled()) {
      log.warn("Unable to unregister message bus manager",e);
    }
  }
}
