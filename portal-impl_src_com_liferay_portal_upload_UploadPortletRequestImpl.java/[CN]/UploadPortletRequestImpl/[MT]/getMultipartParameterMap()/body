{
  if (!(_uploadServletRequest instanceof UploadServletRequestImpl)) {
    return Collections.emptyMap();
  }
  Map<String,FileItem[]> map=new HashMap<>();
  UploadServletRequestImpl uploadServletRequestImpl=(UploadServletRequestImpl)_uploadServletRequest;
  Map<String,FileItem[]> multipartParameterMap=uploadServletRequestImpl.getMultipartParameterMap();
  for (  Map.Entry<String,FileItem[]> entry : multipartParameterMap.entrySet()) {
    String name=entry.getKey();
    FileItem[] fileItems=entry.getValue();
    if (name.startsWith(_namespace)) {
      map.put(name.substring(_namespace.length(),name.length()),fileItems);
    }
 else {
      map.put(name,fileItems);
    }
  }
  return map;
}
