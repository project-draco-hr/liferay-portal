{
  String contentType=_uploadRequest.getContentType(_namespace + name);
  if (contentType == null) {
    contentType=_uploadRequest.getContentType(name);
  }
  if (Validator.isNull(contentType) || contentType.equals(ContentTypes.APPLICATION_OCTET_STREAM)) {
    String ext=GetterUtil.getString(FileUtil.getExtension(name)).toLowerCase();
    if (Validator.isNotNull(ext)) {
      contentType=MimeTypesUtil.getContentType(ext);
    }
  }
  return contentType;
}
