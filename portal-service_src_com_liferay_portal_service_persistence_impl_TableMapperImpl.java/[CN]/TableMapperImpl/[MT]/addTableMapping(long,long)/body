{
  if (containsTableMapping(leftPrimaryKey,rightPrimaryKey,false)) {
    return false;
  }
  leftToRightPortalCache.remove(leftPrimaryKey);
  rightToLeftPortalCache.remove(rightPrimaryKey);
  Class<R> rightModelClass=rightBasePersistence.getModelClass();
  ModelListener<L>[] leftModelListeners=leftBasePersistence.getListeners();
  for (  ModelListener<L> leftModelListener : leftModelListeners) {
    leftModelListener.onBeforeAddAssociation(leftPrimaryKey,rightModelClass.getName(),rightPrimaryKey);
  }
  Class<L> leftModelClass=leftBasePersistence.getModelClass();
  ModelListener<R>[] rightModelListeners=rightBasePersistence.getListeners();
  for (  ModelListener<R> rightModelListener : rightModelListeners) {
    rightModelListener.onBeforeAddAssociation(rightPrimaryKey,leftModelClass.getName(),leftPrimaryKey);
  }
  try {
    addTableMappingSqlUpdate.update(leftPrimaryKey,rightPrimaryKey);
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
  for (  ModelListener<L> leftModelListener : leftModelListeners) {
    leftModelListener.onAfterAddAssociation(leftPrimaryKey,rightModelClass.getName(),rightPrimaryKey);
  }
  for (  ModelListener<R> rightModelListener : rightModelListeners) {
    rightModelListener.onAfterAddAssociation(rightPrimaryKey,leftModelClass.getName(),leftPrimaryKey);
  }
  return true;
}
