{
  long[] primaryKeys=portalCache.get(masterPrimaryKey);
  if (primaryKeys == null) {
    List<Long> primaryKeysList=null;
    try {
      primaryKeysList=mappingSqlQuery.execute(companyId,masterPrimaryKey);
    }
 catch (    Exception e) {
      throw new SystemException(e);
    }
    primaryKeys=new long[primaryKeysList.size()];
    for (int i=0; i < primaryKeys.length; i++) {
      primaryKeys[i]=primaryKeysList.get(i);
    }
    Arrays.sort(primaryKeys);
    if (updateCache) {
      PortalCacheHelperUtil.putWithoutReplicator(portalCache,masterPrimaryKey,primaryKeys);
    }
  }
  return primaryKeys;
}
