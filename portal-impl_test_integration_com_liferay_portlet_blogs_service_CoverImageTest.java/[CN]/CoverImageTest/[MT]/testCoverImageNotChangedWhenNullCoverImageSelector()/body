{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),_user.getUserId());
  FileEntry fileEntry=getTempFileEntry(_user.getUserId(),"image1.jpg",serviceContext);
  ImageSelector coverImageSelector=new ImageSelector(fileEntry.getFileEntryId(),StringPool.BLANK,_IMAGE_CROP_REGION);
  ImageSelector smallImageSelector=null;
  BlogsEntry entry=BlogsEntryLocalServiceUtil.addEntry(_user.getUserId(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),new Date(),true,true,new String[0],StringPool.BLANK,coverImageSelector,smallImageSelector,serviceContext);
  FileEntry coverImageFileEntry=PortletFileRepositoryUtil.getPortletFileEntry(entry.getCoverImageFileEntryId());
  coverImageSelector=null;
  entry=BlogsEntryLocalServiceUtil.updateEntry(_user.getUserId(),entry.getEntryId(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),new Date(),true,true,new String[0],StringPool.BLANK,coverImageSelector,smallImageSelector,serviceContext);
  Assert.assertEquals(coverImageFileEntry.getFileEntryId(),entry.getCoverImageFileEntryId());
  Folder folder=BlogsEntryLocalServiceUtil.addAttachmentsFolder(_user.getUserId(),_group.getGroupId());
  PortletFileRepositoryUtil.getPortletFileEntry(_group.getGroupId(),folder.getFolderId(),"image1.jpg");
  PortletFileRepositoryUtil.getPortletFileEntry(coverImageFileEntry.getFileEntryId());
}
