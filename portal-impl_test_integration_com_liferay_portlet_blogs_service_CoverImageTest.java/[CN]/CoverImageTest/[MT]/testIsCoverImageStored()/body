{
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId(),_user.getUserId());
  FileEntry fileEntry=getTempFileEntry(_user.getUserId(),"image.jpg",serviceContext);
  ImageSelector coverImageSelector=new ImageSelector(fileEntry.getFileEntryId(),StringPool.BLANK,_IMAGE_CROP_REGION);
  ImageSelector smallImageSelector=null;
  BlogsEntry entry=BlogsEntryLocalServiceUtil.addEntry(_user.getUserId(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),RandomTestUtil.randomString(),new Date(),true,true,new String[0],StringPool.BLANK,coverImageSelector,smallImageSelector,serviceContext);
  FileEntry coverImageFileEntry=PortletFileRepositoryUtil.getPortletFileEntry(entry.getCoverImageFileEntryId());
  Repository repository=RepositoryLocalServiceUtil.getRepository(coverImageFileEntry.getRepositoryId());
  Assert.assertEquals(BlogsConstants.SERVICE_NAME,repository.getName());
  Folder coverImageFolder=coverImageFileEntry.getFolder();
  Assert.assertNotEquals(BlogsConstants.SERVICE_NAME,coverImageFolder.getName());
  Assert.assertEquals("image.jpg",coverImageFileEntry.getTitle());
}
