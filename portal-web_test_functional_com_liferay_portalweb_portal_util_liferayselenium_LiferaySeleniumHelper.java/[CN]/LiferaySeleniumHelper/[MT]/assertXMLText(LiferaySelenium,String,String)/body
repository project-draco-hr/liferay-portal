{
  XPathFactory factory=XPathFactory.newInstance();
  XPath xPath=factory.newXPath();
  try {
    XPathExpression xPathExpression=xPath.compile(xpath);
    String pageSource=liferaySelenium.getHtmlSource();
    int x=pageSource.indexOf("<html");
    pageSource=pageSource.substring(x);
    StringReader stringReader=new StringReader(pageSource);
    InputSource inputSource=new InputSource(stringReader);
    DocumentBuilder builder=DocumentBuilderFactory.newInstance().newDocumentBuilder();
    Document document=builder.parse(inputSource);
    NodeList nodes=(NodeList)xPathExpression.evaluate(document,XPathConstants.NODESET);
    if (nodes.getLength() < 1) {
      BaseTestCase.fail("xpath " + xpath + " does not return any nodes.");
    }
 else {
      boolean contains=false;
      for (int i=0; i < nodes.getLength(); i++) {
        Node node=nodes.item(i);
        String nodeText=node.getTextContent();
        if (nodeText.equals(text)) {
          contains=true;
          break;
        }
      }
      if (!contains) {
        BaseTestCase.fail("xpath " + xpath + " does not match text \""+ text+ "\".");
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
