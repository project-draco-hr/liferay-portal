{
  Runtime runtime=Runtime.getRuntime();
  String command=null;
  if (!OSDetector.isWindows()) {
    String projectDir=liferaySelenium.getProjectDir();
    projectDir=StringUtil.replace(projectDir,"\\","//");
    runtime.exec("bash -c cd " + projectDir);
    command="bash -c ant -f " + fileName + " "+ target;
  }
 else {
    runtime.exec("cmd /c cd " + liferaySelenium.getProjectDir());
    command="cmd /c ant -f " + fileName + " "+ target;
  }
  Process process=runtime.exec(command);
  InputStreamReader inputStreamReader=new InputStreamReader(process.getInputStream());
  BufferedReader bufferedReader=new BufferedReader(inputStreamReader);
  String line=null;
  while ((line=bufferedReader.readLine()) != null) {
    System.out.println(line);
    if (line.contains("BUILD FAILED") || line.contains("BUILD SUCCESSFUL")) {
      break;
    }
  }
}
