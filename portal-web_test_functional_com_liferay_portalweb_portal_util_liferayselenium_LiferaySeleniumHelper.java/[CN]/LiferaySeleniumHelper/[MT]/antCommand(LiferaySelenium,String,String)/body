{
  Runtime runtime=Runtime.getRuntime();
  String command=null;
  if (!OSDetector.isWindows()) {
    String projectDirName=liferaySelenium.getProjectDirName();
    projectDirName=StringUtil.replace(projectDirName,"\\","//");
    runtime.exec("/bin/bash cd " + projectDirName);
    command="/bin/bash ant -f " + fileName + " "+ target;
  }
 else {
    runtime.exec("cmd /c cd " + liferaySelenium.getProjectDirName());
    command="cmd /c ant -f " + fileName + " "+ target;
  }
  Process process=runtime.exec(command);
  InputStreamReader inputStreamReader=new InputStreamReader(process.getInputStream());
  BufferedReader bufferedReader=new BufferedReader(inputStreamReader);
  String line=null;
  while ((line=bufferedReader.readLine()) != null) {
    System.out.println(line);
    if (line.contains("BUILD FAILED") || line.contains("BUILD SUCCESSFUL")) {
      break;
    }
  }
}
