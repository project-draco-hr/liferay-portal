{
  UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
  if (!PortalUtil.isLayoutSitemapable(layout) || !GetterUtil.getBoolean(typeSettingsProperties.getProperty("sitemap-include"),true)) {
    return;
  }
  String layoutFullURL=PortalUtil.getLayoutFullURL(layout,themeDisplay);
  layoutFullURL=PortalUtil.getCanonicalURL(layoutFullURL,themeDisplay,layout);
  SitemapUtil.addURLElement(element,layoutFullURL,typeSettingsProperties,layout.getModifiedDate(),layoutFullURL,SitemapUtil.getAlternateURLs(layoutFullURL,themeDisplay,layout));
  Set<Locale> availableLocales=LanguageUtil.getAvailableLocales(layout.getGroupId());
  if ((PropsValues.LOCALE_PREPEND_FRIENDLY_URL_STYLE != 0) && (availableLocales.size() > 1)) {
    Locale defaultLocale=LocaleUtil.getSiteDefault();
    for (    Locale availableLocale : availableLocales) {
      if (availableLocale.equals(defaultLocale)) {
        continue;
      }
      String alternateURL=PortalUtil.getAlternateURL(layoutFullURL,themeDisplay,availableLocale,layout);
      SitemapUtil.addURLElement(element,alternateURL,typeSettingsProperties,layout.getModifiedDate(),layoutFullURL,SitemapUtil.getAlternateURLs(layoutFullURL,themeDisplay,layout));
    }
  }
}
