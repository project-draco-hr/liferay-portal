{
  UnicodeProperties typeSettingsProperties=layout.getTypeSettingsProperties();
  if (!PortalUtil.isLayoutSitemapable(layout) || !GetterUtil.getBoolean(typeSettingsProperties.getProperty("sitemap-include"),true)) {
    return;
  }
  String layoutFullURL=PortalUtil.getLayoutFullURL(layout,themeDisplay);
  layoutFullURL=PortalUtil.getCanonicalURL(layoutFullURL,themeDisplay,layout);
  Map<Locale,String> alternateURLs=SitemapUtil.getAlternateURLs(layoutFullURL,themeDisplay,layout);
  SitemapUtil.addURLElement(element,layoutFullURL,typeSettingsProperties,layout.getModifiedDate(),layoutFullURL,alternateURLs);
  if (alternateURLs.size() > 1) {
    Locale defaultLocale=LocaleUtil.getSiteDefault();
    for (    Map.Entry<Locale,String> entry : alternateURLs.entrySet()) {
      Locale availableLocale=entry.getKey();
      String alternateURL=entry.getValue();
      if (availableLocale.equals(defaultLocale)) {
        SitemapUtil.addURLElement(element,alternateURL,typeSettingsProperties,layout.getModifiedDate(),layoutFullURL,alternateURLs);
      }
    }
  }
}
