{
  exportVocabulary(context,vocabulariesEl,category.getVocabularyId());
  if (category.getParentCategoryId() != AssetCategoryConstants.DEFAULT_PARENT_CATEGORY_ID) {
    exportCategory(context,vocabulariesEl,categoriesEl,category.getParentCategoryId());
  }
  String path=getCategoryPath(context,category.getCategoryId());
  if (!context.isPathNotProcessed(path)) {
    return;
  }
  Element categoryEl=categoriesEl.addElement("category");
  categoryEl.addAttribute("path",path);
  category.setUserUuid(category.getUserUuid());
  context.addZipEntry(path,category);
  List<AssetCategoryProperty> properties=AssetCategoryPropertyLocalServiceUtil.getCategoryProperties(category.getCategoryId());
  for (  AssetCategoryProperty property : properties) {
    Element propertyEl=categoryEl.addElement("property");
    propertyEl.addAttribute("key",property.getKey());
    propertyEl.addAttribute("value",property.getValue());
    propertyEl.addAttribute("userUuid",property.getUserUuid());
  }
  context.addPermissions(AssetCategory.class,category.getCategoryId());
}
