{
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("tags");
  Map<String,String[]> assetTagNamesMap=portletDataContext.getAssetTagNamesMap();
  if (assetTagNamesMap.isEmpty()) {
    return;
  }
  for (  Map.Entry<String,String[]> entry : assetTagNamesMap.entrySet()) {
    String[] assetTagNameParts=StringUtil.split(entry.getKey(),CharPool.POUND);
    String className=assetTagNameParts[0];
    long classPK=GetterUtil.getLong(assetTagNameParts[1]);
    Element assetElement=rootElement.addElement("asset");
    assetElement.addAttribute("class-name",className);
    assetElement.addAttribute("class-pk",String.valueOf(classPK));
    assetElement.addAttribute("tags",StringUtil.merge(entry.getValue()));
    List<AssetTag> assetTags=AssetTagLocalServiceUtil.getTags(className,classPK);
    for (    AssetTag assetTag : assetTags) {
      exportAssetTag(portletDataContext,assetTag,rootElement);
    }
  }
  portletDataContext.addZipEntry(portletDataContext.getRootPath() + "/tags.xml",document.formattedString());
}
