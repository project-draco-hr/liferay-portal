{
  String[] oldValues=portletPreferences.getValues(preferenceName,null);
  if (oldValues == null) {
    return;
  }
  String[] newValues=new String[oldValues.length];
  int i=0;
  for (  String value : oldValues) {
    String newValue=value;
    for (    String oldPK : StringUtil.split(value)) {
      String newPK=null;
      try {
        if (AssetCategory.class.getName().equals(clazz)) {
          AssetCategory category=AssetCategoryLocalServiceUtil.getCategory(Long.parseLong(oldPK));
          newPK=category.getUuid();
        }
 else         if (JournalStructure.class.getName().equals(clazz)) {
          JournalStructure structure=JournalStructureLocalServiceUtil.getStructure(Long.parseLong(oldPK));
          newPK=structure.getUuid();
        }
      }
 catch (      NoSuchStructureException nsse) {
        if (_log.isWarnEnabled()) {
          _log.warn(nsse.getMessage());
        }
      }
catch (      NoSuchCategoryException nsce) {
        if (_log.isWarnEnabled()) {
          _log.warn(nsce.getMessage());
        }
      }
catch (      NumberFormatException nfe) {
      }
      if (Validator.isNotNull(newPK)) {
        newValue=newValue.replaceAll(oldPK,newPK);
      }
    }
    newValues[i++]=newValue;
  }
  portletPreferences.setValues(preferenceName,newValues);
}
