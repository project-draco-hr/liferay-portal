{
  String[] oldValues=portletPreferences.getValues(preferenceName,null);
  if (oldValues == null) {
    return;
  }
  String[] newValues=new String[oldValues.length];
  int i=0;
  for (  String oldValue : oldValues) {
    String newValue=oldValue;
    String[] ids=StringUtil.split(oldValue);
    for (    String id : ids) {
      long primaryKey=0;
      try {
        primaryKey=Long.parseLong(id);
      }
 catch (      NumberFormatException e) {
        break;
      }
      String uuid=getUUID(className,primaryKey);
      if (Validator.isNotNull(uuid)) {
        newValue=StringUtil.replace(newValue,id,uuid);
      }
    }
    newValues[i++]=newValue;
  }
  portletPreferences.setValues(preferenceName,newValues);
}
