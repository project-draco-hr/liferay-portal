{
  try {
    Document doc=SAXReaderUtil.createDocument();
    Element root=doc.addElement("categories");
    Map<String,String[]> assetCategoryIdsMap=context.getAssetCategoryUuidsMap();
    for (    Map.Entry<String,String[]> entry : assetCategoryIdsMap.entrySet()) {
      String[] categoryEntry=entry.getKey().split(StringPool.POUND);
      Element asset=root.addElement("asset");
      asset.addAttribute("class-name",categoryEntry[0]);
      asset.addAttribute("class-pk",categoryEntry[1]);
      asset.addAttribute("categoryUuids",StringUtil.merge(entry.getValue()));
    }
    context.addZipEntry(context.getRootPath() + "/categories.xml",doc.formattedString());
  }
 catch (  Exception e) {
    throw new SystemException(e);
  }
}
