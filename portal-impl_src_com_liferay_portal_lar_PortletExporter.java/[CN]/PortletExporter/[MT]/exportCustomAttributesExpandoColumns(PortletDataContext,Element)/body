{
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("custom-attributes-expando-columns");
  Map<String,List<ExpandoColumn>> customAttributesExpandoColumnsMap=portletDataContext.getCustomAttributesExpandoColumns();
  for (  Map.Entry<String,List<ExpandoColumn>> entry : customAttributesExpandoColumnsMap.entrySet()) {
    String className=entry.getKey();
    List<ExpandoColumn> expandoColumns=entry.getValue();
    String path=getCustomAttributesExpandoColumnsPath(portletDataContext,className);
    Element assetElement=rootElement.addElement("asset");
    assetElement.addAttribute("path",path);
    assetElement.addAttribute("class-name",className);
    for (    ExpandoColumn expandoColumn : expandoColumns) {
      String curPath=getCustomAttributesExpandoColumnPath(portletDataContext,className,expandoColumn.getColumnId());
      if (portletDataContext.isPathNotProcessed(curPath)) {
        portletDataContext.addZipEntry(curPath,expandoColumn);
      }
    }
  }
  portletDataContext.addZipEntry(portletDataContext.getRootPath() + "/custom-attributes-expando-columns.xml",document.formattedString());
}
