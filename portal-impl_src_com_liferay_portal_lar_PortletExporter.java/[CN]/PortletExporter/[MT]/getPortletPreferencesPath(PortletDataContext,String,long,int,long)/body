{
  StringMaker preferencePath=new StringMaker();
  preferencePath.append(context.getPortletPath(portletId));
  preferencePath.append("/preferences/");
switch (ownerType) {
case PortletKeys.PREFS_OWNER_TYPE_COMPANY:
    preferencePath.append("company/");
  break;
case PortletKeys.PREFS_OWNER_TYPE_GROUP:
preferencePath.append("group/");
break;
case PortletKeys.PREFS_OWNER_TYPE_LAYOUT:
preferencePath.append("layout/");
break;
case PortletKeys.PREFS_OWNER_TYPE_USER:
preferencePath.append("user/");
break;
case PortletKeys.PREFS_OWNER_TYPE_ARCHIVED:
preferencePath.append("archived/");
break;
}
preferencePath.append(ownerId);
preferencePath.append(CharPool.FORWARD_SLASH);
preferencePath.append(plid);
preferencePath.append(CharPool.FORWARD_SLASH);
preferencePath.append("portlet-preferences.xml");
return preferencePath.toString();
}
