{
  StringBuilder sb=new StringBuilder();
  sb.append(context.getPortletPath(portletId));
  sb.append("/preferences/");
  if (ownerType == PortletKeys.PREFS_OWNER_TYPE_COMPANY) {
    sb.append("company/");
  }
 else   if (ownerType == PortletKeys.PREFS_OWNER_TYPE_GROUP) {
    sb.append("group/");
  }
 else   if (ownerType == PortletKeys.PREFS_OWNER_TYPE_LAYOUT) {
    sb.append("layout/");
  }
 else   if (ownerType == PortletKeys.PREFS_OWNER_TYPE_USER) {
    sb.append("user/");
  }
 else   if (ownerType == PortletKeys.PREFS_OWNER_TYPE_ARCHIVED) {
    sb.append("archived/");
  }
  sb.append(ownerId);
  sb.append(CharPool.FORWARD_SLASH);
  sb.append(plid);
  sb.append(CharPool.FORWARD_SLASH);
  sb.append("portlet-preferences.xml");
  return sb.toString();
}
