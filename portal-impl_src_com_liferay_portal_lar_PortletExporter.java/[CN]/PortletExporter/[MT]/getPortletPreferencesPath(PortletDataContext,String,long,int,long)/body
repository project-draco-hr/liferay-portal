{
  StringBuilder sb=new StringBuilder();
  sb.append(context.getPortletPath(portletId));
  sb.append("/preferences/");
switch (ownerType) {
case PortletKeys.PREFS_OWNER_TYPE_COMPANY:
    sb.append("company/");
  break;
case PortletKeys.PREFS_OWNER_TYPE_GROUP:
sb.append("group/");
break;
case PortletKeys.PREFS_OWNER_TYPE_LAYOUT:
sb.append("layout/");
break;
case PortletKeys.PREFS_OWNER_TYPE_USER:
sb.append("user/");
break;
case PortletKeys.PREFS_OWNER_TYPE_ARCHIVED:
sb.append("archived/");
break;
}
sb.append(ownerId);
sb.append(CharPool.FORWARD_SLASH);
sb.append(plid);
sb.append(CharPool.FORWARD_SLASH);
sb.append("portlet-preferences.xml");
return sb.toString();
}
