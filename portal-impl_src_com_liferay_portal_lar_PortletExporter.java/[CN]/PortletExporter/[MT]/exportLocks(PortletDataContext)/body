{
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("locks");
  Map<String,Lock> locksMap=portletDataContext.getLocks();
  for (  Map.Entry<String,Lock> entry : locksMap.entrySet()) {
    Lock lock=entry.getValue();
    String entryKey=entry.getKey();
    int pos=entryKey.indexOf(CharPool.POUND);
    String className=entryKey.substring(0,pos);
    String key=entryKey.substring(pos + 1);
    String path=getLockPath(portletDataContext,className,key,lock);
    Element assetElement=rootElement.addElement("asset");
    assetElement.addAttribute("path",path);
    assetElement.addAttribute("class-name",className);
    assetElement.addAttribute("key",key);
    if (portletDataContext.isPathNotProcessed(path)) {
      portletDataContext.addZipEntry(path,lock);
    }
  }
  portletDataContext.addZipEntry(ExportImportPathUtil.getRootPath(portletDataContext) + "/locks.xml",document.formattedString());
}
