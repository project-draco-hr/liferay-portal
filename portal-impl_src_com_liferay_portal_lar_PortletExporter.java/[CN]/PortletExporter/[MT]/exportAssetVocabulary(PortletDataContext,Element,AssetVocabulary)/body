{
  String path=getAssetVocabulariesPath(portletDataContext,assetVocabulary.getVocabularyId());
  if (!portletDataContext.isPathNotProcessed(path)) {
    return;
  }
  Element assetVocabularyElement=assetVocabulariesElement.addElement("vocabulary");
  Group companyGroup=GroupLocalServiceUtil.getCompanyGroup(assetVocabulary.getCompanyId());
  if (assetVocabulary.getGroupId() == companyGroup.getGroupId()) {
    assetVocabularyElement.addAttribute("global","true");
  }
  assetVocabularyElement.addAttribute("path",path);
  assetVocabulary.setUserUuid(assetVocabulary.getUserUuid());
  portletDataContext.addZipEntry(path,assetVocabulary);
  portletDataContext.addPermissions(AssetVocabulary.class,assetVocabulary.getVocabularyId());
}
