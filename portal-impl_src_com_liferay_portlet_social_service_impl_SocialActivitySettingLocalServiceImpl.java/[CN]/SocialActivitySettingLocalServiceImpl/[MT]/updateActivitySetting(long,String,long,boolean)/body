{
  long classNameId=PortalUtil.getClassNameId(className);
  String name=_PREFIX_CLASS_PK.concat(String.valueOf(classPK));
  SocialActivitySetting activitySetting=socialActivitySettingPersistence.fetchByG_C_A_N(groupId,classNameId,0,name);
  if (activitySetting == null) {
    Group group=groupLocalService.getGroup(groupId);
    long activitySettingId=counterLocalService.increment();
    activitySetting=socialActivitySettingPersistence.create(activitySettingId);
    activitySetting.setGroupId(groupId);
    activitySetting.setCompanyId(group.getCompanyId());
    activitySetting.setClassNameId(classNameId);
    activitySetting.setName(name);
  }
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  jsonObject.put("enabled",enabled);
  activitySetting.setValue(jsonObject.toString());
  socialActivitySettingPersistence.update(activitySetting);
}
