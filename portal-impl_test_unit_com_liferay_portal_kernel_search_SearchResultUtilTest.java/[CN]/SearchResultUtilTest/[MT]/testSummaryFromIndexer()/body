{
  Indexer<?> indexer=Mockito.mock(Indexer.class);
  Summary summary=new Summary(null,SearchTestUtil.SUMMARY_TITLE,SearchTestUtil.SUMMARY_CONTENT);
  when(indexer.getSummary((Document)Matchers.any(),Matchers.anyString(),(PortletRequest)Matchers.isNull(),(PortletResponse)Matchers.isNull())).thenReturn(summary);
  stub(method(IndexerRegistryUtil.class,"getIndexer",String.class)).toReturn(indexer);
  SearchResult searchResult=assertOneSearchResult(new DocumentImpl());
  Assert.assertSame(summary,searchResult.getSummary());
  assertSearchResult(searchResult);
}
