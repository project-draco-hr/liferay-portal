{
  WebSocketContainer webSocketContainer=ContainerProvider.getWebSocketContainer();
  SynchronousQueue<String> synchronousQueue=new SynchronousQueue<>();
  TestWebSocketClient testWebSocketClient=new TestWebSocketClient(synchronousQueue);
  StringBuilder sb=new StringBuilder();
  sb.append("ws://");
  sb.append(_url.getHost());
  sb.append(":");
  sb.append(_url.getPort());
  sb.append("/o/websocket/test");
  URI uri=new URI(sb.toString());
  webSocketContainer.connectToServer(testWebSocketClient,uri);
  testWebSocketClient.sendText("echo");
  Assert.assertEquals("echo",synchronousQueue.poll(1,TimeUnit.HOURS));
}
