{
  long[] classNameIds=getClassNameIds();
  long[] classTypeIds=getClassTypeIds();
  if (!isSubtypeFieldsFilterEnabled() || (classNameIds.length != 1) || (classTypeIds.length != 1)|| Validator.isNull(getDDMStructureFieldName())|| Validator.isNull(getDDMStructureFieldValue())) {
    return;
  }
  AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassNameId(classNameIds[0]);
  ClassTypeReader classTypeReader=assetRendererFactory.getClassTypeReader();
  ClassType classType=classTypeReader.getClassType(classTypeIds[0],locale);
  ClassTypeField classTypeField=classType.getClassTypeField(getDDMStructureFieldName());
  long ddmStructureId=classTypeField.getClassTypeId();
  assetEntryQuery.setAttribute("ddmStructureFieldName",DDMIndexerUtil.encodeName(ddmStructureId,getDDMStructureFieldName(),locale));
  assetEntryQuery.setAttribute("ddmStructureFieldValue",getDDMStructureFieldValue());
}
