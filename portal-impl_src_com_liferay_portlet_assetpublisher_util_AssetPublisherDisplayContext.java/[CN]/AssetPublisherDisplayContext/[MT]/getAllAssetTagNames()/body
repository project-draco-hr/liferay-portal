{
  if (_allAssetTagNames == null) {
    ThemeDisplay themeDisplay=(ThemeDisplay)_request.getAttribute(WebKeys.THEME_DISPLAY);
    _allAssetTagNames=new String[0];
    if (getSelectionStyle().equals("dynamic")) {
      _allAssetTagNames=AssetPublisherUtil.getAssetTagNames(_portletPreferences,themeDisplay.getScopeGroupId());
    }
    String assetTagName=ParamUtil.getString(_request,"tag");
    if (Validator.isNotNull(assetTagName)) {
      if (getSelectionStyle().equals("manual")) {
        _allAssetTagNames=ArrayUtil.append(_allAssetTagNames,assetTagName);
      }
    }
    if (isMergeUrlTags() || isMergeLayoutTags()) {
      String[] compilerTagNames=getCompilerTagNames();
      if (ArrayUtil.isNotEmpty(compilerTagNames)) {
        String[] newAssetTagNames=ArrayUtil.append(_allAssetTagNames,compilerTagNames);
        _allAssetTagNames=ArrayUtil.distinct(newAssetTagNames,new StringComparator());
      }
    }
 else {
      _allAssetTagNames=ArrayUtil.distinct(_allAssetTagNames,new StringComparator());
    }
  }
  return _allAssetTagNames;
}
