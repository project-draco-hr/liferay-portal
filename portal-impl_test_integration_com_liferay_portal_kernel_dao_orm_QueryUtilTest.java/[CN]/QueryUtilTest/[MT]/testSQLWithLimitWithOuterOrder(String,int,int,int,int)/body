{
  Session session=null;
  try {
    session=_sessionFactory.openSession();
    SQLQuery sqlQuery=session.createSynchronizedSQLQuery("SELECT id FROM QueryUtilTest ORDER BY value ".concat(order));
    sqlQuery.addScalar("id",Type.INTEGER);
    List<Integer> result=(List<Integer>)QueryUtil.list(sqlQuery,_sessionFactory.getDialect(),start,end,true);
    Assert.assertEquals(end - start,result.size());
    Number firstId=result.get(0);
    Number lastId=result.get(result.size() - 1);
    Assert.assertEquals(expectedFirstValue,firstId.intValue());
    Assert.assertEquals(expectedLastValue,lastId.intValue());
  }
  finally {
    _sessionFactory.closeSession(session);
  }
}
