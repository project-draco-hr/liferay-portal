{
  Session session=null;
  try {
    session=_sessionFactory.openSession();
    SQLQuery q=session.createSQLQuery("SELECT id FROM QueryUtilTest ORDER BY value ".concat(order));
    q.addScalar("id",Type.INTEGER);
    List<Integer> result=(List<Integer>)QueryUtil.list(q,_sessionFactory.getDialect(),start,end,true);
    Assert.assertEquals(end - start,result.size());
    Number firstId=(Integer)result.get(0);
    Number lastId=(Integer)result.get(result.size() - 1);
    Assert.assertEquals(expectedFirstValue,firstId.intValue());
    Assert.assertEquals(expectedLastValue,lastId.intValue());
  }
  finally {
    _sessionFactory.closeSession(session);
  }
}
