{
  Session session=null;
  try {
    session=_sessionFactory.openSession();
    SQLQuery q=session.createSQLQuery(_SELECT);
    List result=QueryUtil.list(q,_sessionFactory.getDialect(),start,end,unmodifiable);
    Assert.assertNotNull("Verify that result is not null",result);
    Assert.assertEquals("Verify result size",expectedResultSize,result.size());
    if (expectedResultSize > 0) {
      Object[] firstRow=(Object[])result.get(0);
      Object[] lastRow=(Object[])result.get(result.size() - 1);
      int firstId=(Integer)firstRow[0];
      int lastId=(Integer)lastRow[0];
      Assert.assertEquals("Verify firstId",expectedFirstValue,firstId);
      Assert.assertEquals("Verify lastId",expectedLastValue,lastId);
    }
    try {
      Object newItem=new Object[]{_AMOUNT + 1,2};
      result.add(newItem);
      Assert.assertFalse("Verify modifiable",unmodifiable);
      expectedResultSize++;
    }
 catch (    UnsupportedOperationException e) {
      Assert.assertTrue("Verify unmodifiable",unmodifiable);
    }
    Assert.assertEquals("Verify size after modification",expectedResultSize,result.size());
  }
  finally {
    _sessionFactory.closeSession(session);
  }
}
