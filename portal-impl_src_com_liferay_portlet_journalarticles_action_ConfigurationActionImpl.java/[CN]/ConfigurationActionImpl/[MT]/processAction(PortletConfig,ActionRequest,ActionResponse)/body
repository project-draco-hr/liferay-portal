{
  try {
    String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
    if (!cmd.equals(Constants.UPDATE)) {
      return;
    }
    long groupId=ParamUtil.getLong(actionRequest,"groupId");
    String type=ParamUtil.getString(actionRequest,"type");
    String pageURL=ParamUtil.getString(actionRequest,"pageURL");
    int pageDelta=ParamUtil.getInteger(actionRequest,"pageDelta");
    String orderByCol=ParamUtil.getString(actionRequest,"orderByCol");
    String orderByType=ParamUtil.getString(actionRequest,"orderByType");
    GroupLocalServiceUtil.getGroup(groupId);
    String portletResource=ParamUtil.getString(actionRequest,"portletResource");
    PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
    preferences.setValue("group-id",String.valueOf(groupId));
    preferences.setValue("type",type);
    preferences.setValue("page-url",pageURL);
    preferences.setValue("page-delta",String.valueOf(pageDelta));
    preferences.setValue("order-by-col",orderByCol);
    preferences.setValue("order-by-type",orderByType);
    preferences.store();
    SessionMessages.add(actionRequest,portletConfig.getPortletName() + ".doConfigure");
  }
 catch (  NoSuchGroupException nsge) {
    SessionErrors.add(actionRequest,nsge.getClass().getName());
  }
}
