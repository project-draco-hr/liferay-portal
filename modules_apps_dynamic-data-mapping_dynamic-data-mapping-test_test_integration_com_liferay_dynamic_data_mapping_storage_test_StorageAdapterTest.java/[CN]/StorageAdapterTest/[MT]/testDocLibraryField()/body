{
  String definition=read("ddm-structure-doc-lib-field.xsd");
  DDMStructure structure=addStructure(_CLASS_NAME_ID,null,"Documents and Media Field Structure",definition,StorageType.JSON.getValue(),DDMStructureConstants.TYPE_DEFAULT);
  Fields fields=new Fields();
  Map<Locale,List<Serializable>> dataMap=new HashMap<>();
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(TestPropsValues.getGroupId(),TestPropsValues.getUserId());
  FileEntry file1=DLAppLocalServiceUtil.addFileEntry(TestPropsValues.getUserId(),TestPropsValues.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,"Test 1.txt",ContentTypes.TEXT_PLAIN,RandomTestUtil.randomBytes(TikaSafeRandomizerBumper.INSTANCE),serviceContext);
  String file1Value=getDocLibraryFieldValue(file1);
  FileEntry file2=DLAppLocalServiceUtil.addFileEntry(TestPropsValues.getUserId(),TestPropsValues.getGroupId(),DLFolderConstants.DEFAULT_PARENT_FOLDER_ID,"Test 2.txt",ContentTypes.TEXT_PLAIN,RandomTestUtil.randomBytes(TikaSafeRandomizerBumper.INSTANCE),serviceContext);
  String file2Value=getDocLibraryFieldValue(file2);
  List<Serializable> enValues=ListUtil.fromArray(new Serializable[]{file1Value,file2Value});
  dataMap.put(_enLocale,enValues);
  List<Serializable> ptValues=ListUtil.fromArray(new Serializable[]{file1Value,file2Value});
  dataMap.put(_ptLocale,ptValues);
  Field documentLibraryField=new Field(structure.getStructureId(),"doc_library",dataMap,_enLocale);
  fields.put(documentLibraryField);
  Field fieldsDisplayField=createFieldsDisplayField(structure.getStructureId(),"doc_library_INSTANCE_rztm,doc_library_INSTANCE_ovho");
  fields.put(fieldsDisplayField);
  validate(structure.getStructureId(),fields);
}
