{
  if (!isEnabled(groupIds)) {
    return sql;
  }
  if (Validator.isNull(className)) {
    throw new IllegalArgumentException("className is null");
  }
  if (Validator.isNull(sql)) {
    return sql;
  }
  if (ResourceBlockLocalServiceUtil.isSupported(className)) {
    return replacePermissionCheckBlocks(sql,className,classPKField,userIdField,groupIds,bridgeJoin);
  }
 else {
    return replacePermissionCheckJoin(sql,className,classPKField,userIdField,groupIdField,groupIds,bridgeJoin);
  }
}
