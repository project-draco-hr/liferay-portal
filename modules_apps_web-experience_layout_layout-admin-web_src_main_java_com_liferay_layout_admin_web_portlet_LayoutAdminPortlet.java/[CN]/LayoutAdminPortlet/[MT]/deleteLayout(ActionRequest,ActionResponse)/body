{
  long selPlid=ParamUtil.getLong(actionRequest,"selPlid");
  if (selPlid <= 0) {
    long groupId=ParamUtil.getLong(actionRequest,"groupId");
    boolean privateLayout=ParamUtil.getBoolean(actionRequest,"privateLayout");
    long layoutId=ParamUtil.getLong(actionRequest,"layoutId");
    Layout layout=layoutLocalService.getLayout(groupId,privateLayout,layoutId);
    selPlid=layout.getPlid();
  }
  Layout deleteLayout=layoutLocalService.getLayout(selPlid);
  String redirect=getRedirect(actionRequest,deleteLayout);
  SitesUtil.deleteLayout(actionRequest,actionResponse);
  MultiSessionMessages.add(actionRequest,"layoutDeleted",selPlid);
  actionRequest.setAttribute(WebKeys.REDIRECT,redirect);
}
