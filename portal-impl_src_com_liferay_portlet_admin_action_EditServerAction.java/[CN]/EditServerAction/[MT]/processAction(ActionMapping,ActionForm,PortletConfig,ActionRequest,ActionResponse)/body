{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  if (!permissionChecker.isOmniadmin()) {
    SessionErrors.add(actionRequest,PrincipalException.class.getName());
    setForward(actionRequest,"portlet.admin.error");
    return;
  }
  PortletPreferences preferences=PrefsPropsUtil.getPreferences();
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (cmd.equals("addLogLevel")) {
    addLogLevel(actionRequest);
  }
 else   if (cmd.equals("cacheDb")) {
    cacheDb();
  }
 else   if (cmd.equals("cacheMulti")) {
    cacheMulti();
  }
 else   if (cmd.equals("cacheSingle")) {
    cacheSingle();
  }
 else   if (cmd.equals("gc")) {
    gc();
  }
 else   if (cmd.equals("reIndex")) {
    reIndex(actionRequest);
  }
 else   if (cmd.equals("shutdown")) {
    shutdown(actionRequest);
  }
 else   if (cmd.equals("threadDump")) {
    threadDump();
  }
 else   if (cmd.equals("updateLogLevels")) {
    updateLogLevels(actionRequest);
  }
 else   if (cmd.equals("updateOpenOffice")) {
    updateOpenOffice(actionRequest,preferences);
  }
  sendRedirect(actionRequest,actionResponse);
}
