{
  Thread[] threads=new Thread[group.activeCount()];
  group.enumerate(threads,false);
  for (int i=0; i < threads.length && threads[i] != null; i++) {
    Thread thread=threads[i];
    sb.append(StringPool.QUOTE);
    sb.append(thread.getName());
    sb.append(StringPool.QUOTE);
    if (thread.getThreadGroup() != null) {
      sb.append(StringPool.SPACE);
      sb.append(StringPool.OPEN_PARENTHESIS);
      sb.append(thread.getThreadGroup().getName());
      sb.append(StringPool.CLOSE_PARENTHESIS);
    }
    sb.append(", priority=" + thread.getPriority());
    sb.append("\n");
  }
  ThreadGroup[] groups=new ThreadGroup[group.activeGroupCount()];
  group.enumerate(groups,false);
  for (int i=0; i < groups.length && groups[i] != null; i++) {
    jvm4ThreadDump(sb,groups[i]);
  }
}
