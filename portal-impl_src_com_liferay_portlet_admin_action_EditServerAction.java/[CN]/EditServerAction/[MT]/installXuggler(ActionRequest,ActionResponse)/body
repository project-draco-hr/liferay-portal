{
  HttpServletRequest request=PortalUtil.getHttpServletRequest(actionRequest);
  HttpSession session=request.getSession();
  XugglerInstallStatus xugglerInstallStatus=new XugglerInstallStatus();
  session.setAttribute(WebKeys.XUGGLER_INSTALL_STATUS,xugglerInstallStatus);
  String jarName=ParamUtil.getString(actionRequest,"jarName");
  try {
    XugglerUtil.installNativeLibraries(jarName,xugglerInstallStatus);
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    jsonObject.put("success",Boolean.TRUE);
    writeJSON(actionRequest,actionResponse,jsonObject);
  }
 catch (  Exception e) {
    JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
    jsonObject.put("exception",e.getMessage());
    jsonObject.put("success",Boolean.FALSE);
    writeJSON(actionRequest,actionResponse,jsonObject);
  }
 finally {
    session.removeAttribute(WebKeys.XUGGLER_INSTALL_STATUS);
  }
}
