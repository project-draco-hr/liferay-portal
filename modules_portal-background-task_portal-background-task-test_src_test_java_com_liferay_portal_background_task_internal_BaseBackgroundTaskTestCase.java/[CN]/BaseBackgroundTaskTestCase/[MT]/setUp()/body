{
  backgroundTaskThreadLocalManagerImpl=new BackgroundTaskThreadLocalManagerImpl();
  PermissionCheckerFactory permissionCheckerFactory=Mockito.mock(PermissionCheckerFactory.class);
  PermissionChecker permissionChecker=Mockito.mock(PermissionChecker.class);
  Mockito.when(permissionCheckerFactory.create(Mockito.any(User.class))).thenReturn(permissionChecker);
  backgroundTaskThreadLocalManagerImpl.setPermissionCheckerFactory(permissionCheckerFactory);
  UserLocalService userLocalService=Mockito.mock(UserLocalService.class);
  Mockito.when(userLocalService.fetchUser(Mockito.anyLong())).thenReturn(Mockito.mock(User.class));
  backgroundTaskThreadLocalManagerImpl.setUserLocalService(userLocalService);
  _companyId=1234l;
  _clusterInvokeEnabled=true;
  _defaultLocale=Locale.US;
  _groupId=1234l;
  _siteDefaultLocale=Locale.CANADA;
  _themeDisplayLocale=Locale.FRANCE;
  _principalName=String.valueOf(1234l);
}
