{
  context.importPermissions("com.liferay.portlet.imagegallery",context.getSourceGroupId(),context.getScopeGroupId());
  Document document=SAXReaderUtil.read(data);
  Element rootElement=document.getRootElement();
  Element foldersElement=rootElement.element("folders");
  List<Element> folderElements=foldersElement.elements("folder");
  for (  Element folderElement : folderElements) {
    String path=folderElement.attributeValue("path");
    if (!context.isPathNotProcessed(path)) {
      continue;
    }
    IGFolder folder=(IGFolder)context.getZipEntryAsObject(path);
    importFolder(context,folder);
  }
  Element imagesElement=rootElement.element("images");
  List<Element> imageElements=imagesElement.elements("image");
  for (  Element imageElement : imageElements) {
    String path=imageElement.attributeValue("path");
    if (!context.isPathNotProcessed(path)) {
      continue;
    }
    IGImage image=(IGImage)context.getZipEntryAsObject(path);
    String binPath=imageElement.attributeValue("bin-path");
    importImage(context,image,binPath);
  }
  return null;
}
