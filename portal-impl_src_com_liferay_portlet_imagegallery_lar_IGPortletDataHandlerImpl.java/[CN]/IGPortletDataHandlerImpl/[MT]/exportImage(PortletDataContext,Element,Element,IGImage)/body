{
  if (!context.isWithinDateRange(image.getModifiedDate())) {
    return;
  }
  String path=getImagePath(context,image);
  Element imageEl=imagesEl.addElement("image");
  imageEl.addAttribute("path",path);
  imageEl.addAttribute("bin-path",getImageBinPath(context,image));
  if (context.isPathNotProcessed(path)) {
    if (context.getBooleanParameter(_NAMESPACE,"tags")) {
      context.addTagsEntries(IGImage.class,image.getImageId());
    }
    image.setUserUuid(image.getUserUuid());
    Image largeImage=ImageUtil.findByPrimaryKey(image.getLargeImageId());
    image.setImageType(largeImage.getType());
    context.addZipEntry(getImageBinPath(context,image),largeImage.getTextObj());
    context.addZipEntry(path,image);
  }
  exportParentFolder(context,foldersEl,image.getFolderId());
}
