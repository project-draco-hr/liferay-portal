{
switch (templateContextType) {
case EMPTY:
    return new VelocityTemplate(templateId,templateContent,errorTemplateId,errorTemplateContent,null,_velocityEngine,_templateContextHelper);
case RESTRICTED:
  return new RestrictedTemplate(new VelocityTemplate(templateId,templateContent,errorTemplateId,errorTemplateContent,_restrictedContext,_velocityEngine,_templateContextHelper),_templateContextHelper.getRestrictedVariables());
case STANDARD:
return new VelocityTemplate(templateId,templateContent,errorTemplateId,errorTemplateContent,_standardContext,_velocityEngine,_templateContextHelper);
}
return null;
}
