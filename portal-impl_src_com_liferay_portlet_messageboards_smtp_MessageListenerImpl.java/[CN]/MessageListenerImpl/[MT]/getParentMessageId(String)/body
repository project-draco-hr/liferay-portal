{
  int pos=recipient.indexOf(StringPool.AT);
  String target=recipient.substring(MBUtil.SMTP_PORTLET_PREFIX.length(),pos);
  String[] parts=StringUtil.split(target,".");
  long messageId=-1;
  if (parts.length == 2) {
    messageId=GetterUtil.getLong(parts[1]);
  }
  return messageId;
}
