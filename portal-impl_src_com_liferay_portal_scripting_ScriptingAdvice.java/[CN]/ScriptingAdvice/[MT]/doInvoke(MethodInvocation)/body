{
  ScriptingRequest scriptingRequest=new ScriptingRequest(methodInvocation);
  Message message=new Message();
  message.setPayload(scriptingRequest);
  if (scriptingRequest.hasReturnValue()) {
    ScriptingResultContainer scriptingResultContainer=(ScriptingResultContainer)MessageBusUtil.sendSynchronousMessage(DestinationNames.SCRIPTING,message);
    if (scriptingResultContainer.hasError()) {
      throw scriptingResultContainer.getScriptingException();
    }
 else {
      return scriptingResultContainer.getResult();
    }
  }
 else {
    MessageBusUtil.sendMessage(DestinationNames.SCRIPTING,message);
    return null;
  }
}
