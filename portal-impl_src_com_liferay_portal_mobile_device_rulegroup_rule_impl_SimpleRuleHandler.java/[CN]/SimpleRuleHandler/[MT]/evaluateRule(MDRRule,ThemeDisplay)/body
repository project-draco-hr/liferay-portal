{
  Device device=themeDisplay.getDevice();
  if ((device == null) || Validator.isNull(device.getOS())) {
    return false;
  }
  UnicodeProperties typeSettingsProperties=mdrRule.getTypeSettingsProperties();
  String os=typeSettingsProperties.get(PROPERTY_OS);
  if (Validator.isNotNull(os)) {
    String[] operatingSystems=StringUtil.split(os);
    if (!ArrayUtil.contains(operatingSystems,device.getOS())) {
      return false;
    }
  }
  String tablet=typeSettingsProperties.get(PROPERTY_TABLET);
  if (Validator.isNotNull(tablet)) {
    boolean tabletBoolean=GetterUtil.getBoolean(tablet);
    if (tabletBoolean != device.isTablet()) {
      return false;
    }
  }
  Dimensions screenPhysicalSize=device.getScreenPhysicalSize();
  if (!isValidValue(screenPhysicalSize.getHeight(),typeSettingsProperties.get(PROPERTY_SCREEN_PHYSICAL_HEIGHT_MIN),typeSettingsProperties.get(PROPERTY_SCREEN_PHYSICAL_HEIGHT_MAX))) {
    return false;
  }
  if (!isValidValue(screenPhysicalSize.getWidth(),typeSettingsProperties.get(PROPERTY_SCREEN_PHYSICAL_WIDTH_MIN),typeSettingsProperties.get(PROPERTY_SCREEN_PHYSICAL_WIDTH_MAX))) {
    return false;
  }
  Dimensions screenResolution=device.getScreenResolution();
  if (!isValidValue(screenResolution.getHeight(),typeSettingsProperties.get(PROPERTY_SCREEN_RESOLUTION_HEIGHT_MIN),typeSettingsProperties.get(PROPERTY_SCREEN_RESOLUTION_HEIGHT_MAX))) {
    return false;
  }
  if (!isValidValue(screenResolution.getWidth(),typeSettingsProperties.get(PROPERTY_SCREEN_RESOLUTION_WIDTH_MIN),typeSettingsProperties.get(PROPERTY_SCREEN_RESOLUTION_WIDTH_MAX))) {
    return false;
  }
  return true;
}
