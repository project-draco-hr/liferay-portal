{
  Session session=null;
  try {
    if (shoppingItemField.isNew() || shoppingItemField.isModified()) {
      session=openSession();
      if (shoppingItemField.isNew()) {
        ShoppingItemFieldHBM shoppingItemFieldHBM=new ShoppingItemFieldHBM(shoppingItemField.getItemFieldId(),shoppingItemField.getItemId(),shoppingItemField.getName(),shoppingItemField.getValues(),shoppingItemField.getDescription());
        session.save(shoppingItemFieldHBM);
        session.flush();
      }
 else {
        ShoppingItemFieldHBM shoppingItemFieldHBM=(ShoppingItemFieldHBM)session.get(ShoppingItemFieldHBM.class,shoppingItemField.getPrimaryKey());
        if (shoppingItemFieldHBM != null) {
          shoppingItemFieldHBM.setItemId(shoppingItemField.getItemId());
          shoppingItemFieldHBM.setName(shoppingItemField.getName());
          shoppingItemFieldHBM.setValues(shoppingItemField.getValues());
          shoppingItemFieldHBM.setDescription(shoppingItemField.getDescription());
          session.flush();
        }
 else {
          shoppingItemFieldHBM=new ShoppingItemFieldHBM(shoppingItemField.getItemFieldId(),shoppingItemField.getItemId(),shoppingItemField.getName(),shoppingItemField.getValues(),shoppingItemField.getDescription());
          session.save(shoppingItemFieldHBM);
          session.flush();
        }
      }
      shoppingItemField.setNew(false);
      shoppingItemField.setModified(false);
      shoppingItemField.protect();
      ShoppingItemFieldPool.update(shoppingItemField.getPrimaryKey(),shoppingItemField);
    }
    return shoppingItemField;
  }
 catch (  HibernateException he) {
    throw new SystemException(he);
  }
 finally {
    closeSession(session);
  }
}
