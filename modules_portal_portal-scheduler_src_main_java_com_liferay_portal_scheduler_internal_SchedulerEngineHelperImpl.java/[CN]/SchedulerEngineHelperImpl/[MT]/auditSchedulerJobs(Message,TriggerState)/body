{
  if (!_schedulerEngineHelperConfiguration.auditSchedulerJobEnabled() || (_auditRouter == null)) {
    return;
  }
  try {
    AuditMessage auditMessage=new AuditMessage(SchedulerEngine.SCHEDULER,CompanyConstants.SYSTEM,0,StringPool.BLANK,SchedulerEngine.class.getName(),"0",triggerState.toString(),new Date(),_jsonFactory.createJSONObject(_jsonFactory.serialize(message)));
    auditMessage.setServerName(InetAddressUtil.getLocalHostName());
    auditMessage.setServerPort(PortalUtil.getPortalLocalPort(false));
    _auditRouter.route(auditMessage);
  }
 catch (  Exception e) {
    throw new SchedulerException(e);
  }
}
