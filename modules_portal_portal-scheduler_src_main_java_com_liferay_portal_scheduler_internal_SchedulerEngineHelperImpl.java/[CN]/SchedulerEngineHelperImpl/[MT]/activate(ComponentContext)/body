{
  _schedulerEngineEnabled=GetterUtil.getBoolean(_props.get(PropsKeys.SCHEDULER_ENABLED));
  if (!_schedulerEngineEnabled) {
    return;
  }
  _auditMessageSchedulerJob=GetterUtil.getBoolean(_props.get(PropsKeys.AUDIT_MESSAGE_SCHEDULER_JOB));
  _bundleContext=componentContext.getBundleContext();
  if (_clusterLink.isEnabled()) {
    ClusterSchedulerEngine clusterSchedulerEngine=new ClusterSchedulerEngine(_schedulerEngine);
    clusterSchedulerEngine.setClusterMasterExecutor(_clusterMasterExecutor);
    clusterSchedulerEngine.setProps(_props);
    clusterSchedulerEngine.setSchedulerEngineHelper(this);
    _serviceRegistration=_bundleContext.registerService(IdentifiableOSGiService.class,clusterSchedulerEngine,new HashMapDictionary<String,Object>());
    _schedulerEngine=ClusterableProxyFactory.createClusterableProxy(clusterSchedulerEngine);
  }
  registerDestination(_bundleContext,DestinationConfiguration.DESTINATION_TYPE_PARALLEL,DestinationNames.SCHEDULER_DISPATCH);
  Destination scriptingDestination=registerDestination(_bundleContext,DestinationConfiguration.DESTINATION_TYPE_PARALLEL,DestinationNames.SCHEDULER_SCRIPTING);
  SchedulerEventMessageListenerWrapper schedulerEventMessageListenerWrapper=new SchedulerEventMessageListenerWrapper();
  schedulerEventMessageListenerWrapper.setMessageListener(new ScriptingMessageListener());
  scriptingDestination.register(schedulerEventMessageListenerWrapper);
  _serviceTracker=ServiceTrackerFactory.open(_bundleContext,"(objectClass=" + SchedulerEventMessageListener.class.getName() + ")",new SchedulerEventMessageListenerServiceTrackerCustomizer());
}
