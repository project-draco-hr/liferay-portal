{
  if (!_schedulerEngineEnabled) {
    return;
  }
  if (_bundleContext == null) {
    return;
  }
  if (_serviceTracker != null) {
    _serviceTracker.close();
  }
  try {
    shutdown();
  }
 catch (  SchedulerException e) {
    if (_log.isWarnEnabled()) {
      _log.warn("Unable to shutdown scheduler",e);
    }
  }
  if (_serviceRegistration != null) {
    _serviceRegistration.unregister();
  }
  for (  ServiceRegistration<Destination> serviceRegistration : _destinationServiceRegistrations) {
    Destination destination=_bundleContext.getService(serviceRegistration.getReference());
    serviceRegistration.unregister();
    destination.destroy();
  }
  for (  ServiceRegistration<SchedulerEventMessageListener> serviceRegistration : _serviceRegistrations.values()) {
    serviceRegistration.unregister();
  }
  _bundleContext=null;
}
