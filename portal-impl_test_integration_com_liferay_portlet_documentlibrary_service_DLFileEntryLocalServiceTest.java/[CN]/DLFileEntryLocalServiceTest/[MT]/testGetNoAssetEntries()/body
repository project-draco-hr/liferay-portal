{
  DLFolder dlFolder=DLTestUtil.addDLFolder(_group.getGroupId());
  byte[] bytes=RandomTestUtil.randomBytes();
  InputStream is=new ByteArrayInputStream(bytes);
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(dlFolder.getGroupId());
  DLAppLocalServiceUtil.addFileEntry(TestPropsValues.getUserId(),dlFolder.getRepositoryId(),dlFolder.getFolderId(),RandomTestUtil.randomString(),ContentTypes.TEXT_PLAIN,RandomTestUtil.randomString(),StringPool.BLANK,StringPool.BLANK,is,bytes.length,serviceContext);
  is=new ByteArrayInputStream(bytes);
  FileEntry fileEntry=DLAppLocalServiceUtil.addFileEntry(TestPropsValues.getUserId(),dlFolder.getRepositoryId(),dlFolder.getFolderId(),RandomTestUtil.randomString(),ContentTypes.TEXT_PLAIN,RandomTestUtil.randomString(),StringPool.BLANK,StringPool.BLANK,is,bytes.length,serviceContext);
  AssetEntry assetEntry=AssetEntryLocalServiceUtil.fetchEntry(DLFileEntry.class.getName(),fileEntry.getFileEntryId());
  Assert.assertNotNull(assetEntry);
  AssetEntryLocalServiceUtil.deleteAssetEntry(assetEntry);
  List<DLFileEntry> dlFileEntries=DLFileEntryLocalServiceUtil.getNoAssetFileEntries();
  Assert.assertEquals(1,dlFileEntries.size());
  Assert.assertEquals(fileEntry,dlFileEntries.get(0));
}
