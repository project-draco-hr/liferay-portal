{
  DLFolder dlFolder=DLTestUtil.addDLFolder(_group.getGroupId());
  Map<String,DDMFormValues> ddmFormValuesMap=Collections.emptyMap();
  InputStream inputStream=new ByteArrayInputStream(new byte[0]);
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  DLFileEntry dlFileEntry=addAndApproveFileEntry(dlFolder,ddmFormValuesMap,inputStream,serviceContext);
  DLStoreUtil.updateFile(dlFileEntry.getCompanyId(),dlFileEntry.getRepositoryId(),dlFileEntry.getName(),dlFileEntry.getExtension(),false,"2.0",StringUtil.randomString(),inputStream);
  dlFileEntry=updateAndApproveDLFileEntry(dlFileEntry,inputStream,ddmFormValuesMap,serviceContext);
  dlFileEntry=DLFileEntryLocalServiceUtil.getFileEntry(dlFileEntry.getFileEntryId());
  Assert.assertEquals("2.0",dlFileEntry.getVersion());
}
