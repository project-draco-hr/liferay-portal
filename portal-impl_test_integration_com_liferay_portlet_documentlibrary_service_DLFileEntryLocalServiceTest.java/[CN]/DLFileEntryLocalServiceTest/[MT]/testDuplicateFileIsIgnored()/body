{
  DLFolder dlFolder=DLTestUtil.addDLFolder(_group.getGroupId());
  ServiceContext serviceContext=ServiceContextTestUtil.getServiceContext(_group.getGroupId());
  InputStream inputStream=new ByteArrayInputStream(new byte[0]);
  Map<String,DDMFormValues> ddmFormValuesMap=Collections.emptyMap();
  DLFileEntry fileEntry=addAndApproveFileEntry(dlFolder,ddmFormValuesMap,inputStream,serviceContext);
  DLStoreUtil.updateFile(fileEntry.getCompanyId(),fileEntry.getRepositoryId(),fileEntry.getName(),fileEntry.getExtension(),false,"2.0",StringUtil.randomString(),inputStream);
  fileEntry=updateAndApproveFileEntry(fileEntry,inputStream,ddmFormValuesMap,serviceContext);
  fileEntry=DLFileEntryLocalServiceUtil.getFileEntry(fileEntry.getFileEntryId());
  Assert.assertEquals("2.0",fileEntry.getVersion());
}
