{
  super.doBeforeExecute();
  File bndRootFile=getBndRootFile();
  File rootDir=bndRootFile.getParentFile();
  if (_classpath == null) {
    throw new BuildException("classpath is null");
  }
  if ((_file == null) || !_file.exists() || _file.isDirectory()) {
    if (_file != null) {
      project.log("File is either missing or is a directory " + _file.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("file is invalid");
  }
  if (_outputPath == null) {
    throw new BuildException("outputPath is invalid");
  }
  _reportLevel=project.getProperty("baseline.jar.report.level");
  if (_reportLevel == null) {
    _reportLevel="";
  }
  _reportLevelIsDiff=_reportLevel.equals("diff");
  _reportLevelIsOff=_reportLevel.equals("off");
  _reportLevelIsPersist=_reportLevel.equals("persist");
  _reportLevelIsStandard=_reportLevel.equals("standard");
  if (_reportLevelIsPersist) {
    _reportLevelIsDiff=true;
    File baselineReportsDir=new File(rootDir,getBaselineResportsDirName());
    if (!baselineReportsDir.exists() && !baselineReportsDir.mkdir()) {
      throw new BuildException("Unable tocreate " + baselineReportsDir.getName());
    }
    _logFile=new File(baselineReportsDir,_outputPath.getName() + ".log");
    if (_logFile.exists()) {
      _logFile.delete();
    }
  }
  _reportOnlyDirtyPackages=Boolean.parseBoolean(project.getProperty("baseline.jar.report.only.dirty.packages"));
  if ((_sourcePath == null) || !_sourcePath.exists() || !_sourcePath.isDirectory()) {
    if (_sourcePath != null) {
      project.log("sourcePath is either missing or is not a directory " + _sourcePath.getAbsolutePath(),Project.MSG_ERR);
    }
    throw new BuildException("sourcePath is not set correctly");
  }
  for (  String fileName : _classpath.list()) {
    _classpathFiles.add(new File(fileName.replace('\\','/')));
  }
}
