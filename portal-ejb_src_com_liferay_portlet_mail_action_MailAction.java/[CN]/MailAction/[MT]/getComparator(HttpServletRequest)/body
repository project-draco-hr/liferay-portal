{
  String sortBy=ParamUtil.getString(req,"sortBy");
  boolean asc=ParamUtil.getBoolean(req,"asc");
  Comparator comparator;
  if (sortBy.equals("state")) {
    comparator=new StateComparator(asc);
  }
 else   if (sortBy.equals("name")) {
    comparator=new RecipientComparator(asc);
  }
 else   if (sortBy.equals("subject")) {
    comparator=new SubjectComparator(asc);
  }
 else   if (sortBy.equals("size")) {
    comparator=new SizeComparator(asc);
  }
 else {
    comparator=new DateComparator(asc);
  }
  return comparator;
}
