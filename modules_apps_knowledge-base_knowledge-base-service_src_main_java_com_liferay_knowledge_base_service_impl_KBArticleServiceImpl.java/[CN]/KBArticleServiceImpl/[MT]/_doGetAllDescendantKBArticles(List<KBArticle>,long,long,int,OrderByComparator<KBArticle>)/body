{
  List<KBArticle> curKBArticles=null;
  if (status == WorkflowConstants.STATUS_ANY) {
    curKBArticles=kbArticlePersistence.filterFindByG_P_L(groupId,resourcePrimKey,true,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
 else   if (status == WorkflowConstants.STATUS_APPROVED) {
    curKBArticles=kbArticlePersistence.findByG_P_M(groupId,resourcePrimKey,true,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
 else {
    curKBArticles=kbArticlePersistence.findByG_P_S(groupId,resourcePrimKey,status,QueryUtil.ALL_POS,QueryUtil.ALL_POS,orderByComparator);
  }
  for (  KBArticle curKBArticle : curKBArticles) {
    kbArticles.add(curKBArticle);
    _doGetAllDescendantKBArticles(kbArticles,groupId,curKBArticle.getResourcePrimKey(),status,orderByComparator);
  }
}
