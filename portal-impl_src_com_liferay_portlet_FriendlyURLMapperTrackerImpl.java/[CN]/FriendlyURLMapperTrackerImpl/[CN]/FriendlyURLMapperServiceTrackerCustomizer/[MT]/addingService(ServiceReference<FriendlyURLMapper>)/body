{
  Registry registry=RegistryUtil.getRegistry();
  FriendlyURLMapper friendlyURLMapper=registry.getService(serviceReference);
  try {
    friendlyURLMapper.setMapping(_portlet.getFriendlyURLMapping());
    friendlyURLMapper.setPortletId(_portlet.getPortletId());
    friendlyURLMapper.setPortletInstanceable(_portlet.isInstanceable());
    friendlyURLMapper.setRouter(newFriendlyURLRouter());
  }
 catch (  Exception e) {
    _log.error(e,e);
    return null;
  }
  return friendlyURLMapper;
}
