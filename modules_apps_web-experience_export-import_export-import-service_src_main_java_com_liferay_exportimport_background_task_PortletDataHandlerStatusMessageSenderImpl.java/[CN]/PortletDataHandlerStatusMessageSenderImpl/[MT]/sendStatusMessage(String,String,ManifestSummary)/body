{
  Message message=new Message();
  init(message,messageType,manifestSummary);
  message.put("portletId",portletId);
  PortletDataHandler portletDataHandler=_portletDataHandlerProvider.provide(portletId);
  if (portletDataHandler == null) {
    _backgroundTaskStatusMessageSender.sendBackgroundTaskStatusMessage(message);
    return;
  }
  long portletModelAdditionCountersTotal=portletDataHandler.getExportModelCount(manifestSummary);
  if (portletModelAdditionCountersTotal < 0) {
    portletModelAdditionCountersTotal=0;
  }
  message.put("portletModelAdditionCountersTotal",portletModelAdditionCountersTotal);
  _backgroundTaskStatusMessageSender.sendBackgroundTaskStatusMessage(message);
}
