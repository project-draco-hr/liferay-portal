{
  String path=(String)serviceReference.getProperty(_WEBSOCKET_PATH);
  if ((path == null) || path.isEmpty()) {
    return null;
  }
  final ServiceObjects<Endpoint> serviceObjects=_bundleContext.getServiceObjects(serviceReference);
  ServerEndpointConfigWrapper serverEndpointConfig=_webSocketEndpointRegistrations.get(path);
  if (serverEndpointConfig == null) {
    serverEndpointConfig=new ServerEndpointConfigWrapper(path,_log);
  }
  serverEndpointConfig.setConfigurator(serviceReference,new ServiceObjectsConfigurator(serviceObjects,_log));
  return serverEndpointConfig;
}
