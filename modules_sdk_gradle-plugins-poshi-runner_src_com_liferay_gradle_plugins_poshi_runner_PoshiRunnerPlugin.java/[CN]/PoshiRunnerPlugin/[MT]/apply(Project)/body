{
  GradleUtil.applyPlugin(project,BasePlugin.class);
  final PoshiRunnerExtension poshiRunnerExtension=GradleUtil.addExtension(project,"poshiRunner",PoshiRunnerExtension.class);
  addConfigurationPoshiRunner(project,poshiRunnerExtension);
  addConfigurationSikuli(project,poshiRunnerExtension);
  addTaskExpandPoshiRunner(project);
  addTaskRunPoshi(project);
  addTaskValidatePoshi(project);
  addTaskWritePoshiProperties(project);
  project.afterEvaluate(new Action<Project>(){
    @Override public void execute(    Project project){
      configureTaskRunPoshi(project,poshiRunnerExtension);
      configureTaskValidatePoshi(project,poshiRunnerExtension);
      configureTaskWritePoshiProperties(project,poshiRunnerExtension);
    }
  }
);
}
