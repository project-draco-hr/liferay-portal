{
  String entriesFromURL=ParamUtil.getString(req,"entries");
  String[] entriesFromURLArray=StringUtil.split(entriesFromURL);
  if (_log.isDebugEnabled()) {
    _log.debug("Entries from friendly URL " + entriesFromURL);
  }
  Collection<String> entriesFromSession=TagsCompilerSessionUtil.getEntries(req);
  String[] entriesFromSessionArray=entriesFromSession.toArray(new String[entriesFromSession.size()]);
  if (_log.isDebugEnabled()) {
    _log.debug("Entries from session " + StringUtil.merge(entriesFromSessionArray));
  }
  String[] entries=ArrayUtil.append(entriesFromURLArray,entriesFromSessionArray);
  req.setAttribute(WebKeys.TAGS_COMPILER_ENTRIES,entries);
  HttpServletRequest httpReq=PortalUtil.getHttpServletRequest(req);
  ThemeDisplay themeDisplay=(ThemeDisplay)req.getAttribute(WebKeys.THEME_DISPLAY);
  RenderParametersPool.clear(httpReq,themeDisplay.getPlid(),PortletKeys.TAGS_COMPILER);
}
