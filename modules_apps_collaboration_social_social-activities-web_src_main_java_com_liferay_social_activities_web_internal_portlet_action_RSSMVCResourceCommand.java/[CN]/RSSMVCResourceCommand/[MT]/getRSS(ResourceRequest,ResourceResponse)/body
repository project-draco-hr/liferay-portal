{
  ThemeDisplay themeDisplay=(ThemeDisplay)resourceRequest.getAttribute(WebKeys.THEME_DISPLAY);
  String tabs1=ParamUtil.getString(resourceRequest,"tabs1","all");
  String feedTitle=ParamUtil.getString(resourceRequest,"feedTitle");
  String format=ParamUtil.getString(resourceRequest,"type",RSSUtil.FORMAT_DEFAULT);
  double version=ParamUtil.getDouble(resourceRequest,"version",RSSUtil.VERSION_DEFAULT);
  String displayStyle=ParamUtil.getString(resourceRequest,"displayStyle",RSSUtil.DISPLAY_STYLE_DEFAULT);
  int max=ParamUtil.getInteger(resourceRequest,"max",SearchContainer.DEFAULT_DELTA);
  Group group=_groupLocalService.getGroup(themeDisplay.getScopeGroupId());
  SocialActivitiesQueryHelper.Scope scope=SocialActivitiesQueryHelper.Scope.fromValue(tabs1);
  List<SocialActivitySet> socialActivitySets=_socialActivitiesQueryHelper.getSocialActivitySets(group,themeDisplay.getLayout(),scope,0,max);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(resourceRequest);
  String rss=exportToRSS(resourceRequest,resourceResponse,feedTitle,null,format,version,displayStyle,socialActivitySets,serviceContext);
  return rss.getBytes(StringPool.UTF8);
}
