{
  String pql=value1 + " " + operator+ " "+ value2;
  PQLEntity pqlEntity1=PQLEntityFactory.newPQLEntity(value1);
  PQLOperator pqlOperator=PQLOperatorFactory.newPQLOperator(operator);
  PQLEntity pqlEntity2=PQLEntityFactory.newPQLEntity(value2);
  String actualError=null;
  try {
    Object pqlResult=pqlOperator.getPQLResult(pqlEntity1,pqlEntity2,new Properties());
  }
 catch (  Exception e) {
    actualError=e.getMessage();
    if (!actualError.equals(expectedError)) {
      StringBuilder sb=new StringBuilder();
      sb.append("Mismatched error within the following PQL:\n");
      sb.append(pql);
      sb.append(value2);
      sb.append("\n* Actual:   ");
      sb.append(actualError);
      sb.append("\n* Expected: ");
      sb.append(expectedError);
      throw new Exception(sb.toString(),e);
    }
  }
 finally {
    if (actualError == null) {
      throw new Exception("No error thrown for the following PQL: " + pql);
    }
  }
}
