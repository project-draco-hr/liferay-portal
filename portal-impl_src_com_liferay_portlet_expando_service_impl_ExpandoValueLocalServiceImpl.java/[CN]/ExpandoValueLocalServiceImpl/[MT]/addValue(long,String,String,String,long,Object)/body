{
  ExpandoColumn column=expandoColumnLocalService.getColumn(companyId,className,tableName,columnName);
  int type=column.getType();
  Class<?> dataClass=data.getClass();
  if (type != ExpandoColumnConstants.STRING && dataClass.equals(String.class)) {
    data=ExpandoColumnConstants.getSerializable(type,data.toString());
  }
  if (type == ExpandoColumnConstants.BOOLEAN) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,((Boolean)data).booleanValue());
  }
 else   if (type == ExpandoColumnConstants.BOOLEAN_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(boolean[])data);
  }
 else   if (type == ExpandoColumnConstants.DATE) {
    Date date=TypeConverterManager.convertType(data,Date.class);
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,date);
  }
 else   if (type == ExpandoColumnConstants.DATE_ARRAY) {
    Date[] dates=TypeConverterManager.convertType(data,Date[].class);
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,dates);
  }
 else   if (type == ExpandoColumnConstants.DOUBLE) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,((Double)data).doubleValue());
  }
 else   if (type == ExpandoColumnConstants.DOUBLE_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(double[])data);
  }
 else   if (type == ExpandoColumnConstants.FLOAT) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,((Float)data).floatValue());
  }
 else   if (type == ExpandoColumnConstants.FLOAT_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(float[])data);
  }
 else   if (type == ExpandoColumnConstants.INTEGER) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,((Integer)data).intValue());
  }
 else   if (type == ExpandoColumnConstants.INTEGER_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(int[])data);
  }
 else   if (type == ExpandoColumnConstants.LONG) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,((Long)data).longValue());
  }
 else   if (type == ExpandoColumnConstants.LONG_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(long[])data);
  }
 else   if (type == ExpandoColumnConstants.NUMBER) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(Number)data);
  }
 else   if (type == ExpandoColumnConstants.NUMBER_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(Number[])data);
  }
 else   if (type == ExpandoColumnConstants.SHORT) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,((Short)data).shortValue());
  }
 else   if (type == ExpandoColumnConstants.SHORT_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(short[])data);
  }
 else   if (type == ExpandoColumnConstants.STRING_ARRAY) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(String[])data);
  }
 else   if (type == ExpandoColumnConstants.STRING) {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(String)data);
  }
 else {
    return expandoValueLocalService.addValue(companyId,className,tableName,columnName,classPK,(Map<Locale,?>)data,Locale.getDefault());
  }
}
