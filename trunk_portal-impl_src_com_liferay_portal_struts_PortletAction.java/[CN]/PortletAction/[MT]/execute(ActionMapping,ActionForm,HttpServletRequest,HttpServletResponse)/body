{
  PortletConfig portletConfig=(PortletConfig)request.getAttribute(JavaConstants.JAVAX_PORTLET_CONFIG);
  PortletRequest portletRequest=(PortletRequest)request.getAttribute(JavaConstants.JAVAX_PORTLET_REQUEST);
  PortletResponse portletResponse=(PortletResponse)request.getAttribute(JavaConstants.JAVAX_PORTLET_RESPONSE);
  Boolean strutsExecute=(Boolean)request.getAttribute(WebKeys.PORTLET_STRUTS_EXECUTE);
  if ((strutsExecute != null) && strutsExecute.booleanValue()) {
    return strutsExecute(mapping,form,request,response);
  }
 else   if (portletRequest instanceof RenderRequest) {
    return render(mapping,form,portletConfig,(RenderRequest)portletRequest,(RenderResponse)portletResponse);
  }
 else {
    serveResource(mapping,form,portletConfig,(ResourceRequest)portletRequest,(ResourceResponse)portletResponse);
    return mapping.findForward(ActionConstants.COMMON_NULL);
  }
}
