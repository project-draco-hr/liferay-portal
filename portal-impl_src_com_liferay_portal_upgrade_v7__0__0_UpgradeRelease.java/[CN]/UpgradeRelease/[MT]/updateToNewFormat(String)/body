{
  Connection con=null;
  PreparedStatement ps=null;
  ResultSet rs=null;
  try {
    con=DataAccess.getUpgradeOptimizedConnection();
    ps=con.prepareStatement("update Release_ set schemaVersion = ? where buildNumber = ?");
    char[] chars=oldFormattedVersion.toCharArray();
    StringBundler sb=new StringBundler(2 * chars.length);
    int i=0;
    for (; i < chars.length - 1; i++) {
      sb.append(chars[i]);
      sb.append(".");
    }
    sb.append(chars[i]);
    ps.setString(1,sb.toString());
    ps.setString(2,oldFormattedVersion);
    ps.execute();
  }
  finally {
    DataAccess.cleanUp(con,ps,rs);
  }
}
