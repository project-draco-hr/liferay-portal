{
  try {
    long groupId=ParamUtil.getLong(actionRequest,"groupId");
    String articleId=ParamUtil.getString(actionRequest,"articleId");
    String targetExtension=ParamUtil.getString(actionRequest,"targetExtension");
    PortletPreferences portletPreferences=actionRequest.getPreferences();
    String[] allowedExtensions=StringUtil.split(portletPreferences.getValue("extensions",null));
    String languageId=LanguageUtil.getLanguageId(actionRequest);
    PortletRequestModel portletRequestModel=new PortletRequestModel(actionRequest,actionResponse);
    ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
    HttpServletRequest request=PortalUtil.getHttpServletRequest(actionRequest);
    HttpServletResponse response=PortalUtil.getHttpServletResponse(actionResponse);
    getFile(groupId,articleId,targetExtension,allowedExtensions,languageId,portletRequestModel,themeDisplay,request,response);
    setForward(actionRequest,ActionConstants.COMMON_NULL);
  }
 catch (  Exception e) {
    PortalUtil.sendError(e,actionRequest,actionResponse);
  }
}
