{
  JSONObject jsonObject=_jsonFactory.createJSONObject();
  JSONObject typesJSONObject=_jsonFactory.createJSONObject();
  JSONObject variablesJSONObject=_jsonFactory.createJSONObject();
  for (  TemplateVariableDefinition templateVariableDefinition : getAutocompleteTemplateVariableDefinitions(request,language)) {
    Class<?> clazz=templateVariableDefinition.getClazz();
    if (clazz == null) {
      variablesJSONObject.put(templateVariableDefinition.getName(),StringPool.BLANK);
    }
 else {
      if (!typesJSONObject.has(clazz.getName())) {
        typesJSONObject.put(clazz.getName(),getAutocompleteClassJSONObject(clazz));
      }
      variablesJSONObject.put(templateVariableDefinition.getName(),getAutocompleteVariableJSONObject(clazz));
    }
  }
  jsonObject.put("types",typesJSONObject);
  jsonObject.put("variables",variablesJSONObject);
  return jsonObject.toString();
}
