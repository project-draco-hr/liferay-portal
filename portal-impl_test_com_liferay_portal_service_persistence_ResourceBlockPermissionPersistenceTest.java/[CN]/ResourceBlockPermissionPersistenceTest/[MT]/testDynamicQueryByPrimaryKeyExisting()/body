{
  ResourceBlockPermission newResourceBlockPermission=addResourceBlockPermission();
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(ResourceBlockPermission.class,ResourceBlockPermission.class.getClassLoader());
  dynamicQuery.add(RestrictionsFactoryUtil.eq("id.resourceBlockId",newResourceBlockPermission.getResourceBlockId()));
  dynamicQuery.add(RestrictionsFactoryUtil.eq("id.roleId",newResourceBlockPermission.getRoleId()));
  List<ResourceBlockPermission> result=_persistence.findWithDynamicQuery(dynamicQuery);
  assertEquals(1,result.size());
  ResourceBlockPermission existingResourceBlockPermission=result.get(0);
  assertEquals(existingResourceBlockPermission,newResourceBlockPermission);
}
