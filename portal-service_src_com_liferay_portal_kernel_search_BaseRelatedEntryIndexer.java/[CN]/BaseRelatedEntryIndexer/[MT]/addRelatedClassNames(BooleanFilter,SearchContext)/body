{
  searchContext.setAttribute("relatedClassName",Boolean.TRUE);
  String[] relatedEntryClassNames=(String[])searchContext.getAttribute("relatedEntryClassNames");
  if (ArrayUtil.isEmpty(relatedEntryClassNames)) {
    return;
  }
  BooleanFilter relatedFilters=new BooleanFilter();
  for (  String relatedEntryClassName : relatedEntryClassNames) {
    Indexer indexer=IndexerRegistryUtil.getIndexer(relatedEntryClassName);
    if (indexer == null) {
      continue;
    }
    BooleanFilter relatedFilter=new BooleanFilter();
    indexer.postProcessContextBooleanFilter(relatedFilter,searchContext);
    for (    IndexerPostProcessor indexerPostProcessor : indexer.getIndexerPostProcessors()) {
      indexerPostProcessor.postProcessContextBooleanFilter(relatedFilter,searchContext);
    }
    postProcessContextQuery(relatedFilter,searchContext,indexer);
    relatedFilter.addRequiredTerm(Field.CLASS_NAME_ID,PortalUtil.getClassNameId(relatedEntryClassName));
    relatedFilters.add(relatedFilter,BooleanClauseOccur.SHOULD);
  }
  if (relatedFilters.hasClauses()) {
    contextFilter.add(relatedFilters,BooleanClauseOccur.MUST);
  }
  searchContext.setAttribute("relatedClassName",Boolean.FALSE);
}
